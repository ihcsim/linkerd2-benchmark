1.3.1-pre unknown go1.11.2
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
08:32:19 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 100.0 qps
08:32:19 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:32:29 I periodic.go:533> T001 ended after 10.000879546s : 250 calls. qps=24.997801328383282
08:32:29 I periodic.go:533> T003 ended after 10.000885384s : 250 calls. qps=24.997786735958858
08:32:29 I periodic.go:533> T000 ended after 10.000988784s : 250 calls. qps=24.997528284399284
08:32:29 I periodic.go:533> T002 ended after 10.000982028s : 250 calls. qps=24.997545171071078
Ended after 10.001301332s : 1000 calls. qps=99.987
Sleep times : count 996 avg 0.038813379 +/- 0.001073 min 0.025594908 max 0.039877966 sum 38.6581252
Aggregated Function Time : count 1000 avg 0.00087687067 +/- 0.0007234 min 0.000150035 max 0.013515947 sum 0.876870675
# range, mid point, percentile, count
>= 0.000150035 <= 0.0002 , 0.000175018 , 1.50, 15
> 0.0002 <= 0.0003 , 0.00025 , 9.00, 75
> 0.0003 <= 0.0004 , 0.00035 , 15.40, 64
> 0.0004 <= 0.0005 , 0.00045 , 19.20, 38
> 0.0005 <= 0.0006 , 0.00055 , 25.90, 67
> 0.0006 <= 0.0007 , 0.00065 , 35.70, 98
> 0.0007 <= 0.0008 , 0.00075 , 49.90, 142
> 0.0008 <= 0.0009 , 0.00085 , 66.60, 167
> 0.0009 <= 0.001 , 0.00095 , 76.40, 98
> 0.001 <= 0.0011 , 0.00105 , 83.20, 68
> 0.0011 <= 0.0012 , 0.00115 , 86.40, 32
> 0.0012 <= 0.0014 , 0.0013 , 92.00, 56
> 0.0014 <= 0.0016 , 0.0015 , 94.90, 29
> 0.0016 <= 0.0018 , 0.0017 , 96.10, 12
> 0.0018 <= 0.002 , 0.0019 , 96.40, 3
> 0.002 <= 0.0025 , 0.00225 , 97.60, 12
> 0.0025 <= 0.003 , 0.00275 , 98.50, 9
> 0.003 <= 0.0035 , 0.00325 , 99.20, 7
> 0.0045 <= 0.005 , 0.00475 , 99.40, 2
> 0.005 <= 0.006 , 0.0055 , 99.80, 4
> 0.006 <= 0.007 , 0.0065 , 99.90, 1
> 0.012 <= 0.0135159 , 0.012758 , 100.00, 1
# target 50% 0.000800599
# target 75% 0.000985714
# target 90% 0.00132857
# target 99% 0.00335714
# target 99.9% 0.007
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
Response Body/Total Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
All done 1000 calls (plus 4 warmup) 0.877 ms avg, 100.0 qps
Successfully wrote 4180 bytes of Json data to /data/2018-11-17-083219_http_baseline_100qps_10s_echo_0_0.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
08:32:29 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 100.0 qps
08:32:29 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:32:39 I periodic.go:533> T003 ended after 10.002708517s : 250 calls. qps=24.99323054101947
08:32:39 I periodic.go:533> T001 ended after 10.002974984s : 250 calls. qps=24.992564751974392
08:32:39 I periodic.go:533> T000 ended after 10.003120045s : 250 calls. qps=24.992202320411124
08:32:39 I periodic.go:533> T002 ended after 10.002921059s : 250 calls. qps=24.992699485023497
Ended after 10.00365631s : 1000 calls. qps=99.963
Sleep times : count 996 avg 0.03775119 +/- 0.00119 min 0.030284838 max 0.039600139 sum 37.6001853
Aggregated Function Time : count 1000 avg 0.0019244938 +/- 0.0009727 min 0.000358559 max 0.009250834 sum 1.92449379
# range, mid point, percentile, count
>= 0.000358559 <= 0.0004 , 0.00037928 , 0.20, 2
> 0.0004 <= 0.0005 , 0.00045 , 0.80, 6
> 0.0005 <= 0.0006 , 0.00055 , 4.70, 39
> 0.0006 <= 0.0007 , 0.00065 , 9.30, 46
> 0.0007 <= 0.0008 , 0.00075 , 12.60, 33
> 0.0008 <= 0.0009 , 0.00085 , 15.80, 32
> 0.0009 <= 0.001 , 0.00095 , 17.10, 13
> 0.001 <= 0.0011 , 0.00105 , 19.00, 19
> 0.0011 <= 0.0012 , 0.00115 , 21.20, 22
> 0.0012 <= 0.0014 , 0.0013 , 25.10, 39
> 0.0014 <= 0.0016 , 0.0015 , 30.60, 55
> 0.0016 <= 0.0018 , 0.0017 , 41.50, 109
> 0.0018 <= 0.002 , 0.0019 , 56.60, 151
> 0.002 <= 0.0025 , 0.00225 , 83.40, 268
> 0.0025 <= 0.003 , 0.00275 , 93.50, 101
> 0.003 <= 0.0035 , 0.00325 , 95.80, 23
> 0.0035 <= 0.004 , 0.00375 , 96.90, 11
> 0.004 <= 0.0045 , 0.00425 , 97.80, 9
> 0.0045 <= 0.005 , 0.00475 , 98.80, 10
> 0.005 <= 0.006 , 0.0055 , 99.20, 4
> 0.006 <= 0.007 , 0.0065 , 99.60, 4
> 0.008 <= 0.009 , 0.0085 , 99.90, 3
> 0.009 <= 0.00925083 , 0.00912542 , 100.00, 1
# target 50% 0.00191258
# target 75% 0.00234328
# target 90% 0.00282673
# target 99% 0.0055
# target 99.9% 0.009
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
Response Body/Total Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
All done 1000 calls (plus 4 warmup) 1.924 ms avg, 100.0 qps
Successfully wrote 4299 bytes of Json data to /data/2018-11-17-083229_http_linkerd_100qps_10s_echo_0_0.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
08:32:39 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 100.0 qps
08:32:39 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:32:49 I periodic.go:533> T000 ended after 10.002874251s : 250 calls. qps=24.992816437236247
08:32:49 I periodic.go:533> T002 ended after 10.002995056s : 250 calls. qps=24.992514601918643
08:32:49 I periodic.go:533> T001 ended after 10.00303866s : 250 calls. qps=24.99240565766243
08:32:49 I periodic.go:533> T003 ended after 10.003756335s : 250 calls. qps=24.990612688688604
Ended after 10.006744479s : 1000 calls. qps=99.933
Sleep times : count 996 avg 0.036933525 +/- 0.002239 min 0.015084997 max 0.039432947 sum 36.7857909
Aggregated Function Time : count 1000 avg 0.002564688 +/- 0.001681 min 0.000448906 max 0.023820814 sum 2.56468804
# range, mid point, percentile, count
>= 0.000448906 <= 0.0005 , 0.000474453 , 0.40, 4
> 0.0005 <= 0.0006 , 0.00055 , 0.60, 2
> 0.0006 <= 0.0007 , 0.00065 , 1.80, 12
> 0.0007 <= 0.0008 , 0.00075 , 5.30, 35
> 0.0008 <= 0.0009 , 0.00085 , 8.80, 35
> 0.0009 <= 0.001 , 0.00095 , 11.20, 24
> 0.001 <= 0.0011 , 0.00105 , 12.90, 17
> 0.0011 <= 0.0012 , 0.00115 , 15.40, 25
> 0.0012 <= 0.0014 , 0.0013 , 19.40, 40
> 0.0014 <= 0.0016 , 0.0015 , 22.20, 28
> 0.0016 <= 0.0018 , 0.0017 , 24.80, 26
> 0.0018 <= 0.002 , 0.0019 , 29.30, 45
> 0.002 <= 0.0025 , 0.00225 , 54.50, 252
> 0.0025 <= 0.003 , 0.00275 , 76.30, 218
> 0.003 <= 0.0035 , 0.00325 , 87.50, 112
> 0.0035 <= 0.004 , 0.00375 , 93.00, 55
> 0.004 <= 0.0045 , 0.00425 , 94.50, 15
> 0.0045 <= 0.005 , 0.00475 , 95.70, 12
> 0.005 <= 0.006 , 0.0055 , 97.30, 16
> 0.006 <= 0.007 , 0.0065 , 98.10, 8
> 0.007 <= 0.008 , 0.0075 , 98.40, 3
> 0.008 <= 0.009 , 0.0085 , 98.80, 4
> 0.009 <= 0.01 , 0.0095 , 99.40, 6
> 0.01 <= 0.012 , 0.011 , 99.50, 1
> 0.014 <= 0.016 , 0.015 , 99.70, 2
> 0.016 <= 0.018 , 0.017 , 99.90, 2
> 0.02 <= 0.0238208 , 0.0219104 , 100.00, 1
# target 50% 0.00241071
# target 75% 0.00297018
# target 90% 0.00372727
# target 99% 0.00933333
# target 99.9% 0.018
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 209 +/- 0 min 209 max 209 sum 209000
Response Body/Total Sizes : count 1000 avg 209 +/- 0 min 209 max 209 sum 209000
All done 1000 calls (plus 4 warmup) 2.565 ms avg, 99.9 qps
Successfully wrote 4759 bytes of Json data to /data/2018-11-17-083239_http_istio_100qps_10s_echo_0_0.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
08:32:49 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:32:59 I periodic.go:533> T003 ended after 10.00254389s : 250 calls. qps=24.993641892432624
08:32:59 I periodic.go:533> T001 ended after 10.00259096s : 250 calls. qps=24.993524277833714
08:32:59 I periodic.go:533> T000 ended after 10.002793652s : 250 calls. qps=24.99301782057795
08:32:59 I periodic.go:533> T002 ended after 10.004494331s : 250 calls. qps=24.988769219984277
Ended after 10.004606245s : 1000 calls. qps=99.954
Sleep times : count 996 avg 0.038227175 +/- 0.00135 min 0.028307593 max 0.039701539 sum 38.0742666
Aggregated Function Time : count 1000 avg 0.0014291132 +/- 0.001062 min 0.000247002 max 0.011079896 sum 1.42911316
# range, mid point, percentile, count
>= 0.000247002 <= 0.0003 , 0.000273501 , 0.60, 6
> 0.0003 <= 0.0004 , 0.00035 , 4.10, 35
> 0.0004 <= 0.0005 , 0.00045 , 9.00, 49
> 0.0005 <= 0.0006 , 0.00055 , 11.20, 22
> 0.0006 <= 0.0007 , 0.00065 , 13.50, 23
> 0.0007 <= 0.0008 , 0.00075 , 15.70, 22
> 0.0008 <= 0.0009 , 0.00085 , 19.20, 35
> 0.0009 <= 0.001 , 0.00095 , 25.10, 59
> 0.001 <= 0.0011 , 0.00105 , 33.30, 82
> 0.0011 <= 0.0012 , 0.00115 , 44.30, 110
> 0.0012 <= 0.0014 , 0.0013 , 65.50, 212
> 0.0014 <= 0.0016 , 0.0015 , 77.50, 120
> 0.0016 <= 0.0018 , 0.0017 , 84.60, 71
> 0.0018 <= 0.002 , 0.0019 , 88.60, 40
> 0.002 <= 0.0025 , 0.00225 , 92.70, 41
> 0.0025 <= 0.003 , 0.00275 , 94.80, 21
> 0.003 <= 0.0035 , 0.00325 , 96.10, 13
> 0.0035 <= 0.004 , 0.00375 , 97.40, 13
> 0.004 <= 0.0045 , 0.00425 , 97.90, 5
> 0.0045 <= 0.005 , 0.00475 , 98.50, 6
> 0.005 <= 0.006 , 0.0055 , 99.00, 5
> 0.006 <= 0.007 , 0.0065 , 99.40, 4
> 0.007 <= 0.008 , 0.0075 , 99.50, 1
> 0.01 <= 0.0110799 , 0.0105399 , 100.00, 5
# target 50% 0.00125377
# target 75% 0.00155833
# target 90% 0.00217073
# target 99% 0.006
# target 99.9% 0.0108639
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 1.429 ms avg, 100.0 qps
Successfully wrote 3876 bytes of Json data to /data/2018-11-17-083249_grpc_baseline_100qps_10s_echo_0_0.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
08:32:59 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:33:09 I periodic.go:533> T003 ended after 10.007169615s : 250 calls. qps=24.982088804137852
08:33:09 I periodic.go:533> T002 ended after 10.007260246s : 250 calls. qps=24.981862553232535
08:33:09 I periodic.go:533> T000 ended after 10.007340236s : 250 calls. qps=24.98166286988626
08:33:09 I periodic.go:533> T001 ended after 10.007670642s : 250 calls. qps=24.980838093412544
Ended after 10.007768353s : 1000 calls. qps=99.922
Sleep times : count 996 avg 0.036927869 +/- 0.001986 min 0.024788956 max 0.039441439 sum 36.7801573
Aggregated Function Time : count 1000 avg 0.0027671366 +/- 0.001803 min 0.00049989 max 0.015074224 sum 2.76713657
# range, mid point, percentile, count
>= 0.00049989 <= 0.0005 , 0.000499945 , 0.10, 1
> 0.0005 <= 0.0006 , 0.00055 , 0.30, 2
> 0.0006 <= 0.0007 , 0.00065 , 0.90, 6
> 0.0007 <= 0.0008 , 0.00075 , 4.10, 32
> 0.0008 <= 0.0009 , 0.00085 , 9.80, 57
> 0.0009 <= 0.001 , 0.00095 , 14.70, 49
> 0.001 <= 0.0011 , 0.00105 , 18.10, 34
> 0.0011 <= 0.0012 , 0.00115 , 20.40, 23
> 0.0012 <= 0.0014 , 0.0013 , 24.70, 43
> 0.0014 <= 0.0016 , 0.0015 , 27.80, 31
> 0.0016 <= 0.0018 , 0.0017 , 29.90, 21
> 0.0018 <= 0.002 , 0.0019 , 32.50, 26
> 0.002 <= 0.0025 , 0.00225 , 40.50, 80
> 0.0025 <= 0.003 , 0.00275 , 64.10, 236
> 0.003 <= 0.0035 , 0.00325 , 80.10, 160
> 0.0035 <= 0.004 , 0.00375 , 86.50, 64
> 0.004 <= 0.0045 , 0.00425 , 91.40, 49
> 0.0045 <= 0.005 , 0.00475 , 93.50, 21
> 0.005 <= 0.006 , 0.0055 , 95.40, 19
> 0.006 <= 0.007 , 0.0065 , 97.10, 17
> 0.007 <= 0.008 , 0.0075 , 98.00, 9
> 0.008 <= 0.009 , 0.0085 , 99.00, 10
> 0.009 <= 0.01 , 0.0095 , 99.20, 2
> 0.012 <= 0.014 , 0.013 , 99.30, 1
> 0.014 <= 0.0150742 , 0.0145371 , 100.00, 7
# target 50% 0.00270127
# target 75% 0.00334063
# target 90% 0.00435714
# target 99% 0.009
# target 99.9% 0.0149208
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 2.767 ms avg, 99.9 qps
Successfully wrote 3991 bytes of Json data to /data/2018-11-17-083259_grpc_linkerd_100qps_10s_echo_0_0.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-istio:8079
08:33:09 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:33:19 I periodic.go:533> T003 ended after 10.000891379s : 250 calls. qps=24.997771751121423
08:33:19 I periodic.go:533> T000 ended after 10.000979217s : 250 calls. qps=24.997552197193013
08:33:19 I periodic.go:533> T002 ended after 10.001798642s : 250 calls. qps=24.995504203632816
08:33:19 I periodic.go:533> T001 ended after 10.002223791s : 250 calls. qps=24.994441758536734
Ended after 10.00225865s : 1000 calls. qps=99.977
Sleep times : count 996 avg 0.036720384 +/- 0.002777 min 0.000353924 max 0.039440549 sum 36.573503
Aggregated Function Time : count 1000 avg 0.0028848259 +/- 0.002284 min 0.00052312 max 0.039625974 sum 2.88482592
# range, mid point, percentile, count
>= 0.00052312 <= 0.0006 , 0.00056156 , 0.70, 7
> 0.0006 <= 0.0007 , 0.00065 , 2.60, 19
> 0.0007 <= 0.0008 , 0.00075 , 5.00, 24
> 0.0008 <= 0.0009 , 0.00085 , 9.10, 41
> 0.0009 <= 0.001 , 0.00095 , 12.40, 33
> 0.001 <= 0.0011 , 0.00105 , 16.20, 38
> 0.0011 <= 0.0012 , 0.00115 , 19.00, 28
> 0.0012 <= 0.0014 , 0.0013 , 24.50, 55
> 0.0014 <= 0.0016 , 0.0015 , 27.90, 34
> 0.0016 <= 0.0018 , 0.0017 , 30.90, 30
> 0.0018 <= 0.002 , 0.0019 , 33.30, 24
> 0.002 <= 0.0025 , 0.00225 , 45.00, 117
> 0.0025 <= 0.003 , 0.00275 , 57.80, 128
> 0.003 <= 0.0035 , 0.00325 , 72.60, 148
> 0.0035 <= 0.004 , 0.00375 , 84.00, 114
> 0.004 <= 0.0045 , 0.00425 , 90.10, 61
> 0.0045 <= 0.005 , 0.00475 , 92.80, 27
> 0.005 <= 0.006 , 0.0055 , 95.90, 31
> 0.006 <= 0.007 , 0.0065 , 97.20, 13
> 0.007 <= 0.008 , 0.0075 , 97.80, 6
> 0.008 <= 0.009 , 0.0085 , 98.20, 4
> 0.009 <= 0.01 , 0.0095 , 98.80, 6
> 0.01 <= 0.012 , 0.011 , 99.50, 7
> 0.012 <= 0.014 , 0.013 , 99.60, 1
> 0.014 <= 0.016 , 0.015 , 99.70, 1
> 0.02 <= 0.025 , 0.0225 , 99.90, 2
> 0.035 <= 0.039626 , 0.037313 , 100.00, 1
# target 50% 0.00269531
# target 75% 0.00360526
# target 90% 0.0044918
# target 99% 0.0105714
# target 99.9% 0.025
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 2.885 ms avg, 100.0 qps
Successfully wrote 4182 bytes of Json data to /data/2018-11-17-083309_grpc_istio_100qps_10s_echo_0_0.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
08:33:19 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 100.0 qps
08:33:19 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:33:29 I periodic.go:533> T000 ended after 10.000874099s : 250 calls. qps=24.99781494349557
08:33:29 I periodic.go:533> T001 ended after 10.001168613s : 250 calls. qps=24.99707880887419
08:33:29 I periodic.go:533> T003 ended after 10.001282859s : 250 calls. qps=24.99679326387903
08:33:29 I periodic.go:533> T002 ended after 10.001253282s : 250 calls. qps=24.996867187629736
Ended after 10.001742012s : 1000 calls. qps=99.983
Sleep times : count 996 avg 0.038870268 +/- 0.0008269 min 0.029922635 max 0.03985083 sum 38.7147867
Aggregated Function Time : count 1000 avg 0.00086937584 +/- 0.0007462 min 0.00010321 max 0.010063061 sum 0.869375835
# range, mid point, percentile, count
>= 0.00010321 <= 0.0002 , 0.000151605 , 1.40, 14
> 0.0002 <= 0.0003 , 0.00025 , 9.70, 83
> 0.0003 <= 0.0004 , 0.00035 , 15.50, 58
> 0.0004 <= 0.0005 , 0.00045 , 20.60, 51
> 0.0005 <= 0.0006 , 0.00055 , 27.70, 71
> 0.0006 <= 0.0007 , 0.00065 , 39.10, 114
> 0.0007 <= 0.0008 , 0.00075 , 52.50, 134
> 0.0008 <= 0.0009 , 0.00085 , 64.10, 116
> 0.0009 <= 0.001 , 0.00095 , 74.80, 107
> 0.001 <= 0.0011 , 0.00105 , 81.50, 67
> 0.0011 <= 0.0012 , 0.00115 , 86.90, 54
> 0.0012 <= 0.0014 , 0.0013 , 92.50, 56
> 0.0014 <= 0.0016 , 0.0015 , 94.40, 19
> 0.0016 <= 0.0018 , 0.0017 , 96.10, 17
> 0.0018 <= 0.002 , 0.0019 , 97.50, 14
> 0.002 <= 0.0025 , 0.00225 , 98.40, 9
> 0.0025 <= 0.003 , 0.00275 , 98.90, 5
> 0.003 <= 0.0035 , 0.00325 , 99.10, 2
> 0.004 <= 0.0045 , 0.00425 , 99.50, 4
> 0.005 <= 0.006 , 0.0055 , 99.60, 1
> 0.009 <= 0.01 , 0.0095 , 99.90, 3
> 0.01 <= 0.0100631 , 0.0100315 , 100.00, 1
# target 50% 0.000781343
# target 75% 0.00100299
# target 90% 0.00131071
# target 99% 0.00325
# target 99.9% 0.01
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
Response Body/Total Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
All done 1000 calls (plus 4 warmup) 0.869 ms avg, 100.0 qps
Successfully wrote 4197 bytes of Json data to /data/2018-11-17-083319_http_baseline_100qps_10s_echo_1_0.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
08:33:30 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 100.0 qps
08:33:30 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:33:40 I periodic.go:533> T001 ended after 10.002467936s : 250 calls. qps=24.99383168230133
08:33:40 I periodic.go:533> T002 ended after 10.002663088s : 250 calls. qps=24.99334405253738
08:33:40 I periodic.go:533> T003 ended after 10.002702707s : 250 calls. qps=24.99324505816286
08:33:40 I periodic.go:533> T000 ended after 10.002735538s : 250 calls. qps=24.993163025280417
Ended after 10.002791686s : 1000 calls. qps=99.972
Sleep times : count 996 avg 0.037373662 +/- 0.002474 min 0.020081011 max 0.039544551 sum 37.2241677
Aggregated Function Time : count 1000 avg 0.0022869984 +/- 0.002169 min 0.000414043 max 0.018162576 sum 2.28699842
# range, mid point, percentile, count
>= 0.000414043 <= 0.0005 , 0.000457022 , 1.50, 15
> 0.0005 <= 0.0006 , 0.00055 , 6.80, 53
> 0.0006 <= 0.0007 , 0.00065 , 13.00, 62
> 0.0007 <= 0.0008 , 0.00075 , 18.60, 56
> 0.0008 <= 0.0009 , 0.00085 , 22.30, 37
> 0.0009 <= 0.001 , 0.00095 , 25.20, 29
> 0.001 <= 0.0011 , 0.00105 , 26.60, 14
> 0.0011 <= 0.0012 , 0.00115 , 28.80, 22
> 0.0012 <= 0.0014 , 0.0013 , 31.80, 30
> 0.0014 <= 0.0016 , 0.0015 , 36.70, 49
> 0.0016 <= 0.0018 , 0.0017 , 43.20, 65
> 0.0018 <= 0.002 , 0.0019 , 51.90, 87
> 0.002 <= 0.0025 , 0.00225 , 73.50, 216
> 0.0025 <= 0.003 , 0.00275 , 86.20, 127
> 0.003 <= 0.0035 , 0.00325 , 89.50, 33
> 0.0035 <= 0.004 , 0.00375 , 91.00, 15
> 0.004 <= 0.0045 , 0.00425 , 93.00, 20
> 0.0045 <= 0.005 , 0.00475 , 93.70, 7
> 0.005 <= 0.006 , 0.0055 , 95.60, 19
> 0.006 <= 0.007 , 0.0065 , 96.10, 5
> 0.007 <= 0.008 , 0.0075 , 97.30, 12
> 0.008 <= 0.009 , 0.0085 , 97.70, 4
> 0.009 <= 0.01 , 0.0095 , 97.80, 1
> 0.01 <= 0.012 , 0.011 , 98.60, 8
> 0.012 <= 0.014 , 0.013 , 99.20, 6
> 0.014 <= 0.016 , 0.015 , 99.60, 4
> 0.016 <= 0.018 , 0.017 , 99.70, 1
> 0.018 <= 0.0181626 , 0.0180813 , 100.00, 3
# target 50% 0.00195632
# target 75% 0.00255906
# target 90% 0.00366667
# target 99% 0.0133333
# target 99.9% 0.0181084
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
Response Body/Total Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
All done 1000 calls (plus 4 warmup) 2.287 ms avg, 100.0 qps
Successfully wrote 4869 bytes of Json data to /data/2018-11-17-083330_http_linkerd_100qps_10s_echo_1_0.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
08:33:40 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 100.0 qps
08:33:40 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:33:50 I periodic.go:533> T002 ended after 10.002563811s : 250 calls. qps=24.993592115360514
08:33:50 I periodic.go:533> T003 ended after 10.002689087s : 250 calls. qps=24.99327908981122
08:33:50 I periodic.go:533> T001 ended after 10.00272866s : 250 calls. qps=24.993180210888575
08:33:50 I periodic.go:533> T000 ended after 10.004111953s : 250 calls. qps=24.989724342801942
Ended after 10.004236008s : 1000 calls. qps=99.958
Sleep times : count 996 avg 0.036718548 +/- 0.004222 min -0.020143223 max 0.039394092 sum 36.5716741
Aggregated Function Time : count 1000 avg 0.002591239 +/- 0.002916 min 0.00044676 max 0.044361373 sum 2.59123902
# range, mid point, percentile, count
>= 0.00044676 <= 0.0005 , 0.00047338 , 0.40, 4
> 0.0005 <= 0.0006 , 0.00055 , 1.70, 13
> 0.0006 <= 0.0007 , 0.00065 , 4.40, 27
> 0.0007 <= 0.0008 , 0.00075 , 8.30, 39
> 0.0008 <= 0.0009 , 0.00085 , 11.10, 28
> 0.0009 <= 0.001 , 0.00095 , 15.40, 43
> 0.001 <= 0.0011 , 0.00105 , 18.40, 30
> 0.0011 <= 0.0012 , 0.00115 , 21.50, 31
> 0.0012 <= 0.0014 , 0.0013 , 24.70, 32
> 0.0014 <= 0.0016 , 0.0015 , 26.10, 14
> 0.0016 <= 0.0018 , 0.0017 , 29.50, 34
> 0.0018 <= 0.002 , 0.0019 , 35.30, 58
> 0.002 <= 0.0025 , 0.00225 , 63.10, 278
> 0.0025 <= 0.003 , 0.00275 , 78.80, 157
> 0.003 <= 0.0035 , 0.00325 , 87.40, 86
> 0.0035 <= 0.004 , 0.00375 , 90.90, 35
> 0.004 <= 0.0045 , 0.00425 , 93.10, 22
> 0.0045 <= 0.005 , 0.00475 , 94.80, 17
> 0.005 <= 0.006 , 0.0055 , 96.70, 19
> 0.006 <= 0.007 , 0.0065 , 97.70, 10
> 0.007 <= 0.008 , 0.0075 , 98.20, 5
> 0.008 <= 0.009 , 0.0085 , 98.30, 1
> 0.009 <= 0.01 , 0.0095 , 98.60, 3
> 0.01 <= 0.012 , 0.011 , 99.00, 4
> 0.014 <= 0.016 , 0.015 , 99.10, 1
> 0.016 <= 0.018 , 0.017 , 99.60, 5
> 0.02 <= 0.025 , 0.0225 , 99.70, 1
> 0.04 <= 0.0443614 , 0.0421807 , 100.00, 3
# target 50% 0.00226439
# target 75% 0.00287898
# target 90% 0.00387143
# target 99% 0.012
# target 99.9% 0.0429076
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 209 +/- 0 min 209 max 209 sum 209000
Response Body/Total Sizes : count 1000 avg 209 +/- 0 min 209 max 209 sum 209000
All done 1000 calls (plus 4 warmup) 2.591 ms avg, 100.0 qps
Successfully wrote 4854 bytes of Json data to /data/2018-11-17-083340_http_istio_100qps_10s_echo_1_0.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
08:33:50 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:34:00 I periodic.go:533> T001 ended after 10.001722656s : 250 calls. qps=24.995694101758144
08:34:00 I periodic.go:533> T002 ended after 10.00172769s : 250 calls. qps=24.995681521099282
08:34:00 I periodic.go:533> T000 ended after 10.001817616s : 250 calls. qps=24.995456785781883
08:34:00 I periodic.go:533> T003 ended after 10.001933639s : 250 calls. qps=24.995166837059234
Ended after 10.002080975s : 1000 calls. qps=99.979
Sleep times : count 996 avg 0.038414447 +/- 0.001369 min 0.022100468 max 0.039690122 sum 38.2607892
Aggregated Function Time : count 1000 avg 0.0012899481 +/- 0.001162 min 0.000205402 max 0.015378473 sum 1.28994807
# range, mid point, percentile, count
>= 0.000205402 <= 0.0003 , 0.000252701 , 1.80, 18
> 0.0003 <= 0.0004 , 0.00035 , 7.40, 56
> 0.0004 <= 0.0005 , 0.00045 , 14.10, 67
> 0.0005 <= 0.0006 , 0.00055 , 18.60, 45
> 0.0006 <= 0.0007 , 0.00065 , 21.60, 30
> 0.0007 <= 0.0008 , 0.00075 , 24.80, 32
> 0.0008 <= 0.0009 , 0.00085 , 28.50, 37
> 0.0009 <= 0.001 , 0.00095 , 33.50, 50
> 0.001 <= 0.0011 , 0.00105 , 42.80, 93
> 0.0011 <= 0.0012 , 0.00115 , 53.00, 102
> 0.0012 <= 0.0014 , 0.0013 , 72.40, 194
> 0.0014 <= 0.0016 , 0.0015 , 83.80, 114
> 0.0016 <= 0.0018 , 0.0017 , 89.00, 52
> 0.0018 <= 0.002 , 0.0019 , 91.60, 26
> 0.002 <= 0.0025 , 0.00225 , 94.80, 32
> 0.0025 <= 0.003 , 0.00275 , 96.00, 12
> 0.003 <= 0.0035 , 0.00325 , 97.30, 13
> 0.0035 <= 0.004 , 0.00375 , 97.90, 6
> 0.004 <= 0.0045 , 0.00425 , 98.40, 5
> 0.0045 <= 0.005 , 0.00475 , 99.10, 7
> 0.005 <= 0.006 , 0.0055 , 99.30, 2
> 0.006 <= 0.007 , 0.0065 , 99.60, 3
> 0.014 <= 0.0153785 , 0.0146892 , 100.00, 4
# target 50% 0.00117059
# target 75% 0.00144561
# target 90% 0.00187692
# target 99% 0.00492857
# target 99.9% 0.0150339
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 1.290 ms avg, 100.0 qps
Successfully wrote 3778 bytes of Json data to /data/2018-11-17-083350_grpc_baseline_100qps_10s_echo_1_0.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
08:34:00 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:34:10 I periodic.go:533> T002 ended after 10.003192008s : 250 calls. qps=24.99202252641595
08:34:10 I periodic.go:533> T003 ended after 10.003310979s : 250 calls. qps=24.991725292238364
08:34:10 I periodic.go:533> T000 ended after 10.003739303s : 250 calls. qps=24.99065523679011
08:34:10 I periodic.go:533> T001 ended after 10.004013888s : 250 calls. qps=24.989969306208145
Ended after 10.004075569s : 1000 calls. qps=99.959
Sleep times : count 996 avg 0.036832368 +/- 0.002092 min 0.027165332 max 0.039412096 sum 36.685038
Aggregated Function Time : count 1000 avg 0.0028460436 +/- 0.001886 min 0.000508997 max 0.012851424 sum 2.8460436
# range, mid point, percentile, count
>= 0.000508997 <= 0.0006 , 0.000554499 , 0.20, 2
> 0.0006 <= 0.0007 , 0.00065 , 1.20, 10
> 0.0007 <= 0.0008 , 0.00075 , 4.80, 36
> 0.0008 <= 0.0009 , 0.00085 , 10.10, 53
> 0.0009 <= 0.001 , 0.00095 , 13.70, 36
> 0.001 <= 0.0011 , 0.00105 , 18.90, 52
> 0.0011 <= 0.0012 , 0.00115 , 21.70, 28
> 0.0012 <= 0.0014 , 0.0013 , 24.60, 29
> 0.0014 <= 0.0016 , 0.0015 , 27.80, 32
> 0.0016 <= 0.0018 , 0.0017 , 29.30, 15
> 0.0018 <= 0.002 , 0.0019 , 32.10, 28
> 0.002 <= 0.0025 , 0.00225 , 41.00, 89
> 0.0025 <= 0.003 , 0.00275 , 62.90, 219
> 0.003 <= 0.0035 , 0.00325 , 78.30, 154
> 0.0035 <= 0.004 , 0.00375 , 85.90, 76
> 0.004 <= 0.0045 , 0.00425 , 88.60, 27
> 0.0045 <= 0.005 , 0.00475 , 91.40, 28
> 0.005 <= 0.006 , 0.0055 , 94.30, 29
> 0.006 <= 0.007 , 0.0065 , 96.40, 21
> 0.007 <= 0.008 , 0.0075 , 97.40, 10
> 0.008 <= 0.009 , 0.0085 , 98.00, 6
> 0.009 <= 0.01 , 0.0095 , 98.70, 7
> 0.01 <= 0.012 , 0.011 , 99.60, 9
> 0.012 <= 0.0128514 , 0.0124257 , 100.00, 4
# target 50% 0.00270548
# target 75% 0.00339286
# target 90% 0.00475
# target 99% 0.0106667
# target 99.9% 0.0126386
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 2.846 ms avg, 100.0 qps
Successfully wrote 3887 bytes of Json data to /data/2018-11-17-083400_grpc_linkerd_100qps_10s_echo_1_0.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-istio:8079
08:34:10 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:34:20 I periodic.go:533> T002 ended after 10.000862062s : 250 calls. qps=24.99784503077171
08:34:20 I periodic.go:533> T000 ended after 10.000939072s : 250 calls. qps=24.997652540443354
08:34:20 I periodic.go:533> T003 ended after 10.001147341s : 250 calls. qps=24.99713197656009
08:34:20 I periodic.go:533> T001 ended after 10.001700984s : 250 calls. qps=24.995748263213628
Ended after 10.001738017s : 1000 calls. qps=99.983
Sleep times : count 996 avg 0.036344364 +/- 0.002918 min 0.00398264 max 0.039347191 sum 36.1989868
Aggregated Function Time : count 1000 avg 0.0032366957 +/- 0.002338 min 0.000626165 max 0.032024549 sum 3.23669567
# range, mid point, percentile, count
>= 0.000626165 <= 0.0007 , 0.000663083 , 0.90, 9
> 0.0007 <= 0.0008 , 0.00075 , 2.40, 15
> 0.0008 <= 0.0009 , 0.00085 , 5.30, 29
> 0.0009 <= 0.001 , 0.00095 , 6.80, 15
> 0.001 <= 0.0011 , 0.00105 , 10.60, 38
> 0.0011 <= 0.0012 , 0.00115 , 14.00, 34
> 0.0012 <= 0.0014 , 0.0013 , 17.30, 33
> 0.0014 <= 0.0016 , 0.0015 , 19.70, 24
> 0.0016 <= 0.0018 , 0.0017 , 21.90, 22
> 0.0018 <= 0.002 , 0.0019 , 26.00, 41
> 0.002 <= 0.0025 , 0.00225 , 36.80, 108
> 0.0025 <= 0.003 , 0.00275 , 49.50, 127
> 0.003 <= 0.0035 , 0.00325 , 62.50, 130
> 0.0035 <= 0.004 , 0.00375 , 76.90, 144
> 0.004 <= 0.0045 , 0.00425 , 85.50, 86
> 0.0045 <= 0.005 , 0.00475 , 90.80, 53
> 0.005 <= 0.006 , 0.0055 , 94.60, 38
> 0.006 <= 0.007 , 0.0065 , 96.50, 19
> 0.007 <= 0.008 , 0.0075 , 97.70, 12
> 0.008 <= 0.009 , 0.0085 , 98.50, 8
> 0.009 <= 0.01 , 0.0095 , 98.60, 1
> 0.01 <= 0.012 , 0.011 , 98.90, 3
> 0.012 <= 0.014 , 0.013 , 99.10, 2
> 0.014 <= 0.016 , 0.015 , 99.50, 4
> 0.02 <= 0.025 , 0.0225 , 99.90, 4
> 0.03 <= 0.0320245 , 0.0310123 , 100.00, 1
# target 50% 0.00301923
# target 75% 0.00393403
# target 90% 0.00492453
# target 99% 0.013
# target 99.9% 0.025
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 3.237 ms avg, 100.0 qps
Successfully wrote 4065 bytes of Json data to /data/2018-11-17-083410_grpc_istio_100qps_10s_echo_1_0.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
08:34:20 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 100.0 qps
08:34:20 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:34:30 I periodic.go:533> T000 ended after 10.001264098s : 250 calls. qps=24.996840154435446
08:34:30 I periodic.go:533> T002 ended after 10.001341368s : 250 calls. qps=24.996647029756698
08:34:30 I periodic.go:533> T001 ended after 10.001341375s : 250 calls. qps=24.99664701226139
08:34:30 I periodic.go:533> T003 ended after 10.001886755s : 250 calls. qps=24.99528400229323
Ended after 10.002228002s : 1000 calls. qps=99.978
Sleep times : count 996 avg 0.038540196 +/- 0.002493 min 0.011552123 max 0.039832776 sum 38.3860355
Aggregated Function Time : count 1000 avg 0.001131336 +/- 0.002132 min 0.00011227 max 0.02624773 sum 1.13133603
# range, mid point, percentile, count
>= 0.00011227 <= 0.0002 , 0.000156135 , 2.00, 20
> 0.0002 <= 0.0003 , 0.00025 , 8.00, 60
> 0.0003 <= 0.0004 , 0.00035 , 12.60, 46
> 0.0004 <= 0.0005 , 0.00045 , 17.90, 53
> 0.0005 <= 0.0006 , 0.00055 , 27.20, 93
> 0.0006 <= 0.0007 , 0.00065 , 37.70, 105
> 0.0007 <= 0.0008 , 0.00075 , 51.10, 134
> 0.0008 <= 0.0009 , 0.00085 , 63.30, 122
> 0.0009 <= 0.001 , 0.00095 , 71.60, 83
> 0.001 <= 0.0011 , 0.00105 , 77.60, 60
> 0.0011 <= 0.0012 , 0.00115 , 81.90, 43
> 0.0012 <= 0.0014 , 0.0013 , 87.90, 60
> 0.0014 <= 0.0016 , 0.0015 , 91.20, 33
> 0.0016 <= 0.0018 , 0.0017 , 92.50, 13
> 0.0018 <= 0.002 , 0.0019 , 93.50, 10
> 0.002 <= 0.0025 , 0.00225 , 95.40, 19
> 0.0025 <= 0.003 , 0.00275 , 96.40, 10
> 0.003 <= 0.0035 , 0.00325 , 97.70, 13
> 0.004 <= 0.0045 , 0.00425 , 98.30, 6
> 0.0045 <= 0.005 , 0.00475 , 98.60, 3
> 0.008 <= 0.009 , 0.0085 , 98.70, 1
> 0.009 <= 0.01 , 0.0095 , 98.80, 1
> 0.01 <= 0.012 , 0.011 , 99.20, 4
> 0.016 <= 0.018 , 0.017 , 99.40, 2
> 0.02 <= 0.025 , 0.0225 , 99.60, 2
> 0.025 <= 0.0262477 , 0.0256239 , 100.00, 4
# target 50% 0.000791791
# target 75% 0.00105667
# target 90% 0.00152727
# target 99% 0.011
# target 99.9% 0.0259358
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
Response Body/Total Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
All done 1000 calls (plus 4 warmup) 1.131 ms avg, 100.0 qps
Successfully wrote 4671 bytes of Json data to /data/2018-11-17-083420_http_baseline_100qps_10s_echo_0_1.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
08:34:30 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 100.0 qps
08:34:30 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:34:40 I periodic.go:533> T000 ended after 10.0024929s : 250 calls. qps=24.993769303250392
08:34:40 I periodic.go:533> T002 ended after 10.002640088s : 250 calls. qps=24.993401522056246
08:34:40 I periodic.go:533> T003 ended after 10.003505205s : 250 calls. qps=24.991240058039235
08:34:40 I periodic.go:533> T001 ended after 10.003533369s : 250 calls. qps=24.99116969757169
Ended after 10.003650311s : 1000 calls. qps=99.964
Sleep times : count 996 avg 0.037732303 +/- 0.001331 min 0.030049123 max 0.039521563 sum 37.581374
Aggregated Function Time : count 1000 avg 0.0019585342 +/- 0.001059 min 0.000326088 max 0.009453788 sum 1.95853417
# range, mid point, percentile, count
>= 0.000326088 <= 0.0004 , 0.000363044 , 0.10, 1
> 0.0004 <= 0.0005 , 0.00045 , 1.10, 10
> 0.0005 <= 0.0006 , 0.00055 , 5.30, 42
> 0.0006 <= 0.0007 , 0.00065 , 10.50, 52
> 0.0007 <= 0.0008 , 0.00075 , 13.40, 29
> 0.0008 <= 0.0009 , 0.00085 , 16.20, 28
> 0.0009 <= 0.001 , 0.00095 , 18.60, 24
> 0.001 <= 0.0011 , 0.00105 , 19.80, 12
> 0.0011 <= 0.0012 , 0.00115 , 21.20, 14
> 0.0012 <= 0.0014 , 0.0013 , 25.20, 40
> 0.0014 <= 0.0016 , 0.0015 , 30.60, 54
> 0.0016 <= 0.0018 , 0.0017 , 40.50, 99
> 0.0018 <= 0.002 , 0.0019 , 55.60, 151
> 0.002 <= 0.0025 , 0.00225 , 82.40, 268
> 0.0025 <= 0.003 , 0.00275 , 91.40, 90
> 0.003 <= 0.0035 , 0.00325 , 95.20, 38
> 0.0035 <= 0.004 , 0.00375 , 96.60, 14
> 0.004 <= 0.0045 , 0.00425 , 97.30, 7
> 0.0045 <= 0.005 , 0.00475 , 97.90, 6
> 0.005 <= 0.006 , 0.0055 , 98.80, 9
> 0.006 <= 0.007 , 0.0065 , 99.00, 2
> 0.007 <= 0.008 , 0.0075 , 99.80, 8
> 0.009 <= 0.00945379 , 0.00922689 , 100.00, 2
# target 50% 0.00192583
# target 75% 0.00236194
# target 90% 0.00292222
# target 99% 0.007
# target 99.9% 0.00922689
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
Response Body/Total Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
All done 1000 calls (plus 4 warmup) 1.959 ms avg, 100.0 qps
Successfully wrote 4282 bytes of Json data to /data/2018-11-17-083430_http_linkerd_100qps_10s_echo_0_1.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
08:34:40 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 100.0 qps
08:34:40 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:34:50 I periodic.go:533> T000 ended after 10.003411572s : 250 calls. qps=24.99147397871355
08:34:50 I periodic.go:533> T002 ended after 10.005310439s : 250 calls. qps=24.98673094894862
08:34:50 I periodic.go:533> T003 ended after 10.008750564s : 250 calls. qps=24.97814271635594
08:34:50 I periodic.go:533> T001 ended after 10.009140367s : 250 calls. qps=24.977169950003557
Ended after 10.00922656s : 1000 calls. qps=99.908
Sleep times : count 996 avg 0.036697494 +/- 0.004778 min -0.01465263 max 0.039449789 sum 36.5507041
Aggregated Function Time : count 1000 avg 0.0026839871 +/- 0.003504 min 0.000455151 max 0.052675221 sum 2.68398706
# range, mid point, percentile, count
>= 0.000455151 <= 0.0005 , 0.000477576 , 0.20, 2
> 0.0005 <= 0.0006 , 0.00055 , 0.90, 7
> 0.0006 <= 0.0007 , 0.00065 , 4.60, 37
> 0.0007 <= 0.0008 , 0.00075 , 8.90, 43
> 0.0008 <= 0.0009 , 0.00085 , 14.40, 55
> 0.0009 <= 0.001 , 0.00095 , 19.10, 47
> 0.001 <= 0.0011 , 0.00105 , 23.80, 47
> 0.0011 <= 0.0012 , 0.00115 , 27.70, 39
> 0.0012 <= 0.0014 , 0.0013 , 32.70, 50
> 0.0014 <= 0.0016 , 0.0015 , 36.60, 39
> 0.0016 <= 0.0018 , 0.0017 , 40.10, 35
> 0.0018 <= 0.002 , 0.0019 , 42.20, 21
> 0.002 <= 0.0025 , 0.00225 , 59.80, 176
> 0.0025 <= 0.003 , 0.00275 , 77.20, 174
> 0.003 <= 0.0035 , 0.00325 , 84.90, 77
> 0.0035 <= 0.004 , 0.00375 , 89.40, 45
> 0.004 <= 0.0045 , 0.00425 , 91.40, 20
> 0.0045 <= 0.005 , 0.00475 , 93.10, 17
> 0.005 <= 0.006 , 0.0055 , 95.70, 26
> 0.006 <= 0.007 , 0.0065 , 96.10, 4
> 0.007 <= 0.008 , 0.0075 , 97.20, 11
> 0.008 <= 0.009 , 0.0085 , 97.40, 2
> 0.009 <= 0.01 , 0.0095 , 97.70, 3
> 0.01 <= 0.012 , 0.011 , 98.50, 8
> 0.012 <= 0.014 , 0.013 , 98.60, 1
> 0.014 <= 0.016 , 0.015 , 98.70, 1
> 0.016 <= 0.018 , 0.017 , 98.80, 1
> 0.02 <= 0.025 , 0.0225 , 99.70, 9
> 0.025 <= 0.03 , 0.0275 , 99.80, 1
> 0.05 <= 0.0526752 , 0.0513376 , 100.00, 2
# target 50% 0.00222159
# target 75% 0.00293678
# target 90% 0.00415
# target 99% 0.0211111
# target 99.9% 0.0513376
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 209.005 +/- 0.07053 min 209 max 210 sum 209005
Response Body/Total Sizes : count 1000 avg 209.005 +/- 0.07053 min 209 max 210 sum 209005
All done 1000 calls (plus 4 warmup) 2.684 ms avg, 99.9 qps
Successfully wrote 5144 bytes of Json data to /data/2018-11-17-083440_http_istio_100qps_10s_echo_0_1.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
08:34:50 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:35:00 I periodic.go:533> T001 ended after 10.001378613s : 250 calls. qps=24.996553942577957
08:35:00 I periodic.go:533> T002 ended after 10.001378201s : 250 calls. qps=24.996554972294064
08:35:00 I periodic.go:533> T003 ended after 10.001667667s : 250 calls. qps=24.99583152766238
08:35:00 I periodic.go:533> T000 ended after 10.001712015s : 250 calls. qps=24.995720695123413
Ended after 10.00178748s : 1000 calls. qps=99.982
Sleep times : count 996 avg 0.038430792 +/- 0.0008908 min 0.031678005 max 0.039765727 sum 38.2770685
Aggregated Function Time : count 1000 avg 0.0012608136 +/- 0.0007412 min 0.000184917 max 0.008254298 sum 1.26081361
# range, mid point, percentile, count
>= 0.000184917 <= 0.0002 , 0.000192459 , 0.10, 1
> 0.0002 <= 0.0003 , 0.00025 , 1.10, 10
> 0.0003 <= 0.0004 , 0.00035 , 5.00, 39
> 0.0004 <= 0.0005 , 0.00045 , 11.50, 65
> 0.0005 <= 0.0006 , 0.00055 , 15.60, 41
> 0.0006 <= 0.0007 , 0.00065 , 19.70, 41
> 0.0007 <= 0.0008 , 0.00075 , 23.10, 34
> 0.0008 <= 0.0009 , 0.00085 , 28.20, 51
> 0.0009 <= 0.001 , 0.00095 , 34.10, 59
> 0.001 <= 0.0011 , 0.00105 , 40.50, 64
> 0.0011 <= 0.0012 , 0.00115 , 50.40, 99
> 0.0012 <= 0.0014 , 0.0013 , 68.40, 180
> 0.0014 <= 0.0016 , 0.0015 , 81.10, 127
> 0.0016 <= 0.0018 , 0.0017 , 87.80, 67
> 0.0018 <= 0.002 , 0.0019 , 91.20, 34
> 0.002 <= 0.0025 , 0.00225 , 95.60, 44
> 0.0025 <= 0.003 , 0.00275 , 97.10, 15
> 0.003 <= 0.0035 , 0.00325 , 98.50, 14
> 0.0035 <= 0.004 , 0.00375 , 99.10, 6
> 0.004 <= 0.0045 , 0.00425 , 99.20, 1
> 0.0045 <= 0.005 , 0.00475 , 99.40, 2
> 0.005 <= 0.006 , 0.0055 , 99.80, 4
> 0.007 <= 0.008 , 0.0075 , 99.90, 1
> 0.008 <= 0.0082543 , 0.00812715 , 100.00, 1
# target 50% 0.00119596
# target 75% 0.00150394
# target 90% 0.00192941
# target 99% 0.00391667
# target 99.9% 0.008
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 1.261 ms avg, 100.0 qps
Successfully wrote 3887 bytes of Json data to /data/2018-11-17-083450_grpc_baseline_100qps_10s_echo_0_1.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
08:35:00 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:35:10 I periodic.go:533> T003 ended after 10.003089659s : 250 calls. qps=24.992278238261065
08:35:10 I periodic.go:533> T000 ended after 10.003092143s : 250 calls. qps=24.992272032098185
08:35:10 I periodic.go:533> T001 ended after 10.003758336s : 250 calls. qps=24.990607689945698
08:35:10 I periodic.go:533> T002 ended after 10.003950269s : 250 calls. qps=24.99012822711584
Ended after 10.004875132s : 1000 calls. qps=99.951
Sleep times : count 996 avg 0.036581156 +/- 0.002752 min 0.01480602 max 0.039338092 sum 36.4348318
Aggregated Function Time : count 1000 avg 0.00297808 +/- 0.002105 min 0.000593039 max 0.02428149 sum 2.97807996
# range, mid point, percentile, count
>= 0.000593039 <= 0.0006 , 0.000596519 , 0.10, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.50, 4
> 0.0007 <= 0.0008 , 0.00075 , 2.00, 15
> 0.0008 <= 0.0009 , 0.00085 , 6.00, 40
> 0.0009 <= 0.001 , 0.00095 , 9.10, 31
> 0.001 <= 0.0011 , 0.00105 , 13.00, 39
> 0.0011 <= 0.0012 , 0.00115 , 15.10, 21
> 0.0012 <= 0.0014 , 0.0013 , 19.00, 39
> 0.0014 <= 0.0016 , 0.0015 , 22.20, 32
> 0.0016 <= 0.0018 , 0.0017 , 26.80, 46
> 0.0018 <= 0.002 , 0.0019 , 29.30, 25
> 0.002 <= 0.0025 , 0.00225 , 41.10, 118
> 0.0025 <= 0.003 , 0.00275 , 62.50, 214
> 0.003 <= 0.0035 , 0.00325 , 77.50, 150
> 0.0035 <= 0.004 , 0.00375 , 84.00, 65
> 0.004 <= 0.0045 , 0.00425 , 87.20, 32
> 0.0045 <= 0.005 , 0.00475 , 90.90, 37
> 0.005 <= 0.006 , 0.0055 , 94.90, 40
> 0.006 <= 0.007 , 0.0065 , 96.10, 12
> 0.007 <= 0.008 , 0.0075 , 96.60, 5
> 0.008 <= 0.009 , 0.0085 , 97.80, 12
> 0.009 <= 0.01 , 0.0095 , 98.40, 6
> 0.01 <= 0.012 , 0.011 , 99.00, 6
> 0.012 <= 0.014 , 0.013 , 99.20, 2
> 0.014 <= 0.016 , 0.015 , 99.60, 4
> 0.016 <= 0.018 , 0.017 , 99.90, 3
> 0.02 <= 0.0242815 , 0.0221407 , 100.00, 1
# target 50% 0.00270794
# target 75% 0.00341667
# target 90% 0.00487838
# target 99% 0.012
# target 99.9% 0.018
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 2.978 ms avg, 100.0 qps
Successfully wrote 4194 bytes of Json data to /data/2018-11-17-083500_grpc_linkerd_100qps_10s_echo_0_1.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-istio:8079
08:35:10 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:35:20 I periodic.go:533> T001 ended after 10.003056252s : 250 calls. qps=24.992361704455604
08:35:20 I periodic.go:533> T003 ended after 10.003221577s : 250 calls. qps=24.99194865130398
08:35:20 I periodic.go:533> T000 ended after 10.003103353s : 250 calls. qps=24.992244024452997
08:35:20 I periodic.go:533> T002 ended after 10.003931034s : 250 calls. qps=24.990176276739014
Ended after 10.004285383s : 1000 calls. qps=99.957
Sleep times : count 996 avg 0.03603949 +/- 0.004295 min -0.011785355 max 0.039410221 sum 35.8953321
Aggregated Function Time : count 1000 avg 0.0031330072 +/- 0.002203 min 0.000474701 max 0.032673475 sum 3.1330072
# range, mid point, percentile, count
>= 0.000474701 <= 0.0005 , 0.000487351 , 0.20, 2
> 0.0005 <= 0.0006 , 0.00055 , 0.40, 2
> 0.0006 <= 0.0007 , 0.00065 , 0.50, 1
> 0.0007 <= 0.0008 , 0.00075 , 1.20, 7
> 0.0008 <= 0.0009 , 0.00085 , 2.00, 8
> 0.0009 <= 0.001 , 0.00095 , 3.60, 16
> 0.001 <= 0.0011 , 0.00105 , 6.20, 26
> 0.0011 <= 0.0012 , 0.00115 , 8.60, 24
> 0.0012 <= 0.0014 , 0.0013 , 13.70, 51
> 0.0014 <= 0.0016 , 0.0015 , 17.80, 41
> 0.0016 <= 0.0018 , 0.0017 , 21.80, 40
> 0.0018 <= 0.002 , 0.0019 , 25.00, 32
> 0.002 <= 0.0025 , 0.00225 , 38.00, 130
> 0.0025 <= 0.003 , 0.00275 , 55.30, 173
> 0.003 <= 0.0035 , 0.00325 , 71.30, 160
> 0.0035 <= 0.004 , 0.00375 , 81.70, 104
> 0.004 <= 0.0045 , 0.00425 , 87.30, 56
> 0.0045 <= 0.005 , 0.00475 , 90.50, 32
> 0.005 <= 0.006 , 0.0055 , 95.30, 48
> 0.006 <= 0.007 , 0.0065 , 96.70, 14
> 0.007 <= 0.008 , 0.0075 , 97.30, 6
> 0.008 <= 0.009 , 0.0085 , 98.10, 8
> 0.009 <= 0.01 , 0.0095 , 98.20, 1
> 0.01 <= 0.012 , 0.011 , 99.50, 13
> 0.012 <= 0.014 , 0.013 , 99.60, 1
> 0.014 <= 0.016 , 0.015 , 99.70, 1
> 0.016 <= 0.018 , 0.017 , 99.80, 1
> 0.03 <= 0.0326735 , 0.0313367 , 100.00, 2
# target 50% 0.00284682
# target 75% 0.00367788
# target 90% 0.00492188
# target 99% 0.0112308
# target 99.9% 0.0313367
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 3.133 ms avg, 100.0 qps
Successfully wrote 4325 bytes of Json data to /data/2018-11-17-083510_grpc_istio_100qps_10s_echo_0_1.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
08:35:20 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 100.0 qps
08:35:20 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:35:30 I periodic.go:533> T000 ended after 10.000642836s : 250 calls. qps=24.998393013302888
08:35:30 I periodic.go:533> T003 ended after 10.000688524s : 250 calls. qps=24.998278808508168
08:35:30 I periodic.go:533> T001 ended after 10.000663366s : 250 calls. qps=24.998341695006317
08:35:30 I periodic.go:533> T002 ended after 10.000662905s : 250 calls. qps=24.998342847353477
Ended after 10.001820011s : 1000 calls. qps=99.982
Sleep times : count 996 avg 0.038842228 +/- 0.000989 min 0.032017195 max 0.039862662 sum 38.6868591
Aggregated Function Time : count 1000 avg 0.00085432839 +/- 0.0007278 min 9.4281e-05 max 0.007928385 sum 0.854328385
# range, mid point, percentile, count
>= 9.4281e-05 <= 0.0001 , 9.71405e-05 , 0.20, 2
> 0.0001 <= 0.0002 , 0.00015 , 2.40, 22
> 0.0002 <= 0.0003 , 0.00025 , 9.10, 67
> 0.0003 <= 0.0004 , 0.00035 , 17.70, 86
> 0.0004 <= 0.0005 , 0.00045 , 25.40, 77
> 0.0005 <= 0.0006 , 0.00055 , 31.80, 64
> 0.0006 <= 0.0007 , 0.00065 , 41.60, 98
> 0.0007 <= 0.0008 , 0.00075 , 52.60, 110
> 0.0008 <= 0.0009 , 0.00085 , 66.60, 140
> 0.0009 <= 0.001 , 0.00095 , 77.40, 108
> 0.001 <= 0.0011 , 0.00105 , 83.60, 62
> 0.0011 <= 0.0012 , 0.00115 , 88.00, 44
> 0.0012 <= 0.0014 , 0.0013 , 93.60, 56
> 0.0014 <= 0.0016 , 0.0015 , 95.20, 16
> 0.0016 <= 0.0018 , 0.0017 , 96.20, 10
> 0.0018 <= 0.002 , 0.0019 , 96.60, 4
> 0.002 <= 0.0025 , 0.00225 , 97.70, 11
> 0.0025 <= 0.003 , 0.00275 , 98.00, 3
> 0.003 <= 0.0035 , 0.00325 , 98.60, 6
> 0.0035 <= 0.004 , 0.00375 , 98.80, 2
> 0.004 <= 0.0045 , 0.00425 , 98.90, 1
> 0.005 <= 0.006 , 0.0055 , 99.60, 7
> 0.007 <= 0.00792838 , 0.00746419 , 100.00, 4
# target 50% 0.000776364
# target 75% 0.000977778
# target 90% 0.00127143
# target 99% 0.00514286
# target 99.9% 0.00769629
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
Response Body/Total Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
All done 1000 calls (plus 4 warmup) 0.854 ms avg, 100.0 qps
Successfully wrote 4312 bytes of Json data to /data/2018-11-17-083520_http_baseline_100qps_10s_echo_1_1.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
08:35:30 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 100.0 qps
08:35:30 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:35:40 I periodic.go:533> T002 ended after 10.002078371s : 250 calls. qps=24.994805152182106
08:35:40 I periodic.go:533> T000 ended after 10.002257483s : 250 calls. qps=24.994357566269823
08:35:40 I periodic.go:533> T001 ended after 10.002301198s : 250 calls. qps=24.99424832857348
08:35:40 I periodic.go:533> T003 ended after 10.002301178s : 250 calls. qps=24.994248378550473
Ended after 10.002418158s : 1000 calls. qps=99.976
Sleep times : count 996 avg 0.037688227 +/- 0.001256 min 0.028024445 max 0.039595936 sum 37.5374744
Aggregated Function Time : count 1000 avg 0.002036975 +/- 0.001148 min 0.000465924 max 0.011915352 sum 2.036975
# range, mid point, percentile, count
>= 0.000465924 <= 0.0005 , 0.000482962 , 0.50, 5
> 0.0005 <= 0.0006 , 0.00055 , 3.20, 27
> 0.0006 <= 0.0007 , 0.00065 , 8.60, 54
> 0.0007 <= 0.0008 , 0.00075 , 12.70, 41
> 0.0008 <= 0.0009 , 0.00085 , 16.00, 33
> 0.0009 <= 0.001 , 0.00095 , 18.00, 20
> 0.001 <= 0.0011 , 0.00105 , 19.80, 18
> 0.0011 <= 0.0012 , 0.00115 , 21.20, 14
> 0.0012 <= 0.0014 , 0.0013 , 24.40, 32
> 0.0014 <= 0.0016 , 0.0015 , 28.20, 38
> 0.0016 <= 0.0018 , 0.0017 , 37.30, 91
> 0.0018 <= 0.002 , 0.0019 , 49.70, 124
> 0.002 <= 0.0025 , 0.00225 , 79.00, 293
> 0.0025 <= 0.003 , 0.00275 , 91.00, 120
> 0.003 <= 0.0035 , 0.00325 , 94.10, 31
> 0.0035 <= 0.004 , 0.00375 , 96.60, 25
> 0.004 <= 0.0045 , 0.00425 , 97.60, 10
> 0.0045 <= 0.005 , 0.00475 , 97.80, 2
> 0.005 <= 0.006 , 0.0055 , 97.90, 1
> 0.006 <= 0.007 , 0.0065 , 99.50, 16
> 0.009 <= 0.01 , 0.0095 , 99.70, 2
> 0.01 <= 0.0119154 , 0.0109577 , 100.00, 3
# target 50% 0.00200512
# target 75% 0.00243174
# target 90% 0.00295833
# target 99% 0.0066875
# target 99.9% 0.0112769
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
Response Body/Total Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
All done 1000 calls (plus 4 warmup) 2.037 ms avg, 100.0 qps
Successfully wrote 4188 bytes of Json data to /data/2018-11-17-083530_http_linkerd_100qps_10s_echo_1_1.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
08:35:41 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 100.0 qps
08:35:41 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:35:51 I periodic.go:533> T001 ended after 10.002273055s : 250 calls. qps=24.994318653901217
08:35:51 I periodic.go:533> T000 ended after 10.002458866s : 250 calls. qps=24.993854346133936
08:35:51 I periodic.go:533> T003 ended after 10.004722067s : 250 calls. qps=24.988200404348124
08:35:51 I periodic.go:533> T002 ended after 10.006498296s : 250 calls. qps=24.983764810106955
Ended after 10.00673947s : 1000 calls. qps=99.933
Sleep times : count 996 avg 0.036987233 +/- 0.001896 min 0.025015273 max 0.039411017 sum 36.8392845
Aggregated Function Time : count 1000 avg 0.002592034 +/- 0.001504 min 0.000475263 max 0.012316054 sum 2.59203403
# range, mid point, percentile, count
>= 0.000475263 <= 0.0005 , 0.000487632 , 0.10, 1
> 0.0005 <= 0.0006 , 0.00055 , 0.60, 5
> 0.0006 <= 0.0007 , 0.00065 , 2.50, 19
> 0.0007 <= 0.0008 , 0.00075 , 4.90, 24
> 0.0008 <= 0.0009 , 0.00085 , 8.90, 40
> 0.0009 <= 0.001 , 0.00095 , 14.50, 56
> 0.001 <= 0.0011 , 0.00105 , 18.00, 35
> 0.0011 <= 0.0012 , 0.00115 , 21.90, 39
> 0.0012 <= 0.0014 , 0.0013 , 26.60, 47
> 0.0014 <= 0.0016 , 0.0015 , 30.30, 37
> 0.0016 <= 0.0018 , 0.0017 , 32.90, 26
> 0.0018 <= 0.002 , 0.0019 , 35.30, 24
> 0.002 <= 0.0025 , 0.00225 , 50.10, 148
> 0.0025 <= 0.003 , 0.00275 , 63.10, 130
> 0.003 <= 0.0035 , 0.00325 , 79.10, 160
> 0.0035 <= 0.004 , 0.00375 , 88.50, 94
> 0.004 <= 0.0045 , 0.00425 , 92.30, 38
> 0.0045 <= 0.005 , 0.00475 , 95.20, 29
> 0.005 <= 0.006 , 0.0055 , 97.30, 21
> 0.006 <= 0.007 , 0.0065 , 98.50, 12
> 0.007 <= 0.008 , 0.0075 , 99.10, 6
> 0.008 <= 0.009 , 0.0085 , 99.40, 3
> 0.009 <= 0.01 , 0.0095 , 99.70, 3
> 0.012 <= 0.0123161 , 0.012158 , 100.00, 3
# target 50% 0.00249662
# target 75% 0.00337188
# target 90% 0.00419737
# target 99% 0.00783333
# target 99.9% 0.0122107
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 209.001 +/- 0.03161 min 209 max 210 sum 209001
Response Body/Total Sizes : count 1000 avg 209.001 +/- 0.03161 min 209 max 210 sum 209001
All done 1000 calls (plus 4 warmup) 2.592 ms avg, 99.9 qps
Successfully wrote 4472 bytes of Json data to /data/2018-11-17-083541_http_istio_100qps_10s_echo_1_1.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
08:35:51 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:36:01 I periodic.go:533> T000 ended after 10.001985514s : 250 calls. qps=24.995037200370817
08:36:01 I periodic.go:533> T001 ended after 10.002019132s : 250 calls. qps=24.994953189017757
08:36:01 I periodic.go:533> T003 ended after 10.002095317s : 250 calls. qps=24.9947628048584
08:36:01 I periodic.go:533> T002 ended after 10.002683514s : 250 calls. qps=24.99329301482886
Ended after 10.003603839s : 1000 calls. qps=99.964
Sleep times : count 996 avg 0.038296986 +/- 0.001107 min 0.030825514 max 0.039721314 sum 38.143798
Aggregated Function Time : count 1000 avg 0.001374153 +/- 0.00086 min 0.00018652 max 0.007075288 sum 1.37415297
# range, mid point, percentile, count
>= 0.00018652 <= 0.0002 , 0.00019326 , 0.10, 1
> 0.0002 <= 0.0003 , 0.00025 , 1.10, 10
> 0.0003 <= 0.0004 , 0.00035 , 4.60, 35
> 0.0004 <= 0.0005 , 0.00045 , 9.10, 45
> 0.0005 <= 0.0006 , 0.00055 , 12.40, 33
> 0.0006 <= 0.0007 , 0.00065 , 14.70, 23
> 0.0007 <= 0.0008 , 0.00075 , 17.30, 26
> 0.0008 <= 0.0009 , 0.00085 , 20.90, 36
> 0.0009 <= 0.001 , 0.00095 , 27.70, 68
> 0.001 <= 0.0011 , 0.00105 , 36.10, 84
> 0.0011 <= 0.0012 , 0.00115 , 46.50, 104
> 0.0012 <= 0.0014 , 0.0013 , 64.60, 181
> 0.0014 <= 0.0016 , 0.0015 , 78.30, 137
> 0.0016 <= 0.0018 , 0.0017 , 85.10, 68
> 0.0018 <= 0.002 , 0.0019 , 89.00, 39
> 0.002 <= 0.0025 , 0.00225 , 92.80, 38
> 0.0025 <= 0.003 , 0.00275 , 95.60, 28
> 0.003 <= 0.0035 , 0.00325 , 96.90, 13
> 0.0035 <= 0.004 , 0.00375 , 97.70, 8
> 0.004 <= 0.0045 , 0.00425 , 97.90, 2
> 0.0045 <= 0.005 , 0.00475 , 98.80, 9
> 0.005 <= 0.006 , 0.0055 , 99.30, 5
> 0.006 <= 0.007 , 0.0065 , 99.90, 6
> 0.007 <= 0.00707529 , 0.00703764 , 100.00, 1
# target 50% 0.00123867
# target 75% 0.00155182
# target 90% 0.00213158
# target 99% 0.0054
# target 99.9% 0.007
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 1.374 ms avg, 100.0 qps
Successfully wrote 3872 bytes of Json data to /data/2018-11-17-083551_grpc_baseline_100qps_10s_echo_1_1.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
08:36:01 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:36:11 I periodic.go:533> T000 ended after 10.002270647s : 250 calls. qps=24.99432467116684
08:36:11 I periodic.go:533> T002 ended after 10.002448599s : 250 calls. qps=24.993880001042335
08:36:11 I periodic.go:533> T003 ended after 10.002785441s : 250 calls. qps=24.993038336630256
08:36:11 I periodic.go:533> T001 ended after 10.002398263s : 250 calls. qps=24.994005780071586
Ended after 10.004434437s : 1000 calls. qps=99.956
Sleep times : count 996 avg 0.037098285 +/- 0.001819 min 0.02065252 max 0.039434787 sum 36.9498921
Aggregated Function Time : count 1000 avg 0.002583465 +/- 0.001401 min 0.000533953 max 0.011107176 sum 2.58346501
# range, mid point, percentile, count
>= 0.000533953 <= 0.0006 , 0.000566977 , 0.30, 3
> 0.0006 <= 0.0007 , 0.00065 , 1.30, 10
> 0.0007 <= 0.0008 , 0.00075 , 3.70, 24
> 0.0008 <= 0.0009 , 0.00085 , 7.80, 41
> 0.0009 <= 0.001 , 0.00095 , 13.10, 53
> 0.001 <= 0.0011 , 0.00105 , 17.30, 42
> 0.0011 <= 0.0012 , 0.00115 , 20.70, 34
> 0.0012 <= 0.0014 , 0.0013 , 25.60, 49
> 0.0014 <= 0.0016 , 0.0015 , 29.00, 34
> 0.0016 <= 0.0018 , 0.0017 , 31.30, 23
> 0.0018 <= 0.002 , 0.0019 , 34.00, 27
> 0.002 <= 0.0025 , 0.00225 , 43.70, 97
> 0.0025 <= 0.003 , 0.00275 , 66.40, 227
> 0.003 <= 0.0035 , 0.00325 , 83.20, 168
> 0.0035 <= 0.004 , 0.00375 , 90.50, 73
> 0.004 <= 0.0045 , 0.00425 , 93.30, 28
> 0.0045 <= 0.005 , 0.00475 , 95.80, 25
> 0.005 <= 0.006 , 0.0055 , 97.40, 16
> 0.006 <= 0.007 , 0.0065 , 98.40, 10
> 0.007 <= 0.008 , 0.0075 , 99.30, 9
> 0.008 <= 0.009 , 0.0085 , 99.60, 3
> 0.01 <= 0.0111072 , 0.0105536 , 100.00, 4
# target 50% 0.00263877
# target 75% 0.00325595
# target 90% 0.00396575
# target 99% 0.00766667
# target 99.9% 0.0108304
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 2.583 ms avg, 100.0 qps
Successfully wrote 3656 bytes of Json data to /data/2018-11-17-083601_grpc_linkerd_100qps_10s_echo_1_1.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-istio:8079
08:36:11 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:36:21 I periodic.go:533> T002 ended after 10.008487683s : 250 calls. qps=24.978798787417162
08:36:21 I periodic.go:533> T001 ended after 10.008475868s : 250 calls. qps=24.97882827487475
08:36:21 I periodic.go:533> T000 ended after 10.009023877s : 250 calls. qps=24.97746064673515
08:36:21 I periodic.go:533> T003 ended after 10.009216188s : 250 calls. qps=24.97698074497819
Ended after 10.009302956s : 1000 calls. qps=99.907
Sleep times : count 996 avg 0.036379463 +/- 0.003266 min -0.015698665 max 0.039439119 sum 36.2339448
Aggregated Function Time : count 1000 avg 0.0032499303 +/- 0.003019 min 0.000517098 max 0.055421075 sum 3.24993034
# range, mid point, percentile, count
>= 0.000517098 <= 0.0006 , 0.000558549 , 0.30, 3
> 0.0006 <= 0.0007 , 0.00065 , 1.30, 10
> 0.0007 <= 0.0008 , 0.00075 , 2.60, 13
> 0.0008 <= 0.0009 , 0.00085 , 5.00, 24
> 0.0009 <= 0.001 , 0.00095 , 7.50, 25
> 0.001 <= 0.0011 , 0.00105 , 9.70, 22
> 0.0011 <= 0.0012 , 0.00115 , 12.90, 32
> 0.0012 <= 0.0014 , 0.0013 , 18.50, 56
> 0.0014 <= 0.0016 , 0.0015 , 22.60, 41
> 0.0016 <= 0.0018 , 0.0017 , 25.10, 25
> 0.0018 <= 0.002 , 0.0019 , 29.10, 40
> 0.002 <= 0.0025 , 0.00225 , 41.60, 125
> 0.0025 <= 0.003 , 0.00275 , 52.50, 109
> 0.003 <= 0.0035 , 0.00325 , 62.70, 102
> 0.0035 <= 0.004 , 0.00375 , 76.70, 140
> 0.004 <= 0.0045 , 0.00425 , 84.20, 75
> 0.0045 <= 0.005 , 0.00475 , 89.60, 54
> 0.005 <= 0.006 , 0.0055 , 93.40, 38
> 0.006 <= 0.007 , 0.0065 , 95.90, 25
> 0.007 <= 0.008 , 0.0075 , 97.20, 13
> 0.008 <= 0.009 , 0.0085 , 98.60, 14
> 0.009 <= 0.01 , 0.0095 , 99.10, 5
> 0.01 <= 0.012 , 0.011 , 99.30, 2
> 0.014 <= 0.016 , 0.015 , 99.50, 2
> 0.025 <= 0.03 , 0.0275 , 99.60, 1
> 0.03 <= 0.035 , 0.0325 , 99.90, 3
> 0.05 <= 0.0554211 , 0.0527105 , 100.00, 1
# target 50% 0.00288532
# target 75% 0.00393929
# target 90% 0.00510526
# target 99% 0.0098
# target 99.9% 0.035
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 3.250 ms avg, 99.9 qps
Successfully wrote 4205 bytes of Json data to /data/2018-11-17-083611_grpc_istio_100qps_10s_echo_1_1.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
08:36:21 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 100.0 qps
08:36:21 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:36:31 I periodic.go:533> T003 ended after 10.000670431s : 250 calls. qps=24.9983240348619
08:36:31 I periodic.go:533> T001 ended after 10.000727863s : 250 calls. qps=24.998180474936497
08:36:31 I periodic.go:533> T000 ended after 10.00076365s : 250 calls. qps=24.9980910207792
08:36:31 I periodic.go:533> T002 ended after 10.000900354s : 250 calls. qps=24.997749317641084
Ended after 10.001837212s : 1000 calls. qps=99.982
Sleep times : count 996 avg 0.038702399 +/- 0.002101 min 0.009785203 max 0.039901031 sum 38.5475892
Aggregated Function Time : count 1000 avg 0.00099982285 +/- 0.00166 min 0.000112384 max 0.026227046 sum 0.999822852
# range, mid point, percentile, count
>= 0.000112384 <= 0.0002 , 0.000156192 , 3.00, 30
> 0.0002 <= 0.0003 , 0.00025 , 10.50, 75
> 0.0003 <= 0.0004 , 0.00035 , 15.90, 54
> 0.0004 <= 0.0005 , 0.00045 , 19.90, 40
> 0.0005 <= 0.0006 , 0.00055 , 26.20, 63
> 0.0006 <= 0.0007 , 0.00065 , 36.10, 99
> 0.0007 <= 0.0008 , 0.00075 , 47.50, 114
> 0.0008 <= 0.0009 , 0.00085 , 62.70, 152
> 0.0009 <= 0.001 , 0.00095 , 75.50, 128
> 0.001 <= 0.0011 , 0.00105 , 82.80, 73
> 0.0011 <= 0.0012 , 0.00115 , 87.80, 50
> 0.0012 <= 0.0014 , 0.0013 , 92.40, 46
> 0.0014 <= 0.0016 , 0.0015 , 93.80, 14
> 0.0016 <= 0.0018 , 0.0017 , 94.30, 5
> 0.0018 <= 0.002 , 0.0019 , 95.00, 7
> 0.002 <= 0.0025 , 0.00225 , 96.20, 12
> 0.0025 <= 0.003 , 0.00275 , 97.10, 9
> 0.003 <= 0.0035 , 0.00325 , 97.70, 6
> 0.0035 <= 0.004 , 0.00375 , 98.40, 7
> 0.004 <= 0.0045 , 0.00425 , 98.70, 3
> 0.0045 <= 0.005 , 0.00475 , 99.00, 3
> 0.005 <= 0.006 , 0.0055 , 99.10, 1
> 0.008 <= 0.009 , 0.0085 , 99.50, 4
> 0.01 <= 0.012 , 0.011 , 99.60, 1
> 0.02 <= 0.025 , 0.0225 , 99.90, 3
> 0.025 <= 0.026227 , 0.0256135 , 100.00, 1
# target 50% 0.000816447
# target 75% 0.000996094
# target 90% 0.00129565
# target 99% 0.005
# target 99.9% 0.025
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
Response Body/Total Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
All done 1000 calls (plus 4 warmup) 1.000 ms avg, 100.0 qps
Successfully wrote 4613 bytes of Json data to /data/2018-11-17-083621_http_baseline_100qps_10s_echo_0_2.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
08:36:31 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 100.0 qps
08:36:31 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:36:41 I periodic.go:533> T000 ended after 10.002138472s : 250 calls. qps=24.99465496302119
08:36:41 I periodic.go:533> T001 ended after 10.002996695s : 250 calls. qps=24.99251050687266
08:36:41 I periodic.go:533> T002 ended after 10.003077953s : 250 calls. qps=24.992307485219893
08:36:41 I periodic.go:533> T003 ended after 10.005171337s : 250 calls. qps=24.987078339725986
Ended after 10.006410169s : 1000 calls. qps=99.936
Sleep times : count 996 avg 0.037508163 +/- 0.001736 min 0.023587439 max 0.039582133 sum 37.3581304
Aggregated Function Time : count 1000 avg 0.0021458285 +/- 0.001281 min 0.00034302 max 0.008558402 sum 2.14582852
# range, mid point, percentile, count
>= 0.00034302 <= 0.0004 , 0.00037151 , 0.10, 1
> 0.0004 <= 0.0005 , 0.00045 , 1.00, 9
> 0.0005 <= 0.0006 , 0.00055 , 6.10, 51
> 0.0006 <= 0.0007 , 0.00065 , 10.00, 39
> 0.0007 <= 0.0008 , 0.00075 , 13.00, 30
> 0.0008 <= 0.0009 , 0.00085 , 15.20, 22
> 0.0009 <= 0.001 , 0.00095 , 17.50, 23
> 0.001 <= 0.0011 , 0.00105 , 19.20, 17
> 0.0011 <= 0.0012 , 0.00115 , 20.70, 15
> 0.0012 <= 0.0014 , 0.0013 , 24.60, 39
> 0.0014 <= 0.0016 , 0.0015 , 29.30, 47
> 0.0016 <= 0.0018 , 0.0017 , 38.60, 93
> 0.0018 <= 0.002 , 0.0019 , 50.40, 118
> 0.002 <= 0.0025 , 0.00225 , 75.70, 253
> 0.0025 <= 0.003 , 0.00275 , 85.60, 99
> 0.003 <= 0.0035 , 0.00325 , 89.50, 39
> 0.0035 <= 0.004 , 0.00375 , 92.50, 30
> 0.004 <= 0.0045 , 0.00425 , 94.40, 19
> 0.0045 <= 0.005 , 0.00475 , 95.40, 10
> 0.005 <= 0.006 , 0.0055 , 97.40, 20
> 0.006 <= 0.007 , 0.0065 , 99.20, 18
> 0.007 <= 0.008 , 0.0075 , 99.30, 1
> 0.008 <= 0.0085584 , 0.0082792 , 100.00, 7
# target 50% 0.00199322
# target 75% 0.00248617
# target 90% 0.00358333
# target 99% 0.00688889
# target 99.9% 0.00847863
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
Response Body/Total Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
All done 1000 calls (plus 4 warmup) 2.146 ms avg, 99.9 qps
Successfully wrote 4284 bytes of Json data to /data/2018-11-17-083631_http_linkerd_100qps_10s_echo_0_2.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
08:36:41 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 100.0 qps
08:36:41 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:36:51 I periodic.go:533> T001 ended after 10.001421626s : 250 calls. qps=24.996446440183302
08:36:51 I periodic.go:533> T003 ended after 10.001583065s : 250 calls. qps=24.99604296392453
08:36:51 I periodic.go:533> T002 ended after 10.001609853s : 250 calls. qps=24.995976015302386
08:36:51 I periodic.go:533> T000 ended after 10.001995261s : 250 calls. qps=24.995012842568073
Ended after 10.002061209s : 1000 calls. qps=99.979
Sleep times : count 996 avg 0.036577273 +/- 0.003135 min 0.001029997 max 0.039425407 sum 36.4309638
Aggregated Function Time : count 1000 avg 0.0028735436 +/- 0.002124 min 0.000476043 max 0.023789045 sum 2.87354362
# range, mid point, percentile, count
>= 0.000476043 <= 0.0005 , 0.000488022 , 0.10, 1
> 0.0005 <= 0.0006 , 0.00055 , 0.30, 2
> 0.0006 <= 0.0007 , 0.00065 , 2.30, 20
> 0.0007 <= 0.0008 , 0.00075 , 4.80, 25
> 0.0008 <= 0.0009 , 0.00085 , 7.60, 28
> 0.0009 <= 0.001 , 0.00095 , 10.70, 31
> 0.001 <= 0.0011 , 0.00105 , 14.00, 33
> 0.0011 <= 0.0012 , 0.00115 , 17.50, 35
> 0.0012 <= 0.0014 , 0.0013 , 20.90, 34
> 0.0014 <= 0.0016 , 0.0015 , 24.50, 36
> 0.0016 <= 0.0018 , 0.0017 , 27.20, 27
> 0.0018 <= 0.002 , 0.0019 , 31.00, 38
> 0.002 <= 0.0025 , 0.00225 , 46.10, 151
> 0.0025 <= 0.003 , 0.00275 , 61.40, 153
> 0.003 <= 0.0035 , 0.00325 , 75.30, 139
> 0.0035 <= 0.004 , 0.00375 , 85.80, 105
> 0.004 <= 0.0045 , 0.00425 , 91.50, 57
> 0.0045 <= 0.005 , 0.00475 , 92.60, 11
> 0.005 <= 0.006 , 0.0055 , 95.40, 28
> 0.006 <= 0.007 , 0.0065 , 96.70, 13
> 0.007 <= 0.008 , 0.0075 , 97.80, 11
> 0.008 <= 0.009 , 0.0085 , 98.10, 3
> 0.009 <= 0.01 , 0.0095 , 98.80, 7
> 0.01 <= 0.012 , 0.011 , 99.00, 2
> 0.012 <= 0.014 , 0.013 , 99.40, 4
> 0.014 <= 0.016 , 0.015 , 99.70, 3
> 0.02 <= 0.023789 , 0.0218945 , 100.00, 3
# target 50% 0.00262745
# target 75% 0.00348921
# target 90% 0.00436842
# target 99% 0.012
# target 99.9% 0.022526
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 209.002 +/- 0.04468 min 209 max 210 sum 209002
Response Body/Total Sizes : count 1000 avg 209.002 +/- 0.04468 min 209 max 210 sum 209002
All done 1000 calls (plus 4 warmup) 2.874 ms avg, 100.0 qps
Successfully wrote 4768 bytes of Json data to /data/2018-11-17-083641_http_istio_100qps_10s_echo_0_2.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
08:36:51 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:37:01 I periodic.go:533> T000 ended after 10.000836746s : 250 calls. qps=24.997908310021323
08:37:01 I periodic.go:533> T003 ended after 10.000837084s : 250 calls. qps=24.997907465162744
08:37:01 I periodic.go:533> T002 ended after 10.00086389s : 250 calls. qps=24.997840461560365
08:37:01 I periodic.go:533> T001 ended after 10.000886214s : 250 calls. qps=24.997784661326417
Ended after 10.000920309s : 1000 calls. qps=99.991
Sleep times : count 996 avg 0.038462838 +/- 0.0009597 min 0.028103413 max 0.0397803 sum 38.3089868
Aggregated Function Time : count 1000 avg 0.0012434536 +/- 0.000725 min 0.000193933 max 0.009492187 sum 1.24345361
# range, mid point, percentile, count
>= 0.000193933 <= 0.0002 , 0.000196967 , 0.10, 1
> 0.0002 <= 0.0003 , 0.00025 , 1.60, 15
> 0.0003 <= 0.0004 , 0.00035 , 6.00, 44
> 0.0004 <= 0.0005 , 0.00045 , 12.00, 60
> 0.0005 <= 0.0006 , 0.00055 , 17.60, 56
> 0.0006 <= 0.0007 , 0.00065 , 20.20, 26
> 0.0007 <= 0.0008 , 0.00075 , 22.80, 26
> 0.0008 <= 0.0009 , 0.00085 , 26.10, 33
> 0.0009 <= 0.001 , 0.00095 , 30.90, 48
> 0.001 <= 0.0011 , 0.00105 , 38.30, 74
> 0.0011 <= 0.0012 , 0.00115 , 49.60, 113
> 0.0012 <= 0.0014 , 0.0013 , 69.20, 196
> 0.0014 <= 0.0016 , 0.0015 , 82.80, 136
> 0.0016 <= 0.0018 , 0.0017 , 89.40, 66
> 0.0018 <= 0.002 , 0.0019 , 92.70, 33
> 0.002 <= 0.0025 , 0.00225 , 96.40, 37
> 0.0025 <= 0.003 , 0.00275 , 98.10, 17
> 0.003 <= 0.0035 , 0.00325 , 98.50, 4
> 0.0035 <= 0.004 , 0.00375 , 98.60, 1
> 0.004 <= 0.0045 , 0.00425 , 99.00, 4
> 0.0045 <= 0.005 , 0.00475 , 99.50, 5
> 0.005 <= 0.006 , 0.0055 , 99.80, 3
> 0.006 <= 0.007 , 0.0065 , 99.90, 1
> 0.009 <= 0.00949219 , 0.00924609 , 100.00, 1
# target 50% 0.00120408
# target 75% 0.00148529
# target 90% 0.00183636
# target 99% 0.0045
# target 99.9% 0.007
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 1.243 ms avg, 100.0 qps
Successfully wrote 3899 bytes of Json data to /data/2018-11-17-083651_grpc_baseline_100qps_10s_echo_0_2.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
08:37:01 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:37:11 I periodic.go:533> T000 ended after 10.001062987s : 250 calls. qps=24.997342814955317
08:37:11 I periodic.go:533> T002 ended after 10.001308282s : 250 calls. qps=24.996729722844474
08:37:11 I periodic.go:533> T003 ended after 10.001314666s : 250 calls. qps=24.996713767029874
08:37:11 I periodic.go:533> T001 ended after 10.001440169s : 250 calls. qps=24.99640009594702
Ended after 10.001462119s : 1000 calls. qps=99.985
Sleep times : count 996 avg 0.036716807 +/- 0.003082 min 0.005138135 max 0.039320639 sum 36.5699396
Aggregated Function Time : count 1000 avg 0.002891894 +/- 0.002521 min 0.000556277 max 0.023884887 sum 2.89189397
# range, mid point, percentile, count
>= 0.000556277 <= 0.0006 , 0.000578139 , 0.30, 3
> 0.0006 <= 0.0007 , 0.00065 , 1.70, 14
> 0.0007 <= 0.0008 , 0.00075 , 5.10, 34
> 0.0008 <= 0.0009 , 0.00085 , 11.60, 65
> 0.0009 <= 0.001 , 0.00095 , 16.80, 52
> 0.001 <= 0.0011 , 0.00105 , 19.60, 28
> 0.0011 <= 0.0012 , 0.00115 , 21.30, 17
> 0.0012 <= 0.0014 , 0.0013 , 25.90, 46
> 0.0014 <= 0.0016 , 0.0015 , 28.80, 29
> 0.0016 <= 0.0018 , 0.0017 , 30.90, 21
> 0.0018 <= 0.002 , 0.0019 , 33.20, 23
> 0.002 <= 0.0025 , 0.00225 , 46.50, 133
> 0.0025 <= 0.003 , 0.00275 , 69.30, 228
> 0.003 <= 0.0035 , 0.00325 , 81.40, 121
> 0.0035 <= 0.004 , 0.00375 , 88.10, 67
> 0.004 <= 0.0045 , 0.00425 , 90.60, 25
> 0.0045 <= 0.005 , 0.00475 , 91.80, 12
> 0.005 <= 0.006 , 0.0055 , 92.90, 11
> 0.006 <= 0.007 , 0.0065 , 94.50, 16
> 0.007 <= 0.008 , 0.0075 , 95.60, 11
> 0.008 <= 0.009 , 0.0085 , 96.90, 13
> 0.009 <= 0.01 , 0.0095 , 97.20, 3
> 0.01 <= 0.012 , 0.011 , 98.10, 9
> 0.012 <= 0.014 , 0.013 , 99.00, 9
> 0.014 <= 0.016 , 0.015 , 99.10, 1
> 0.016 <= 0.018 , 0.017 , 99.40, 3
> 0.018 <= 0.02 , 0.019 , 99.80, 4
> 0.02 <= 0.0238849 , 0.0219424 , 100.00, 2
# target 50% 0.00257675
# target 75% 0.00323554
# target 90% 0.00438
# target 99% 0.014
# target 99.9% 0.0219424
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 2.892 ms avg, 100.0 qps
Successfully wrote 4319 bytes of Json data to /data/2018-11-17-083701_grpc_linkerd_100qps_10s_echo_0_2.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-istio:8079
08:37:11 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:37:21 I periodic.go:533> T000 ended after 10.003613995s : 250 calls. qps=24.990968276560334
08:37:21 I periodic.go:533> T001 ended after 10.006085939s : 250 calls. qps=24.98479440653143
08:37:21 I periodic.go:533> T002 ended after 10.009367267s : 250 calls. qps=24.97660374839356
08:37:21 I periodic.go:533> T003 ended after 10.00959377s : 250 calls. qps=24.976038563051496
Ended after 10.00986638s : 1000 calls. qps=99.901
Sleep times : count 996 avg 0.035916946 +/- 0.002359 min 0.022773231 max 0.039303584 sum 35.7732784
Aggregated Function Time : count 1000 avg 0.0037343524 +/- 0.002029 min 0.000548309 max 0.013798821 sum 3.73435241
# range, mid point, percentile, count
>= 0.000548309 <= 0.0006 , 0.000574155 , 0.10, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.20, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.60, 4
> 0.0008 <= 0.0009 , 0.00085 , 1.50, 9
> 0.0009 <= 0.001 , 0.00095 , 3.00, 15
> 0.001 <= 0.0011 , 0.00105 , 4.60, 16
> 0.0011 <= 0.0012 , 0.00115 , 6.70, 21
> 0.0012 <= 0.0014 , 0.0013 , 11.80, 51
> 0.0014 <= 0.0016 , 0.0015 , 17.80, 60
> 0.0016 <= 0.0018 , 0.0017 , 21.70, 39
> 0.0018 <= 0.002 , 0.0019 , 25.30, 36
> 0.002 <= 0.0025 , 0.00225 , 32.90, 76
> 0.0025 <= 0.003 , 0.00275 , 39.70, 68
> 0.003 <= 0.0035 , 0.00325 , 49.20, 95
> 0.0035 <= 0.004 , 0.00375 , 56.80, 76
> 0.004 <= 0.0045 , 0.00425 , 65.90, 91
> 0.0045 <= 0.005 , 0.00475 , 74.50, 86
> 0.005 <= 0.006 , 0.0055 , 87.90, 134
> 0.006 <= 0.007 , 0.0065 , 94.80, 69
> 0.007 <= 0.008 , 0.0075 , 97.00, 22
> 0.008 <= 0.009 , 0.0085 , 98.40, 14
> 0.009 <= 0.01 , 0.0095 , 98.90, 5
> 0.01 <= 0.012 , 0.011 , 99.70, 8
> 0.012 <= 0.0137988 , 0.0128994 , 100.00, 3
# target 50% 0.00355263
# target 75% 0.00503731
# target 90% 0.00630435
# target 99% 0.01025
# target 99.9% 0.0131992
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 3.734 ms avg, 99.9 qps
Successfully wrote 3862 bytes of Json data to /data/2018-11-17-083711_grpc_istio_100qps_10s_echo_0_2.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
08:37:21 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 100.0 qps
08:37:21 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:37:31 I periodic.go:533> T002 ended after 10.001193916s : 250 calls. qps=24.997015566316314
08:37:31 I periodic.go:533> T000 ended after 10.001246294s : 250 calls. qps=24.996884653263795
08:37:31 I periodic.go:533> T003 ended after 10.00119395s : 250 calls. qps=24.997015481336607
08:37:31 I periodic.go:533> T001 ended after 10.001241683s : 250 calls. qps=24.996896177896314
Ended after 10.001372595s : 1000 calls. qps=99.986
Sleep times : count 996 avg 0.038913718 +/- 0.0008586 min 0.027216602 max 0.039842712 sum 38.7580636
Aggregated Function Time : count 1000 avg 0.00083883404 +/- 0.0007 min 0.000110838 max 0.009623811 sum 0.838834038
# range, mid point, percentile, count
>= 0.000110838 <= 0.0002 , 0.000155419 , 1.20, 12
> 0.0002 <= 0.0003 , 0.00025 , 11.10, 99
> 0.0003 <= 0.0004 , 0.00035 , 18.40, 73
> 0.0004 <= 0.0005 , 0.00045 , 23.60, 52
> 0.0005 <= 0.0006 , 0.00055 , 29.10, 55
> 0.0006 <= 0.0007 , 0.00065 , 37.80, 87
> 0.0007 <= 0.0008 , 0.00075 , 49.60, 118
> 0.0008 <= 0.0009 , 0.00085 , 64.10, 145
> 0.0009 <= 0.001 , 0.00095 , 76.70, 126
> 0.001 <= 0.0011 , 0.00105 , 83.90, 72
> 0.0011 <= 0.0012 , 0.00115 , 89.10, 52
> 0.0012 <= 0.0014 , 0.0013 , 94.30, 52
> 0.0014 <= 0.0016 , 0.0015 , 96.50, 22
> 0.0016 <= 0.0018 , 0.0017 , 97.60, 11
> 0.0018 <= 0.002 , 0.0019 , 98.00, 4
> 0.002 <= 0.0025 , 0.00225 , 98.80, 8
> 0.0025 <= 0.003 , 0.00275 , 99.40, 6
> 0.003 <= 0.0035 , 0.00325 , 99.50, 1
> 0.008 <= 0.009 , 0.0085 , 99.80, 3
> 0.009 <= 0.00962381 , 0.00931191 , 100.00, 2
# target 50% 0.000802759
# target 75% 0.000986508
# target 90% 0.00123462
# target 99% 0.00266667
# target 99.9% 0.00931191
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
Response Body/Total Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
All done 1000 calls (plus 4 warmup) 0.839 ms avg, 100.0 qps
Successfully wrote 4005 bytes of Json data to /data/2018-11-17-083721_http_baseline_100qps_10s_echo_1_2.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
08:37:31 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 100.0 qps
08:37:31 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:37:41 I periodic.go:533> T001 ended after 10.002632939s : 250 calls. qps=24.993419385135752
08:37:41 I periodic.go:533> T000 ended after 10.002871331s : 250 calls. qps=24.992823733043778
08:37:41 I periodic.go:533> T003 ended after 10.002707236s : 250 calls. qps=24.993233741785783
08:37:41 I periodic.go:533> T002 ended after 10.002671611s : 250 calls. qps=24.993322756399746
Ended after 10.007950833s : 1000 calls. qps=99.921
Sleep times : count 996 avg 0.035405173 +/- 0.01036 min -0.046080588 max 0.039542084 sum 35.2635518
Aggregated Function Time : count 1000 avg 0.0030964786 +/- 0.006117 min 0.000323988 max 0.084041779 sum 3.09647859
# range, mid point, percentile, count
>= 0.000323988 <= 0.0004 , 0.000361994 , 0.40, 4
> 0.0004 <= 0.0005 , 0.00045 , 0.70, 3
> 0.0005 <= 0.0006 , 0.00055 , 3.60, 29
> 0.0006 <= 0.0007 , 0.00065 , 8.50, 49
> 0.0007 <= 0.0008 , 0.00075 , 12.10, 36
> 0.0008 <= 0.0009 , 0.00085 , 16.20, 41
> 0.0009 <= 0.001 , 0.00095 , 19.20, 30
> 0.001 <= 0.0011 , 0.00105 , 21.80, 26
> 0.0011 <= 0.0012 , 0.00115 , 23.40, 16
> 0.0012 <= 0.0014 , 0.0013 , 28.50, 51
> 0.0014 <= 0.0016 , 0.0015 , 34.30, 58
> 0.0016 <= 0.0018 , 0.0017 , 39.50, 52
> 0.0018 <= 0.002 , 0.0019 , 45.80, 63
> 0.002 <= 0.0025 , 0.00225 , 67.90, 221
> 0.0025 <= 0.003 , 0.00275 , 79.30, 114
> 0.003 <= 0.0035 , 0.00325 , 83.30, 40
> 0.0035 <= 0.004 , 0.00375 , 86.80, 35
> 0.004 <= 0.0045 , 0.00425 , 91.20, 44
> 0.0045 <= 0.005 , 0.00475 , 92.90, 17
> 0.005 <= 0.006 , 0.0055 , 94.00, 11
> 0.006 <= 0.007 , 0.0065 , 94.50, 5
> 0.007 <= 0.008 , 0.0075 , 95.20, 7
> 0.008 <= 0.009 , 0.0085 , 96.30, 11
> 0.009 <= 0.01 , 0.0095 , 96.50, 2
> 0.01 <= 0.012 , 0.011 , 96.70, 2
> 0.012 <= 0.014 , 0.013 , 97.50, 8
> 0.014 <= 0.016 , 0.015 , 97.90, 4
> 0.016 <= 0.018 , 0.017 , 98.30, 4
> 0.018 <= 0.02 , 0.019 , 98.40, 1
> 0.02 <= 0.025 , 0.0225 , 98.50, 1
> 0.025 <= 0.03 , 0.0275 , 99.10, 6
> 0.035 <= 0.04 , 0.0375 , 99.50, 4
> 0.04 <= 0.045 , 0.0425 , 99.60, 1
> 0.07 <= 0.08 , 0.075 , 99.90, 3
> 0.08 <= 0.0840418 , 0.0820209 , 100.00, 1
# target 50% 0.00209502
# target 75% 0.0028114
# target 90% 0.00436364
# target 99% 0.0291667
# target 99.9% 0.08
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
Response Body/Total Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
All done 1000 calls (plus 4 warmup) 3.096 ms avg, 99.9 qps
Successfully wrote 5636 bytes of Json data to /data/2018-11-17-083731_http_linkerd_100qps_10s_echo_1_2.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
08:37:41 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 100.0 qps
08:37:41 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:37:51 I periodic.go:533> T001 ended after 10.001809124s : 250 calls. qps=24.99547800808441
08:37:51 I periodic.go:533> T003 ended after 10.002745027s : 250 calls. qps=24.993139315776343
08:37:51 I periodic.go:533> T000 ended after 10.002809698s : 250 calls. qps=24.992977728046345
08:37:51 I periodic.go:533> T002 ended after 10.002840447s : 250 calls. qps=24.992900898962024
Ended after 10.002954086s : 1000 calls. qps=99.97
Sleep times : count 996 avg 0.035999377 +/- 0.003473 min -0.01483028 max 0.039312633 sum 35.8553792
Aggregated Function Time : count 1000 avg 0.0035435386 +/- 0.002761 min 0.000420211 max 0.052081143 sum 3.54353861
# range, mid point, percentile, count
>= 0.000420211 <= 0.0005 , 0.000460105 , 0.10, 1
> 0.0005 <= 0.0006 , 0.00055 , 0.30, 2
> 0.0006 <= 0.0007 , 0.00065 , 0.40, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.90, 5
> 0.0008 <= 0.0009 , 0.00085 , 1.50, 6
> 0.0009 <= 0.001 , 0.00095 , 2.90, 14
> 0.001 <= 0.0011 , 0.00105 , 4.80, 19
> 0.0011 <= 0.0012 , 0.00115 , 8.50, 37
> 0.0012 <= 0.0014 , 0.0013 , 17.20, 87
> 0.0014 <= 0.0016 , 0.0015 , 20.40, 32
> 0.0016 <= 0.0018 , 0.0017 , 25.30, 49
> 0.0018 <= 0.002 , 0.0019 , 28.00, 27
> 0.002 <= 0.0025 , 0.00225 , 34.00, 60
> 0.0025 <= 0.003 , 0.00275 , 41.30, 73
> 0.003 <= 0.0035 , 0.00325 , 51.80, 105
> 0.0035 <= 0.004 , 0.00375 , 67.10, 153
> 0.004 <= 0.0045 , 0.00425 , 78.10, 110
> 0.0045 <= 0.005 , 0.00475 , 84.10, 60
> 0.005 <= 0.006 , 0.0055 , 91.50, 74
> 0.006 <= 0.007 , 0.0065 , 94.70, 32
> 0.007 <= 0.008 , 0.0075 , 96.70, 20
> 0.008 <= 0.009 , 0.0085 , 98.40, 17
> 0.009 <= 0.01 , 0.0095 , 99.60, 12
> 0.01 <= 0.012 , 0.011 , 99.70, 1
> 0.03 <= 0.035 , 0.0325 , 99.90, 2
> 0.05 <= 0.0520811 , 0.0510406 , 100.00, 1
# target 50% 0.00341429
# target 75% 0.00435909
# target 90% 0.0057973
# target 99% 0.0095
# target 99.9% 0.035
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 209 +/- 0 min 209 max 209 sum 209000
Response Body/Total Sizes : count 1000 avg 209 +/- 0 min 209 max 209 sum 209000
All done 1000 calls (plus 4 warmup) 3.544 ms avg, 100.0 qps
Successfully wrote 4636 bytes of Json data to /data/2018-11-17-083741_http_istio_100qps_10s_echo_1_2.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
08:37:51 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:38:01 I periodic.go:533> T001 ended after 10.001698642s : 250 calls. qps=24.995754116223655
08:38:01 I periodic.go:533> T003 ended after 10.001729407s : 250 calls. qps=24.99567723008286
08:38:01 I periodic.go:533> T002 ended after 10.001790059s : 250 calls. qps=24.995525653434434
08:38:01 I periodic.go:533> T000 ended after 10.00212306s : 250 calls. qps=24.994693476606756
Ended after 10.002523224s : 1000 calls. qps=99.975
Sleep times : count 996 avg 0.038436757 +/- 0.00112 min 0.029012549 max 0.039852426 sum 38.2830104
Aggregated Function Time : count 1000 avg 0.0012444963 +/- 0.0007836 min 0.000169157 max 0.007015447 sum 1.24449628
# range, mid point, percentile, count
>= 0.000169157 <= 0.0002 , 0.000184579 , 0.10, 1
> 0.0002 <= 0.0003 , 0.00025 , 2.30, 22
> 0.0003 <= 0.0004 , 0.00035 , 8.40, 61
> 0.0004 <= 0.0005 , 0.00045 , 15.30, 69
> 0.0005 <= 0.0006 , 0.00055 , 19.40, 41
> 0.0006 <= 0.0007 , 0.00065 , 23.60, 42
> 0.0007 <= 0.0008 , 0.00075 , 27.10, 35
> 0.0008 <= 0.0009 , 0.00085 , 30.70, 36
> 0.0009 <= 0.001 , 0.00095 , 35.40, 47
> 0.001 <= 0.0011 , 0.00105 , 43.20, 78
> 0.0011 <= 0.0012 , 0.00115 , 52.20, 90
> 0.0012 <= 0.0014 , 0.0013 , 68.80, 166
> 0.0014 <= 0.0016 , 0.0015 , 80.10, 113
> 0.0016 <= 0.0018 , 0.0017 , 87.10, 70
> 0.0018 <= 0.002 , 0.0019 , 90.60, 35
> 0.002 <= 0.0025 , 0.00225 , 94.70, 41
> 0.0025 <= 0.003 , 0.00275 , 96.50, 18
> 0.003 <= 0.0035 , 0.00325 , 97.80, 13
> 0.0035 <= 0.004 , 0.00375 , 98.70, 9
> 0.004 <= 0.0045 , 0.00425 , 99.10, 4
> 0.0045 <= 0.005 , 0.00475 , 99.50, 4
> 0.005 <= 0.006 , 0.0055 , 99.60, 1
> 0.006 <= 0.007 , 0.0065 , 99.90, 3
> 0.007 <= 0.00701545 , 0.00700772 , 100.00, 1
# target 50% 0.00117556
# target 75% 0.00150973
# target 90% 0.00196571
# target 99% 0.004375
# target 99.9% 0.007
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 1.244 ms avg, 100.0 qps
Successfully wrote 3888 bytes of Json data to /data/2018-11-17-083751_grpc_baseline_100qps_10s_echo_1_2.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
08:38:01 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:38:12 I periodic.go:533> T003 ended after 10.002230745s : 250 calls. qps=24.994424381278357
08:38:12 I periodic.go:533> T002 ended after 10.00222888s : 250 calls. qps=24.994429041699753
08:38:12 I periodic.go:533> T001 ended after 10.0022291s : 250 calls. qps=24.994428491944863
08:38:12 I periodic.go:533> T000 ended after 10.002384134s : 250 calls. qps=24.994041085685023
Ended after 10.002484356s : 1000 calls. qps=99.975
Sleep times : count 996 avg 0.03646345 +/- 0.003308 min -0.015567259 max 0.039332692 sum 36.3175958
Aggregated Function Time : count 1000 avg 0.0030491278 +/- 0.002934 min 0.000530224 max 0.055591647 sum 3.04912784
# range, mid point, percentile, count
>= 0.000530224 <= 0.0006 , 0.000565112 , 0.30, 3
> 0.0006 <= 0.0007 , 0.00065 , 0.60, 3
> 0.0007 <= 0.0008 , 0.00075 , 3.70, 31
> 0.0008 <= 0.0009 , 0.00085 , 8.90, 52
> 0.0009 <= 0.001 , 0.00095 , 15.80, 69
> 0.001 <= 0.0011 , 0.00105 , 18.80, 30
> 0.0011 <= 0.0012 , 0.00115 , 22.40, 36
> 0.0012 <= 0.0014 , 0.0013 , 26.40, 40
> 0.0014 <= 0.0016 , 0.0015 , 28.40, 20
> 0.0016 <= 0.0018 , 0.0017 , 30.70, 23
> 0.0018 <= 0.002 , 0.0019 , 33.10, 24
> 0.002 <= 0.0025 , 0.00225 , 41.50, 84
> 0.0025 <= 0.003 , 0.00275 , 61.60, 201
> 0.003 <= 0.0035 , 0.00325 , 76.10, 145
> 0.0035 <= 0.004 , 0.00375 , 84.50, 84
> 0.004 <= 0.0045 , 0.00425 , 87.90, 34
> 0.0045 <= 0.005 , 0.00475 , 90.70, 28
> 0.005 <= 0.006 , 0.0055 , 93.00, 23
> 0.006 <= 0.007 , 0.0065 , 93.90, 9
> 0.007 <= 0.008 , 0.0075 , 95.00, 11
> 0.008 <= 0.009 , 0.0085 , 96.30, 13
> 0.009 <= 0.01 , 0.0095 , 97.80, 15
> 0.01 <= 0.012 , 0.011 , 98.40, 6
> 0.012 <= 0.014 , 0.013 , 99.10, 7
> 0.014 <= 0.016 , 0.015 , 99.40, 3
> 0.018 <= 0.02 , 0.019 , 99.60, 2
> 0.02 <= 0.025 , 0.0225 , 99.90, 3
> 0.05 <= 0.0555916 , 0.0527958 , 100.00, 1
# target 50% 0.00271144
# target 75% 0.00346207
# target 90% 0.004875
# target 99% 0.0137143
# target 99.9% 0.025
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 3.049 ms avg, 100.0 qps
Successfully wrote 4285 bytes of Json data to /data/2018-11-17-083802_grpc_linkerd_100qps_10s_echo_1_2.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-istio:8079
08:38:12 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:38:22 I periodic.go:533> T001 ended after 10.00236422s : 250 calls. qps=24.994090847053755
08:38:22 I periodic.go:533> T000 ended after 10.002590585s : 250 calls. qps=24.99352521484813
08:38:22 I periodic.go:533> T003 ended after 10.004218296s : 250 calls. qps=24.989458706629566
08:38:22 I periodic.go:533> T002 ended after 10.004629368s : 250 calls. qps=24.98843193528286
Ended after 10.005535266s : 1000 calls. qps=99.945
Sleep times : count 996 avg 0.036047717 +/- 0.00299 min -0.002482049 max 0.039336726 sum 35.9035263
Aggregated Function Time : count 1000 avg 0.0033525784 +/- 0.002386 min 0.000440932 max 0.02982435 sum 3.35257836
# range, mid point, percentile, count
>= 0.000440932 <= 0.0005 , 0.000470466 , 0.10, 1
> 0.0005 <= 0.0006 , 0.00055 , 0.40, 3
> 0.0006 <= 0.0007 , 0.00065 , 1.20, 8
> 0.0007 <= 0.0008 , 0.00075 , 2.60, 14
> 0.0008 <= 0.0009 , 0.00085 , 4.70, 21
> 0.0009 <= 0.001 , 0.00095 , 6.70, 20
> 0.001 <= 0.0011 , 0.00105 , 9.20, 25
> 0.0011 <= 0.0012 , 0.00115 , 11.90, 27
> 0.0012 <= 0.0014 , 0.0013 , 17.40, 55
> 0.0014 <= 0.0016 , 0.0015 , 22.30, 49
> 0.0016 <= 0.0018 , 0.0017 , 26.30, 40
> 0.0018 <= 0.002 , 0.0019 , 30.10, 38
> 0.002 <= 0.0025 , 0.00225 , 41.80, 117
> 0.0025 <= 0.003 , 0.00275 , 52.60, 108
> 0.003 <= 0.0035 , 0.00325 , 62.30, 97
> 0.0035 <= 0.004 , 0.00375 , 70.30, 80
> 0.004 <= 0.0045 , 0.00425 , 77.40, 71
> 0.0045 <= 0.005 , 0.00475 , 83.50, 61
> 0.005 <= 0.006 , 0.0055 , 90.90, 74
> 0.006 <= 0.007 , 0.0065 , 94.20, 33
> 0.007 <= 0.008 , 0.0075 , 96.10, 19
> 0.008 <= 0.009 , 0.0085 , 97.30, 12
> 0.009 <= 0.01 , 0.0095 , 98.00, 7
> 0.01 <= 0.012 , 0.011 , 99.10, 11
> 0.012 <= 0.014 , 0.013 , 99.40, 3
> 0.014 <= 0.016 , 0.015 , 99.50, 1
> 0.016 <= 0.018 , 0.017 , 99.80, 3
> 0.018 <= 0.02 , 0.019 , 99.90, 1
> 0.025 <= 0.0298243 , 0.0274122 , 100.00, 1
# target 50% 0.00287963
# target 75% 0.00433099
# target 90% 0.00587838
# target 99% 0.0118182
# target 99.9% 0.02
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 3.353 ms avg, 99.9 qps
Successfully wrote 4414 bytes of Json data to /data/2018-11-17-083812_grpc_istio_100qps_10s_echo_1_2.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
08:38:22 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 100.0 qps
08:38:22 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:38:32 I periodic.go:533> T003 ended after 10.001162206s : 250 calls. qps=24.997094822641454
08:38:32 I periodic.go:533> T002 ended after 10.001302236s : 250 calls. qps=24.996744833899445
08:38:32 I periodic.go:533> T000 ended after 10.001244884s : 250 calls. qps=24.996888177385816
08:38:32 I periodic.go:533> T001 ended after 10.001697429s : 250 calls. qps=24.995757147694054
Ended after 10.001864682s : 1000 calls. qps=99.981
Sleep times : count 996 avg 0.03872101 +/- 0.001869 min 0.017502128 max 0.039855863 sum 38.5661255
Aggregated Function Time : count 1000 avg 0.00093039223 +/- 0.001021 min 0.000128261 max 0.012653963 sum 0.930392234
# range, mid point, percentile, count
>= 0.000128261 <= 0.0002 , 0.000164131 , 1.90, 19
> 0.0002 <= 0.0003 , 0.00025 , 11.80, 99
> 0.0003 <= 0.0004 , 0.00035 , 19.60, 78
> 0.0004 <= 0.0005 , 0.00045 , 24.90, 53
> 0.0005 <= 0.0006 , 0.00055 , 31.40, 65
> 0.0006 <= 0.0007 , 0.00065 , 40.50, 91
> 0.0007 <= 0.0008 , 0.00075 , 51.70, 112
> 0.0008 <= 0.0009 , 0.00085 , 61.40, 97
> 0.0009 <= 0.001 , 0.00095 , 70.80, 94
> 0.001 <= 0.0011 , 0.00105 , 78.60, 78
> 0.0011 <= 0.0012 , 0.00115 , 84.00, 54
> 0.0012 <= 0.0014 , 0.0013 , 89.60, 56
> 0.0014 <= 0.0016 , 0.0015 , 93.10, 35
> 0.0016 <= 0.0018 , 0.0017 , 95.00, 19
> 0.0018 <= 0.002 , 0.0019 , 95.90, 9
> 0.002 <= 0.0025 , 0.00225 , 97.50, 16
> 0.0025 <= 0.003 , 0.00275 , 98.10, 6
> 0.0035 <= 0.004 , 0.00375 , 98.30, 2
> 0.004 <= 0.0045 , 0.00425 , 98.50, 2
> 0.0045 <= 0.005 , 0.00475 , 99.00, 5
> 0.007 <= 0.008 , 0.0075 , 99.40, 4
> 0.008 <= 0.009 , 0.0085 , 99.70, 3
> 0.01 <= 0.012 , 0.011 , 99.80, 1
> 0.012 <= 0.012654 , 0.012327 , 100.00, 2
# target 50% 0.000784821
# target 75% 0.00105385
# target 90% 0.00142286
# target 99% 0.005
# target 99.9% 0.012327
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
Response Body/Total Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
All done 1000 calls (plus 4 warmup) 0.930 ms avg, 100.0 qps
Successfully wrote 4421 bytes of Json data to /data/2018-11-17-083822_http_baseline_100qps_10s_echo_0_3.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
08:38:32 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 100.0 qps
08:38:32 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:38:42 I periodic.go:533> T002 ended after 10.002744684s : 250 calls. qps=24.993140172805795
08:38:42 I periodic.go:533> T003 ended after 10.003413165s : 250 calls. qps=24.99146999893011
08:38:42 I periodic.go:533> T001 ended after 10.003767891s : 250 calls. qps=24.99058382041383
08:38:42 I periodic.go:533> T000 ended after 10.003875826s : 250 calls. qps=24.99031418905179
Ended after 10.004927811s : 1000 calls. qps=99.951
Sleep times : count 996 avg 0.03758376 +/- 0.001727 min 0.021254799 max 0.039589749 sum 37.4334254
Aggregated Function Time : count 1000 avg 0.0021248189 +/- 0.001525 min 0.000351807 max 0.018101489 sum 2.12481894
# range, mid point, percentile, count
>= 0.000351807 <= 0.0004 , 0.000375903 , 0.10, 1
> 0.0004 <= 0.0005 , 0.00045 , 0.90, 8
> 0.0005 <= 0.0006 , 0.00055 , 5.60, 47
> 0.0006 <= 0.0007 , 0.00065 , 9.70, 41
> 0.0007 <= 0.0008 , 0.00075 , 12.00, 23
> 0.0008 <= 0.0009 , 0.00085 , 15.40, 34
> 0.0009 <= 0.001 , 0.00095 , 18.40, 30
> 0.001 <= 0.0011 , 0.00105 , 21.40, 30
> 0.0011 <= 0.0012 , 0.00115 , 24.80, 34
> 0.0012 <= 0.0014 , 0.0013 , 29.80, 50
> 0.0014 <= 0.0016 , 0.0015 , 32.90, 31
> 0.0016 <= 0.0018 , 0.0017 , 39.80, 69
> 0.0018 <= 0.002 , 0.0019 , 48.10, 83
> 0.002 <= 0.0025 , 0.00225 , 74.50, 264
> 0.0025 <= 0.003 , 0.00275 , 87.00, 125
> 0.003 <= 0.0035 , 0.00325 , 91.60, 46
> 0.0035 <= 0.004 , 0.00375 , 94.40, 28
> 0.004 <= 0.0045 , 0.00425 , 95.70, 13
> 0.0045 <= 0.005 , 0.00475 , 96.90, 12
> 0.005 <= 0.006 , 0.0055 , 98.50, 16
> 0.006 <= 0.007 , 0.0065 , 98.70, 2
> 0.007 <= 0.008 , 0.0075 , 99.20, 5
> 0.008 <= 0.009 , 0.0085 , 99.40, 2
> 0.01 <= 0.012 , 0.011 , 99.60, 2
> 0.016 <= 0.018 , 0.017 , 99.90, 3
> 0.018 <= 0.0181015 , 0.0180507 , 100.00, 1
# target 50% 0.00203598
# target 75% 0.00252
# target 90% 0.00332609
# target 99% 0.0076
# target 99.9% 0.018
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
Response Body/Total Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
All done 1000 calls (plus 4 warmup) 2.125 ms avg, 100.0 qps
Successfully wrote 4640 bytes of Json data to /data/2018-11-17-083832_http_linkerd_100qps_10s_echo_0_3.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
08:38:42 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 100.0 qps
08:38:42 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:38:52 I periodic.go:533> T002 ended after 10.003158388s : 250 calls. qps=24.992106523066283
08:38:52 I periodic.go:533> T003 ended after 10.003157073s : 250 calls. qps=24.992109808491055
08:38:52 I periodic.go:533> T001 ended after 10.003221176s : 250 calls. qps=24.991949653158404
08:38:52 I periodic.go:533> T000 ended after 10.00342224s : 250 calls. qps=24.991447326929986
Ended after 10.003517739s : 1000 calls. qps=99.965
Sleep times : count 996 avg 0.036783255 +/- 0.002314 min 0.02378805 max 0.039437268 sum 36.6361225
Aggregated Function Time : count 1000 avg 0.0026885661 +/- 0.001718 min 0.000401293 max 0.015132767 sum 2.68856605
# range, mid point, percentile, count
>= 0.000401293 <= 0.0005 , 0.000450647 , 0.30, 3
> 0.0005 <= 0.0006 , 0.00055 , 1.20, 9
> 0.0006 <= 0.0007 , 0.00065 , 3.50, 23
> 0.0007 <= 0.0008 , 0.00075 , 6.20, 27
> 0.0008 <= 0.0009 , 0.00085 , 9.50, 33
> 0.0009 <= 0.001 , 0.00095 , 14.30, 48
> 0.001 <= 0.0011 , 0.00105 , 17.60, 33
> 0.0011 <= 0.0012 , 0.00115 , 21.50, 39
> 0.0012 <= 0.0014 , 0.0013 , 24.10, 26
> 0.0014 <= 0.0016 , 0.0015 , 25.80, 17
> 0.0016 <= 0.0018 , 0.0017 , 28.20, 24
> 0.0018 <= 0.002 , 0.0019 , 30.60, 24
> 0.002 <= 0.0025 , 0.00225 , 45.70, 151
> 0.0025 <= 0.003 , 0.00275 , 67.50, 218
> 0.003 <= 0.0035 , 0.00325 , 84.80, 173
> 0.0035 <= 0.004 , 0.00375 , 88.50, 37
> 0.004 <= 0.0045 , 0.00425 , 90.90, 24
> 0.0045 <= 0.005 , 0.00475 , 93.00, 21
> 0.005 <= 0.006 , 0.0055 , 95.70, 27
> 0.006 <= 0.007 , 0.0065 , 97.30, 16
> 0.007 <= 0.008 , 0.0075 , 97.90, 6
> 0.008 <= 0.009 , 0.0085 , 98.50, 6
> 0.009 <= 0.01 , 0.0095 , 99.30, 8
> 0.01 <= 0.012 , 0.011 , 99.50, 2
> 0.012 <= 0.014 , 0.013 , 99.70, 2
> 0.014 <= 0.0151328 , 0.0145664 , 100.00, 3
# target 50% 0.00259862
# target 75% 0.00321676
# target 90% 0.0043125
# target 99% 0.009625
# target 99.9% 0.0147552
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 209 +/- 0 min 209 max 209 sum 209000
Response Body/Total Sizes : count 1000 avg 209 +/- 0 min 209 max 209 sum 209000
All done 1000 calls (plus 4 warmup) 2.689 ms avg, 100.0 qps
Successfully wrote 4645 bytes of Json data to /data/2018-11-17-083842_http_istio_100qps_10s_echo_0_3.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
08:38:52 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:39:02 I periodic.go:533> T002 ended after 10.001597396s : 250 calls. qps=24.996007147816613
08:39:02 I periodic.go:533> T001 ended after 10.001863703s : 250 calls. qps=24.995341610685415
08:39:02 I periodic.go:533> T000 ended after 10.003244551s : 250 calls. qps=24.991891253424182
08:39:02 I periodic.go:533> T003 ended after 10.002770455s : 250 calls. qps=24.993075780823762
Ended after 10.004577404s : 1000 calls. qps=99.954
Sleep times : count 996 avg 0.038192491 +/- 0.001844 min 0.01935731 max 0.039870838 sum 38.0397212
Aggregated Function Time : count 1000 avg 0.0014355485 +/- 0.001279 min 0.000189923 max 0.013610447 sum 1.43554846
# range, mid point, percentile, count
>= 0.000189923 <= 0.0002 , 0.000194962 , 0.10, 1
> 0.0002 <= 0.0003 , 0.00025 , 1.70, 16
> 0.0003 <= 0.0004 , 0.00035 , 6.20, 45
> 0.0004 <= 0.0005 , 0.00045 , 12.30, 61
> 0.0005 <= 0.0006 , 0.00055 , 16.90, 46
> 0.0006 <= 0.0007 , 0.00065 , 19.70, 28
> 0.0007 <= 0.0008 , 0.00075 , 22.40, 27
> 0.0008 <= 0.0009 , 0.00085 , 26.30, 39
> 0.0009 <= 0.001 , 0.00095 , 30.50, 42
> 0.001 <= 0.0011 , 0.00105 , 37.90, 74
> 0.0011 <= 0.0012 , 0.00115 , 46.90, 90
> 0.0012 <= 0.0014 , 0.0013 , 62.60, 157
> 0.0014 <= 0.0016 , 0.0015 , 74.70, 121
> 0.0016 <= 0.0018 , 0.0017 , 82.40, 77
> 0.0018 <= 0.002 , 0.0019 , 87.20, 48
> 0.002 <= 0.0025 , 0.00225 , 92.50, 53
> 0.0025 <= 0.003 , 0.00275 , 95.20, 27
> 0.003 <= 0.0035 , 0.00325 , 96.40, 12
> 0.0035 <= 0.004 , 0.00375 , 97.30, 9
> 0.004 <= 0.0045 , 0.00425 , 97.80, 5
> 0.0045 <= 0.005 , 0.00475 , 98.30, 5
> 0.005 <= 0.006 , 0.0055 , 98.80, 5
> 0.007 <= 0.008 , 0.0075 , 98.90, 1
> 0.008 <= 0.009 , 0.0085 , 99.30, 4
> 0.009 <= 0.01 , 0.0095 , 99.40, 1
> 0.01 <= 0.012 , 0.011 , 99.60, 2
> 0.012 <= 0.0136104 , 0.0128052 , 100.00, 4
# target 50% 0.00123949
# target 75% 0.00160779
# target 90% 0.00226415
# target 99% 0.00825
# target 99.9% 0.0132078
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 1.436 ms avg, 100.0 qps
Successfully wrote 4246 bytes of Json data to /data/2018-11-17-083852_grpc_baseline_100qps_10s_echo_0_3.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
08:39:02 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:39:12 I periodic.go:533> T003 ended after 10.002576076s : 250 calls. qps=24.993561468614615
08:39:12 I periodic.go:533> T000 ended after 10.003120191s : 250 calls. qps=24.99220195563878
08:39:12 I periodic.go:533> T001 ended after 10.003278287s : 250 calls. qps=24.991806968410895
08:39:12 I periodic.go:533> T002 ended after 10.003585912s : 250 calls. qps=24.991038433538872
Ended after 10.003644049s : 1000 calls. qps=99.964
Sleep times : count 996 avg 0.036764355 +/- 0.002172 min 0.024332598 max 0.039393035 sum 36.6172974
Aggregated Function Time : count 1000 avg 0.0028328437 +/- 0.001967 min 0.000424888 max 0.015557664 sum 2.83284366
# range, mid point, percentile, count
>= 0.000424888 <= 0.0005 , 0.000462444 , 0.30, 3
> 0.0005 <= 0.0006 , 0.00055 , 0.60, 3
> 0.0006 <= 0.0007 , 0.00065 , 1.90, 13
> 0.0007 <= 0.0008 , 0.00075 , 4.90, 30
> 0.0008 <= 0.0009 , 0.00085 , 8.80, 39
> 0.0009 <= 0.001 , 0.00095 , 13.50, 47
> 0.001 <= 0.0011 , 0.00105 , 18.40, 49
> 0.0011 <= 0.0012 , 0.00115 , 21.60, 32
> 0.0012 <= 0.0014 , 0.0013 , 25.00, 34
> 0.0014 <= 0.0016 , 0.0015 , 27.80, 28
> 0.0016 <= 0.0018 , 0.0017 , 29.90, 21
> 0.0018 <= 0.002 , 0.0019 , 32.00, 21
> 0.002 <= 0.0025 , 0.00225 , 39.50, 75
> 0.0025 <= 0.003 , 0.00275 , 63.00, 235
> 0.003 <= 0.0035 , 0.00325 , 78.80, 158
> 0.0035 <= 0.004 , 0.00375 , 87.10, 83
> 0.004 <= 0.0045 , 0.00425 , 91.00, 39
> 0.0045 <= 0.005 , 0.00475 , 92.10, 11
> 0.005 <= 0.006 , 0.0055 , 94.90, 28
> 0.006 <= 0.007 , 0.0065 , 96.50, 16
> 0.007 <= 0.008 , 0.0075 , 97.20, 7
> 0.008 <= 0.009 , 0.0085 , 97.60, 4
> 0.009 <= 0.01 , 0.0095 , 98.60, 10
> 0.01 <= 0.012 , 0.011 , 99.20, 6
> 0.012 <= 0.014 , 0.013 , 99.30, 1
> 0.014 <= 0.0155577 , 0.0147788 , 100.00, 7
# target 50% 0.0027234
# target 75% 0.00337975
# target 90% 0.00437179
# target 99% 0.0113333
# target 99.9% 0.0153351
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 2.833 ms avg, 100.0 qps
Successfully wrote 4096 bytes of Json data to /data/2018-11-17-083902_grpc_linkerd_100qps_10s_echo_0_3.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-istio:8079
08:39:12 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:39:22 I periodic.go:533> T001 ended after 10.001388064s : 250 calls. qps=24.996530321613566
08:39:22 I periodic.go:533> T003 ended after 10.001539205s : 250 calls. qps=24.996152579696854
08:39:22 I periodic.go:533> T000 ended after 10.001600551s : 250 calls. qps=24.99599926283839
08:39:22 I periodic.go:533> T002 ended after 10.001852341s : 250 calls. qps=24.995370005132933
Ended after 10.001903461s : 1000 calls. qps=99.981
Sleep times : count 996 avg 0.036524268 +/- 0.001999 min 0.022859286 max 0.039358731 sum 36.378171
Aggregated Function Time : count 1000 avg 0.0030784959 +/- 0.001714 min 0.000342908 max 0.012628111 sum 3.07849594
# range, mid point, percentile, count
>= 0.000342908 <= 0.0004 , 0.000371454 , 0.10, 1
> 0.0005 <= 0.0006 , 0.00055 , 0.30, 2
> 0.0006 <= 0.0007 , 0.00065 , 1.00, 7
> 0.0007 <= 0.0008 , 0.00075 , 2.50, 15
> 0.0008 <= 0.0009 , 0.00085 , 3.70, 12
> 0.0009 <= 0.001 , 0.00095 , 5.90, 22
> 0.001 <= 0.0011 , 0.00105 , 9.20, 33
> 0.0011 <= 0.0012 , 0.00115 , 11.30, 21
> 0.0012 <= 0.0014 , 0.0013 , 16.30, 50
> 0.0014 <= 0.0016 , 0.0015 , 21.10, 48
> 0.0016 <= 0.0018 , 0.0017 , 25.90, 48
> 0.0018 <= 0.002 , 0.0019 , 28.70, 28
> 0.002 <= 0.0025 , 0.00225 , 39.90, 112
> 0.0025 <= 0.003 , 0.00275 , 52.50, 126
> 0.003 <= 0.0035 , 0.00325 , 64.20, 117
> 0.0035 <= 0.004 , 0.00375 , 77.60, 134
> 0.004 <= 0.0045 , 0.00425 , 86.20, 86
> 0.0045 <= 0.005 , 0.00475 , 89.80, 36
> 0.005 <= 0.006 , 0.0055 , 94.10, 43
> 0.006 <= 0.007 , 0.0065 , 96.90, 28
> 0.007 <= 0.008 , 0.0075 , 98.10, 12
> 0.008 <= 0.009 , 0.0085 , 99.00, 9
> 0.009 <= 0.01 , 0.0095 , 99.40, 4
> 0.01 <= 0.012 , 0.011 , 99.80, 4
> 0.012 <= 0.0126281 , 0.0123141 , 100.00, 2
# target 50% 0.00290079
# target 75% 0.00390299
# target 90% 0.00504651
# target 99% 0.009
# target 99.9% 0.0123141
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 3.078 ms avg, 100.0 qps
Successfully wrote 3988 bytes of Json data to /data/2018-11-17-083912_grpc_istio_100qps_10s_echo_0_3.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
08:39:22 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 100.0 qps
08:39:22 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:39:32 I periodic.go:533> T003 ended after 10.000617532s : 250 calls. qps=24.998456265330557
08:39:32 I periodic.go:533> T002 ended after 10.000771725s : 250 calls. qps=24.99807083637838
08:39:32 I periodic.go:533> T000 ended after 10.000840176s : 250 calls. qps=24.9978997364591
08:39:32 I periodic.go:533> T001 ended after 10.001732994s : 250 calls. qps=24.99566826568696
Ended after 10.001834122s : 1000 calls. qps=99.982
Sleep times : count 996 avg 0.038773781 +/- 0.001016 min 0.028795879 max 0.039909044 sum 38.618686
Aggregated Function Time : count 1000 avg 0.00087266684 +/- 0.0005656 min 0.000128745 max 0.005301643 sum 0.872666842
# range, mid point, percentile, count
>= 0.000128745 <= 0.0002 , 0.000164372 , 1.50, 15
> 0.0002 <= 0.0003 , 0.00025 , 8.20, 67
> 0.0003 <= 0.0004 , 0.00035 , 14.10, 59
> 0.0004 <= 0.0005 , 0.00045 , 19.50, 54
> 0.0005 <= 0.0006 , 0.00055 , 26.30, 68
> 0.0006 <= 0.0007 , 0.00065 , 36.00, 97
> 0.0007 <= 0.0008 , 0.00075 , 47.50, 115
> 0.0008 <= 0.0009 , 0.00085 , 61.10, 136
> 0.0009 <= 0.001 , 0.00095 , 73.10, 120
> 0.001 <= 0.0011 , 0.00105 , 80.40, 73
> 0.0011 <= 0.0012 , 0.00115 , 85.70, 53
> 0.0012 <= 0.0014 , 0.0013 , 91.90, 62
> 0.0014 <= 0.0016 , 0.0015 , 95.60, 37
> 0.0016 <= 0.0018 , 0.0017 , 97.00, 14
> 0.0018 <= 0.002 , 0.0019 , 97.30, 3
> 0.002 <= 0.0025 , 0.00225 , 98.40, 11
> 0.0025 <= 0.003 , 0.00275 , 99.10, 7
> 0.0035 <= 0.004 , 0.00375 , 99.20, 1
> 0.005 <= 0.00530164 , 0.00515082 , 100.00, 8
# target 50% 0.000818382
# target 75% 0.00102603
# target 90% 0.00133871
# target 99% 0.00292857
# target 99.9% 0.00526394
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
Response Body/Total Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
All done 1000 calls (plus 4 warmup) 0.873 ms avg, 100.0 qps
Successfully wrote 3866 bytes of Json data to /data/2018-11-17-083922_http_baseline_100qps_10s_echo_1_3.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
08:39:32 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 100.0 qps
08:39:32 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:39:42 I periodic.go:533> T003 ended after 10.002273888s : 250 calls. qps=24.994316572347795
08:39:42 I periodic.go:533> T001 ended after 10.002542775s : 250 calls. qps=24.99364467851526
08:39:42 I periodic.go:533> T000 ended after 10.002617113s : 250 calls. qps=24.9934589293721
08:39:42 I periodic.go:533> T002 ended after 10.002646094s : 250 calls. qps=24.993386514990302
Ended after 10.004177495s : 1000 calls. qps=99.958
Sleep times : count 996 avg 0.037692948 +/- 0.001538 min 0.021350061 max 0.039555979 sum 37.5421758
Aggregated Function Time : count 1000 avg 0.0020331182 +/- 0.001243 min 0.000374535 max 0.015721713 sum 2.03311822
# range, mid point, percentile, count
>= 0.000374535 <= 0.0004 , 0.000387268 , 0.10, 1
> 0.0004 <= 0.0005 , 0.00045 , 0.70, 6
> 0.0005 <= 0.0006 , 0.00055 , 2.50, 18
> 0.0006 <= 0.0007 , 0.00065 , 7.40, 49
> 0.0007 <= 0.0008 , 0.00075 , 12.30, 49
> 0.0008 <= 0.0009 , 0.00085 , 16.10, 38
> 0.0009 <= 0.001 , 0.00095 , 18.90, 28
> 0.001 <= 0.0011 , 0.00105 , 21.60, 27
> 0.0011 <= 0.0012 , 0.00115 , 23.30, 17
> 0.0012 <= 0.0014 , 0.0013 , 27.60, 43
> 0.0014 <= 0.0016 , 0.0015 , 31.60, 40
> 0.0016 <= 0.0018 , 0.0017 , 39.70, 81
> 0.0018 <= 0.002 , 0.0019 , 51.70, 120
> 0.002 <= 0.0025 , 0.00225 , 76.70, 250
> 0.0025 <= 0.003 , 0.00275 , 89.10, 124
> 0.003 <= 0.0035 , 0.00325 , 93.80, 47
> 0.0035 <= 0.004 , 0.00375 , 95.80, 20
> 0.004 <= 0.0045 , 0.00425 , 97.90, 21
> 0.0045 <= 0.005 , 0.00475 , 98.20, 3
> 0.005 <= 0.006 , 0.0055 , 98.90, 7
> 0.006 <= 0.007 , 0.0065 , 99.10, 2
> 0.007 <= 0.008 , 0.0075 , 99.40, 3
> 0.008 <= 0.009 , 0.0085 , 99.60, 2
> 0.009 <= 0.01 , 0.0095 , 99.70, 1
> 0.012 <= 0.014 , 0.013 , 99.80, 1
> 0.014 <= 0.0157217 , 0.0148609 , 100.00, 2
# target 50% 0.00197167
# target 75% 0.002466
# target 90% 0.00309574
# target 99% 0.0065
# target 99.9% 0.0148609
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
Response Body/Total Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
All done 1000 calls (plus 4 warmup) 2.033 ms avg, 100.0 qps
Successfully wrote 4628 bytes of Json data to /data/2018-11-17-083932_http_linkerd_100qps_10s_echo_1_3.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
08:39:42 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 100.0 qps
08:39:42 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:39:52 I periodic.go:533> T002 ended after 10.002699118s : 250 calls. qps=24.993254025818032
08:39:52 I periodic.go:533> T003 ended after 10.003734859s : 250 calls. qps=24.99066633849097
08:39:52 I periodic.go:533> T001 ended after 10.00383126s : 250 calls. qps=24.9904255182329
08:39:52 I periodic.go:533> T000 ended after 10.003864764s : 250 calls. qps=24.990341822657612
Ended after 10.003900404s : 1000 calls. qps=99.961
Sleep times : count 996 avg 0.035954032 +/- 0.004369 min -0.016552861 max 0.039296678 sum 35.8102157
Aggregated Function Time : count 1000 avg 0.0034558096 +/- 0.003065 min 0.000731866 max 0.055019627 sum 3.45580964
# range, mid point, percentile, count
>= 0.000731866 <= 0.0008 , 0.000765933 , 0.30, 3
> 0.0008 <= 0.0009 , 0.00085 , 1.40, 11
> 0.0009 <= 0.001 , 0.00095 , 2.30, 9
> 0.001 <= 0.0011 , 0.00105 , 5.40, 31
> 0.0011 <= 0.0012 , 0.00115 , 8.30, 29
> 0.0012 <= 0.0014 , 0.0013 , 19.40, 111
> 0.0014 <= 0.0016 , 0.0015 , 25.10, 57
> 0.0016 <= 0.0018 , 0.0017 , 27.30, 22
> 0.0018 <= 0.002 , 0.0019 , 29.50, 22
> 0.002 <= 0.0025 , 0.00225 , 36.40, 69
> 0.0025 <= 0.003 , 0.00275 , 45.10, 87
> 0.003 <= 0.0035 , 0.00325 , 55.10, 100
> 0.0035 <= 0.004 , 0.00375 , 69.20, 141
> 0.004 <= 0.0045 , 0.00425 , 80.40, 112
> 0.0045 <= 0.005 , 0.00475 , 87.30, 69
> 0.005 <= 0.006 , 0.0055 , 93.90, 66
> 0.006 <= 0.007 , 0.0065 , 95.70, 18
> 0.007 <= 0.008 , 0.0075 , 96.60, 9
> 0.008 <= 0.009 , 0.0085 , 98.20, 16
> 0.009 <= 0.01 , 0.0095 , 98.60, 4
> 0.01 <= 0.012 , 0.011 , 98.70, 1
> 0.014 <= 0.016 , 0.015 , 99.60, 9
> 0.02 <= 0.025 , 0.0225 , 99.80, 2
> 0.045 <= 0.05 , 0.0475 , 99.90, 1
> 0.05 <= 0.0550196 , 0.0525098 , 100.00, 1
# target 50% 0.003245
# target 75% 0.00425893
# target 90% 0.00540909
# target 99% 0.0146667
# target 99.9% 0.05
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 209.003 +/- 0.05469 min 209 max 210 sum 209003
Response Body/Total Sizes : count 1000 avg 209.003 +/- 0.05469 min 209 max 210 sum 209003
All done 1000 calls (plus 4 warmup) 3.456 ms avg, 100.0 qps
Successfully wrote 4514 bytes of Json data to /data/2018-11-17-083942_http_istio_100qps_10s_echo_1_3.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
08:39:52 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:40:02 I periodic.go:533> T002 ended after 10.000692018s : 250 calls. qps=24.998270074713943
08:40:02 I periodic.go:533> T003 ended after 10.000807014s : 250 calls. qps=24.997982627804763
08:40:02 I periodic.go:533> T000 ended after 10.00084152s : 250 calls. qps=24.99789637702408
08:40:02 I periodic.go:533> T001 ended after 10.000719658s : 250 calls. qps=24.998200984467594
Ended after 10.001260388s : 1000 calls. qps=99.987
Sleep times : count 996 avg 0.038296523 +/- 0.00177 min 0.016706592 max 0.039749745 sum 38.1433367
Aggregated Function Time : count 1000 avg 0.0013646722 +/- 0.001555 min 0.000154327 max 0.020562912 sum 1.36467217
# range, mid point, percentile, count
>= 0.000154327 <= 0.0002 , 0.000177163 , 0.20, 2
> 0.0002 <= 0.0003 , 0.00025 , 1.90, 17
> 0.0003 <= 0.0004 , 0.00035 , 8.80, 69
> 0.0004 <= 0.0005 , 0.00045 , 17.00, 82
> 0.0005 <= 0.0006 , 0.00055 , 21.80, 48
> 0.0006 <= 0.0007 , 0.00065 , 25.10, 33
> 0.0007 <= 0.0008 , 0.00075 , 27.80, 27
> 0.0008 <= 0.0009 , 0.00085 , 31.80, 40
> 0.0009 <= 0.001 , 0.00095 , 38.30, 65
> 0.001 <= 0.0011 , 0.00105 , 46.20, 79
> 0.0011 <= 0.0012 , 0.00115 , 54.90, 87
> 0.0012 <= 0.0014 , 0.0013 , 69.50, 146
> 0.0014 <= 0.0016 , 0.0015 , 80.10, 106
> 0.0016 <= 0.0018 , 0.0017 , 85.40, 53
> 0.0018 <= 0.002 , 0.0019 , 88.10, 27
> 0.002 <= 0.0025 , 0.00225 , 92.70, 46
> 0.0025 <= 0.003 , 0.00275 , 94.90, 22
> 0.003 <= 0.0035 , 0.00325 , 96.40, 15
> 0.0035 <= 0.004 , 0.00375 , 97.20, 8
> 0.004 <= 0.0045 , 0.00425 , 97.80, 6
> 0.0045 <= 0.005 , 0.00475 , 98.50, 7
> 0.005 <= 0.006 , 0.0055 , 99.00, 5
> 0.008 <= 0.009 , 0.0085 , 99.20, 2
> 0.009 <= 0.01 , 0.0095 , 99.30, 1
> 0.014 <= 0.016 , 0.015 , 99.60, 3
> 0.016 <= 0.018 , 0.017 , 99.90, 3
> 0.02 <= 0.0205629 , 0.0202815 , 100.00, 1
# target 50% 0.00114368
# target 75% 0.00150377
# target 90% 0.00220652
# target 99% 0.006
# target 99.9% 0.018
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 1.365 ms avg, 100.0 qps
Successfully wrote 4239 bytes of Json data to /data/2018-11-17-083952_grpc_baseline_100qps_10s_echo_1_3.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
08:40:02 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:40:12 I periodic.go:533> T000 ended after 10.001649826s : 250 calls. qps=24.99587611536921
08:40:12 I periodic.go:533> T001 ended after 10.00183189s : 250 calls. qps=24.995421113801584
08:40:12 I periodic.go:533> T002 ended after 10.00211285s : 250 calls. qps=24.99471899079803
08:40:12 I periodic.go:533> T003 ended after 10.00244786s : 250 calls. qps=24.993881847638043
Ended after 10.002519006s : 1000 calls. qps=99.975
Sleep times : count 996 avg 0.036738936 +/- 0.003206 min -0.019421928 max 0.039435725 sum 36.5919806
Aggregated Function Time : count 1000 avg 0.0028183475 +/- 0.002838 min 0.000441879 max 0.059315267 sum 2.81834751
# range, mid point, percentile, count
>= 0.000441879 <= 0.0005 , 0.00047094 , 0.30, 3
> 0.0005 <= 0.0006 , 0.00055 , 0.80, 5
> 0.0006 <= 0.0007 , 0.00065 , 1.90, 11
> 0.0007 <= 0.0008 , 0.00075 , 5.10, 32
> 0.0008 <= 0.0009 , 0.00085 , 9.70, 46
> 0.0009 <= 0.001 , 0.00095 , 13.90, 42
> 0.001 <= 0.0011 , 0.00105 , 17.50, 36
> 0.0011 <= 0.0012 , 0.00115 , 21.20, 37
> 0.0012 <= 0.0014 , 0.0013 , 27.50, 63
> 0.0014 <= 0.0016 , 0.0015 , 31.60, 41
> 0.0016 <= 0.0018 , 0.0017 , 34.80, 32
> 0.0018 <= 0.002 , 0.0019 , 38.40, 36
> 0.002 <= 0.0025 , 0.00225 , 44.20, 58
> 0.0025 <= 0.003 , 0.00275 , 62.30, 181
> 0.003 <= 0.0035 , 0.00325 , 80.50, 182
> 0.0035 <= 0.004 , 0.00375 , 86.30, 58
> 0.004 <= 0.0045 , 0.00425 , 90.30, 40
> 0.0045 <= 0.005 , 0.00475 , 92.70, 24
> 0.005 <= 0.006 , 0.0055 , 95.90, 32
> 0.006 <= 0.007 , 0.0065 , 96.80, 9
> 0.007 <= 0.008 , 0.0075 , 97.10, 3
> 0.008 <= 0.009 , 0.0085 , 97.70, 6
> 0.009 <= 0.01 , 0.0095 , 98.60, 9
> 0.01 <= 0.012 , 0.011 , 99.30, 7
> 0.012 <= 0.014 , 0.013 , 99.60, 3
> 0.016 <= 0.018 , 0.017 , 99.80, 2
> 0.035 <= 0.04 , 0.0375 , 99.90, 1
> 0.05 <= 0.0593153 , 0.0546576 , 100.00, 1
# target 50% 0.00266022
# target 75% 0.0033489
# target 90% 0.0044625
# target 99% 0.0111429
# target 99.9% 0.04
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 2.818 ms avg, 100.0 qps
Successfully wrote 4312 bytes of Json data to /data/2018-11-17-084002_grpc_linkerd_100qps_10s_echo_1_3.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-istio:8079
08:40:12 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:40:22 I periodic.go:533> T000 ended after 10.002265191s : 250 calls. qps=24.99433830498206
08:40:22 I periodic.go:533> T002 ended after 10.002417328s : 250 calls. qps=24.99395814051561
08:40:22 I periodic.go:533> T001 ended after 10.002836661s : 250 calls. qps=24.99291035859093
08:40:22 I periodic.go:533> T003 ended after 10.003002879s : 250 calls. qps=24.99249505614383
Ended after 10.003061096s : 1000 calls. qps=99.969
Sleep times : count 996 avg 0.036452523 +/- 0.002531 min 0.015655505 max 0.039446577 sum 36.3067124
Aggregated Function Time : count 1000 avg 0.003161159 +/- 0.002315 min 0.000390999 max 0.024186244 sum 3.161159
# range, mid point, percentile, count
>= 0.000390999 <= 0.0004 , 0.0003955 , 0.10, 1
> 0.0004 <= 0.0005 , 0.00045 , 0.20, 1
> 0.0005 <= 0.0006 , 0.00055 , 0.50, 3
> 0.0006 <= 0.0007 , 0.00065 , 1.50, 10
> 0.0007 <= 0.0008 , 0.00075 , 3.80, 23
> 0.0008 <= 0.0009 , 0.00085 , 6.50, 27
> 0.0009 <= 0.001 , 0.00095 , 8.70, 22
> 0.001 <= 0.0011 , 0.00105 , 12.00, 33
> 0.0011 <= 0.0012 , 0.00115 , 15.00, 30
> 0.0012 <= 0.0014 , 0.0013 , 20.90, 59
> 0.0014 <= 0.0016 , 0.0015 , 24.50, 36
> 0.0016 <= 0.0018 , 0.0017 , 27.60, 31
> 0.0018 <= 0.002 , 0.0019 , 30.70, 31
> 0.002 <= 0.0025 , 0.00225 , 42.50, 118
> 0.0025 <= 0.003 , 0.00275 , 52.30, 98
> 0.003 <= 0.0035 , 0.00325 , 63.60, 113
> 0.0035 <= 0.004 , 0.00375 , 76.20, 126
> 0.004 <= 0.0045 , 0.00425 , 84.70, 85
> 0.0045 <= 0.005 , 0.00475 , 89.90, 52
> 0.005 <= 0.006 , 0.0055 , 93.30, 34
> 0.006 <= 0.007 , 0.0065 , 95.30, 20
> 0.007 <= 0.008 , 0.0075 , 97.30, 20
> 0.008 <= 0.009 , 0.0085 , 98.10, 8
> 0.009 <= 0.01 , 0.0095 , 98.40, 3
> 0.01 <= 0.012 , 0.011 , 99.00, 6
> 0.012 <= 0.014 , 0.013 , 99.50, 5
> 0.014 <= 0.016 , 0.015 , 99.60, 1
> 0.02 <= 0.0241862 , 0.0220931 , 100.00, 4
# target 50% 0.00288265
# target 75% 0.00395238
# target 90% 0.00502941
# target 99% 0.012
# target 99.9% 0.0231397
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 3.161 ms avg, 100.0 qps
Successfully wrote 4285 bytes of Json data to /data/2018-11-17-084012_grpc_istio_100qps_10s_echo_1_3.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
08:40:22 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 100.0 qps
08:40:22 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:40:32 I periodic.go:533> T000 ended after 10.000488506s : 250 calls. qps=24.998778794656612
08:40:32 I periodic.go:533> T001 ended after 10.000564388s : 250 calls. qps=24.99858910962896
08:40:32 I periodic.go:533> T002 ended after 10.000964419s : 250 calls. qps=24.997589185003577
08:40:32 I periodic.go:533> T003 ended after 10.001565611s : 250 calls. qps=24.99608658518853
Ended after 10.00168043s : 1000 calls. qps=99.983
Sleep times : count 996 avg 0.038708213 +/- 0.001903 min 0.017248152 max 0.039833744 sum 38.5533801
Aggregated Function Time : count 1000 avg 0.0010251802 +/- 0.001769 min 0.000101775 max 0.022562325 sum 1.02518023
# range, mid point, percentile, count
>= 0.000101775 <= 0.0002 , 0.000150888 , 1.80, 18
> 0.0002 <= 0.0003 , 0.00025 , 10.70, 89
> 0.0003 <= 0.0004 , 0.00035 , 17.80, 71
> 0.0004 <= 0.0005 , 0.00045 , 23.10, 53
> 0.0005 <= 0.0006 , 0.00055 , 29.90, 68
> 0.0006 <= 0.0007 , 0.00065 , 38.30, 84
> 0.0007 <= 0.0008 , 0.00075 , 48.90, 106
> 0.0008 <= 0.0009 , 0.00085 , 60.70, 118
> 0.0009 <= 0.001 , 0.00095 , 72.60, 119
> 0.001 <= 0.0011 , 0.00105 , 81.30, 87
> 0.0011 <= 0.0012 , 0.00115 , 85.80, 45
> 0.0012 <= 0.0014 , 0.0013 , 91.10, 53
> 0.0014 <= 0.0016 , 0.0015 , 94.20, 31
> 0.0016 <= 0.0018 , 0.0017 , 95.00, 8
> 0.0018 <= 0.002 , 0.0019 , 95.10, 1
> 0.002 <= 0.0025 , 0.00225 , 96.50, 14
> 0.0025 <= 0.003 , 0.00275 , 97.90, 14
> 0.003 <= 0.0035 , 0.00325 , 98.00, 1
> 0.0035 <= 0.004 , 0.00375 , 98.20, 2
> 0.0045 <= 0.005 , 0.00475 , 98.30, 1
> 0.005 <= 0.006 , 0.0055 , 98.70, 4
> 0.006 <= 0.007 , 0.0065 , 98.80, 1
> 0.007 <= 0.008 , 0.0075 , 98.90, 1
> 0.008 <= 0.009 , 0.0085 , 99.10, 2
> 0.009 <= 0.01 , 0.0095 , 99.40, 3
> 0.01 <= 0.012 , 0.011 , 99.50, 1
> 0.02 <= 0.0225623 , 0.0212812 , 100.00, 5
# target 50% 0.000809322
# target 75% 0.00102759
# target 90% 0.00135849
# target 99% 0.0085
# target 99.9% 0.0220499
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
Response Body/Total Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
All done 1000 calls (plus 4 warmup) 1.025 ms avg, 100.0 qps
Successfully wrote 4751 bytes of Json data to /data/2018-11-17-084022_http_baseline_100qps_10s_echo_0_4.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
08:40:32 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 100.0 qps
08:40:32 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:40:42 I periodic.go:533> T003 ended after 10.000864067s : 250 calls. qps=24.997840019136817
08:40:42 I periodic.go:533> T000 ended after 10.000810805s : 250 calls. qps=24.99797315183786
08:40:42 I periodic.go:533> T002 ended after 10.000815007s : 250 calls. qps=24.99796264854557
08:40:42 I periodic.go:533> T001 ended after 10.000844323s : 250 calls. qps=24.997889370705284
Ended after 10.000931017s : 1000 calls. qps=99.991
Sleep times : count 996 avg 0.037492541 +/- 0.002494 min 0.00245149 max 0.039549097 sum 37.3425707
Aggregated Function Time : count 1000 avg 0.002230001 +/- 0.002432 min 0.000411797 max 0.037568009 sum 2.23000096
# range, mid point, percentile, count
>= 0.000411797 <= 0.0005 , 0.000455898 , 0.90, 9
> 0.0005 <= 0.0006 , 0.00055 , 4.60, 37
> 0.0006 <= 0.0007 , 0.00065 , 9.40, 48
> 0.0007 <= 0.0008 , 0.00075 , 14.50, 51
> 0.0008 <= 0.0009 , 0.00085 , 18.30, 38
> 0.0009 <= 0.001 , 0.00095 , 20.80, 25
> 0.001 <= 0.0011 , 0.00105 , 21.80, 10
> 0.0011 <= 0.0012 , 0.00115 , 23.60, 18
> 0.0012 <= 0.0014 , 0.0013 , 26.60, 30
> 0.0014 <= 0.0016 , 0.0015 , 29.20, 26
> 0.0016 <= 0.0018 , 0.0017 , 37.90, 87
> 0.0018 <= 0.002 , 0.0019 , 51.50, 136
> 0.002 <= 0.0025 , 0.00225 , 74.80, 233
> 0.0025 <= 0.003 , 0.00275 , 85.30, 105
> 0.003 <= 0.0035 , 0.00325 , 91.70, 64
> 0.0035 <= 0.004 , 0.00375 , 93.90, 22
> 0.004 <= 0.0045 , 0.00425 , 95.70, 18
> 0.0045 <= 0.005 , 0.00475 , 96.50, 8
> 0.005 <= 0.006 , 0.0055 , 98.00, 15
> 0.007 <= 0.008 , 0.0075 , 98.50, 5
> 0.008 <= 0.009 , 0.0085 , 99.20, 7
> 0.009 <= 0.01 , 0.0095 , 99.60, 4
> 0.03 <= 0.035 , 0.0325 , 99.90, 3
> 0.035 <= 0.037568 , 0.036284 , 100.00, 1
# target 50% 0.00197794
# target 75% 0.00250952
# target 90% 0.00336719
# target 99% 0.00871429
# target 99.9% 0.035
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
Response Body/Total Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
All done 1000 calls (plus 4 warmup) 2.230 ms avg, 100.0 qps
Successfully wrote 4414 bytes of Json data to /data/2018-11-17-084032_http_linkerd_100qps_10s_echo_0_4.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
08:40:42 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 100.0 qps
08:40:42 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:40:52 I periodic.go:533> T001 ended after 10.00305987s : 250 calls. qps=24.992352664985102
08:40:52 I periodic.go:533> T000 ended after 10.00318829s : 250 calls. qps=24.992031815488296
08:40:52 I periodic.go:533> T003 ended after 10.003612234s : 250 calls. qps=24.990972675880712
08:40:52 I periodic.go:533> T002 ended after 10.006370729s : 250 calls. qps=24.98408331758702
Ended after 10.006518662s : 1000 calls. qps=99.935
Sleep times : count 996 avg 0.037059356 +/- 0.00226 min 0.01371273 max 0.039437804 sum 36.9111184
Aggregated Function Time : count 1000 avg 0.0025984898 +/- 0.002084 min 0.000380535 max 0.026214044 sum 2.5984898
# range, mid point, percentile, count
>= 0.000380535 <= 0.0004 , 0.000390267 , 0.10, 1
> 0.0004 <= 0.0005 , 0.00045 , 0.50, 4
> 0.0005 <= 0.0006 , 0.00055 , 1.00, 5
> 0.0006 <= 0.0007 , 0.00065 , 1.90, 9
> 0.0007 <= 0.0008 , 0.00075 , 4.90, 30
> 0.0008 <= 0.0009 , 0.00085 , 9.20, 43
> 0.0009 <= 0.001 , 0.00095 , 15.50, 63
> 0.001 <= 0.0011 , 0.00105 , 20.30, 48
> 0.0011 <= 0.0012 , 0.00115 , 23.40, 31
> 0.0012 <= 0.0014 , 0.0013 , 27.40, 40
> 0.0014 <= 0.0016 , 0.0015 , 29.10, 17
> 0.0016 <= 0.0018 , 0.0017 , 31.30, 22
> 0.0018 <= 0.002 , 0.0019 , 34.40, 31
> 0.002 <= 0.0025 , 0.00225 , 48.20, 138
> 0.0025 <= 0.003 , 0.00275 , 70.60, 224
> 0.003 <= 0.0035 , 0.00325 , 84.90, 143
> 0.0035 <= 0.004 , 0.00375 , 90.60, 57
> 0.004 <= 0.0045 , 0.00425 , 93.80, 32
> 0.0045 <= 0.005 , 0.00475 , 95.30, 15
> 0.005 <= 0.006 , 0.0055 , 97.00, 17
> 0.006 <= 0.007 , 0.0065 , 98.50, 15
> 0.007 <= 0.008 , 0.0075 , 99.00, 5
> 0.008 <= 0.009 , 0.0085 , 99.20, 2
> 0.012 <= 0.014 , 0.013 , 99.50, 3
> 0.014 <= 0.016 , 0.015 , 99.60, 1
> 0.025 <= 0.026214 , 0.025607 , 100.00, 4
# target 50% 0.00254018
# target 75% 0.00315385
# target 90% 0.00394737
# target 99% 0.008
# target 99.9% 0.0259105
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 209.005 +/- 0.07053 min 209 max 210 sum 209005
Response Body/Total Sizes : count 1000 avg 209.005 +/- 0.07053 min 209 max 210 sum 209005
All done 1000 calls (plus 4 warmup) 2.598 ms avg, 99.9 qps
Successfully wrote 4653 bytes of Json data to /data/2018-11-17-084042_http_istio_100qps_10s_echo_0_4.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
08:40:52 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:41:02 I periodic.go:533> T000 ended after 10.00163s : 250 calls. qps=24.995925664116747
08:41:02 I periodic.go:533> T003 ended after 10.001951712s : 250 calls. qps=24.995121672109107
08:41:02 I periodic.go:533> T001 ended after 10.002078434s : 250 calls. qps=24.994804994747557
08:41:02 I periodic.go:533> T002 ended after 10.002069242s : 250 calls. qps=24.994827965219162
Ended after 10.002162998s : 1000 calls. qps=99.978
Sleep times : count 996 avg 0.0383787 +/- 0.001344 min 0.02506155 max 0.039790062 sum 38.2251848
Aggregated Function Time : count 1000 avg 0.001343549 +/- 0.001097 min 0.000149573 max 0.014893794 sum 1.34354896
# range, mid point, percentile, count
>= 0.000149573 <= 0.0002 , 0.000174787 , 0.30, 3
> 0.0002 <= 0.0003 , 0.00025 , 2.30, 20
> 0.0003 <= 0.0004 , 0.00035 , 9.20, 69
> 0.0004 <= 0.0005 , 0.00045 , 17.40, 82
> 0.0005 <= 0.0006 , 0.00055 , 22.70, 53
> 0.0006 <= 0.0007 , 0.00065 , 26.10, 34
> 0.0007 <= 0.0008 , 0.00075 , 29.20, 31
> 0.0008 <= 0.0009 , 0.00085 , 32.30, 31
> 0.0009 <= 0.001 , 0.00095 , 36.00, 37
> 0.001 <= 0.0011 , 0.00105 , 42.10, 61
> 0.0011 <= 0.0012 , 0.00115 , 49.40, 73
> 0.0012 <= 0.0014 , 0.0013 , 63.90, 145
> 0.0014 <= 0.0016 , 0.0015 , 75.10, 112
> 0.0016 <= 0.0018 , 0.0017 , 83.10, 80
> 0.0018 <= 0.002 , 0.0019 , 86.90, 38
> 0.002 <= 0.0025 , 0.00225 , 92.30, 54
> 0.0025 <= 0.003 , 0.00275 , 95.00, 27
> 0.003 <= 0.0035 , 0.00325 , 97.00, 20
> 0.0035 <= 0.004 , 0.00375 , 97.60, 6
> 0.004 <= 0.0045 , 0.00425 , 98.30, 7
> 0.0045 <= 0.005 , 0.00475 , 98.50, 2
> 0.005 <= 0.006 , 0.0055 , 99.30, 8
> 0.006 <= 0.007 , 0.0065 , 99.60, 3
> 0.008 <= 0.009 , 0.0085 , 99.80, 2
> 0.012 <= 0.014 , 0.013 , 99.90, 1
> 0.014 <= 0.0148938 , 0.0144469 , 100.00, 1
# target 50% 0.00120828
# target 75% 0.00159821
# target 90% 0.00228704
# target 99% 0.005625
# target 99.9% 0.014
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 1.344 ms avg, 100.0 qps
Successfully wrote 4110 bytes of Json data to /data/2018-11-17-084052_grpc_baseline_100qps_10s_echo_0_4.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
08:41:02 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:41:12 I periodic.go:533> T002 ended after 10.00320836s : 250 calls. qps=24.991981672568098
08:41:12 I periodic.go:533> T000 ended after 10.003617963s : 250 calls. qps=24.99095836373055
08:41:12 I periodic.go:533> T003 ended after 10.003670529s : 250 calls. qps=24.99082704445993
08:41:12 I periodic.go:533> T001 ended after 10.003777199s : 250 calls. qps=24.990560567961325
Ended after 10.004075292s : 1000 calls. qps=99.959
Sleep times : count 996 avg 0.036462908 +/- 0.006311 min -0.071204485 max 0.039362144 sum 36.3170567
Aggregated Function Time : count 1000 avg 0.0030333189 +/- 0.005582 min 0.000469781 max 0.11016843 sum 3.0333189
# range, mid point, percentile, count
>= 0.000469781 <= 0.0005 , 0.000484891 , 0.20, 2
> 0.0005 <= 0.0006 , 0.00055 , 0.30, 1
> 0.0006 <= 0.0007 , 0.00065 , 1.70, 14
> 0.0007 <= 0.0008 , 0.00075 , 5.10, 34
> 0.0008 <= 0.0009 , 0.00085 , 9.30, 42
> 0.0009 <= 0.001 , 0.00095 , 13.40, 41
> 0.001 <= 0.0011 , 0.00105 , 16.00, 26
> 0.0011 <= 0.0012 , 0.00115 , 18.40, 24
> 0.0012 <= 0.0014 , 0.0013 , 22.70, 43
> 0.0014 <= 0.0016 , 0.0015 , 25.00, 23
> 0.0016 <= 0.0018 , 0.0017 , 27.80, 28
> 0.0018 <= 0.002 , 0.0019 , 31.00, 32
> 0.002 <= 0.0025 , 0.00225 , 40.40, 94
> 0.0025 <= 0.003 , 0.00275 , 66.00, 256
> 0.003 <= 0.0035 , 0.00325 , 82.50, 165
> 0.0035 <= 0.004 , 0.00375 , 90.30, 78
> 0.004 <= 0.0045 , 0.00425 , 94.10, 38
> 0.0045 <= 0.005 , 0.00475 , 95.80, 17
> 0.005 <= 0.006 , 0.0055 , 97.50, 17
> 0.006 <= 0.007 , 0.0065 , 98.50, 10
> 0.007 <= 0.008 , 0.0075 , 98.80, 3
> 0.008 <= 0.009 , 0.0085 , 99.30, 5
> 0.05 <= 0.06 , 0.055 , 99.70, 4
> 0.06 <= 0.07 , 0.065 , 99.80, 1
> 0.07 <= 0.08 , 0.075 , 99.90, 1
> 0.1 <= 0.110168 , 0.105084 , 100.00, 1
# target 50% 0.0026875
# target 75% 0.00327273
# target 90% 0.00398077
# target 99% 0.0084
# target 99.9% 0.08
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 3.033 ms avg, 100.0 qps
Successfully wrote 4074 bytes of Json data to /data/2018-11-17-084102_grpc_linkerd_100qps_10s_echo_0_4.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-istio:8079
08:41:12 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:41:22 I periodic.go:533> T003 ended after 10.002572343s : 250 calls. qps=24.993570796311708
08:41:22 I periodic.go:533> T001 ended after 10.003192511s : 250 calls. qps=24.992021269718418
08:41:22 I periodic.go:533> T000 ended after 10.004149542s : 250 calls. qps=24.989630447889198
08:41:22 I periodic.go:533> T002 ended after 10.006193868s : 250 calls. qps=24.98452491506334
Ended after 10.006288445s : 1000 calls. qps=99.937
Sleep times : count 996 avg 0.036440825 +/- 0.003127 min 0.001972772 max 0.039428222 sum 36.2950618
Aggregated Function Time : count 1000 avg 0.0030196117 +/- 0.002189 min 0.000533652 max 0.034053903 sum 3.0196117
# range, mid point, percentile, count
>= 0.000533652 <= 0.0006 , 0.000566826 , 0.20, 2
> 0.0006 <= 0.0007 , 0.00065 , 1.60, 14
> 0.0007 <= 0.0008 , 0.00075 , 3.20, 16
> 0.0008 <= 0.0009 , 0.00085 , 5.20, 20
> 0.0009 <= 0.001 , 0.00095 , 7.50, 23
> 0.001 <= 0.0011 , 0.00105 , 10.50, 30
> 0.0011 <= 0.0012 , 0.00115 , 14.40, 39
> 0.0012 <= 0.0014 , 0.0013 , 19.60, 52
> 0.0014 <= 0.0016 , 0.0015 , 23.90, 43
> 0.0016 <= 0.0018 , 0.0017 , 27.20, 33
> 0.0018 <= 0.002 , 0.0019 , 30.40, 32
> 0.002 <= 0.0025 , 0.00225 , 42.20, 118
> 0.0025 <= 0.003 , 0.00275 , 55.30, 131
> 0.003 <= 0.0035 , 0.00325 , 68.70, 134
> 0.0035 <= 0.004 , 0.00375 , 79.90, 112
> 0.004 <= 0.0045 , 0.00425 , 86.40, 65
> 0.0045 <= 0.005 , 0.00475 , 90.80, 44
> 0.005 <= 0.006 , 0.0055 , 94.90, 41
> 0.006 <= 0.007 , 0.0065 , 97.30, 24
> 0.007 <= 0.008 , 0.0075 , 97.90, 6
> 0.008 <= 0.009 , 0.0085 , 98.50, 6
> 0.009 <= 0.01 , 0.0095 , 99.30, 8
> 0.01 <= 0.012 , 0.011 , 99.60, 3
> 0.012 <= 0.014 , 0.013 , 99.70, 1
> 0.016 <= 0.018 , 0.017 , 99.80, 1
> 0.03 <= 0.0340539 , 0.032027 , 100.00, 2
# target 50% 0.00279771
# target 75% 0.00378125
# target 90% 0.00490909
# target 99% 0.009625
# target 99.9% 0.032027
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 3.020 ms avg, 99.9 qps
Successfully wrote 4111 bytes of Json data to /data/2018-11-17-084112_grpc_istio_100qps_10s_echo_0_4.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
08:41:22 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 100.0 qps
08:41:22 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:41:32 I periodic.go:533> T002 ended after 10.001242363s : 250 calls. qps=24.996894478318524
08:41:32 I periodic.go:533> T001 ended after 10.001390877s : 250 calls. qps=24.996523291067447
08:41:32 I periodic.go:533> T000 ended after 10.001956869s : 250 calls. qps=24.995108784646767
08:41:32 I periodic.go:533> T003 ended after 10.002924954s : 250 calls. qps=24.99268975321356
Ended after 10.003710208s : 1000 calls. qps=99.963
Sleep times : count 996 avg 0.038605595 +/- 0.002251 min 0.015630139 max 0.039872145 sum 38.4511727
Aggregated Function Time : count 1000 avg 0.00099308439 +/- 0.001301 min 0.00014059 max 0.017449361 sum 0.993084388
# range, mid point, percentile, count
>= 0.00014059 <= 0.0002 , 0.000170295 , 1.20, 12
> 0.0002 <= 0.0003 , 0.00025 , 10.20, 90
> 0.0003 <= 0.0004 , 0.00035 , 18.30, 81
> 0.0004 <= 0.0005 , 0.00045 , 24.90, 66
> 0.0005 <= 0.0006 , 0.00055 , 30.60, 57
> 0.0006 <= 0.0007 , 0.00065 , 39.50, 89
> 0.0007 <= 0.0008 , 0.00075 , 50.40, 109
> 0.0008 <= 0.0009 , 0.00085 , 62.50, 121
> 0.0009 <= 0.001 , 0.00095 , 72.30, 98
> 0.001 <= 0.0011 , 0.00105 , 80.00, 77
> 0.0011 <= 0.0012 , 0.00115 , 84.20, 42
> 0.0012 <= 0.0014 , 0.0013 , 89.60, 54
> 0.0014 <= 0.0016 , 0.0015 , 91.90, 23
> 0.0016 <= 0.0018 , 0.0017 , 93.60, 17
> 0.0018 <= 0.002 , 0.0019 , 94.30, 7
> 0.002 <= 0.0025 , 0.00225 , 96.30, 20
> 0.0025 <= 0.003 , 0.00275 , 97.60, 13
> 0.003 <= 0.0035 , 0.00325 , 98.00, 4
> 0.0035 <= 0.004 , 0.00375 , 98.20, 2
> 0.004 <= 0.0045 , 0.00425 , 98.30, 1
> 0.006 <= 0.007 , 0.0065 , 98.60, 3
> 0.007 <= 0.008 , 0.0075 , 98.70, 1
> 0.008 <= 0.009 , 0.0085 , 99.10, 4
> 0.009 <= 0.01 , 0.0095 , 99.40, 3
> 0.01 <= 0.012 , 0.011 , 99.80, 4
> 0.014 <= 0.016 , 0.015 , 99.90, 1
> 0.016 <= 0.0174494 , 0.0167247 , 100.00, 1
# target 50% 0.00079633
# target 75% 0.00103506
# target 90% 0.00143478
# target 99% 0.00875
# target 99.9% 0.016
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
Response Body/Total Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
All done 1000 calls (plus 4 warmup) 0.993 ms avg, 100.0 qps
Successfully wrote 4749 bytes of Json data to /data/2018-11-17-084122_http_baseline_100qps_10s_echo_1_4.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
08:41:32 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 100.0 qps
08:41:32 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:41:43 I periodic.go:533> T000 ended after 10.003265454s : 250 calls. qps=24.991839029927238
08:41:43 I periodic.go:533> T003 ended after 10.003430786s : 250 calls. qps=24.99142597656396
08:41:43 I periodic.go:533> T002 ended after 10.004283479s : 250 calls. qps=24.989295887584074
08:41:43 I periodic.go:533> T001 ended after 10.004650946s : 250 calls. qps=24.988378040310693
Ended after 10.004757543s : 1000 calls. qps=99.952
Sleep times : count 996 avg 0.036631428 +/- 0.01031 min -0.167070141 max 0.039572062 sum 36.484902
Aggregated Function Time : count 1000 avg 0.0024050695 +/- 0.006844 min 0.000388341 max 0.207108251 sum 2.4050695
# range, mid point, percentile, count
>= 0.000388341 <= 0.0004 , 0.000394171 , 0.10, 1
> 0.0004 <= 0.0005 , 0.00045 , 1.20, 11
> 0.0005 <= 0.0006 , 0.00055 , 6.00, 48
> 0.0006 <= 0.0007 , 0.00065 , 13.80, 78
> 0.0007 <= 0.0008 , 0.00075 , 18.30, 45
> 0.0008 <= 0.0009 , 0.00085 , 21.90, 36
> 0.0009 <= 0.001 , 0.00095 , 25.30, 34
> 0.001 <= 0.0011 , 0.00105 , 27.20, 19
> 0.0011 <= 0.0012 , 0.00115 , 29.70, 25
> 0.0012 <= 0.0014 , 0.0013 , 34.00, 43
> 0.0014 <= 0.0016 , 0.0015 , 38.90, 49
> 0.0016 <= 0.0018 , 0.0017 , 45.00, 61
> 0.0018 <= 0.002 , 0.0019 , 54.30, 93
> 0.002 <= 0.0025 , 0.00225 , 73.70, 194
> 0.0025 <= 0.003 , 0.00275 , 83.00, 93
> 0.003 <= 0.0035 , 0.00325 , 88.30, 53
> 0.0035 <= 0.004 , 0.00375 , 92.70, 44
> 0.004 <= 0.0045 , 0.00425 , 94.30, 16
> 0.0045 <= 0.005 , 0.00475 , 94.80, 5
> 0.005 <= 0.006 , 0.0055 , 96.50, 17
> 0.006 <= 0.007 , 0.0065 , 97.40, 9
> 0.007 <= 0.008 , 0.0075 , 98.20, 8
> 0.008 <= 0.009 , 0.0085 , 98.70, 5
> 0.009 <= 0.01 , 0.0095 , 98.90, 2
> 0.01 <= 0.012 , 0.011 , 99.40, 5
> 0.012 <= 0.014 , 0.013 , 99.50, 1
> 0.018 <= 0.02 , 0.019 , 99.60, 1
> 0.025 <= 0.03 , 0.0275 , 99.80, 2
> 0.03 <= 0.035 , 0.0325 , 99.90, 1
> 0.2 <= 0.207108 , 0.203554 , 100.00, 1
# target 50% 0.00190753
# target 75% 0.00256989
# target 90% 0.00369318
# target 99% 0.0104
# target 99.9% 0.035
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
Response Body/Total Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
All done 1000 calls (plus 4 warmup) 2.405 ms avg, 100.0 qps
Successfully wrote 5088 bytes of Json data to /data/2018-11-17-084133_http_linkerd_100qps_10s_echo_1_4.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
08:41:43 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 100.0 qps
08:41:43 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:41:53 I periodic.go:533> T001 ended after 10.002605379s : 250 calls. qps=24.993488249057915
08:41:53 I periodic.go:533> T002 ended after 10.002718074s : 250 calls. qps=24.99320666147968
08:41:53 I periodic.go:533> T003 ended after 10.003772394s : 250 calls. qps=24.990572571397507
08:41:53 I periodic.go:533> T000 ended after 10.003861095s : 250 calls. qps=24.99035098807517
Ended after 10.003919241s : 1000 calls. qps=99.961
Sleep times : count 996 avg 0.036848738 +/- 0.002155 min 0.021222986 max 0.039455605 sum 36.7013429
Aggregated Function Time : count 1000 avg 0.0027049435 +/- 0.001721 min 0.000452548 max 0.016460143 sum 2.70494353
# range, mid point, percentile, count
>= 0.000452548 <= 0.0005 , 0.000476274 , 0.20, 2
> 0.0005 <= 0.0006 , 0.00055 , 0.80, 6
> 0.0006 <= 0.0007 , 0.00065 , 2.50, 17
> 0.0007 <= 0.0008 , 0.00075 , 6.20, 37
> 0.0008 <= 0.0009 , 0.00085 , 9.30, 31
> 0.0009 <= 0.001 , 0.00095 , 12.40, 31
> 0.001 <= 0.0011 , 0.00105 , 16.40, 40
> 0.0011 <= 0.0012 , 0.00115 , 20.40, 40
> 0.0012 <= 0.0014 , 0.0013 , 25.70, 53
> 0.0014 <= 0.0016 , 0.0015 , 29.40, 37
> 0.0016 <= 0.0018 , 0.0017 , 32.70, 33
> 0.0018 <= 0.002 , 0.0019 , 36.40, 37
> 0.002 <= 0.0025 , 0.00225 , 50.50, 141
> 0.0025 <= 0.003 , 0.00275 , 61.80, 113
> 0.003 <= 0.0035 , 0.00325 , 75.10, 133
> 0.0035 <= 0.004 , 0.00375 , 83.90, 88
> 0.004 <= 0.0045 , 0.00425 , 89.40, 55
> 0.0045 <= 0.005 , 0.00475 , 94.50, 51
> 0.005 <= 0.006 , 0.0055 , 96.30, 18
> 0.006 <= 0.007 , 0.0065 , 97.90, 16
> 0.007 <= 0.008 , 0.0075 , 98.40, 5
> 0.008 <= 0.009 , 0.0085 , 99.00, 6
> 0.009 <= 0.01 , 0.0095 , 99.60, 6
> 0.014 <= 0.016 , 0.015 , 99.90, 3
> 0.016 <= 0.0164601 , 0.0162301 , 100.00, 1
# target 50% 0.00248227
# target 75% 0.00349624
# target 90% 0.00455882
# target 99% 0.009
# target 99.9% 0.016
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 209.003 +/- 0.05469 min 209 max 210 sum 209003
Response Body/Total Sizes : count 1000 avg 209.003 +/- 0.05469 min 209 max 210 sum 209003
All done 1000 calls (plus 4 warmup) 2.705 ms avg, 100.0 qps
Successfully wrote 4560 bytes of Json data to /data/2018-11-17-084143_http_istio_100qps_10s_echo_1_4.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
08:41:53 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:42:03 I periodic.go:533> T003 ended after 10.000474273s : 250 calls. qps=24.998814373731054
08:42:03 I periodic.go:533> T000 ended after 10.000826006s : 250 calls. qps=24.99793515555739
08:42:03 I periodic.go:533> T002 ended after 10.00115817s : 250 calls. qps=24.997104910300603
08:42:03 I periodic.go:533> T001 ended after 10.001157703s : 250 calls. qps=24.997106077530272
Ended after 10.001334245s : 1000 calls. qps=99.987
Sleep times : count 996 avg 0.03816086 +/- 0.003046 min -0.001815838 max 0.039725493 sum 38.0082163
Aggregated Function Time : count 1000 avg 0.0014848399 +/- 0.002565 min 0.000162051 max 0.035335685 sum 1.48483989
# range, mid point, percentile, count
>= 0.000162051 <= 0.0002 , 0.000181026 , 0.10, 1
> 0.0002 <= 0.0003 , 0.00025 , 2.70, 26
> 0.0003 <= 0.0004 , 0.00035 , 9.10, 64
> 0.0004 <= 0.0005 , 0.00045 , 16.30, 72
> 0.0005 <= 0.0006 , 0.00055 , 22.20, 59
> 0.0006 <= 0.0007 , 0.00065 , 25.60, 34
> 0.0007 <= 0.0008 , 0.00075 , 29.00, 34
> 0.0008 <= 0.0009 , 0.00085 , 33.80, 48
> 0.0009 <= 0.001 , 0.00095 , 39.50, 57
> 0.001 <= 0.0011 , 0.00105 , 45.10, 56
> 0.0011 <= 0.0012 , 0.00115 , 53.00, 79
> 0.0012 <= 0.0014 , 0.0013 , 68.10, 151
> 0.0014 <= 0.0016 , 0.0015 , 76.40, 83
> 0.0016 <= 0.0018 , 0.0017 , 83.20, 68
> 0.0018 <= 0.002 , 0.0019 , 87.80, 46
> 0.002 <= 0.0025 , 0.00225 , 93.40, 56
> 0.0025 <= 0.003 , 0.00275 , 96.10, 27
> 0.003 <= 0.0035 , 0.00325 , 96.80, 7
> 0.0035 <= 0.004 , 0.00375 , 96.90, 1
> 0.004 <= 0.0045 , 0.00425 , 97.40, 5
> 0.0045 <= 0.005 , 0.00475 , 97.60, 2
> 0.005 <= 0.006 , 0.0055 , 98.30, 7
> 0.006 <= 0.007 , 0.0065 , 98.60, 3
> 0.007 <= 0.008 , 0.0075 , 98.70, 1
> 0.008 <= 0.009 , 0.0085 , 98.80, 1
> 0.009 <= 0.01 , 0.0095 , 99.30, 5
> 0.02 <= 0.025 , 0.0225 , 99.70, 4
> 0.03 <= 0.035 , 0.0325 , 99.80, 1
> 0.035 <= 0.0353357 , 0.0351678 , 100.00, 2
# target 50% 0.00116203
# target 75% 0.00156627
# target 90% 0.00219643
# target 99% 0.0094
# target 99.9% 0.0351678
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 1.485 ms avg, 100.0 qps
Successfully wrote 4474 bytes of Json data to /data/2018-11-17-084153_grpc_baseline_100qps_10s_echo_1_4.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
08:42:03 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:42:13 I periodic.go:533> T001 ended after 10.002650966s : 250 calls. qps=24.99337434143956
08:42:13 I periodic.go:533> T002 ended after 10.002777162s : 250 calls. qps=24.993059022621864
08:42:13 I periodic.go:533> T003 ended after 10.002932636s : 250 calls. qps=24.99267055945812
08:42:13 I periodic.go:533> T000 ended after 10.003126591s : 250 calls. qps=24.992185965628956
Ended after 10.0032065s : 1000 calls. qps=99.968
Sleep times : count 996 avg 0.036408733 +/- 0.004493 min -0.040514834 max 0.039382915 sum 36.2630983
Aggregated Function Time : count 1000 avg 0.0030554949 +/- 0.003348 min 0.000553148 max 0.073448489 sum 3.05549491
# range, mid point, percentile, count
>= 0.000553148 <= 0.0006 , 0.000576574 , 0.10, 1
> 0.0006 <= 0.0007 , 0.00065 , 1.20, 11
> 0.0007 <= 0.0008 , 0.00075 , 3.80, 26
> 0.0008 <= 0.0009 , 0.00085 , 6.40, 26
> 0.0009 <= 0.001 , 0.00095 , 9.70, 33
> 0.001 <= 0.0011 , 0.00105 , 14.00, 43
> 0.0011 <= 0.0012 , 0.00115 , 16.40, 24
> 0.0012 <= 0.0014 , 0.0013 , 20.70, 43
> 0.0014 <= 0.0016 , 0.0015 , 24.30, 36
> 0.0016 <= 0.0018 , 0.0017 , 27.60, 33
> 0.0018 <= 0.002 , 0.0019 , 30.70, 31
> 0.002 <= 0.0025 , 0.00225 , 41.80, 111
> 0.0025 <= 0.003 , 0.00275 , 60.60, 188
> 0.003 <= 0.0035 , 0.00325 , 78.60, 180
> 0.0035 <= 0.004 , 0.00375 , 84.60, 60
> 0.004 <= 0.0045 , 0.00425 , 89.60, 50
> 0.0045 <= 0.005 , 0.00475 , 92.20, 26
> 0.005 <= 0.006 , 0.0055 , 95.10, 29
> 0.006 <= 0.007 , 0.0065 , 95.80, 7
> 0.007 <= 0.008 , 0.0075 , 97.10, 13
> 0.008 <= 0.009 , 0.0085 , 97.40, 3
> 0.009 <= 0.01 , 0.0095 , 97.50, 1
> 0.01 <= 0.012 , 0.011 , 98.60, 11
> 0.012 <= 0.014 , 0.013 , 99.10, 5
> 0.014 <= 0.016 , 0.015 , 99.20, 1
> 0.016 <= 0.018 , 0.017 , 99.60, 4
> 0.025 <= 0.03 , 0.0275 , 99.80, 2
> 0.03 <= 0.035 , 0.0325 , 99.90, 1
> 0.07 <= 0.0734485 , 0.0717242 , 100.00, 1
# target 50% 0.00271809
# target 75% 0.0034
# target 90% 0.00457692
# target 99% 0.0136
# target 99.9% 0.035
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 3.055 ms avg, 100.0 qps
Successfully wrote 4449 bytes of Json data to /data/2018-11-17-084203_grpc_linkerd_100qps_10s_echo_1_4.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-istio:8079
08:42:13 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:42:23 I periodic.go:533> T002 ended after 10.003378124s : 250 calls. qps=24.991557541967012
08:42:23 I periodic.go:533> T001 ended after 10.003935356s : 250 calls. qps=24.99016548023364
08:42:23 I periodic.go:533> T000 ended after 10.002714216s : 250 calls. qps=24.993216301242374
08:42:23 I periodic.go:533> T003 ended after 10.006368874s : 250 calls. qps=24.984087949184673
Ended after 10.006576976s : 1000 calls. qps=99.934
Sleep times : count 996 avg 0.036506213 +/- 0.002606 min 0.016568772 max 0.039386965 sum 36.3601881
Aggregated Function Time : count 1000 avg 0.0030015114 +/- 0.002162 min 0.000442348 max 0.023287912 sum 3.00151137
# range, mid point, percentile, count
>= 0.000442348 <= 0.0005 , 0.000471174 , 0.20, 2
> 0.0005 <= 0.0006 , 0.00055 , 0.60, 4
> 0.0006 <= 0.0007 , 0.00065 , 1.60, 10
> 0.0007 <= 0.0008 , 0.00075 , 2.80, 12
> 0.0008 <= 0.0009 , 0.00085 , 5.10, 23
> 0.0009 <= 0.001 , 0.00095 , 7.50, 24
> 0.001 <= 0.0011 , 0.00105 , 12.50, 50
> 0.0011 <= 0.0012 , 0.00115 , 15.60, 31
> 0.0012 <= 0.0014 , 0.0013 , 20.90, 53
> 0.0014 <= 0.0016 , 0.0015 , 25.00, 41
> 0.0016 <= 0.0018 , 0.0017 , 28.30, 33
> 0.0018 <= 0.002 , 0.0019 , 32.90, 46
> 0.002 <= 0.0025 , 0.00225 , 44.00, 111
> 0.0025 <= 0.003 , 0.00275 , 57.30, 133
> 0.003 <= 0.0035 , 0.00325 , 71.00, 137
> 0.0035 <= 0.004 , 0.00375 , 82.40, 114
> 0.004 <= 0.0045 , 0.00425 , 88.80, 64
> 0.0045 <= 0.005 , 0.00475 , 91.50, 27
> 0.005 <= 0.006 , 0.0055 , 94.40, 29
> 0.006 <= 0.007 , 0.0065 , 95.90, 15
> 0.007 <= 0.008 , 0.0075 , 97.00, 11
> 0.008 <= 0.009 , 0.0085 , 97.70, 7
> 0.009 <= 0.01 , 0.0095 , 98.00, 3
> 0.01 <= 0.012 , 0.011 , 99.00, 10
> 0.012 <= 0.014 , 0.013 , 99.50, 5
> 0.014 <= 0.016 , 0.015 , 99.70, 2
> 0.018 <= 0.02 , 0.019 , 99.80, 1
> 0.02 <= 0.0232879 , 0.021644 , 100.00, 2
# target 50% 0.00272556
# target 75% 0.00367544
# target 90% 0.00472222
# target 99% 0.012
# target 99.9% 0.021644
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 3.002 ms avg, 99.9 qps
Successfully wrote 4295 bytes of Json data to /data/2018-11-17-084213_grpc_istio_100qps_10s_echo_1_4.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
08:42:23 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 100.0 qps
08:42:23 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:42:33 I periodic.go:533> T001 ended after 10.00102986s : 250 calls. qps=24.997425615125604
08:42:33 I periodic.go:533> T000 ended after 10.001212637s : 250 calls. qps=24.996968775077548
08:42:33 I periodic.go:533> T002 ended after 10.001322623s : 250 calls. qps=24.996693879775066
08:42:33 I periodic.go:533> T003 ended after 10.001463804s : 250 calls. qps=24.996341025602135
Ended after 10.001770827s : 1000 calls. qps=99.982
Sleep times : count 996 avg 0.038819376 +/- 0.001203 min 0.029437226 max 0.039886545 sum 38.6640984
Aggregated Function Time : count 1000 avg 0.00090835114 +/- 0.0009957 min 0.000141757 max 0.010361383 sum 0.908351143
# range, mid point, percentile, count
>= 0.000141757 <= 0.0002 , 0.000170879 , 2.70, 27
> 0.0002 <= 0.0003 , 0.00025 , 12.70, 100
> 0.0003 <= 0.0004 , 0.00035 , 19.40, 67
> 0.0004 <= 0.0005 , 0.00045 , 26.00, 66
> 0.0005 <= 0.0006 , 0.00055 , 31.50, 55
> 0.0006 <= 0.0007 , 0.00065 , 41.10, 96
> 0.0007 <= 0.0008 , 0.00075 , 52.40, 113
> 0.0008 <= 0.0009 , 0.00085 , 66.20, 138
> 0.0009 <= 0.001 , 0.00095 , 78.00, 118
> 0.001 <= 0.0011 , 0.00105 , 83.90, 59
> 0.0011 <= 0.0012 , 0.00115 , 87.90, 40
> 0.0012 <= 0.0014 , 0.0013 , 92.40, 45
> 0.0014 <= 0.0016 , 0.0015 , 94.40, 20
> 0.0016 <= 0.0018 , 0.0017 , 95.10, 7
> 0.0018 <= 0.002 , 0.0019 , 95.30, 2
> 0.002 <= 0.0025 , 0.00225 , 96.40, 11
> 0.0025 <= 0.003 , 0.00275 , 97.20, 8
> 0.003 <= 0.0035 , 0.00325 , 97.50, 3
> 0.0035 <= 0.004 , 0.00375 , 98.20, 7
> 0.004 <= 0.0045 , 0.00425 , 98.70, 5
> 0.006 <= 0.007 , 0.0065 , 99.10, 4
> 0.007 <= 0.008 , 0.0075 , 99.50, 4
> 0.008 <= 0.009 , 0.0085 , 99.70, 2
> 0.01 <= 0.0103614 , 0.0101807 , 100.00, 3
# target 50% 0.000778761
# target 75% 0.000974576
# target 90% 0.00129333
# target 99% 0.00675
# target 99.9% 0.0102409
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
Response Body/Total Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
All done 1000 calls (plus 4 warmup) 0.908 ms avg, 100.0 qps
Successfully wrote 4426 bytes of Json data to /data/2018-11-17-084223_http_baseline_100qps_10s_echo_0_5.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
08:42:33 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 100.0 qps
08:42:33 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:42:43 I periodic.go:533> T003 ended after 10.002392353s : 250 calls. qps=24.994020547995994
08:42:43 I periodic.go:533> T000 ended after 10.002390275s : 250 calls. qps=24.99402574051231
08:42:43 I periodic.go:533> T002 ended after 10.002416211s : 250 calls. qps=24.993960931666333
08:42:43 I periodic.go:533> T001 ended after 10.002429011s : 250 calls. qps=24.99392894716541
Ended after 10.002539767s : 1000 calls. qps=99.975
Sleep times : count 996 avg 0.037722974 +/- 0.001623 min 0.028164711 max 0.039831452 sum 37.5720817
Aggregated Function Time : count 1000 avg 0.0019770234 +/- 0.001344 min 0.000315613 max 0.011355167 sum 1.97702338
# range, mid point, percentile, count
>= 0.000315613 <= 0.0004 , 0.000357807 , 0.20, 2
> 0.0004 <= 0.0005 , 0.00045 , 1.50, 13
> 0.0005 <= 0.0006 , 0.00055 , 6.40, 49
> 0.0006 <= 0.0007 , 0.00065 , 12.30, 59
> 0.0007 <= 0.0008 , 0.00075 , 16.50, 42
> 0.0008 <= 0.0009 , 0.00085 , 20.50, 40
> 0.0009 <= 0.001 , 0.00095 , 24.00, 35
> 0.001 <= 0.0011 , 0.00105 , 26.70, 27
> 0.0011 <= 0.0012 , 0.00115 , 28.70, 20
> 0.0012 <= 0.0014 , 0.0013 , 31.50, 28
> 0.0014 <= 0.0016 , 0.0015 , 36.90, 54
> 0.0016 <= 0.0018 , 0.0017 , 45.40, 85
> 0.0018 <= 0.002 , 0.0019 , 57.80, 124
> 0.002 <= 0.0025 , 0.00225 , 80.60, 228
> 0.0025 <= 0.003 , 0.00275 , 89.90, 93
> 0.003 <= 0.0035 , 0.00325 , 92.70, 28
> 0.0035 <= 0.004 , 0.00375 , 94.40, 17
> 0.004 <= 0.0045 , 0.00425 , 95.40, 10
> 0.0045 <= 0.005 , 0.00475 , 96.30, 9
> 0.005 <= 0.006 , 0.0055 , 97.50, 12
> 0.006 <= 0.007 , 0.0065 , 98.20, 7
> 0.007 <= 0.008 , 0.0075 , 99.40, 12
> 0.008 <= 0.009 , 0.0085 , 99.50, 1
> 0.009 <= 0.01 , 0.0095 , 99.60, 1
> 0.01 <= 0.0113552 , 0.0106776 , 100.00, 4
# target 50% 0.00187419
# target 75% 0.00237719
# target 90% 0.00301786
# target 99% 0.00766667
# target 99.9% 0.0110164
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
Response Body/Total Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
All done 1000 calls (plus 4 warmup) 1.977 ms avg, 100.0 qps
Successfully wrote 4533 bytes of Json data to /data/2018-11-17-084233_http_linkerd_100qps_10s_echo_0_5.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
08:42:43 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 100.0 qps
08:42:43 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:42:53 I periodic.go:533> T001 ended after 10.00118339s : 250 calls. qps=24.997041875061548
08:42:53 I periodic.go:533> T000 ended after 10.00122603s : 250 calls. qps=24.996935300741324
08:42:53 I periodic.go:533> T003 ended after 10.00120778s : 250 calls. qps=24.996980914639092
08:42:53 I periodic.go:533> T002 ended after 10.001360311s : 250 calls. qps=24.996599685048587
Ended after 10.001407942s : 1000 calls. qps=99.986
Sleep times : count 996 avg 0.036526462 +/- 0.004529 min -0.020337373 max 0.039388097 sum 36.3803564
Aggregated Function Time : count 1000 avg 0.0026437172 +/- 0.002238 min 0.000476776 max 0.025767563 sum 2.64371722
# range, mid point, percentile, count
>= 0.000476776 <= 0.0005 , 0.000488388 , 0.30, 3
> 0.0005 <= 0.0006 , 0.00055 , 1.00, 7
> 0.0006 <= 0.0007 , 0.00065 , 2.70, 17
> 0.0007 <= 0.0008 , 0.00075 , 6.30, 36
> 0.0008 <= 0.0009 , 0.00085 , 11.30, 50
> 0.0009 <= 0.001 , 0.00095 , 14.10, 28
> 0.001 <= 0.0011 , 0.00105 , 17.10, 30
> 0.0011 <= 0.0012 , 0.00115 , 19.10, 20
> 0.0012 <= 0.0014 , 0.0013 , 22.00, 29
> 0.0014 <= 0.0016 , 0.0015 , 24.50, 25
> 0.0016 <= 0.0018 , 0.0017 , 28.20, 37
> 0.0018 <= 0.002 , 0.0019 , 33.60, 54
> 0.002 <= 0.0025 , 0.00225 , 58.70, 251
> 0.0025 <= 0.003 , 0.00275 , 78.00, 193
> 0.003 <= 0.0035 , 0.00325 , 86.40, 84
> 0.0035 <= 0.004 , 0.00375 , 90.00, 36
> 0.004 <= 0.0045 , 0.00425 , 92.40, 24
> 0.0045 <= 0.005 , 0.00475 , 94.30, 19
> 0.005 <= 0.006 , 0.0055 , 96.00, 17
> 0.006 <= 0.007 , 0.0065 , 96.50, 5
> 0.007 <= 0.008 , 0.0075 , 97.30, 8
> 0.008 <= 0.009 , 0.0085 , 97.70, 4
> 0.009 <= 0.01 , 0.0095 , 98.30, 6
> 0.01 <= 0.012 , 0.011 , 98.90, 6
> 0.012 <= 0.014 , 0.013 , 99.30, 4
> 0.014 <= 0.016 , 0.015 , 99.40, 1
> 0.016 <= 0.018 , 0.017 , 99.60, 2
> 0.02 <= 0.025 , 0.0225 , 99.80, 2
> 0.025 <= 0.0257676 , 0.0253838 , 100.00, 2
# target 50% 0.00232669
# target 75% 0.00292228
# target 90% 0.004
# target 99% 0.0125
# target 99.9% 0.0253838
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 209 +/- 0 min 209 max 209 sum 209000
Response Body/Total Sizes : count 1000 avg 209 +/- 0 min 209 max 209 sum 209000
All done 1000 calls (plus 4 warmup) 2.644 ms avg, 100.0 qps
Successfully wrote 4954 bytes of Json data to /data/2018-11-17-084243_http_istio_100qps_10s_echo_0_5.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
08:42:53 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:43:03 I periodic.go:533> T003 ended after 10.001655194s : 250 calls. qps=24.995862699803446
08:43:03 I periodic.go:533> T001 ended after 10.002061037s : 250 calls. qps=24.994848469249547
08:43:03 I periodic.go:533> T002 ended after 10.002204942s : 250 calls. qps=24.994488860174364
08:43:03 I periodic.go:533> T000 ended after 10.002398768s : 250 calls. qps=24.994004518176993
Ended after 10.002442184s : 1000 calls. qps=99.976
Sleep times : count 996 avg 0.038327199 +/- 0.00144 min 0.019389868 max 0.039738562 sum 38.17389
Aggregated Function Time : count 1000 avg 0.0013881558 +/- 0.001302 min 0.000189855 max 0.020154648 sum 1.38815576
# range, mid point, percentile, count
>= 0.000189855 <= 0.0002 , 0.000194928 , 0.10, 1
> 0.0002 <= 0.0003 , 0.00025 , 1.50, 14
> 0.0003 <= 0.0004 , 0.00035 , 7.70, 62
> 0.0004 <= 0.0005 , 0.00045 , 13.60, 59
> 0.0005 <= 0.0006 , 0.00055 , 19.30, 57
> 0.0006 <= 0.0007 , 0.00065 , 23.30, 40
> 0.0007 <= 0.0008 , 0.00075 , 25.70, 24
> 0.0008 <= 0.0009 , 0.00085 , 29.80, 41
> 0.0009 <= 0.001 , 0.00095 , 35.30, 55
> 0.001 <= 0.0011 , 0.00105 , 41.90, 66
> 0.0011 <= 0.0012 , 0.00115 , 49.80, 79
> 0.0012 <= 0.0014 , 0.0013 , 65.40, 156
> 0.0014 <= 0.0016 , 0.0015 , 77.90, 125
> 0.0016 <= 0.0018 , 0.0017 , 84.30, 64
> 0.0018 <= 0.002 , 0.0019 , 88.10, 38
> 0.002 <= 0.0025 , 0.00225 , 92.80, 47
> 0.0025 <= 0.003 , 0.00275 , 94.50, 17
> 0.003 <= 0.0035 , 0.00325 , 96.10, 16
> 0.0035 <= 0.004 , 0.00375 , 97.00, 9
> 0.004 <= 0.0045 , 0.00425 , 97.30, 3
> 0.0045 <= 0.005 , 0.00475 , 98.40, 11
> 0.005 <= 0.006 , 0.0055 , 98.80, 4
> 0.006 <= 0.007 , 0.0065 , 99.10, 3
> 0.007 <= 0.008 , 0.0075 , 99.40, 3
> 0.008 <= 0.009 , 0.0085 , 99.60, 2
> 0.012 <= 0.014 , 0.013 , 99.90, 3
> 0.02 <= 0.0201546 , 0.0200773 , 100.00, 1
# target 50% 0.00120256
# target 75% 0.0015536
# target 90% 0.00220213
# target 99% 0.00666667
# target 99.9% 0.014
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 1.388 ms avg, 100.0 qps
Successfully wrote 4210 bytes of Json data to /data/2018-11-17-084253_grpc_baseline_100qps_10s_echo_0_5.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
08:43:03 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:43:13 I periodic.go:533> T003 ended after 10.00438625s : 250 calls. qps=24.989039182688494
08:43:13 I periodic.go:533> T002 ended after 10.004986596s : 250 calls. qps=24.987539723436527
08:43:13 I periodic.go:533> T000 ended after 10.005228553s : 250 calls. qps=24.986935448370062
08:43:13 I periodic.go:533> T001 ended after 10.00591412s : 250 calls. qps=24.985223439035472
Ended after 10.006023796s : 1000 calls. qps=99.94
Sleep times : count 996 avg 0.035971256 +/- 0.004852 min -0.006853647 max 0.039411632 sum 35.827371
Aggregated Function Time : count 1000 avg 0.0034148613 +/- 0.00414 min 0.000445393 max 0.045363703 sum 3.41486131
# range, mid point, percentile, count
>= 0.000445393 <= 0.0005 , 0.000472696 , 0.10, 1
> 0.0005 <= 0.0006 , 0.00055 , 0.30, 2
> 0.0006 <= 0.0007 , 0.00065 , 1.70, 14
> 0.0007 <= 0.0008 , 0.00075 , 3.50, 18
> 0.0008 <= 0.0009 , 0.00085 , 8.30, 48
> 0.0009 <= 0.001 , 0.00095 , 13.10, 48
> 0.001 <= 0.0011 , 0.00105 , 15.50, 24
> 0.0011 <= 0.0012 , 0.00115 , 18.40, 29
> 0.0012 <= 0.0014 , 0.0013 , 22.00, 36
> 0.0014 <= 0.0016 , 0.0015 , 24.30, 23
> 0.0016 <= 0.0018 , 0.0017 , 25.90, 16
> 0.0018 <= 0.002 , 0.0019 , 29.00, 31
> 0.002 <= 0.0025 , 0.00225 , 37.10, 81
> 0.0025 <= 0.003 , 0.00275 , 59.70, 226
> 0.003 <= 0.0035 , 0.00325 , 78.30, 186
> 0.0035 <= 0.004 , 0.00375 , 84.30, 60
> 0.004 <= 0.0045 , 0.00425 , 87.10, 28
> 0.0045 <= 0.005 , 0.00475 , 89.10, 20
> 0.005 <= 0.006 , 0.0055 , 92.30, 32
> 0.006 <= 0.007 , 0.0065 , 94.10, 18
> 0.007 <= 0.008 , 0.0075 , 95.50, 14
> 0.008 <= 0.009 , 0.0085 , 96.30, 8
> 0.009 <= 0.01 , 0.0095 , 96.50, 2
> 0.01 <= 0.012 , 0.011 , 96.60, 1
> 0.012 <= 0.014 , 0.013 , 97.60, 10
> 0.014 <= 0.016 , 0.015 , 98.20, 6
> 0.016 <= 0.018 , 0.017 , 98.60, 4
> 0.02 <= 0.025 , 0.0225 , 98.70, 1
> 0.025 <= 0.03 , 0.0275 , 99.10, 4
> 0.03 <= 0.035 , 0.0325 , 99.60, 5
> 0.035 <= 0.04 , 0.0375 , 99.90, 3
> 0.045 <= 0.0453637 , 0.0451819 , 100.00, 1
# target 50% 0.0027854
# target 75% 0.00341129
# target 90% 0.00528125
# target 99% 0.02875
# target 99.9% 0.04
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 3.415 ms avg, 99.9 qps
Successfully wrote 4783 bytes of Json data to /data/2018-11-17-084303_grpc_linkerd_100qps_10s_echo_0_5.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-istio:8079
08:43:13 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:43:23 I periodic.go:533> T003 ended after 10.006630294s : 250 calls. qps=24.983435247917633
08:43:23 I periodic.go:533> T000 ended after 10.008115823s : 250 calls. qps=24.97972689579254
08:43:23 I periodic.go:533> T002 ended after 10.017082598s : 250 calls. qps=24.95736633437711
08:43:23 I periodic.go:533> T001 ended after 10.017418803s : 250 calls. qps=24.956528714276217
Ended after 10.017476514s : 1000 calls. qps=99.826
Sleep times : count 996 avg 0.036435281 +/- 0.002392 min 0.02379498 max 0.039384911 sum 36.2895401
Aggregated Function Time : count 1000 avg 0.0032205236 +/- 0.002142 min 0.000534362 max 0.016978296 sum 3.22052358
# range, mid point, percentile, count
>= 0.000534362 <= 0.0006 , 0.000567181 , 0.20, 2
> 0.0006 <= 0.0007 , 0.00065 , 1.20, 10
> 0.0007 <= 0.0008 , 0.00075 , 2.50, 13
> 0.0008 <= 0.0009 , 0.00085 , 4.30, 18
> 0.0009 <= 0.001 , 0.00095 , 8.90, 46
> 0.001 <= 0.0011 , 0.00105 , 12.50, 36
> 0.0011 <= 0.0012 , 0.00115 , 15.20, 27
> 0.0012 <= 0.0014 , 0.0013 , 21.20, 60
> 0.0014 <= 0.0016 , 0.0015 , 25.30, 41
> 0.0016 <= 0.0018 , 0.0017 , 28.70, 34
> 0.0018 <= 0.002 , 0.0019 , 31.30, 26
> 0.002 <= 0.0025 , 0.00225 , 40.00, 87
> 0.0025 <= 0.003 , 0.00275 , 52.90, 129
> 0.003 <= 0.0035 , 0.00325 , 64.20, 113
> 0.0035 <= 0.004 , 0.00375 , 73.00, 88
> 0.004 <= 0.0045 , 0.00425 , 79.60, 66
> 0.0045 <= 0.005 , 0.00475 , 85.60, 60
> 0.005 <= 0.006 , 0.0055 , 92.30, 67
> 0.006 <= 0.007 , 0.0065 , 95.20, 29
> 0.007 <= 0.008 , 0.0075 , 96.50, 13
> 0.008 <= 0.009 , 0.0085 , 97.70, 12
> 0.009 <= 0.01 , 0.0095 , 98.60, 9
> 0.01 <= 0.012 , 0.011 , 99.30, 7
> 0.012 <= 0.014 , 0.013 , 99.40, 1
> 0.014 <= 0.016 , 0.015 , 99.80, 4
> 0.016 <= 0.0169783 , 0.0164891 , 100.00, 2
# target 50% 0.0028876
# target 75% 0.00415152
# target 90% 0.00565672
# target 99% 0.0111429
# target 99.9% 0.0164891
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 3.221 ms avg, 99.8 qps
Successfully wrote 4083 bytes of Json data to /data/2018-11-17-084313_grpc_istio_100qps_10s_echo_0_5.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
08:43:23 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 100.0 qps
08:43:23 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:43:33 I periodic.go:533> T003 ended after 10.00760553s : 250 calls. qps=24.981000625031633
08:43:33 I periodic.go:533> T000 ended after 10.00781942s : 250 calls. qps=24.980466723888988
08:43:33 I periodic.go:533> T002 ended after 10.010711886s : 250 calls. qps=24.97324894043005
08:43:33 I periodic.go:533> T001 ended after 10.010769448s : 250 calls. qps=24.973105344059864
Ended after 10.011063947s : 1000 calls. qps=99.889
Sleep times : count 996 avg 0.038773106 +/- 0.001269 min 0.021218522 max 0.039832739 sum 38.6180137
Aggregated Function Time : count 1000 avg 0.0009048082 +/- 0.0006715 min 0.000100944 max 0.006833327 sum 0.904808196
# range, mid point, percentile, count
>= 0.000100944 <= 0.0002 , 0.000150472 , 1.50, 15
> 0.0002 <= 0.0003 , 0.00025 , 10.60, 91
> 0.0003 <= 0.0004 , 0.00035 , 17.20, 66
> 0.0004 <= 0.0005 , 0.00045 , 21.40, 42
> 0.0005 <= 0.0006 , 0.00055 , 27.90, 65
> 0.0006 <= 0.0007 , 0.00065 , 36.60, 87
> 0.0007 <= 0.0008 , 0.00075 , 46.90, 103
> 0.0008 <= 0.0009 , 0.00085 , 59.10, 122
> 0.0009 <= 0.001 , 0.00095 , 68.70, 96
> 0.001 <= 0.0011 , 0.00105 , 77.70, 90
> 0.0011 <= 0.0012 , 0.00115 , 84.20, 65
> 0.0012 <= 0.0014 , 0.0013 , 89.90, 57
> 0.0014 <= 0.0016 , 0.0015 , 93.30, 34
> 0.0016 <= 0.0018 , 0.0017 , 94.30, 10
> 0.0018 <= 0.002 , 0.0019 , 95.70, 14
> 0.002 <= 0.0025 , 0.00225 , 98.10, 24
> 0.0025 <= 0.003 , 0.00275 , 98.30, 2
> 0.003 <= 0.0035 , 0.00325 , 99.30, 10
> 0.004 <= 0.0045 , 0.00425 , 99.40, 1
> 0.005 <= 0.006 , 0.0055 , 99.50, 1
> 0.006 <= 0.00683333 , 0.00641666 , 100.00, 5
# target 50% 0.00082541
# target 75% 0.00107
# target 90% 0.00140588
# target 99% 0.00335
# target 99.9% 0.00666666
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
Response Body/Total Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
All done 1000 calls (plus 4 warmup) 0.905 ms avg, 99.9 qps
Successfully wrote 4085 bytes of Json data to /data/2018-11-17-084323_http_baseline_100qps_10s_echo_1_5.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
08:43:33 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 100.0 qps
08:43:33 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:43:43 I periodic.go:533> T000 ended after 10.002646868s : 250 calls. qps=24.993384581014084
08:43:43 I periodic.go:533> T002 ended after 10.002802766s : 250 calls. qps=24.992995048324037
08:43:43 I periodic.go:533> T003 ended after 10.003998303s : 250 calls. qps=24.990008237509397
08:43:43 I periodic.go:533> T001 ended after 10.005365712s : 250 calls. qps=24.986592913856303
Ended after 10.005527119s : 1000 calls. qps=99.945
Sleep times : count 996 avg 0.037664556 +/- 0.001461 min 0.024458359 max 0.039617024 sum 37.5138974
Aggregated Function Time : count 1000 avg 0.0020085412 +/- 0.001264 min 0.000390783 max 0.014746416 sum 2.0085412
# range, mid point, percentile, count
>= 0.000390783 <= 0.0004 , 0.000395391 , 0.10, 1
> 0.0004 <= 0.0005 , 0.00045 , 1.30, 12
> 0.0005 <= 0.0006 , 0.00055 , 6.10, 48
> 0.0006 <= 0.0007 , 0.00065 , 11.30, 52
> 0.0007 <= 0.0008 , 0.00075 , 14.20, 29
> 0.0008 <= 0.0009 , 0.00085 , 16.50, 23
> 0.0009 <= 0.001 , 0.00095 , 18.90, 24
> 0.001 <= 0.0011 , 0.00105 , 21.20, 23
> 0.0011 <= 0.0012 , 0.00115 , 23.10, 19
> 0.0012 <= 0.0014 , 0.0013 , 27.30, 42
> 0.0014 <= 0.0016 , 0.0015 , 33.50, 62
> 0.0016 <= 0.0018 , 0.0017 , 43.30, 98
> 0.0018 <= 0.002 , 0.0019 , 53.30, 100
> 0.002 <= 0.0025 , 0.00225 , 80.00, 267
> 0.0025 <= 0.003 , 0.00275 , 90.30, 103
> 0.003 <= 0.0035 , 0.00325 , 93.60, 33
> 0.0035 <= 0.004 , 0.00375 , 95.30, 17
> 0.004 <= 0.0045 , 0.00425 , 97.10, 18
> 0.0045 <= 0.005 , 0.00475 , 97.80, 7
> 0.005 <= 0.006 , 0.0055 , 98.80, 10
> 0.006 <= 0.007 , 0.0065 , 99.10, 3
> 0.007 <= 0.008 , 0.0075 , 99.20, 1
> 0.009 <= 0.01 , 0.0095 , 99.70, 5
> 0.01 <= 0.012 , 0.011 , 99.80, 1
> 0.014 <= 0.0147464 , 0.0143732 , 100.00, 2
# target 50% 0.001934
# target 75% 0.00240637
# target 90% 0.00298544
# target 99% 0.00666667
# target 99.9% 0.0143732
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
Response Body/Total Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
All done 1000 calls (plus 4 warmup) 2.009 ms avg, 99.9 qps
Successfully wrote 4518 bytes of Json data to /data/2018-11-17-084333_http_linkerd_100qps_10s_echo_1_5.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
08:43:43 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 100.0 qps
08:43:43 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:43:53 I periodic.go:533> T002 ended after 10.002592985s : 250 calls. qps=24.993519217957065
08:43:53 I periodic.go:533> T001 ended after 10.003746669s : 250 calls. qps=24.99063683556779
08:43:53 I periodic.go:533> T003 ended after 10.003865464s : 250 calls. qps=24.990340074009616
08:43:53 I periodic.go:533> T000 ended after 10.00435663s : 250 calls. qps=24.989113167989892
Ended after 10.004473157s : 1000 calls. qps=99.955
Sleep times : count 996 avg 0.036335844 +/- 0.002064 min 0.021478447 max 0.039359348 sum 36.1905001
Aggregated Function Time : count 1000 avg 0.0033731293 +/- 0.001931 min 0.000396922 max 0.018420514 sum 3.37312934
# range, mid point, percentile, count
>= 0.000396922 <= 0.0004 , 0.000398461 , 0.10, 1
> 0.0004 <= 0.0005 , 0.00045 , 0.20, 1
> 0.0005 <= 0.0006 , 0.00055 , 0.50, 3
> 0.0006 <= 0.0007 , 0.00065 , 0.60, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.90, 3
> 0.0008 <= 0.0009 , 0.00085 , 1.50, 6
> 0.0009 <= 0.001 , 0.00095 , 3.70, 22
> 0.001 <= 0.0011 , 0.00105 , 5.50, 18
> 0.0011 <= 0.0012 , 0.00115 , 8.90, 34
> 0.0012 <= 0.0014 , 0.0013 , 15.70, 68
> 0.0014 <= 0.0016 , 0.0015 , 20.60, 49
> 0.0016 <= 0.0018 , 0.0017 , 22.20, 16
> 0.0018 <= 0.002 , 0.0019 , 24.40, 22
> 0.002 <= 0.0025 , 0.00225 , 31.30, 69
> 0.0025 <= 0.003 , 0.00275 , 39.30, 80
> 0.003 <= 0.0035 , 0.00325 , 50.00, 107
> 0.0035 <= 0.004 , 0.00375 , 71.40, 214
> 0.004 <= 0.0045 , 0.00425 , 84.80, 134
> 0.0045 <= 0.005 , 0.00475 , 92.10, 73
> 0.005 <= 0.006 , 0.0055 , 94.30, 22
> 0.006 <= 0.007 , 0.0065 , 96.60, 23
> 0.007 <= 0.008 , 0.0075 , 97.20, 6
> 0.008 <= 0.009 , 0.0085 , 98.20, 10
> 0.009 <= 0.01 , 0.0095 , 98.90, 7
> 0.01 <= 0.012 , 0.011 , 99.20, 3
> 0.012 <= 0.014 , 0.013 , 99.60, 4
> 0.014 <= 0.016 , 0.015 , 99.70, 1
> 0.016 <= 0.018 , 0.017 , 99.90, 2
> 0.018 <= 0.0184205 , 0.0182103 , 100.00, 1
# target 50% 0.0035
# target 75% 0.00413433
# target 90% 0.00485616
# target 99% 0.0106667
# target 99.9% 0.018
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 209 +/- 0 min 209 max 209 sum 209000
Response Body/Total Sizes : count 1000 avg 209 +/- 0 min 209 max 209 sum 209000
All done 1000 calls (plus 4 warmup) 3.373 ms avg, 100.0 qps
Successfully wrote 4976 bytes of Json data to /data/2018-11-17-084343_http_istio_100qps_10s_echo_1_5.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
08:43:53 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:44:03 I periodic.go:533> T003 ended after 10.000692795s : 250 calls. qps=24.998268132482913
08:44:03 I periodic.go:533> T000 ended after 10.000708171s : 250 calls. qps=24.998229697867664
08:44:03 I periodic.go:533> T002 ended after 10.000754804s : 250 calls. qps=24.99811313242152
08:44:03 I periodic.go:533> T001 ended after 10.000761705s : 250 calls. qps=24.998095882537577
Ended after 10.00077477s : 1000 calls. qps=99.992
Sleep times : count 996 avg 0.038310137 +/- 0.001777 min 0.021317995 max 0.039768583 sum 38.1568962
Aggregated Function Time : count 1000 avg 0.0012885131 +/- 0.001138 min 0.000187369 max 0.016957116 sum 1.28851311
# range, mid point, percentile, count
>= 0.000187369 <= 0.0002 , 0.000193685 , 0.20, 2
> 0.0002 <= 0.0003 , 0.00025 , 1.40, 12
> 0.0003 <= 0.0004 , 0.00035 , 7.70, 63
> 0.0004 <= 0.0005 , 0.00045 , 16.40, 87
> 0.0005 <= 0.0006 , 0.00055 , 22.20, 58
> 0.0006 <= 0.0007 , 0.00065 , 25.30, 31
> 0.0007 <= 0.0008 , 0.00075 , 27.80, 25
> 0.0008 <= 0.0009 , 0.00085 , 30.90, 31
> 0.0009 <= 0.001 , 0.00095 , 36.00, 51
> 0.001 <= 0.0011 , 0.00105 , 43.80, 78
> 0.0011 <= 0.0012 , 0.00115 , 53.10, 93
> 0.0012 <= 0.0014 , 0.0013 , 68.50, 154
> 0.0014 <= 0.0016 , 0.0015 , 80.00, 115
> 0.0016 <= 0.0018 , 0.0017 , 86.60, 66
> 0.0018 <= 0.002 , 0.0019 , 90.30, 37
> 0.002 <= 0.0025 , 0.00225 , 95.20, 49
> 0.0025 <= 0.003 , 0.00275 , 96.70, 15
> 0.003 <= 0.0035 , 0.00325 , 97.40, 7
> 0.0035 <= 0.004 , 0.00375 , 97.80, 4
> 0.004 <= 0.0045 , 0.00425 , 98.20, 4
> 0.0045 <= 0.005 , 0.00475 , 98.60, 4
> 0.005 <= 0.006 , 0.0055 , 99.10, 5
> 0.006 <= 0.007 , 0.0065 , 99.30, 2
> 0.007 <= 0.008 , 0.0075 , 99.40, 1
> 0.008 <= 0.009 , 0.0085 , 99.70, 3
> 0.009 <= 0.01 , 0.0095 , 99.80, 1
> 0.016 <= 0.0169571 , 0.0164786 , 100.00, 2
# target 50% 0.00116667
# target 75% 0.00151304
# target 90% 0.00198378
# target 99% 0.0058
# target 99.9% 0.0164786
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 1.289 ms avg, 100.0 qps
Successfully wrote 4233 bytes of Json data to /data/2018-11-17-084353_grpc_baseline_100qps_10s_echo_1_5.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
08:44:03 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:44:13 I periodic.go:533> T001 ended after 10.004711588s : 250 calls. qps=24.98822657715178
08:44:13 I periodic.go:533> T000 ended after 10.004702535s : 250 calls. qps=24.988249188360303
08:44:13 I periodic.go:533> T002 ended after 10.005020154s : 250 calls. qps=24.987455912325192
08:44:13 I periodic.go:533> T003 ended after 10.005377086s : 250 calls. qps=24.986564509378855
Ended after 10.005438893s : 1000 calls. qps=99.946
Sleep times : count 996 avg 0.036903127 +/- 0.001991 min 0.02312824 max 0.039395958 sum 36.7555148
Aggregated Function Time : count 1000 avg 0.002806261 +/- 0.001871 min 0.000561762 max 0.016883493 sum 2.80626098
# range, mid point, percentile, count
>= 0.000561762 <= 0.0006 , 0.000580881 , 0.20, 2
> 0.0006 <= 0.0007 , 0.00065 , 0.70, 5
> 0.0007 <= 0.0008 , 0.00075 , 3.40, 27
> 0.0008 <= 0.0009 , 0.00085 , 6.90, 35
> 0.0009 <= 0.001 , 0.00095 , 11.10, 42
> 0.001 <= 0.0011 , 0.00105 , 15.40, 43
> 0.0011 <= 0.0012 , 0.00115 , 18.30, 29
> 0.0012 <= 0.0014 , 0.0013 , 22.80, 45
> 0.0014 <= 0.0016 , 0.0015 , 26.20, 34
> 0.0016 <= 0.0018 , 0.0017 , 30.30, 41
> 0.0018 <= 0.002 , 0.0019 , 35.10, 48
> 0.002 <= 0.0025 , 0.00225 , 43.10, 80
> 0.0025 <= 0.003 , 0.00275 , 62.90, 198
> 0.003 <= 0.0035 , 0.00325 , 78.10, 152
> 0.0035 <= 0.004 , 0.00375 , 86.30, 82
> 0.004 <= 0.0045 , 0.00425 , 90.50, 42
> 0.0045 <= 0.005 , 0.00475 , 93.30, 28
> 0.005 <= 0.006 , 0.0055 , 95.40, 21
> 0.006 <= 0.007 , 0.0065 , 97.60, 22
> 0.007 <= 0.008 , 0.0075 , 98.60, 10
> 0.008 <= 0.009 , 0.0085 , 98.70, 1
> 0.009 <= 0.01 , 0.0095 , 98.80, 1
> 0.01 <= 0.012 , 0.011 , 99.20, 4
> 0.012 <= 0.014 , 0.013 , 99.60, 4
> 0.014 <= 0.016 , 0.015 , 99.70, 1
> 0.016 <= 0.0168835 , 0.0164417 , 100.00, 3
# target 50% 0.00267424
# target 75% 0.00339803
# target 90% 0.00444048
# target 99% 0.011
# target 99.9% 0.016589
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 2.806 ms avg, 99.9 qps
Successfully wrote 4074 bytes of Json data to /data/2018-11-17-084403_grpc_linkerd_100qps_10s_echo_1_5.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-istio:8079
08:44:13 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:44:23 I periodic.go:533> T003 ended after 10.001128039s : 250 calls. qps=24.997180220582116
08:44:23 I periodic.go:533> T001 ended after 10.001226528s : 250 calls. qps=24.99693405604661
08:44:23 I periodic.go:533> T002 ended after 10.001188243s : 250 calls. qps=24.99702974543842
08:44:23 I periodic.go:533> T000 ended after 10.002107129s : 250 calls. qps=24.994733287264314
Ended after 10.002144758s : 1000 calls. qps=99.979
Sleep times : count 996 avg 0.036139435 +/- 0.003098 min -0.019936012 max 0.039401245 sum 35.994877
Aggregated Function Time : count 1000 avg 0.0034187955 +/- 0.002814 min 0.00050748 max 0.059710615 sum 3.41879553
# range, mid point, percentile, count
>= 0.00050748 <= 0.0006 , 0.00055374 , 0.30, 3
> 0.0006 <= 0.0007 , 0.00065 , 1.10, 8
> 0.0007 <= 0.0008 , 0.00075 , 2.20, 11
> 0.0008 <= 0.0009 , 0.00085 , 4.40, 22
> 0.0009 <= 0.001 , 0.00095 , 6.80, 24
> 0.001 <= 0.0011 , 0.00105 , 9.10, 23
> 0.0011 <= 0.0012 , 0.00115 , 11.70, 26
> 0.0012 <= 0.0014 , 0.0013 , 16.10, 44
> 0.0014 <= 0.0016 , 0.0015 , 19.90, 38
> 0.0016 <= 0.0018 , 0.0017 , 23.70, 38
> 0.0018 <= 0.002 , 0.0019 , 27.10, 34
> 0.002 <= 0.0025 , 0.00225 , 37.00, 99
> 0.0025 <= 0.003 , 0.00275 , 50.00, 130
> 0.003 <= 0.0035 , 0.00325 , 58.80, 88
> 0.0035 <= 0.004 , 0.00375 , 69.40, 106
> 0.004 <= 0.0045 , 0.00425 , 79.70, 103
> 0.0045 <= 0.005 , 0.00475 , 85.40, 57
> 0.005 <= 0.006 , 0.0055 , 92.40, 70
> 0.006 <= 0.007 , 0.0065 , 95.30, 29
> 0.007 <= 0.008 , 0.0075 , 96.70, 14
> 0.008 <= 0.009 , 0.0085 , 97.50, 8
> 0.009 <= 0.01 , 0.0095 , 97.80, 3
> 0.01 <= 0.012 , 0.011 , 98.80, 10
> 0.012 <= 0.014 , 0.013 , 99.40, 6
> 0.014 <= 0.016 , 0.015 , 99.70, 3
> 0.016 <= 0.018 , 0.017 , 99.80, 1
> 0.018 <= 0.02 , 0.019 , 99.90, 1
> 0.05 <= 0.0597106 , 0.0548553 , 100.00, 1
# target 50% 0.003
# target 75% 0.00427184
# target 90% 0.00565714
# target 99% 0.0126667
# target 99.9% 0.02
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 3.419 ms avg, 100.0 qps
Successfully wrote 4301 bytes of Json data to /data/2018-11-17-084413_grpc_istio_100qps_10s_echo_1_5.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
08:44:23 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 100.0 qps
08:44:23 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:44:33 I periodic.go:533> T002 ended after 10.001132937s : 250 calls. qps=24.997167978350213
08:44:33 I periodic.go:533> T000 ended after 10.001167965s : 250 calls. qps=24.99708042849573
08:44:33 I periodic.go:533> T001 ended after 10.001186791s : 250 calls. qps=24.997033374576436
08:44:33 I periodic.go:533> T003 ended after 10.001238907s : 250 calls. qps=24.996903116175105
Ended after 10.001353078s : 1000 calls. qps=99.986
Sleep times : count 996 avg 0.038730686 +/- 0.001371 min 0.02669967 max 0.039821944 sum 38.5757637
Aggregated Function Time : count 1000 avg 0.000871004 +/- 0.0008167 min 0.000130303 max 0.009531529 sum 0.871003997
# range, mid point, percentile, count
>= 0.000130303 <= 0.0002 , 0.000165151 , 2.10, 21
> 0.0002 <= 0.0003 , 0.00025 , 11.50, 94
> 0.0003 <= 0.0004 , 0.00035 , 19.50, 80
> 0.0004 <= 0.0005 , 0.00045 , 25.60, 61
> 0.0005 <= 0.0006 , 0.00055 , 32.00, 64
> 0.0006 <= 0.0007 , 0.00065 , 41.80, 98
> 0.0007 <= 0.0008 , 0.00075 , 51.80, 100
> 0.0008 <= 0.0009 , 0.00085 , 63.60, 118
> 0.0009 <= 0.001 , 0.00095 , 74.70, 111
> 0.001 <= 0.0011 , 0.00105 , 80.70, 60
> 0.0011 <= 0.0012 , 0.00115 , 86.90, 62
> 0.0012 <= 0.0014 , 0.0013 , 92.40, 55
> 0.0014 <= 0.0016 , 0.0015 , 95.40, 30
> 0.0016 <= 0.0018 , 0.0017 , 96.50, 11
> 0.0018 <= 0.002 , 0.0019 , 97.30, 8
> 0.002 <= 0.0025 , 0.00225 , 98.00, 7
> 0.0025 <= 0.003 , 0.00275 , 98.10, 1
> 0.003 <= 0.0035 , 0.00325 , 98.20, 1
> 0.0035 <= 0.004 , 0.00375 , 98.60, 4
> 0.004 <= 0.0045 , 0.00425 , 98.80, 2
> 0.0045 <= 0.005 , 0.00475 , 99.00, 2
> 0.005 <= 0.006 , 0.0055 , 99.40, 4
> 0.006 <= 0.007 , 0.0065 , 99.60, 2
> 0.009 <= 0.00953153 , 0.00926576 , 100.00, 4
# target 50% 0.000782
# target 75% 0.001005
# target 90% 0.00131273
# target 99% 0.005
# target 99.9% 0.00939865
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
Response Body/Total Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
All done 1000 calls (plus 4 warmup) 0.871 ms avg, 100.0 qps
Successfully wrote 4405 bytes of Json data to /data/2018-11-17-084423_http_baseline_100qps_10s_echo_0_6.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
08:44:33 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 100.0 qps
08:44:33 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:44:44 I periodic.go:533> T003 ended after 10.00247945s : 250 calls. qps=24.993802911537102
08:44:44 I periodic.go:533> T001 ended after 10.002724993s : 250 calls. qps=24.993189373390987
08:44:44 I periodic.go:533> T002 ended after 10.002832562s : 250 calls. qps=24.992920600283863
08:44:44 I periodic.go:533> T000 ended after 10.002883372s : 250 calls. qps=24.9927936478594
Ended after 10.004419006s : 1000 calls. qps=99.956
Sleep times : count 996 avg 0.037613886 +/- 0.00163 min 0.021332823 max 0.039529549 sum 37.4634306
Aggregated Function Time : count 1000 avg 0.0020972891 +/- 0.001441 min 0.000367846 max 0.018591553 sum 2.0972891
# range, mid point, percentile, count
>= 0.000367846 <= 0.0004 , 0.000383923 , 0.10, 1
> 0.0004 <= 0.0005 , 0.00045 , 0.30, 2
> 0.0005 <= 0.0006 , 0.00055 , 3.60, 33
> 0.0006 <= 0.0007 , 0.00065 , 7.80, 42
> 0.0007 <= 0.0008 , 0.00075 , 13.00, 52
> 0.0008 <= 0.0009 , 0.00085 , 15.80, 28
> 0.0009 <= 0.001 , 0.00095 , 18.00, 22
> 0.001 <= 0.0011 , 0.00105 , 20.30, 23
> 0.0011 <= 0.0012 , 0.00115 , 22.40, 21
> 0.0012 <= 0.0014 , 0.0013 , 25.40, 30
> 0.0014 <= 0.0016 , 0.0015 , 30.30, 49
> 0.0016 <= 0.0018 , 0.0017 , 35.70, 54
> 0.0018 <= 0.002 , 0.0019 , 47.00, 113
> 0.002 <= 0.0025 , 0.00225 , 78.80, 318
> 0.0025 <= 0.003 , 0.00275 , 89.70, 109
> 0.003 <= 0.0035 , 0.00325 , 93.70, 40
> 0.0035 <= 0.004 , 0.00375 , 95.10, 14
> 0.004 <= 0.0045 , 0.00425 , 95.90, 8
> 0.0045 <= 0.005 , 0.00475 , 97.20, 13
> 0.005 <= 0.006 , 0.0055 , 99.00, 18
> 0.008 <= 0.009 , 0.0085 , 99.50, 5
> 0.009 <= 0.01 , 0.0095 , 99.60, 1
> 0.012 <= 0.014 , 0.013 , 99.70, 1
> 0.018 <= 0.0185916 , 0.0182958 , 100.00, 3
# target 50% 0.00204717
# target 75% 0.00244025
# target 90% 0.0030375
# target 99% 0.006
# target 99.9% 0.0183944
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
Response Body/Total Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
All done 1000 calls (plus 4 warmup) 2.097 ms avg, 100.0 qps
Successfully wrote 4409 bytes of Json data to /data/2018-11-17-084434_http_linkerd_100qps_10s_echo_0_6.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
08:44:44 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 100.0 qps
08:44:44 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:44:54 I periodic.go:533> T000 ended after 10.001938035s : 250 calls. qps=24.99515585131297
08:44:54 I periodic.go:533> T001 ended after 10.002059659s : 250 calls. qps=24.994851912830406
08:44:54 I periodic.go:533> T002 ended after 10.002724769s : 250 calls. qps=24.993189933085922
08:44:54 I periodic.go:533> T003 ended after 10.002780453s : 250 calls. qps=24.993050799692487
Ended after 10.002805566s : 1000 calls. qps=99.972
Sleep times : count 996 avg 0.036611398 +/- 0.004576 min -0.006351456 max 0.039462896 sum 36.4649527
Aggregated Function Time : count 1000 avg 0.0026627866 +/- 0.002776 min 0.000428569 max 0.033362836 sum 2.66278663
# range, mid point, percentile, count
>= 0.000428569 <= 0.0005 , 0.000464284 , 0.20, 2
> 0.0005 <= 0.0006 , 0.00055 , 0.90, 7
> 0.0006 <= 0.0007 , 0.00065 , 2.90, 20
> 0.0007 <= 0.0008 , 0.00075 , 7.20, 43
> 0.0008 <= 0.0009 , 0.00085 , 11.40, 42
> 0.0009 <= 0.001 , 0.00095 , 15.40, 40
> 0.001 <= 0.0011 , 0.00105 , 21.60, 62
> 0.0011 <= 0.0012 , 0.00115 , 25.60, 40
> 0.0012 <= 0.0014 , 0.0013 , 32.50, 69
> 0.0014 <= 0.0016 , 0.0015 , 37.60, 51
> 0.0016 <= 0.0018 , 0.0017 , 40.10, 25
> 0.0018 <= 0.002 , 0.0019 , 43.90, 38
> 0.002 <= 0.0025 , 0.00225 , 56.20, 123
> 0.0025 <= 0.003 , 0.00275 , 69.20, 130
> 0.003 <= 0.0035 , 0.00325 , 80.70, 115
> 0.0035 <= 0.004 , 0.00375 , 87.20, 65
> 0.004 <= 0.0045 , 0.00425 , 92.60, 54
> 0.0045 <= 0.005 , 0.00475 , 94.50, 19
> 0.005 <= 0.006 , 0.0055 , 95.70, 12
> 0.006 <= 0.007 , 0.0065 , 96.50, 8
> 0.007 <= 0.008 , 0.0075 , 97.60, 11
> 0.008 <= 0.009 , 0.0085 , 97.90, 3
> 0.009 <= 0.01 , 0.0095 , 98.10, 2
> 0.01 <= 0.012 , 0.011 , 98.90, 8
> 0.012 <= 0.014 , 0.013 , 99.00, 1
> 0.014 <= 0.016 , 0.015 , 99.10, 1
> 0.016 <= 0.018 , 0.017 , 99.30, 2
> 0.02 <= 0.025 , 0.0225 , 99.60, 3
> 0.03 <= 0.0333628 , 0.0316814 , 100.00, 4
# target 50% 0.00224797
# target 75% 0.00325217
# target 90% 0.00425926
# target 99% 0.014
# target 99.9% 0.0325221
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 209 +/- 0 min 209 max 209 sum 209000
Response Body/Total Sizes : count 1000 avg 209 +/- 0 min 209 max 209 sum 209000
All done 1000 calls (plus 4 warmup) 2.663 ms avg, 100.0 qps
Successfully wrote 4979 bytes of Json data to /data/2018-11-17-084444_http_istio_100qps_10s_echo_0_6.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
08:44:54 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:45:04 I periodic.go:533> T000 ended after 10.000637035s : 250 calls. qps=24.998407513946933
08:45:04 I periodic.go:533> T003 ended after 10.000797053s : 250 calls. qps=24.998007526310715
08:45:04 I periodic.go:533> T001 ended after 10.000901425s : 250 calls. qps=24.997746640623447
08:45:04 I periodic.go:533> T002 ended after 10.001542922s : 250 calls. qps=24.99614329006026
Ended after 10.00167363s : 1000 calls. qps=99.983
Sleep times : count 996 avg 0.038420371 +/- 0.001356 min 0.025565608 max 0.039727161 sum 38.2666898
Aggregated Function Time : count 1000 avg 0.0012601199 +/- 0.001023 min 0.000172431 max 0.009872801 sum 1.26011993
# range, mid point, percentile, count
>= 0.000172431 <= 0.0002 , 0.000186215 , 0.10, 1
> 0.0002 <= 0.0003 , 0.00025 , 1.40, 13
> 0.0003 <= 0.0004 , 0.00035 , 8.60, 72
> 0.0004 <= 0.0005 , 0.00045 , 16.60, 80
> 0.0005 <= 0.0006 , 0.00055 , 22.30, 57
> 0.0006 <= 0.0007 , 0.00065 , 26.80, 45
> 0.0007 <= 0.0008 , 0.00075 , 31.50, 47
> 0.0008 <= 0.0009 , 0.00085 , 34.80, 33
> 0.0009 <= 0.001 , 0.00095 , 40.00, 52
> 0.001 <= 0.0011 , 0.00105 , 47.30, 73
> 0.0011 <= 0.0012 , 0.00115 , 53.80, 65
> 0.0012 <= 0.0014 , 0.0013 , 71.40, 176
> 0.0014 <= 0.0016 , 0.0015 , 82.50, 111
> 0.0016 <= 0.0018 , 0.0017 , 88.00, 55
> 0.0018 <= 0.002 , 0.0019 , 91.30, 33
> 0.002 <= 0.0025 , 0.00225 , 94.40, 31
> 0.0025 <= 0.003 , 0.00275 , 95.30, 9
> 0.003 <= 0.0035 , 0.00325 , 96.80, 15
> 0.0035 <= 0.004 , 0.00375 , 97.20, 4
> 0.004 <= 0.0045 , 0.00425 , 97.70, 5
> 0.0045 <= 0.005 , 0.00475 , 98.60, 9
> 0.005 <= 0.006 , 0.0055 , 99.00, 4
> 0.006 <= 0.007 , 0.0065 , 99.40, 4
> 0.008 <= 0.009 , 0.0085 , 99.80, 4
> 0.009 <= 0.0098728 , 0.0094364 , 100.00, 2
# target 50% 0.00114154
# target 75% 0.00146486
# target 90% 0.00192121
# target 99% 0.006
# target 99.9% 0.0094364
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 1.260 ms avg, 100.0 qps
Successfully wrote 4019 bytes of Json data to /data/2018-11-17-084454_grpc_baseline_100qps_10s_echo_0_6.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
08:45:04 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:45:14 I periodic.go:533> T000 ended after 10.003388864s : 250 calls. qps=24.991530710127158
08:45:14 I periodic.go:533> T001 ended after 10.003563223s : 250 calls. qps=24.991095115508923
08:45:14 I periodic.go:533> T002 ended after 10.003597805s : 250 calls. qps=24.991008722386354
08:45:14 I periodic.go:533> T003 ended after 10.003413588s : 250 calls. qps=24.991468942151666
Ended after 10.003772135s : 1000 calls. qps=99.962
Sleep times : count 996 avg 0.036957835 +/- 0.001816 min 0.026638439 max 0.039500286 sum 36.8100039
Aggregated Function Time : count 1000 avg 0.0027274536 +/- 0.001563 min 0.000505918 max 0.012361635 sum 2.72745357
# range, mid point, percentile, count
>= 0.000505918 <= 0.0006 , 0.000552959 , 0.40, 4
> 0.0006 <= 0.0007 , 0.00065 , 0.80, 4
> 0.0007 <= 0.0008 , 0.00075 , 3.50, 27
> 0.0008 <= 0.0009 , 0.00085 , 8.00, 45
> 0.0009 <= 0.001 , 0.00095 , 12.30, 43
> 0.001 <= 0.0011 , 0.00105 , 16.50, 42
> 0.0011 <= 0.0012 , 0.00115 , 19.90, 34
> 0.0012 <= 0.0014 , 0.0013 , 23.80, 39
> 0.0014 <= 0.0016 , 0.0015 , 26.30, 25
> 0.0016 <= 0.0018 , 0.0017 , 28.10, 18
> 0.0018 <= 0.002 , 0.0019 , 31.50, 34
> 0.002 <= 0.0025 , 0.00225 , 40.70, 92
> 0.0025 <= 0.003 , 0.00275 , 59.30, 186
> 0.003 <= 0.0035 , 0.00325 , 81.50, 222
> 0.0035 <= 0.004 , 0.00375 , 89.40, 79
> 0.004 <= 0.0045 , 0.00425 , 93.10, 37
> 0.0045 <= 0.005 , 0.00475 , 94.50, 14
> 0.005 <= 0.006 , 0.0055 , 96.70, 22
> 0.006 <= 0.007 , 0.0065 , 97.90, 12
> 0.007 <= 0.008 , 0.0075 , 98.60, 7
> 0.008 <= 0.009 , 0.0085 , 99.00, 4
> 0.009 <= 0.01 , 0.0095 , 99.30, 3
> 0.01 <= 0.012 , 0.011 , 99.70, 4
> 0.012 <= 0.0123616 , 0.0121808 , 100.00, 3
# target 50% 0.00275
# target 75% 0.0033536
# target 90% 0.00408108
# target 99% 0.009
# target 99.9% 0.0122411
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 2.727 ms avg, 100.0 qps
Successfully wrote 3871 bytes of Json data to /data/2018-11-17-084504_grpc_linkerd_100qps_10s_echo_0_6.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-istio:8079
08:45:14 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:45:24 I periodic.go:533> T001 ended after 10.001749062s : 250 calls. qps=24.995628109670726
08:45:24 I periodic.go:533> T003 ended after 10.001742932s : 250 calls. qps=24.995643429320644
08:45:24 I periodic.go:533> T000 ended after 10.002251607s : 250 calls. qps=24.994372249648208
08:45:24 I periodic.go:533> T002 ended after 10.002271409s : 250 calls. qps=24.994322767031804
Ended after 10.002306436s : 1000 calls. qps=99.977
Sleep times : count 996 avg 0.036192589 +/- 0.003586 min -0.00341208 max 0.039316061 sum 36.0478185
Aggregated Function Time : count 1000 avg 0.0031457056 +/- 0.002212 min 0.000683313 max 0.029690655 sum 3.14570564
# range, mid point, percentile, count
>= 0.000683313 <= 0.0007 , 0.000691656 , 0.20, 2
> 0.0007 <= 0.0008 , 0.00075 , 0.70, 5
> 0.0008 <= 0.0009 , 0.00085 , 1.80, 11
> 0.0009 <= 0.001 , 0.00095 , 3.50, 17
> 0.001 <= 0.0011 , 0.00105 , 6.90, 34
> 0.0011 <= 0.0012 , 0.00115 , 10.30, 34
> 0.0012 <= 0.0014 , 0.0013 , 18.50, 82
> 0.0014 <= 0.0016 , 0.0015 , 22.30, 38
> 0.0016 <= 0.0018 , 0.0017 , 25.80, 35
> 0.0018 <= 0.002 , 0.0019 , 29.10, 33
> 0.002 <= 0.0025 , 0.00225 , 39.90, 108
> 0.0025 <= 0.003 , 0.00275 , 51.90, 120
> 0.003 <= 0.0035 , 0.00325 , 63.30, 114
> 0.0035 <= 0.004 , 0.00375 , 76.30, 130
> 0.004 <= 0.0045 , 0.00425 , 85.70, 94
> 0.0045 <= 0.005 , 0.00475 , 90.20, 45
> 0.005 <= 0.006 , 0.0055 , 95.60, 54
> 0.006 <= 0.007 , 0.0065 , 97.10, 15
> 0.007 <= 0.008 , 0.0075 , 97.90, 8
> 0.008 <= 0.009 , 0.0085 , 98.60, 7
> 0.009 <= 0.01 , 0.0095 , 99.10, 5
> 0.01 <= 0.012 , 0.011 , 99.30, 2
> 0.012 <= 0.014 , 0.013 , 99.70, 4
> 0.025 <= 0.0296907 , 0.0273453 , 100.00, 3
# target 50% 0.00292083
# target 75% 0.00395
# target 90% 0.00497778
# target 99% 0.0098
# target 99.9% 0.0281271
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 3.146 ms avg, 100.0 qps
Successfully wrote 3824 bytes of Json data to /data/2018-11-17-084514_grpc_istio_100qps_10s_echo_0_6.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
08:45:24 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 100.0 qps
08:45:24 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:45:34 I periodic.go:533> T001 ended after 10.001492552s : 250 calls. qps=24.996269176844756
08:45:34 I periodic.go:533> T000 ended after 10.00245172s : 250 calls. qps=24.993872202364404
08:45:34 I periodic.go:533> T003 ended after 10.002415988s : 250 calls. qps=24.99396148889704
08:45:34 I periodic.go:533> T002 ended after 10.002671916s : 250 calls. qps=24.993321994307024
Ended after 10.002825417s : 1000 calls. qps=99.972
Sleep times : count 996 avg 0.038883685 +/- 0.0009043 min 0.02848334 max 0.039870467 sum 38.7281499
Aggregated Function Time : count 1000 avg 0.00086669876 +/- 0.0008307 min 0.000129397 max 0.011363661 sum 0.866698763
# range, mid point, percentile, count
>= 0.000129397 <= 0.0002 , 0.000164699 , 2.70, 27
> 0.0002 <= 0.0003 , 0.00025 , 9.80, 71
> 0.0003 <= 0.0004 , 0.00035 , 16.50, 67
> 0.0004 <= 0.0005 , 0.00045 , 21.30, 48
> 0.0005 <= 0.0006 , 0.00055 , 28.70, 74
> 0.0006 <= 0.0007 , 0.00065 , 39.40, 107
> 0.0007 <= 0.0008 , 0.00075 , 53.70, 143
> 0.0008 <= 0.0009 , 0.00085 , 66.00, 123
> 0.0009 <= 0.001 , 0.00095 , 74.70, 87
> 0.001 <= 0.0011 , 0.00105 , 83.40, 87
> 0.0011 <= 0.0012 , 0.00115 , 87.30, 39
> 0.0012 <= 0.0014 , 0.0013 , 92.70, 54
> 0.0014 <= 0.0016 , 0.0015 , 95.50, 28
> 0.0016 <= 0.0018 , 0.0017 , 96.90, 14
> 0.0018 <= 0.002 , 0.0019 , 97.50, 6
> 0.002 <= 0.0025 , 0.00225 , 98.20, 7
> 0.0025 <= 0.003 , 0.00275 , 98.80, 6
> 0.003 <= 0.0035 , 0.00325 , 99.10, 3
> 0.0035 <= 0.004 , 0.00375 , 99.30, 2
> 0.005 <= 0.006 , 0.0055 , 99.60, 3
> 0.01 <= 0.0113637 , 0.0106818 , 100.00, 4
# target 50% 0.000774126
# target 75% 0.00100345
# target 90% 0.0013
# target 99% 0.00333333
# target 99.9% 0.0110227
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
Response Body/Total Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
All done 1000 calls (plus 4 warmup) 0.867 ms avg, 100.0 qps
Successfully wrote 4051 bytes of Json data to /data/2018-11-17-084524_http_baseline_100qps_10s_echo_1_6.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
08:45:34 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 100.0 qps
08:45:34 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:45:44 I periodic.go:533> T000 ended after 10.022633992s : 250 calls. qps=24.943542805169614
08:45:44 I periodic.go:533> T003 ended after 10.023091911s : 250 calls. qps=24.94240322446146
08:45:44 I periodic.go:533> T002 ended after 10.022795475s : 250 calls. qps=24.943140925461215
08:45:44 I periodic.go:533> T001 ended after 10.022733939s : 250 calls. qps=24.943294067421217
Ended after 10.025873718s : 1000 calls. qps=99.742
Sleep times : count 996 avg 0.037610221 +/- 0.001596 min 0.026775469 max 0.039812299 sum 37.4597803
Aggregated Function Time : count 1000 avg 0.0020455174 +/- 0.001373 min 0.00031208 max 0.013191909 sum 2.04551736
# range, mid point, percentile, count
>= 0.00031208 <= 0.0004 , 0.00035604 , 0.70, 7
> 0.0004 <= 0.0005 , 0.00045 , 2.00, 13
> 0.0005 <= 0.0006 , 0.00055 , 6.90, 49
> 0.0006 <= 0.0007 , 0.00065 , 13.70, 68
> 0.0007 <= 0.0008 , 0.00075 , 18.50, 48
> 0.0008 <= 0.0009 , 0.00085 , 22.60, 41
> 0.0009 <= 0.001 , 0.00095 , 24.80, 22
> 0.001 <= 0.0011 , 0.00105 , 26.40, 16
> 0.0011 <= 0.0012 , 0.00115 , 27.90, 15
> 0.0012 <= 0.0014 , 0.0013 , 30.40, 25
> 0.0014 <= 0.0016 , 0.0015 , 34.60, 42
> 0.0016 <= 0.0018 , 0.0017 , 41.20, 66
> 0.0018 <= 0.002 , 0.0019 , 51.30, 101
> 0.002 <= 0.0025 , 0.00225 , 76.60, 253
> 0.0025 <= 0.003 , 0.00275 , 86.30, 97
> 0.003 <= 0.0035 , 0.00325 , 91.80, 55
> 0.0035 <= 0.004 , 0.00375 , 93.70, 19
> 0.004 <= 0.0045 , 0.00425 , 95.40, 17
> 0.0045 <= 0.005 , 0.00475 , 96.60, 12
> 0.005 <= 0.006 , 0.0055 , 98.60, 20
> 0.006 <= 0.007 , 0.0065 , 99.10, 5
> 0.007 <= 0.008 , 0.0075 , 99.30, 2
> 0.008 <= 0.009 , 0.0085 , 99.60, 3
> 0.012 <= 0.0131919 , 0.012596 , 100.00, 4
# target 50% 0.00197426
# target 75% 0.00246838
# target 90% 0.00333636
# target 99% 0.0068
# target 99.9% 0.0128939
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
Response Body/Total Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
All done 1000 calls (plus 4 warmup) 2.046 ms avg, 99.7 qps
Successfully wrote 4412 bytes of Json data to /data/2018-11-17-084534_http_linkerd_100qps_10s_echo_1_6.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
08:45:44 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 100.0 qps
08:45:44 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:45:54 I periodic.go:533> T002 ended after 10.000797687s : 250 calls. qps=24.99800594156345
08:45:54 I periodic.go:533> T003 ended after 10.000859648s : 250 calls. qps=24.99785106473279
08:45:54 I periodic.go:533> T001 ended after 10.001177137s : 250 calls. qps=24.997057503872103
08:45:54 I periodic.go:533> T000 ended after 10.001296384s : 250 calls. qps=24.99675946009841
Ended after 10.001323359s : 1000 calls. qps=99.987
Sleep times : count 996 avg 0.037175352 +/- 0.001977 min 0.011917032 max 0.039576156 sum 37.0266506
Aggregated Function Time : count 1000 avg 0.0023485238 +/- 0.001594 min 0.000389319 max 0.027502165 sum 2.3485238
# range, mid point, percentile, count
>= 0.000389319 <= 0.0004 , 0.00039466 , 0.10, 1
> 0.0004 <= 0.0005 , 0.00045 , 0.50, 4
> 0.0005 <= 0.0006 , 0.00055 , 2.40, 19
> 0.0006 <= 0.0007 , 0.00065 , 5.10, 27
> 0.0007 <= 0.0008 , 0.00075 , 9.90, 48
> 0.0008 <= 0.0009 , 0.00085 , 14.10, 42
> 0.0009 <= 0.001 , 0.00095 , 17.70, 36
> 0.001 <= 0.0011 , 0.00105 , 21.00, 33
> 0.0011 <= 0.0012 , 0.00115 , 25.30, 43
> 0.0012 <= 0.0014 , 0.0013 , 29.40, 41
> 0.0014 <= 0.0016 , 0.0015 , 32.00, 26
> 0.0016 <= 0.0018 , 0.0017 , 35.10, 31
> 0.0018 <= 0.002 , 0.0019 , 39.50, 44
> 0.002 <= 0.0025 , 0.00225 , 60.60, 211
> 0.0025 <= 0.003 , 0.00275 , 78.30, 177
> 0.003 <= 0.0035 , 0.00325 , 87.50, 92
> 0.0035 <= 0.004 , 0.00375 , 91.20, 37
> 0.004 <= 0.0045 , 0.00425 , 93.70, 25
> 0.0045 <= 0.005 , 0.00475 , 96.00, 23
> 0.005 <= 0.006 , 0.0055 , 97.70, 17
> 0.006 <= 0.007 , 0.0065 , 98.40, 7
> 0.007 <= 0.008 , 0.0075 , 99.10, 7
> 0.008 <= 0.009 , 0.0085 , 99.70, 6
> 0.01 <= 0.012 , 0.011 , 99.90, 2
> 0.025 <= 0.0275022 , 0.0262511 , 100.00, 1
# target 50% 0.00224882
# target 75% 0.00290678
# target 90% 0.00383784
# target 99% 0.00785714
# target 99.9% 0.012
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 209 +/- 0 min 209 max 209 sum 209000
Response Body/Total Sizes : count 1000 avg 209 +/- 0 min 209 max 209 sum 209000
All done 1000 calls (plus 4 warmup) 2.349 ms avg, 100.0 qps
Successfully wrote 4503 bytes of Json data to /data/2018-11-17-084544_http_istio_100qps_10s_echo_1_6.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
08:45:54 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:46:04 I periodic.go:533> T001 ended after 10.000776808s : 250 calls. qps=24.99805813084595
08:46:04 I periodic.go:533> T002 ended after 10.000757583s : 250 calls. qps=24.99810618597213
08:46:04 I periodic.go:533> T003 ended after 10.000836086s : 250 calls. qps=24.99790995974534
08:46:04 I periodic.go:533> T000 ended after 10.000863695s : 250 calls. qps=24.997840948976158
Ended after 10.000905346s : 1000 calls. qps=99.991
Sleep times : count 996 avg 0.038086878 +/- 0.002 min 0.023465005 max 0.039749805 sum 37.9345307
Aggregated Function Time : count 1000 avg 0.0015632888 +/- 0.001828 min 0.000152675 max 0.016552811 sum 1.56328883
# range, mid point, percentile, count
>= 0.000152675 <= 0.0002 , 0.000176337 , 0.20, 2
> 0.0002 <= 0.0003 , 0.00025 , 2.80, 26
> 0.0003 <= 0.0004 , 0.00035 , 8.90, 61
> 0.0004 <= 0.0005 , 0.00045 , 16.40, 75
> 0.0005 <= 0.0006 , 0.00055 , 21.40, 50
> 0.0006 <= 0.0007 , 0.00065 , 24.30, 29
> 0.0007 <= 0.0008 , 0.00075 , 27.80, 35
> 0.0008 <= 0.0009 , 0.00085 , 31.30, 35
> 0.0009 <= 0.001 , 0.00095 , 36.10, 48
> 0.001 <= 0.0011 , 0.00105 , 42.50, 64
> 0.0011 <= 0.0012 , 0.00115 , 49.20, 67
> 0.0012 <= 0.0014 , 0.0013 , 63.50, 143
> 0.0014 <= 0.0016 , 0.0015 , 74.20, 107
> 0.0016 <= 0.0018 , 0.0017 , 81.40, 72
> 0.0018 <= 0.002 , 0.0019 , 85.00, 36
> 0.002 <= 0.0025 , 0.00225 , 90.30, 53
> 0.0025 <= 0.003 , 0.00275 , 92.20, 19
> 0.003 <= 0.0035 , 0.00325 , 93.70, 15
> 0.0035 <= 0.004 , 0.00375 , 94.40, 7
> 0.004 <= 0.0045 , 0.00425 , 95.50, 11
> 0.0045 <= 0.005 , 0.00475 , 95.90, 4
> 0.005 <= 0.006 , 0.0055 , 97.20, 13
> 0.006 <= 0.007 , 0.0065 , 97.60, 4
> 0.007 <= 0.008 , 0.0075 , 97.80, 2
> 0.009 <= 0.01 , 0.0095 , 98.60, 8
> 0.01 <= 0.012 , 0.011 , 99.00, 4
> 0.012 <= 0.014 , 0.013 , 99.70, 7
> 0.014 <= 0.016 , 0.015 , 99.80, 1
> 0.016 <= 0.0165528 , 0.0162764 , 100.00, 2
# target 50% 0.00121119
# target 75% 0.00162222
# target 90% 0.0024717
# target 99% 0.012
# target 99.9% 0.0162764
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 1.563 ms avg, 100.0 qps
Successfully wrote 4435 bytes of Json data to /data/2018-11-17-084554_grpc_baseline_100qps_10s_echo_1_6.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
08:46:04 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:46:14 I periodic.go:533> T000 ended after 10.001267801s : 250 calls. qps=24.99683089927891
08:46:14 I periodic.go:533> T002 ended after 10.00126784s : 250 calls. qps=24.996830801803622
08:46:14 I periodic.go:533> T001 ended after 10.001332268s : 250 calls. qps=24.996669773675396
08:46:14 I periodic.go:533> T003 ended after 10.001345907s : 250 calls. qps=24.99663568530547
Ended after 10.001356207s : 1000 calls. qps=99.986
Sleep times : count 996 avg 0.036627577 +/- 0.002092 min 0.02130509 max 0.039397055 sum 36.4810667
Aggregated Function Time : count 1000 avg 0.0030619798 +/- 0.00184 min 0.000389918 max 0.015380546 sum 3.06197977
# range, mid point, percentile, count
>= 0.000389918 <= 0.0004 , 0.000394959 , 0.10, 1
> 0.0004 <= 0.0005 , 0.00045 , 0.30, 2
> 0.0005 <= 0.0006 , 0.00055 , 0.70, 4
> 0.0006 <= 0.0007 , 0.00065 , 1.30, 6
> 0.0007 <= 0.0008 , 0.00075 , 3.40, 21
> 0.0008 <= 0.0009 , 0.00085 , 7.50, 41
> 0.0009 <= 0.001 , 0.00095 , 9.60, 21
> 0.001 <= 0.0011 , 0.00105 , 11.50, 19
> 0.0011 <= 0.0012 , 0.00115 , 13.00, 15
> 0.0012 <= 0.0014 , 0.0013 , 16.00, 30
> 0.0014 <= 0.0016 , 0.0015 , 18.20, 22
> 0.0016 <= 0.0018 , 0.0017 , 19.90, 17
> 0.0018 <= 0.002 , 0.0019 , 21.90, 20
> 0.002 <= 0.0025 , 0.00225 , 32.30, 104
> 0.0025 <= 0.003 , 0.00275 , 59.50, 272
> 0.003 <= 0.0035 , 0.00325 , 75.40, 159
> 0.0035 <= 0.004 , 0.00375 , 83.70, 83
> 0.004 <= 0.0045 , 0.00425 , 88.30, 46
> 0.0045 <= 0.005 , 0.00475 , 90.50, 22
> 0.005 <= 0.006 , 0.0055 , 94.90, 44
> 0.006 <= 0.007 , 0.0065 , 96.40, 15
> 0.007 <= 0.008 , 0.0075 , 97.20, 8
> 0.008 <= 0.009 , 0.0085 , 97.80, 6
> 0.009 <= 0.01 , 0.0095 , 98.30, 5
> 0.01 <= 0.012 , 0.011 , 99.70, 14
> 0.012 <= 0.014 , 0.013 , 99.80, 1
> 0.014 <= 0.0153805 , 0.0146903 , 100.00, 2
# target 50% 0.00282537
# target 75% 0.00348742
# target 90% 0.00488636
# target 99% 0.011
# target 99.9% 0.0146903
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 3.062 ms avg, 100.0 qps
Successfully wrote 4192 bytes of Json data to /data/2018-11-17-084604_grpc_linkerd_100qps_10s_echo_1_6.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-istio:8079
08:46:14 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:46:24 I periodic.go:533> T002 ended after 10.002878094s : 250 calls. qps=24.992806835260428
08:46:24 I periodic.go:533> T003 ended after 10.003241748s : 250 calls. qps=24.991898256381116
08:46:24 I periodic.go:533> T001 ended after 10.005379593s : 250 calls. qps=24.986558248615165
08:46:24 I periodic.go:533> T000 ended after 10.007827485s : 250 calls. qps=24.980446592900076
Ended after 10.008202029s : 1000 calls. qps=99.918
Sleep times : count 996 avg 0.03617963 +/- 0.003826 min -0.010438464 max 0.039472931 sum 36.0349117
Aggregated Function Time : count 1000 avg 0.0033358149 +/- 0.003155 min 0.000395891 max 0.046981036 sum 3.33581495
# range, mid point, percentile, count
>= 0.000395891 <= 0.0004 , 0.000397945 , 0.10, 1
> 0.0004 <= 0.0005 , 0.00045 , 0.20, 1
> 0.0005 <= 0.0006 , 0.00055 , 0.40, 2
> 0.0006 <= 0.0007 , 0.00065 , 1.20, 8
> 0.0007 <= 0.0008 , 0.00075 , 3.10, 19
> 0.0008 <= 0.0009 , 0.00085 , 5.20, 21
> 0.0009 <= 0.001 , 0.00095 , 6.70, 15
> 0.001 <= 0.0011 , 0.00105 , 9.60, 29
> 0.0011 <= 0.0012 , 0.00115 , 13.20, 36
> 0.0012 <= 0.0014 , 0.0013 , 20.50, 73
> 0.0014 <= 0.0016 , 0.0015 , 26.10, 56
> 0.0016 <= 0.0018 , 0.0017 , 29.90, 38
> 0.0018 <= 0.002 , 0.0019 , 32.40, 25
> 0.002 <= 0.0025 , 0.00225 , 43.10, 107
> 0.0025 <= 0.003 , 0.00275 , 55.10, 120
> 0.003 <= 0.0035 , 0.00325 , 64.20, 91
> 0.0035 <= 0.004 , 0.00375 , 72.00, 78
> 0.004 <= 0.0045 , 0.00425 , 79.30, 73
> 0.0045 <= 0.005 , 0.00475 , 84.30, 50
> 0.005 <= 0.006 , 0.0055 , 90.40, 61
> 0.006 <= 0.007 , 0.0065 , 93.80, 34
> 0.007 <= 0.008 , 0.0075 , 96.40, 26
> 0.008 <= 0.009 , 0.0085 , 97.50, 11
> 0.009 <= 0.01 , 0.0095 , 98.50, 10
> 0.01 <= 0.012 , 0.011 , 99.50, 10
> 0.012 <= 0.014 , 0.013 , 99.70, 2
> 0.045 <= 0.046981 , 0.0459905 , 100.00, 3
# target 50% 0.0027875
# target 75% 0.00420548
# target 90% 0.00593443
# target 99% 0.011
# target 99.9% 0.0463207
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 3.336 ms avg, 99.9 qps
Successfully wrote 4192 bytes of Json data to /data/2018-11-17-084614_grpc_istio_100qps_10s_echo_1_6.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
08:46:24 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 100.0 qps
08:46:24 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:46:34 I periodic.go:533> T002 ended after 10.001167218s : 250 calls. qps=24.99708229555971
08:46:34 I periodic.go:533> T001 ended after 10.001189513s : 250 calls. qps=24.99702657119322
08:46:34 I periodic.go:533> T003 ended after 10.001277057s : 250 calls. qps=24.996807765166587
08:46:34 I periodic.go:533> T000 ended after 10.001276244s : 250 calls. qps=24.996809797147726
Ended after 10.002018575s : 1000 calls. qps=99.98
Sleep times : count 996 avg 0.0388464 +/- 0.001239 min 0.023995567 max 0.039862858 sum 38.6910142
Aggregated Function Time : count 1000 avg 0.00087436375 +/- 0.001134 min 0.000112197 max 0.015881453 sum 0.874363755
# range, mid point, percentile, count
>= 0.000112197 <= 0.0002 , 0.000156099 , 2.30, 23
> 0.0002 <= 0.0003 , 0.00025 , 10.50, 82
> 0.0003 <= 0.0004 , 0.00035 , 19.60, 91
> 0.0004 <= 0.0005 , 0.00045 , 25.70, 61
> 0.0005 <= 0.0006 , 0.00055 , 32.60, 69
> 0.0006 <= 0.0007 , 0.00065 , 42.00, 94
> 0.0007 <= 0.0008 , 0.00075 , 53.70, 117
> 0.0008 <= 0.0009 , 0.00085 , 65.40, 117
> 0.0009 <= 0.001 , 0.00095 , 76.10, 107
> 0.001 <= 0.0011 , 0.00105 , 83.90, 78
> 0.0011 <= 0.0012 , 0.00115 , 89.30, 54
> 0.0012 <= 0.0014 , 0.0013 , 94.10, 48
> 0.0014 <= 0.0016 , 0.0015 , 96.10, 20
> 0.0016 <= 0.0018 , 0.0017 , 96.90, 8
> 0.0018 <= 0.002 , 0.0019 , 97.40, 5
> 0.002 <= 0.0025 , 0.00225 , 98.00, 6
> 0.0025 <= 0.003 , 0.00275 , 98.70, 7
> 0.003 <= 0.0035 , 0.00325 , 98.90, 2
> 0.0035 <= 0.004 , 0.00375 , 99.10, 2
> 0.006 <= 0.007 , 0.0065 , 99.50, 4
> 0.01 <= 0.012 , 0.011 , 99.60, 1
> 0.014 <= 0.0158815 , 0.0149407 , 100.00, 4
# target 50% 0.000768376
# target 75% 0.00098972
# target 90% 0.00122917
# target 99% 0.00375
# target 99.9% 0.0154111
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
Response Body/Total Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
All done 1000 calls (plus 4 warmup) 0.874 ms avg, 100.0 qps
Successfully wrote 4173 bytes of Json data to /data/2018-11-17-084624_http_baseline_100qps_10s_echo_0_7.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
08:46:34 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 100.0 qps
08:46:34 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:46:44 I periodic.go:533> T001 ended after 10.002146464s : 250 calls. qps=24.99463499157974
08:46:44 I periodic.go:533> T003 ended after 10.002293461s : 250 calls. qps=24.99426766218932
08:46:44 I periodic.go:533> T002 ended after 10.002470222s : 250 calls. qps=24.993825970122444
08:46:44 I periodic.go:533> T000 ended after 10.004879844s : 250 calls. qps=24.987806340315707
Ended after 10.005010828s : 1000 calls. qps=99.95
Sleep times : count 996 avg 0.037594789 +/- 0.001478 min 0.024564477 max 0.039566085 sum 37.4444103
Aggregated Function Time : count 1000 avg 0.0021264944 +/- 0.001324 min 0.000404573 max 0.013988594 sum 2.12649441
# range, mid point, percentile, count
>= 0.000404573 <= 0.0005 , 0.000452286 , 1.40, 14
> 0.0005 <= 0.0006 , 0.00055 , 5.20, 38
> 0.0006 <= 0.0007 , 0.00065 , 10.40, 52
> 0.0007 <= 0.0008 , 0.00075 , 14.10, 37
> 0.0008 <= 0.0009 , 0.00085 , 18.00, 39
> 0.0009 <= 0.001 , 0.00095 , 20.40, 24
> 0.001 <= 0.0011 , 0.00105 , 22.80, 24
> 0.0011 <= 0.0012 , 0.00115 , 24.60, 18
> 0.0012 <= 0.0014 , 0.0013 , 27.90, 33
> 0.0014 <= 0.0016 , 0.0015 , 30.00, 21
> 0.0016 <= 0.0018 , 0.0017 , 35.10, 51
> 0.0018 <= 0.002 , 0.0019 , 45.20, 101
> 0.002 <= 0.0025 , 0.00225 , 76.70, 315
> 0.0025 <= 0.003 , 0.00275 , 87.50, 108
> 0.003 <= 0.0035 , 0.00325 , 91.20, 37
> 0.0035 <= 0.004 , 0.00375 , 93.60, 24
> 0.004 <= 0.0045 , 0.00425 , 95.00, 14
> 0.0045 <= 0.005 , 0.00475 , 95.90, 9
> 0.005 <= 0.006 , 0.0055 , 97.60, 17
> 0.006 <= 0.007 , 0.0065 , 98.60, 10
> 0.007 <= 0.008 , 0.0075 , 99.80, 12
> 0.012 <= 0.0139886 , 0.0129943 , 100.00, 2
# target 50% 0.00207619
# target 75% 0.00247302
# target 90% 0.00333784
# target 99% 0.00733333
# target 99.9% 0.0129943
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
Response Body/Total Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
All done 1000 calls (plus 4 warmup) 2.126 ms avg, 99.9 qps
Successfully wrote 4168 bytes of Json data to /data/2018-11-17-084634_http_linkerd_100qps_10s_echo_0_7.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
08:46:44 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 100.0 qps
08:46:44 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:46:54 I periodic.go:533> T000 ended after 10.001714953s : 250 calls. qps=24.995713352639875
08:46:54 I periodic.go:533> T001 ended after 10.001715112s : 250 calls. qps=24.995712955276186
08:46:54 I periodic.go:533> T002 ended after 10.001752639s : 250 calls. qps=24.9956191703013
08:46:54 I periodic.go:533> T003 ended after 10.001743092s : 250 calls. qps=24.995643029460048
Ended after 10.002170835s : 1000 calls. qps=99.978
Sleep times : count 996 avg 0.036375821 +/- 0.005452 min -0.021383462 max 0.039498465 sum 36.2303176
Aggregated Function Time : count 1000 avg 0.0028935196 +/- 0.003396 min 0.000406133 max 0.061120032 sum 2.89351963
# range, mid point, percentile, count
>= 0.000406133 <= 0.0005 , 0.000453066 , 0.40, 4
> 0.0005 <= 0.0006 , 0.00055 , 1.40, 10
> 0.0006 <= 0.0007 , 0.00065 , 2.80, 14
> 0.0007 <= 0.0008 , 0.00075 , 6.40, 36
> 0.0008 <= 0.0009 , 0.00085 , 10.70, 43
> 0.0009 <= 0.001 , 0.00095 , 16.80, 61
> 0.001 <= 0.0011 , 0.00105 , 21.80, 50
> 0.0011 <= 0.0012 , 0.00115 , 25.10, 33
> 0.0012 <= 0.0014 , 0.0013 , 28.70, 36
> 0.0014 <= 0.0016 , 0.0015 , 31.60, 29
> 0.0016 <= 0.0018 , 0.0017 , 33.90, 23
> 0.0018 <= 0.002 , 0.0019 , 36.80, 29
> 0.002 <= 0.0025 , 0.00225 , 47.30, 105
> 0.0025 <= 0.003 , 0.00275 , 67.60, 203
> 0.003 <= 0.0035 , 0.00325 , 81.50, 139
> 0.0035 <= 0.004 , 0.00375 , 87.20, 57
> 0.004 <= 0.0045 , 0.00425 , 90.30, 31
> 0.0045 <= 0.005 , 0.00475 , 91.90, 16
> 0.005 <= 0.006 , 0.0055 , 95.10, 32
> 0.006 <= 0.007 , 0.0065 , 95.60, 5
> 0.007 <= 0.008 , 0.0075 , 96.70, 11
> 0.008 <= 0.009 , 0.0085 , 97.70, 10
> 0.009 <= 0.01 , 0.0095 , 97.90, 2
> 0.01 <= 0.012 , 0.011 , 98.60, 7
> 0.014 <= 0.016 , 0.015 , 98.90, 3
> 0.016 <= 0.018 , 0.017 , 99.10, 2
> 0.018 <= 0.02 , 0.019 , 99.40, 3
> 0.02 <= 0.025 , 0.0225 , 99.60, 2
> 0.03 <= 0.035 , 0.0325 , 99.90, 3
> 0.06 <= 0.06112 , 0.06056 , 100.00, 1
# target 50% 0.0025665
# target 75% 0.00326619
# target 90% 0.00445161
# target 99% 0.017
# target 99.9% 0.035
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 209 +/- 0 min 209 max 209 sum 209000
Response Body/Total Sizes : count 1000 avg 209 +/- 0 min 209 max 209 sum 209000
All done 1000 calls (plus 4 warmup) 2.894 ms avg, 100.0 qps
Successfully wrote 5099 bytes of Json data to /data/2018-11-17-084644_http_istio_100qps_10s_echo_0_7.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
08:46:54 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:47:04 I periodic.go:533> T002 ended after 10.001932934s : 250 calls. qps=24.995168598877953
08:47:04 I periodic.go:533> T001 ended after 10.001972181s : 250 calls. qps=24.995070519682745
08:47:04 I periodic.go:533> T000 ended after 10.002321976s : 250 calls. qps=24.994196407580233
08:47:04 I periodic.go:533> T003 ended after 10.002414732s : 250 calls. qps=24.993964627380738
Ended after 10.00390727s : 1000 calls. qps=99.961
Sleep times : count 996 avg 0.038462774 +/- 0.001479 min 0.018583308 max 0.039767045 sum 38.3089232
Aggregated Function Time : count 1000 avg 0.0012643022 +/- 0.001211 min 0.0001756 max 0.015585806 sum 1.26430222
# range, mid point, percentile, count
>= 0.0001756 <= 0.0002 , 0.0001878 , 0.50, 5
> 0.0002 <= 0.0003 , 0.00025 , 1.90, 14
> 0.0003 <= 0.0004 , 0.00035 , 10.30, 84
> 0.0004 <= 0.0005 , 0.00045 , 18.90, 86
> 0.0005 <= 0.0006 , 0.00055 , 24.30, 54
> 0.0006 <= 0.0007 , 0.00065 , 27.80, 35
> 0.0007 <= 0.0008 , 0.00075 , 30.90, 31
> 0.0008 <= 0.0009 , 0.00085 , 34.80, 39
> 0.0009 <= 0.001 , 0.00095 , 39.60, 48
> 0.001 <= 0.0011 , 0.00105 , 46.80, 72
> 0.0011 <= 0.0012 , 0.00115 , 54.20, 74
> 0.0012 <= 0.0014 , 0.0013 , 71.70, 175
> 0.0014 <= 0.0016 , 0.0015 , 82.60, 109
> 0.0016 <= 0.0018 , 0.0017 , 87.80, 52
> 0.0018 <= 0.002 , 0.0019 , 91.50, 37
> 0.002 <= 0.0025 , 0.00225 , 94.90, 34
> 0.0025 <= 0.003 , 0.00275 , 96.20, 13
> 0.003 <= 0.0035 , 0.00325 , 96.90, 7
> 0.0035 <= 0.004 , 0.00375 , 97.80, 9
> 0.004 <= 0.0045 , 0.00425 , 98.30, 5
> 0.0045 <= 0.005 , 0.00475 , 98.40, 1
> 0.005 <= 0.006 , 0.0055 , 98.90, 5
> 0.006 <= 0.007 , 0.0065 , 99.10, 2
> 0.007 <= 0.008 , 0.0075 , 99.30, 2
> 0.008 <= 0.009 , 0.0085 , 99.60, 3
> 0.009 <= 0.01 , 0.0095 , 99.70, 1
> 0.014 <= 0.0155858 , 0.0147929 , 100.00, 3
# target 50% 0.00114324
# target 75% 0.00146055
# target 90% 0.00191892
# target 99% 0.0065
# target 99.9% 0.0150572
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 1.264 ms avg, 100.0 qps
Successfully wrote 4244 bytes of Json data to /data/2018-11-17-084654_grpc_baseline_100qps_10s_echo_0_7.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
08:47:04 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:47:14 I periodic.go:533> T003 ended after 10.003873452s : 250 calls. qps=24.990320119455266
08:47:14 I periodic.go:533> T002 ended after 10.004050386s : 250 calls. qps=24.98987813474613
08:47:14 I periodic.go:533> T000 ended after 10.004240498s : 250 calls. qps=24.989403248550335
08:47:14 I periodic.go:533> T001 ended after 10.004657529s : 250 calls. qps=24.98836159811943
Ended after 10.005692376s : 1000 calls. qps=99.943
Sleep times : count 996 avg 0.036678055 +/- 0.002316 min 0.016155515 max 0.039369765 sum 36.5313424
Aggregated Function Time : count 1000 avg 0.0029201541 +/- 0.001698 min 0.000501427 max 0.014779221 sum 2.92015415
# range, mid point, percentile, count
>= 0.000501427 <= 0.0006 , 0.000550714 , 0.10, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.70, 6
> 0.0007 <= 0.0008 , 0.00075 , 2.70, 20
> 0.0008 <= 0.0009 , 0.00085 , 6.20, 35
> 0.0009 <= 0.001 , 0.00095 , 9.00, 28
> 0.001 <= 0.0011 , 0.00105 , 11.10, 21
> 0.0011 <= 0.0012 , 0.00115 , 13.40, 23
> 0.0012 <= 0.0014 , 0.0013 , 17.50, 41
> 0.0014 <= 0.0016 , 0.0015 , 19.90, 24
> 0.0016 <= 0.0018 , 0.0017 , 22.60, 27
> 0.0018 <= 0.002 , 0.0019 , 26.50, 39
> 0.002 <= 0.0025 , 0.00225 , 35.30, 88
> 0.0025 <= 0.003 , 0.00275 , 58.90, 236
> 0.003 <= 0.0035 , 0.00325 , 77.80, 189
> 0.0035 <= 0.004 , 0.00375 , 87.20, 94
> 0.004 <= 0.0045 , 0.00425 , 91.40, 42
> 0.0045 <= 0.005 , 0.00475 , 93.60, 22
> 0.005 <= 0.006 , 0.0055 , 96.10, 25
> 0.006 <= 0.007 , 0.0065 , 96.70, 6
> 0.007 <= 0.008 , 0.0075 , 97.40, 7
> 0.008 <= 0.009 , 0.0085 , 98.30, 9
> 0.009 <= 0.01 , 0.0095 , 98.70, 4
> 0.01 <= 0.012 , 0.011 , 99.70, 10
> 0.012 <= 0.014 , 0.013 , 99.80, 1
> 0.014 <= 0.0147792 , 0.0143896 , 100.00, 2
# target 50% 0.00281144
# target 75% 0.00342593
# target 90% 0.00433333
# target 99% 0.0106
# target 99.9% 0.0143896
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 2.920 ms avg, 99.9 qps
Successfully wrote 3985 bytes of Json data to /data/2018-11-17-084704_grpc_linkerd_100qps_10s_echo_0_7.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-istio:8079
08:47:14 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:47:24 I periodic.go:533> T000 ended after 10.002827498s : 250 calls. qps=24.992933253121265
08:47:24 I periodic.go:533> T003 ended after 10.002805706s : 250 calls. qps=24.99298770244453
08:47:24 I periodic.go:533> T001 ended after 10.00291876s : 250 calls. qps=24.992705229168532
08:47:24 I periodic.go:533> T002 ended after 10.003483058s : 250 calls. qps=24.99129538686724
Ended after 10.003861776s : 1000 calls. qps=99.961
Sleep times : count 996 avg 0.036420327 +/- 0.002423 min 0.016455632 max 0.039373107 sum 36.2746458
Aggregated Function Time : count 1000 avg 0.0031556069 +/- 0.001887 min 0.000618721 max 0.013619263 sum 3.15560694
# range, mid point, percentile, count
>= 0.000618721 <= 0.0007 , 0.000659361 , 1.10, 11
> 0.0007 <= 0.0008 , 0.00075 , 3.30, 22
> 0.0008 <= 0.0009 , 0.00085 , 5.20, 19
> 0.0009 <= 0.001 , 0.00095 , 8.00, 28
> 0.001 <= 0.0011 , 0.00105 , 10.80, 28
> 0.0011 <= 0.0012 , 0.00115 , 11.90, 11
> 0.0012 <= 0.0014 , 0.0013 , 17.90, 60
> 0.0014 <= 0.0016 , 0.0015 , 22.00, 41
> 0.0016 <= 0.0018 , 0.0017 , 27.10, 51
> 0.0018 <= 0.002 , 0.0019 , 30.10, 30
> 0.002 <= 0.0025 , 0.00225 , 40.80, 107
> 0.0025 <= 0.003 , 0.00275 , 53.20, 124
> 0.003 <= 0.0035 , 0.00325 , 64.80, 116
> 0.0035 <= 0.004 , 0.00375 , 73.60, 88
> 0.004 <= 0.0045 , 0.00425 , 80.90, 73
> 0.0045 <= 0.005 , 0.00475 , 86.80, 59
> 0.005 <= 0.006 , 0.0055 , 93.50, 67
> 0.006 <= 0.007 , 0.0065 , 96.00, 25
> 0.007 <= 0.008 , 0.0075 , 97.50, 15
> 0.008 <= 0.009 , 0.0085 , 98.60, 11
> 0.009 <= 0.01 , 0.0095 , 99.10, 5
> 0.01 <= 0.012 , 0.011 , 99.60, 5
> 0.012 <= 0.0136193 , 0.0128096 , 100.00, 4
# target 50% 0.00287097
# target 75% 0.00409589
# target 90% 0.00547761
# target 99% 0.0098
# target 99.9% 0.0132144
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 3.156 ms avg, 100.0 qps
Successfully wrote 3735 bytes of Json data to /data/2018-11-17-084714_grpc_istio_100qps_10s_echo_0_7.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
08:47:24 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 100.0 qps
08:47:24 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:47:34 I periodic.go:533> T001 ended after 10.000397909s : 250 calls. qps=24.99900526708132
08:47:34 I periodic.go:533> T002 ended after 10.000411697s : 250 calls. qps=24.99897079987186
08:47:34 I periodic.go:533> T003 ended after 10.000451799s : 250 calls. qps=24.998870553528278
08:47:34 I periodic.go:533> T000 ended after 10.000459812s : 250 calls. qps=24.998850522854337
Ended after 10.000550412s : 1000 calls. qps=99.994
Sleep times : count 996 avg 0.038898043 +/- 0.000937 min 0.027477635 max 0.039935705 sum 38.7424509
Aggregated Function Time : count 1000 avg 0.0008386392 +/- 0.0005846 min 0.000107301 max 0.006543593 sum 0.838639197
# range, mid point, percentile, count
>= 0.000107301 <= 0.0002 , 0.000153651 , 2.90, 29
> 0.0002 <= 0.0003 , 0.00025 , 14.90, 120
> 0.0003 <= 0.0004 , 0.00035 , 24.10, 92
> 0.0004 <= 0.0005 , 0.00045 , 28.50, 44
> 0.0005 <= 0.0006 , 0.00055 , 35.00, 65
> 0.0006 <= 0.0007 , 0.00065 , 41.40, 64
> 0.0007 <= 0.0008 , 0.00075 , 50.40, 90
> 0.0008 <= 0.0009 , 0.00085 , 61.90, 115
> 0.0009 <= 0.001 , 0.00095 , 72.50, 106
> 0.001 <= 0.0011 , 0.00105 , 80.00, 75
> 0.0011 <= 0.0012 , 0.00115 , 84.60, 46
> 0.0012 <= 0.0014 , 0.0013 , 89.80, 52
> 0.0014 <= 0.0016 , 0.0015 , 93.30, 35
> 0.0016 <= 0.0018 , 0.0017 , 95.90, 26
> 0.0018 <= 0.002 , 0.0019 , 96.90, 10
> 0.002 <= 0.0025 , 0.00225 , 98.00, 11
> 0.0025 <= 0.003 , 0.00275 , 98.30, 3
> 0.003 <= 0.0035 , 0.00325 , 99.60, 13
> 0.0035 <= 0.004 , 0.00375 , 99.70, 1
> 0.0045 <= 0.005 , 0.00475 , 99.80, 1
> 0.005 <= 0.006 , 0.0055 , 99.90, 1
> 0.006 <= 0.00654359 , 0.0062718 , 100.00, 1
# target 50% 0.000795556
# target 75% 0.00103333
# target 90% 0.00141143
# target 99% 0.00326923
# target 99.9% 0.006
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
Response Body/Total Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
All done 1000 calls (plus 4 warmup) 0.839 ms avg, 100.0 qps
Successfully wrote 4190 bytes of Json data to /data/2018-11-17-084724_http_baseline_100qps_10s_echo_1_7.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
08:47:34 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 100.0 qps
08:47:34 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:47:44 I periodic.go:533> T003 ended after 10.000825022s : 250 calls. qps=24.997937615151287
08:47:44 I periodic.go:533> T002 ended after 10.000892459s : 250 calls. qps=24.997769051603
08:47:44 I periodic.go:533> T000 ended after 10.000904878s : 250 calls. qps=24.99773800968253
08:47:44 I periodic.go:533> T001 ended after 10.00091298s : 250 calls. qps=24.997717758364097
Ended after 10.000922648s : 1000 calls. qps=99.991
Sleep times : count 996 avg 0.037563866 +/- 0.001597 min 0.025182565 max 0.03955167 sum 37.4136101
Aggregated Function Time : count 1000 avg 0.0021690023 +/- 0.001458 min 0.000367387 max 0.014841839 sum 2.16900226
# range, mid point, percentile, count
>= 0.000367387 <= 0.0004 , 0.000383694 , 0.10, 1
> 0.0004 <= 0.0005 , 0.00045 , 0.50, 4
> 0.0005 <= 0.0006 , 0.00055 , 1.90, 14
> 0.0006 <= 0.0007 , 0.00065 , 5.50, 36
> 0.0007 <= 0.0008 , 0.00075 , 9.70, 42
> 0.0008 <= 0.0009 , 0.00085 , 13.30, 36
> 0.0009 <= 0.001 , 0.00095 , 16.10, 28
> 0.001 <= 0.0011 , 0.00105 , 18.00, 19
> 0.0011 <= 0.0012 , 0.00115 , 19.80, 18
> 0.0012 <= 0.0014 , 0.0013 , 23.50, 37
> 0.0014 <= 0.0016 , 0.0015 , 28.70, 52
> 0.0016 <= 0.0018 , 0.0017 , 36.40, 77
> 0.0018 <= 0.002 , 0.0019 , 49.70, 133
> 0.002 <= 0.0025 , 0.00225 , 78.30, 286
> 0.0025 <= 0.003 , 0.00275 , 86.60, 83
> 0.003 <= 0.0035 , 0.00325 , 91.00, 44
> 0.0035 <= 0.004 , 0.00375 , 93.30, 23
> 0.004 <= 0.0045 , 0.00425 , 94.60, 13
> 0.0045 <= 0.005 , 0.00475 , 96.40, 18
> 0.005 <= 0.006 , 0.0055 , 98.20, 18
> 0.006 <= 0.007 , 0.0065 , 98.90, 7
> 0.009 <= 0.01 , 0.0095 , 99.30, 4
> 0.01 <= 0.012 , 0.011 , 99.60, 3
> 0.014 <= 0.0148418 , 0.0144209 , 100.00, 4
# target 50% 0.00200524
# target 75% 0.00244231
# target 90% 0.00338636
# target 99% 0.00925
# target 99.9% 0.0146314
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
Response Body/Total Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
All done 1000 calls (plus 4 warmup) 2.169 ms avg, 100.0 qps
Successfully wrote 4393 bytes of Json data to /data/2018-11-17-084734_http_linkerd_100qps_10s_echo_1_7.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
08:47:44 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 100.0 qps
08:47:44 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:47:54 I periodic.go:533> T001 ended after 10.002746564s : 250 calls. qps=24.993135475385618
08:47:54 I periodic.go:533> T003 ended after 10.006513688s : 250 calls. qps=24.983726380128246
08:47:54 I periodic.go:533> T000 ended after 10.006558197s : 250 calls. qps=24.983615252939902
08:47:54 I periodic.go:533> T002 ended after 10.006777174s : 250 calls. qps=24.983068539745222
Ended after 10.006836752s : 1000 calls. qps=99.932
Sleep times : count 996 avg 0.036511694 +/- 0.0021 min 0.023625465 max 0.03940996 sum 36.3656476
Aggregated Function Time : count 1000 avg 0.0031264615 +/- 0.001949 min 0.000453134 max 0.016092513 sum 3.12646155
# range, mid point, percentile, count
>= 0.000453134 <= 0.0005 , 0.000476567 , 0.10, 1
> 0.0005 <= 0.0006 , 0.00055 , 0.30, 2
> 0.0006 <= 0.0007 , 0.00065 , 1.10, 8
> 0.0007 <= 0.0008 , 0.00075 , 1.70, 6
> 0.0008 <= 0.0009 , 0.00085 , 2.80, 11
> 0.0009 <= 0.001 , 0.00095 , 5.30, 25
> 0.001 <= 0.0011 , 0.00105 , 9.00, 37
> 0.0011 <= 0.0012 , 0.00115 , 12.90, 39
> 0.0012 <= 0.0014 , 0.0013 , 21.60, 87
> 0.0014 <= 0.0016 , 0.0015 , 28.30, 67
> 0.0016 <= 0.0018 , 0.0017 , 32.10, 38
> 0.0018 <= 0.002 , 0.0019 , 34.70, 26
> 0.002 <= 0.0025 , 0.00225 , 40.80, 61
> 0.0025 <= 0.003 , 0.00275 , 48.30, 75
> 0.003 <= 0.0035 , 0.00325 , 56.00, 77
> 0.0035 <= 0.004 , 0.00375 , 71.30, 153
> 0.004 <= 0.0045 , 0.00425 , 84.10, 128
> 0.0045 <= 0.005 , 0.00475 , 91.40, 73
> 0.005 <= 0.006 , 0.0055 , 95.80, 44
> 0.006 <= 0.007 , 0.0065 , 97.30, 15
> 0.007 <= 0.008 , 0.0075 , 98.30, 10
> 0.008 <= 0.009 , 0.0085 , 98.90, 6
> 0.009 <= 0.01 , 0.0095 , 99.20, 3
> 0.014 <= 0.016 , 0.015 , 99.80, 6
> 0.016 <= 0.0160925 , 0.0160463 , 100.00, 2
# target 50% 0.00311039
# target 75% 0.00414453
# target 90% 0.00490411
# target 99% 0.00933333
# target 99.9% 0.0160463
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 209 +/- 0 min 209 max 209 sum 209000
Response Body/Total Sizes : count 1000 avg 209 +/- 0 min 209 max 209 sum 209000
All done 1000 calls (plus 4 warmup) 3.126 ms avg, 99.9 qps
Successfully wrote 4522 bytes of Json data to /data/2018-11-17-084744_http_istio_100qps_10s_echo_1_7.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
08:47:54 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:48:04 I periodic.go:533> T001 ended after 10.00062801s : 250 calls. qps=24.99843007359295
08:48:04 I periodic.go:533> T002 ended after 10.000666356s : 250 calls. qps=24.99833422100018
08:48:04 I periodic.go:533> T000 ended after 10.000696065s : 250 calls. qps=24.998259958618192
08:48:04 I periodic.go:533> T003 ended after 10.00072892s : 250 calls. qps=24.99817783282141
Ended after 10.000746122s : 1000 calls. qps=99.993
Sleep times : count 996 avg 0.038413564 +/- 0.001353 min 0.026975088 max 0.039765051 sum 38.25991
Aggregated Function Time : count 1000 avg 0.0012642189 +/- 0.001047 min 0.000176845 max 0.012071751 sum 1.26421888
# range, mid point, percentile, count
>= 0.000176845 <= 0.0002 , 0.000188423 , 0.20, 2
> 0.0002 <= 0.0003 , 0.00025 , 2.00, 18
> 0.0003 <= 0.0004 , 0.00035 , 8.30, 63
> 0.0004 <= 0.0005 , 0.00045 , 16.50, 82
> 0.0005 <= 0.0006 , 0.00055 , 21.70, 52
> 0.0006 <= 0.0007 , 0.00065 , 26.10, 44
> 0.0007 <= 0.0008 , 0.00075 , 29.90, 38
> 0.0008 <= 0.0009 , 0.00085 , 33.70, 38
> 0.0009 <= 0.001 , 0.00095 , 39.90, 62
> 0.001 <= 0.0011 , 0.00105 , 47.90, 80
> 0.0011 <= 0.0012 , 0.00115 , 57.20, 93
> 0.0012 <= 0.0014 , 0.0013 , 70.60, 134
> 0.0014 <= 0.0016 , 0.0015 , 81.90, 113
> 0.0016 <= 0.0018 , 0.0017 , 87.50, 56
> 0.0018 <= 0.002 , 0.0019 , 90.40, 29
> 0.002 <= 0.0025 , 0.00225 , 93.80, 34
> 0.0025 <= 0.003 , 0.00275 , 95.10, 13
> 0.003 <= 0.0035 , 0.00325 , 97.20, 21
> 0.0035 <= 0.004 , 0.00375 , 98.00, 8
> 0.004 <= 0.0045 , 0.00425 , 98.40, 4
> 0.0045 <= 0.005 , 0.00475 , 98.60, 2
> 0.005 <= 0.006 , 0.0055 , 99.20, 6
> 0.007 <= 0.008 , 0.0075 , 99.30, 1
> 0.008 <= 0.009 , 0.0085 , 99.60, 3
> 0.009 <= 0.01 , 0.0095 , 99.80, 2
> 0.01 <= 0.012 , 0.011 , 99.90, 1
> 0.012 <= 0.0120718 , 0.0120359 , 100.00, 1
# target 50% 0.00112258
# target 75% 0.00147788
# target 90% 0.00197241
# target 99% 0.00566667
# target 99.9% 0.012
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 1.264 ms avg, 100.0 qps
Successfully wrote 4219 bytes of Json data to /data/2018-11-17-084754_grpc_baseline_100qps_10s_echo_1_7.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
08:48:04 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:48:14 I periodic.go:533> T002 ended after 10.004839386s : 250 calls. qps=24.987907387082164
08:48:15 I periodic.go:533> T000 ended after 10.00662145s : 250 calls. qps=24.98345732864712
08:48:15 I periodic.go:533> T003 ended after 10.006965296s : 250 calls. qps=24.982598880394878
08:48:15 I periodic.go:533> T001 ended after 10.006396285s : 250 calls. qps=24.98401950907744
Ended after 10.009347408s : 1000 calls. qps=99.907
Sleep times : count 996 avg 0.036925586 +/- 0.001708 min 0.026995987 max 0.039410614 sum 36.7778839
Aggregated Function Time : count 1000 avg 0.002786883 +/- 0.00149 min 0.000443223 max 0.012895274 sum 2.78688298
# range, mid point, percentile, count
>= 0.000443223 <= 0.0005 , 0.000471611 , 0.20, 2
> 0.0005 <= 0.0006 , 0.00055 , 0.30, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.70, 4
> 0.0007 <= 0.0008 , 0.00075 , 2.50, 18
> 0.0008 <= 0.0009 , 0.00085 , 6.20, 37
> 0.0009 <= 0.001 , 0.00095 , 10.00, 38
> 0.001 <= 0.0011 , 0.00105 , 13.10, 31
> 0.0011 <= 0.0012 , 0.00115 , 15.40, 23
> 0.0012 <= 0.0014 , 0.0013 , 19.60, 42
> 0.0014 <= 0.0016 , 0.0015 , 24.30, 47
> 0.0016 <= 0.0018 , 0.0017 , 27.20, 29
> 0.0018 <= 0.002 , 0.0019 , 30.10, 29
> 0.002 <= 0.0025 , 0.00225 , 38.20, 81
> 0.0025 <= 0.003 , 0.00275 , 58.50, 203
> 0.003 <= 0.0035 , 0.00325 , 80.40, 219
> 0.0035 <= 0.004 , 0.00375 , 88.80, 84
> 0.004 <= 0.0045 , 0.00425 , 92.20, 34
> 0.0045 <= 0.005 , 0.00475 , 93.50, 13
> 0.005 <= 0.006 , 0.0055 , 95.50, 20
> 0.006 <= 0.007 , 0.0065 , 97.80, 23
> 0.007 <= 0.008 , 0.0075 , 99.20, 14
> 0.008 <= 0.009 , 0.0085 , 99.70, 5
> 0.009 <= 0.01 , 0.0095 , 99.80, 1
> 0.012 <= 0.0128953 , 0.0124476 , 100.00, 2
# target 50% 0.00279064
# target 75% 0.00337671
# target 90% 0.00417647
# target 99% 0.00785714
# target 99.9% 0.0124476
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 2.787 ms avg, 99.9 qps
Successfully wrote 3889 bytes of Json data to /data/2018-11-17-084804_grpc_linkerd_100qps_10s_echo_1_7.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-istio:8079
08:48:15 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:48:25 I periodic.go:533> T001 ended after 10.003723753s : 250 calls. qps=24.990694082793713
08:48:25 I periodic.go:533> T002 ended after 10.004715362s : 250 calls. qps=24.988217151039823
08:48:25 I periodic.go:533> T003 ended after 10.005534206s : 250 calls. qps=24.986172137623893
08:48:25 I periodic.go:533> T000 ended after 10.00648566s : 250 calls. qps=24.983796359130547
Ended after 10.006718292s : 1000 calls. qps=99.933
Sleep times : count 996 avg 0.036553036 +/- 0.002732 min 0.018557183 max 0.039339471 sum 36.406824
Aggregated Function Time : count 1000 avg 0.003115417 +/- 0.002404 min 0.000450355 max 0.020655655 sum 3.11541695
# range, mid point, percentile, count
>= 0.000450355 <= 0.0005 , 0.000475177 , 0.20, 2
> 0.0005 <= 0.0006 , 0.00055 , 0.40, 2
> 0.0006 <= 0.0007 , 0.00065 , 1.50, 11
> 0.0007 <= 0.0008 , 0.00075 , 2.80, 13
> 0.0008 <= 0.0009 , 0.00085 , 4.80, 20
> 0.0009 <= 0.001 , 0.00095 , 8.40, 36
> 0.001 <= 0.0011 , 0.00105 , 11.60, 32
> 0.0011 <= 0.0012 , 0.00115 , 15.30, 37
> 0.0012 <= 0.0014 , 0.0013 , 23.20, 79
> 0.0014 <= 0.0016 , 0.0015 , 27.70, 45
> 0.0016 <= 0.0018 , 0.0017 , 31.60, 39
> 0.0018 <= 0.002 , 0.0019 , 34.20, 26
> 0.002 <= 0.0025 , 0.00225 , 45.90, 117
> 0.0025 <= 0.003 , 0.00275 , 57.60, 117
> 0.003 <= 0.0035 , 0.00325 , 68.30, 107
> 0.0035 <= 0.004 , 0.00375 , 75.20, 69
> 0.004 <= 0.0045 , 0.00425 , 82.80, 76
> 0.0045 <= 0.005 , 0.00475 , 88.00, 52
> 0.005 <= 0.006 , 0.0055 , 92.80, 48
> 0.006 <= 0.007 , 0.0065 , 96.30, 35
> 0.007 <= 0.008 , 0.0075 , 97.50, 12
> 0.008 <= 0.009 , 0.0085 , 97.80, 3
> 0.009 <= 0.01 , 0.0095 , 98.20, 4
> 0.01 <= 0.012 , 0.011 , 98.80, 6
> 0.012 <= 0.014 , 0.013 , 99.10, 3
> 0.016 <= 0.018 , 0.017 , 99.20, 1
> 0.018 <= 0.02 , 0.019 , 99.60, 4
> 0.02 <= 0.0206557 , 0.0203278 , 100.00, 4
# target 50% 0.00267521
# target 75% 0.00398551
# target 90% 0.00541667
# target 99% 0.0133333
# target 99.9% 0.0204917
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 3.115 ms avg, 99.9 qps
Successfully wrote 4339 bytes of Json data to /data/2018-11-17-084815_grpc_istio_100qps_10s_echo_1_7.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
08:48:25 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 100.0 qps
08:48:25 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:48:35 I periodic.go:533> T001 ended after 10.001973311s : 250 calls. qps=24.99506769579701
08:48:35 I periodic.go:533> T000 ended after 10.002037475s : 250 calls. qps=24.994907350114683
08:48:35 I periodic.go:533> T003 ended after 10.002445075s : 250 calls. qps=24.993888806732585
08:48:35 I periodic.go:533> T002 ended after 10.002983712s : 250 calls. qps=24.992542944970456
Ended after 10.003072267s : 1000 calls. qps=99.969
Sleep times : count 996 avg 0.038748257 +/- 0.001826 min 0.015448058 max 0.039866656 sum 38.5932643
Aggregated Function Time : count 1000 avg 0.00091198071 +/- 0.001045 min 0.000131442 max 0.020670768 sum 0.91198071
# range, mid point, percentile, count
>= 0.000131442 <= 0.0002 , 0.000165721 , 1.90, 19
> 0.0002 <= 0.0003 , 0.00025 , 12.30, 104
> 0.0003 <= 0.0004 , 0.00035 , 17.20, 49
> 0.0004 <= 0.0005 , 0.00045 , 23.30, 61
> 0.0005 <= 0.0006 , 0.00055 , 30.40, 71
> 0.0006 <= 0.0007 , 0.00065 , 38.90, 85
> 0.0007 <= 0.0008 , 0.00075 , 52.30, 134
> 0.0008 <= 0.0009 , 0.00085 , 63.40, 111
> 0.0009 <= 0.001 , 0.00095 , 72.80, 94
> 0.001 <= 0.0011 , 0.00105 , 79.30, 65
> 0.0011 <= 0.0012 , 0.00115 , 84.30, 50
> 0.0012 <= 0.0014 , 0.0013 , 90.60, 63
> 0.0014 <= 0.0016 , 0.0015 , 93.20, 26
> 0.0016 <= 0.0018 , 0.0017 , 95.50, 23
> 0.0018 <= 0.002 , 0.0019 , 96.10, 6
> 0.002 <= 0.0025 , 0.00225 , 97.50, 14
> 0.0025 <= 0.003 , 0.00275 , 98.40, 9
> 0.003 <= 0.0035 , 0.00325 , 98.50, 1
> 0.0035 <= 0.004 , 0.00375 , 98.90, 4
> 0.004 <= 0.0045 , 0.00425 , 99.30, 4
> 0.0045 <= 0.005 , 0.00475 , 99.40, 1
> 0.005 <= 0.006 , 0.0055 , 99.50, 1
> 0.007 <= 0.008 , 0.0075 , 99.60, 1
> 0.01 <= 0.012 , 0.011 , 99.70, 1
> 0.012 <= 0.014 , 0.013 , 99.90, 2
> 0.02 <= 0.0206708 , 0.0203354 , 100.00, 1
# target 50% 0.000782836
# target 75% 0.00103385
# target 90% 0.00138095
# target 99% 0.004125
# target 99.9% 0.014
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
Response Body/Total Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
All done 1000 calls (plus 4 warmup) 0.912 ms avg, 100.0 qps
Successfully wrote 4636 bytes of Json data to /data/2018-11-17-084825_http_baseline_100qps_10s_echo_0_8.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
08:48:35 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 100.0 qps
08:48:35 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:48:45 I periodic.go:533> T003 ended after 10.004013294s : 250 calls. qps=24.989970790016827
08:48:45 I periodic.go:533> T000 ended after 10.004536254s : 250 calls. qps=24.988664507067515
08:48:45 I periodic.go:533> T001 ended after 10.00472045s : 250 calls. qps=24.988204443033688
08:48:45 I periodic.go:533> T002 ended after 10.004414078s : 250 calls. qps=24.98896967387199
Ended after 10.005702596s : 1000 calls. qps=99.943
Sleep times : count 996 avg 0.037642236 +/- 0.001669 min 0.02463801 max 0.039537488 sum 37.4916673
Aggregated Function Time : count 1000 avg 0.0020780726 +/- 0.001476 min 0.000442264 max 0.015369406 sum 2.0780726
# range, mid point, percentile, count
>= 0.000442264 <= 0.0005 , 0.000471132 , 0.60, 6
> 0.0005 <= 0.0006 , 0.00055 , 4.80, 42
> 0.0006 <= 0.0007 , 0.00065 , 9.60, 48
> 0.0007 <= 0.0008 , 0.00075 , 13.80, 42
> 0.0008 <= 0.0009 , 0.00085 , 17.60, 38
> 0.0009 <= 0.001 , 0.00095 , 20.00, 24
> 0.001 <= 0.0011 , 0.00105 , 23.20, 32
> 0.0011 <= 0.0012 , 0.00115 , 25.20, 20
> 0.0012 <= 0.0014 , 0.0013 , 29.00, 38
> 0.0014 <= 0.0016 , 0.0015 , 32.90, 39
> 0.0016 <= 0.0018 , 0.0017 , 42.80, 99
> 0.0018 <= 0.002 , 0.0019 , 53.50, 107
> 0.002 <= 0.0025 , 0.00225 , 79.00, 255
> 0.0025 <= 0.003 , 0.00275 , 87.90, 89
> 0.003 <= 0.0035 , 0.00325 , 91.60, 37
> 0.0035 <= 0.004 , 0.00375 , 93.50, 19
> 0.004 <= 0.0045 , 0.00425 , 95.60, 21
> 0.0045 <= 0.005 , 0.00475 , 96.80, 12
> 0.005 <= 0.006 , 0.0055 , 97.90, 11
> 0.006 <= 0.007 , 0.0065 , 98.40, 5
> 0.007 <= 0.008 , 0.0075 , 99.00, 6
> 0.008 <= 0.009 , 0.0085 , 99.10, 1
> 0.009 <= 0.01 , 0.0095 , 99.60, 5
> 0.012 <= 0.014 , 0.013 , 99.70, 1
> 0.014 <= 0.0153694 , 0.0146847 , 100.00, 3
# target 50% 0.00193458
# target 75% 0.00242157
# target 90% 0.00328378
# target 99% 0.008
# target 99.9% 0.0149129
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
Response Body/Total Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
All done 1000 calls (plus 4 warmup) 2.078 ms avg, 99.9 qps
Successfully wrote 4512 bytes of Json data to /data/2018-11-17-084835_http_linkerd_100qps_10s_echo_0_8.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
08:48:45 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 100.0 qps
08:48:45 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:48:55 I periodic.go:533> T001 ended after 10.002122484s : 250 calls. qps=24.994694915995595
08:48:55 I periodic.go:533> T003 ended after 10.006542207s : 250 calls. qps=24.983655175622445
08:48:55 I periodic.go:533> T002 ended after 10.006742606s : 250 calls. qps=24.98315484302565
08:48:55 I periodic.go:533> T000 ended after 10.008537082s : 250 calls. qps=24.978675499900596
Ended after 10.008715787s : 1000 calls. qps=99.913
Sleep times : count 996 avg 0.036818399 +/- 0.002927 min 0.010893929 max 0.039446227 sum 36.671125
Aggregated Function Time : count 1000 avg 0.0026035423 +/- 0.002134 min 0.000495039 max 0.021294397 sum 2.60354231
# range, mid point, percentile, count
>= 0.000495039 <= 0.0005 , 0.00049752 , 0.10, 1
> 0.0005 <= 0.0006 , 0.00055 , 1.60, 15
> 0.0006 <= 0.0007 , 0.00065 , 4.30, 27
> 0.0007 <= 0.0008 , 0.00075 , 9.70, 54
> 0.0008 <= 0.0009 , 0.00085 , 13.40, 37
> 0.0009 <= 0.001 , 0.00095 , 18.00, 46
> 0.001 <= 0.0011 , 0.00105 , 20.80, 28
> 0.0011 <= 0.0012 , 0.00115 , 23.10, 23
> 0.0012 <= 0.0014 , 0.0013 , 26.80, 37
> 0.0014 <= 0.0016 , 0.0015 , 29.20, 24
> 0.0016 <= 0.0018 , 0.0017 , 30.80, 16
> 0.0018 <= 0.002 , 0.0019 , 34.90, 41
> 0.002 <= 0.0025 , 0.00225 , 55.90, 210
> 0.0025 <= 0.003 , 0.00275 , 77.20, 213
> 0.003 <= 0.0035 , 0.00325 , 86.00, 88
> 0.0035 <= 0.004 , 0.00375 , 89.60, 36
> 0.004 <= 0.0045 , 0.00425 , 91.50, 19
> 0.0045 <= 0.005 , 0.00475 , 93.20, 17
> 0.005 <= 0.006 , 0.0055 , 95.90, 27
> 0.006 <= 0.007 , 0.0065 , 97.00, 11
> 0.007 <= 0.008 , 0.0075 , 97.60, 6
> 0.008 <= 0.009 , 0.0085 , 97.90, 3
> 0.009 <= 0.01 , 0.0095 , 98.40, 5
> 0.01 <= 0.012 , 0.011 , 98.80, 4
> 0.012 <= 0.014 , 0.013 , 99.40, 6
> 0.016 <= 0.018 , 0.017 , 99.50, 1
> 0.018 <= 0.02 , 0.019 , 99.90, 4
> 0.02 <= 0.0212944 , 0.0206472 , 100.00, 1
# target 50% 0.00235952
# target 75% 0.00294836
# target 90% 0.00410526
# target 99% 0.0126667
# target 99.9% 0.02
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 209 +/- 0 min 209 max 209 sum 209000
Response Body/Total Sizes : count 1000 avg 209 +/- 0 min 209 max 209 sum 209000
All done 1000 calls (plus 4 warmup) 2.604 ms avg, 99.9 qps
Successfully wrote 4865 bytes of Json data to /data/2018-11-17-084845_http_istio_100qps_10s_echo_0_8.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
08:48:55 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:49:05 I periodic.go:533> T000 ended after 10.001125429s : 250 calls. qps=24.997186744111975
08:49:05 I periodic.go:533> T002 ended after 10.001156964s : 250 calls. qps=24.997107924602712
08:49:05 I periodic.go:533> T001 ended after 10.001200017s : 250 calls. qps=24.997000317467002
08:49:05 I periodic.go:533> T003 ended after 10.001247954s : 250 calls. qps=24.996880504298712
Ended after 10.00126071s : 1000 calls. qps=99.987
Sleep times : count 996 avg 0.038368383 +/- 0.001492 min 0.021303162 max 0.039886134 sum 38.2149093
Aggregated Function Time : count 1000 avg 0.0012288309 +/- 0.001017 min 0.000185143 max 0.010931083 sum 1.22883093
# range, mid point, percentile, count
>= 0.000185143 <= 0.0002 , 0.000192572 , 0.20, 2
> 0.0002 <= 0.0003 , 0.00025 , 1.90, 17
> 0.0003 <= 0.0004 , 0.00035 , 9.00, 71
> 0.0004 <= 0.0005 , 0.00045 , 17.80, 88
> 0.0005 <= 0.0006 , 0.00055 , 23.10, 53
> 0.0006 <= 0.0007 , 0.00065 , 26.80, 37
> 0.0007 <= 0.0008 , 0.00075 , 30.80, 40
> 0.0008 <= 0.0009 , 0.00085 , 34.40, 36
> 0.0009 <= 0.001 , 0.00095 , 40.40, 60
> 0.001 <= 0.0011 , 0.00105 , 46.80, 64
> 0.0011 <= 0.0012 , 0.00115 , 55.60, 88
> 0.0012 <= 0.0014 , 0.0013 , 72.80, 172
> 0.0014 <= 0.0016 , 0.0015 , 83.70, 109
> 0.0016 <= 0.0018 , 0.0017 , 89.00, 53
> 0.0018 <= 0.002 , 0.0019 , 91.70, 27
> 0.002 <= 0.0025 , 0.00225 , 94.80, 31
> 0.0025 <= 0.003 , 0.00275 , 97.00, 22
> 0.003 <= 0.0035 , 0.00325 , 97.80, 8
> 0.0035 <= 0.004 , 0.00375 , 98.30, 5
> 0.004 <= 0.0045 , 0.00425 , 98.40, 1
> 0.0045 <= 0.005 , 0.00475 , 98.70, 3
> 0.005 <= 0.006 , 0.0055 , 99.10, 4
> 0.006 <= 0.007 , 0.0065 , 99.30, 2
> 0.008 <= 0.009 , 0.0085 , 99.60, 3
> 0.01 <= 0.0109311 , 0.0104655 , 100.00, 4
# target 50% 0.00113636
# target 75% 0.00144037
# target 90% 0.00187407
# target 99% 0.00575
# target 99.9% 0.0106983
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 1.229 ms avg, 100.0 qps
Successfully wrote 4018 bytes of Json data to /data/2018-11-17-084855_grpc_baseline_100qps_10s_echo_0_8.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
08:49:05 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:49:15 I periodic.go:533> T001 ended after 10.002856574s : 250 calls. qps=24.99286060442118
08:49:15 I periodic.go:533> T002 ended after 10.002887445s : 250 calls. qps=24.99278347123299
08:49:15 I periodic.go:533> T000 ended after 10.003156221s : 250 calls. qps=24.992111937146966
08:49:15 I periodic.go:533> T003 ended after 10.003171073s : 250 calls. qps=24.992074830629058
Ended after 10.00332702s : 1000 calls. qps=99.967
Sleep times : count 996 avg 0.036744968 +/- 0.001825 min 0.023220978 max 0.039410003 sum 36.5979878
Aggregated Function Time : count 1000 avg 0.0029690064 +/- 0.001676 min 0.000578225 max 0.016666702 sum 2.96900635
# range, mid point, percentile, count
>= 0.000578225 <= 0.0006 , 0.000589113 , 0.10, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.40, 3
> 0.0007 <= 0.0008 , 0.00075 , 1.90, 15
> 0.0008 <= 0.0009 , 0.00085 , 4.90, 30
> 0.0009 <= 0.001 , 0.00095 , 7.90, 30
> 0.001 <= 0.0011 , 0.00105 , 10.60, 27
> 0.0011 <= 0.0012 , 0.00115 , 13.50, 29
> 0.0012 <= 0.0014 , 0.0013 , 16.00, 25
> 0.0014 <= 0.0016 , 0.0015 , 18.70, 27
> 0.0016 <= 0.0018 , 0.0017 , 21.80, 31
> 0.0018 <= 0.002 , 0.0019 , 25.30, 35
> 0.002 <= 0.0025 , 0.00225 , 33.80, 85
> 0.0025 <= 0.003 , 0.00275 , 56.40, 226
> 0.003 <= 0.0035 , 0.00325 , 77.50, 211
> 0.0035 <= 0.004 , 0.00375 , 85.50, 80
> 0.004 <= 0.0045 , 0.00425 , 90.20, 47
> 0.0045 <= 0.005 , 0.00475 , 93.10, 29
> 0.005 <= 0.006 , 0.0055 , 95.10, 20
> 0.006 <= 0.007 , 0.0065 , 96.00, 9
> 0.007 <= 0.008 , 0.0075 , 98.00, 20
> 0.008 <= 0.009 , 0.0085 , 99.10, 11
> 0.009 <= 0.01 , 0.0095 , 99.50, 4
> 0.01 <= 0.012 , 0.011 , 99.60, 1
> 0.012 <= 0.014 , 0.013 , 99.70, 1
> 0.014 <= 0.016 , 0.015 , 99.90, 2
> 0.016 <= 0.0166667 , 0.0163334 , 100.00, 1
# target 50% 0.00285841
# target 75% 0.00344076
# target 90% 0.00447872
# target 99% 0.00890909
# target 99.9% 0.016
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 2.969 ms avg, 100.0 qps
Successfully wrote 4065 bytes of Json data to /data/2018-11-17-084905_grpc_linkerd_100qps_10s_echo_0_8.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-istio:8079
08:49:15 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:49:25 I periodic.go:533> T002 ended after 10.002388227s : 250 calls. qps=24.99403085806659
08:49:25 I periodic.go:533> T000 ended after 10.002652668s : 250 calls. qps=24.993370088695357
08:49:25 I periodic.go:533> T003 ended after 10.004658034s : 250 calls. qps=24.988360336794695
08:49:25 I periodic.go:533> T001 ended after 10.006294174s : 250 calls. qps=24.984274462926656
Ended after 10.006380154s : 1000 calls. qps=99.936
Sleep times : count 996 avg 0.035721403 +/- 0.00469 min -0.016408314 max 0.039432909 sum 35.5785173
Aggregated Function Time : count 1000 avg 0.0035614677 +/- 0.002978 min 0.000487903 max 0.034181193 sum 3.56146767
# range, mid point, percentile, count
>= 0.000487903 <= 0.0005 , 0.000493952 , 0.10, 1
> 0.0005 <= 0.0006 , 0.00055 , 0.40, 3
> 0.0006 <= 0.0007 , 0.00065 , 1.80, 14
> 0.0007 <= 0.0008 , 0.00075 , 4.30, 25
> 0.0008 <= 0.0009 , 0.00085 , 6.50, 22
> 0.0009 <= 0.001 , 0.00095 , 8.40, 19
> 0.001 <= 0.0011 , 0.00105 , 10.50, 21
> 0.0011 <= 0.0012 , 0.00115 , 12.20, 17
> 0.0012 <= 0.0014 , 0.0013 , 16.40, 42
> 0.0014 <= 0.0016 , 0.0015 , 20.50, 41
> 0.0016 <= 0.0018 , 0.0017 , 23.70, 32
> 0.0018 <= 0.002 , 0.0019 , 27.70, 40
> 0.002 <= 0.0025 , 0.00225 , 38.10, 104
> 0.0025 <= 0.003 , 0.00275 , 50.10, 120
> 0.003 <= 0.0035 , 0.00325 , 60.50, 104
> 0.0035 <= 0.004 , 0.00375 , 68.50, 80
> 0.004 <= 0.0045 , 0.00425 , 77.30, 88
> 0.0045 <= 0.005 , 0.00475 , 83.70, 64
> 0.005 <= 0.006 , 0.0055 , 91.80, 81
> 0.006 <= 0.007 , 0.0065 , 94.20, 24
> 0.007 <= 0.008 , 0.0075 , 95.30, 11
> 0.008 <= 0.009 , 0.0085 , 96.00, 7
> 0.009 <= 0.01 , 0.0095 , 96.30, 3
> 0.01 <= 0.012 , 0.011 , 97.30, 10
> 0.012 <= 0.014 , 0.013 , 98.60, 13
> 0.014 <= 0.016 , 0.015 , 99.10, 5
> 0.018 <= 0.02 , 0.019 , 99.70, 6
> 0.02 <= 0.025 , 0.0225 , 99.80, 1
> 0.03 <= 0.0341812 , 0.0320906 , 100.00, 2
# target 50% 0.00299583
# target 75% 0.00436932
# target 90% 0.00577778
# target 99% 0.0156
# target 99.9% 0.0320906
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 3.561 ms avg, 99.9 qps
Successfully wrote 4435 bytes of Json data to /data/2018-11-17-084915_grpc_istio_100qps_10s_echo_0_8.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
08:49:25 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 100.0 qps
08:49:25 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:49:35 I periodic.go:533> T002 ended after 10.000942111s : 250 calls. qps=24.99764494437238
08:49:35 I periodic.go:533> T001 ended after 10.001074321s : 250 calls. qps=24.997314486010406
08:49:35 I periodic.go:533> T000 ended after 10.000969754s : 250 calls. qps=24.99757585008291
08:49:35 I periodic.go:533> T003 ended after 10.001119427s : 250 calls. qps=24.997201745744135
Ended after 10.001520743s : 1000 calls. qps=99.985
Sleep times : count 996 avg 0.038811215 +/- 0.001114 min 0.028755045 max 0.039905352 sum 38.6559706
Aggregated Function Time : count 1000 avg 0.00092598066 +/- 0.0008879 min 0.000104324 max 0.009658991 sum 0.925980663
# range, mid point, percentile, count
>= 0.000104324 <= 0.0002 , 0.000152162 , 2.50, 25
> 0.0002 <= 0.0003 , 0.00025 , 11.70, 92
> 0.0003 <= 0.0004 , 0.00035 , 18.30, 66
> 0.0004 <= 0.0005 , 0.00045 , 23.50, 52
> 0.0005 <= 0.0006 , 0.00055 , 30.10, 66
> 0.0006 <= 0.0007 , 0.00065 , 40.40, 103
> 0.0007 <= 0.0008 , 0.00075 , 53.60, 132
> 0.0008 <= 0.0009 , 0.00085 , 65.30, 117
> 0.0009 <= 0.001 , 0.00095 , 73.10, 78
> 0.001 <= 0.0011 , 0.00105 , 79.70, 66
> 0.0011 <= 0.0012 , 0.00115 , 84.00, 43
> 0.0012 <= 0.0014 , 0.0013 , 90.40, 64
> 0.0014 <= 0.0016 , 0.0015 , 92.30, 19
> 0.0016 <= 0.0018 , 0.0017 , 93.60, 13
> 0.0018 <= 0.002 , 0.0019 , 94.50, 9
> 0.002 <= 0.0025 , 0.00225 , 96.40, 19
> 0.0025 <= 0.003 , 0.00275 , 96.80, 4
> 0.003 <= 0.0035 , 0.00325 , 97.60, 8
> 0.0035 <= 0.004 , 0.00375 , 98.10, 5
> 0.004 <= 0.0045 , 0.00425 , 98.30, 2
> 0.0045 <= 0.005 , 0.00475 , 99.10, 8
> 0.005 <= 0.006 , 0.0055 , 99.30, 2
> 0.006 <= 0.007 , 0.0065 , 99.40, 1
> 0.007 <= 0.008 , 0.0075 , 99.80, 4
> 0.009 <= 0.00965899 , 0.0093295 , 100.00, 2
# target 50% 0.000772727
# target 75% 0.00102879
# target 90% 0.0013875
# target 99% 0.0049375
# target 99.9% 0.0093295
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
Response Body/Total Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
All done 1000 calls (plus 4 warmup) 0.926 ms avg, 100.0 qps
Successfully wrote 4559 bytes of Json data to /data/2018-11-17-084925_http_baseline_100qps_10s_echo_1_8.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
08:49:35 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 100.0 qps
08:49:35 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:49:45 I periodic.go:533> T001 ended after 10.003978994s : 250 calls. qps=24.990056471524014
08:49:45 I periodic.go:533> T000 ended after 10.005621179s : 250 calls. qps=24.98595494747543
08:49:45 I periodic.go:533> T003 ended after 10.007505821s : 250 calls. qps=24.981249521273696
08:49:45 I periodic.go:533> T002 ended after 10.008137442s : 250 calls. qps=24.979672936030408
Ended after 10.009464616s : 1000 calls. qps=99.905
Sleep times : count 996 avg 0.037556146 +/- 0.001448 min 0.028265018 max 0.03953937 sum 37.4059217
Aggregated Function Time : count 1000 avg 0.0021737805 +/- 0.001349 min 0.000311761 max 0.010966445 sum 2.17378048
# range, mid point, percentile, count
>= 0.000311761 <= 0.0004 , 0.00035588 , 0.10, 1
> 0.0004 <= 0.0005 , 0.00045 , 0.60, 5
> 0.0005 <= 0.0006 , 0.00055 , 3.60, 30
> 0.0006 <= 0.0007 , 0.00065 , 7.60, 40
> 0.0007 <= 0.0008 , 0.00075 , 10.90, 33
> 0.0008 <= 0.0009 , 0.00085 , 14.80, 39
> 0.0009 <= 0.001 , 0.00095 , 17.80, 30
> 0.001 <= 0.0011 , 0.00105 , 19.90, 21
> 0.0011 <= 0.0012 , 0.00115 , 22.10, 22
> 0.0012 <= 0.0014 , 0.0013 , 24.70, 26
> 0.0014 <= 0.0016 , 0.0015 , 29.30, 46
> 0.0016 <= 0.0018 , 0.0017 , 36.70, 74
> 0.0018 <= 0.002 , 0.0019 , 47.40, 107
> 0.002 <= 0.0025 , 0.00225 , 74.60, 272
> 0.0025 <= 0.003 , 0.00275 , 85.40, 108
> 0.003 <= 0.0035 , 0.00325 , 90.40, 50
> 0.0035 <= 0.004 , 0.00375 , 92.90, 25
> 0.004 <= 0.0045 , 0.00425 , 94.80, 19
> 0.0045 <= 0.005 , 0.00475 , 95.60, 8
> 0.005 <= 0.006 , 0.0055 , 98.30, 27
> 0.006 <= 0.007 , 0.0065 , 98.90, 6
> 0.007 <= 0.008 , 0.0075 , 99.20, 3
> 0.01 <= 0.0109664 , 0.0104832 , 100.00, 8
# target 50% 0.00204779
# target 75% 0.00251852
# target 90% 0.00346
# target 99% 0.00733333
# target 99.9% 0.0108456
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
Response Body/Total Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
All done 1000 calls (plus 4 warmup) 2.174 ms avg, 99.9 qps
Successfully wrote 4289 bytes of Json data to /data/2018-11-17-084935_http_linkerd_100qps_10s_echo_1_8.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
08:49:45 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 100.0 qps
08:49:45 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:49:55 I periodic.go:533> T003 ended after 10.001855899s : 250 calls. qps=24.995361113430494
08:49:55 I periodic.go:533> T002 ended after 10.002079078s : 250 calls. qps=24.994803385416706
08:49:55 I periodic.go:533> T000 ended after 10.002096494s : 250 calls. qps=24.994759863591455
08:49:55 I periodic.go:533> T001 ended after 10.00210886s : 250 calls. qps=24.99472896158821
Ended after 10.002124064s : 1000 calls. qps=99.979
Sleep times : count 996 avg 0.036464123 +/- 0.005061 min -0.027914 max 0.039387778 sum 36.3182664
Aggregated Function Time : count 1000 avg 0.0029036644 +/- 0.002223 min 0.00041032 max 0.022755234 sum 2.90366436
# range, mid point, percentile, count
>= 0.00041032 <= 0.0005 , 0.00045516 , 0.40, 4
> 0.0005 <= 0.0006 , 0.00055 , 0.90, 5
> 0.0006 <= 0.0007 , 0.00065 , 1.00, 1
> 0.0007 <= 0.0008 , 0.00075 , 2.30, 13
> 0.0008 <= 0.0009 , 0.00085 , 3.90, 16
> 0.0009 <= 0.001 , 0.00095 , 7.40, 35
> 0.001 <= 0.0011 , 0.00105 , 13.30, 59
> 0.0011 <= 0.0012 , 0.00115 , 19.10, 58
> 0.0012 <= 0.0014 , 0.0013 , 31.00, 119
> 0.0014 <= 0.0016 , 0.0015 , 36.10, 51
> 0.0016 <= 0.0018 , 0.0017 , 38.50, 24
> 0.0018 <= 0.002 , 0.0019 , 42.10, 36
> 0.002 <= 0.0025 , 0.00225 , 48.90, 68
> 0.0025 <= 0.003 , 0.00275 , 56.70, 78
> 0.003 <= 0.0035 , 0.00325 , 64.90, 82
> 0.0035 <= 0.004 , 0.00375 , 75.90, 110
> 0.004 <= 0.0045 , 0.00425 , 85.10, 92
> 0.0045 <= 0.005 , 0.00475 , 90.50, 54
> 0.005 <= 0.006 , 0.0055 , 95.50, 50
> 0.006 <= 0.007 , 0.0065 , 97.90, 24
> 0.007 <= 0.008 , 0.0075 , 98.80, 9
> 0.009 <= 0.01 , 0.0095 , 99.20, 4
> 0.01 <= 0.012 , 0.011 , 99.30, 1
> 0.018 <= 0.02 , 0.019 , 99.60, 3
> 0.02 <= 0.0227552 , 0.0213776 , 100.00, 4
# target 50% 0.00257051
# target 75% 0.00395909
# target 90% 0.0049537
# target 99% 0.0095
# target 99.9% 0.0220664
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 209 +/- 0 min 209 max 209 sum 209000
Response Body/Total Sizes : count 1000 avg 209 +/- 0 min 209 max 209 sum 209000
All done 1000 calls (plus 4 warmup) 2.904 ms avg, 100.0 qps
Successfully wrote 4527 bytes of Json data to /data/2018-11-17-084945_http_istio_100qps_10s_echo_1_8.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
08:49:55 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:50:05 I periodic.go:533> T003 ended after 10.00184622s : 250 calls. qps=24.995385301974782
08:50:05 I periodic.go:533> T001 ended after 10.00185437s : 250 calls. qps=24.995364934512637
08:50:05 I periodic.go:533> T002 ended after 10.001907995s : 250 calls. qps=24.995230922437614
08:50:05 I periodic.go:533> T000 ended after 10.002686407s : 250 calls. qps=24.99328578621109
Ended after 10.002779876s : 1000 calls. qps=99.972
Sleep times : count 996 avg 0.038246378 +/- 0.002407 min 0.011213683 max 0.039757044 sum 38.0933929
Aggregated Function Time : count 1000 avg 0.0012845126 +/- 0.001248 min 0.000235152 max 0.01815948 sum 1.28451261
# range, mid point, percentile, count
>= 0.000235152 <= 0.0003 , 0.000267576 , 1.30, 13
> 0.0003 <= 0.0004 , 0.00035 , 7.90, 66
> 0.0004 <= 0.0005 , 0.00045 , 17.40, 95
> 0.0005 <= 0.0006 , 0.00055 , 25.80, 84
> 0.0006 <= 0.0007 , 0.00065 , 30.30, 45
> 0.0007 <= 0.0008 , 0.00075 , 34.00, 37
> 0.0008 <= 0.0009 , 0.00085 , 37.30, 33
> 0.0009 <= 0.001 , 0.00095 , 42.90, 56
> 0.001 <= 0.0011 , 0.00105 , 49.00, 61
> 0.0011 <= 0.0012 , 0.00115 , 56.80, 78
> 0.0012 <= 0.0014 , 0.0013 , 68.80, 120
> 0.0014 <= 0.0016 , 0.0015 , 78.30, 95
> 0.0016 <= 0.0018 , 0.0017 , 84.70, 64
> 0.0018 <= 0.002 , 0.0019 , 88.60, 39
> 0.002 <= 0.0025 , 0.00225 , 94.40, 58
> 0.0025 <= 0.003 , 0.00275 , 95.80, 14
> 0.003 <= 0.0035 , 0.00325 , 96.80, 10
> 0.0035 <= 0.004 , 0.00375 , 97.90, 11
> 0.004 <= 0.0045 , 0.00425 , 98.40, 5
> 0.0045 <= 0.005 , 0.00475 , 98.70, 3
> 0.005 <= 0.006 , 0.0055 , 99.20, 5
> 0.006 <= 0.007 , 0.0065 , 99.30, 1
> 0.008 <= 0.009 , 0.0085 , 99.40, 1
> 0.01 <= 0.012 , 0.011 , 99.70, 3
> 0.012 <= 0.014 , 0.013 , 99.90, 2
> 0.018 <= 0.0181595 , 0.0180797 , 100.00, 1
# target 50% 0.00111282
# target 75% 0.00153053
# target 90% 0.00212069
# target 99% 0.0056
# target 99.9% 0.014
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 1.285 ms avg, 100.0 qps
Successfully wrote 4125 bytes of Json data to /data/2018-11-17-084955_grpc_baseline_100qps_10s_echo_1_8.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
08:50:05 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:50:15 I periodic.go:533> T002 ended after 10.003241115s : 250 calls. qps=24.991899837855705
08:50:15 I periodic.go:533> T003 ended after 10.003257789s : 250 calls. qps=24.99185817993319
08:50:15 I periodic.go:533> T001 ended after 10.003425821s : 250 calls. qps=24.991438380557568
08:50:15 I periodic.go:533> T000 ended after 10.003241081s : 250 calls. qps=24.99189992280063
Ended after 10.003501296s : 1000 calls. qps=99.965
Sleep times : count 996 avg 0.036748269 +/- 0.001745 min 0.027773343 max 0.03932805 sum 36.6012755
Aggregated Function Time : count 1000 avg 0.0029552383 +/- 0.001626 min 0.000597953 max 0.01150033 sum 2.95523831
# range, mid point, percentile, count
>= 0.000597953 <= 0.0006 , 0.000598977 , 0.10, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.80, 7
> 0.0007 <= 0.0008 , 0.00075 , 3.70, 29
> 0.0008 <= 0.0009 , 0.00085 , 7.30, 36
> 0.0009 <= 0.001 , 0.00095 , 10.10, 28
> 0.001 <= 0.0011 , 0.00105 , 13.00, 29
> 0.0011 <= 0.0012 , 0.00115 , 15.30, 23
> 0.0012 <= 0.0014 , 0.0013 , 18.60, 33
> 0.0014 <= 0.0016 , 0.0015 , 22.80, 42
> 0.0016 <= 0.0018 , 0.0017 , 26.50, 37
> 0.0018 <= 0.002 , 0.0019 , 28.00, 15
> 0.002 <= 0.0025 , 0.00225 , 35.90, 79
> 0.0025 <= 0.003 , 0.00275 , 55.30, 194
> 0.003 <= 0.0035 , 0.00325 , 74.00, 187
> 0.0035 <= 0.004 , 0.00375 , 82.80, 88
> 0.004 <= 0.0045 , 0.00425 , 87.70, 49
> 0.0045 <= 0.005 , 0.00475 , 90.20, 25
> 0.005 <= 0.006 , 0.0055 , 95.80, 56
> 0.006 <= 0.007 , 0.0065 , 96.90, 11
> 0.007 <= 0.008 , 0.0075 , 98.20, 13
> 0.008 <= 0.009 , 0.0085 , 99.20, 10
> 0.009 <= 0.01 , 0.0095 , 99.30, 1
> 0.01 <= 0.0115003 , 0.0107502 , 100.00, 7
# target 50% 0.0028634
# target 75% 0.00355682
# target 90% 0.00496
# target 99% 0.0088
# target 99.9% 0.011286
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 2.955 ms avg, 100.0 qps
Successfully wrote 3765 bytes of Json data to /data/2018-11-17-085005_grpc_linkerd_100qps_10s_echo_1_8.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-istio:8079
08:50:15 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:50:25 I periodic.go:533> T003 ended after 10.002904482s : 250 calls. qps=24.992740903391542
08:50:25 I periodic.go:533> T000 ended after 10.003200349s : 250 calls. qps=24.992001687239224
08:50:25 I periodic.go:533> T001 ended after 10.004998107s : 250 calls. qps=24.9875109746485
08:50:25 I periodic.go:533> T002 ended after 10.005845986s : 250 calls. qps=24.98539357389625
Ended after 10.005924649s : 1000 calls. qps=99.941
Sleep times : count 996 avg 0.036410624 +/- 0.002558 min 0.01332976 max 0.039417294 sum 36.2649817
Aggregated Function Time : count 1000 avg 0.0032300253 +/- 0.002353 min 0.000471459 max 0.026569677 sum 3.23002525
# range, mid point, percentile, count
>= 0.000471459 <= 0.0005 , 0.00048573 , 0.20, 2
> 0.0005 <= 0.0006 , 0.00055 , 0.70, 5
> 0.0006 <= 0.0007 , 0.00065 , 2.10, 14
> 0.0007 <= 0.0008 , 0.00075 , 3.50, 14
> 0.0008 <= 0.0009 , 0.00085 , 5.00, 15
> 0.0009 <= 0.001 , 0.00095 , 7.30, 23
> 0.001 <= 0.0011 , 0.00105 , 10.20, 29
> 0.0011 <= 0.0012 , 0.00115 , 13.10, 29
> 0.0012 <= 0.0014 , 0.0013 , 18.90, 58
> 0.0014 <= 0.0016 , 0.0015 , 24.30, 54
> 0.0016 <= 0.0018 , 0.0017 , 28.00, 37
> 0.0018 <= 0.002 , 0.0019 , 32.00, 40
> 0.002 <= 0.0025 , 0.00225 , 41.90, 99
> 0.0025 <= 0.003 , 0.00275 , 54.00, 121
> 0.003 <= 0.0035 , 0.00325 , 63.10, 91
> 0.0035 <= 0.004 , 0.00375 , 71.70, 86
> 0.004 <= 0.0045 , 0.00425 , 80.20, 85
> 0.0045 <= 0.005 , 0.00475 , 86.40, 62
> 0.005 <= 0.006 , 0.0055 , 91.80, 54
> 0.006 <= 0.007 , 0.0065 , 95.10, 33
> 0.007 <= 0.008 , 0.0075 , 97.50, 24
> 0.008 <= 0.009 , 0.0085 , 98.80, 13
> 0.009 <= 0.01 , 0.0095 , 99.00, 2
> 0.01 <= 0.012 , 0.011 , 99.40, 4
> 0.012 <= 0.014 , 0.013 , 99.60, 2
> 0.02 <= 0.025 , 0.0225 , 99.70, 1
> 0.025 <= 0.0265697 , 0.0257848 , 100.00, 3
# target 50% 0.00283471
# target 75% 0.00419412
# target 90% 0.00566667
# target 99% 0.01
# target 99.9% 0.0260465
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 3.230 ms avg, 99.9 qps
Successfully wrote 4164 bytes of Json data to /data/2018-11-17-085015_grpc_istio_100qps_10s_echo_1_8.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
08:50:25 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 100.0 qps
08:50:25 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:50:35 I periodic.go:533> T001 ended after 10.000466142s : 250 calls. qps=24.99883469931956
08:50:35 I periodic.go:533> T003 ended after 10.000443395s : 250 calls. qps=24.998891561647604
08:50:35 I periodic.go:533> T002 ended after 10.000440165s : 250 calls. qps=24.998899635934173
08:50:35 I periodic.go:533> T000 ended after 10.000456769s : 250 calls. qps=24.998858129657098
Ended after 10.000672728s : 1000 calls. qps=99.993
Sleep times : count 996 avg 0.038530767 +/- 0.002282 min 0.014981891 max 0.039863033 sum 38.3766435
Aggregated Function Time : count 1000 avg 0.0010607581 +/- 0.001778 min 0.000104995 max 0.024425069 sum 1.06075811
# range, mid point, percentile, count
>= 0.000104995 <= 0.0002 , 0.000152498 , 2.30, 23
> 0.0002 <= 0.0003 , 0.00025 , 13.10, 108
> 0.0003 <= 0.0004 , 0.00035 , 23.90, 108
> 0.0004 <= 0.0005 , 0.00045 , 30.70, 68
> 0.0005 <= 0.0006 , 0.00055 , 35.60, 49
> 0.0006 <= 0.0007 , 0.00065 , 42.40, 68
> 0.0007 <= 0.0008 , 0.00075 , 53.20, 108
> 0.0008 <= 0.0009 , 0.00085 , 63.10, 99
> 0.0009 <= 0.001 , 0.00095 , 72.30, 92
> 0.001 <= 0.0011 , 0.00105 , 78.30, 60
> 0.0011 <= 0.0012 , 0.00115 , 82.80, 45
> 0.0012 <= 0.0014 , 0.0013 , 88.10, 53
> 0.0014 <= 0.0016 , 0.0015 , 91.40, 33
> 0.0016 <= 0.0018 , 0.0017 , 92.70, 13
> 0.0018 <= 0.002 , 0.0019 , 93.20, 5
> 0.002 <= 0.0025 , 0.00225 , 95.00, 18
> 0.0025 <= 0.003 , 0.00275 , 96.40, 14
> 0.003 <= 0.0035 , 0.00325 , 96.90, 5
> 0.0035 <= 0.004 , 0.00375 , 97.20, 3
> 0.004 <= 0.0045 , 0.00425 , 97.30, 1
> 0.0045 <= 0.005 , 0.00475 , 97.50, 2
> 0.005 <= 0.006 , 0.0055 , 97.70, 2
> 0.006 <= 0.007 , 0.0065 , 98.70, 10
> 0.007 <= 0.008 , 0.0075 , 99.10, 4
> 0.008 <= 0.009 , 0.0085 , 99.20, 1
> 0.009 <= 0.01 , 0.0095 , 99.30, 1
> 0.014 <= 0.016 , 0.015 , 99.50, 2
> 0.018 <= 0.02 , 0.019 , 99.90, 4
> 0.02 <= 0.0244251 , 0.0222125 , 100.00, 1
# target 50% 0.00077037
# target 75% 0.001045
# target 90% 0.00151515
# target 99% 0.00775
# target 99.9% 0.02
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
Response Body/Total Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
All done 1000 calls (plus 4 warmup) 1.061 ms avg, 100.0 qps
Successfully wrote 5000 bytes of Json data to /data/2018-11-17-085025_http_baseline_100qps_10s_echo_0_9.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
08:50:35 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 100.0 qps
08:50:35 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:50:45 I periodic.go:533> T002 ended after 10.002067843s : 250 calls. qps=24.99483146127266
08:50:45 I periodic.go:533> T003 ended after 10.00220158s : 250 calls. qps=24.99449726147191
08:50:45 I periodic.go:533> T001 ended after 10.002240444s : 250 calls. qps=24.99440014461624
08:50:45 I periodic.go:533> T000 ended after 10.002501641s : 250 calls. qps=24.993747461660625
Ended after 10.002583753s : 1000 calls. qps=99.974
Sleep times : count 996 avg 0.037549751 +/- 0.001894 min 0.022884146 max 0.039606869 sum 37.3995521
Aggregated Function Time : count 1000 avg 0.0020823751 +/- 0.001553 min 0.000322967 max 0.016511855 sum 2.08237515
# range, mid point, percentile, count
>= 0.000322967 <= 0.0004 , 0.000361484 , 0.50, 5
> 0.0004 <= 0.0005 , 0.00045 , 1.30, 8
> 0.0005 <= 0.0006 , 0.00055 , 5.20, 39
> 0.0006 <= 0.0007 , 0.00065 , 10.40, 52
> 0.0007 <= 0.0008 , 0.00075 , 14.90, 45
> 0.0008 <= 0.0009 , 0.00085 , 18.20, 33
> 0.0009 <= 0.001 , 0.00095 , 21.30, 31
> 0.001 <= 0.0011 , 0.00105 , 23.30, 20
> 0.0011 <= 0.0012 , 0.00115 , 24.60, 13
> 0.0012 <= 0.0014 , 0.0013 , 27.80, 32
> 0.0014 <= 0.0016 , 0.0015 , 32.20, 44
> 0.0016 <= 0.0018 , 0.0017 , 41.20, 90
> 0.0018 <= 0.002 , 0.0019 , 52.40, 112
> 0.002 <= 0.0025 , 0.00225 , 77.00, 246
> 0.0025 <= 0.003 , 0.00275 , 88.90, 119
> 0.003 <= 0.0035 , 0.00325 , 93.50, 46
> 0.0035 <= 0.004 , 0.00375 , 95.40, 19
> 0.004 <= 0.0045 , 0.00425 , 96.40, 10
> 0.0045 <= 0.005 , 0.00475 , 96.90, 5
> 0.005 <= 0.006 , 0.0055 , 98.00, 11
> 0.006 <= 0.007 , 0.0065 , 98.30, 3
> 0.007 <= 0.008 , 0.0075 , 99.10, 8
> 0.008 <= 0.009 , 0.0085 , 99.20, 1
> 0.01 <= 0.012 , 0.011 , 99.40, 2
> 0.012 <= 0.014 , 0.013 , 99.60, 2
> 0.016 <= 0.0165119 , 0.0162559 , 100.00, 4
# target 50% 0.00195714
# target 75% 0.00245935
# target 90% 0.00311957
# target 99% 0.007875
# target 99.9% 0.0163839
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
Response Body/Total Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
All done 1000 calls (plus 4 warmup) 2.082 ms avg, 100.0 qps
Successfully wrote 4623 bytes of Json data to /data/2018-11-17-085035_http_linkerd_100qps_10s_echo_0_9.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
08:50:45 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 100.0 qps
08:50:45 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:50:56 I periodic.go:533> T001 ended after 10.002804463s : 250 calls. qps=24.992990808201906
08:50:56 I periodic.go:533> T003 ended after 10.005166173s : 250 calls. qps=24.987091236390604
08:50:56 I periodic.go:533> T000 ended after 10.005404621s : 250 calls. qps=24.986495746037455
08:50:56 I periodic.go:533> T002 ended after 10.005443715s : 250 calls. qps=24.986398116977462
Ended after 10.005484402s : 1000 calls. qps=99.945
Sleep times : count 996 avg 0.036450936 +/- 0.002491 min 0.011799942 max 0.039347769 sum 36.3051325
Aggregated Function Time : count 1000 avg 0.0032733538 +/- 0.002252 min 0.000411486 max 0.025015079 sum 3.2733538
# range, mid point, percentile, count
>= 0.000411486 <= 0.0005 , 0.000455743 , 0.10, 1
> 0.0005 <= 0.0006 , 0.00055 , 0.20, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.50, 3
> 0.0008 <= 0.0009 , 0.00085 , 1.50, 10
> 0.0009 <= 0.001 , 0.00095 , 3.40, 19
> 0.001 <= 0.0011 , 0.00105 , 6.90, 35
> 0.0011 <= 0.0012 , 0.00115 , 10.80, 39
> 0.0012 <= 0.0014 , 0.0013 , 18.50, 77
> 0.0014 <= 0.0016 , 0.0015 , 25.60, 71
> 0.0016 <= 0.0018 , 0.0017 , 29.40, 38
> 0.0018 <= 0.002 , 0.0019 , 33.40, 40
> 0.002 <= 0.0025 , 0.00225 , 39.40, 60
> 0.0025 <= 0.003 , 0.00275 , 47.10, 77
> 0.003 <= 0.0035 , 0.00325 , 55.40, 83
> 0.0035 <= 0.004 , 0.00375 , 68.80, 134
> 0.004 <= 0.0045 , 0.00425 , 81.30, 125
> 0.0045 <= 0.005 , 0.00475 , 87.70, 64
> 0.005 <= 0.006 , 0.0055 , 94.20, 65
> 0.006 <= 0.007 , 0.0065 , 97.50, 33
> 0.007 <= 0.008 , 0.0075 , 98.50, 10
> 0.009 <= 0.01 , 0.0095 , 98.90, 4
> 0.01 <= 0.012 , 0.011 , 99.20, 3
> 0.012 <= 0.014 , 0.013 , 99.30, 1
> 0.014 <= 0.016 , 0.015 , 99.60, 3
> 0.02 <= 0.025 , 0.0225 , 99.90, 3
> 0.025 <= 0.0250151 , 0.0250075 , 100.00, 1
# target 50% 0.0031747
# target 75% 0.004248
# target 90% 0.00535385
# target 99% 0.0106667
# target 99.9% 0.025
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 209 +/- 0 min 209 max 209 sum 209000
Response Body/Total Sizes : count 1000 avg 209 +/- 0 min 209 max 209 sum 209000
All done 1000 calls (plus 4 warmup) 3.273 ms avg, 99.9 qps
Successfully wrote 4568 bytes of Json data to /data/2018-11-17-085046_http_istio_100qps_10s_echo_0_9.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
08:50:56 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:51:06 I periodic.go:533> T001 ended after 10.001930043s : 250 calls. qps=24.99517582358679
08:51:06 I periodic.go:533> T002 ended after 10.002068051s : 250 calls. qps=24.994830941487663
08:51:06 I periodic.go:533> T003 ended after 10.00205995s : 250 calls. qps=24.99485118563002
08:51:06 I periodic.go:533> T000 ended after 10.002081641s : 250 calls. qps=24.994796980581853
Ended after 10.002153496s : 1000 calls. qps=99.978
Sleep times : count 996 avg 0.038381324 +/- 0.001634 min 0.022169127 max 0.039760804 sum 38.2277984
Aggregated Function Time : count 1000 avg 0.0012412101 +/- 0.001093 min 0.000199742 max 0.015298877 sum 1.24121008
# range, mid point, percentile, count
>= 0.000199742 <= 0.0002 , 0.000199871 , 0.10, 1
> 0.0002 <= 0.0003 , 0.00025 , 2.70, 26
> 0.0003 <= 0.0004 , 0.00035 , 10.10, 74
> 0.0004 <= 0.0005 , 0.00045 , 20.90, 108
> 0.0005 <= 0.0006 , 0.00055 , 27.00, 61
> 0.0006 <= 0.0007 , 0.00065 , 30.60, 36
> 0.0007 <= 0.0008 , 0.00075 , 34.90, 43
> 0.0008 <= 0.0009 , 0.00085 , 38.00, 31
> 0.0009 <= 0.001 , 0.00095 , 42.90, 49
> 0.001 <= 0.0011 , 0.00105 , 49.10, 62
> 0.0011 <= 0.0012 , 0.00115 , 55.10, 60
> 0.0012 <= 0.0014 , 0.0013 , 70.80, 157
> 0.0014 <= 0.0016 , 0.0015 , 80.60, 98
> 0.0016 <= 0.0018 , 0.0017 , 85.40, 48
> 0.0018 <= 0.002 , 0.0019 , 88.70, 33
> 0.002 <= 0.0025 , 0.00225 , 94.40, 57
> 0.0025 <= 0.003 , 0.00275 , 95.90, 15
> 0.003 <= 0.0035 , 0.00325 , 97.60, 17
> 0.0035 <= 0.004 , 0.00375 , 98.10, 5
> 0.004 <= 0.0045 , 0.00425 , 98.60, 5
> 0.0045 <= 0.005 , 0.00475 , 98.70, 1
> 0.005 <= 0.006 , 0.0055 , 99.00, 3
> 0.006 <= 0.007 , 0.0065 , 99.40, 4
> 0.007 <= 0.008 , 0.0075 , 99.50, 1
> 0.008 <= 0.009 , 0.0085 , 99.60, 1
> 0.01 <= 0.012 , 0.011 , 99.90, 3
> 0.014 <= 0.0152989 , 0.0146494 , 100.00, 1
# target 50% 0.001115
# target 75% 0.00148571
# target 90% 0.00211404
# target 99% 0.006
# target 99.9% 0.012
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 1.241 ms avg, 100.0 qps
Successfully wrote 4184 bytes of Json data to /data/2018-11-17-085056_grpc_baseline_100qps_10s_echo_0_9.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
08:51:06 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:51:16 I periodic.go:533> T003 ended after 10.002777061s : 250 calls. qps=24.993059274981675
08:51:16 I periodic.go:533> T002 ended after 10.002824774s : 250 calls. qps=24.9929400592737
08:51:16 I periodic.go:533> T000 ended after 10.003090951s : 250 calls. qps=24.992275010256474
08:51:16 I periodic.go:533> T001 ended after 10.003722566s : 250 calls. qps=24.99069704808525
Ended after 10.004364408s : 1000 calls. qps=99.956
Sleep times : count 996 avg 0.036959286 +/- 0.001756 min 0.026473731 max 0.039451872 sum 36.8114489
Aggregated Function Time : count 1000 avg 0.0027526573 +/- 0.001496 min 0.000522592 max 0.011651188 sum 2.75265732
# range, mid point, percentile, count
>= 0.000522592 <= 0.0006 , 0.000561296 , 0.20, 2
> 0.0006 <= 0.0007 , 0.00065 , 0.90, 7
> 0.0007 <= 0.0008 , 0.00075 , 4.00, 31
> 0.0008 <= 0.0009 , 0.00085 , 9.00, 50
> 0.0009 <= 0.001 , 0.00095 , 11.90, 29
> 0.001 <= 0.0011 , 0.00105 , 15.20, 33
> 0.0011 <= 0.0012 , 0.00115 , 18.00, 28
> 0.0012 <= 0.0014 , 0.0013 , 21.70, 37
> 0.0014 <= 0.0016 , 0.0015 , 25.00, 33
> 0.0016 <= 0.0018 , 0.0017 , 27.90, 29
> 0.0018 <= 0.002 , 0.0019 , 30.90, 30
> 0.002 <= 0.0025 , 0.00225 , 37.50, 66
> 0.0025 <= 0.003 , 0.00275 , 58.50, 210
> 0.003 <= 0.0035 , 0.00325 , 79.60, 211
> 0.0035 <= 0.004 , 0.00375 , 89.90, 103
> 0.004 <= 0.0045 , 0.00425 , 93.30, 34
> 0.0045 <= 0.005 , 0.00475 , 94.20, 9
> 0.005 <= 0.006 , 0.0055 , 96.40, 22
> 0.006 <= 0.007 , 0.0065 , 98.40, 20
> 0.007 <= 0.008 , 0.0075 , 98.70, 3
> 0.008 <= 0.009 , 0.0085 , 98.90, 2
> 0.009 <= 0.01 , 0.0095 , 99.60, 7
> 0.01 <= 0.0116512 , 0.0108256 , 100.00, 4
# target 50% 0.00279762
# target 75% 0.003391
# target 90% 0.00401471
# target 99% 0.00914286
# target 99.9% 0.0112384
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 2.753 ms avg, 100.0 qps
Successfully wrote 3771 bytes of Json data to /data/2018-11-17-085106_grpc_linkerd_100qps_10s_echo_0_9.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-0.benchmark-istio:8079
08:51:16 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:51:26 I periodic.go:533> T003 ended after 10.002987855s : 250 calls. qps=24.992532593652736
08:51:26 I periodic.go:533> T000 ended after 10.003616325s : 250 calls. qps=24.990962455769715
08:51:26 I periodic.go:533> T001 ended after 10.003921065s : 250 calls. qps=24.99020117968114
08:51:26 I periodic.go:533> T002 ended after 10.004394087s : 250 calls. qps=24.989019607380047
Ended after 10.004476204s : 1000 calls. qps=99.955
Sleep times : count 996 avg 0.036637422 +/- 0.002119 min 0.024162248 max 0.039294455 sum 36.4908722
Aggregated Function Time : count 1000 avg 0.0030044961 +/- 0.001954 min 0.000516561 max 0.015812117 sum 3.00449607
# range, mid point, percentile, count
>= 0.000516561 <= 0.0006 , 0.000558281 , 0.40, 4
> 0.0006 <= 0.0007 , 0.00065 , 1.40, 10
> 0.0007 <= 0.0008 , 0.00075 , 3.00, 16
> 0.0008 <= 0.0009 , 0.00085 , 5.40, 24
> 0.0009 <= 0.001 , 0.00095 , 7.30, 19
> 0.001 <= 0.0011 , 0.00105 , 10.60, 33
> 0.0011 <= 0.0012 , 0.00115 , 14.70, 41
> 0.0012 <= 0.0014 , 0.0013 , 20.20, 55
> 0.0014 <= 0.0016 , 0.0015 , 25.40, 52
> 0.0016 <= 0.0018 , 0.0017 , 28.60, 32
> 0.0018 <= 0.002 , 0.0019 , 32.20, 36
> 0.002 <= 0.0025 , 0.00225 , 44.20, 120
> 0.0025 <= 0.003 , 0.00275 , 58.10, 139
> 0.003 <= 0.0035 , 0.00325 , 67.30, 92
> 0.0035 <= 0.004 , 0.00375 , 79.30, 120
> 0.004 <= 0.0045 , 0.00425 , 87.00, 77
> 0.0045 <= 0.005 , 0.00475 , 91.10, 41
> 0.005 <= 0.006 , 0.0055 , 94.40, 33
> 0.006 <= 0.007 , 0.0065 , 96.10, 17
> 0.007 <= 0.008 , 0.0075 , 97.30, 12
> 0.008 <= 0.009 , 0.0085 , 98.20, 9
> 0.009 <= 0.01 , 0.0095 , 98.50, 3
> 0.01 <= 0.012 , 0.011 , 99.10, 6
> 0.012 <= 0.014 , 0.013 , 99.80, 7
> 0.014 <= 0.0158121 , 0.0149061 , 100.00, 2
# target 50% 0.00270863
# target 75% 0.00382083
# target 90% 0.00486585
# target 99% 0.0116667
# target 99.9% 0.0149061
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 3.004 ms avg, 100.0 qps
Successfully wrote 3987 bytes of Json data to /data/2018-11-17-085116_grpc_istio_100qps_10s_echo_0_9.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
08:51:26 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 100.0 qps
08:51:26 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:51:36 I periodic.go:533> T003 ended after 10.001092441s : 250 calls. qps=24.99726919582424
08:51:36 I periodic.go:533> T001 ended after 10.001248525s : 250 calls. qps=24.99687907715502
08:51:36 I periodic.go:533> T000 ended after 10.001409899s : 250 calls. qps=24.99647574938374
08:51:36 I periodic.go:533> T002 ended after 10.001471404s : 250 calls. qps=24.996322031177804
Ended after 10.001712184s : 1000 calls. qps=99.983
Sleep times : count 996 avg 0.038814023 +/- 0.001589 min 0.018155138 max 0.039847069 sum 38.6587666
Aggregated Function Time : count 1000 avg 0.00089624714 +/- 0.00125 min 9.5592e-05 max 0.021020048 sum 0.896247144
# range, mid point, percentile, count
>= 9.5592e-05 <= 0.0001 , 9.7796e-05 , 0.10, 1
> 0.0001 <= 0.0002 , 0.00015 , 2.00, 19
> 0.0002 <= 0.0003 , 0.00025 , 12.30, 103
> 0.0003 <= 0.0004 , 0.00035 , 20.80, 85
> 0.0004 <= 0.0005 , 0.00045 , 28.70, 79
> 0.0005 <= 0.0006 , 0.00055 , 34.90, 62
> 0.0006 <= 0.0007 , 0.00065 , 45.10, 102
> 0.0007 <= 0.0008 , 0.00075 , 54.40, 93
> 0.0008 <= 0.0009 , 0.00085 , 63.30, 89
> 0.0009 <= 0.001 , 0.00095 , 74.30, 110
> 0.001 <= 0.0011 , 0.00105 , 81.40, 71
> 0.0011 <= 0.0012 , 0.00115 , 86.40, 50
> 0.0012 <= 0.0014 , 0.0013 , 92.60, 62
> 0.0014 <= 0.0016 , 0.0015 , 94.30, 17
> 0.0016 <= 0.0018 , 0.0017 , 95.20, 9
> 0.0018 <= 0.002 , 0.0019 , 96.40, 12
> 0.002 <= 0.0025 , 0.00225 , 97.80, 14
> 0.0025 <= 0.003 , 0.00275 , 98.40, 6
> 0.003 <= 0.0035 , 0.00325 , 98.70, 3
> 0.0035 <= 0.004 , 0.00375 , 98.80, 1
> 0.0045 <= 0.005 , 0.00475 , 99.10, 3
> 0.005 <= 0.006 , 0.0055 , 99.40, 3
> 0.006 <= 0.007 , 0.0065 , 99.60, 2
> 0.016 <= 0.018 , 0.017 , 99.90, 3
> 0.02 <= 0.02102 , 0.02051 , 100.00, 1
# target 50% 0.000752688
# target 75% 0.00100986
# target 90% 0.00131613
# target 99% 0.00483333
# target 99.9% 0.018
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
Response Body/Total Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
All done 1000 calls (plus 4 warmup) 0.896 ms avg, 100.0 qps
Successfully wrote 4543 bytes of Json data to /data/2018-11-17-085126_http_baseline_100qps_10s_echo_1_9.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
08:51:36 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 100.0 qps
08:51:36 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:51:46 I periodic.go:533> T000 ended after 10.002959817s : 250 calls. qps=24.99260264698112
08:51:46 I periodic.go:533> T003 ended after 10.003092966s : 250 calls. qps=24.99226997587018
08:51:46 I periodic.go:533> T001 ended after 10.003165105s : 250 calls. qps=24.99208974117997
08:51:46 I periodic.go:533> T002 ended after 10.003153549s : 250 calls. qps=24.99211861293403
Ended after 10.003388063s : 1000 calls. qps=99.966
Sleep times : count 996 avg 0.037554976 +/- 0.001966 min 0.018247934 max 0.039499969 sum 37.4047561
Aggregated Function Time : count 1000 avg 0.0021171968 +/- 0.001496 min 0.000471964 max 0.01031947 sum 2.11719677
# range, mid point, percentile, count
>= 0.000471964 <= 0.0005 , 0.000485982 , 0.60, 6
> 0.0005 <= 0.0006 , 0.00055 , 4.00, 34
> 0.0006 <= 0.0007 , 0.00065 , 9.30, 53
> 0.0007 <= 0.0008 , 0.00075 , 13.20, 39
> 0.0008 <= 0.0009 , 0.00085 , 17.50, 43
> 0.0009 <= 0.001 , 0.00095 , 19.80, 23
> 0.001 <= 0.0011 , 0.00105 , 22.30, 25
> 0.0011 <= 0.0012 , 0.00115 , 24.50, 22
> 0.0012 <= 0.0014 , 0.0013 , 28.40, 39
> 0.0014 <= 0.0016 , 0.0015 , 33.50, 51
> 0.0016 <= 0.0018 , 0.0017 , 40.10, 66
> 0.0018 <= 0.002 , 0.0019 , 52.50, 124
> 0.002 <= 0.0025 , 0.00225 , 79.40, 269
> 0.0025 <= 0.003 , 0.00275 , 89.00, 96
> 0.003 <= 0.0035 , 0.00325 , 92.70, 37
> 0.0035 <= 0.004 , 0.00375 , 94.00, 13
> 0.004 <= 0.0045 , 0.00425 , 94.80, 8
> 0.0045 <= 0.005 , 0.00475 , 95.60, 8
> 0.005 <= 0.006 , 0.0055 , 96.00, 4
> 0.006 <= 0.007 , 0.0065 , 97.00, 10
> 0.007 <= 0.008 , 0.0075 , 97.60, 6
> 0.008 <= 0.009 , 0.0085 , 99.00, 14
> 0.009 <= 0.01 , 0.0095 , 99.80, 8
> 0.01 <= 0.0103195 , 0.0101597 , 100.00, 2
# target 50% 0.00195968
# target 75% 0.00241822
# target 90% 0.00313514
# target 99% 0.009
# target 99.9% 0.0101597
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
Response Body/Total Sizes : count 1000 avg 75 +/- 0 min 75 max 75 sum 75000
All done 1000 calls (plus 4 warmup) 2.117 ms avg, 100.0 qps
Successfully wrote 4410 bytes of Json data to /data/2018-11-17-085136_http_linkerd_100qps_10s_echo_1_9.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
08:51:46 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 100.0 qps
08:51:46 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:51:56 I periodic.go:533> T003 ended after 10.00247841s : 250 calls. qps=24.993805510248535
08:51:56 I periodic.go:533> T000 ended after 10.002705943s : 250 calls. qps=24.993236972536682
08:51:56 I periodic.go:533> T001 ended after 10.005260495s : 250 calls. qps=24.986855677064508
08:51:56 I periodic.go:533> T002 ended after 10.005330149s : 250 calls. qps=24.986681726338304
Ended after 10.007629904s : 1000 calls. qps=99.924
Sleep times : count 996 avg 0.036295726 +/- 0.002022 min 0.02231612 max 0.039381427 sum 36.1505429
Aggregated Function Time : count 1000 avg 0.003310868 +/- 0.001764 min 0.000691001 max 0.017053341 sum 3.31086804
# range, mid point, percentile, count
>= 0.000691001 <= 0.0007 , 0.0006955 , 0.10, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.60, 5
> 0.0008 <= 0.0009 , 0.00085 , 1.50, 9
> 0.0009 <= 0.001 , 0.00095 , 3.70, 22
> 0.001 <= 0.0011 , 0.00105 , 6.80, 31
> 0.0011 <= 0.0012 , 0.00115 , 10.20, 34
> 0.0012 <= 0.0014 , 0.0013 , 16.50, 63
> 0.0014 <= 0.0016 , 0.0015 , 19.90, 34
> 0.0016 <= 0.0018 , 0.0017 , 23.10, 32
> 0.0018 <= 0.002 , 0.0019 , 24.30, 12
> 0.002 <= 0.0025 , 0.00225 , 31.30, 70
> 0.0025 <= 0.003 , 0.00275 , 39.90, 86
> 0.003 <= 0.0035 , 0.00325 , 53.00, 131
> 0.0035 <= 0.004 , 0.00375 , 72.80, 198
> 0.004 <= 0.0045 , 0.00425 , 85.10, 123
> 0.0045 <= 0.005 , 0.00475 , 90.00, 49
> 0.005 <= 0.006 , 0.0055 , 95.10, 51
> 0.006 <= 0.007 , 0.0065 , 98.40, 33
> 0.007 <= 0.008 , 0.0075 , 98.60, 2
> 0.008 <= 0.009 , 0.0085 , 98.90, 3
> 0.009 <= 0.01 , 0.0095 , 99.20, 3
> 0.01 <= 0.012 , 0.011 , 99.30, 1
> 0.012 <= 0.014 , 0.013 , 99.60, 3
> 0.014 <= 0.016 , 0.015 , 99.80, 2
> 0.016 <= 0.0170533 , 0.0165267 , 100.00, 2
# target 50% 0.0033855
# target 75% 0.00408943
# target 90% 0.005
# target 99% 0.00933333
# target 99.9% 0.0165267
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1000 (100.0 %)
Response Header Sizes : count 1000 avg 209.004 +/- 0.06312 min 209 max 210 sum 209004
Response Body/Total Sizes : count 1000 avg 209.004 +/- 0.06312 min 209 max 210 sum 209004
All done 1000 calls (plus 4 warmup) 3.311 ms avg, 99.9 qps
Successfully wrote 4515 bytes of Json data to /data/2018-11-17-085146_http_istio_100qps_10s_echo_1_9.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
08:51:56 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:52:06 I periodic.go:533> T003 ended after 10.000543654s : 250 calls. qps=24.998640938885902
08:52:06 I periodic.go:533> T000 ended after 10.000548673s : 250 calls. qps=24.998628392756384
08:52:06 I periodic.go:533> T001 ended after 10.000564339s : 250 calls. qps=24.998589232115133
08:52:06 I periodic.go:533> T002 ended after 10.0005872s : 250 calls. qps=24.998532086195898
Ended after 10.000821503s : 1000 calls. qps=99.992
Sleep times : count 996 avg 0.038050921 +/- 0.003234 min -0.004399934 max 0.039787033 sum 37.898717
Aggregated Function Time : count 1000 avg 0.0015141726 +/- 0.002982 min 0.00016539 max 0.044447019 sum 1.51417265
# range, mid point, percentile, count
>= 0.00016539 <= 0.0002 , 0.000182695 , 0.30, 3
> 0.0002 <= 0.0003 , 0.00025 , 3.20, 29
> 0.0003 <= 0.0004 , 0.00035 , 9.60, 64
> 0.0004 <= 0.0005 , 0.00045 , 17.00, 74
> 0.0005 <= 0.0006 , 0.00055 , 20.80, 38
> 0.0006 <= 0.0007 , 0.00065 , 23.40, 26
> 0.0007 <= 0.0008 , 0.00075 , 25.80, 24
> 0.0008 <= 0.0009 , 0.00085 , 29.40, 36
> 0.0009 <= 0.001 , 0.00095 , 35.10, 57
> 0.001 <= 0.0011 , 0.00105 , 42.00, 69
> 0.0011 <= 0.0012 , 0.00115 , 49.40, 74
> 0.0012 <= 0.0014 , 0.0013 , 66.30, 169
> 0.0014 <= 0.0016 , 0.0015 , 78.80, 125
> 0.0016 <= 0.0018 , 0.0017 , 84.70, 59
> 0.0018 <= 0.002 , 0.0019 , 88.10, 34
> 0.002 <= 0.0025 , 0.00225 , 92.90, 48
> 0.0025 <= 0.003 , 0.00275 , 94.70, 18
> 0.003 <= 0.0035 , 0.00325 , 96.40, 17
> 0.0035 <= 0.004 , 0.00375 , 96.80, 4
> 0.004 <= 0.0045 , 0.00425 , 97.50, 7
> 0.0045 <= 0.005 , 0.00475 , 97.80, 3
> 0.005 <= 0.006 , 0.0055 , 99.10, 13
> 0.006 <= 0.007 , 0.0065 , 99.20, 1
> 0.012 <= 0.014 , 0.013 , 99.50, 3
> 0.02 <= 0.025 , 0.0225 , 99.60, 1
> 0.04 <= 0.044447 , 0.0422235 , 100.00, 4
# target 50% 0.0012071
# target 75% 0.0015392
# target 90% 0.00219792
# target 99% 0.00592308
# target 99.9% 0.0433353
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 1.514 ms avg, 100.0 qps
Successfully wrote 4109 bytes of Json data to /data/2018-11-17-085156_grpc_baseline_100qps_10s_echo_1_9.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
08:52:06 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:52:16 I periodic.go:533> T003 ended after 10.001115605s : 250 calls. qps=24.99721129860892
08:52:16 I periodic.go:533> T001 ended after 10.001115617s : 250 calls. qps=24.997211268615615
08:52:16 I periodic.go:533> T000 ended after 10.001206137s : 250 calls. qps=24.996985021147754
08:52:16 I periodic.go:533> T002 ended after 10.001162968s : 250 calls. qps=24.997092918084327
Ended after 10.001291588s : 1000 calls. qps=99.987
Sleep times : count 996 avg 0.036663964 +/- 0.002019 min 0.024825026 max 0.03928917 sum 36.5173086
Aggregated Function Time : count 1000 avg 0.0030224796 +/- 0.001746 min 0.00061147 max 0.013404518 sum 3.02247957
# range, mid point, percentile, count
>= 0.00061147 <= 0.0007 , 0.000655735 , 0.10, 1
> 0.0007 <= 0.0008 , 0.00075 , 1.00, 9
> 0.0008 <= 0.0009 , 0.00085 , 4.60, 36
> 0.0009 <= 0.001 , 0.00095 , 8.60, 40
> 0.001 <= 0.0011 , 0.00105 , 11.20, 26
> 0.0011 <= 0.0012 , 0.00115 , 13.30, 21
> 0.0012 <= 0.0014 , 0.0013 , 15.90, 26
> 0.0014 <= 0.0016 , 0.0015 , 19.10, 32
> 0.0016 <= 0.0018 , 0.0017 , 21.30, 22
> 0.0018 <= 0.002 , 0.0019 , 23.70, 24
> 0.002 <= 0.0025 , 0.00225 , 34.60, 109
> 0.0025 <= 0.003 , 0.00275 , 58.70, 241
> 0.003 <= 0.0035 , 0.00325 , 76.10, 174
> 0.0035 <= 0.004 , 0.00375 , 84.70, 86
> 0.004 <= 0.0045 , 0.00425 , 88.60, 39
> 0.0045 <= 0.005 , 0.00475 , 90.40, 18
> 0.005 <= 0.006 , 0.0055 , 93.40, 30
> 0.006 <= 0.007 , 0.0065 , 96.50, 31
> 0.007 <= 0.008 , 0.0075 , 97.70, 12
> 0.008 <= 0.009 , 0.0085 , 98.60, 9
> 0.009 <= 0.01 , 0.0095 , 99.10, 5
> 0.01 <= 0.012 , 0.011 , 99.50, 4
> 0.012 <= 0.0134045 , 0.0127023 , 100.00, 5
# target 50% 0.0028195
# target 75% 0.00346839
# target 90% 0.00488889
# target 99% 0.0098
# target 99.9% 0.0131236
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 3.022 ms avg, 100.0 qps
Successfully wrote 3740 bytes of Json data to /data/2018-11-17-085206_grpc_linkerd_100qps_10s_echo_1_9.json
Fortio 1.3.1-pre running at 100 queries per second, 4->4 procs, for 10s: fortio-echo-1.benchmark-istio:8079
08:52:16 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 100.0 qps
Starting at 100 qps with 4 thread(s) [gomax 4] for 10s : 250 calls each (total 1000)
08:52:26 I periodic.go:533> T003 ended after 10.001048735s : 250 calls. qps=24.99737843743244
08:52:26 I periodic.go:533> T002 ended after 10.001167964s : 250 calls. qps=24.997080430995148
08:52:26 I periodic.go:533> T000 ended after 10.001197907s : 250 calls. qps=24.997005591202328
08:52:26 I periodic.go:533> T001 ended after 10.001362666s : 250 calls. qps=24.99659379915141
Ended after 10.001432509s : 1000 calls. qps=99.986
Sleep times : count 996 avg 0.036455487 +/- 0.002438 min 0.01941513 max 0.039449172 sum 36.3096653
Aggregated Function Time : count 1000 avg 0.0030605391 +/- 0.001893 min 0.000458975 max 0.01622858 sum 3.06053913
# range, mid point, percentile, count
>= 0.000458975 <= 0.0005 , 0.000479487 , 0.10, 1
> 0.0005 <= 0.0006 , 0.00055 , 0.40, 3
> 0.0006 <= 0.0007 , 0.00065 , 1.40, 10
> 0.0007 <= 0.0008 , 0.00075 , 4.10, 27
> 0.0008 <= 0.0009 , 0.00085 , 5.80, 17
> 0.0009 <= 0.001 , 0.00095 , 7.80, 20
> 0.001 <= 0.0011 , 0.00105 , 10.80, 30
> 0.0011 <= 0.0012 , 0.00115 , 13.40, 26
> 0.0012 <= 0.0014 , 0.0013 , 18.70, 53
> 0.0014 <= 0.0016 , 0.0015 , 23.60, 49
> 0.0016 <= 0.0018 , 0.0017 , 28.00, 44
> 0.0018 <= 0.002 , 0.0019 , 31.60, 36
> 0.002 <= 0.0025 , 0.00225 , 41.60, 100
> 0.0025 <= 0.003 , 0.00275 , 53.20, 116
> 0.003 <= 0.0035 , 0.00325 , 65.50, 123
> 0.0035 <= 0.004 , 0.00375 , 76.60, 111
> 0.004 <= 0.0045 , 0.00425 , 84.50, 79
> 0.0045 <= 0.005 , 0.00475 , 91.00, 65
> 0.005 <= 0.006 , 0.0055 , 94.30, 33
> 0.006 <= 0.007 , 0.0065 , 96.30, 20
> 0.007 <= 0.008 , 0.0075 , 97.90, 16
> 0.008 <= 0.009 , 0.0085 , 98.80, 9
> 0.009 <= 0.01 , 0.0095 , 99.10, 3
> 0.01 <= 0.012 , 0.011 , 99.50, 4
> 0.012 <= 0.014 , 0.013 , 99.60, 1
> 0.016 <= 0.0162286 , 0.0161143 , 100.00, 4
# target 50% 0.00286207
# target 75% 0.00392793
# target 90% 0.00492308
# target 99% 0.00966667
# target 99.9% 0.0161714
Ping SERVING : 1000
All done 1000 calls (plus 4 warmup) 3.061 ms avg, 100.0 qps
Successfully wrote 4087 bytes of Json data to /data/2018-11-17-085216_grpc_istio_100qps_10s_echo_1_9.json
