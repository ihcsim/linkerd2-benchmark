1.3.1-pre unknown go1.11.2
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
05:30:32 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 1000.0 qps
05:30:32 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:30:43 I periodic.go:533> T002 ended after 10.000824886s : 2500 calls. qps=249.97937955095196
05:30:43 I periodic.go:533> T000 ended after 10.001157364s : 2500 calls. qps=249.97106924834102
05:30:43 I periodic.go:533> T003 ended after 10.001244152s : 2500 calls. qps=249.9689000693041
05:30:43 I periodic.go:533> T001 ended after 10.001482903s : 2500 calls. qps=249.96293292168818
Ended after 10.001558782s : 10000 calls. qps=999.84
Sleep times : count 9996 avg 0.0033232176 +/- 0.0003819 min -0.002347881 max 0.003712183 sum 33.2188827
Aggregated Function Time : count 10000 avg 0.00039204673 +/- 0.0002696 min 9.8104e-05 max 0.004808583 sum 3.92046731
# range, mid point, percentile, count
>= 9.8104e-05 <= 0.0001 , 9.9052e-05 , 0.01, 1
> 0.0001 <= 0.0002 , 0.00015 , 1.37, 136
> 0.0002 <= 0.0003 , 0.00025 , 26.52, 2515
> 0.0003 <= 0.0004 , 0.00035 , 69.75, 4323
> 0.0004 <= 0.0005 , 0.00045 , 89.90, 2015
> 0.0005 <= 0.0006 , 0.00055 , 95.36, 546
> 0.0006 <= 0.0007 , 0.00065 , 96.77, 141
> 0.0007 <= 0.0008 , 0.00075 , 97.43, 66
> 0.0008 <= 0.0009 , 0.00085 , 97.80, 37
> 0.0009 <= 0.001 , 0.00095 , 98.03, 23
> 0.001 <= 0.0011 , 0.00105 , 98.21, 18
> 0.0011 <= 0.0012 , 0.00115 , 98.59, 38
> 0.0012 <= 0.0014 , 0.0013 , 98.95, 36
> 0.0014 <= 0.0016 , 0.0015 , 99.30, 35
> 0.0016 <= 0.0018 , 0.0017 , 99.41, 11
> 0.0018 <= 0.002 , 0.0019 , 99.50, 9
> 0.002 <= 0.0025 , 0.00225 , 99.63, 13
> 0.0025 <= 0.003 , 0.00275 , 99.72, 9
> 0.003 <= 0.0035 , 0.00325 , 99.84, 12
> 0.004 <= 0.0045 , 0.00425 , 99.88, 4
> 0.0045 <= 0.00480858 , 0.00465429 , 100.00, 12
# target 50% 0.000354314
# target 75% 0.000426055
# target 90% 0.000501832
# target 99% 0.00142857
# target 99.9% 0.00455143
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 10000 (100.0 %)
Response Header Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
Response Body/Total Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
All done 10000 calls (plus 4 warmup) 0.392 ms avg, 999.8 qps
Successfully wrote 4153 bytes of Json data to /data/2018-11-19-053032_http_baseline_1000qps_10s_echo_0_0.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
05:30:43 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 1000.0 qps
05:30:43 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:30:53 I periodic.go:533> T000 ended after 10.000840794s : 2500 calls. qps=249.97898191718778
05:30:53 I periodic.go:533> T002 ended after 10.00125168s : 2500 calls. qps=249.96871191626687
05:30:53 I periodic.go:533> T001 ended after 10.003570602s : 2500 calls. qps=249.91076681162008
05:30:53 I periodic.go:533> T003 ended after 10.003619076s : 2500 calls. qps=249.90955583243164
Ended after 10.0036337s : 10000 calls. qps=999.64
Sleep times : count 9996 avg 0.0028787754 +/- 0.0004543 min -0.002956317 max 0.003401487 sum 28.7762392
Aggregated Function Time : count 10000 avg 0.00080619361 +/- 0.0003561 min 0.000405119 max 0.005467499 sum 8.06193609
# range, mid point, percentile, count
>= 0.000405119 <= 0.0005 , 0.00045256 , 0.28, 28
> 0.0005 <= 0.0006 , 0.00055 , 6.00, 572
> 0.0006 <= 0.0007 , 0.00065 , 36.19, 3019
> 0.0007 <= 0.0008 , 0.00075 , 66.45, 3026
> 0.0008 <= 0.0009 , 0.00085 , 84.01, 1756
> 0.0009 <= 0.001 , 0.00095 , 92.35, 834
> 0.001 <= 0.0011 , 0.00105 , 95.34, 299
> 0.0011 <= 0.0012 , 0.00115 , 96.35, 101
> 0.0012 <= 0.0014 , 0.0013 , 97.48, 113
> 0.0014 <= 0.0016 , 0.0015 , 97.97, 49
> 0.0016 <= 0.0018 , 0.0017 , 98.44, 47
> 0.0018 <= 0.002 , 0.0019 , 98.77, 33
> 0.002 <= 0.0025 , 0.00225 , 99.00, 23
> 0.0025 <= 0.003 , 0.00275 , 99.38, 38
> 0.003 <= 0.0035 , 0.00325 , 99.51, 13
> 0.0035 <= 0.004 , 0.00375 , 99.52, 1
> 0.004 <= 0.0045 , 0.00425 , 99.75, 23
> 0.0045 <= 0.005 , 0.00475 , 99.90, 15
> 0.005 <= 0.0054675 , 0.00523375 , 100.00, 10
# target 50% 0.000745638
# target 75% 0.00084869
# target 90% 0.000971823
# target 99% 0.0025
# target 99.9% 0.005
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 10000 (100.0 %)
Response Header Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
Response Body/Total Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
All done 10000 calls (plus 4 warmup) 0.806 ms avg, 999.6 qps
Successfully wrote 3860 bytes of Json data to /data/2018-11-19-053043_http_linkerd_1000qps_10s_echo_0_0.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
05:30:53 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 1000.0 qps
05:30:53 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:31:03 W periodic.go:487> T000 warning only did 2498 out of 2500 calls before reaching 10s
05:31:03 I periodic.go:533> T000 ended after 10.006610011s : 2498 calls. qps=249.63499099635294
05:31:03 W periodic.go:487> T001 warning only did 2498 out of 2500 calls before reaching 10s
05:31:03 I periodic.go:533> T001 ended after 10.008837869s : 2498 calls. qps=249.5794249736987
05:31:03 W periodic.go:487> T003 warning only did 2498 out of 2500 calls before reaching 10s
05:31:03 I periodic.go:533> T003 ended after 10.008878158s : 2498 calls. qps=249.57842033508746
05:31:03 W periodic.go:487> T002 warning only did 2498 out of 2500 calls before reaching 10s
05:31:03 I periodic.go:533> T002 ended after 10.008892805s : 2498 calls. qps=249.57805510236952
Ended after 10.008905308s : 9992 calls. qps=998.31
Sleep times : count 9992 avg 0.0018992685 +/- 0.001432 min -0.013324687 max 0.003105396 sum 18.977491
Aggregated Function Time : count 9992 avg 0.0017049593 +/- 0.0009933 min 0.000705071 max 0.016816819 sum 17.0359535
# range, mid point, percentile, count
>= 0.000705071 <= 0.0008 , 0.000752536 , 0.07, 7
> 0.0008 <= 0.0009 , 0.00085 , 0.13, 6
> 0.0009 <= 0.001 , 0.00095 , 0.27, 14
> 0.001 <= 0.0011 , 0.00105 , 0.62, 35
> 0.0011 <= 0.0012 , 0.00115 , 4.16, 354
> 0.0012 <= 0.0014 , 0.0013 , 38.53, 3434
> 0.0014 <= 0.0016 , 0.0015 , 63.94, 2539
> 0.0016 <= 0.0018 , 0.0017 , 76.23, 1228
> 0.0018 <= 0.002 , 0.0019 , 84.64, 840
> 0.002 <= 0.0025 , 0.00225 , 94.64, 999
> 0.0025 <= 0.003 , 0.00275 , 95.80, 116
> 0.003 <= 0.0035 , 0.00325 , 96.84, 104
> 0.0035 <= 0.004 , 0.00375 , 98.06, 122
> 0.004 <= 0.0045 , 0.00425 , 98.51, 45
> 0.0045 <= 0.005 , 0.00475 , 98.92, 41
> 0.005 <= 0.006 , 0.0055 , 99.41, 49
> 0.006 <= 0.007 , 0.0065 , 99.58, 17
> 0.007 <= 0.008 , 0.0075 , 99.60, 2
> 0.012 <= 0.014 , 0.013 , 99.84, 24
> 0.014 <= 0.016 , 0.015 , 99.96, 12
> 0.016 <= 0.0168168 , 0.0164084 , 100.00, 4
# target 50% 0.00149027
# target 75% 0.00177997
# target 90% 0.00226817
# target 99% 0.0051649
# target 99.9% 0.0150013
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 9992 (100.0 %)
Response Header Sizes : count 9992 avg 209 +/- 0 min 209 max 209 sum 2088328
Response Body/Total Sizes : count 9992 avg 209 +/- 0 min 209 max 209 sum 2088328
All done 9992 calls (plus 4 warmup) 1.705 ms avg, 998.3 qps
Successfully wrote 4330 bytes of Json data to /data/2018-11-19-053053_http_istio_1000qps_10s_echo_0_0.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
05:31:03 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:31:13 I periodic.go:533> T003 ended after 10.001068959s : 2500 calls. qps=249.97327888137804
05:31:13 I periodic.go:533> T000 ended after 10.003967311s : 2500 calls. qps=249.90085655828668
05:31:13 I periodic.go:533> T001 ended after 10.004020796s : 2500 calls. qps=249.89952050075684
05:31:13 I periodic.go:533> T002 ended after 10.00406896s : 2500 calls. qps=249.8983173742537
Ended after 10.004081992s : 10000 calls. qps=999.59
Sleep times : count 9996 avg 0.0029687857 +/- 0.0004564 min -0.001803852 max 0.003651928 sum 29.6759822
Aggregated Function Time : count 10000 avg 0.00074131218 +/- 0.0003316 min 0.000217936 max 0.004944448 sum 7.41312183
# range, mid point, percentile, count
>= 0.000217936 <= 0.0003 , 0.000258968 , 0.03, 3
> 0.0003 <= 0.0004 , 0.00035 , 0.21, 18
> 0.0004 <= 0.0005 , 0.00045 , 2.67, 246
> 0.0005 <= 0.0006 , 0.00055 , 18.96, 1629
> 0.0006 <= 0.0007 , 0.00065 , 56.24, 3728
> 0.0007 <= 0.0008 , 0.00075 , 80.24, 2400
> 0.0008 <= 0.0009 , 0.00085 , 91.03, 1079
> 0.0009 <= 0.001 , 0.00095 , 95.17, 414
> 0.001 <= 0.0011 , 0.00105 , 96.43, 126
> 0.0011 <= 0.0012 , 0.00115 , 97.02, 59
> 0.0012 <= 0.0014 , 0.0013 , 97.40, 38
> 0.0014 <= 0.0016 , 0.0015 , 97.88, 48
> 0.0016 <= 0.0018 , 0.0017 , 98.29, 41
> 0.0018 <= 0.002 , 0.0019 , 98.70, 41
> 0.002 <= 0.0025 , 0.00225 , 99.19, 49
> 0.0025 <= 0.003 , 0.00275 , 99.41, 22
> 0.003 <= 0.0035 , 0.00325 , 99.53, 12
> 0.0035 <= 0.004 , 0.00375 , 99.76, 23
> 0.004 <= 0.0045 , 0.00425 , 99.92, 16
> 0.0045 <= 0.00494445 , 0.00472222 , 100.00, 8
# target 50% 0.000683262
# target 75% 0.000778167
# target 90% 0.000890454
# target 99% 0.00230612
# target 99.9% 0.0044375
Ping SERVING : 10000
All done 10000 calls (plus 4 warmup) 0.741 ms avg, 999.6 qps
Successfully wrote 3504 bytes of Json data to /data/2018-11-19-053103_grpc_baseline_1000qps_10s_echo_0_0.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
05:31:13 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:31:23 I periodic.go:533> T000 ended after 10.001245284s : 2500 calls. qps=249.9688717763479
05:31:23 I periodic.go:533> T001 ended after 10.002503295s : 2500 calls. qps=249.9374332872939
05:31:23 I periodic.go:533> T002 ended after 10.002699007s : 2500 calls. qps=249.93254303168297
05:31:23 I periodic.go:533> T003 ended after 10.002728328s : 2500 calls. qps=249.93181040435832
Ended after 10.0028128s : 10000 calls. qps=999.72
Sleep times : count 9996 avg 0.0023769638 +/- 0.0005567 min -0.002690459 max 0.003238964 sum 23.7601301
Aggregated Function Time : count 10000 avg 0.0012607532 +/- 0.0004564 min 0.000573232 max 0.005646438 sum 12.6075325
# range, mid point, percentile, count
>= 0.000573232 <= 0.0006 , 0.000586616 , 0.02, 2
> 0.0006 <= 0.0007 , 0.00065 , 0.04, 2
> 0.0007 <= 0.0008 , 0.00075 , 0.39, 35
> 0.0008 <= 0.0009 , 0.00085 , 4.00, 361
> 0.0009 <= 0.001 , 0.00095 , 15.88, 1188
> 0.001 <= 0.0011 , 0.00105 , 35.63, 1975
> 0.0011 <= 0.0012 , 0.00115 , 55.78, 2015
> 0.0012 <= 0.0014 , 0.0013 , 82.24, 2646
> 0.0014 <= 0.0016 , 0.0015 , 92.63, 1039
> 0.0016 <= 0.0018 , 0.0017 , 95.16, 253
> 0.0018 <= 0.002 , 0.0019 , 96.22, 106
> 0.002 <= 0.0025 , 0.00225 , 97.87, 165
> 0.0025 <= 0.003 , 0.00275 , 98.53, 66
> 0.003 <= 0.0035 , 0.00325 , 98.93, 40
> 0.0035 <= 0.004 , 0.00375 , 99.23, 30
> 0.004 <= 0.0045 , 0.00425 , 99.40, 17
> 0.0045 <= 0.005 , 0.00475 , 99.74, 34
> 0.005 <= 0.00564644 , 0.00532322 , 100.00, 26
# target 50% 0.00117132
# target 75% 0.00134528
# target 90% 0.00154937
# target 99% 0.00361667
# target 99.9% 0.00539781
Ping SERVING : 10000
All done 10000 calls (plus 4 warmup) 1.261 ms avg, 999.7 qps
Successfully wrote 3247 bytes of Json data to /data/2018-11-19-053113_grpc_linkerd_1000qps_10s_echo_0_0.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8079
05:31:23 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:31:33 W periodic.go:487> T003 warning only did 2497 out of 2500 calls before reaching 10s
05:31:33 I periodic.go:533> T003 ended after 10.006610905s : 2497 calls. qps=249.53503475910358
05:31:33 W periodic.go:487> T002 warning only did 2497 out of 2500 calls before reaching 10s
05:31:33 I periodic.go:533> T002 ended after 10.008957503s : 2497 calls. qps=249.47653132222516
05:31:33 W periodic.go:487> T001 warning only did 2497 out of 2500 calls before reaching 10s
05:31:33 I periodic.go:533> T001 ended after 10.008974545s : 2497 calls. qps=249.47610654553824
05:31:33 W periodic.go:487> T000 warning only did 2498 out of 2500 calls before reaching 10s
05:31:33 I periodic.go:533> T000 ended after 10.009147065s : 2498 calls. qps=249.57171512995447
Ended after 10.009158763s : 9989 calls. qps=997.99
Sleep times : count 9989 avg 0.0013146899 +/- 0.003635 min -0.054347088 max 0.003124491 sum 13.1324372
Aggregated Function Time : count 9989 avg 0.0019668267 +/- 0.001641 min 0.000529555 max 0.058158153 sum 19.6466317
# range, mid point, percentile, count
>= 0.000529555 <= 0.0006 , 0.000564777 , 0.06, 6
> 0.0006 <= 0.0007 , 0.00065 , 0.15, 9
> 0.0007 <= 0.0008 , 0.00075 , 0.51, 36
> 0.0008 <= 0.0009 , 0.00085 , 1.07, 56
> 0.0009 <= 0.001 , 0.00095 , 4.44, 337
> 0.001 <= 0.0011 , 0.00105 , 10.99, 654
> 0.0011 <= 0.0012 , 0.00115 , 14.51, 351
> 0.0012 <= 0.0014 , 0.0013 , 18.18, 367
> 0.0014 <= 0.0016 , 0.0015 , 27.30, 911
> 0.0016 <= 0.0018 , 0.0017 , 53.31, 2598
> 0.0018 <= 0.002 , 0.0019 , 69.57, 1624
> 0.002 <= 0.0025 , 0.00225 , 87.03, 1744
> 0.0025 <= 0.003 , 0.00275 , 95.17, 814
> 0.003 <= 0.0035 , 0.00325 , 96.23, 105
> 0.0035 <= 0.004 , 0.00375 , 97.52, 129
> 0.004 <= 0.0045 , 0.00425 , 98.27, 75
> 0.0045 <= 0.005 , 0.00475 , 98.72, 45
> 0.005 <= 0.006 , 0.0055 , 99.34, 62
> 0.006 <= 0.007 , 0.0065 , 99.57, 23
> 0.008 <= 0.009 , 0.0085 , 99.60, 3
> 0.012 <= 0.014 , 0.013 , 99.63, 3
> 0.014 <= 0.016 , 0.015 , 99.67, 4
> 0.016 <= 0.018 , 0.017 , 99.79, 12
> 0.018 <= 0.02 , 0.019 , 99.87, 8
> 0.02 <= 0.025 , 0.0225 , 99.96, 9
> 0.05 <= 0.0581582 , 0.0540791 , 100.00, 4
# target 50% 0.00177456
# target 75% 0.0021556
# target 90% 0.00268249
# target 99% 0.00545339
# target 99.9% 0.0216728
Ping SERVING : 9989
All done 9989 calls (plus 4 warmup) 1.967 ms avg, 998.0 qps
Successfully wrote 4457 bytes of Json data to /data/2018-11-19-053123_grpc_istio_1000qps_10s_echo_0_0.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
05:31:33 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 1000.0 qps
05:31:33 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:31:43 I periodic.go:533> T002 ended after 10.00066608s : 2500 calls. qps=249.98334910908252
05:31:43 I periodic.go:533> T003 ended after 10.003637085s : 2500 calls. qps=249.90910593394443
05:31:43 I periodic.go:533> T000 ended after 10.00371766s : 2500 calls. qps=249.90709303964903
05:31:43 I periodic.go:533> T001 ended after 10.003733219s : 2500 calls. qps=249.9067043543077
Ended after 10.003746217s : 10000 calls. qps=999.63
Sleep times : count 9996 avg 0.0033199395 +/- 0.0003779 min -0.001008686 max 0.003693807 sum 33.1861149
Aggregated Function Time : count 10000 avg 0.00040019031 +/- 0.0002582 min 0.000107688 max 0.004267781 sum 4.00190306
# range, mid point, percentile, count
>= 0.000107688 <= 0.0002 , 0.000153844 , 0.99, 99
> 0.0002 <= 0.0003 , 0.00025 , 23.42, 2243
> 0.0003 <= 0.0004 , 0.00035 , 65.90, 4248
> 0.0004 <= 0.0005 , 0.00045 , 89.48, 2358
> 0.0005 <= 0.0006 , 0.00055 , 95.21, 573
> 0.0006 <= 0.0007 , 0.00065 , 96.93, 172
> 0.0007 <= 0.0008 , 0.00075 , 97.41, 48
> 0.0008 <= 0.0009 , 0.00085 , 97.63, 22
> 0.0009 <= 0.001 , 0.00095 , 97.99, 36
> 0.001 <= 0.0011 , 0.00105 , 98.13, 14
> 0.0011 <= 0.0012 , 0.00115 , 98.40, 27
> 0.0012 <= 0.0014 , 0.0013 , 98.90, 50
> 0.0014 <= 0.0016 , 0.0015 , 99.16, 26
> 0.0016 <= 0.0018 , 0.0017 , 99.21, 5
> 0.0018 <= 0.002 , 0.0019 , 99.51, 30
> 0.002 <= 0.0025 , 0.00225 , 99.65, 14
> 0.0025 <= 0.003 , 0.00275 , 99.73, 8
> 0.003 <= 0.0035 , 0.00325 , 99.79, 6
> 0.0035 <= 0.004 , 0.00375 , 99.96, 17
> 0.004 <= 0.00426778 , 0.00413389 , 100.00, 4
# target 50% 0.000362571
# target 75% 0.000438592
# target 90% 0.000509075
# target 99% 0.00147692
# target 99.9% 0.00382353
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 10000 (100.0 %)
Response Header Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
Response Body/Total Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
All done 10000 calls (plus 4 warmup) 0.400 ms avg, 999.6 qps
Successfully wrote 4014 bytes of Json data to /data/2018-11-19-053133_http_baseline_1000qps_10s_echo_1_0.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
05:31:43 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 1000.0 qps
05:31:43 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:31:53 I periodic.go:533> T003 ended after 10.000807989s : 2500 calls. qps=249.97980190698368
05:31:53 I periodic.go:533> T001 ended after 10.001555544s : 2500 calls. qps=249.96111744835198
05:31:53 I periodic.go:533> T000 ended after 10.001680114s : 2500 calls. qps=249.9580042057722
05:31:53 I periodic.go:533> T002 ended after 10.001743342s : 2500 calls. qps=249.95642404677895
Ended after 10.001768383s : 10000 calls. qps=999.82
Sleep times : count 9996 avg 0.0030009768 +/- 0.0004413 min -0.001418409 max 0.003539983 sum 29.9977644
Aggregated Function Time : count 10000 avg 0.00073071573 +/- 0.0003467 min 0.000373236 max 0.004937723 sum 7.30715726
# range, mid point, percentile, count
>= 0.000373236 <= 0.0004 , 0.000386618 , 0.03, 3
> 0.0004 <= 0.0005 , 0.00045 , 0.56, 53
> 0.0005 <= 0.0006 , 0.00055 , 17.54, 1698
> 0.0006 <= 0.0007 , 0.00065 , 61.26, 4372
> 0.0007 <= 0.0008 , 0.00075 , 86.05, 2479
> 0.0008 <= 0.0009 , 0.00085 , 93.91, 786
> 0.0009 <= 0.001 , 0.00095 , 96.21, 230
> 0.001 <= 0.0011 , 0.00105 , 96.79, 58
> 0.0011 <= 0.0012 , 0.00115 , 97.14, 35
> 0.0012 <= 0.0014 , 0.0013 , 97.70, 56
> 0.0014 <= 0.0016 , 0.0015 , 98.16, 46
> 0.0016 <= 0.0018 , 0.0017 , 98.67, 51
> 0.0018 <= 0.002 , 0.0019 , 98.97, 30
> 0.002 <= 0.0025 , 0.00225 , 99.25, 28
> 0.0025 <= 0.003 , 0.00275 , 99.36, 11
> 0.003 <= 0.0035 , 0.00325 , 99.40, 4
> 0.0035 <= 0.004 , 0.00375 , 99.44, 4
> 0.004 <= 0.0045 , 0.00425 , 99.80, 36
> 0.0045 <= 0.00493772 , 0.00471886 , 100.00, 20
# target 50% 0.000674245
# target 75% 0.000755426
# target 90% 0.000850254
# target 99% 0.00205357
# target 99.9% 0.00471886
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 10000 (100.0 %)
Response Header Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
Response Body/Total Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
All done 10000 calls (plus 4 warmup) 0.731 ms avg, 999.8 qps
Successfully wrote 3893 bytes of Json data to /data/2018-11-19-053143_http_linkerd_1000qps_10s_echo_1_0.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
05:31:53 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 1000.0 qps
05:31:53 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:32:03 W periodic.go:487> T001 warning only did 2498 out of 2500 calls before reaching 10s
05:32:03 I periodic.go:533> T001 ended after 10.00678517s : 2498 calls. qps=249.6306213796733
05:32:03 W periodic.go:487> T000 warning only did 2498 out of 2500 calls before reaching 10s
05:32:03 I periodic.go:533> T000 ended after 10.006818761s : 2498 calls. qps=249.62978341683987
05:32:03 W periodic.go:487> T002 warning only did 2498 out of 2500 calls before reaching 10s
05:32:03 I periodic.go:533> T002 ended after 10.006832135s : 2498 calls. qps=249.62944978990598
05:32:03 W periodic.go:487> T003 warning only did 2498 out of 2500 calls before reaching 10s
05:32:03 I periodic.go:533> T003 ended after 10.006866679s : 2498 calls. qps=249.62858806165573
Ended after 10.00687851s : 9992 calls. qps=998.51
Sleep times : count 9992 avg 0.0018751152 +/- 0.001506 min -0.011947549 max 0.003285859 sum 18.736151
Aggregated Function Time : count 9992 avg 0.0017243439 +/- 0.001019 min 0.000577214 max 0.01578433 sum 17.2296445
# range, mid point, percentile, count
>= 0.000577214 <= 0.0006 , 0.000588607 , 0.01, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.07, 6
> 0.0008 <= 0.0009 , 0.00085 , 0.16, 9
> 0.0009 <= 0.001 , 0.00095 , 0.26, 10
> 0.001 <= 0.0011 , 0.00105 , 0.53, 27
> 0.0011 <= 0.0012 , 0.00115 , 4.84, 431
> 0.0012 <= 0.0014 , 0.0013 , 40.93, 3606
> 0.0014 <= 0.0016 , 0.0015 , 62.61, 2166
> 0.0016 <= 0.0018 , 0.0017 , 72.28, 966
> 0.0018 <= 0.002 , 0.0019 , 81.86, 957
> 0.002 <= 0.0025 , 0.00225 , 94.82, 1295
> 0.0025 <= 0.003 , 0.00275 , 95.67, 85
> 0.003 <= 0.0035 , 0.00325 , 96.66, 99
> 0.0035 <= 0.004 , 0.00375 , 97.67, 101
> 0.004 <= 0.0045 , 0.00425 , 98.35, 68
> 0.0045 <= 0.005 , 0.00475 , 98.86, 51
> 0.005 <= 0.006 , 0.0055 , 99.40, 54
> 0.006 <= 0.007 , 0.0065 , 99.52, 12
> 0.007 <= 0.008 , 0.0075 , 99.56, 4
> 0.01 <= 0.012 , 0.011 , 99.60, 4
> 0.012 <= 0.014 , 0.013 , 99.85, 25
> 0.014 <= 0.0157843 , 0.0148922 , 100.00, 15
# target 50% 0.00148366
# target 75% 0.00185684
# target 90% 0.00231421
# target 99% 0.00526074
# target 99.9% 0.0145957
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 9992 (100.0 %)
Response Header Sizes : count 9992 avg 209 +/- 0 min 209 max 209 sum 2088328
Response Body/Total Sizes : count 9992 avg 209 +/- 0 min 209 max 209 sum 2088328
All done 9992 calls (plus 4 warmup) 1.724 ms avg, 998.5 qps
Successfully wrote 4463 bytes of Json data to /data/2018-11-19-053153_http_istio_1000qps_10s_echo_1_0.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
05:32:03 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:32:13 I periodic.go:533> T000 ended after 10.000795489s : 2500 calls. qps=249.98011435688105
05:32:13 I periodic.go:533> T003 ended after 10.003546847s : 2500 calls. qps=249.9113602641581
05:32:13 I periodic.go:533> T001 ended after 10.003651413s : 2500 calls. qps=249.90874799487577
05:32:13 I periodic.go:533> T002 ended after 10.003764872s : 2500 calls. qps=249.9059136223169
Ended after 10.003804799s : 10000 calls. qps=999.62
Sleep times : count 9996 avg 0.0029078721 +/- 0.000458 min -0.003247814 max 0.003555902 sum 29.067089
Aggregated Function Time : count 10000 avg 0.00079092557 +/- 0.000323 min 0.000288942 max 0.00690002 sum 7.90925571
# range, mid point, percentile, count
>= 0.000288942 <= 0.0003 , 0.000294471 , 0.03, 3
> 0.0003 <= 0.0004 , 0.00035 , 0.10, 7
> 0.0004 <= 0.0005 , 0.00045 , 1.31, 121
> 0.0005 <= 0.0006 , 0.00055 , 7.84, 653
> 0.0006 <= 0.0007 , 0.00065 , 36.72, 2888
> 0.0007 <= 0.0008 , 0.00075 , 69.21, 3249
> 0.0008 <= 0.0009 , 0.00085 , 86.78, 1757
> 0.0009 <= 0.001 , 0.00095 , 94.01, 723
> 0.001 <= 0.0011 , 0.00105 , 96.19, 218
> 0.0011 <= 0.0012 , 0.00115 , 96.80, 61
> 0.0012 <= 0.0014 , 0.0013 , 97.24, 44
> 0.0014 <= 0.0016 , 0.0015 , 97.62, 38
> 0.0016 <= 0.0018 , 0.0017 , 98.05, 43
> 0.0018 <= 0.002 , 0.0019 , 98.60, 55
> 0.002 <= 0.0025 , 0.00225 , 99.25, 65
> 0.0025 <= 0.003 , 0.00275 , 99.55, 30
> 0.003 <= 0.0035 , 0.00325 , 99.62, 7
> 0.0035 <= 0.004 , 0.00375 , 99.83, 21
> 0.004 <= 0.0045 , 0.00425 , 99.91, 8
> 0.0045 <= 0.005 , 0.00475 , 99.96, 5
> 0.005 <= 0.006 , 0.0055 , 99.98, 2
> 0.006 <= 0.00690002 , 0.00645001 , 100.00, 2
# target 50% 0.000740874
# target 75% 0.000832954
# target 90% 0.000944537
# target 99% 0.00230769
# target 99.9% 0.0044375
Ping SERVING : 10000
All done 10000 calls (plus 4 warmup) 0.791 ms avg, 999.6 qps
Successfully wrote 3713 bytes of Json data to /data/2018-11-19-053203_grpc_baseline_1000qps_10s_echo_1_0.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
05:32:13 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:32:23 I periodic.go:533> T003 ended after 10.001306826s : 2500 calls. qps=249.9673336189276
05:32:23 I periodic.go:533> T002 ended after 10.001506618s : 2500 calls. qps=249.96234022388964
05:32:23 I periodic.go:533> T001 ended after 10.001524222s : 2500 calls. qps=249.9619002572466
05:32:23 I periodic.go:533> T000 ended after 10.001539338s : 2500 calls. qps=249.96152247299193
Ended after 10.001551602s : 10000 calls. qps=999.84
Sleep times : count 9996 avg 0.0023849534 +/- 0.002276 min -0.035775133 max 0.003201671 sum 23.8399943
Aggregated Function Time : count 10000 avg 0.0011255943 +/- 0.0004859 min 0.000599823 max 0.007299299 sum 11.2559427
# range, mid point, percentile, count
>= 0.000599823 <= 0.0006 , 0.000599912 , 0.01, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.17, 16
> 0.0007 <= 0.0008 , 0.00075 , 2.26, 209
> 0.0008 <= 0.0009 , 0.00085 , 14.36, 1210
> 0.0009 <= 0.001 , 0.00095 , 37.85, 2349
> 0.001 <= 0.0011 , 0.00105 , 64.19, 2634
> 0.0011 <= 0.0012 , 0.00115 , 82.15, 1796
> 0.0012 <= 0.0014 , 0.0013 , 94.01, 1186
> 0.0014 <= 0.0016 , 0.0015 , 95.82, 181
> 0.0016 <= 0.0018 , 0.0017 , 96.44, 62
> 0.0018 <= 0.002 , 0.0019 , 97.03, 59
> 0.002 <= 0.0025 , 0.00225 , 98.31, 128
> 0.0025 <= 0.003 , 0.00275 , 98.77, 46
> 0.003 <= 0.0035 , 0.00325 , 98.90, 13
> 0.0035 <= 0.004 , 0.00375 , 99.06, 16
> 0.004 <= 0.0045 , 0.00425 , 99.20, 14
> 0.0045 <= 0.005 , 0.00475 , 99.42, 22
> 0.005 <= 0.006 , 0.0055 , 99.90, 48
> 0.006 <= 0.007 , 0.0065 , 99.96, 6
> 0.007 <= 0.0072993 , 0.00714965 , 100.00, 4
# target 50% 0.00104613
# target 75% 0.00116019
# target 90% 0.00133238
# target 99% 0.0038125
# target 99.9% 0.006
Ping SERVING : 10000
All done 10000 calls (plus 4 warmup) 1.126 ms avg, 999.8 qps
Successfully wrote 3451 bytes of Json data to /data/2018-11-19-053213_grpc_linkerd_1000qps_10s_echo_1_0.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8079
05:32:23 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:32:33 W periodic.go:487> T002 warning only did 2497 out of 2500 calls before reaching 10s
05:32:33 I periodic.go:533> T002 ended after 10.005767147s : 2497 calls. qps=249.5560773417227
05:32:33 W periodic.go:487> T003 warning only did 2497 out of 2500 calls before reaching 10s
05:32:33 I periodic.go:533> T003 ended after 10.008047131s : 2497 calls. qps=249.4992247054397
05:32:33 W periodic.go:487> T000 warning only did 2497 out of 2500 calls before reaching 10s
05:32:33 I periodic.go:533> T000 ended after 10.008082433s : 2497 calls. qps=249.498344634588
05:32:33 W periodic.go:487> T001 warning only did 2498 out of 2500 calls before reaching 10s
05:32:33 I periodic.go:533> T001 ended after 10.008279977s : 2498 calls. qps=249.59333729078787
Ended after 10.008294945s : 9989 calls. qps=998.07
Sleep times : count 9989 avg 0.0014708612 +/- 0.00215 min -0.028918354 max 0.003244281 sum 14.6924325
Aggregated Function Time : count 9989 avg 0.002004483 +/- 0.001261 min 0.000562474 max 0.032632235 sum 20.0227811
# range, mid point, percentile, count
>= 0.000562474 <= 0.0006 , 0.000581237 , 0.02, 2
> 0.0006 <= 0.0007 , 0.00065 , 0.14, 12
> 0.0007 <= 0.0008 , 0.00075 , 0.36, 22
> 0.0008 <= 0.0009 , 0.00085 , 0.90, 54
> 0.0009 <= 0.001 , 0.00095 , 3.78, 288
> 0.001 <= 0.0011 , 0.00105 , 9.60, 581
> 0.0011 <= 0.0012 , 0.00115 , 13.49, 389
> 0.0012 <= 0.0014 , 0.0013 , 16.98, 348
> 0.0014 <= 0.0016 , 0.0015 , 25.00, 801
> 0.0016 <= 0.0018 , 0.0017 , 49.98, 2496
> 0.0018 <= 0.002 , 0.0019 , 65.82, 1582
> 0.002 <= 0.0025 , 0.00225 , 85.78, 1994
> 0.0025 <= 0.003 , 0.00275 , 94.63, 884
> 0.003 <= 0.0035 , 0.00325 , 95.68, 104
> 0.0035 <= 0.004 , 0.00375 , 96.95, 127
> 0.004 <= 0.0045 , 0.00425 , 97.74, 79
> 0.0045 <= 0.005 , 0.00475 , 98.40, 66
> 0.005 <= 0.006 , 0.0055 , 99.15, 75
> 0.006 <= 0.007 , 0.0065 , 99.52, 37
> 0.007 <= 0.008 , 0.0075 , 99.59, 7
> 0.01 <= 0.012 , 0.011 , 99.60, 1
> 0.012 <= 0.014 , 0.013 , 99.71, 11
> 0.014 <= 0.016 , 0.015 , 99.72, 1
> 0.016 <= 0.018 , 0.017 , 99.96, 24
> 0.025 <= 0.03 , 0.0275 , 99.97, 1
> 0.03 <= 0.0326322 , 0.0313161 , 100.00, 3
# target 50% 0.00180019
# target 75% 0.00222988
# target 90% 0.00273818
# target 99% 0.00580147
# target 99.9% 0.0175009
Ping SERVING : 9989
All done 9989 calls (plus 4 warmup) 2.004 ms avg, 998.1 qps
Successfully wrote 4461 bytes of Json data to /data/2018-11-19-053223_grpc_istio_1000qps_10s_echo_1_0.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
05:32:33 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 1000.0 qps
05:32:33 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:32:43 I periodic.go:533> T001 ended after 10.000685979s : 2500 calls. qps=249.98285170133727
05:32:43 I periodic.go:533> T000 ended after 10.001106484s : 2500 calls. qps=249.97234096042848
05:32:43 I periodic.go:533> T002 ended after 10.003606761s : 2500 calls. qps=249.90986348508665
05:32:43 I periodic.go:533> T003 ended after 10.003661645s : 2500 calls. qps=249.90849238184126
Ended after 10.003678362s : 10000 calls. qps=999.63
Sleep times : count 9996 avg 0.0033051265 +/- 0.0004272 min -0.003393745 max 0.003708033 sum 33.0380447
Aggregated Function Time : count 10000 avg 0.00039854543 +/- 0.0002978 min 9.8544e-05 max 0.007215171 sum 3.98545432
# range, mid point, percentile, count
>= 9.8544e-05 <= 0.0001 , 9.9272e-05 , 0.01, 1
> 0.0001 <= 0.0002 , 0.00015 , 1.58, 157
> 0.0002 <= 0.0003 , 0.00025 , 26.58, 2500
> 0.0003 <= 0.0004 , 0.00035 , 67.70, 4112
> 0.0004 <= 0.0005 , 0.00045 , 89.23, 2153
> 0.0005 <= 0.0006 , 0.00055 , 95.35, 612
> 0.0006 <= 0.0007 , 0.00065 , 96.84, 149
> 0.0007 <= 0.0008 , 0.00075 , 97.29, 45
> 0.0008 <= 0.0009 , 0.00085 , 97.68, 39
> 0.0009 <= 0.001 , 0.00095 , 97.97, 29
> 0.001 <= 0.0011 , 0.00105 , 98.12, 15
> 0.0011 <= 0.0012 , 0.00115 , 98.36, 24
> 0.0012 <= 0.0014 , 0.0013 , 98.83, 47
> 0.0014 <= 0.0016 , 0.0015 , 99.03, 20
> 0.0016 <= 0.0018 , 0.0017 , 99.10, 7
> 0.0018 <= 0.002 , 0.0019 , 99.33, 23
> 0.002 <= 0.0025 , 0.00225 , 99.57, 24
> 0.0025 <= 0.003 , 0.00275 , 99.72, 15
> 0.003 <= 0.0035 , 0.00325 , 99.87, 15
> 0.004 <= 0.0045 , 0.00425 , 99.92, 5
> 0.0045 <= 0.005 , 0.00475 , 99.93, 1
> 0.005 <= 0.006 , 0.0055 , 99.96, 3
> 0.007 <= 0.00721517 , 0.00710759 , 100.00, 4
# target 50% 0.000356955
# target 75% 0.000433906
# target 90% 0.000512582
# target 99% 0.00157
# target 99.9% 0.0043
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 10000 (100.0 %)
Response Header Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
Response Body/Total Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
All done 10000 calls (plus 4 warmup) 0.399 ms avg, 999.6 qps
Successfully wrote 4374 bytes of Json data to /data/2018-11-19-053233_http_baseline_1000qps_10s_echo_0_1.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
05:32:43 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 1000.0 qps
05:32:43 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:32:53 I periodic.go:533> T000 ended after 10.000851884s : 2500 calls. qps=249.97870471411136
05:32:53 I periodic.go:533> T002 ended after 10.001601015s : 2500 calls. qps=249.95998103209678
05:32:53 I periodic.go:533> T001 ended after 10.001850929s : 2500 calls. qps=249.95373533826043
05:32:53 I periodic.go:533> T003 ended after 10.001965783s : 2500 calls. qps=249.9508650838583
Ended after 10.002038371s : 10000 calls. qps=999.8
Sleep times : count 9996 avg 0.0030091782 +/- 0.0004344 min -0.005037666 max 0.003558577 sum 30.0797457
Aggregated Function Time : count 10000 avg 0.00072644393 +/- 0.0002956 min 0.000373045 max 0.004941007 sum 7.26443934
# range, mid point, percentile, count
>= 0.000373045 <= 0.0004 , 0.000386522 , 0.02, 2
> 0.0004 <= 0.0005 , 0.00045 , 0.28, 26
> 0.0005 <= 0.0006 , 0.00055 , 16.36, 1608
> 0.0006 <= 0.0007 , 0.00065 , 61.22, 4486
> 0.0007 <= 0.0008 , 0.00075 , 85.94, 2472
> 0.0008 <= 0.0009 , 0.00085 , 94.06, 812
> 0.0009 <= 0.001 , 0.00095 , 96.31, 225
> 0.001 <= 0.0011 , 0.00105 , 96.78, 47
> 0.0011 <= 0.0012 , 0.00115 , 97.02, 24
> 0.0012 <= 0.0014 , 0.0013 , 97.51, 49
> 0.0014 <= 0.0016 , 0.0015 , 98.21, 70
> 0.0016 <= 0.0018 , 0.0017 , 98.54, 33
> 0.0018 <= 0.002 , 0.0019 , 98.95, 41
> 0.002 <= 0.0025 , 0.00225 , 99.29, 34
> 0.0025 <= 0.003 , 0.00275 , 99.56, 27
> 0.003 <= 0.0035 , 0.00325 , 99.76, 20
> 0.0035 <= 0.004 , 0.00375 , 99.77, 1
> 0.004 <= 0.0045 , 0.00425 , 99.93, 16
> 0.0045 <= 0.00494101 , 0.0047205 , 100.00, 7
# target 50% 0.000674989
# target 75% 0.000755744
# target 90% 0.00085
# target 99% 0.00207353
# target 99.9% 0.00440625
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 10000 (100.0 %)
Response Header Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
Response Body/Total Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
All done 10000 calls (plus 4 warmup) 0.726 ms avg, 999.8 qps
Successfully wrote 3898 bytes of Json data to /data/2018-11-19-053243_http_linkerd_1000qps_10s_echo_0_1.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
05:32:54 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 1000.0 qps
05:32:54 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:33:04 W periodic.go:487> T003 warning only did 2498 out of 2500 calls before reaching 10s
05:33:04 I periodic.go:533> T003 ended after 10.007038831s : 2498 calls. qps=249.62429367833042
05:33:04 W periodic.go:487> T002 warning only did 2498 out of 2500 calls before reaching 10s
05:33:04 I periodic.go:533> T002 ended after 10.009555094s : 2498 calls. qps=249.56154160112166
05:33:04 W periodic.go:487> T001 warning only did 2498 out of 2500 calls before reaching 10s
05:33:04 I periodic.go:533> T001 ended after 10.009578504s : 2498 calls. qps=249.56095793661603
05:33:04 W periodic.go:487> T000 warning only did 2498 out of 2500 calls before reaching 10s
05:33:04 I periodic.go:533> T000 ended after 10.009604022s : 2498 calls. qps=249.56032171798935
Ended after 10.009618307s : 9992 calls. qps=998.24
Sleep times : count 9992 avg 0.001971468 +/- 0.001356 min -0.010568657 max 0.003197702 sum 19.6989087
Aggregated Function Time : count 9992 avg 0.0016430795 +/- 0.0009334 min 0.000635917 max 0.014408754 sum 16.4176508
# range, mid point, percentile, count
>= 0.000635917 <= 0.0007 , 0.000667958 , 0.03, 3
> 0.0007 <= 0.0008 , 0.00075 , 0.07, 4
> 0.0008 <= 0.0009 , 0.00085 , 0.16, 9
> 0.0009 <= 0.001 , 0.00095 , 0.29, 13
> 0.001 <= 0.0011 , 0.00105 , 0.68, 39
> 0.0011 <= 0.0012 , 0.00115 , 6.03, 535
> 0.0012 <= 0.0014 , 0.0013 , 46.22, 4015
> 0.0014 <= 0.0016 , 0.0015 , 65.73, 1950
> 0.0016 <= 0.0018 , 0.0017 , 79.71, 1397
> 0.0018 <= 0.002 , 0.0019 , 88.58, 886
> 0.002 <= 0.0025 , 0.00225 , 95.41, 682
> 0.0025 <= 0.003 , 0.00275 , 96.28, 87
> 0.003 <= 0.0035 , 0.00325 , 97.64, 136
> 0.0035 <= 0.004 , 0.00375 , 98.33, 69
> 0.004 <= 0.0045 , 0.00425 , 98.85, 52
> 0.0045 <= 0.005 , 0.00475 , 99.16, 31
> 0.005 <= 0.006 , 0.0055 , 99.52, 36
> 0.006 <= 0.007 , 0.0065 , 99.60, 8
> 0.012 <= 0.014 , 0.013 , 99.92, 32
> 0.014 <= 0.0144088 , 0.0142044 , 100.00, 8
# target 50% 0.00143877
# target 75% 0.00173257
# target 90% 0.00210396
# target 99% 0.00474323
# target 99.9% 0.0138755
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 9992 (100.0 %)
Response Header Sizes : count 9992 avg 209.0003 +/- 0.01732 min 209 max 210 sum 2088331
Response Body/Total Sizes : count 9992 avg 209.0003 +/- 0.01732 min 209 max 210 sum 2088331
All done 9992 calls (plus 4 warmup) 1.643 ms avg, 998.2 qps
Successfully wrote 4275 bytes of Json data to /data/2018-11-19-053254_http_istio_1000qps_10s_echo_0_1.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
05:33:04 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:33:14 I periodic.go:533> T002 ended after 10.000833601s : 2500 calls. qps=249.97916171208178
05:33:14 I periodic.go:533> T001 ended after 10.001527338s : 2500 calls. qps=249.9618223810128
05:33:14 I periodic.go:533> T003 ended after 10.003659895s : 2500 calls. qps=249.90853609982707
05:33:14 I periodic.go:533> T000 ended after 10.003697092s : 2500 calls. qps=249.90760685859442
Ended after 10.003731918s : 10000 calls. qps=999.63
Sleep times : count 9996 avg 0.0029627736 +/- 0.000454 min -0.003051415 max 0.003559893 sum 29.6158854
Aggregated Function Time : count 10000 avg 0.0007432727 +/- 0.0003518 min 0.000251751 max 0.006837917 sum 7.43272701
# range, mid point, percentile, count
>= 0.000251751 <= 0.0003 , 0.000275876 , 0.03, 3
> 0.0003 <= 0.0004 , 0.00035 , 0.29, 26
> 0.0004 <= 0.0005 , 0.00045 , 2.71, 242
> 0.0005 <= 0.0006 , 0.00055 , 18.26, 1555
> 0.0006 <= 0.0007 , 0.00065 , 55.96, 3770
> 0.0007 <= 0.0008 , 0.00075 , 80.65, 2469
> 0.0008 <= 0.0009 , 0.00085 , 91.52, 1087
> 0.0009 <= 0.001 , 0.00095 , 95.08, 356
> 0.001 <= 0.0011 , 0.00105 , 96.16, 108
> 0.0011 <= 0.0012 , 0.00115 , 96.65, 49
> 0.0012 <= 0.0014 , 0.0013 , 97.39, 74
> 0.0014 <= 0.0016 , 0.0015 , 97.71, 32
> 0.0016 <= 0.0018 , 0.0017 , 98.37, 66
> 0.0018 <= 0.002 , 0.0019 , 99.00, 63
> 0.002 <= 0.0025 , 0.00225 , 99.29, 29
> 0.0025 <= 0.003 , 0.00275 , 99.43, 14
> 0.003 <= 0.0035 , 0.00325 , 99.53, 10
> 0.0035 <= 0.004 , 0.00375 , 99.67, 14
> 0.004 <= 0.0045 , 0.00425 , 99.82, 15
> 0.0045 <= 0.005 , 0.00475 , 99.92, 10
> 0.005 <= 0.006 , 0.0055 , 99.96, 4
> 0.006 <= 0.00683792 , 0.00641896 , 100.00, 4
# target 50% 0.000684191
# target 75% 0.000777116
# target 90% 0.000886017
# target 99% 0.002
# target 99.9% 0.0049
Ping SERVING : 10000
All done 10000 calls (plus 4 warmup) 0.743 ms avg, 999.6 qps
Successfully wrote 3708 bytes of Json data to /data/2018-11-19-053304_grpc_baseline_1000qps_10s_echo_0_1.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
05:33:14 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:33:24 I periodic.go:533> T002 ended after 10.001242704s : 2500 calls. qps=249.96893626030337
05:33:24 I periodic.go:533> T003 ended after 10.001937676s : 2500 calls. qps=249.95156748465223
05:33:24 I periodic.go:533> T000 ended after 10.002195957s : 2500 calls. qps=249.9451131279211
05:33:24 I periodic.go:533> T001 ended after 10.002275427s : 2500 calls. qps=249.94312726597545
Ended after 10.002336034s : 10000 calls. qps=999.77
Sleep times : count 9996 avg 0.0024077444 +/- 0.001599 min -0.032360024 max 0.003347143 sum 24.0678125
Aggregated Function Time : count 10000 avg 0.0012123295 +/- 0.0008265 min 0.000547684 max 0.036151411 sum 12.1232947
# range, mid point, percentile, count
>= 0.000547684 <= 0.0006 , 0.000573842 , 0.02, 2
> 0.0006 <= 0.0007 , 0.00065 , 0.05, 3
> 0.0007 <= 0.0008 , 0.00075 , 0.36, 31
> 0.0008 <= 0.0009 , 0.00085 , 3.24, 288
> 0.0009 <= 0.001 , 0.00095 , 17.92, 1468
> 0.001 <= 0.0011 , 0.00105 , 43.97, 2605
> 0.0011 <= 0.0012 , 0.00115 , 69.21, 2524
> 0.0012 <= 0.0014 , 0.0013 , 91.02, 2181
> 0.0014 <= 0.0016 , 0.0015 , 95.40, 438
> 0.0016 <= 0.0018 , 0.0017 , 96.55, 115
> 0.0018 <= 0.002 , 0.0019 , 97.36, 81
> 0.002 <= 0.0025 , 0.00225 , 98.22, 86
> 0.0025 <= 0.003 , 0.00275 , 98.75, 53
> 0.003 <= 0.0035 , 0.00325 , 98.96, 21
> 0.0035 <= 0.004 , 0.00375 , 99.08, 12
> 0.004 <= 0.0045 , 0.00425 , 99.26, 18
> 0.0045 <= 0.005 , 0.00475 , 99.49, 23
> 0.005 <= 0.006 , 0.0055 , 99.92, 43
> 0.006 <= 0.007 , 0.0065 , 99.96, 4
> 0.035 <= 0.0361514 , 0.0355757 , 100.00, 4
# target 50% 0.00112389
# target 75% 0.00125309
# target 90% 0.00139065
# target 99% 0.00366667
# target 99.9% 0.00595349
Ping SERVING : 10000
All done 10000 calls (plus 4 warmup) 1.212 ms avg, 999.8 qps
Successfully wrote 3463 bytes of Json data to /data/2018-11-19-053314_grpc_linkerd_1000qps_10s_echo_0_1.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8079
05:33:24 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:33:34 W periodic.go:487> T003 warning only did 2498 out of 2500 calls before reaching 10s
05:33:34 I periodic.go:533> T003 ended after 10.012110743s : 2498 calls. qps=249.49783957858088
05:33:34 W periodic.go:487> T001 warning only did 2498 out of 2500 calls before reaching 10s
05:33:34 I periodic.go:533> T001 ended after 10.012153074s : 2498 calls. qps=249.49678471126418
05:33:34 W periodic.go:487> T002 warning only did 2498 out of 2500 calls before reaching 10s
05:33:34 I periodic.go:533> T002 ended after 10.012166238s : 2498 calls. qps=249.4964566727962
05:33:34 I periodic.go:533> T000 ended after 10.013727019s : 2500 calls. qps=249.65729495686386
Ended after 10.013761506s : 9994 calls. qps=998.03
Sleep times : count 9993 avg 0.0016173597 +/- 0.001583 min -0.015990848 max 0.003227352 sum 16.1622756
Aggregated Function Time : count 9994 avg 0.0019500969 +/- 0.001123 min 0.000560618 max 0.019837252 sum 19.4892688
# range, mid point, percentile, count
>= 0.000560618 <= 0.0006 , 0.000580309 , 0.04, 4
> 0.0006 <= 0.0007 , 0.00065 , 0.18, 14
> 0.0007 <= 0.0008 , 0.00075 , 0.43, 25
> 0.0008 <= 0.0009 , 0.00085 , 1.19, 76
> 0.0009 <= 0.001 , 0.00095 , 6.11, 492
> 0.001 <= 0.0011 , 0.00105 , 11.17, 505
> 0.0011 <= 0.0012 , 0.00115 , 13.69, 252
> 0.0012 <= 0.0014 , 0.0013 , 16.83, 314
> 0.0014 <= 0.0016 , 0.0015 , 29.85, 1301
> 0.0016 <= 0.0018 , 0.0017 , 53.35, 2349
> 0.0018 <= 0.002 , 0.0019 , 66.30, 1294
> 0.002 <= 0.0025 , 0.00225 , 87.99, 2168
> 0.0025 <= 0.003 , 0.00275 , 94.79, 679
> 0.003 <= 0.0035 , 0.00325 , 96.05, 126
> 0.0035 <= 0.004 , 0.00375 , 97.54, 149
> 0.004 <= 0.0045 , 0.00425 , 98.24, 70
> 0.0045 <= 0.005 , 0.00475 , 98.66, 42
> 0.005 <= 0.006 , 0.0055 , 99.31, 65
> 0.006 <= 0.007 , 0.0065 , 99.53, 22
> 0.007 <= 0.008 , 0.0075 , 99.60, 7
> 0.01 <= 0.012 , 0.011 , 99.61, 1
> 0.012 <= 0.014 , 0.013 , 99.72, 11
> 0.014 <= 0.016 , 0.015 , 99.82, 10
> 0.016 <= 0.018 , 0.017 , 99.97, 15
> 0.018 <= 0.0198373 , 0.0189186 , 100.00, 3
# target 50% 0.00177148
# target 75% 0.00220053
# target 90% 0.00264772
# target 99% 0.005524
# target 99.9% 0.0170675
Ping SERVING : 9994
All done 9994 calls (plus 4 warmup) 1.950 ms avg, 998.0 qps
Successfully wrote 4332 bytes of Json data to /data/2018-11-19-053324_grpc_istio_1000qps_10s_echo_0_1.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
05:33:34 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 1000.0 qps
05:33:34 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:33:44 I periodic.go:533> T000 ended after 10.000559272s : 2500 calls. qps=249.9860189819192
05:33:44 I periodic.go:533> T002 ended after 10.001031193s : 2500 calls. qps=249.97422283312343
05:33:44 I periodic.go:533> T003 ended after 10.003334565s : 2500 calls. qps=249.91666366404291
05:33:44 I periodic.go:533> T001 ended after 10.003384358s : 2500 calls. qps=249.91541967500996
Ended after 10.003398467s : 10000 calls. qps=999.66
Sleep times : count 9996 avg 0.0033049328 +/- 0.0004157 min -0.001226435 max 0.003701264 sum 33.0361079
Aggregated Function Time : count 10000 avg 0.00040713483 +/- 0.0003034 min 8.488e-05 max 0.005093105 sum 4.07134826
# range, mid point, percentile, count
>= 8.488e-05 <= 0.0001 , 9.244e-05 , 0.01, 1
> 0.0001 <= 0.0002 , 0.00015 , 1.02, 101
> 0.0002 <= 0.0003 , 0.00025 , 24.41, 2339
> 0.0003 <= 0.0004 , 0.00035 , 66.69, 4228
> 0.0004 <= 0.0005 , 0.00045 , 89.11, 2242
> 0.0005 <= 0.0006 , 0.00055 , 94.77, 566
> 0.0006 <= 0.0007 , 0.00065 , 96.22, 145
> 0.0007 <= 0.0008 , 0.00075 , 96.67, 45
> 0.0008 <= 0.0009 , 0.00085 , 97.09, 42
> 0.0009 <= 0.001 , 0.00095 , 97.55, 46
> 0.001 <= 0.0011 , 0.00105 , 97.72, 17
> 0.0011 <= 0.0012 , 0.00115 , 98.09, 37
> 0.0012 <= 0.0014 , 0.0013 , 98.77, 68
> 0.0014 <= 0.0016 , 0.0015 , 98.92, 15
> 0.0016 <= 0.0018 , 0.0017 , 99.00, 8
> 0.0018 <= 0.002 , 0.0019 , 99.22, 22
> 0.002 <= 0.0025 , 0.00225 , 99.45, 23
> 0.0025 <= 0.003 , 0.00275 , 99.61, 16
> 0.003 <= 0.0035 , 0.00325 , 99.79, 18
> 0.0035 <= 0.004 , 0.00375 , 99.91, 12
> 0.0045 <= 0.005 , 0.00475 , 99.95, 4
> 0.005 <= 0.0050931 , 0.00504655 , 100.00, 5
# target 50% 0.000360525
# target 75% 0.000437065
# target 90% 0.000515724
# target 99% 0.0018
# target 99.9% 0.00395833
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 10000 (100.0 %)
Response Header Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
Response Body/Total Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
All done 10000 calls (plus 4 warmup) 0.407 ms avg, 999.7 qps
Successfully wrote 4246 bytes of Json data to /data/2018-11-19-053334_http_baseline_1000qps_10s_echo_1_1.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
05:33:44 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 1000.0 qps
05:33:44 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:33:54 I periodic.go:533> T001 ended after 10.001018744s : 2500 calls. qps=249.97453399433405
05:33:54 I periodic.go:533> T000 ended after 10.00160477s : 2500 calls. qps=249.95988718718385
05:33:54 I periodic.go:533> T002 ended after 10.004092296s : 2500 calls. qps=249.8977344500901
05:33:54 I periodic.go:533> T003 ended after 10.004141826s : 2500 calls. qps=249.89649721905093
Ended after 10.004156941s : 10000 calls. qps=999.58
Sleep times : count 9996 avg 0.0029696877 +/- 0.0004372 min -0.002955139 max 0.003376494 sum 29.6849986
Aggregated Function Time : count 10000 avg 0.00076981104 +/- 0.000351 min 0.000399441 max 0.006007237 sum 7.69811041
# range, mid point, percentile, count
>= 0.000399441 <= 0.0004 , 0.000399721 , 0.01, 1
> 0.0004 <= 0.0005 , 0.00045 , 0.13, 12
> 0.0005 <= 0.0006 , 0.00055 , 6.16, 603
> 0.0006 <= 0.0007 , 0.00065 , 44.75, 3859
> 0.0007 <= 0.0008 , 0.00075 , 78.98, 3423
> 0.0008 <= 0.0009 , 0.00085 , 91.89, 1291
> 0.0009 <= 0.001 , 0.00095 , 95.87, 398
> 0.001 <= 0.0011 , 0.00105 , 96.74, 87
> 0.0011 <= 0.0012 , 0.00115 , 97.17, 43
> 0.0012 <= 0.0014 , 0.0013 , 97.46, 29
> 0.0014 <= 0.0016 , 0.0015 , 97.90, 44
> 0.0016 <= 0.0018 , 0.0017 , 98.29, 39
> 0.0018 <= 0.002 , 0.0019 , 98.67, 38
> 0.002 <= 0.0025 , 0.00225 , 99.21, 54
> 0.0025 <= 0.003 , 0.00275 , 99.46, 25
> 0.003 <= 0.0035 , 0.00325 , 99.58, 12
> 0.0035 <= 0.004 , 0.00375 , 99.63, 5
> 0.004 <= 0.0045 , 0.00425 , 99.70, 7
> 0.0045 <= 0.005 , 0.00475 , 99.84, 14
> 0.005 <= 0.006 , 0.0055 , 99.99, 15
> 0.006 <= 0.00600724 , 0.00600362 , 100.00, 1
# target 50% 0.000715337
# target 75% 0.000788373
# target 90% 0.00088536
# target 99% 0.00230556
# target 99.9% 0.0054
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 10000 (100.0 %)
Response Header Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
Response Body/Total Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
All done 10000 calls (plus 4 warmup) 0.770 ms avg, 999.6 qps
Successfully wrote 4115 bytes of Json data to /data/2018-11-19-053344_http_linkerd_1000qps_10s_echo_1_1.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
05:33:54 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 1000.0 qps
05:33:54 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:34:04 W periodic.go:487> T000 warning only did 2498 out of 2500 calls before reaching 10s
05:34:04 I periodic.go:533> T000 ended after 10.005892681s : 2498 calls. qps=249.65288751731313
05:34:04 W periodic.go:487> T003 warning only did 2498 out of 2500 calls before reaching 10s
05:34:04 I periodic.go:533> T003 ended after 10.008026838s : 2498 calls. qps=249.59965040413496
05:34:04 W periodic.go:487> T002 warning only did 2498 out of 2500 calls before reaching 10s
05:34:04 I periodic.go:533> T002 ended after 10.008046473s : 2498 calls. qps=249.59916070925303
05:34:04 W periodic.go:487> T001 warning only did 2498 out of 2500 calls before reaching 10s
05:34:04 I periodic.go:533> T001 ended after 10.008083739s : 2498 calls. qps=249.5982313043274
Ended after 10.008097168s : 9992 calls. qps=998.39
Sleep times : count 9992 avg 0.001903436 +/- 0.001425 min -0.014355916 max 0.003218277 sum 19.0191326
Aggregated Function Time : count 9992 avg 0.0017077504 +/- 0.0009964 min 0.000585352 max 0.018174259 sum 17.0638423
# range, mid point, percentile, count
>= 0.000585352 <= 0.0006 , 0.000592676 , 0.02, 2
> 0.0006 <= 0.0007 , 0.00065 , 0.03, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.06, 3
> 0.0008 <= 0.0009 , 0.00085 , 0.10, 4
> 0.0009 <= 0.001 , 0.00095 , 0.26, 16
> 0.001 <= 0.0011 , 0.00105 , 0.64, 38
> 0.0011 <= 0.0012 , 0.00115 , 3.27, 263
> 0.0012 <= 0.0014 , 0.0013 , 40.95, 3765
> 0.0014 <= 0.0016 , 0.0015 , 62.07, 2110
> 0.0016 <= 0.0018 , 0.0017 , 73.79, 1171
> 0.0018 <= 0.002 , 0.0019 , 84.21, 1041
> 0.002 <= 0.0025 , 0.00225 , 95.25, 1103
> 0.0025 <= 0.003 , 0.00275 , 96.07, 82
> 0.003 <= 0.0035 , 0.00325 , 96.91, 84
> 0.0035 <= 0.004 , 0.00375 , 97.87, 96
> 0.004 <= 0.0045 , 0.00425 , 98.53, 66
> 0.0045 <= 0.005 , 0.00475 , 98.72, 19
> 0.005 <= 0.006 , 0.0055 , 99.40, 68
> 0.006 <= 0.007 , 0.0065 , 99.57, 17
> 0.007 <= 0.008 , 0.0075 , 99.60, 3
> 0.01 <= 0.012 , 0.011 , 99.65, 5
> 0.012 <= 0.014 , 0.013 , 99.89, 24
> 0.014 <= 0.016 , 0.015 , 99.92, 3
> 0.016 <= 0.018 , 0.017 , 99.96, 4
> 0.018 <= 0.0181743 , 0.0180871 , 100.00, 4
# target 50% 0.00148569
# target 75% 0.00182325
# target 90% 0.00226238
# target 99% 0.00541294
# target 99.9% 0.014672
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 9992 (100.0 %)
Response Header Sizes : count 9992 avg 209 +/- 0 min 209 max 209 sum 2088328
Response Body/Total Sizes : count 9992 avg 209 +/- 0 min 209 max 209 sum 2088328
All done 9992 calls (plus 4 warmup) 1.708 ms avg, 998.4 qps
Successfully wrote 4870 bytes of Json data to /data/2018-11-19-053354_http_istio_1000qps_10s_echo_1_1.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
05:34:04 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:34:14 I periodic.go:533> T003 ended after 10.000826451s : 2500 calls. qps=249.97934043241202
05:34:14 I periodic.go:533> T002 ended after 10.003537854s : 2500 calls. qps=249.91158492996092
05:34:14 I periodic.go:533> T001 ended after 10.003626194s : 2500 calls. qps=249.90937801129115
05:34:14 I periodic.go:533> T000 ended after 10.003656715s : 2500 calls. qps=249.90861554169194
Ended after 10.003670469s : 10000 calls. qps=999.63
Sleep times : count 9996 avg 0.0029610912 +/- 0.0004628 min -0.001960895 max 0.003506612 sum 29.5990673
Aggregated Function Time : count 10000 avg 0.00074845715 +/- 0.00037 min 0.000294394 max 0.005722714 sum 7.48457154
# range, mid point, percentile, count
>= 0.000294394 <= 0.0003 , 0.000297197 , 0.02, 2
> 0.0003 <= 0.0004 , 0.00035 , 0.22, 20
> 0.0004 <= 0.0005 , 0.00045 , 2.38, 216
> 0.0005 <= 0.0006 , 0.00055 , 17.30, 1492
> 0.0006 <= 0.0007 , 0.00065 , 54.50, 3720
> 0.0007 <= 0.0008 , 0.00075 , 80.90, 2640
> 0.0008 <= 0.0009 , 0.00085 , 92.35, 1145
> 0.0009 <= 0.001 , 0.00095 , 95.59, 324
> 0.001 <= 0.0011 , 0.00105 , 96.38, 79
> 0.0011 <= 0.0012 , 0.00115 , 96.63, 25
> 0.0012 <= 0.0014 , 0.0013 , 97.08, 45
> 0.0014 <= 0.0016 , 0.0015 , 97.62, 54
> 0.0016 <= 0.0018 , 0.0017 , 98.10, 48
> 0.0018 <= 0.002 , 0.0019 , 98.70, 60
> 0.002 <= 0.0025 , 0.00225 , 99.24, 54
> 0.0025 <= 0.003 , 0.00275 , 99.33, 9
> 0.003 <= 0.0035 , 0.00325 , 99.44, 11
> 0.0035 <= 0.004 , 0.00375 , 99.48, 4
> 0.004 <= 0.0045 , 0.00425 , 99.70, 22
> 0.0045 <= 0.005 , 0.00475 , 99.91, 21
> 0.005 <= 0.00572271 , 0.00536136 , 100.00, 9
# target 50% 0.000687903
# target 75% 0.000777652
# target 90% 0.000879476
# target 99% 0.00227778
# target 99.9% 0.00497619
Ping SERVING : 10000
All done 10000 calls (plus 4 warmup) 0.748 ms avg, 999.6 qps
Successfully wrote 3609 bytes of Json data to /data/2018-11-19-053404_grpc_baseline_1000qps_10s_echo_1_1.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
05:34:14 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:34:24 I periodic.go:533> T003 ended after 10.001145301s : 2500 calls. qps=249.97137075391043
05:34:24 I periodic.go:533> T000 ended after 10.001802521s : 2500 calls. qps=249.954945096241
05:34:24 I periodic.go:533> T001 ended after 10.002256022s : 2500 calls. qps=249.94361217121823
05:34:24 I periodic.go:533> T002 ended after 10.002337268s : 2500 calls. qps=249.941581953863
Ended after 10.002373694s : 10000 calls. qps=999.76
Sleep times : count 9996 avg 0.002465091 +/- 0.001762 min -0.03476691 max 0.003121883 sum 24.6410495
Aggregated Function Time : count 10000 avg 0.0011444758 +/- 0.0008711 min 0.000626815 max 0.038563193 sum 11.4447579
# range, mid point, percentile, count
>= 0.000626815 <= 0.0007 , 0.000663407 , 0.11, 11
> 0.0007 <= 0.0008 , 0.00075 , 1.67, 156
> 0.0008 <= 0.0009 , 0.00085 , 11.23, 956
> 0.0009 <= 0.001 , 0.00095 , 33.52, 2229
> 0.001 <= 0.0011 , 0.00105 , 61.95, 2843
> 0.0011 <= 0.0012 , 0.00115 , 81.49, 1954
> 0.0012 <= 0.0014 , 0.0013 , 93.81, 1232
> 0.0014 <= 0.0016 , 0.0015 , 95.90, 209
> 0.0016 <= 0.0018 , 0.0017 , 96.68, 78
> 0.0018 <= 0.002 , 0.0019 , 97.46, 78
> 0.002 <= 0.0025 , 0.00225 , 98.51, 105
> 0.0025 <= 0.003 , 0.00275 , 98.83, 32
> 0.003 <= 0.0035 , 0.00325 , 99.08, 25
> 0.0035 <= 0.004 , 0.00375 , 99.16, 8
> 0.004 <= 0.0045 , 0.00425 , 99.34, 18
> 0.0045 <= 0.005 , 0.00475 , 99.58, 24
> 0.005 <= 0.006 , 0.0055 , 99.84, 26
> 0.006 <= 0.007 , 0.0065 , 99.92, 8
> 0.007 <= 0.008 , 0.0075 , 99.96, 4
> 0.035 <= 0.0385632 , 0.0367816 , 100.00, 4
# target 50% 0.00105797
# target 75% 0.00116679
# target 90% 0.00133815
# target 99% 0.00334
# target 99.9% 0.00675
Ping SERVING : 10000
All done 10000 calls (plus 4 warmup) 1.144 ms avg, 999.8 qps
Successfully wrote 3436 bytes of Json data to /data/2018-11-19-053414_grpc_linkerd_1000qps_10s_echo_1_1.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8079
05:34:24 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:34:34 W periodic.go:487> T001 warning only did 2498 out of 2500 calls before reaching 10s
05:34:34 I periodic.go:533> T001 ended after 10.013642303s : 2498 calls. qps=249.45967954653435
05:34:34 W periodic.go:487> T003 warning only did 2498 out of 2500 calls before reaching 10s
05:34:34 I periodic.go:533> T003 ended after 10.013672659s : 2498 calls. qps=249.45892332069292
05:34:34 W periodic.go:487> T000 warning only did 2498 out of 2500 calls before reaching 10s
05:34:34 I periodic.go:533> T000 ended after 10.013681219s : 2498 calls. qps=249.4587100755998
05:34:34 I periodic.go:533> T002 ended after 10.015149322s : 2500 calls. qps=249.62183983700768
Ended after 10.015187216s : 9994 calls. qps=997.88
Sleep times : count 9993 avg 0.0015275824 +/- 0.002398 min -0.032531769 max 0.003283586 sum 15.2651312
Aggregated Function Time : count 9994 avg 0.0019153955 +/- 0.001316 min 0.000563734 max 0.036395932 sum 19.1424629
# range, mid point, percentile, count
>= 0.000563734 <= 0.0006 , 0.000581867 , 0.03, 3
> 0.0006 <= 0.0007 , 0.00065 , 0.16, 13
> 0.0007 <= 0.0008 , 0.00075 , 0.38, 22
> 0.0008 <= 0.0009 , 0.00085 , 1.19, 81
> 0.0009 <= 0.001 , 0.00095 , 6.13, 494
> 0.001 <= 0.0011 , 0.00105 , 11.75, 561
> 0.0011 <= 0.0012 , 0.00115 , 14.71, 296
> 0.0012 <= 0.0014 , 0.0013 , 18.36, 365
> 0.0014 <= 0.0016 , 0.0015 , 30.24, 1187
> 0.0016 <= 0.0018 , 0.0017 , 56.51, 2626
> 0.0018 <= 0.002 , 0.0019 , 70.53, 1401
> 0.002 <= 0.0025 , 0.00225 , 91.20, 2066
> 0.0025 <= 0.003 , 0.00275 , 95.92, 471
> 0.003 <= 0.0035 , 0.00325 , 96.57, 65
> 0.0035 <= 0.004 , 0.00375 , 97.42, 85
> 0.004 <= 0.0045 , 0.00425 , 98.10, 68
> 0.0045 <= 0.005 , 0.00475 , 98.72, 62
> 0.005 <= 0.006 , 0.0055 , 99.24, 52
> 0.006 <= 0.007 , 0.0065 , 99.46, 22
> 0.007 <= 0.008 , 0.0075 , 99.47, 1
> 0.008 <= 0.009 , 0.0085 , 99.50, 3
> 0.009 <= 0.01 , 0.0095 , 99.51, 1
> 0.01 <= 0.012 , 0.011 , 99.55, 4
> 0.012 <= 0.014 , 0.013 , 99.63, 8
> 0.014 <= 0.016 , 0.015 , 99.86, 23
> 0.016 <= 0.018 , 0.017 , 99.93, 7
> 0.018 <= 0.02 , 0.019 , 99.96, 3
> 0.035 <= 0.0363959 , 0.035698 , 100.00, 4
# target 50% 0.00175042
# target 75% 0.00210806
# target 90% 0.00247086
# target 99% 0.00553962
# target 99.9% 0.0171446
Ping SERVING : 9994
All done 9994 calls (plus 4 warmup) 1.915 ms avg, 997.9 qps
Successfully wrote 4716 bytes of Json data to /data/2018-11-19-053424_grpc_istio_1000qps_10s_echo_1_1.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
05:34:34 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 1000.0 qps
05:34:34 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:34:44 I periodic.go:533> T001 ended after 10.000669126s : 2500 calls. qps=249.98327296924913
05:34:44 I periodic.go:533> T003 ended after 10.00083135s : 2500 calls. qps=249.9792179777134
05:34:44 I periodic.go:533> T002 ended after 10.000844585s : 2500 calls. qps=249.97888715815895
05:34:44 I periodic.go:533> T000 ended after 10.000854348s : 2500 calls. qps=249.97864312462036
Ended after 10.000867088s : 10000 calls. qps=999.91
Sleep times : count 9996 avg 0.0033335181 +/- 0.0003634 min -0.000634051 max 0.003740943 sum 33.3218465
Aggregated Function Time : count 10000 avg 0.00039098777 +/- 0.0002514 min 8.0607e-05 max 0.004454294 sum 3.90987765
# range, mid point, percentile, count
>= 8.0607e-05 <= 0.0001 , 9.03035e-05 , 0.02, 2
> 0.0001 <= 0.0002 , 0.00015 , 1.42, 140
> 0.0002 <= 0.0003 , 0.00025 , 27.03, 2561
> 0.0003 <= 0.0004 , 0.00035 , 69.34, 4231
> 0.0004 <= 0.0005 , 0.00045 , 90.63, 2129
> 0.0005 <= 0.0006 , 0.00055 , 95.73, 510
> 0.0006 <= 0.0007 , 0.00065 , 96.84, 111
> 0.0007 <= 0.0008 , 0.00075 , 97.16, 32
> 0.0008 <= 0.0009 , 0.00085 , 97.56, 40
> 0.0009 <= 0.001 , 0.00095 , 97.86, 30
> 0.001 <= 0.0011 , 0.00105 , 98.09, 23
> 0.0011 <= 0.0012 , 0.00115 , 98.32, 23
> 0.0012 <= 0.0014 , 0.0013 , 98.99, 67
> 0.0014 <= 0.0016 , 0.0015 , 99.11, 12
> 0.0016 <= 0.0018 , 0.0017 , 99.36, 25
> 0.0018 <= 0.002 , 0.0019 , 99.60, 24
> 0.002 <= 0.0025 , 0.00225 , 99.63, 3
> 0.0025 <= 0.003 , 0.00275 , 99.79, 16
> 0.003 <= 0.0035 , 0.00325 , 99.91, 12
> 0.0035 <= 0.004 , 0.00375 , 99.92, 1
> 0.004 <= 0.00445429 , 0.00422715 , 100.00, 8
# target 50% 0.00035429
# target 75% 0.000426585
# target 90% 0.000497041
# target 99% 0.00141667
# target 99.9% 0.00345833
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 10000 (100.0 %)
Response Header Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
Response Body/Total Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
All done 10000 calls (plus 4 warmup) 0.391 ms avg, 999.9 qps
Successfully wrote 4127 bytes of Json data to /data/2018-11-19-053434_http_baseline_1000qps_10s_echo_0_2.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
05:34:44 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 1000.0 qps
05:34:44 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:34:54 I periodic.go:533> T003 ended after 10.000904874s : 2500 calls. qps=249.9773801968072
05:34:54 I periodic.go:533> T001 ended after 10.001737117s : 2500 calls. qps=249.95657961762845
05:34:54 I periodic.go:533> T002 ended after 10.001920012s : 2500 calls. qps=249.95200891434604
05:34:54 I periodic.go:533> T000 ended after 10.00200118s : 2500 calls. qps=249.94998050980033
Ended after 10.002094166s : 10000 calls. qps=999.79
Sleep times : count 9996 avg 0.0029859413 +/- 0.0004645 min -0.003937026 max 0.003476008 sum 29.8474693
Aggregated Function Time : count 10000 avg 0.00073776256 +/- 0.000349 min 0.000342621 max 0.005527535 sum 7.37762557
# range, mid point, percentile, count
>= 0.000342621 <= 0.0004 , 0.00037131 , 0.05, 5
> 0.0004 <= 0.0005 , 0.00045 , 0.66, 61
> 0.0005 <= 0.0006 , 0.00055 , 22.73, 2207
> 0.0006 <= 0.0007 , 0.00065 , 58.56, 3583
> 0.0007 <= 0.0008 , 0.00075 , 80.24, 2168
> 0.0008 <= 0.0009 , 0.00085 , 91.14, 1090
> 0.0009 <= 0.001 , 0.00095 , 95.18, 404
> 0.001 <= 0.0011 , 0.00105 , 96.57, 139
> 0.0011 <= 0.0012 , 0.00115 , 97.03, 46
> 0.0012 <= 0.0014 , 0.0013 , 97.60, 57
> 0.0014 <= 0.0016 , 0.0015 , 98.21, 61
> 0.0016 <= 0.0018 , 0.0017 , 98.69, 48
> 0.0018 <= 0.002 , 0.0019 , 98.92, 23
> 0.002 <= 0.0025 , 0.00225 , 99.13, 21
> 0.0025 <= 0.003 , 0.00275 , 99.44, 31
> 0.003 <= 0.0035 , 0.00325 , 99.56, 12
> 0.0035 <= 0.004 , 0.00375 , 99.62, 6
> 0.004 <= 0.0045 , 0.00425 , 99.73, 11
> 0.0045 <= 0.005 , 0.00475 , 99.87, 14
> 0.005 <= 0.00552754 , 0.00526377 , 100.00, 13
# target 50% 0.000676109
# target 75% 0.00077583
# target 90% 0.000889541
# target 99% 0.00219048
# target 99.9% 0.00512174
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 10000 (100.0 %)
Response Header Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
Response Body/Total Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
All done 10000 calls (plus 4 warmup) 0.738 ms avg, 999.8 qps
Successfully wrote 4010 bytes of Json data to /data/2018-11-19-053444_http_linkerd_1000qps_10s_echo_0_2.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
05:34:54 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 1000.0 qps
05:34:54 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:35:04 W periodic.go:487> T002 warning only did 2498 out of 2500 calls before reaching 10s
05:35:04 I periodic.go:533> T002 ended after 10.006701207s : 2498 calls. qps=249.6327159496449
05:35:04 W periodic.go:487> T001 warning only did 2498 out of 2500 calls before reaching 10s
05:35:04 I periodic.go:533> T001 ended after 10.008943627s : 2498 calls. qps=249.57678783017886
05:35:04 W periodic.go:487> T000 warning only did 2498 out of 2500 calls before reaching 10s
05:35:04 I periodic.go:533> T000 ended after 10.00896236s : 2498 calls. qps=249.5763207166262
05:35:04 W periodic.go:487> T003 warning only did 2498 out of 2500 calls before reaching 10s
05:35:04 I periodic.go:533> T003 ended after 10.008997299s : 2498 calls. qps=249.5754495057737
Ended after 10.009009231s : 9992 calls. qps=998.3
Sleep times : count 9992 avg 0.0018632661 +/- 0.001676 min -0.016726534 max 0.003267675 sum 18.6177545
Aggregated Function Time : count 9992 avg 0.0017012164 +/- 0.00107 min 0.000545398 max 0.017903555 sum 16.9985543
# range, mid point, percentile, count
>= 0.000545398 <= 0.0006 , 0.000572699 , 0.01, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.04, 3
> 0.0007 <= 0.0008 , 0.00075 , 0.07, 3
> 0.0008 <= 0.0009 , 0.00085 , 0.15, 8
> 0.0009 <= 0.001 , 0.00095 , 0.28, 13
> 0.001 <= 0.0011 , 0.00105 , 0.53, 25
> 0.0011 <= 0.0012 , 0.00115 , 3.70, 317
> 0.0012 <= 0.0014 , 0.0013 , 44.31, 4057
> 0.0014 <= 0.0016 , 0.0015 , 64.27, 1995
> 0.0016 <= 0.0018 , 0.0017 , 72.82, 854
> 0.0018 <= 0.002 , 0.0019 , 84.31, 1148
> 0.002 <= 0.0025 , 0.00225 , 94.89, 1057
> 0.0025 <= 0.003 , 0.00275 , 96.06, 117
> 0.003 <= 0.0035 , 0.00325 , 96.76, 70
> 0.0035 <= 0.004 , 0.00375 , 98.00, 124
> 0.004 <= 0.0045 , 0.00425 , 98.53, 53
> 0.0045 <= 0.005 , 0.00475 , 98.83, 30
> 0.005 <= 0.006 , 0.0055 , 99.38, 55
> 0.006 <= 0.007 , 0.0065 , 99.56, 18
> 0.012 <= 0.014 , 0.013 , 99.68, 12
> 0.014 <= 0.016 , 0.015 , 99.92, 24
> 0.016 <= 0.0179036 , 0.0169518 , 100.00, 8
# target 50% 0.00145704
# target 75% 0.00183798
# target 90% 0.00226906
# target 99% 0.00531055
# target 99.9% 0.015834
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 9992 (100.0 %)
Response Header Sizes : count 9992 avg 209.0004 +/- 0.02 min 209 max 210 sum 2088332
Response Body/Total Sizes : count 9992 avg 209.0004 +/- 0.02 min 209 max 210 sum 2088332
All done 9992 calls (plus 4 warmup) 1.701 ms avg, 998.3 qps
Successfully wrote 4551 bytes of Json data to /data/2018-11-19-053454_http_istio_1000qps_10s_echo_0_2.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
05:35:04 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:35:14 I periodic.go:533> T003 ended after 10.000973731s : 2500 calls. qps=249.97565909514935
05:35:14 I periodic.go:533> T002 ended after 10.002548634s : 2500 calls. qps=249.93630038470053
05:35:14 I periodic.go:533> T000 ended after 10.002629967s : 2500 calls. qps=249.93426811226954
05:35:14 I periodic.go:533> T001 ended after 10.002698051s : 2500 calls. qps=249.93256691878923
Ended after 10.002713367s : 10000 calls. qps=999.73
Sleep times : count 9996 avg 0.0029685826 +/- 0.0005018 min -0.006909975 max 0.003505047 sum 29.6739513
Aggregated Function Time : count 10000 avg 0.00073427018 +/- 0.0003267 min 0.000234537 max 0.006038358 sum 7.34270184
# range, mid point, percentile, count
>= 0.000234537 <= 0.0003 , 0.000267269 , 0.03, 3
> 0.0003 <= 0.0004 , 0.00035 , 0.19, 16
> 0.0004 <= 0.0005 , 0.00045 , 2.51, 232
> 0.0005 <= 0.0006 , 0.00055 , 20.55, 1804
> 0.0006 <= 0.0007 , 0.00065 , 57.22, 3667
> 0.0007 <= 0.0008 , 0.00075 , 82.22, 2500
> 0.0008 <= 0.0009 , 0.00085 , 92.52, 1030
> 0.0009 <= 0.001 , 0.00095 , 95.56, 304
> 0.001 <= 0.0011 , 0.00105 , 96.46, 90
> 0.0011 <= 0.0012 , 0.00115 , 96.82, 36
> 0.0012 <= 0.0014 , 0.0013 , 97.26, 44
> 0.0014 <= 0.0016 , 0.0015 , 97.81, 55
> 0.0016 <= 0.0018 , 0.0017 , 98.32, 51
> 0.0018 <= 0.002 , 0.0019 , 98.85, 53
> 0.002 <= 0.0025 , 0.00225 , 99.30, 45
> 0.0025 <= 0.003 , 0.00275 , 99.53, 23
> 0.003 <= 0.0035 , 0.00325 , 99.64, 11
> 0.0035 <= 0.004 , 0.00375 , 99.81, 17
> 0.004 <= 0.0045 , 0.00425 , 99.89, 8
> 0.0045 <= 0.005 , 0.00475 , 99.93, 4
> 0.005 <= 0.006 , 0.0055 , 99.98, 5
> 0.006 <= 0.00603836 , 0.00601918 , 100.00, 2
# target 50% 0.000680311
# target 75% 0.00077112
# target 90% 0.000875534
# target 99% 0.00216667
# target 99.9% 0.004625
Ping SERVING : 10000
All done 10000 calls (plus 4 warmup) 0.734 ms avg, 999.7 qps
Successfully wrote 3710 bytes of Json data to /data/2018-11-19-053504_grpc_baseline_1000qps_10s_echo_0_2.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
05:35:14 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:35:24 I periodic.go:533> T001 ended after 10.000926627s : 2500 calls. qps=249.9768364713951
05:35:24 I periodic.go:533> T000 ended after 10.002009548s : 2500 calls. qps=249.94977139367953
05:35:24 I periodic.go:533> T003 ended after 10.002285699s : 2500 calls. qps=249.94287058306512
05:35:24 I periodic.go:533> T002 ended after 10.002388081s : 2500 calls. qps=249.9403122289232
Ended after 10.002463252s : 10000 calls. qps=999.75
Sleep times : count 9996 avg 0.0024603069 +/- 0.002077 min -0.040007628 max 0.00321454 sum 24.5932281
Aggregated Function Time : count 10000 avg 0.0011246125 +/- 0.0009508 min 0.000537294 max 0.043864555 sum 11.2461252
# range, mid point, percentile, count
>= 0.000537294 <= 0.0006 , 0.000568647 , 0.01, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.20, 19
> 0.0007 <= 0.0008 , 0.00075 , 2.48, 228
> 0.0008 <= 0.0009 , 0.00085 , 15.64, 1316
> 0.0009 <= 0.001 , 0.00095 , 40.61, 2497
> 0.001 <= 0.0011 , 0.00105 , 66.84, 2623
> 0.0011 <= 0.0012 , 0.00115 , 82.89, 1605
> 0.0012 <= 0.0014 , 0.0013 , 94.01, 1112
> 0.0014 <= 0.0016 , 0.0015 , 95.90, 189
> 0.0016 <= 0.0018 , 0.0017 , 96.52, 62
> 0.0018 <= 0.002 , 0.0019 , 97.19, 67
> 0.002 <= 0.0025 , 0.00225 , 98.52, 133
> 0.0025 <= 0.003 , 0.00275 , 98.80, 28
> 0.003 <= 0.0035 , 0.00325 , 99.10, 30
> 0.0035 <= 0.004 , 0.00375 , 99.33, 23
> 0.004 <= 0.0045 , 0.00425 , 99.60, 27
> 0.0045 <= 0.005 , 0.00475 , 99.80, 20
> 0.005 <= 0.006 , 0.0055 , 99.90, 10
> 0.006 <= 0.007 , 0.0065 , 99.96, 6
> 0.04 <= 0.0438646 , 0.0419323 , 100.00, 4
# target 50% 0.0010358
# target 75% 0.00115084
# target 90% 0.00132788
# target 99% 0.00333333
# target 99.9% 0.006
Ping SERVING : 10000
All done 10000 calls (plus 4 warmup) 1.125 ms avg, 999.8 qps
Successfully wrote 3446 bytes of Json data to /data/2018-11-19-053514_grpc_linkerd_1000qps_10s_echo_0_2.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8079
05:35:24 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:35:35 W periodic.go:487> T002 warning only did 2497 out of 2500 calls before reaching 10s
05:35:35 I periodic.go:533> T002 ended after 10.005163252s : 2497 calls. qps=249.57114013115756
05:35:35 W periodic.go:487> T000 warning only did 2497 out of 2500 calls before reaching 10s
05:35:35 I periodic.go:533> T000 ended after 10.007375363s : 2497 calls. qps=249.5159729125472
05:35:35 W periodic.go:487> T001 warning only did 2497 out of 2500 calls before reaching 10s
05:35:35 I periodic.go:533> T001 ended after 10.007396025s : 2497 calls. qps=249.51545774366414
05:35:35 W periodic.go:487> T003 warning only did 2498 out of 2500 calls before reaching 10s
05:35:35 I periodic.go:533> T003 ended after 10.007651677s : 2498 calls. qps=249.6090072500232
Ended after 10.007668727s : 9989 calls. qps=998.13
Sleep times : count 9989 avg 0.0014954968 +/- 0.002096 min -0.023110462 max 0.003247412 sum 14.938518
Aggregated Function Time : count 9989 avg 0.0019789906 +/- 0.001308 min 0.000586488 max 0.026967744 sum 19.7681375
# range, mid point, percentile, count
>= 0.000586488 <= 0.0006 , 0.000593244 , 0.01, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.12, 11
> 0.0007 <= 0.0008 , 0.00075 , 0.35, 23
> 0.0008 <= 0.0009 , 0.00085 , 0.99, 64
> 0.0009 <= 0.001 , 0.00095 , 4.85, 385
> 0.001 <= 0.0011 , 0.00105 , 10.24, 539
> 0.0011 <= 0.0012 , 0.00115 , 13.45, 321
> 0.0012 <= 0.0014 , 0.0013 , 17.48, 402
> 0.0014 <= 0.0016 , 0.0015 , 27.69, 1020
> 0.0016 <= 0.0018 , 0.0017 , 50.71, 2299
> 0.0018 <= 0.002 , 0.0019 , 67.02, 1630
> 0.002 <= 0.0025 , 0.00225 , 86.32, 1928
> 0.0025 <= 0.003 , 0.00275 , 95.11, 878
> 0.003 <= 0.0035 , 0.00325 , 96.18, 106
> 0.0035 <= 0.004 , 0.00375 , 97.44, 126
> 0.004 <= 0.0045 , 0.00425 , 98.20, 76
> 0.0045 <= 0.005 , 0.00475 , 98.76, 56
> 0.005 <= 0.006 , 0.0055 , 99.24, 48
> 0.006 <= 0.007 , 0.0065 , 99.47, 23
> 0.007 <= 0.008 , 0.0075 , 99.56, 9
> 0.01 <= 0.012 , 0.011 , 99.60, 4
> 0.012 <= 0.014 , 0.013 , 99.62, 2
> 0.014 <= 0.016 , 0.015 , 99.65, 3
> 0.016 <= 0.018 , 0.017 , 99.79, 14
> 0.018 <= 0.02 , 0.019 , 99.87, 8
> 0.02 <= 0.025 , 0.0225 , 99.97, 10
> 0.025 <= 0.0269677 , 0.0259839 , 100.00, 3
# target 50% 0.00179387
# target 75% 0.00220663
# target 90% 0.00270905
# target 99% 0.00550229
# target 99.9% 0.0215055
Ping SERVING : 9989
All done 9989 calls (plus 4 warmup) 1.979 ms avg, 998.1 qps
Successfully wrote 4560 bytes of Json data to /data/2018-11-19-053525_grpc_istio_1000qps_10s_echo_0_2.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
05:35:35 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 1000.0 qps
05:35:35 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:35:45 I periodic.go:533> T002 ended after 10.000576119s : 2500 calls. qps=249.98559785473495
05:35:45 I periodic.go:533> T001 ended after 10.000993187s : 2500 calls. qps=249.9751727908061
05:35:45 I periodic.go:533> T000 ended after 10.002908865s : 2500 calls. qps=249.92729952258742
05:35:45 I periodic.go:533> T003 ended after 10.002956223s : 2500 calls. qps=249.92611626667917
Ended after 10.00297146s : 10000 calls. qps=999.7
Sleep times : count 9996 avg 0.0033069875 +/- 0.0004214 min -0.000849204 max 0.003751767 sum 33.056647
Aggregated Function Time : count 10000 avg 0.00040656183 +/- 0.0002631 min 0.00010853 max 0.004548471 sum 4.06561832
# range, mid point, percentile, count
>= 0.00010853 <= 0.0002 , 0.000154265 , 1.24, 124
> 0.0002 <= 0.0003 , 0.00025 , 23.21, 2197
> 0.0003 <= 0.0004 , 0.00035 , 65.51, 4230
> 0.0004 <= 0.0005 , 0.00045 , 88.40, 2289
> 0.0005 <= 0.0006 , 0.00055 , 94.67, 627
> 0.0006 <= 0.0007 , 0.00065 , 96.10, 143
> 0.0007 <= 0.0008 , 0.00075 , 96.64, 54
> 0.0008 <= 0.0009 , 0.00085 , 97.15, 51
> 0.0009 <= 0.001 , 0.00095 , 97.56, 41
> 0.001 <= 0.0011 , 0.00105 , 97.79, 23
> 0.0011 <= 0.0012 , 0.00115 , 97.96, 17
> 0.0012 <= 0.0014 , 0.0013 , 98.54, 58
> 0.0014 <= 0.0016 , 0.0015 , 98.87, 33
> 0.0016 <= 0.0018 , 0.0017 , 99.19, 32
> 0.0018 <= 0.002 , 0.0019 , 99.49, 30
> 0.002 <= 0.0025 , 0.00225 , 99.60, 11
> 0.0025 <= 0.003 , 0.00275 , 99.83, 23
> 0.003 <= 0.0035 , 0.00325 , 99.87, 4
> 0.0035 <= 0.004 , 0.00375 , 99.95, 8
> 0.004 <= 0.0045 , 0.00425 , 99.99, 4
> 0.0045 <= 0.00454847 , 0.00452424 , 100.00, 1
# target 50% 0.000363333
# target 75% 0.000441459
# target 90% 0.000525518
# target 99% 0.00168125
# target 99.9% 0.0036875
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 10000 (100.0 %)
Response Header Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
Response Body/Total Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
All done 10000 calls (plus 4 warmup) 0.407 ms avg, 999.7 qps
Successfully wrote 4151 bytes of Json data to /data/2018-11-19-053535_http_baseline_1000qps_10s_echo_1_2.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
05:35:45 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 1000.0 qps
05:35:45 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:35:55 I periodic.go:533> T001 ended after 10.001066599s : 2500 calls. qps=249.97333786878025
05:35:55 I periodic.go:533> T003 ended after 10.001653892s : 2500 calls. qps=249.95865953726604
05:35:55 I periodic.go:533> T002 ended after 10.001768599s : 2500 calls. qps=249.9557928434733
05:35:55 I periodic.go:533> T000 ended after 10.001864787s : 2500 calls. qps=249.9533890169555
Ended after 10.001972149s : 10000 calls. qps=999.8
Sleep times : count 9996 avg 0.0028457689 +/- 0.0004731 min -0.004107898 max 0.003495277 sum 28.4463054
Aggregated Function Time : count 10000 avg 0.00082288778 +/- 0.0003533 min 0.000355637 max 0.00492428 sum 8.22887777
# range, mid point, percentile, count
>= 0.000355637 <= 0.0004 , 0.000377818 , 0.01, 1
> 0.0004 <= 0.0005 , 0.00045 , 0.25, 24
> 0.0005 <= 0.0006 , 0.00055 , 4.07, 382
> 0.0006 <= 0.0007 , 0.00065 , 29.96, 2589
> 0.0007 <= 0.0008 , 0.00075 , 61.49, 3153
> 0.0008 <= 0.0009 , 0.00085 , 81.29, 1980
> 0.0009 <= 0.001 , 0.00095 , 91.31, 1002
> 0.001 <= 0.0011 , 0.00105 , 95.01, 370
> 0.0011 <= 0.0012 , 0.00115 , 96.55, 154
> 0.0012 <= 0.0014 , 0.0013 , 97.58, 103
> 0.0014 <= 0.0016 , 0.0015 , 97.96, 38
> 0.0016 <= 0.0018 , 0.0017 , 98.51, 55
> 0.0018 <= 0.002 , 0.0019 , 98.89, 38
> 0.002 <= 0.0025 , 0.00225 , 99.04, 15
> 0.0025 <= 0.003 , 0.00275 , 99.16, 12
> 0.003 <= 0.0035 , 0.00325 , 99.38, 22
> 0.0035 <= 0.004 , 0.00375 , 99.59, 21
> 0.004 <= 0.0045 , 0.00425 , 99.76, 17
> 0.0045 <= 0.00492428 , 0.00471214 , 100.00, 24
# target 50% 0.000763559
# target 75% 0.000868232
# target 90% 0.000986926
# target 99% 0.00236667
# target 99.9% 0.0047475
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 10000 (100.0 %)
Response Header Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
Response Body/Total Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
All done 10000 calls (plus 4 warmup) 0.823 ms avg, 999.8 qps
Successfully wrote 3901 bytes of Json data to /data/2018-11-19-053545_http_linkerd_1000qps_10s_echo_1_2.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
05:35:55 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 1000.0 qps
05:35:55 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:36:05 W periodic.go:487> T002 warning only did 2498 out of 2500 calls before reaching 10s
05:36:05 I periodic.go:533> T002 ended after 10.006476165s : 2498 calls. qps=249.6383300983958
05:36:05 W periodic.go:487> T001 warning only did 2498 out of 2500 calls before reaching 10s
05:36:05 I periodic.go:533> T001 ended after 10.006509655s : 2498 calls. qps=249.63749460350667
05:36:05 W periodic.go:487> T000 warning only did 2498 out of 2500 calls before reaching 10s
05:36:05 I periodic.go:533> T000 ended after 10.006531705s : 2498 calls. qps=249.63694451213453
05:36:05 W periodic.go:487> T003 warning only did 2498 out of 2500 calls before reaching 10s
05:36:05 I periodic.go:533> T003 ended after 10.006545441s : 2498 calls. qps=249.63660183512476
Ended after 10.00655738s : 9992 calls. qps=998.55
Sleep times : count 9992 avg 0.0018110561 +/- 0.001813 min -0.013835091 max 0.003381195 sum 18.0960729
Aggregated Function Time : count 9992 avg 0.0016876319 +/- 0.001067 min 0.000542563 max 0.017714708 sum 16.8628176
# range, mid point, percentile, count
>= 0.000542563 <= 0.0006 , 0.000571282 , 0.02, 2
> 0.0006 <= 0.0007 , 0.00065 , 0.03, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.09, 6
> 0.0008 <= 0.0009 , 0.00085 , 0.25, 16
> 0.0009 <= 0.001 , 0.00095 , 0.42, 17
> 0.001 <= 0.0011 , 0.00105 , 0.73, 31
> 0.0011 <= 0.0012 , 0.00115 , 6.93, 619
> 0.0012 <= 0.0014 , 0.0013 , 51.08, 4412
> 0.0014 <= 0.0016 , 0.0015 , 67.12, 1603
> 0.0016 <= 0.0018 , 0.0017 , 76.80, 967
> 0.0018 <= 0.002 , 0.0019 , 86.17, 936
> 0.002 <= 0.0025 , 0.00225 , 93.59, 742
> 0.0025 <= 0.003 , 0.00275 , 94.67, 107
> 0.003 <= 0.0035 , 0.00325 , 95.98, 131
> 0.0035 <= 0.004 , 0.00375 , 97.03, 105
> 0.004 <= 0.0045 , 0.00425 , 97.76, 73
> 0.0045 <= 0.005 , 0.00475 , 98.77, 101
> 0.005 <= 0.006 , 0.0055 , 99.32, 55
> 0.006 <= 0.007 , 0.0065 , 99.56, 24
> 0.009 <= 0.01 , 0.0095 , 99.60, 4
> 0.012 <= 0.014 , 0.013 , 99.84, 24
> 0.014 <= 0.016 , 0.015 , 99.92, 8
> 0.016 <= 0.0177147 , 0.0168574 , 100.00, 8
# target 50% 0.0013951
# target 75% 0.00176277
# target 90% 0.00225795
# target 99% 0.00541964
# target 99.9% 0.015502
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 9992 (100.0 %)
Response Header Sizes : count 9992 avg 209 +/- 0 min 209 max 209 sum 2088328
Response Body/Total Sizes : count 9992 avg 209 +/- 0 min 209 max 209 sum 2088328
All done 9992 calls (plus 4 warmup) 1.688 ms avg, 998.5 qps
Successfully wrote 4618 bytes of Json data to /data/2018-11-19-053555_http_istio_1000qps_10s_echo_1_2.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
05:36:05 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:36:15 I periodic.go:533> T002 ended after 10.000950416s : 2500 calls. qps=249.97624185801183
05:36:15 I periodic.go:533> T003 ended after 10.001549171s : 2500 calls. qps=249.9612767238976
05:36:15 I periodic.go:533> T001 ended after 10.004466598s : 2500 calls. qps=249.88838490397646
05:36:15 I periodic.go:533> T000 ended after 10.004505027s : 2500 calls. qps=249.88742504032328
Ended after 10.004542267s : 10000 calls. qps=999.55
Sleep times : count 9996 avg 0.0029788414 +/- 0.0004339 min -0.001586108 max 0.003501402 sum 29.7764984
Aggregated Function Time : count 10000 avg 0.00073502911 +/- 0.0003407 min 0.00026441 max 0.005367549 sum 7.35029106
# range, mid point, percentile, count
>= 0.00026441 <= 0.0003 , 0.000282205 , 0.02, 2
> 0.0003 <= 0.0004 , 0.00035 , 0.17, 15
> 0.0004 <= 0.0005 , 0.00045 , 2.90, 273
> 0.0005 <= 0.0006 , 0.00055 , 21.48, 1858
> 0.0006 <= 0.0007 , 0.00065 , 55.99, 3451
> 0.0007 <= 0.0008 , 0.00075 , 82.26, 2627
> 0.0008 <= 0.0009 , 0.00085 , 93.18, 1092
> 0.0009 <= 0.001 , 0.00095 , 95.80, 262
> 0.001 <= 0.0011 , 0.00105 , 96.74, 94
> 0.0011 <= 0.0012 , 0.00115 , 97.02, 28
> 0.0012 <= 0.0014 , 0.0013 , 97.35, 33
> 0.0014 <= 0.0016 , 0.0015 , 97.80, 45
> 0.0016 <= 0.0018 , 0.0017 , 98.30, 50
> 0.0018 <= 0.002 , 0.0019 , 98.86, 56
> 0.002 <= 0.0025 , 0.00225 , 99.25, 39
> 0.0025 <= 0.003 , 0.00275 , 99.33, 8
> 0.003 <= 0.0035 , 0.00325 , 99.48, 15
> 0.0035 <= 0.004 , 0.00375 , 99.70, 22
> 0.004 <= 0.0045 , 0.00425 , 99.84, 14
> 0.0045 <= 0.005 , 0.00475 , 99.97, 13
> 0.005 <= 0.00536755 , 0.00518377 , 100.00, 3
# target 50% 0.000682643
# target 75% 0.000772364
# target 90% 0.000870879
# target 99% 0.00217949
# target 99.9% 0.00473077
Ping SERVING : 10000
All done 10000 calls (plus 4 warmup) 0.735 ms avg, 999.5 qps
Successfully wrote 3601 bytes of Json data to /data/2018-11-19-053605_grpc_baseline_1000qps_10s_echo_1_2.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
05:36:15 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:36:25 I periodic.go:533> T001 ended after 10.002987506s : 2500 calls. qps=249.9253346563162
05:36:25 I periodic.go:533> T002 ended after 10.003829595s : 2500 calls. qps=249.90429677545904
05:36:25 I periodic.go:533> T003 ended after 10.004040043s : 2500 calls. qps=249.89903971338993
05:36:25 I periodic.go:533> T000 ended after 10.004463344s : 2500 calls. qps=249.88846618138004
Ended after 10.004567845s : 10000 calls. qps=999.54
Sleep times : count 9996 avg 0.0024430135 +/- 0.001489 min -0.030882036 max 0.003107563 sum 24.4203631
Aggregated Function Time : count 10000 avg 0.0011616177 +/- 0.0004396 min 0.000482987 max 0.006637419 sum 11.6161766
# range, mid point, percentile, count
>= 0.000482987 <= 0.0005 , 0.000491494 , 0.01, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.10, 9
> 0.0007 <= 0.0008 , 0.00075 , 1.32, 122
> 0.0008 <= 0.0009 , 0.00085 , 9.75, 843
> 0.0009 <= 0.001 , 0.00095 , 29.07, 1932
> 0.001 <= 0.0011 , 0.00105 , 54.70, 2563
> 0.0011 <= 0.0012 , 0.00115 , 74.45, 1975
> 0.0012 <= 0.0014 , 0.0013 , 91.23, 1678
> 0.0014 <= 0.0016 , 0.0015 , 95.11, 388
> 0.0016 <= 0.0018 , 0.0017 , 96.29, 118
> 0.0018 <= 0.002 , 0.0019 , 97.14, 85
> 0.002 <= 0.0025 , 0.00225 , 98.39, 125
> 0.0025 <= 0.003 , 0.00275 , 98.91, 52
> 0.003 <= 0.0035 , 0.00325 , 99.06, 15
> 0.0035 <= 0.004 , 0.00375 , 99.19, 13
> 0.004 <= 0.0045 , 0.00425 , 99.50, 31
> 0.0045 <= 0.005 , 0.00475 , 99.72, 22
> 0.005 <= 0.006 , 0.0055 , 99.96, 24
> 0.006 <= 0.00663742 , 0.00631871 , 100.00, 4
# target 50% 0.00108166
# target 75% 0.00120656
# target 90% 0.00138534
# target 99% 0.0033
# target 99.9% 0.00575
Ping SERVING : 10000
All done 10000 calls (plus 4 warmup) 1.162 ms avg, 999.5 qps
Successfully wrote 3327 bytes of Json data to /data/2018-11-19-053615_grpc_linkerd_1000qps_10s_echo_1_2.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8079
05:36:25 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:36:35 W periodic.go:487> T001 warning only did 2496 out of 2500 calls before reaching 10s
05:36:35 I periodic.go:533> T001 ended after 10.000986718s : 2496 calls. qps=249.57537394861683
05:36:35 W periodic.go:487> T000 warning only did 2496 out of 2500 calls before reaching 10s
05:36:35 I periodic.go:533> T000 ended after 10.003511164s : 2496 calls. qps=249.51239210712794
05:36:35 W periodic.go:487> T002 warning only did 2496 out of 2500 calls before reaching 10s
05:36:35 I periodic.go:533> T002 ended after 10.003553012s : 2496 calls. qps=249.51134831852883
05:36:35 W periodic.go:487> T003 warning only did 2497 out of 2500 calls before reaching 10s
05:36:35 I periodic.go:533> T003 ended after 10.00376099s : 2497 calls. qps=249.60612338660042
Ended after 10.003773493s : 9985 calls. qps=998.12
Aggregated Sleep Time : count 9985 avg 0.0010878411 +/- 0.003252 min -0.036189474 max 0.003059189 sum 10.8620931
# range, mid point, percentile, count
>= -0.0361895 <= -0.001 , -0.0185947 , 5.72, 571
> -0.001 <= 0 , -0.0005 , 8.59, 287
> 0 <= 0.001 , 0.0005 , 15.67, 707
> 0.001 <= 0.002 , 0.0015 , 74.16, 5840
> 0.002 <= 0.003 , 0.0025 , 99.97, 2577
> 0.003 <= 0.00305919 , 0.00302959 , 100.00, 3
# target 50% 0.0015869
WARNING 5.72% of sleep were falling behind
Aggregated Function Time : count 9985 avg 0.0020931755 +/- 0.001378 min 0.000542979 max 0.038046333 sum 20.9003572
# range, mid point, percentile, count
>= 0.000542979 <= 0.0006 , 0.00057149 , 0.01, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.07, 6
> 0.0007 <= 0.0008 , 0.00075 , 0.29, 22
> 0.0008 <= 0.0009 , 0.00085 , 0.56, 27
> 0.0009 <= 0.001 , 0.00095 , 1.28, 72
> 0.001 <= 0.0011 , 0.00105 , 4.35, 306
> 0.0011 <= 0.0012 , 0.00115 , 8.54, 419
> 0.0012 <= 0.0014 , 0.0013 , 15.38, 683
> 0.0014 <= 0.0016 , 0.0015 , 23.11, 772
> 0.0016 <= 0.0018 , 0.0017 , 39.37, 1623
> 0.0018 <= 0.002 , 0.0019 , 58.60, 1920
> 0.002 <= 0.0025 , 0.00225 , 83.72, 2508
> 0.0025 <= 0.003 , 0.00275 , 93.54, 981
> 0.003 <= 0.0035 , 0.00325 , 95.52, 198
> 0.0035 <= 0.004 , 0.00375 , 96.68, 115
> 0.004 <= 0.0045 , 0.00425 , 97.83, 115
> 0.0045 <= 0.005 , 0.00475 , 98.14, 31
> 0.005 <= 0.006 , 0.0055 , 98.88, 74
> 0.006 <= 0.007 , 0.0065 , 99.49, 61
> 0.007 <= 0.008 , 0.0075 , 99.59, 10
> 0.008 <= 0.009 , 0.0085 , 99.60, 1
> 0.012 <= 0.014 , 0.013 , 99.63, 3
> 0.014 <= 0.016 , 0.015 , 99.68, 5
> 0.016 <= 0.018 , 0.017 , 99.87, 19
> 0.018 <= 0.02 , 0.019 , 99.96, 9
> 0.035 <= 0.0380463 , 0.0365232 , 100.00, 4
# target 50% 0.00191057
# target 75% 0.00232651
# target 90% 0.00281983
# target 99% 0.00619918
# target 99.9% 0.01867
Ping SERVING : 9985
All done 9985 calls (plus 4 warmup) 2.093 ms avg, 998.1 qps
Successfully wrote 4468 bytes of Json data to /data/2018-11-19-053625_grpc_istio_1000qps_10s_echo_1_2.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
05:36:35 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 1000.0 qps
05:36:35 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:36:45 I periodic.go:533> T002 ended after 10.000594949s : 2500 calls. qps=249.98512715985814
05:36:45 I periodic.go:533> T000 ended after 10.001023951s : 2500 calls. qps=249.97440384592073
05:36:45 I periodic.go:533> T003 ended after 10.003461801s : 2500 calls. qps=249.9134849247974
05:36:45 I periodic.go:533> T001 ended after 10.003513709s : 2500 calls. qps=249.91218812953596
Ended after 10.003528855s : 10000 calls. qps=999.65
Sleep times : count 9996 avg 0.0033089315 +/- 0.0004243 min -0.00099009 max 0.003660429 sum 33.0760797
Aggregated Function Time : count 10000 avg 0.00040093 +/- 0.0002888 min 0.000100032 max 0.004612195 sum 4.00929996
# range, mid point, percentile, count
>= 0.000100032 <= 0.0002 , 0.000150016 , 1.13, 113
> 0.0002 <= 0.0003 , 0.00025 , 25.03, 2390
> 0.0003 <= 0.0004 , 0.00035 , 68.03, 4300
> 0.0004 <= 0.0005 , 0.00045 , 89.56, 2153
> 0.0005 <= 0.0006 , 0.00055 , 95.15, 559
> 0.0006 <= 0.0007 , 0.00065 , 96.64, 149
> 0.0007 <= 0.0008 , 0.00075 , 97.12, 48
> 0.0008 <= 0.0009 , 0.00085 , 97.40, 28
> 0.0009 <= 0.001 , 0.00095 , 97.86, 46
> 0.001 <= 0.0011 , 0.00105 , 98.14, 28
> 0.0011 <= 0.0012 , 0.00115 , 98.28, 14
> 0.0012 <= 0.0014 , 0.0013 , 98.65, 37
> 0.0014 <= 0.0016 , 0.0015 , 98.86, 21
> 0.0016 <= 0.0018 , 0.0017 , 98.98, 12
> 0.0018 <= 0.002 , 0.0019 , 99.28, 30
> 0.002 <= 0.0025 , 0.00225 , 99.58, 30
> 0.0025 <= 0.003 , 0.00275 , 99.63, 5
> 0.003 <= 0.0035 , 0.00325 , 99.75, 12
> 0.0035 <= 0.004 , 0.00375 , 99.88, 13
> 0.004 <= 0.0045 , 0.00425 , 99.96, 8
> 0.0045 <= 0.0046122 , 0.0045561 , 100.00, 4
# target 50% 0.00035807
# target 75% 0.000432373
# target 90% 0.000507871
# target 99% 0.00181333
# target 99.9% 0.004125
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 10000 (100.0 %)
Response Header Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
Response Body/Total Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
All done 10000 calls (plus 4 warmup) 0.401 ms avg, 999.6 qps
Successfully wrote 4156 bytes of Json data to /data/2018-11-19-053635_http_baseline_1000qps_10s_echo_0_3.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
05:36:45 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 1000.0 qps
05:36:45 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:36:55 I periodic.go:533> T002 ended after 10.001049535s : 2500 calls. qps=249.97376437852031
05:36:55 I periodic.go:533> T003 ended after 10.001589936s : 2500 calls. qps=249.96025791873657
05:36:55 I periodic.go:533> T001 ended after 10.001691915s : 2500 calls. qps=249.95770928023032
05:36:55 I periodic.go:533> T000 ended after 10.002039501s : 2500 calls. qps=249.9490228717904
Ended after 10.002077982s : 10000 calls. qps=999.79
Sleep times : count 9996 avg 0.0028361717 +/- 0.0005046 min -0.006026467 max 0.003299159 sum 28.3503722
Aggregated Function Time : count 10000 avg 0.00089268001 +/- 0.0003651 min 0.000496389 max 0.006056196 sum 8.92680011
# range, mid point, percentile, count
>= 0.000496389 <= 0.0005 , 0.000498194 , 0.01, 1
> 0.0005 <= 0.0006 , 0.00055 , 0.27, 26
> 0.0006 <= 0.0007 , 0.00065 , 6.75, 648
> 0.0007 <= 0.0008 , 0.00075 , 36.94, 3019
> 0.0008 <= 0.0009 , 0.00085 , 70.81, 3387
> 0.0009 <= 0.001 , 0.00095 , 89.61, 1880
> 0.001 <= 0.0011 , 0.00105 , 94.34, 473
> 0.0011 <= 0.0012 , 0.00115 , 96.02, 168
> 0.0012 <= 0.0014 , 0.0013 , 97.00, 98
> 0.0014 <= 0.0016 , 0.0015 , 97.60, 60
> 0.0016 <= 0.0018 , 0.0017 , 98.16, 56
> 0.0018 <= 0.002 , 0.0019 , 98.61, 45
> 0.002 <= 0.0025 , 0.00225 , 99.01, 40
> 0.0025 <= 0.003 , 0.00275 , 99.25, 24
> 0.003 <= 0.0035 , 0.00325 , 99.44, 19
> 0.0035 <= 0.004 , 0.00375 , 99.47, 3
> 0.004 <= 0.0045 , 0.00425 , 99.58, 11
> 0.0045 <= 0.005 , 0.00475 , 99.92, 34
> 0.005 <= 0.006 , 0.0055 , 99.98, 6
> 0.006 <= 0.0060562 , 0.0060281 , 100.00, 2
# target 50% 0.000838559
# target 75% 0.000922287
# target 90% 0.00100825
# target 99% 0.0024875
# target 99.9% 0.00497059
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 10000 (100.0 %)
Response Header Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
Response Body/Total Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
All done 10000 calls (plus 4 warmup) 0.893 ms avg, 999.8 qps
Successfully wrote 3999 bytes of Json data to /data/2018-11-19-053645_http_linkerd_1000qps_10s_echo_0_3.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
05:36:55 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 1000.0 qps
05:36:55 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:37:05 W periodic.go:487> T002 warning only did 2498 out of 2500 calls before reaching 10s
05:37:05 I periodic.go:533> T002 ended after 10.007387566s : 2498 calls. qps=249.61559483185505
05:37:05 W periodic.go:487> T001 warning only did 2498 out of 2500 calls before reaching 10s
05:37:05 I periodic.go:533> T001 ended after 10.009467416s : 2498 calls. qps=249.5637276371948
05:37:05 W periodic.go:487> T000 warning only did 2498 out of 2500 calls before reaching 10s
05:37:05 I periodic.go:533> T000 ended after 10.009488313s : 2498 calls. qps=249.56320661823224
05:37:05 W periodic.go:487> T003 warning only did 2498 out of 2500 calls before reaching 10s
05:37:05 I periodic.go:533> T003 ended after 10.009501413s : 2498 calls. qps=249.56288000076432
Ended after 10.009514614s : 9992 calls. qps=998.25
Sleep times : count 9992 avg 0.0018309576 +/- 0.00161 min -0.010936891 max 0.003086872 sum 18.2949283
Aggregated Function Time : count 9992 avg 0.0017176019 +/- 0.001037 min 0.000743856 max 0.01475523 sum 17.1622779
# range, mid point, percentile, count
>= 0.000743856 <= 0.0008 , 0.000771928 , 0.12, 12
> 0.0008 <= 0.0009 , 0.00085 , 0.24, 12
> 0.0009 <= 0.001 , 0.00095 , 0.45, 21
> 0.001 <= 0.0011 , 0.00105 , 1.03, 58
> 0.0011 <= 0.0012 , 0.00115 , 8.94, 790
> 0.0012 <= 0.0014 , 0.0013 , 46.54, 3757
> 0.0014 <= 0.0016 , 0.0015 , 66.28, 1973
> 0.0016 <= 0.0018 , 0.0017 , 74.94, 865
> 0.0018 <= 0.002 , 0.0019 , 80.89, 595
> 0.002 <= 0.0025 , 0.00225 , 92.88, 1198
> 0.0025 <= 0.003 , 0.00275 , 94.60, 171
> 0.003 <= 0.0035 , 0.00325 , 95.83, 123
> 0.0035 <= 0.004 , 0.00375 , 97.20, 137
> 0.004 <= 0.0045 , 0.00425 , 97.98, 78
> 0.0045 <= 0.005 , 0.00475 , 98.76, 78
> 0.005 <= 0.006 , 0.0055 , 99.43, 67
> 0.006 <= 0.007 , 0.0065 , 99.56, 13
> 0.01 <= 0.012 , 0.011 , 99.60, 4
> 0.012 <= 0.014 , 0.013 , 99.92, 32
> 0.014 <= 0.0147552 , 0.0143776 , 100.00, 8
# target 50% 0.00143507
# target 75% 0.00180202
# target 90% 0.00237972
# target 99% 0.0053594
# target 99.9% 0.0138755
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 9992 (100.0 %)
Response Header Sizes : count 9992 avg 209.0004 +/- 0.02 min 209 max 210 sum 2088332
Response Body/Total Sizes : count 9992 avg 209.0004 +/- 0.02 min 209 max 210 sum 2088332
All done 9992 calls (plus 4 warmup) 1.718 ms avg, 998.3 qps
Successfully wrote 4269 bytes of Json data to /data/2018-11-19-053655_http_istio_1000qps_10s_echo_0_3.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
05:37:05 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:37:15 I periodic.go:533> T003 ended after 10.000892966s : 2500 calls. qps=249.9776778432927
05:37:15 I periodic.go:533> T000 ended after 10.000987449s : 2500 calls. qps=249.97531621239813
05:37:15 I periodic.go:533> T002 ended after 10.001066477s : 2500 calls. qps=249.97334091812976
05:37:15 I periodic.go:533> T001 ended after 10.001091904s : 2500 calls. qps=249.97270538031043
Ended after 10.001105065s : 10000 calls. qps=999.89
Sleep times : count 9996 avg 0.0029607669 +/- 0.0004347 min -0.001318803 max 0.003502718 sum 29.5958264
Aggregated Function Time : count 10000 avg 0.00074873156 +/- 0.0003308 min 0.000327538 max 0.004922395 sum 7.48731559
# range, mid point, percentile, count
>= 0.000327538 <= 0.0004 , 0.000363769 , 0.18, 18
> 0.0004 <= 0.0005 , 0.00045 , 1.94, 176
> 0.0005 <= 0.0006 , 0.00055 , 14.78, 1284
> 0.0006 <= 0.0007 , 0.00065 , 52.68, 3790
> 0.0007 <= 0.0008 , 0.00075 , 80.86, 2818
> 0.0008 <= 0.0009 , 0.00085 , 92.09, 1123
> 0.0009 <= 0.001 , 0.00095 , 95.61, 352
> 0.001 <= 0.0011 , 0.00105 , 96.46, 85
> 0.0011 <= 0.0012 , 0.00115 , 96.81, 35
> 0.0012 <= 0.0014 , 0.0013 , 97.16, 35
> 0.0014 <= 0.0016 , 0.0015 , 97.65, 49
> 0.0016 <= 0.0018 , 0.0017 , 98.21, 56
> 0.0018 <= 0.002 , 0.0019 , 98.73, 52
> 0.002 <= 0.0025 , 0.00225 , 99.31, 58
> 0.0025 <= 0.003 , 0.00275 , 99.48, 17
> 0.003 <= 0.0035 , 0.00325 , 99.52, 4
> 0.0035 <= 0.004 , 0.00375 , 99.72, 20
> 0.004 <= 0.0045 , 0.00425 , 99.84, 12
> 0.0045 <= 0.0049224 , 0.0047112 , 100.00, 16
# target 50% 0.000692929
# target 75% 0.000779205
# target 90% 0.000881389
# target 99% 0.00223276
# target 99.9% 0.0046584
Ping SERVING : 10000
All done 10000 calls (plus 4 warmup) 0.749 ms avg, 999.9 qps
Successfully wrote 3365 bytes of Json data to /data/2018-11-19-053705_grpc_baseline_1000qps_10s_echo_0_3.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
05:37:15 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:37:25 I periodic.go:533> T000 ended after 10.001262591s : 2500 calls. qps=249.96843920983696
05:37:25 I periodic.go:533> T001 ended after 10.003815963s : 2500 calls. qps=249.90463731504775
05:37:25 I periodic.go:533> T002 ended after 10.0038853s : 2500 calls. qps=249.90290522423322
05:37:25 I periodic.go:533> T003 ended after 10.003901306s : 2500 calls. qps=249.90250538563242
Ended after 10.003912591s : 10000 calls. qps=999.61
Sleep times : count 9996 avg 0.0025572741 +/- 0.001436 min -0.030051639 max 0.003194397 sum 25.5625121
Aggregated Function Time : count 10000 avg 0.0010816578 +/- 0.0004135 min 0.000519628 max 0.006247788 sum 10.8165782
# range, mid point, percentile, count
>= 0.000519628 <= 0.0006 , 0.000559814 , 0.02, 2
> 0.0006 <= 0.0007 , 0.00065 , 0.19, 17
> 0.0007 <= 0.0008 , 0.00075 , 3.92, 373
> 0.0008 <= 0.0009 , 0.00085 , 19.36, 1544
> 0.0009 <= 0.001 , 0.00095 , 46.39, 2703
> 0.001 <= 0.0011 , 0.00105 , 72.11, 2572
> 0.0011 <= 0.0012 , 0.00115 , 86.47, 1436
> 0.0012 <= 0.0014 , 0.0013 , 94.97, 850
> 0.0014 <= 0.0016 , 0.0015 , 96.30, 133
> 0.0016 <= 0.0018 , 0.0017 , 96.95, 65
> 0.0018 <= 0.002 , 0.0019 , 97.49, 54
> 0.002 <= 0.0025 , 0.00225 , 98.56, 107
> 0.0025 <= 0.003 , 0.00275 , 98.95, 39
> 0.003 <= 0.0035 , 0.00325 , 99.14, 19
> 0.0035 <= 0.004 , 0.00375 , 99.35, 21
> 0.004 <= 0.0045 , 0.00425 , 99.57, 22
> 0.0045 <= 0.005 , 0.00475 , 99.80, 23
> 0.005 <= 0.006 , 0.0055 , 99.94, 14
> 0.006 <= 0.00624779 , 0.00612389 , 100.00, 6
# target 50% 0.00101404
# target 75% 0.00112013
# target 90% 0.00128306
# target 99% 0.00313158
# target 99.9% 0.00571429
Ping SERVING : 10000
All done 10000 calls (plus 4 warmup) 1.082 ms avg, 999.6 qps
Successfully wrote 3356 bytes of Json data to /data/2018-11-19-053715_grpc_linkerd_1000qps_10s_echo_0_3.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8079
05:37:25 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:37:35 W periodic.go:487> T001 warning only did 2497 out of 2500 calls before reaching 10s
05:37:35 I periodic.go:533> T001 ended after 10.005410113s : 2497 calls. qps=249.56498252437
05:37:35 W periodic.go:487> T000 warning only did 2497 out of 2500 calls before reaching 10s
05:37:35 I periodic.go:533> T000 ended after 10.005434887s : 2497 calls. qps=249.5643645879238
05:37:35 W periodic.go:487> T002 warning only did 2497 out of 2500 calls before reaching 10s
05:37:35 I periodic.go:533> T002 ended after 10.00546907s : 2497 calls. qps=249.5635119683599
05:37:35 W periodic.go:487> T003 warning only did 2498 out of 2500 calls before reaching 10s
05:37:35 I periodic.go:533> T003 ended after 10.00564946s : 2498 calls. qps=249.6589561713468
Ended after 10.005666657s : 9989 calls. qps=998.33
Sleep times : count 9989 avg 0.0015928262 +/- 0.001671 min -0.014861956 max 0.003240852 sum 15.9107408
Aggregated Function Time : count 9989 avg 0.001958234 +/- 0.001131 min 0.000525437 max 0.018690995 sum 19.5607992
# range, mid point, percentile, count
>= 0.000525437 <= 0.0006 , 0.000562718 , 0.01, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.07, 6
> 0.0007 <= 0.0008 , 0.00075 , 0.25, 18
> 0.0008 <= 0.0009 , 0.00085 , 1.02, 77
> 0.0009 <= 0.001 , 0.00095 , 5.70, 467
> 0.001 <= 0.0011 , 0.00105 , 11.10, 540
> 0.0011 <= 0.0012 , 0.00115 , 13.50, 240
> 0.0012 <= 0.0014 , 0.0013 , 16.94, 343
> 0.0014 <= 0.0016 , 0.0015 , 28.26, 1131
> 0.0016 <= 0.0018 , 0.0017 , 51.41, 2312
> 0.0018 <= 0.002 , 0.0019 , 66.22, 1480
> 0.002 <= 0.0025 , 0.00225 , 88.11, 2186
> 0.0025 <= 0.003 , 0.00275 , 94.98, 687
> 0.003 <= 0.0035 , 0.00325 , 96.20, 121
> 0.0035 <= 0.004 , 0.00375 , 97.44, 124
> 0.004 <= 0.0045 , 0.00425 , 98.29, 85
> 0.0045 <= 0.005 , 0.00475 , 98.81, 52
> 0.005 <= 0.006 , 0.0055 , 99.35, 54
> 0.006 <= 0.007 , 0.0065 , 99.50, 15
> 0.007 <= 0.008 , 0.0075 , 99.55, 5
> 0.008 <= 0.009 , 0.0085 , 99.60, 5
> 0.01 <= 0.012 , 0.011 , 99.62, 2
> 0.012 <= 0.014 , 0.013 , 99.67, 5
> 0.014 <= 0.016 , 0.015 , 99.82, 15
> 0.016 <= 0.018 , 0.017 , 99.97, 15
> 0.018 <= 0.018691 , 0.0183455 , 100.00, 3
# target 50% 0.00178785
# target 75% 0.00220054
# target 90% 0.00263763
# target 99% 0.00535389
# target 99.9% 0.0170681
Ping SERVING : 9989
All done 9989 calls (plus 4 warmup) 1.958 ms avg, 998.3 qps
Successfully wrote 4467 bytes of Json data to /data/2018-11-19-053725_grpc_istio_1000qps_10s_echo_0_3.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
05:37:35 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 1000.0 qps
05:37:35 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:37:45 I periodic.go:533> T001 ended after 10.000783818s : 2500 calls. qps=249.98040608580627
05:37:45 I periodic.go:533> T000 ended after 10.001209932s : 2500 calls. qps=249.96975535939586
05:37:45 I periodic.go:533> T003 ended after 10.00399002s : 2500 calls. qps=249.9002892847748
05:37:45 I periodic.go:533> T002 ended after 10.004021231s : 2500 calls. qps=249.89950963449732
Ended after 10.004053644s : 10000 calls. qps=999.59
Sleep times : count 9996 avg 0.0033074545 +/- 0.0004035 min -0.000995627 max 0.003745659 sum 33.0613149
Aggregated Function Time : count 10000 avg 0.00040341169 +/- 0.0002761 min 0.000104165 max 0.004757333 sum 4.03411688
# range, mid point, percentile, count
>= 0.000104165 <= 0.0002 , 0.000152083 , 1.42, 142
> 0.0002 <= 0.0003 , 0.00025 , 24.02, 2260
> 0.0003 <= 0.0004 , 0.00035 , 66.44, 4242
> 0.0004 <= 0.0005 , 0.00045 , 89.31, 2287
> 0.0005 <= 0.0006 , 0.00055 , 95.00, 569
> 0.0006 <= 0.0007 , 0.00065 , 96.44, 144
> 0.0007 <= 0.0008 , 0.00075 , 96.81, 37
> 0.0008 <= 0.0009 , 0.00085 , 97.17, 36
> 0.0009 <= 0.001 , 0.00095 , 97.70, 53
> 0.001 <= 0.0011 , 0.00105 , 97.94, 24
> 0.0011 <= 0.0012 , 0.00115 , 98.24, 30
> 0.0012 <= 0.0014 , 0.0013 , 98.64, 40
> 0.0014 <= 0.0016 , 0.0015 , 98.94, 30
> 0.0016 <= 0.0018 , 0.0017 , 99.12, 18
> 0.0018 <= 0.002 , 0.0019 , 99.47, 35
> 0.002 <= 0.0025 , 0.00225 , 99.61, 14
> 0.0025 <= 0.003 , 0.00275 , 99.69, 8
> 0.003 <= 0.0035 , 0.00325 , 99.86, 17
> 0.0035 <= 0.004 , 0.00375 , 99.92, 6
> 0.0045 <= 0.00475733 , 0.00462867 , 100.00, 8
# target 50% 0.000361245
# target 75% 0.000437429
# target 90% 0.000512127
# target 99% 0.00166667
# target 99.9% 0.00383333
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 10000 (100.0 %)
Response Header Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
Response Body/Total Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
All done 10000 calls (plus 4 warmup) 0.403 ms avg, 999.6 qps
Successfully wrote 4030 bytes of Json data to /data/2018-11-19-053735_http_baseline_1000qps_10s_echo_1_3.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
05:37:45 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 1000.0 qps
05:37:45 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:37:55 I periodic.go:533> T000 ended after 10.000897423s : 2500 calls. qps=249.97756643823945
05:37:55 I periodic.go:533> T003 ended after 10.001445206s : 2500 calls. qps=249.96387507079646
05:37:55 I periodic.go:533> T001 ended after 10.001576016s : 2500 calls. qps=249.96060580858762
05:37:55 I periodic.go:533> T002 ended after 10.001666744s : 2500 calls. qps=249.95833834393153
Ended after 10.001790846s : 10000 calls. qps=999.82
Sleep times : count 9996 avg 0.0029810249 +/- 0.0005889 min -0.00985338 max 0.003469493 sum 29.798325
Aggregated Function Time : count 10000 avg 0.00073915269 +/- 0.0003588 min 0.000400341 max 0.005707992 sum 7.39152692
# range, mid point, percentile, count
>= 0.000400341 <= 0.0005 , 0.000450171 , 0.36, 36
> 0.0005 <= 0.0006 , 0.00055 , 13.02, 1266
> 0.0006 <= 0.0007 , 0.00065 , 57.92, 4490
> 0.0007 <= 0.0008 , 0.00075 , 85.26, 2734
> 0.0008 <= 0.0009 , 0.00085 , 94.26, 900
> 0.0009 <= 0.001 , 0.00095 , 96.73, 247
> 0.001 <= 0.0011 , 0.00105 , 97.34, 61
> 0.0011 <= 0.0012 , 0.00115 , 97.56, 22
> 0.0012 <= 0.0014 , 0.0013 , 97.81, 25
> 0.0014 <= 0.0016 , 0.0015 , 98.35, 54
> 0.0016 <= 0.0018 , 0.0017 , 98.55, 20
> 0.0018 <= 0.002 , 0.0019 , 98.79, 24
> 0.002 <= 0.0025 , 0.00225 , 99.03, 24
> 0.0025 <= 0.003 , 0.00275 , 99.14, 11
> 0.003 <= 0.0035 , 0.00325 , 99.45, 31
> 0.0035 <= 0.004 , 0.00375 , 99.62, 17
> 0.004 <= 0.0045 , 0.00425 , 99.69, 7
> 0.0045 <= 0.005 , 0.00475 , 99.90, 21
> 0.005 <= 0.00570799 , 0.005354 , 100.00, 10
# target 50% 0.000682361
# target 75% 0.000762473
# target 90% 0.000852667
# target 99% 0.0024375
# target 99.9% 0.005
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 10000 (100.0 %)
Response Header Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
Response Body/Total Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
All done 10000 calls (plus 4 warmup) 0.739 ms avg, 999.8 qps
Successfully wrote 3883 bytes of Json data to /data/2018-11-19-053745_http_linkerd_1000qps_10s_echo_1_3.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
05:37:56 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 1000.0 qps
05:37:56 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:38:06 W periodic.go:487> T001 warning only did 2498 out of 2500 calls before reaching 10s
05:38:06 I periodic.go:533> T001 ended after 10.006616596s : 2498 calls. qps=249.6348267204061
05:38:06 W periodic.go:487> T000 warning only did 2498 out of 2500 calls before reaching 10s
05:38:06 I periodic.go:533> T000 ended after 10.009207224s : 2498 calls. qps=249.570215112573
05:38:06 W periodic.go:487> T002 warning only did 2498 out of 2500 calls before reaching 10s
05:38:06 I periodic.go:533> T002 ended after 10.009250056s : 2498 calls. qps=249.56914714130704
05:38:06 W periodic.go:487> T003 warning only did 2498 out of 2500 calls before reaching 10s
05:38:06 I periodic.go:533> T003 ended after 10.009265283s : 2498 calls. qps=249.5687674741391
Ended after 10.009278234s : 9992 calls. qps=998.27
Sleep times : count 9992 avg 0.0018951118 +/- 0.001544 min -0.012653445 max 0.003099125 sum 18.9359575
Aggregated Function Time : count 9992 avg 0.0016974699 +/- 0.001052 min 0.000597522 max 0.01609108 sum 16.961119
# range, mid point, percentile, count
>= 0.000597522 <= 0.0006 , 0.000598761 , 0.01, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.10, 9
> 0.0008 <= 0.0009 , 0.00085 , 0.22, 12
> 0.0009 <= 0.001 , 0.00095 , 0.33, 11
> 0.001 <= 0.0011 , 0.00105 , 0.82, 49
> 0.0011 <= 0.0012 , 0.00115 , 5.31, 449
> 0.0012 <= 0.0014 , 0.0013 , 45.44, 4009
> 0.0014 <= 0.0016 , 0.0015 , 66.40, 2095
> 0.0016 <= 0.0018 , 0.0017 , 75.84, 943
> 0.0018 <= 0.002 , 0.0019 , 84.25, 840
> 0.002 <= 0.0025 , 0.00225 , 94.10, 984
> 0.0025 <= 0.003 , 0.00275 , 95.18, 108
> 0.003 <= 0.0035 , 0.00325 , 96.67, 149
> 0.0035 <= 0.004 , 0.00375 , 97.75, 108
> 0.004 <= 0.0045 , 0.00425 , 98.39, 64
> 0.0045 <= 0.005 , 0.00475 , 98.86, 47
> 0.005 <= 0.006 , 0.0055 , 99.40, 54
> 0.006 <= 0.007 , 0.0065 , 99.56, 16
> 0.012 <= 0.014 , 0.013 , 99.69, 13
> 0.014 <= 0.016 , 0.015 , 99.96, 27
> 0.016 <= 0.0160911 , 0.0160455 , 100.00, 4
# target 50% 0.00144353
# target 75% 0.00178218
# target 90% 0.00229207
# target 99% 0.00526074
# target 99.9% 0.0155561
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 9992 (100.0 %)
Response Header Sizes : count 9992 avg 209 +/- 0 min 209 max 209 sum 2088328
Response Body/Total Sizes : count 9992 avg 209 +/- 0 min 209 max 209 sum 2088328
All done 9992 calls (plus 4 warmup) 1.697 ms avg, 998.3 qps
Successfully wrote 4340 bytes of Json data to /data/2018-11-19-053756_http_istio_1000qps_10s_echo_1_3.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
05:38:06 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:38:16 I periodic.go:533> T000 ended after 10.000796592s : 2500 calls. qps=249.98008678627068
05:38:16 I periodic.go:533> T003 ended after 10.003406593s : 2500 calls. qps=249.91486417730977
05:38:16 I periodic.go:533> T001 ended after 10.005022439s : 2500 calls. qps=249.87450205557707
05:38:16 I periodic.go:533> T002 ended after 10.005074045s : 2500 calls. qps=249.8732132071892
Ended after 10.005120256s : 10000 calls. qps=999.49
Sleep times : count 9996 avg 0.0029491825 +/- 0.0004737 min -0.003577086 max 0.003587552 sum 29.4800278
Aggregated Function Time : count 10000 avg 0.00075373937 +/- 0.000372 min 0.000249334 max 0.007245284 sum 7.53739371
# range, mid point, percentile, count
>= 0.000249334 <= 0.0003 , 0.000274667 , 0.03, 3
> 0.0003 <= 0.0004 , 0.00035 , 0.20, 17
> 0.0004 <= 0.0005 , 0.00045 , 2.29, 209
> 0.0005 <= 0.0006 , 0.00055 , 16.36, 1407
> 0.0006 <= 0.0007 , 0.00065 , 53.05, 3669
> 0.0007 <= 0.0008 , 0.00075 , 80.35, 2730
> 0.0008 <= 0.0009 , 0.00085 , 91.73, 1138
> 0.0009 <= 0.001 , 0.00095 , 95.15, 342
> 0.001 <= 0.0011 , 0.00105 , 96.08, 93
> 0.0011 <= 0.0012 , 0.00115 , 96.46, 38
> 0.0012 <= 0.0014 , 0.0013 , 97.10, 64
> 0.0014 <= 0.0016 , 0.0015 , 97.50, 40
> 0.0016 <= 0.0018 , 0.0017 , 98.07, 57
> 0.0018 <= 0.002 , 0.0019 , 98.62, 55
> 0.002 <= 0.0025 , 0.00225 , 99.14, 52
> 0.0025 <= 0.003 , 0.00275 , 99.32, 18
> 0.003 <= 0.0035 , 0.00325 , 99.47, 15
> 0.0035 <= 0.004 , 0.00375 , 99.60, 13
> 0.004 <= 0.0045 , 0.00425 , 99.78, 18
> 0.0045 <= 0.005 , 0.00475 , 99.92, 14
> 0.005 <= 0.006 , 0.0055 , 99.96, 4
> 0.007 <= 0.00724528 , 0.00712264 , 100.00, 4
# target 50% 0.000691687
# target 75% 0.000780403
# target 90% 0.000884798
# target 99% 0.00236538
# target 99.9% 0.00492857
Ping SERVING : 10000
All done 10000 calls (plus 4 warmup) 0.754 ms avg, 999.5 qps
Successfully wrote 3720 bytes of Json data to /data/2018-11-19-053806_grpc_baseline_1000qps_10s_echo_1_3.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
05:38:16 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:38:26 I periodic.go:533> T003 ended after 10.001157127s : 2500 calls. qps=249.97107517196991
05:38:26 I periodic.go:533> T001 ended after 10.001985504s : 2500 calls. qps=249.9503722536089
05:38:26 I periodic.go:533> T000 ended after 10.002206426s : 2500 calls. qps=249.9448515181044
05:38:26 I periodic.go:533> T002 ended after 10.002310854s : 2500 calls. qps=249.94224199703123
Ended after 10.002384768s : 10000 calls. qps=999.76
Sleep times : count 9996 avg 0.0024522843 +/- 0.001733 min -0.034777565 max 0.003112816 sum 24.5130338
Aggregated Function Time : count 10000 avg 0.0011640761 +/- 0.0008457 min 0.000539207 max 0.038623445 sum 11.6407612
# range, mid point, percentile, count
>= 0.000539207 <= 0.0006 , 0.000569604 , 0.01, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.09, 8
> 0.0007 <= 0.0008 , 0.00075 , 0.66, 57
> 0.0008 <= 0.0009 , 0.00085 , 7.44, 678
> 0.0009 <= 0.001 , 0.00095 , 27.35, 1991
> 0.001 <= 0.0011 , 0.00105 , 54.94, 2759
> 0.0011 <= 0.0012 , 0.00115 , 76.02, 2108
> 0.0012 <= 0.0014 , 0.0013 , 92.87, 1685
> 0.0014 <= 0.0016 , 0.0015 , 95.95, 308
> 0.0016 <= 0.0018 , 0.0017 , 96.69, 74
> 0.0018 <= 0.002 , 0.0019 , 97.28, 59
> 0.002 <= 0.0025 , 0.00225 , 98.76, 148
> 0.0025 <= 0.003 , 0.00275 , 99.13, 37
> 0.003 <= 0.0035 , 0.00325 , 99.35, 22
> 0.0035 <= 0.004 , 0.00375 , 99.51, 16
> 0.004 <= 0.0045 , 0.00425 , 99.59, 8
> 0.0045 <= 0.005 , 0.00475 , 99.74, 15
> 0.005 <= 0.006 , 0.0055 , 99.92, 18
> 0.006 <= 0.007 , 0.0065 , 99.93, 1
> 0.008 <= 0.009 , 0.0085 , 99.96, 3
> 0.035 <= 0.0386234 , 0.0368117 , 100.00, 4
# target 50% 0.00108209
# target 75% 0.00119516
# target 90% 0.00136593
# target 99% 0.00282432
# target 99.9% 0.00588889
Ping SERVING : 10000
All done 10000 calls (plus 4 warmup) 1.164 ms avg, 999.8 qps
Successfully wrote 3586 bytes of Json data to /data/2018-11-19-053816_grpc_linkerd_1000qps_10s_echo_1_3.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8079
05:38:26 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:38:36 W periodic.go:487> T001 warning only did 2497 out of 2500 calls before reaching 10s
05:38:36 I periodic.go:533> T001 ended after 10.008600794s : 2497 calls. qps=249.48542272731197
05:38:36 W periodic.go:487> T002 warning only did 2497 out of 2500 calls before reaching 10s
05:38:36 I periodic.go:533> T002 ended after 10.011002836s : 2497 calls. qps=249.42556114565065
05:38:36 W periodic.go:487> T000 warning only did 2497 out of 2500 calls before reaching 10s
05:38:36 I periodic.go:533> T000 ended after 10.011024645s : 2497 calls. qps=249.425017772494
05:38:36 W periodic.go:487> T003 warning only did 2498 out of 2500 calls before reaching 10s
05:38:36 I periodic.go:533> T003 ended after 10.013334447s : 2498 calls. qps=249.46734908553884
Ended after 10.013372985s : 9989 calls. qps=997.57
Sleep times : count 9989 avg 0.0014902896 +/- 0.00219 min -0.020390594 max 0.00325367 sum 14.8865028
Aggregated Function Time : count 9989 avg 0.001954934 +/- 0.00125 min 0.000579914 max 0.023669914 sum 19.527836
# range, mid point, percentile, count
>= 0.000579914 <= 0.0006 , 0.000589957 , 0.01, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.07, 6
> 0.0007 <= 0.0008 , 0.00075 , 0.29, 22
> 0.0008 <= 0.0009 , 0.00085 , 0.86, 57
> 0.0009 <= 0.001 , 0.00095 , 4.98, 411
> 0.001 <= 0.0011 , 0.00105 , 10.55, 557
> 0.0011 <= 0.0012 , 0.00115 , 14.44, 388
> 0.0012 <= 0.0014 , 0.0013 , 18.28, 384
> 0.0014 <= 0.0016 , 0.0015 , 27.54, 925
> 0.0016 <= 0.0018 , 0.0017 , 53.56, 2599
> 0.0018 <= 0.002 , 0.0019 , 69.92, 1634
> 0.002 <= 0.0025 , 0.00225 , 87.75, 1781
> 0.0025 <= 0.003 , 0.00275 , 95.01, 726
> 0.003 <= 0.0035 , 0.00325 , 96.40, 138
> 0.0035 <= 0.004 , 0.00375 , 97.25, 85
> 0.004 <= 0.0045 , 0.00425 , 98.07, 82
> 0.0045 <= 0.005 , 0.00475 , 98.55, 48
> 0.005 <= 0.006 , 0.0055 , 99.07, 52
> 0.006 <= 0.007 , 0.0065 , 99.36, 29
> 0.007 <= 0.008 , 0.0075 , 99.56, 20
> 0.008 <= 0.009 , 0.0085 , 99.60, 4
> 0.012 <= 0.014 , 0.013 , 99.69, 9
> 0.014 <= 0.016 , 0.015 , 99.72, 3
> 0.016 <= 0.018 , 0.017 , 99.86, 14
> 0.018 <= 0.02 , 0.019 , 99.92, 6
> 0.02 <= 0.0236699 , 0.021835 , 100.00, 8
# target 50% 0.00177264
# target 75% 0.00214255
# target 90% 0.00265503
# target 99% 0.0058675
# target 99.9% 0.019337
Ping SERVING : 9989
All done 9989 calls (plus 4 warmup) 1.955 ms avg, 997.6 qps
Successfully wrote 4466 bytes of Json data to /data/2018-11-19-053826_grpc_istio_1000qps_10s_echo_1_3.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
05:38:36 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 1000.0 qps
05:38:36 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:38:46 I periodic.go:533> T002 ended after 10.000616144s : 2500 calls. qps=249.98459734902508
05:38:46 I periodic.go:533> T001 ended after 10.001036243s : 2500 calls. qps=249.97409660922074
05:38:46 I periodic.go:533> T000 ended after 10.003502234s : 2500 calls. qps=249.91247480337194
05:38:46 I periodic.go:533> T003 ended after 10.003535538s : 2500 calls. qps=249.9116427890277
Ended after 10.003570322s : 10000 calls. qps=999.64
Sleep times : count 9996 avg 0.0033044031 +/- 0.0004025 min -0.001070749 max 0.003690146 sum 33.0308135
Aggregated Function Time : count 10000 avg 0.0003999538 +/- 0.000245 min 9.0916e-05 max 0.004580815 sum 3.99953804
# range, mid point, percentile, count
>= 9.0916e-05 <= 0.0001 , 9.5458e-05 , 0.02, 2
> 0.0001 <= 0.0002 , 0.00015 , 1.30, 128
> 0.0002 <= 0.0003 , 0.00025 , 23.23, 2193
> 0.0003 <= 0.0004 , 0.00035 , 65.11, 4188
> 0.0004 <= 0.0005 , 0.00045 , 88.60, 2349
> 0.0005 <= 0.0006 , 0.00055 , 94.83, 623
> 0.0006 <= 0.0007 , 0.00065 , 96.77, 194
> 0.0007 <= 0.0008 , 0.00075 , 97.36, 59
> 0.0008 <= 0.0009 , 0.00085 , 97.63, 27
> 0.0009 <= 0.001 , 0.00095 , 97.96, 33
> 0.001 <= 0.0011 , 0.00105 , 98.15, 19
> 0.0011 <= 0.0012 , 0.00115 , 98.42, 27
> 0.0012 <= 0.0014 , 0.0013 , 98.89, 47
> 0.0014 <= 0.0016 , 0.0015 , 99.22, 33
> 0.0016 <= 0.0018 , 0.0017 , 99.34, 12
> 0.0018 <= 0.002 , 0.0019 , 99.59, 25
> 0.002 <= 0.0025 , 0.00225 , 99.69, 10
> 0.0025 <= 0.003 , 0.00275 , 99.85, 16
> 0.003 <= 0.0035 , 0.00325 , 99.88, 3
> 0.0035 <= 0.004 , 0.00375 , 99.93, 5
> 0.004 <= 0.0045 , 0.00425 , 99.99, 6
> 0.0045 <= 0.00458082 , 0.00454041 , 100.00, 1
# target 50% 0.000363921
# target 75% 0.000442103
# target 90% 0.000522472
# target 99% 0.00146667
# target 99.9% 0.0037
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 10000 (100.0 %)
Response Header Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
Response Body/Total Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
All done 10000 calls (plus 4 warmup) 0.400 ms avg, 999.6 qps
Successfully wrote 4262 bytes of Json data to /data/2018-11-19-053836_http_baseline_1000qps_10s_echo_0_4.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
05:38:46 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 1000.0 qps
05:38:46 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:38:56 I periodic.go:533> T002 ended after 10.000877496s : 2500 calls. qps=249.9780645248292
05:38:56 I periodic.go:533> T003 ended after 10.001298089s : 2500 calls. qps=249.96755198704085
05:38:56 I periodic.go:533> T000 ended after 10.003510252s : 2500 calls. qps=249.91227449386335
05:38:56 I periodic.go:533> T001 ended after 10.003577143s : 2500 calls. qps=249.91060340344097
Ended after 10.003593649s : 10000 calls. qps=999.64
Sleep times : count 9996 avg 0.0030056029 +/- 0.0004402 min -0.00298311 max 0.003460125 sum 30.0440067
Aggregated Function Time : count 10000 avg 0.00071893034 +/- 0.0003149 min 0.000371016 max 0.005574439 sum 7.18930338
# range, mid point, percentile, count
>= 0.000371016 <= 0.0004 , 0.000385508 , 0.02, 2
> 0.0004 <= 0.0005 , 0.00045 , 0.64, 62
> 0.0005 <= 0.0006 , 0.00055 , 17.71, 1707
> 0.0006 <= 0.0007 , 0.00065 , 64.75, 4704
> 0.0007 <= 0.0008 , 0.00075 , 87.86, 2311
> 0.0008 <= 0.0009 , 0.00085 , 94.08, 622
> 0.0009 <= 0.001 , 0.00095 , 96.49, 241
> 0.001 <= 0.0011 , 0.00105 , 97.16, 67
> 0.0011 <= 0.0012 , 0.00115 , 97.42, 26
> 0.0012 <= 0.0014 , 0.0013 , 97.78, 36
> 0.0014 <= 0.0016 , 0.0015 , 98.35, 57
> 0.0016 <= 0.0018 , 0.0017 , 98.87, 52
> 0.0018 <= 0.002 , 0.0019 , 99.07, 20
> 0.002 <= 0.0025 , 0.00225 , 99.39, 32
> 0.0025 <= 0.003 , 0.00275 , 99.41, 2
> 0.003 <= 0.0035 , 0.00325 , 99.55, 14
> 0.0035 <= 0.004 , 0.00375 , 99.71, 16
> 0.004 <= 0.0045 , 0.00425 , 99.88, 17
> 0.0045 <= 0.005 , 0.00475 , 99.95, 7
> 0.005 <= 0.00557444 , 0.00528722 , 100.00, 5
# target 50% 0.000668644
# target 75% 0.000744353
# target 90% 0.000834405
# target 99% 0.00193
# target 99.9% 0.00464286
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 10000 (100.0 %)
Response Header Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
Response Body/Total Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
All done 10000 calls (plus 4 warmup) 0.719 ms avg, 999.6 qps
Successfully wrote 4007 bytes of Json data to /data/2018-11-19-053846_http_linkerd_1000qps_10s_echo_0_4.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
05:38:56 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 1000.0 qps
05:38:56 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:39:06 W periodic.go:487> T003 warning only did 2498 out of 2500 calls before reaching 10s
05:39:06 I periodic.go:533> T003 ended after 10.006624365s : 2498 calls. qps=249.63463290749797
05:39:06 W periodic.go:487> T001 warning only did 2498 out of 2500 calls before reaching 10s
05:39:06 I periodic.go:533> T001 ended after 10.008838575s : 2498 calls. qps=249.5794073689514
05:39:06 W periodic.go:487> T002 warning only did 2498 out of 2500 calls before reaching 10s
05:39:06 I periodic.go:533> T002 ended after 10.008857925s : 2498 calls. qps=249.5789248602008
05:39:06 W periodic.go:487> T000 warning only did 2498 out of 2500 calls before reaching 10s
05:39:06 I periodic.go:533> T000 ended after 10.008871176s : 2498 calls. qps=249.57859443629232
Ended after 10.008883368s : 9992 calls. qps=998.31
Sleep times : count 9992 avg 0.0017939227 +/- 0.001816 min -0.021041988 max 0.003054495 sum 17.9248757
Aggregated Function Time : count 9992 avg 0.0017358799 +/- 0.001091 min 0.000755168 max 0.017274244 sum 17.3449118
# range, mid point, percentile, count
>= 0.000755168 <= 0.0008 , 0.000777584 , 0.02, 2
> 0.0008 <= 0.0009 , 0.00085 , 0.13, 11
> 0.0009 <= 0.001 , 0.00095 , 0.27, 14
> 0.001 <= 0.0011 , 0.00105 , 0.42, 15
> 0.0011 <= 0.0012 , 0.00115 , 3.67, 325
> 0.0012 <= 0.0014 , 0.0013 , 40.89, 3719
> 0.0014 <= 0.0016 , 0.0015 , 62.23, 2132
> 0.0016 <= 0.0018 , 0.0017 , 75.21, 1297
> 0.0018 <= 0.002 , 0.0019 , 83.96, 874
> 0.002 <= 0.0025 , 0.00225 , 93.73, 977
> 0.0025 <= 0.003 , 0.00275 , 95.05, 131
> 0.003 <= 0.0035 , 0.00325 , 96.13, 108
> 0.0035 <= 0.004 , 0.00375 , 97.31, 118
> 0.004 <= 0.0045 , 0.00425 , 98.10, 79
> 0.0045 <= 0.005 , 0.00475 , 98.63, 53
> 0.005 <= 0.006 , 0.0055 , 99.31, 68
> 0.006 <= 0.007 , 0.0065 , 99.52, 21
> 0.007 <= 0.008 , 0.0075 , 99.56, 4
> 0.009 <= 0.01 , 0.0095 , 99.57, 1
> 0.012 <= 0.014 , 0.013 , 99.75, 18
> 0.014 <= 0.016 , 0.015 , 99.92, 17
> 0.016 <= 0.0172742 , 0.0166371 , 100.00, 8
# target 50% 0.00148537
# target 75% 0.00179676
# target 90% 0.00230901
# target 99% 0.00554529
# target 99.9% 0.0157656
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 9992 (100.0 %)
Response Header Sizes : count 9992 avg 209 +/- 0 min 209 max 209 sum 2088328
Response Body/Total Sizes : count 9992 avg 209 +/- 0 min 209 max 209 sum 2088328
All done 9992 calls (plus 4 warmup) 1.736 ms avg, 998.3 qps
Successfully wrote 4461 bytes of Json data to /data/2018-11-19-053856_http_istio_1000qps_10s_echo_0_4.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
05:39:06 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:39:16 I periodic.go:533> T000 ended after 10.000711071s : 2500 calls. qps=249.98222448896504
05:39:16 I periodic.go:533> T001 ended after 10.003515868s : 2500 calls. qps=249.91213419245813
05:39:16 I periodic.go:533> T003 ended after 10.005050092s : 2500 calls. qps=249.87381142639063
05:39:16 I periodic.go:533> T002 ended after 10.005125798s : 2500 calls. qps=249.87192070086155
Ended after 10.0051604s : 10000 calls. qps=999.48
Sleep times : count 9996 avg 0.0029753704 +/- 0.000418 min -0.001315492 max 0.003550165 sum 29.7418027
Aggregated Function Time : count 10000 avg 0.00073074238 +/- 0.0003098 min 0.000217577 max 0.004828313 sum 7.30742383
# range, mid point, percentile, count
>= 0.000217577 <= 0.0003 , 0.000258788 , 0.03, 3
> 0.0003 <= 0.0004 , 0.00035 , 0.24, 21
> 0.0004 <= 0.0005 , 0.00045 , 3.75, 351
> 0.0005 <= 0.0006 , 0.00055 , 20.86, 1711
> 0.0006 <= 0.0007 , 0.00065 , 57.19, 3633
> 0.0007 <= 0.0008 , 0.00075 , 82.19, 2500
> 0.0008 <= 0.0009 , 0.00085 , 92.26, 1007
> 0.0009 <= 0.001 , 0.00095 , 95.54, 328
> 0.001 <= 0.0011 , 0.00105 , 96.46, 92
> 0.0011 <= 0.0012 , 0.00115 , 96.99, 53
> 0.0012 <= 0.0014 , 0.0013 , 97.47, 48
> 0.0014 <= 0.0016 , 0.0015 , 97.77, 30
> 0.0016 <= 0.0018 , 0.0017 , 98.32, 55
> 0.0018 <= 0.002 , 0.0019 , 98.76, 44
> 0.002 <= 0.0025 , 0.00225 , 99.27, 51
> 0.0025 <= 0.003 , 0.00275 , 99.58, 31
> 0.003 <= 0.0035 , 0.00325 , 99.73, 15
> 0.0035 <= 0.004 , 0.00375 , 99.79, 6
> 0.004 <= 0.0045 , 0.00425 , 99.89, 10
> 0.0045 <= 0.00482831 , 0.00466416 , 100.00, 11
# target 50% 0.000680209
# target 75% 0.00077124
# target 90% 0.000877557
# target 99% 0.00223529
# target 99.9% 0.00452985
Ping SERVING : 10000
All done 10000 calls (plus 4 warmup) 0.731 ms avg, 999.5 qps
Successfully wrote 3508 bytes of Json data to /data/2018-11-19-053906_grpc_baseline_1000qps_10s_echo_0_4.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
05:39:16 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:39:26 I periodic.go:533> T003 ended after 10.001167701s : 2500 calls. qps=249.97081088341605
05:39:26 I periodic.go:533> T000 ended after 10.001823026s : 2500 calls. qps=249.9544326570451
05:39:26 I periodic.go:533> T001 ended after 10.002168972s : 2500 calls. qps=249.94578745854844
05:39:26 I periodic.go:533> T002 ended after 10.002246107s : 2500 calls. qps=249.9438599346594
Ended after 10.002304587s : 10000 calls. qps=999.77
Sleep times : count 9996 avg 0.0024883158 +/- 0.001924 min -0.037763421 max 0.003197122 sum 24.8732047
Aggregated Function Time : count 10000 avg 0.0011124446 +/- 0.0009101 min 0.00059422 max 0.041609675 sum 11.1244461
# range, mid point, percentile, count
>= 0.00059422 <= 0.0006 , 0.00059711 , 0.01, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.09, 8
> 0.0007 <= 0.0008 , 0.00075 , 2.47, 238
> 0.0008 <= 0.0009 , 0.00085 , 16.23, 1376
> 0.0009 <= 0.001 , 0.00095 , 42.78, 2655
> 0.001 <= 0.0011 , 0.00105 , 69.83, 2705
> 0.0011 <= 0.0012 , 0.00115 , 84.97, 1514
> 0.0012 <= 0.0014 , 0.0013 , 94.20, 923
> 0.0014 <= 0.0016 , 0.0015 , 95.92, 172
> 0.0016 <= 0.0018 , 0.0017 , 96.83, 91
> 0.0018 <= 0.002 , 0.0019 , 97.55, 72
> 0.002 <= 0.0025 , 0.00225 , 98.60, 105
> 0.0025 <= 0.003 , 0.00275 , 98.87, 27
> 0.003 <= 0.0035 , 0.00325 , 99.22, 35
> 0.0035 <= 0.004 , 0.00375 , 99.36, 14
> 0.004 <= 0.0045 , 0.00425 , 99.49, 13
> 0.0045 <= 0.005 , 0.00475 , 99.57, 8
> 0.005 <= 0.006 , 0.0055 , 99.93, 36
> 0.006 <= 0.007 , 0.0065 , 99.96, 3
> 0.04 <= 0.0416097 , 0.0408048 , 100.00, 4
# target 50% 0.00102669
# target 75% 0.00113415
# target 90% 0.00130899
# target 99% 0.00318571
# target 99.9% 0.00591667
Ping SERVING : 10000
All done 10000 calls (plus 4 warmup) 1.112 ms avg, 999.8 qps
Successfully wrote 3460 bytes of Json data to /data/2018-11-19-053916_grpc_linkerd_1000qps_10s_echo_0_4.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8079
05:39:26 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:39:36 W periodic.go:487> T002 warning only did 2497 out of 2500 calls before reaching 10s
05:39:36 I periodic.go:533> T002 ended after 10.003858419s : 2497 calls. qps=249.60369243706307
05:39:36 W periodic.go:487> T003 warning only did 2497 out of 2500 calls before reaching 10s
05:39:36 I periodic.go:533> T003 ended after 10.006183754s : 2497 calls. qps=249.54568708592996
05:39:36 W periodic.go:487> T000 warning only did 2497 out of 2500 calls before reaching 10s
05:39:36 I periodic.go:533> T000 ended after 10.006201733s : 2497 calls. qps=249.54523870581255
05:39:36 W periodic.go:487> T001 warning only did 2498 out of 2500 calls before reaching 10s
05:39:36 I periodic.go:533> T001 ended after 10.006424041s : 2498 calls. qps=249.63963047785853
Ended after 10.006436359s : 9989 calls. qps=998.26
Sleep times : count 9989 avg 0.0016264169 +/- 0.001852 min -0.018842521 max 0.003343376 sum 16.2462781
Aggregated Function Time : count 9989 avg 0.0019028645 +/- 0.001188 min 0.00053608 max 0.022690541 sum 19.0077139
# range, mid point, percentile, count
>= 0.00053608 <= 0.0006 , 0.00056804 , 0.01, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.03, 2
> 0.0007 <= 0.0008 , 0.00075 , 0.30, 27
> 0.0008 <= 0.0009 , 0.00085 , 1.08, 78
> 0.0009 <= 0.001 , 0.00095 , 6.82, 573
> 0.001 <= 0.0011 , 0.00105 , 12.16, 534
> 0.0011 <= 0.0012 , 0.00115 , 15.26, 309
> 0.0012 <= 0.0014 , 0.0013 , 18.60, 334
> 0.0014 <= 0.0016 , 0.0015 , 32.85, 1423
> 0.0016 <= 0.0018 , 0.0017 , 58.98, 2611
> 0.0018 <= 0.002 , 0.0019 , 71.29, 1229
> 0.002 <= 0.0025 , 0.00225 , 89.51, 1820
> 0.0025 <= 0.003 , 0.00275 , 95.44, 593
> 0.003 <= 0.0035 , 0.00325 , 96.59, 114
> 0.0035 <= 0.004 , 0.00375 , 97.55, 96
> 0.004 <= 0.0045 , 0.00425 , 98.13, 58
> 0.0045 <= 0.005 , 0.00475 , 98.65, 52
> 0.005 <= 0.006 , 0.0055 , 99.21, 56
> 0.006 <= 0.007 , 0.0065 , 99.51, 30
> 0.007 <= 0.008 , 0.0075 , 99.60, 9
> 0.012 <= 0.014 , 0.013 , 99.65, 5
> 0.014 <= 0.016 , 0.015 , 99.79, 14
> 0.016 <= 0.018 , 0.017 , 99.92, 13
> 0.018 <= 0.02 , 0.019 , 99.95, 3
> 0.02 <= 0.0226905 , 0.0213453 , 100.00, 5
# target 50% 0.00173125
# target 75% 0.00210185
# target 90% 0.0025414
# target 99% 0.00562696
# target 99.9% 0.017694
Ping SERVING : 9989
All done 9989 calls (plus 4 warmup) 1.903 ms avg, 998.3 qps
Successfully wrote 4325 bytes of Json data to /data/2018-11-19-053926_grpc_istio_1000qps_10s_echo_0_4.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
05:39:36 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 1000.0 qps
05:39:36 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:39:46 I periodic.go:533> T001 ended after 10.000593782s : 2500 calls. qps=249.98515633139033
05:39:46 I periodic.go:533> T003 ended after 10.001071989s : 2500 calls. qps=249.9732031475931
05:39:46 I periodic.go:533> T000 ended after 10.003105924s : 2500 calls. qps=249.92237600942153
05:39:46 I periodic.go:533> T002 ended after 10.005290434s : 2500 calls. qps=249.86780908473125
Ended after 10.005330225s : 10000 calls. qps=999.47
Sleep times : count 9996 avg 0.0033205105 +/- 0.0004185 min -0.003075095 max 0.003699723 sum 33.1918233
Aggregated Function Time : count 10000 avg 0.00039868997 +/- 0.0003002 min 0.000102953 max 0.006280473 sum 3.98689965
# range, mid point, percentile, count
>= 0.000102953 <= 0.0002 , 0.000151477 , 1.45, 145
> 0.0002 <= 0.0003 , 0.00025 , 27.55, 2610
> 0.0003 <= 0.0004 , 0.00035 , 69.47, 4192
> 0.0004 <= 0.0005 , 0.00045 , 90.35, 2088
> 0.0005 <= 0.0006 , 0.00055 , 95.25, 490
> 0.0006 <= 0.0007 , 0.00065 , 96.46, 121
> 0.0007 <= 0.0008 , 0.00075 , 96.95, 49
> 0.0008 <= 0.0009 , 0.00085 , 97.17, 22
> 0.0009 <= 0.001 , 0.00095 , 97.49, 32
> 0.001 <= 0.0011 , 0.00105 , 97.56, 7
> 0.0011 <= 0.0012 , 0.00115 , 98.02, 46
> 0.0012 <= 0.0014 , 0.0013 , 98.53, 51
> 0.0014 <= 0.0016 , 0.0015 , 98.87, 34
> 0.0016 <= 0.0018 , 0.0017 , 99.05, 18
> 0.0018 <= 0.002 , 0.0019 , 99.30, 25
> 0.002 <= 0.0025 , 0.00225 , 99.57, 27
> 0.0025 <= 0.003 , 0.00275 , 99.73, 16
> 0.003 <= 0.0035 , 0.00325 , 99.80, 7
> 0.0035 <= 0.004 , 0.00375 , 99.89, 9
> 0.004 <= 0.0045 , 0.00425 , 99.93, 4
> 0.0045 <= 0.005 , 0.00475 , 99.95, 2
> 0.005 <= 0.006 , 0.0055 , 99.96, 1
> 0.006 <= 0.00628047 , 0.00614024 , 100.00, 4
# target 50% 0.000353554
# target 75% 0.000426485
# target 90% 0.000498324
# target 99% 0.00174444
# target 99.9% 0.004125
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 10000 (100.0 %)
Response Header Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
Response Body/Total Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
All done 10000 calls (plus 4 warmup) 0.399 ms avg, 999.5 qps
Successfully wrote 4369 bytes of Json data to /data/2018-11-19-053936_http_baseline_1000qps_10s_echo_1_4.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
05:39:46 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 1000.0 qps
05:39:46 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:39:56 I periodic.go:533> T001 ended after 10.000995578s : 2500 calls. qps=249.97511302769223
05:39:56 I periodic.go:533> T000 ended after 10.001532067s : 2500 calls. qps=249.96170419217435
05:39:56 I periodic.go:533> T003 ended after 10.001721405s : 2500 calls. qps=249.95697228181294
05:39:56 I periodic.go:533> T002 ended after 10.001754507s : 2500 calls. qps=249.95614501938707
Ended after 10.001894157s : 10000 calls. qps=999.81
Sleep times : count 9996 avg 0.0029452192 +/- 0.0004678 min -0.002566479 max 0.003421361 sum 29.4404115
Aggregated Function Time : count 10000 avg 0.00078780983 +/- 0.0003785 min 0.000420091 max 0.005880557 sum 7.87809827
# range, mid point, percentile, count
>= 0.000420091 <= 0.0005 , 0.000460046 , 0.17, 17
> 0.0005 <= 0.0006 , 0.00055 , 4.38, 421
> 0.0006 <= 0.0007 , 0.00065 , 39.99, 3561
> 0.0007 <= 0.0008 , 0.00075 , 75.11, 3512
> 0.0008 <= 0.0009 , 0.00085 , 90.25, 1514
> 0.0009 <= 0.001 , 0.00095 , 95.38, 513
> 0.001 <= 0.0011 , 0.00105 , 96.61, 123
> 0.0011 <= 0.0012 , 0.00115 , 96.99, 38
> 0.0012 <= 0.0014 , 0.0013 , 97.39, 40
> 0.0014 <= 0.0016 , 0.0015 , 97.99, 60
> 0.0016 <= 0.0018 , 0.0017 , 98.46, 47
> 0.0018 <= 0.002 , 0.0019 , 98.62, 16
> 0.002 <= 0.0025 , 0.00225 , 98.83, 21
> 0.0025 <= 0.003 , 0.00275 , 99.06, 23
> 0.003 <= 0.0035 , 0.00325 , 99.23, 17
> 0.0035 <= 0.004 , 0.00375 , 99.47, 24
> 0.004 <= 0.0045 , 0.00425 , 99.81, 34
> 0.0045 <= 0.005 , 0.00475 , 99.92, 11
> 0.005 <= 0.00588056 , 0.00544028 , 100.00, 8
# target 50% 0.000728502
# target 75% 0.000799687
# target 90% 0.000898349
# target 99% 0.00286957
# target 99.9% 0.00490909
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 10000 (100.0 %)
Response Header Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
Response Body/Total Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
All done 10000 calls (plus 4 warmup) 0.788 ms avg, 999.8 qps
Successfully wrote 3900 bytes of Json data to /data/2018-11-19-053946_http_linkerd_1000qps_10s_echo_1_4.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
05:39:56 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 1000.0 qps
05:39:56 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:40:06 W periodic.go:487> T001 warning only did 2498 out of 2500 calls before reaching 10s
05:40:06 I periodic.go:533> T001 ended after 10.008397365s : 2498 calls. qps=249.5904098228218
05:40:06 W periodic.go:487> T002 warning only did 2498 out of 2500 calls before reaching 10s
05:40:06 I periodic.go:533> T002 ended after 10.008472485s : 2498 calls. qps=249.5885364868443
05:40:06 W periodic.go:487> T003 warning only did 2498 out of 2500 calls before reaching 10s
05:40:06 I periodic.go:533> T003 ended after 10.008487006s : 2498 calls. qps=249.58817436666212
05:40:06 W periodic.go:487> T000 warning only did 2498 out of 2500 calls before reaching 10s
05:40:06 I periodic.go:533> T000 ended after 10.008520103s : 2498 calls. qps=249.58734900789557
Ended after 10.008542676s : 9992 calls. qps=998.35
Sleep times : count 9992 avg 0.0018970248 +/- 0.001468 min -0.013369232 max 0.003034346 sum 18.9550719
Aggregated Function Time : count 9992 avg 0.0017033395 +/- 0.0009869 min 0.000725026 max 0.0157955 sum 17.0197687
# range, mid point, percentile, count
>= 0.000725026 <= 0.0008 , 0.000762513 , 0.08, 8
> 0.0008 <= 0.0009 , 0.00085 , 0.17, 9
> 0.0009 <= 0.001 , 0.00095 , 0.31, 14
> 0.001 <= 0.0011 , 0.00105 , 0.81, 50
> 0.0011 <= 0.0012 , 0.00115 , 4.54, 373
> 0.0012 <= 0.0014 , 0.0013 , 41.87, 3730
> 0.0014 <= 0.0016 , 0.0015 , 63.99, 2210
> 0.0016 <= 0.0018 , 0.0017 , 74.66, 1066
> 0.0018 <= 0.002 , 0.0019 , 83.79, 912
> 0.002 <= 0.0025 , 0.00225 , 94.76, 1096
> 0.0025 <= 0.003 , 0.00275 , 95.62, 86
> 0.003 <= 0.0035 , 0.00325 , 96.58, 96
> 0.0035 <= 0.004 , 0.00375 , 97.89, 131
> 0.004 <= 0.0045 , 0.00425 , 98.54, 65
> 0.0045 <= 0.005 , 0.00475 , 98.95, 41
> 0.005 <= 0.006 , 0.0055 , 99.41, 46
> 0.006 <= 0.007 , 0.0065 , 99.56, 15
> 0.009 <= 0.01 , 0.0095 , 99.60, 4
> 0.01 <= 0.012 , 0.011 , 99.67, 7
> 0.012 <= 0.014 , 0.013 , 99.91, 24
> 0.014 <= 0.0157955 , 0.0148978 , 100.00, 9
# target 50% 0.00147348
# target 75% 0.00180746
# target 90% 0.00228321
# target 99% 0.00511043
# target 99.9% 0.0139173
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 9992 (100.0 %)
Response Header Sizes : count 9992 avg 209 +/- 0 min 209 max 209 sum 2088328
Response Body/Total Sizes : count 9992 avg 209 +/- 0 min 209 max 209 sum 2088328
All done 9992 calls (plus 4 warmup) 1.703 ms avg, 998.3 qps
Successfully wrote 4330 bytes of Json data to /data/2018-11-19-053956_http_istio_1000qps_10s_echo_1_4.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
05:40:06 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:40:16 I periodic.go:533> T001 ended after 10.0009586s : 2500 calls. qps=249.9760372970647
05:40:16 I periodic.go:533> T002 ended after 10.003914433s : 2500 calls. qps=249.90217746697513
05:40:16 I periodic.go:533> T000 ended after 10.003967506s : 2500 calls. qps=249.9008516871526
05:40:16 I periodic.go:533> T003 ended after 10.003998299s : 2500 calls. qps=249.90008247501405
Ended after 10.004012355s : 10000 calls. qps=999.6
Sleep times : count 9996 avg 0.0029659008 +/- 0.0004736 min -0.002681853 max 0.003498859 sum 29.6471441
Aggregated Function Time : count 10000 avg 0.00074187357 +/- 0.0003673 min 0.000302574 max 0.005653801 sum 7.4187357
# range, mid point, percentile, count
>= 0.000302574 <= 0.0004 , 0.000351287 , 0.23, 23
> 0.0004 <= 0.0005 , 0.00045 , 3.30, 307
> 0.0005 <= 0.0006 , 0.00055 , 21.36, 1806
> 0.0006 <= 0.0007 , 0.00065 , 56.59, 3523
> 0.0007 <= 0.0008 , 0.00075 , 81.28, 2469
> 0.0008 <= 0.0009 , 0.00085 , 92.23, 1095
> 0.0009 <= 0.001 , 0.00095 , 95.39, 316
> 0.001 <= 0.0011 , 0.00105 , 96.37, 98
> 0.0011 <= 0.0012 , 0.00115 , 96.70, 33
> 0.0012 <= 0.0014 , 0.0013 , 97.14, 44
> 0.0014 <= 0.0016 , 0.0015 , 97.54, 40
> 0.0016 <= 0.0018 , 0.0017 , 98.14, 60
> 0.0018 <= 0.002 , 0.0019 , 98.57, 43
> 0.002 <= 0.0025 , 0.00225 , 99.04, 47
> 0.0025 <= 0.003 , 0.00275 , 99.28, 24
> 0.003 <= 0.0035 , 0.00325 , 99.40, 12
> 0.0035 <= 0.004 , 0.00375 , 99.56, 16
> 0.004 <= 0.0045 , 0.00425 , 99.79, 23
> 0.0045 <= 0.005 , 0.00475 , 99.97, 18
> 0.005 <= 0.0056538 , 0.0053269 , 100.00, 3
# target 50% 0.000681294
# target 75% 0.000774565
# target 90% 0.000879635
# target 99% 0.00245745
# target 99.9% 0.00480556
Ping SERVING : 10000
All done 10000 calls (plus 4 warmup) 0.742 ms avg, 999.6 qps
Successfully wrote 3470 bytes of Json data to /data/2018-11-19-054006_grpc_baseline_1000qps_10s_echo_1_4.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
05:40:16 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:40:27 I periodic.go:533> T002 ended after 10.001396018s : 2500 calls. qps=249.9651044214856
05:40:27 I periodic.go:533> T001 ended after 10.00203306s : 2500 calls. qps=249.949183831232
05:40:27 I periodic.go:533> T003 ended after 10.00222659s : 2500 calls. qps=249.9443476414985
05:40:27 I periodic.go:533> T000 ended after 10.002253332s : 2500 calls. qps=249.94367939090307
Ended after 10.002338322s : 10000 calls. qps=999.77
Sleep times : count 9996 avg 0.0023646933 +/- 0.002655 min -0.048590463 max 0.003138866 sum 23.6374747
Aggregated Function Time : count 10000 avg 0.0011637672 +/- 0.001125 min 0.000595557 max 0.052437606 sum 11.6376723
# range, mid point, percentile, count
>= 0.000595557 <= 0.0006 , 0.000597779 , 0.01, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.09, 8
> 0.0007 <= 0.0008 , 0.00075 , 1.10, 101
> 0.0008 <= 0.0009 , 0.00085 , 10.13, 903
> 0.0009 <= 0.001 , 0.00095 , 31.79, 2166
> 0.001 <= 0.0011 , 0.00105 , 60.13, 2834
> 0.0011 <= 0.0012 , 0.00115 , 80.09, 1996
> 0.0012 <= 0.0014 , 0.0013 , 93.40, 1331
> 0.0014 <= 0.0016 , 0.0015 , 95.89, 249
> 0.0016 <= 0.0018 , 0.0017 , 96.66, 77
> 0.0018 <= 0.002 , 0.0019 , 97.12, 46
> 0.002 <= 0.0025 , 0.00225 , 98.23, 111
> 0.0025 <= 0.003 , 0.00275 , 98.71, 48
> 0.003 <= 0.0035 , 0.00325 , 98.86, 15
> 0.0035 <= 0.004 , 0.00375 , 98.96, 10
> 0.004 <= 0.0045 , 0.00425 , 99.16, 20
> 0.0045 <= 0.005 , 0.00475 , 99.52, 36
> 0.005 <= 0.006 , 0.0055 , 99.93, 41
> 0.006 <= 0.007 , 0.0065 , 99.96, 3
> 0.05 <= 0.0524376 , 0.0512188 , 100.00, 4
# target 50% 0.00106426
# target 75% 0.0011745
# target 90% 0.00134891
# target 99% 0.0041
# target 99.9% 0.00592683
Ping SERVING : 10000
All done 10000 calls (plus 4 warmup) 1.164 ms avg, 999.8 qps
Successfully wrote 3462 bytes of Json data to /data/2018-11-19-054017_grpc_linkerd_1000qps_10s_echo_1_4.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8079
05:40:27 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:40:37 W periodic.go:487> T002 warning only did 2497 out of 2500 calls before reaching 10s
05:40:37 I periodic.go:533> T002 ended after 10.007273791s : 2497 calls. qps=249.5185054540695
05:40:37 W periodic.go:487> T001 warning only did 2497 out of 2500 calls before reaching 10s
05:40:37 I periodic.go:533> T001 ended after 10.009606664s : 2497 calls. qps=249.46035182187256
05:40:37 W periodic.go:487> T000 warning only did 2497 out of 2500 calls before reaching 10s
05:40:37 I periodic.go:533> T000 ended after 10.009648915s : 2497 calls. qps=249.4592988429505
05:40:37 W periodic.go:487> T003 warning only did 2498 out of 2500 calls before reaching 10s
05:40:37 I periodic.go:533> T003 ended after 10.009840212s : 2498 calls. qps=249.55443314722913
Ended after 10.009854638s : 9989 calls. qps=997.92
Sleep times : count 9989 avg 0.0016041905 +/- 0.001644 min -0.014818514 max 0.003210177 sum 16.0242593
Aggregated Function Time : count 9989 avg 0.0019569379 +/- 0.001141 min 0.000574823 max 0.017906333 sum 19.5478524
# range, mid point, percentile, count
>= 0.000574823 <= 0.0006 , 0.000587412 , 0.01, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.09, 8
> 0.0007 <= 0.0008 , 0.00075 , 0.26, 17
> 0.0008 <= 0.0009 , 0.00085 , 0.69, 43
> 0.0009 <= 0.001 , 0.00095 , 3.62, 293
> 0.001 <= 0.0011 , 0.00105 , 9.48, 585
> 0.0011 <= 0.0012 , 0.00115 , 14.14, 465
> 0.0012 <= 0.0014 , 0.0013 , 18.10, 396
> 0.0014 <= 0.0016 , 0.0015 , 25.59, 748
> 0.0016 <= 0.0018 , 0.0017 , 51.07, 2545
> 0.0018 <= 0.002 , 0.0019 , 68.45, 1736
> 0.002 <= 0.0025 , 0.00225 , 87.04, 1857
> 0.0025 <= 0.003 , 0.00275 , 95.35, 831
> 0.003 <= 0.0035 , 0.00325 , 96.37, 101
> 0.0035 <= 0.004 , 0.00375 , 97.53, 116
> 0.004 <= 0.0045 , 0.00425 , 98.44, 91
> 0.0045 <= 0.005 , 0.00475 , 98.79, 35
> 0.005 <= 0.006 , 0.0055 , 99.26, 47
> 0.006 <= 0.007 , 0.0065 , 99.49, 23
> 0.007 <= 0.008 , 0.0075 , 99.55, 6
> 0.008 <= 0.009 , 0.0085 , 99.57, 2
> 0.009 <= 0.01 , 0.0095 , 99.60, 3
> 0.012 <= 0.014 , 0.013 , 99.70, 10
> 0.014 <= 0.016 , 0.015 , 99.73, 3
> 0.016 <= 0.0179063 , 0.0169532 , 100.00, 27
# target 50% 0.00179163
# target 75% 0.00217629
# target 90% 0.00267816
# target 99% 0.00544915
# target 99.9% 0.0172011
Ping SERVING : 9989
All done 9989 calls (plus 4 warmup) 1.957 ms avg, 997.9 qps
Successfully wrote 4331 bytes of Json data to /data/2018-11-19-054027_grpc_istio_1000qps_10s_echo_1_4.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
05:40:37 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 1000.0 qps
05:40:37 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:40:47 I periodic.go:533> T002 ended after 10.000492047s : 2500 calls. qps=249.98769943024584
05:40:47 I periodic.go:533> T003 ended after 10.000986319s : 2500 calls. qps=249.97534445682305
05:40:47 I periodic.go:533> T000 ended after 10.003537611s : 2500 calls. qps=249.91159100066486
05:40:47 I periodic.go:533> T001 ended after 10.003586275s : 2500 calls. qps=249.91037526689396
Ended after 10.003600926s : 10000 calls. qps=999.64
Sleep times : count 9996 avg 0.0032993677 +/- 0.0004409 min -0.002144283 max 0.003666865 sum 32.9804797
Aggregated Function Time : count 10000 avg 0.0004046645 +/- 0.0002862 min 9.2844e-05 max 0.004972168 sum 4.04664503
# range, mid point, percentile, count
>= 9.2844e-05 <= 0.0001 , 9.6422e-05 , 0.02, 2
> 0.0001 <= 0.0002 , 0.00015 , 1.21, 119
> 0.0002 <= 0.0003 , 0.00025 , 22.66, 2145
> 0.0003 <= 0.0004 , 0.00035 , 65.78, 4312
> 0.0004 <= 0.0005 , 0.00045 , 89.45, 2367
> 0.0005 <= 0.0006 , 0.00055 , 95.35, 590
> 0.0006 <= 0.0007 , 0.00065 , 96.71, 136
> 0.0007 <= 0.0008 , 0.00075 , 97.17, 46
> 0.0008 <= 0.0009 , 0.00085 , 97.40, 23
> 0.0009 <= 0.001 , 0.00095 , 97.70, 30
> 0.001 <= 0.0011 , 0.00105 , 97.94, 24
> 0.0011 <= 0.0012 , 0.00115 , 98.24, 30
> 0.0012 <= 0.0014 , 0.0013 , 98.88, 64
> 0.0014 <= 0.0016 , 0.0015 , 98.96, 8
> 0.0016 <= 0.0018 , 0.0017 , 99.14, 18
> 0.0018 <= 0.002 , 0.0019 , 99.41, 27
> 0.002 <= 0.0025 , 0.00225 , 99.56, 15
> 0.0025 <= 0.003 , 0.00275 , 99.60, 4
> 0.003 <= 0.0035 , 0.00325 , 99.82, 22
> 0.0035 <= 0.004 , 0.00375 , 99.86, 4
> 0.004 <= 0.0045 , 0.00425 , 99.94, 8
> 0.0045 <= 0.00497217 , 0.00473608 , 100.00, 6
# target 50% 0.000363404
# target 75% 0.000438952
# target 90% 0.000509322
# target 99% 0.00164444
# target 99.9% 0.00425
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 10000 (100.0 %)
Response Header Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
Response Body/Total Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
All done 10000 calls (plus 4 warmup) 0.405 ms avg, 999.6 qps
Successfully wrote 4260 bytes of Json data to /data/2018-11-19-054037_http_baseline_1000qps_10s_echo_0_5.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
05:40:47 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 1000.0 qps
05:40:47 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:40:57 I periodic.go:533> T000 ended after 10.001395864s : 2500 calls. qps=249.96510827041095
05:40:57 I periodic.go:533> T001 ended after 10.001793862s : 2500 calls. qps=249.95516149340932
05:40:57 I periodic.go:533> T002 ended after 10.00449866s : 2500 calls. qps=249.88758407210383
05:40:57 I periodic.go:533> T003 ended after 10.004553165s : 2500 calls. qps=249.88622267969123
Ended after 10.004566714s : 10000 calls. qps=999.54
Sleep times : count 9996 avg 0.0029496707 +/- 0.0004115 min -0.003202063 max 0.003499492 sum 29.4849087
Aggregated Function Time : count 10000 avg 0.00076911971 +/- 0.0003108 min 0.000434856 max 0.005062224 sum 7.69119711
# range, mid point, percentile, count
>= 0.000434856 <= 0.0005 , 0.000467428 , 0.24, 24
> 0.0005 <= 0.0006 , 0.00055 , 7.12, 688
> 0.0006 <= 0.0007 , 0.00065 , 45.66, 3854
> 0.0007 <= 0.0008 , 0.00075 , 76.28, 3062
> 0.0008 <= 0.0009 , 0.00085 , 89.44, 1316
> 0.0009 <= 0.001 , 0.00095 , 94.23, 479
> 0.001 <= 0.0011 , 0.00105 , 96.02, 179
> 0.0011 <= 0.0012 , 0.00115 , 96.71, 69
> 0.0012 <= 0.0014 , 0.0013 , 97.61, 90
> 0.0014 <= 0.0016 , 0.0015 , 98.25, 64
> 0.0016 <= 0.0018 , 0.0017 , 98.86, 61
> 0.0018 <= 0.002 , 0.0019 , 99.06, 20
> 0.002 <= 0.0025 , 0.00225 , 99.35, 29
> 0.0025 <= 0.003 , 0.00275 , 99.56, 21
> 0.003 <= 0.0035 , 0.00325 , 99.60, 4
> 0.0035 <= 0.004 , 0.00375 , 99.66, 6
> 0.004 <= 0.0045 , 0.00425 , 99.83, 17
> 0.0045 <= 0.005 , 0.00475 , 99.97, 14
> 0.005 <= 0.00506222 , 0.00503111 , 100.00, 3
# target 50% 0.000714174
# target 75% 0.00079582
# target 90% 0.000911691
# target 99% 0.00194
# target 99.9% 0.00475
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 10000 (100.0 %)
Response Header Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
Response Body/Total Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
All done 10000 calls (plus 4 warmup) 0.769 ms avg, 999.5 qps
Successfully wrote 3897 bytes of Json data to /data/2018-11-19-054047_http_linkerd_1000qps_10s_echo_0_5.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
05:40:57 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 1000.0 qps
05:40:57 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:41:07 W periodic.go:487> T002 warning only did 2498 out of 2500 calls before reaching 10s
05:41:07 I periodic.go:533> T002 ended after 10.005733844s : 2498 calls. qps=249.65685065648046
05:41:07 W periodic.go:487> T003 warning only did 2498 out of 2500 calls before reaching 10s
05:41:07 I periodic.go:533> T003 ended after 10.008249299s : 2498 calls. qps=249.59410236209786
05:41:07 W periodic.go:487> T000 warning only did 2498 out of 2500 calls before reaching 10s
05:41:07 I periodic.go:533> T000 ended after 10.008270762s : 2498 calls. qps=249.59356710097768
05:41:07 W periodic.go:487> T001 warning only did 2498 out of 2500 calls before reaching 10s
05:41:07 I periodic.go:533> T001 ended after 10.008284291s : 2498 calls. qps=249.59322970534907
Ended after 10.008296732s : 9992 calls. qps=998.37
Sleep times : count 9992 avg 0.0017601761 +/- 0.001702 min -0.0152741 max 0.003171678 sum 17.5876798
Aggregated Function Time : count 9992 avg 0.0017576657 +/- 0.001014 min 0.000730687 max 0.016049714 sum 17.5625954
# range, mid point, percentile, count
>= 0.000730687 <= 0.0008 , 0.000765344 , 0.07, 7
> 0.0008 <= 0.0009 , 0.00085 , 0.15, 8
> 0.0009 <= 0.001 , 0.00095 , 0.31, 16
> 0.001 <= 0.0011 , 0.00105 , 0.62, 31
> 0.0011 <= 0.0012 , 0.00115 , 3.46, 284
> 0.0012 <= 0.0014 , 0.0013 , 32.85, 2936
> 0.0014 <= 0.0016 , 0.0015 , 59.45, 2658
> 0.0016 <= 0.0018 , 0.0017 , 70.60, 1114
> 0.0018 <= 0.002 , 0.0019 , 81.19, 1059
> 0.002 <= 0.0025 , 0.00225 , 93.71, 1251
> 0.0025 <= 0.003 , 0.00275 , 95.97, 225
> 0.003 <= 0.0035 , 0.00325 , 96.72, 75
> 0.0035 <= 0.004 , 0.00375 , 97.86, 114
> 0.004 <= 0.0045 , 0.00425 , 98.46, 60
> 0.0045 <= 0.005 , 0.00475 , 98.86, 40
> 0.005 <= 0.006 , 0.0055 , 99.32, 46
> 0.006 <= 0.007 , 0.0065 , 99.44, 12
> 0.007 <= 0.008 , 0.0075 , 99.56, 12
> 0.009 <= 0.01 , 0.0095 , 99.57, 1
> 0.01 <= 0.012 , 0.011 , 99.65, 8
> 0.012 <= 0.014 , 0.013 , 99.76, 11
> 0.014 <= 0.016 , 0.015 , 99.98, 22
> 0.016 <= 0.0160497 , 0.0160249 , 100.00, 2
# target 50% 0.00152897
# target 75% 0.0018831
# target 90% 0.00235164
# target 99% 0.00530609
# target 99.9% 0.0152735
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 9992 (100.0 %)
Response Header Sizes : count 9992 avg 209 +/- 0 min 209 max 209 sum 2088328
Response Body/Total Sizes : count 9992 avg 209 +/- 0 min 209 max 209 sum 2088328
All done 9992 calls (plus 4 warmup) 1.758 ms avg, 998.4 qps
Successfully wrote 4577 bytes of Json data to /data/2018-11-19-054057_http_istio_1000qps_10s_echo_0_5.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
05:41:07 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:41:17 I periodic.go:533> T001 ended after 10.000808734s : 2500 calls. qps=249.97978328499448
05:41:17 I periodic.go:533> T002 ended after 10.00120895s : 2500 calls. qps=249.96977990345854
05:41:17 I periodic.go:533> T003 ended after 10.00491467s : 2500 calls. qps=249.8771936052904
05:41:17 I periodic.go:533> T000 ended after 10.005052806s : 2500 calls. qps=249.87374364488687
Ended after 10.005092798s : 10000 calls. qps=999.49
Sleep times : count 9996 avg 0.0029754515 +/- 0.0004653 min -0.001748585 max 0.003643288 sum 29.7426128
Aggregated Function Time : count 10000 avg 0.00073350729 +/- 0.0003575 min 0.000221791 max 0.005505589 sum 7.33507288
# range, mid point, percentile, count
>= 0.000221791 <= 0.0003 , 0.000260895 , 0.05, 5
> 0.0003 <= 0.0004 , 0.00035 , 0.31, 26
> 0.0004 <= 0.0005 , 0.00045 , 3.24, 293
> 0.0005 <= 0.0006 , 0.00055 , 21.29, 1805
> 0.0006 <= 0.0007 , 0.00065 , 58.35, 3706
> 0.0007 <= 0.0008 , 0.00075 , 83.53, 2518
> 0.0008 <= 0.0009 , 0.00085 , 92.96, 943
> 0.0009 <= 0.001 , 0.00095 , 95.68, 272
> 0.001 <= 0.0011 , 0.00105 , 96.58, 90
> 0.0011 <= 0.0012 , 0.00115 , 96.95, 37
> 0.0012 <= 0.0014 , 0.0013 , 97.37, 42
> 0.0014 <= 0.0016 , 0.0015 , 97.75, 38
> 0.0016 <= 0.0018 , 0.0017 , 98.34, 59
> 0.0018 <= 0.002 , 0.0019 , 98.72, 38
> 0.002 <= 0.0025 , 0.00225 , 99.24, 52
> 0.0025 <= 0.003 , 0.00275 , 99.33, 9
> 0.003 <= 0.0035 , 0.00325 , 99.50, 17
> 0.0035 <= 0.004 , 0.00375 , 99.55, 5
> 0.004 <= 0.0045 , 0.00425 , 99.75, 20
> 0.0045 <= 0.005 , 0.00475 , 99.90, 15
> 0.005 <= 0.00550559 , 0.00525279 , 100.00, 10
# target 50% 0.000677469
# target 75% 0.000766124
# target 90% 0.000868611
# target 99% 0.00226923
# target 99.9% 0.005
Ping SERVING : 10000
All done 10000 calls (plus 4 warmup) 0.734 ms avg, 999.5 qps
Successfully wrote 3598 bytes of Json data to /data/2018-11-19-054107_grpc_baseline_1000qps_10s_echo_0_5.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
05:41:17 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:41:27 I periodic.go:533> T001 ended after 10.00134662s : 2500 calls. qps=249.96633903285317
05:41:27 I periodic.go:533> T000 ended after 10.001516877s : 2500 calls. qps=249.96208382641717
05:41:27 I periodic.go:533> T003 ended after 10.001533298s : 2500 calls. qps=249.96167342660584
05:41:27 I periodic.go:533> T002 ended after 10.00156573s : 2500 calls. qps=249.96086287781665
Ended after 10.001756438s : 10000 calls. qps=999.82
Sleep times : count 9996 avg 0.0024050831 +/- 0.002759 min -0.047625677 max 0.003237392 sum 24.0412111
Aggregated Function Time : count 10000 avg 0.00111085 +/- 0.001102 min 0.0006097 max 0.051539332 sum 11.1085001
# range, mid point, percentile, count
>= 0.0006097 <= 0.0007 , 0.00065485 , 0.19, 19
> 0.0007 <= 0.0008 , 0.00075 , 3.54, 335
> 0.0008 <= 0.0009 , 0.00085 , 18.04, 1450
> 0.0009 <= 0.001 , 0.00095 , 44.23, 2619
> 0.001 <= 0.0011 , 0.00105 , 70.85, 2662
> 0.0011 <= 0.0012 , 0.00115 , 85.54, 1469
> 0.0012 <= 0.0014 , 0.0013 , 95.01, 947
> 0.0014 <= 0.0016 , 0.0015 , 96.41, 140
> 0.0016 <= 0.0018 , 0.0017 , 97.15, 74
> 0.0018 <= 0.002 , 0.0019 , 97.78, 63
> 0.002 <= 0.0025 , 0.00225 , 98.59, 81
> 0.0025 <= 0.003 , 0.00275 , 98.77, 18
> 0.003 <= 0.0035 , 0.00325 , 99.07, 30
> 0.0035 <= 0.004 , 0.00375 , 99.16, 9
> 0.004 <= 0.0045 , 0.00425 , 99.35, 19
> 0.0045 <= 0.005 , 0.00475 , 99.58, 23
> 0.005 <= 0.006 , 0.0055 , 99.86, 28
> 0.006 <= 0.007 , 0.0065 , 99.94, 8
> 0.007 <= 0.008 , 0.0075 , 99.96, 2
> 0.05 <= 0.0515393 , 0.0507697 , 100.00, 4
# target 50% 0.00102168
# target 75% 0.00112825
# target 90% 0.00129419
# target 99% 0.00338333
# target 99.9% 0.0065
Ping SERVING : 10000
All done 10000 calls (plus 4 warmup) 1.111 ms avg, 999.8 qps
Successfully wrote 3431 bytes of Json data to /data/2018-11-19-054117_grpc_linkerd_1000qps_10s_echo_0_5.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8079
05:41:27 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:41:37 W periodic.go:487> T001 warning only did 2498 out of 2500 calls before reaching 10s
05:41:37 I periodic.go:533> T001 ended after 10.013897471s : 2498 calls. qps=249.4533229678201
05:41:37 W periodic.go:487> T000 warning only did 2498 out of 2500 calls before reaching 10s
05:41:37 I periodic.go:533> T000 ended after 10.014024194s : 2498 calls. qps=249.45016624752128
05:41:37 W periodic.go:487> T003 warning only did 2498 out of 2500 calls before reaching 10s
05:41:37 I periodic.go:533> T003 ended after 10.014057309s : 2498 calls. qps=249.44934135287562
05:41:37 I periodic.go:533> T002 ended after 10.015263143s : 2500 calls. qps=249.61900294625138
Ended after 10.015313868s : 9994 calls. qps=997.87
Sleep times : count 9993 avg 0.0015720142 +/- 0.001611 min -0.017807611 max 0.003266866 sum 15.7091375
Aggregated Function Time : count 9994 avg 0.0019746501 +/- 0.001158 min 0.000575349 max 0.021643794 sum 19.7346529
# range, mid point, percentile, count
>= 0.000575349 <= 0.0006 , 0.000587675 , 0.01, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.10, 9
> 0.0007 <= 0.0008 , 0.00075 , 0.36, 26
> 0.0008 <= 0.0009 , 0.00085 , 0.78, 42
> 0.0009 <= 0.001 , 0.00095 , 3.07, 229
> 0.001 <= 0.0011 , 0.00105 , 7.16, 409
> 0.0011 <= 0.0012 , 0.00115 , 11.67, 450
> 0.0012 <= 0.0014 , 0.0013 , 17.77, 610
> 0.0014 <= 0.0016 , 0.0015 , 25.75, 797
> 0.0016 <= 0.0018 , 0.0017 , 46.06, 2030
> 0.0018 <= 0.002 , 0.0019 , 67.06, 2099
> 0.002 <= 0.0025 , 0.00225 , 89.03, 2196
> 0.0025 <= 0.003 , 0.00275 , 95.08, 604
> 0.003 <= 0.0035 , 0.00325 , 96.30, 122
> 0.0035 <= 0.004 , 0.00375 , 97.21, 91
> 0.004 <= 0.0045 , 0.00425 , 98.03, 82
> 0.0045 <= 0.005 , 0.00475 , 98.49, 46
> 0.005 <= 0.006 , 0.0055 , 99.19, 70
> 0.006 <= 0.007 , 0.0065 , 99.53, 34
> 0.007 <= 0.008 , 0.0075 , 99.57, 4
> 0.008 <= 0.009 , 0.0085 , 99.60, 3
> 0.01 <= 0.012 , 0.011 , 99.64, 4
> 0.012 <= 0.014 , 0.013 , 99.67, 3
> 0.014 <= 0.016 , 0.015 , 99.83, 16
> 0.016 <= 0.018 , 0.017 , 99.91, 8
> 0.018 <= 0.02 , 0.019 , 99.94, 3
> 0.02 <= 0.0216438 , 0.0208219 , 100.00, 6
# target 50% 0.00183754
# target 75% 0.00218067
# target 90% 0.00257997
# target 99% 0.00572943
# target 99.9% 0.0177515
Ping SERVING : 9994
All done 9994 calls (plus 4 warmup) 1.975 ms avg, 997.9 qps
Successfully wrote 4583 bytes of Json data to /data/2018-11-19-054127_grpc_istio_1000qps_10s_echo_0_5.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
05:41:37 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 1000.0 qps
05:41:37 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:41:47 I periodic.go:533> T003 ended after 10.000574061s : 2500 calls. qps=249.98564929881778
05:41:47 I periodic.go:533> T001 ended after 10.001005287s : 2500 calls. qps=249.97487035125093
05:41:47 I periodic.go:533> T002 ended after 10.003314562s : 2500 calls. qps=249.91716340670243
05:41:47 I periodic.go:533> T000 ended after 10.003351139s : 2500 calls. qps=249.9162495909262
Ended after 10.003365306s : 10000 calls. qps=999.66
Sleep times : count 9996 avg 0.0031701778 +/- 0.0004796 min -0.002923268 max 0.003680984 sum 31.6890974
Aggregated Function Time : count 10000 avg 0.0004716004 +/- 0.000294 min 0.0001129 max 0.004816567 sum 4.71600401
# range, mid point, percentile, count
>= 0.0001129 <= 0.0002 , 0.00015645 , 0.86, 86
> 0.0002 <= 0.0003 , 0.00025 , 12.27, 1141
> 0.0003 <= 0.0004 , 0.00035 , 45.01, 3274
> 0.0004 <= 0.0005 , 0.00045 , 72.58, 2757
> 0.0005 <= 0.0006 , 0.00055 , 87.08, 1450
> 0.0006 <= 0.0007 , 0.00065 , 93.04, 596
> 0.0007 <= 0.0008 , 0.00075 , 95.44, 240
> 0.0008 <= 0.0009 , 0.00085 , 96.37, 93
> 0.0009 <= 0.001 , 0.00095 , 97.06, 69
> 0.001 <= 0.0011 , 0.00105 , 97.31, 25
> 0.0011 <= 0.0012 , 0.00115 , 97.64, 33
> 0.0012 <= 0.0014 , 0.0013 , 98.66, 102
> 0.0014 <= 0.0016 , 0.0015 , 98.90, 24
> 0.0016 <= 0.0018 , 0.0017 , 99.13, 23
> 0.0018 <= 0.002 , 0.0019 , 99.27, 14
> 0.002 <= 0.0025 , 0.00225 , 99.50, 23
> 0.0025 <= 0.003 , 0.00275 , 99.64, 14
> 0.003 <= 0.0035 , 0.00325 , 99.86, 22
> 0.0035 <= 0.004 , 0.00375 , 99.94, 8
> 0.004 <= 0.0045 , 0.00425 , 99.98, 4
> 0.0045 <= 0.00481657 , 0.00465828 , 100.00, 2
# target 50% 0.000418099
# target 75% 0.00051669
# target 90% 0.000648993
# target 99% 0.00168696
# target 99.9% 0.00375
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 10000 (100.0 %)
Response Header Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
Response Body/Total Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
All done 10000 calls (plus 4 warmup) 0.472 ms avg, 999.7 qps
Successfully wrote 4152 bytes of Json data to /data/2018-11-19-054137_http_baseline_1000qps_10s_echo_1_5.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
05:41:47 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 1000.0 qps
05:41:47 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:41:57 I periodic.go:533> T000 ended after 10.000963553s : 2500 calls. qps=249.97591349586233
05:41:57 I periodic.go:533> T003 ended after 10.001460746s : 2500 calls. qps=249.9634866836681
05:41:57 I periodic.go:533> T002 ended after 10.001569742s : 2500 calls. qps=249.96076260925804
05:41:57 I periodic.go:533> T001 ended after 10.001636903s : 2500 calls. qps=249.95908412253226
Ended after 10.001661082s : 10000 calls. qps=999.83
Sleep times : count 9996 avg 0.0030078258 +/- 0.0004002 min -0.002208264 max 0.00352258 sum 30.0662266
Aggregated Function Time : count 10000 avg 0.00073021405 +/- 0.0003135 min 0.000403169 max 0.005805976 sum 7.30214054
# range, mid point, percentile, count
>= 0.000403169 <= 0.0005 , 0.000451584 , 0.31, 31
> 0.0005 <= 0.0006 , 0.00055 , 15.85, 1554
> 0.0006 <= 0.0007 , 0.00065 , 59.96, 4411
> 0.0007 <= 0.0008 , 0.00075 , 85.34, 2538
> 0.0008 <= 0.0009 , 0.00085 , 93.60, 826
> 0.0009 <= 0.001 , 0.00095 , 95.98, 238
> 0.001 <= 0.0011 , 0.00105 , 96.79, 81
> 0.0011 <= 0.0012 , 0.00115 , 97.49, 70
> 0.0012 <= 0.0014 , 0.0013 , 97.90, 41
> 0.0014 <= 0.0016 , 0.0015 , 98.20, 30
> 0.0016 <= 0.0018 , 0.0017 , 98.67, 47
> 0.0018 <= 0.002 , 0.0019 , 98.99, 32
> 0.002 <= 0.0025 , 0.00225 , 99.32, 33
> 0.0025 <= 0.003 , 0.00275 , 99.51, 19
> 0.003 <= 0.0035 , 0.00325 , 99.62, 11
> 0.0035 <= 0.004 , 0.00375 , 99.82, 20
> 0.004 <= 0.0045 , 0.00425 , 99.87, 5
> 0.0045 <= 0.005 , 0.00475 , 99.89, 2
> 0.005 <= 0.00580598 , 0.00540299 , 100.00, 11
# target 50% 0.00067742
# target 75% 0.000759259
# target 90% 0.000856416
# target 99% 0.00201515
# target 99.9% 0.00507327
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 10000 (100.0 %)
Response Header Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
Response Body/Total Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
All done 10000 calls (plus 4 warmup) 0.730 ms avg, 999.8 qps
Successfully wrote 3884 bytes of Json data to /data/2018-11-19-054147_http_linkerd_1000qps_10s_echo_1_5.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
05:41:57 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 1000.0 qps
05:41:57 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:42:07 W periodic.go:487> T000 warning only did 2498 out of 2500 calls before reaching 10s
05:42:07 I periodic.go:533> T000 ended after 10.006184952s : 2498 calls. qps=249.6455953975455
05:42:07 W periodic.go:487> T001 warning only did 2498 out of 2500 calls before reaching 10s
05:42:07 I periodic.go:533> T001 ended after 10.008373521s : 2498 calls. qps=249.59100444828414
05:42:07 W periodic.go:487> T002 warning only did 2498 out of 2500 calls before reaching 10s
05:42:07 I periodic.go:533> T002 ended after 10.008415275s : 2498 calls. qps=249.58996318225812
05:42:07 W periodic.go:487> T003 warning only did 2498 out of 2500 calls before reaching 10s
05:42:07 I periodic.go:533> T003 ended after 10.008428924s : 2498 calls. qps=249.5896228038198
Ended after 10.008441407s : 9992 calls. qps=998.36
Sleep times : count 9992 avg 0.0018867726 +/- 0.001491 min -0.013201956 max 0.003188209 sum 18.8526316
Aggregated Function Time : count 9992 avg 0.001706246 +/- 0.001026 min 0.00067102 max 0.016991353 sum 17.0488098
# range, mid point, percentile, count
>= 0.00067102 <= 0.0007 , 0.00068551 , 0.01, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.04, 3
> 0.0008 <= 0.0009 , 0.00085 , 0.11, 7
> 0.0009 <= 0.001 , 0.00095 , 0.23, 12
> 0.001 <= 0.0011 , 0.00105 , 0.62, 39
> 0.0011 <= 0.0012 , 0.00115 , 7.55, 692
> 0.0012 <= 0.0014 , 0.0013 , 45.67, 3809
> 0.0014 <= 0.0016 , 0.0015 , 63.35, 1767
> 0.0016 <= 0.0018 , 0.0017 , 73.98, 1062
> 0.0018 <= 0.002 , 0.0019 , 82.63, 864
> 0.002 <= 0.0025 , 0.00225 , 94.23, 1159
> 0.0025 <= 0.003 , 0.00275 , 95.60, 137
> 0.003 <= 0.0035 , 0.00325 , 96.62, 102
> 0.0035 <= 0.004 , 0.00375 , 97.69, 107
> 0.004 <= 0.0045 , 0.00425 , 98.31, 62
> 0.0045 <= 0.005 , 0.00475 , 98.82, 51
> 0.005 <= 0.006 , 0.0055 , 99.32, 50
> 0.006 <= 0.007 , 0.0065 , 99.48, 16
> 0.007 <= 0.008 , 0.0075 , 99.56, 8
> 0.008 <= 0.009 , 0.0085 , 99.60, 4
> 0.01 <= 0.012 , 0.011 , 99.64, 4
> 0.012 <= 0.014 , 0.013 , 99.88, 24
> 0.014 <= 0.016 , 0.015 , 99.96, 8
> 0.016 <= 0.0169914 , 0.0164957 , 100.00, 4
# target 50% 0.00144901
# target 75% 0.00182361
# target 90% 0.00231786
# target 99% 0.0053616
# target 99.9% 0.014502
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 9992 (100.0 %)
Response Header Sizes : count 9992 avg 209 +/- 0 min 209 max 209 sum 2088328
Response Body/Total Sizes : count 9992 avg 209 +/- 0 min 209 max 209 sum 2088328
All done 9992 calls (plus 4 warmup) 1.706 ms avg, 998.4 qps
Successfully wrote 4704 bytes of Json data to /data/2018-11-19-054157_http_istio_1000qps_10s_echo_1_5.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
05:42:08 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:42:18 I periodic.go:533> T001 ended after 10.001145795s : 2500 calls. qps=249.97135840673945
05:42:18 I periodic.go:533> T000 ended after 10.001547861s : 2500 calls. qps=249.9613094637572
05:42:18 I periodic.go:533> T002 ended after 10.002035172s : 2500 calls. qps=249.94913105270572
05:42:18 I periodic.go:533> T003 ended after 10.002087423s : 2500 calls. qps=249.9478253160635
Ended after 10.002099937s : 10000 calls. qps=999.79
Sleep times : count 9996 avg 0.0029759706 +/- 0.0004692 min -0.002908836 max 0.003514892 sum 29.7478025
Aggregated Function Time : count 10000 avg 0.00073250695 +/- 0.0003513 min 0.000231626 max 0.006550375 sum 7.32506954
# range, mid point, percentile, count
>= 0.000231626 <= 0.0003 , 0.000265813 , 0.05, 5
> 0.0003 <= 0.0004 , 0.00035 , 0.25, 20
> 0.0004 <= 0.0005 , 0.00045 , 3.37, 312
> 0.0005 <= 0.0006 , 0.00055 , 21.62, 1825
> 0.0006 <= 0.0007 , 0.00065 , 58.63, 3701
> 0.0007 <= 0.0008 , 0.00075 , 84.00, 2537
> 0.0008 <= 0.0009 , 0.00085 , 92.97, 897
> 0.0009 <= 0.001 , 0.00095 , 95.70, 273
> 0.001 <= 0.0011 , 0.00105 , 96.54, 84
> 0.0011 <= 0.0012 , 0.00115 , 96.87, 33
> 0.0012 <= 0.0014 , 0.0013 , 97.33, 46
> 0.0014 <= 0.0016 , 0.0015 , 97.64, 31
> 0.0016 <= 0.0018 , 0.0017 , 98.26, 62
> 0.0018 <= 0.002 , 0.0019 , 98.66, 40
> 0.002 <= 0.0025 , 0.00225 , 99.16, 50
> 0.0025 <= 0.003 , 0.00275 , 99.33, 17
> 0.003 <= 0.0035 , 0.00325 , 99.57, 24
> 0.0035 <= 0.004 , 0.00375 , 99.65, 8
> 0.004 <= 0.0045 , 0.00425 , 99.77, 12
> 0.0045 <= 0.005 , 0.00475 , 99.94, 17
> 0.005 <= 0.006 , 0.0055 , 99.98, 4
> 0.006 <= 0.00655037 , 0.00627519 , 100.00, 2
# target 50% 0.000676682
# target 75% 0.000764525
# target 90% 0.00086689
# target 99% 0.00234
# target 99.9% 0.00488235
Ping SERVING : 10000
All done 10000 calls (plus 4 warmup) 0.733 ms avg, 999.8 qps
Successfully wrote 3718 bytes of Json data to /data/2018-11-19-054208_grpc_baseline_1000qps_10s_echo_1_5.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
05:42:18 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:42:28 I periodic.go:533> T001 ended after 10.001111041s : 2500 calls. qps=249.97222706068743
05:42:28 I periodic.go:533> T000 ended after 10.001792665s : 2500 calls. qps=249.9551914076795
05:42:28 I periodic.go:533> T003 ended after 10.001957774s : 2500 calls. qps=249.951065230322
05:42:28 I periodic.go:533> T002 ended after 10.001985228s : 2500 calls. qps=249.9503791508699
Ended after 10.002229387s : 10000 calls. qps=999.78
Sleep times : count 9996 avg 0.0023523196 +/- 0.003034 min -0.053494636 max 0.003140662 sum 23.5137872
Aggregated Function Time : count 10000 avg 0.0011402778 +/- 0.001189 min 0.000505153 max 0.057338894 sum 11.4027783
# range, mid point, percentile, count
>= 0.000505153 <= 0.0006 , 0.000552577 , 0.01, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.10, 9
> 0.0007 <= 0.0008 , 0.00075 , 2.02, 192
> 0.0008 <= 0.0009 , 0.00085 , 12.39, 1037
> 0.0009 <= 0.001 , 0.00095 , 35.42, 2303
> 0.001 <= 0.0011 , 0.00105 , 62.35, 2693
> 0.0011 <= 0.0012 , 0.00115 , 80.78, 1843
> 0.0012 <= 0.0014 , 0.0013 , 94.02, 1324
> 0.0014 <= 0.0016 , 0.0015 , 96.32, 230
> 0.0016 <= 0.0018 , 0.0017 , 97.02, 70
> 0.0018 <= 0.002 , 0.0019 , 97.61, 59
> 0.002 <= 0.0025 , 0.00225 , 98.70, 109
> 0.0025 <= 0.003 , 0.00275 , 99.13, 43
> 0.003 <= 0.0035 , 0.00325 , 99.24, 11
> 0.0035 <= 0.004 , 0.00375 , 99.38, 14
> 0.004 <= 0.0045 , 0.00425 , 99.49, 11
> 0.0045 <= 0.005 , 0.00475 , 99.71, 22
> 0.005 <= 0.006 , 0.0055 , 99.92, 21
> 0.006 <= 0.007 , 0.0065 , 99.93, 1
> 0.007 <= 0.008 , 0.0075 , 99.96, 3
> 0.05 <= 0.0573389 , 0.0536694 , 100.00, 4
# target 50% 0.00105414
# target 75% 0.00116864
# target 90% 0.00133927
# target 99% 0.00284884
# target 99.9% 0.00590476
Ping SERVING : 10000
All done 10000 calls (plus 4 warmup) 1.140 ms avg, 999.8 qps
Successfully wrote 3571 bytes of Json data to /data/2018-11-19-054218_grpc_linkerd_1000qps_10s_echo_1_5.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8079
05:42:28 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:42:38 W periodic.go:487> T002 warning only did 2496 out of 2500 calls before reaching 10s
05:42:38 I periodic.go:533> T002 ended after 10.000969782s : 2496 calls. qps=249.57579658848329
05:42:38 W periodic.go:487> T001 warning only did 2497 out of 2500 calls before reaching 10s
05:42:38 I periodic.go:533> T001 ended after 10.003811013s : 2497 calls. qps=249.604875257553
05:42:38 W periodic.go:487> T000 warning only did 2496 out of 2500 calls before reaching 10s
05:42:38 I periodic.go:533> T000 ended after 10.003920314s : 2496 calls. qps=249.5021873082065
05:42:38 W periodic.go:487> T003 warning only did 2496 out of 2500 calls before reaching 10s
05:42:38 I periodic.go:533> T003 ended after 10.003934286s : 2496 calls. qps=249.50183884084743
Ended after 10.003945007s : 9985 calls. qps=998.11
Sleep times : count 9985 avg 0.0015590498 +/- 0.001649 min -0.016199669 max 0.003276431 sum 15.5671127
Aggregated Function Time : count 9985 avg 0.0019918026 +/- 0.00116 min 0.000503956 max 0.0200476 sum 19.8881493
# range, mid point, percentile, count
>= 0.000503956 <= 0.0006 , 0.000551978 , 0.03, 3
> 0.0006 <= 0.0007 , 0.00065 , 0.08, 5
> 0.0007 <= 0.0008 , 0.00075 , 0.22, 14
> 0.0008 <= 0.0009 , 0.00085 , 0.89, 67
> 0.0009 <= 0.001 , 0.00095 , 4.56, 366
> 0.001 <= 0.0011 , 0.00105 , 8.71, 415
> 0.0011 <= 0.0012 , 0.00115 , 11.89, 317
> 0.0012 <= 0.0014 , 0.0013 , 16.12, 423
> 0.0014 <= 0.0016 , 0.0015 , 26.89, 1075
> 0.0016 <= 0.0018 , 0.0017 , 47.88, 2096
> 0.0018 <= 0.002 , 0.0019 , 62.60, 1470
> 0.002 <= 0.0025 , 0.00225 , 87.68, 2504
> 0.0025 <= 0.003 , 0.00275 , 95.37, 768
> 0.003 <= 0.0035 , 0.00325 , 96.48, 111
> 0.0035 <= 0.004 , 0.00375 , 97.29, 80
> 0.004 <= 0.0045 , 0.00425 , 98.11, 82
> 0.0045 <= 0.005 , 0.00475 , 98.64, 53
> 0.005 <= 0.006 , 0.0055 , 99.29, 65
> 0.006 <= 0.007 , 0.0065 , 99.46, 17
> 0.007 <= 0.008 , 0.0075 , 99.56, 10
> 0.01 <= 0.012 , 0.011 , 99.58, 2
> 0.012 <= 0.014 , 0.013 , 99.66, 8
> 0.014 <= 0.016 , 0.015 , 99.81, 15
> 0.016 <= 0.018 , 0.017 , 99.92, 11
> 0.018 <= 0.02 , 0.019 , 99.99, 7
> 0.02 <= 0.0200476 , 0.0200238 , 100.00, 1
# target 50% 0.00182878
# target 75% 0.00224715
# target 90% 0.00265072
# target 99% 0.00555615
# target 99.9% 0.0176391
Ping SERVING : 9985
All done 9985 calls (plus 4 warmup) 1.992 ms avg, 998.1 qps
Successfully wrote 4448 bytes of Json data to /data/2018-11-19-054228_grpc_istio_1000qps_10s_echo_1_5.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
05:42:38 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 1000.0 qps
05:42:38 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:42:48 I periodic.go:533> T000 ended after 10.000464922s : 2500 calls. qps=249.98837749035602
05:42:48 I periodic.go:533> T003 ended after 10.000952283s : 2500 calls. qps=249.9761951918914
05:42:48 I periodic.go:533> T002 ended after 10.003480869s : 2500 calls. qps=249.9130085555822
05:42:48 I periodic.go:533> T001 ended after 10.003513179s : 2500 calls. qps=249.91220137023024
Ended after 10.003551042s : 10000 calls. qps=999.65
Sleep times : count 9996 avg 0.0033152497 +/- 0.0004183 min -0.000955657 max 0.003736893 sum 33.1392362
Aggregated Function Time : count 10000 avg 0.00040227825 +/- 0.0002794 min 0.000107283 max 0.004744555 sum 4.0227825
# range, mid point, percentile, count
>= 0.000107283 <= 0.0002 , 0.000153641 , 1.47, 147
> 0.0002 <= 0.0003 , 0.00025 , 24.29, 2282
> 0.0003 <= 0.0004 , 0.00035 , 66.53, 4224
> 0.0004 <= 0.0005 , 0.00045 , 89.37, 2284
> 0.0005 <= 0.0006 , 0.00055 , 95.08, 571
> 0.0006 <= 0.0007 , 0.00065 , 96.45, 137
> 0.0007 <= 0.0008 , 0.00075 , 97.00, 55
> 0.0008 <= 0.0009 , 0.00085 , 97.28, 28
> 0.0009 <= 0.001 , 0.00095 , 97.69, 41
> 0.001 <= 0.0011 , 0.00105 , 97.98, 29
> 0.0011 <= 0.0012 , 0.00115 , 98.19, 21
> 0.0012 <= 0.0014 , 0.0013 , 98.90, 71
> 0.0014 <= 0.0016 , 0.0015 , 99.11, 21
> 0.0016 <= 0.0018 , 0.0017 , 99.31, 20
> 0.0018 <= 0.002 , 0.0019 , 99.47, 16
> 0.002 <= 0.0025 , 0.00225 , 99.65, 18
> 0.003 <= 0.0035 , 0.00325 , 99.76, 11
> 0.0035 <= 0.004 , 0.00375 , 99.88, 12
> 0.004 <= 0.0045 , 0.00425 , 99.93, 5
> 0.0045 <= 0.00474456 , 0.00462228 , 100.00, 7
# target 50% 0.000360866
# target 75% 0.000437084
# target 90% 0.000511033
# target 99% 0.00149524
# target 99.9% 0.0042
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 10000 (100.0 %)
Response Header Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
Response Body/Total Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
All done 10000 calls (plus 4 warmup) 0.402 ms avg, 999.6 qps
Successfully wrote 4045 bytes of Json data to /data/2018-11-19-054238_http_baseline_1000qps_10s_echo_0_6.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
05:42:48 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 1000.0 qps
05:42:48 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:42:58 I periodic.go:533> T001 ended after 10.000886986s : 2500 calls. qps=249.977827316686
05:42:58 I periodic.go:533> T000 ended after 10.001524636s : 2500 calls. qps=249.96188991040148
05:42:58 I periodic.go:533> T002 ended after 10.001746136s : 2500 calls. qps=249.95635422114657
05:42:58 I periodic.go:533> T003 ended after 10.001827131s : 2500 calls. qps=249.95433006949457
Ended after 10.001891959s : 10000 calls. qps=999.81
Sleep times : count 9996 avg 0.0030410605 +/- 0.0004109 min -0.003492875 max 0.003470909 sum 30.3984412
Aggregated Function Time : count 10000 avg 0.00069748671 +/- 0.0003287 min 0.000310536 max 0.007272885 sum 6.97486705
# range, mid point, percentile, count
>= 0.000310536 <= 0.0004 , 0.000355268 , 0.03, 3
> 0.0004 <= 0.0005 , 0.00045 , 0.69, 66
> 0.0005 <= 0.0006 , 0.00055 , 27.52, 2683
> 0.0006 <= 0.0007 , 0.00065 , 72.53, 4501
> 0.0007 <= 0.0008 , 0.00075 , 91.08, 1855
> 0.0008 <= 0.0009 , 0.00085 , 95.66, 458
> 0.0009 <= 0.001 , 0.00095 , 96.64, 98
> 0.001 <= 0.0011 , 0.00105 , 97.07, 43
> 0.0011 <= 0.0012 , 0.00115 , 97.44, 37
> 0.0012 <= 0.0014 , 0.0013 , 97.92, 48
> 0.0014 <= 0.0016 , 0.0015 , 98.40, 48
> 0.0016 <= 0.0018 , 0.0017 , 98.69, 29
> 0.0018 <= 0.002 , 0.0019 , 99.11, 42
> 0.002 <= 0.0025 , 0.00225 , 99.36, 25
> 0.0025 <= 0.003 , 0.00275 , 99.50, 14
> 0.003 <= 0.0035 , 0.00325 , 99.62, 12
> 0.0035 <= 0.004 , 0.00375 , 99.72, 10
> 0.004 <= 0.0045 , 0.00425 , 99.83, 11
> 0.0045 <= 0.005 , 0.00475 , 99.92, 9
> 0.005 <= 0.006 , 0.0055 , 99.96, 4
> 0.007 <= 0.00727288 , 0.00713644 , 100.00, 4
# target 50% 0.000649944
# target 75% 0.000713315
# target 90% 0.000794178
# target 99% 0.00194762
# target 99.9% 0.00488889
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 10000 (100.0 %)
Response Header Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
Response Body/Total Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
All done 10000 calls (plus 4 warmup) 0.697 ms avg, 999.8 qps
Successfully wrote 4105 bytes of Json data to /data/2018-11-19-054248_http_linkerd_1000qps_10s_echo_0_6.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
05:42:58 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 1000.0 qps
05:42:58 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:43:08 W periodic.go:487> T002 warning only did 2498 out of 2500 calls before reaching 10s
05:43:08 I periodic.go:533> T002 ended after 10.005734535s : 2498 calls. qps=249.6568334150792
05:43:08 W periodic.go:487> T001 warning only did 2498 out of 2500 calls before reaching 10s
05:43:08 I periodic.go:533> T001 ended after 10.008019252s : 2498 calls. qps=249.59983959870982
05:43:08 W periodic.go:487> T000 warning only did 2498 out of 2500 calls before reaching 10s
05:43:08 I periodic.go:533> T000 ended after 10.00804834s : 2498 calls. qps=249.59911414656497
05:43:08 W periodic.go:487> T003 warning only did 2498 out of 2500 calls before reaching 10s
05:43:08 I periodic.go:533> T003 ended after 10.008060406s : 2498 calls. qps=249.5988132228306
Ended after 10.008160498s : 9992 calls. qps=998.39
Sleep times : count 9992 avg 0.001967787 +/- 0.001265 min -0.011998439 max 0.003088395 sum 19.6621276
Aggregated Function Time : count 9992 avg 0.0016720483 +/- 0.000967 min 0.000732534 max 0.015766234 sum 16.7071067
# range, mid point, percentile, count
>= 0.000732534 <= 0.0008 , 0.000766267 , 0.07, 7
> 0.0008 <= 0.0009 , 0.00085 , 0.25, 18
> 0.0009 <= 0.001 , 0.00095 , 0.30, 5
> 0.001 <= 0.0011 , 0.00105 , 0.70, 40
> 0.0011 <= 0.0012 , 0.00115 , 9.10, 839
> 0.0012 <= 0.0014 , 0.0013 , 51.33, 4220
> 0.0014 <= 0.0016 , 0.0015 , 64.53, 1319
> 0.0016 <= 0.0018 , 0.0017 , 73.05, 851
> 0.0018 <= 0.002 , 0.0019 , 82.43, 937
> 0.002 <= 0.0025 , 0.00225 , 94.89, 1245
> 0.0025 <= 0.003 , 0.00275 , 95.83, 94
> 0.003 <= 0.0035 , 0.00325 , 97.12, 129
> 0.0035 <= 0.004 , 0.00375 , 98.07, 95
> 0.004 <= 0.0045 , 0.00425 , 98.65, 58
> 0.0045 <= 0.005 , 0.00475 , 98.97, 32
> 0.005 <= 0.006 , 0.0055 , 99.40, 43
> 0.006 <= 0.007 , 0.0065 , 99.56, 16
> 0.009 <= 0.01 , 0.0095 , 99.60, 4
> 0.01 <= 0.012 , 0.011 , 99.64, 4
> 0.012 <= 0.014 , 0.013 , 99.93, 29
> 0.014 <= 0.0157662 , 0.0148831 , 100.00, 7
# target 50% 0.0013937
# target 75% 0.00184162
# target 90% 0.00230394
# target 99% 0.00507163
# target 99.9% 0.0137937
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 9992 (100.0 %)
Response Header Sizes : count 9992 avg 209 +/- 0 min 209 max 209 sum 2088328
Response Body/Total Sizes : count 9992 avg 209 +/- 0 min 209 max 209 sum 2088328
All done 9992 calls (plus 4 warmup) 1.672 ms avg, 998.4 qps
Successfully wrote 4335 bytes of Json data to /data/2018-11-19-054258_http_istio_1000qps_10s_echo_0_6.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
05:43:08 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:43:18 I periodic.go:533> T003 ended after 10.000721813s : 2500 calls. qps=249.981955977441
05:43:18 I periodic.go:533> T001 ended after 10.001221705s : 2500 calls. qps=249.96946110595195
05:43:18 I periodic.go:533> T002 ended after 10.003612653s : 2500 calls. qps=249.9097162913711
05:43:18 I periodic.go:533> T000 ended after 10.003682593s : 2500 calls. qps=249.90796906624723
Ended after 10.003780755s : 10000 calls. qps=999.62
Sleep times : count 9996 avg 0.0029887213 +/- 0.0004507 min -0.001826799 max 0.003516195 sum 29.8752586
Aggregated Function Time : count 10000 avg 0.00071913668 +/- 0.0003139 min 0.000220992 max 0.005382132 sum 7.19136678
# range, mid point, percentile, count
>= 0.000220992 <= 0.0003 , 0.000260496 , 0.01, 1
> 0.0003 <= 0.0004 , 0.00035 , 0.51, 50
> 0.0004 <= 0.0005 , 0.00045 , 3.41, 290
> 0.0005 <= 0.0006 , 0.00055 , 24.17, 2076
> 0.0006 <= 0.0007 , 0.00065 , 61.04, 3687
> 0.0007 <= 0.0008 , 0.00075 , 84.70, 2366
> 0.0008 <= 0.0009 , 0.00085 , 93.32, 862
> 0.0009 <= 0.001 , 0.00095 , 95.92, 260
> 0.001 <= 0.0011 , 0.00105 , 96.68, 76
> 0.0011 <= 0.0012 , 0.00115 , 97.08, 40
> 0.0012 <= 0.0014 , 0.0013 , 97.69, 61
> 0.0014 <= 0.0016 , 0.0015 , 98.06, 37
> 0.0016 <= 0.0018 , 0.0017 , 98.43, 37
> 0.0018 <= 0.002 , 0.0019 , 98.89, 46
> 0.002 <= 0.0025 , 0.00225 , 99.34, 45
> 0.0025 <= 0.003 , 0.00275 , 99.60, 26
> 0.003 <= 0.0035 , 0.00325 , 99.66, 6
> 0.0035 <= 0.004 , 0.00375 , 99.78, 12
> 0.004 <= 0.0045 , 0.00425 , 99.85, 7
> 0.0045 <= 0.005 , 0.00475 , 99.94, 9
> 0.005 <= 0.00538213 , 0.00519107 , 100.00, 6
# target 50% 0.000670057
# target 75% 0.000759003
# target 90% 0.000861485
# target 99% 0.00212222
# target 99.9% 0.00477778
Ping SERVING : 10000
All done 10000 calls (plus 4 warmup) 0.719 ms avg, 999.6 qps
Successfully wrote 3610 bytes of Json data to /data/2018-11-19-054308_grpc_baseline_1000qps_10s_echo_0_6.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
05:43:18 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:43:28 I periodic.go:533> T003 ended after 10.001261506s : 2500 calls. qps=249.96846632799162
05:43:28 I periodic.go:533> T002 ended after 10.003726386s : 2500 calls. qps=249.90687505195027
05:43:28 I periodic.go:533> T000 ended after 10.003765086s : 2500 calls. qps=249.90590827634315
05:43:28 I periodic.go:533> T001 ended after 10.005210014s : 2500 calls. qps=249.86981747527764
Ended after 10.00525172s : 10000 calls. qps=999.48
Sleep times : count 9996 avg 0.002383992 +/- 0.002986 min -0.052454574 max 0.003136861 sum 23.8303845
Aggregated Function Time : count 10000 avg 0.0011187715 +/- 0.0008509 min 0.000579684 max 0.038607021 sum 11.1877153
# range, mid point, percentile, count
>= 0.000579684 <= 0.0006 , 0.000589842 , 0.01, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.07, 6
> 0.0007 <= 0.0008 , 0.00075 , 1.95, 188
> 0.0008 <= 0.0009 , 0.00085 , 14.64, 1269
> 0.0009 <= 0.001 , 0.00095 , 40.48, 2584
> 0.001 <= 0.0011 , 0.00105 , 67.32, 2684
> 0.0011 <= 0.0012 , 0.00115 , 83.12, 1580
> 0.0012 <= 0.0014 , 0.0013 , 94.43, 1131
> 0.0014 <= 0.0016 , 0.0015 , 96.27, 184
> 0.0016 <= 0.0018 , 0.0017 , 96.82, 55
> 0.0018 <= 0.002 , 0.0019 , 97.41, 59
> 0.002 <= 0.0025 , 0.00225 , 98.65, 124
> 0.0025 <= 0.003 , 0.00275 , 99.04, 39
> 0.003 <= 0.0035 , 0.00325 , 99.26, 22
> 0.0035 <= 0.004 , 0.00375 , 99.43, 17
> 0.004 <= 0.0045 , 0.00425 , 99.54, 11
> 0.0045 <= 0.005 , 0.00475 , 99.69, 15
> 0.005 <= 0.006 , 0.0055 , 99.89, 20
> 0.006 <= 0.007 , 0.0065 , 99.96, 7
> 0.035 <= 0.038607 , 0.0368035 , 100.00, 4
# target 50% 0.00103547
# target 75% 0.00114861
# target 90% 0.00132166
# target 99% 0.00294872
# target 99.9% 0.00614286
Ping SERVING : 10000
All done 10000 calls (plus 4 warmup) 1.119 ms avg, 999.5 qps
Successfully wrote 3466 bytes of Json data to /data/2018-11-19-054318_grpc_linkerd_1000qps_10s_echo_0_6.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8079
05:43:28 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:43:38 W periodic.go:487> T001 warning only did 2497 out of 2500 calls before reaching 10s
05:43:38 I periodic.go:533> T001 ended after 10.005509306s : 2497 calls. qps=249.56250837752205
05:43:38 W periodic.go:487> T002 warning only did 2497 out of 2500 calls before reaching 10s
05:43:38 I periodic.go:533> T002 ended after 10.00976807s : 2497 calls. qps=249.4563293113344
05:43:38 W periodic.go:487> T000 warning only did 2497 out of 2500 calls before reaching 10s
05:43:38 I periodic.go:533> T000 ended after 10.009789304s : 2497 calls. qps=249.4558001337927
05:43:38 W periodic.go:487> T003 warning only did 2498 out of 2500 calls before reaching 10s
05:43:38 I periodic.go:533> T003 ended after 10.009987593s : 2498 calls. qps=249.55075885876775
Ended after 10.009999478s : 9989 calls. qps=997.9
Sleep times : count 9989 avg 0.0012660805 +/- 0.003419 min -0.042718195 max 0.003213314 sum 12.6468776
Aggregated Function Time : count 9989 avg 0.0020410948 +/- 0.001447 min 0.000542952 max 0.046558541 sum 20.3884959
# range, mid point, percentile, count
>= 0.000542952 <= 0.0006 , 0.000571476 , 0.03, 3
> 0.0006 <= 0.0007 , 0.00065 , 0.07, 4
> 0.0007 <= 0.0008 , 0.00075 , 0.34, 27
> 0.0008 <= 0.0009 , 0.00085 , 0.81, 47
> 0.0009 <= 0.001 , 0.00095 , 3.61, 280
> 0.001 <= 0.0011 , 0.00105 , 7.58, 396
> 0.0011 <= 0.0012 , 0.00115 , 11.30, 372
> 0.0012 <= 0.0014 , 0.0013 , 16.52, 521
> 0.0014 <= 0.0016 , 0.0015 , 24.88, 835
> 0.0016 <= 0.0018 , 0.0017 , 42.59, 1769
> 0.0018 <= 0.002 , 0.0019 , 61.35, 1874
> 0.002 <= 0.0025 , 0.00225 , 84.22, 2285
> 0.0025 <= 0.003 , 0.00275 , 95.19, 1096
> 0.003 <= 0.0035 , 0.00325 , 96.26, 106
> 0.0035 <= 0.004 , 0.00375 , 97.14, 88
> 0.004 <= 0.0045 , 0.00425 , 98.14, 100
> 0.0045 <= 0.005 , 0.00475 , 98.69, 55
> 0.005 <= 0.006 , 0.0055 , 99.15, 46
> 0.006 <= 0.007 , 0.0065 , 99.44, 29
> 0.007 <= 0.008 , 0.0075 , 99.53, 9
> 0.008 <= 0.009 , 0.0085 , 99.60, 7
> 0.012 <= 0.014 , 0.013 , 99.64, 4
> 0.014 <= 0.016 , 0.015 , 99.67, 3
> 0.016 <= 0.018 , 0.017 , 99.88, 21
> 0.018 <= 0.02 , 0.019 , 99.92, 4
> 0.02 <= 0.025 , 0.0225 , 99.96, 4
> 0.04 <= 0.045 , 0.0425 , 99.99, 3
> 0.045 <= 0.0465585 , 0.0457793 , 100.00, 1
# target 50% 0.00187903
# target 75% 0.00229841
# target 90% 0.00276328
# target 99% 0.0056763
# target 99.9% 0.0190055
Ping SERVING : 9989
All done 9989 calls (plus 4 warmup) 2.041 ms avg, 997.9 qps
Successfully wrote 4734 bytes of Json data to /data/2018-11-19-054328_grpc_istio_1000qps_10s_echo_0_6.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
05:43:38 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 1000.0 qps
05:43:38 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:43:48 I periodic.go:533> T001 ended after 10.000441809s : 2500 calls. qps=249.9889552629664
05:43:48 I periodic.go:533> T000 ended after 10.00085032s : 2500 calls. qps=249.97874380745657
05:43:48 I periodic.go:533> T003 ended after 10.003130232s : 2500 calls. qps=249.92176868821556
05:43:48 I periodic.go:533> T002 ended after 10.003169908s : 2500 calls. qps=249.92077741283128
Ended after 10.003183991s : 10000 calls. qps=999.68
Sleep times : count 9996 avg 0.0033215198 +/- 0.0004101 min -0.001761216 max 0.003708873 sum 33.2019116
Aggregated Function Time : count 10000 avg 0.00039499361 +/- 0.0003042 min 0.000108037 max 0.005490435 sum 3.94993614
# range, mid point, percentile, count
>= 0.000108037 <= 0.0002 , 0.000154018 , 2.21, 221
> 0.0002 <= 0.0003 , 0.00025 , 29.31, 2710
> 0.0003 <= 0.0004 , 0.00035 , 71.43, 4212
> 0.0004 <= 0.0005 , 0.00045 , 90.47, 1904
> 0.0005 <= 0.0006 , 0.00055 , 94.84, 437
> 0.0006 <= 0.0007 , 0.00065 , 95.86, 102
> 0.0007 <= 0.0008 , 0.00075 , 96.42, 56
> 0.0008 <= 0.0009 , 0.00085 , 96.85, 43
> 0.0009 <= 0.001 , 0.00095 , 97.66, 81
> 0.001 <= 0.0011 , 0.00105 , 97.85, 19
> 0.0011 <= 0.0012 , 0.00115 , 98.11, 26
> 0.0012 <= 0.0014 , 0.0013 , 98.76, 65
> 0.0014 <= 0.0016 , 0.0015 , 99.06, 30
> 0.0016 <= 0.0018 , 0.0017 , 99.26, 20
> 0.0018 <= 0.002 , 0.0019 , 99.41, 15
> 0.002 <= 0.0025 , 0.00225 , 99.47, 6
> 0.0025 <= 0.003 , 0.00275 , 99.55, 8
> 0.003 <= 0.0035 , 0.00325 , 99.63, 8
> 0.0035 <= 0.004 , 0.00375 , 99.83, 20
> 0.004 <= 0.0045 , 0.00425 , 99.98, 15
> 0.005 <= 0.00549044 , 0.00524522 , 100.00, 2
# target 50% 0.000349122
# target 75% 0.00041875
# target 90% 0.000497532
# target 99% 0.00156
# target 99.9% 0.00423333
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 10000 (100.0 %)
Response Header Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
Response Body/Total Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
All done 10000 calls (plus 4 warmup) 0.395 ms avg, 999.7 qps
Successfully wrote 4131 bytes of Json data to /data/2018-11-19-054338_http_baseline_1000qps_10s_echo_1_6.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
05:43:48 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 1000.0 qps
05:43:48 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:43:58 I periodic.go:533> T002 ended after 10.000853363s : 2500 calls. qps=249.9786677454157
05:43:58 I periodic.go:533> T000 ended after 10.001378026s : 2500 calls. qps=249.96555409673505
05:43:58 I periodic.go:533> T003 ended after 10.001496671s : 2500 calls. qps=249.9625888242222
05:43:58 I periodic.go:533> T001 ended after 10.001573101s : 2500 calls. qps=249.96067866064382
Ended after 10.001772629s : 10000 calls. qps=999.82
Sleep times : count 9996 avg 0.0029691741 +/- 0.0004111 min -0.001160665 max 0.003371556 sum 29.6798647
Aggregated Function Time : count 10000 avg 0.00076273002 +/- 0.0003119 min 0.000408442 max 0.004736853 sum 7.62730022
# range, mid point, percentile, count
>= 0.000408442 <= 0.0005 , 0.000454221 , 0.11, 11
> 0.0005 <= 0.0006 , 0.00055 , 5.01, 490
> 0.0006 <= 0.0007 , 0.00065 , 45.69, 4068
> 0.0007 <= 0.0008 , 0.00075 , 79.10, 3341
> 0.0008 <= 0.0009 , 0.00085 , 92.23, 1313
> 0.0009 <= 0.001 , 0.00095 , 96.10, 387
> 0.001 <= 0.0011 , 0.00105 , 97.07, 97
> 0.0011 <= 0.0012 , 0.00115 , 97.46, 39
> 0.0012 <= 0.0014 , 0.0013 , 97.96, 50
> 0.0014 <= 0.0016 , 0.0015 , 98.25, 29
> 0.0016 <= 0.0018 , 0.0017 , 98.67, 42
> 0.0018 <= 0.002 , 0.0019 , 98.87, 20
> 0.002 <= 0.0025 , 0.00225 , 99.14, 27
> 0.0025 <= 0.003 , 0.00275 , 99.34, 20
> 0.003 <= 0.0035 , 0.00325 , 99.60, 26
> 0.0035 <= 0.004 , 0.00375 , 99.76, 16
> 0.004 <= 0.0045 , 0.00425 , 99.87, 11
> 0.0045 <= 0.00473685 , 0.00461843 , 100.00, 13
# target 50% 0.0007129
# target 75% 0.000787728
# target 90% 0.000883016
# target 99% 0.00224074
# target 99.9% 0.00455466
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 10000 (100.0 %)
Response Header Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
Response Body/Total Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
All done 10000 calls (plus 4 warmup) 0.763 ms avg, 999.8 qps
Successfully wrote 3787 bytes of Json data to /data/2018-11-19-054348_http_linkerd_1000qps_10s_echo_1_6.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
05:43:58 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 1000.0 qps
05:43:58 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:44:08 W periodic.go:487> T001 warning only did 2498 out of 2500 calls before reaching 10s
05:44:08 I periodic.go:533> T001 ended after 10.005519265s : 2498 calls. qps=249.6622048131152
05:44:08 W periodic.go:487> T000 warning only did 2498 out of 2500 calls before reaching 10s
05:44:08 I periodic.go:533> T000 ended after 10.00805314s : 2498 calls. qps=249.59899443539527
05:44:08 W periodic.go:487> T002 warning only did 2498 out of 2500 calls before reaching 10s
05:44:08 I periodic.go:533> T002 ended after 10.008072804s : 2498 calls. qps=249.59850401983547
05:44:08 W periodic.go:487> T003 warning only did 2498 out of 2500 calls before reaching 10s
05:44:08 I periodic.go:533> T003 ended after 10.00808602s : 2498 calls. qps=249.59817441697007
Ended after 10.008117363s : 9992 calls. qps=998.39
Sleep times : count 9992 avg 0.001996625 +/- 0.001302 min -0.010745243 max 0.003231725 sum 19.9502765
Aggregated Function Time : count 9992 avg 0.0016289256 +/- 0.0009489 min 0.000618976 max 0.014543727 sum 16.2762242
# range, mid point, percentile, count
>= 0.000618976 <= 0.0007 , 0.000659488 , 0.02, 2
> 0.0007 <= 0.0008 , 0.00075 , 0.05, 3
> 0.0008 <= 0.0009 , 0.00085 , 0.19, 14
> 0.0009 <= 0.001 , 0.00095 , 0.38, 19
> 0.001 <= 0.0011 , 0.00105 , 0.68, 30
> 0.0011 <= 0.0012 , 0.00115 , 8.86, 817
> 0.0012 <= 0.0014 , 0.0013 , 53.37, 4448
> 0.0014 <= 0.0016 , 0.0015 , 70.01, 1662
> 0.0016 <= 0.0018 , 0.0017 , 79.64, 963
> 0.0018 <= 0.002 , 0.0019 , 87.29, 764
> 0.002 <= 0.0025 , 0.00225 , 94.88, 758
> 0.0025 <= 0.003 , 0.00275 , 95.75, 87
> 0.003 <= 0.0035 , 0.00325 , 96.97, 122
> 0.0035 <= 0.004 , 0.00375 , 97.96, 99
> 0.004 <= 0.0045 , 0.00425 , 98.52, 56
> 0.0045 <= 0.005 , 0.00475 , 98.94, 42
> 0.005 <= 0.006 , 0.0055 , 99.43, 49
> 0.006 <= 0.007 , 0.0065 , 99.52, 9
> 0.007 <= 0.008 , 0.0075 , 99.55, 3
> 0.008 <= 0.009 , 0.0085 , 99.56, 1
> 0.01 <= 0.012 , 0.011 , 99.60, 4
> 0.012 <= 0.014 , 0.013 , 99.96, 36
> 0.014 <= 0.0145437 , 0.0142719 , 100.00, 4
# target 50% 0.00138485
# target 75% 0.00170363
# target 90% 0.00217863
# target 99% 0.00512408
# target 99.9% 0.0136671
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 9992 (100.0 %)
Response Header Sizes : count 9992 avg 209 +/- 0 min 209 max 209 sum 2088328
Response Body/Total Sizes : count 9992 avg 209 +/- 0 min 209 max 209 sum 2088328
All done 9992 calls (plus 4 warmup) 1.629 ms avg, 998.4 qps
Successfully wrote 4583 bytes of Json data to /data/2018-11-19-054358_http_istio_1000qps_10s_echo_1_6.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
05:44:08 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:44:18 I periodic.go:533> T000 ended after 10.000630386s : 2500 calls. qps=249.98424134340368
05:44:18 I periodic.go:533> T001 ended after 10.001227109s : 2500 calls. qps=249.96932603902934
05:44:18 I periodic.go:533> T002 ended after 10.003624973s : 2500 calls. qps=249.909408514169
05:44:18 I periodic.go:533> T003 ended after 10.003685187s : 2500 calls. qps=249.9079042640009
Ended after 10.00369935s : 10000 calls. qps=999.63
Sleep times : count 9996 avg 0.0029828564 +/- 0.0005017 min -0.002664422 max 0.003520344 sum 29.8166324
Aggregated Function Time : count 10000 avg 0.00072568745 +/- 0.0003894 min 0.000278654 max 0.005671164 sum 7.25687453
# range, mid point, percentile, count
>= 0.000278654 <= 0.0003 , 0.000289327 , 0.01, 1
> 0.0003 <= 0.0004 , 0.00035 , 0.28, 27
> 0.0004 <= 0.0005 , 0.00045 , 4.41, 413
> 0.0005 <= 0.0006 , 0.00055 , 25.54, 2113
> 0.0006 <= 0.0007 , 0.00065 , 63.39, 3785
> 0.0007 <= 0.0008 , 0.00075 , 85.00, 2161
> 0.0008 <= 0.0009 , 0.00085 , 93.27, 827
> 0.0009 <= 0.001 , 0.00095 , 95.65, 238
> 0.001 <= 0.0011 , 0.00105 , 96.37, 72
> 0.0011 <= 0.0012 , 0.00115 , 96.68, 31
> 0.0012 <= 0.0014 , 0.0013 , 97.22, 54
> 0.0014 <= 0.0016 , 0.0015 , 97.72, 50
> 0.0016 <= 0.0018 , 0.0017 , 98.28, 56
> 0.0018 <= 0.002 , 0.0019 , 98.70, 42
> 0.002 <= 0.0025 , 0.00225 , 99.08, 38
> 0.0025 <= 0.003 , 0.00275 , 99.30, 22
> 0.003 <= 0.0035 , 0.00325 , 99.37, 7
> 0.0035 <= 0.004 , 0.00375 , 99.50, 13
> 0.004 <= 0.0045 , 0.00425 , 99.65, 15
> 0.0045 <= 0.005 , 0.00475 , 99.84, 19
> 0.005 <= 0.00567116 , 0.00533558 , 100.00, 16
# target 50% 0.000664624
# target 75% 0.000753725
# target 90% 0.000860459
# target 99% 0.00239474
# target 99.9% 0.00525169
Ping SERVING : 10000
All done 10000 calls (plus 4 warmup) 0.726 ms avg, 999.6 qps
Successfully wrote 3608 bytes of Json data to /data/2018-11-19-054408_grpc_baseline_1000qps_10s_echo_1_6.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
05:44:18 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:44:28 I periodic.go:533> T003 ended after 10.001204514s : 2500 calls. qps=249.96989077669812
05:44:28 I periodic.go:533> T000 ended after 10.001887945s : 2500 calls. qps=249.9528102841588
05:44:28 I periodic.go:533> T002 ended after 10.002165471s : 2500 calls. qps=249.94587494562356
05:44:28 I periodic.go:533> T001 ended after 10.002251962s : 2500 calls. qps=249.94371362547764
Ended after 10.002402961s : 10000 calls. qps=999.76
Sleep times : count 9996 avg 0.002335671 +/- 0.003089 min -0.053178547 max 0.003254918 sum 23.3473669
Aggregated Function Time : count 10000 avg 0.001142379 +/- 0.001267 min 0.00051112 max 0.05702165 sum 11.4237905
# range, mid point, percentile, count
>= 0.00051112 <= 0.0006 , 0.00055556 , 0.01, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.16, 15
> 0.0007 <= 0.0008 , 0.00075 , 2.93, 277
> 0.0008 <= 0.0009 , 0.00085 , 14.56, 1163
> 0.0009 <= 0.001 , 0.00095 , 37.46, 2290
> 0.001 <= 0.0011 , 0.00105 , 63.82, 2636
> 0.0011 <= 0.0012 , 0.00115 , 80.63, 1681
> 0.0012 <= 0.0014 , 0.0013 , 93.81, 1318
> 0.0014 <= 0.0016 , 0.0015 , 96.36, 255
> 0.0016 <= 0.0018 , 0.0017 , 97.02, 66
> 0.0018 <= 0.002 , 0.0019 , 97.66, 64
> 0.002 <= 0.0025 , 0.00225 , 98.66, 100
> 0.0025 <= 0.003 , 0.00275 , 99.17, 51
> 0.003 <= 0.0035 , 0.00325 , 99.29, 12
> 0.0035 <= 0.004 , 0.00375 , 99.41, 12
> 0.004 <= 0.0045 , 0.00425 , 99.49, 8
> 0.0045 <= 0.005 , 0.00475 , 99.65, 16
> 0.005 <= 0.006 , 0.0055 , 99.81, 16
> 0.006 <= 0.007 , 0.0065 , 99.85, 4
> 0.007 <= 0.008 , 0.0075 , 99.88, 3
> 0.009 <= 0.01 , 0.0095 , 99.90, 2
> 0.01 <= 0.012 , 0.011 , 99.92, 2
> 0.02 <= 0.025 , 0.0225 , 99.96, 4
> 0.05 <= 0.0570217 , 0.0535108 , 100.00, 4
# target 50% 0.00104757
# target 75% 0.00116651
# target 90% 0.00134219
# target 99% 0.00283333
# target 99.9% 0.01
Ping SERVING : 10000
All done 10000 calls (plus 4 warmup) 1.142 ms avg, 999.8 qps
Successfully wrote 3889 bytes of Json data to /data/2018-11-19-054418_grpc_linkerd_1000qps_10s_echo_1_6.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8079
05:44:29 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:44:39 W periodic.go:487> T003 warning only did 2498 out of 2500 calls before reaching 10s
05:44:39 I periodic.go:533> T003 ended after 10.008922095s : 2498 calls. qps=249.57732473988247
05:44:39 W periodic.go:487> T000 warning only did 2498 out of 2500 calls before reaching 10s
05:44:39 I periodic.go:533> T000 ended after 10.009848839s : 2498 calls. qps=249.55421806844728
05:44:39 W periodic.go:487> T001 warning only did 2498 out of 2500 calls before reaching 10s
05:44:39 I periodic.go:533> T001 ended after 10.009887861s : 2498 calls. qps=249.55324521991668
05:44:39 I periodic.go:533> T002 ended after 10.012392734s : 2500 calls. qps=249.69056512441034
Ended after 10.012427473s : 9994 calls. qps=998.16
Sleep times : count 9993 avg 0.0016710316 +/- 0.001606 min -0.015659125 max 0.00320419 sum 16.6986183
Aggregated Function Time : count 9994 avg 0.0018949269 +/- 0.001114 min 0.000581289 max 0.019519583 sum 18.9378995
# range, mid point, percentile, count
>= 0.000581289 <= 0.0006 , 0.000590645 , 0.04, 4
> 0.0006 <= 0.0007 , 0.00065 , 0.08, 4
> 0.0007 <= 0.0008 , 0.00075 , 0.27, 19
> 0.0008 <= 0.0009 , 0.00085 , 1.05, 78
> 0.0009 <= 0.001 , 0.00095 , 5.04, 399
> 0.001 <= 0.0011 , 0.00105 , 10.97, 592
> 0.0011 <= 0.0012 , 0.00115 , 15.23, 426
> 0.0012 <= 0.0014 , 0.0013 , 19.45, 422
> 0.0014 <= 0.0016 , 0.0015 , 30.39, 1093
> 0.0016 <= 0.0018 , 0.0017 , 57.14, 2674
> 0.0018 <= 0.002 , 0.0019 , 74.13, 1698
> 0.002 <= 0.0025 , 0.00225 , 88.59, 1445
> 0.0025 <= 0.003 , 0.00275 , 95.51, 691
> 0.003 <= 0.0035 , 0.00325 , 96.53, 102
> 0.0035 <= 0.004 , 0.00375 , 97.39, 86
> 0.004 <= 0.0045 , 0.00425 , 98.22, 83
> 0.0045 <= 0.005 , 0.00475 , 98.85, 63
> 0.005 <= 0.006 , 0.0055 , 99.30, 45
> 0.006 <= 0.007 , 0.0065 , 99.50, 20
> 0.007 <= 0.008 , 0.0075 , 99.60, 10
> 0.01 <= 0.012 , 0.011 , 99.62, 2
> 0.012 <= 0.014 , 0.013 , 99.72, 10
> 0.014 <= 0.016 , 0.015 , 99.80, 8
> 0.016 <= 0.018 , 0.017 , 99.97, 17
> 0.018 <= 0.0195196 , 0.0187598 , 100.00, 3
# target 50% 0.0017466
# target 75% 0.00202993
# target 90% 0.00260174
# target 99% 0.00533467
# target 99.9% 0.0171772
Ping SERVING : 9994
All done 9994 calls (plus 4 warmup) 1.895 ms avg, 998.2 qps
Successfully wrote 4332 bytes of Json data to /data/2018-11-19-054429_grpc_istio_1000qps_10s_echo_1_6.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
05:44:39 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 1000.0 qps
05:44:39 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:44:49 I periodic.go:533> T002 ended after 10.000654229s : 2500 calls. qps=249.98364534496895
05:44:49 I periodic.go:533> T000 ended after 10.003386121s : 2500 calls. qps=249.9153756298357
05:44:49 I periodic.go:533> T001 ended after 10.003443966s : 2500 calls. qps=249.9139304920459
05:44:49 I periodic.go:533> T003 ended after 10.003457531s : 2500 calls. qps=249.9135916009718
Ended after 10.003470362s : 10000 calls. qps=999.65
Sleep times : count 9996 avg 0.00330237 +/- 0.0004726 min -0.002747553 max 0.003737098 sum 33.0104908
Aggregated Function Time : count 10000 avg 0.00040193383 +/- 0.0002972 min 0.00010377 max 0.005506435 sum 4.01933828
# range, mid point, percentile, count
>= 0.00010377 <= 0.0002 , 0.000151885 , 1.66, 166
> 0.0002 <= 0.0003 , 0.00025 , 26.56, 2490
> 0.0003 <= 0.0004 , 0.00035 , 69.02, 4246
> 0.0004 <= 0.0005 , 0.00045 , 90.07, 2105
> 0.0005 <= 0.0006 , 0.00055 , 94.67, 460
> 0.0006 <= 0.0007 , 0.00065 , 95.92, 125
> 0.0007 <= 0.0008 , 0.00075 , 96.49, 57
> 0.0008 <= 0.0009 , 0.00085 , 96.83, 34
> 0.0009 <= 0.001 , 0.00095 , 97.36, 53
> 0.001 <= 0.0011 , 0.00105 , 97.66, 30
> 0.0011 <= 0.0012 , 0.00115 , 97.96, 30
> 0.0012 <= 0.0014 , 0.0013 , 98.55, 59
> 0.0014 <= 0.0016 , 0.0015 , 98.78, 23
> 0.0016 <= 0.0018 , 0.0017 , 99.02, 24
> 0.0018 <= 0.002 , 0.0019 , 99.30, 28
> 0.002 <= 0.0025 , 0.00225 , 99.49, 19
> 0.0025 <= 0.003 , 0.00275 , 99.68, 19
> 0.003 <= 0.0035 , 0.00325 , 99.83, 15
> 0.0035 <= 0.004 , 0.00375 , 99.92, 9
> 0.004 <= 0.0045 , 0.00425 , 99.94, 2
> 0.0045 <= 0.005 , 0.00475 , 99.96, 2
> 0.005 <= 0.00550643 , 0.00525322 , 100.00, 4
# target 50% 0.000355205
# target 75% 0.000428409
# target 90% 0.000499667
# target 99% 0.00178333
# target 99.9% 0.00388889
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 10000 (100.0 %)
Response Header Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
Response Body/Total Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
All done 10000 calls (plus 4 warmup) 0.402 ms avg, 999.7 qps
Successfully wrote 4265 bytes of Json data to /data/2018-11-19-054439_http_baseline_1000qps_10s_echo_0_7.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
05:44:49 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 1000.0 qps
05:44:49 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:44:59 I periodic.go:533> T000 ended after 10.001010085s : 2500 calls. qps=249.97475042542163
05:44:59 I periodic.go:533> T001 ended after 10.001779028s : 2500 calls. qps=249.9555322109442
05:44:59 I periodic.go:533> T002 ended after 10.002020625s : 2500 calls. qps=249.94949458025138
05:44:59 I periodic.go:533> T003 ended after 10.002114331s : 2500 calls. qps=249.94715289862648
Ended after 10.002181586s : 10000 calls. qps=999.78
Sleep times : count 9996 avg 0.0029702686 +/- 0.0003847 min -0.002178044 max 0.003487866 sum 29.6908051
Aggregated Function Time : count 10000 avg 0.0007684764 +/- 0.0003221 min 0.000401964 max 0.005986859 sum 7.68476398
# range, mid point, percentile, count
>= 0.000401964 <= 0.0005 , 0.000450982 , 0.14, 14
> 0.0005 <= 0.0006 , 0.00055 , 9.70, 956
> 0.0006 <= 0.0007 , 0.00065 , 46.17, 3647
> 0.0007 <= 0.0008 , 0.00075 , 74.48, 2831
> 0.0008 <= 0.0009 , 0.00085 , 89.20, 1472
> 0.0009 <= 0.001 , 0.00095 , 95.02, 582
> 0.001 <= 0.0011 , 0.00105 , 96.50, 148
> 0.0011 <= 0.0012 , 0.00115 , 97.12, 62
> 0.0012 <= 0.0014 , 0.0013 , 97.69, 57
> 0.0014 <= 0.0016 , 0.0015 , 98.34, 65
> 0.0016 <= 0.0018 , 0.0017 , 98.76, 42
> 0.0018 <= 0.002 , 0.0019 , 98.99, 23
> 0.002 <= 0.0025 , 0.00225 , 99.21, 22
> 0.0025 <= 0.003 , 0.00275 , 99.49, 28
> 0.003 <= 0.0035 , 0.00325 , 99.54, 5
> 0.0035 <= 0.004 , 0.00375 , 99.80, 26
> 0.004 <= 0.0045 , 0.00425 , 99.91, 11
> 0.0045 <= 0.005 , 0.00475 , 99.92, 1
> 0.005 <= 0.00598686 , 0.00549343 , 100.00, 8
# target 50% 0.000713529
# target 75% 0.000803533
# target 90% 0.000913746
# target 99% 0.00202273
# target 99.9% 0.00445455
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 10000 (100.0 %)
Response Header Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
Response Body/Total Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
All done 10000 calls (plus 4 warmup) 0.768 ms avg, 999.8 qps
Successfully wrote 3891 bytes of Json data to /data/2018-11-19-054449_http_linkerd_1000qps_10s_echo_0_7.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
05:44:59 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 1000.0 qps
05:44:59 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:45:09 W periodic.go:487> T000 warning only did 2497 out of 2500 calls before reaching 10s
05:45:09 I periodic.go:533> T000 ended after 10.002620794s : 2497 calls. qps=249.63457592012358
05:45:09 W periodic.go:487> T001 warning only did 2497 out of 2500 calls before reaching 10s
05:45:09 I periodic.go:533> T001 ended after 10.004994666s : 2497 calls. qps=249.57534545076388
05:45:09 W periodic.go:487> T003 warning only did 2497 out of 2500 calls before reaching 10s
05:45:09 I periodic.go:533> T003 ended after 10.005014293s : 2497 calls. qps=249.57485585473114
05:45:09 W periodic.go:487> T002 warning only did 2497 out of 2500 calls before reaching 10s
05:45:09 I periodic.go:533> T002 ended after 10.005028116s : 2497 calls. qps=249.57451104078436
Ended after 10.005041303s : 9988 calls. qps=998.3
Sleep times : count 9988 avg 0.0018704258 +/- 0.001376 min -0.011458047 max 0.002980552 sum 18.6818132
Aggregated Function Time : count 9988 avg 0.0017233107 +/- 0.0009757 min 0.000671551 max 0.01525835 sum 17.2124271
# range, mid point, percentile, count
>= 0.000671551 <= 0.0007 , 0.000685775 , 0.01, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.07, 6
> 0.0008 <= 0.0009 , 0.00085 , 0.11, 4
> 0.0009 <= 0.001 , 0.00095 , 0.21, 10
> 0.001 <= 0.0011 , 0.00105 , 0.45, 24
> 0.0011 <= 0.0012 , 0.00115 , 4.15, 370
> 0.0012 <= 0.0014 , 0.0013 , 40.03, 3583
> 0.0014 <= 0.0016 , 0.0015 , 61.16, 2111
> 0.0016 <= 0.0018 , 0.0017 , 70.37, 920
> 0.0018 <= 0.002 , 0.0019 , 81.92, 1153
> 0.002 <= 0.0025 , 0.00225 , 94.46, 1253
> 0.0025 <= 0.003 , 0.00275 , 95.91, 144
> 0.003 <= 0.0035 , 0.00325 , 97.07, 116
> 0.0035 <= 0.004 , 0.00375 , 97.90, 83
> 0.004 <= 0.0045 , 0.00425 , 98.43, 53
> 0.0045 <= 0.005 , 0.00475 , 99.14, 71
> 0.005 <= 0.006 , 0.0055 , 99.39, 25
> 0.006 <= 0.007 , 0.0065 , 99.56, 17
> 0.01 <= 0.012 , 0.011 , 99.64, 8
> 0.012 <= 0.014 , 0.013 , 99.92, 28
> 0.014 <= 0.0152584 , 0.0146292 , 100.00, 8
# target 50% 0.00149436
# target 75% 0.00188014
# target 90% 0.00232211
# target 99% 0.00490225
# target 99.9% 0.013858
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 9988 (100.0 %)
Response Header Sizes : count 9988 avg 209 +/- 0 min 209 max 209 sum 2087492
Response Body/Total Sizes : count 9988 avg 209 +/- 0 min 209 max 209 sum 2087492
All done 9988 calls (plus 4 warmup) 1.723 ms avg, 998.3 qps
Successfully wrote 4328 bytes of Json data to /data/2018-11-19-054459_http_istio_1000qps_10s_echo_0_7.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
05:45:09 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:45:19 I periodic.go:533> T002 ended after 10.000838235s : 2500 calls. qps=249.97904588144758
05:45:19 I periodic.go:533> T000 ended after 10.001405178s : 2500 calls. qps=249.96487548561947
05:45:19 I periodic.go:533> T003 ended after 10.003652866s : 2500 calls. qps=249.90871169639405
05:45:19 I periodic.go:533> T001 ended after 10.003723911s : 2500 calls. qps=249.9069368808773
Ended after 10.003741001s : 10000 calls. qps=999.63
Sleep times : count 9996 avg 0.0029500271 +/- 0.0004901 min -0.002033214 max 0.003564029 sum 29.488471
Aggregated Function Time : count 10000 avg 0.00074558385 +/- 0.0003629 min 0.000234506 max 0.005767389 sum 7.45583853
# range, mid point, percentile, count
>= 0.000234506 <= 0.0003 , 0.000267253 , 0.04, 4
> 0.0003 <= 0.0004 , 0.00035 , 0.30, 26
> 0.0004 <= 0.0005 , 0.00045 , 3.24, 294
> 0.0005 <= 0.0006 , 0.00055 , 21.39, 1815
> 0.0006 <= 0.0007 , 0.00065 , 55.52, 3413
> 0.0007 <= 0.0008 , 0.00075 , 79.33, 2381
> 0.0008 <= 0.0009 , 0.00085 , 91.04, 1171
> 0.0009 <= 0.001 , 0.00095 , 94.92, 388
> 0.001 <= 0.0011 , 0.00105 , 96.02, 110
> 0.0011 <= 0.0012 , 0.00115 , 96.57, 55
> 0.0012 <= 0.0014 , 0.0013 , 97.23, 66
> 0.0014 <= 0.0016 , 0.0015 , 97.55, 32
> 0.0016 <= 0.0018 , 0.0017 , 98.14, 59
> 0.0018 <= 0.002 , 0.0019 , 98.70, 56
> 0.002 <= 0.0025 , 0.00225 , 99.16, 46
> 0.0025 <= 0.003 , 0.00275 , 99.35, 19
> 0.003 <= 0.0035 , 0.00325 , 99.52, 17
> 0.0035 <= 0.004 , 0.00375 , 99.62, 10
> 0.004 <= 0.0045 , 0.00425 , 99.75, 13
> 0.0045 <= 0.005 , 0.00475 , 99.85, 10
> 0.005 <= 0.00576739 , 0.00538369 , 100.00, 15
# target 50% 0.000683827
# target 75% 0.000781814
# target 90% 0.000891119
# target 99% 0.00232609
# target 99.9% 0.0052558
Ping SERVING : 10000
All done 10000 calls (plus 4 warmup) 0.746 ms avg, 999.6 qps
Successfully wrote 3616 bytes of Json data to /data/2018-11-19-054509_grpc_baseline_1000qps_10s_echo_0_7.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
05:45:19 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:45:29 I periodic.go:533> T000 ended after 10.001182541s : 2500 calls. qps=249.97043997059467
05:45:29 I periodic.go:533> T002 ended after 10.001974534s : 2500 calls. qps=249.9506463950371
05:45:29 I periodic.go:533> T001 ended after 10.002188449s : 2500 calls. qps=249.94530074565284
05:45:29 I periodic.go:533> T003 ended after 10.00228272s : 2500 calls. qps=249.94294502405347
Ended after 10.002354999s : 10000 calls. qps=999.76
Sleep times : count 9996 avg 0.0022840148 +/- 0.003391 min -0.057703765 max 0.00313245 sum 22.8310119
Aggregated Function Time : count 10000 avg 0.0011679156 +/- 0.001069 min 0.000603501 max 0.053873238 sum 11.6791556
# range, mid point, percentile, count
>= 0.000603501 <= 0.0007 , 0.00065175 , 0.14, 14
> 0.0007 <= 0.0008 , 0.00075 , 1.09, 95
> 0.0008 <= 0.0009 , 0.00085 , 8.43, 734
> 0.0009 <= 0.001 , 0.00095 , 28.32, 1989
> 0.001 <= 0.0011 , 0.00105 , 55.39, 2707
> 0.0011 <= 0.0012 , 0.00115 , 76.01, 2062
> 0.0012 <= 0.0014 , 0.0013 , 92.84, 1683
> 0.0014 <= 0.0016 , 0.0015 , 95.74, 290
> 0.0016 <= 0.0018 , 0.0017 , 96.43, 69
> 0.0018 <= 0.002 , 0.0019 , 97.30, 87
> 0.002 <= 0.0025 , 0.00225 , 98.66, 136
> 0.0025 <= 0.003 , 0.00275 , 98.95, 29
> 0.003 <= 0.0035 , 0.00325 , 99.21, 26
> 0.0035 <= 0.004 , 0.00375 , 99.43, 22
> 0.004 <= 0.0045 , 0.00425 , 99.65, 22
> 0.0045 <= 0.005 , 0.00475 , 99.77, 12
> 0.005 <= 0.006 , 0.0055 , 99.96, 19
> 0.04 <= 0.045 , 0.0425 , 99.97, 1
> 0.05 <= 0.0538732 , 0.0519366 , 100.00, 3
# target 50% 0.00108009
# target 75% 0.0011951
# target 90% 0.00136625
# target 99% 0.00309615
# target 99.9% 0.00568421
Ping SERVING : 10000
All done 10000 calls (plus 4 warmup) 1.168 ms avg, 999.8 qps
Successfully wrote 3338 bytes of Json data to /data/2018-11-19-054519_grpc_linkerd_1000qps_10s_echo_0_7.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8079
05:45:29 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:45:39 W periodic.go:487> T000 warning only did 2496 out of 2500 calls before reaching 10s
05:45:39 I periodic.go:533> T000 ended after 10.014420737s : 2496 calls. qps=249.2405767193402
05:45:39 W periodic.go:487> T003 warning only did 2497 out of 2500 calls before reaching 10s
05:45:39 I periodic.go:533> T003 ended after 10.014461719s : 2497 calls. qps=249.3394123482994
05:45:39 W periodic.go:487> T001 warning only did 2496 out of 2500 calls before reaching 10s
05:45:39 I periodic.go:533> T001 ended after 10.01449948s : 2496 calls. qps=249.23861696580767
05:45:39 W periodic.go:487> T002 warning only did 2496 out of 2500 calls before reaching 10s
05:45:39 I periodic.go:533> T002 ended after 10.014513656s : 2496 calls. qps=249.23826415719853
Ended after 10.014524853s : 9985 calls. qps=997.05
Sleep times : count 9985 avg 0.0014082483 +/- 0.002599 min -0.02635041 max 0.003261854 sum 14.061359
Aggregated Function Time : count 9985 avg 0.0019826051 +/- 0.001456 min 0.000548487 max 0.030118423 sum 19.7963121
# range, mid point, percentile, count
>= 0.000548487 <= 0.0006 , 0.000574244 , 0.07, 7
> 0.0006 <= 0.0007 , 0.00065 , 0.21, 14
> 0.0007 <= 0.0008 , 0.00075 , 0.51, 30
> 0.0008 <= 0.0009 , 0.00085 , 1.01, 50
> 0.0009 <= 0.001 , 0.00095 , 3.87, 285
> 0.001 <= 0.0011 , 0.00105 , 8.79, 492
> 0.0011 <= 0.0012 , 0.00115 , 12.92, 412
> 0.0012 <= 0.0014 , 0.0013 , 16.96, 403
> 0.0014 <= 0.0016 , 0.0015 , 26.03, 906
> 0.0016 <= 0.0018 , 0.0017 , 49.20, 2314
> 0.0018 <= 0.002 , 0.0019 , 65.47, 1624
> 0.002 <= 0.0025 , 0.00225 , 88.37, 2287
> 0.0025 <= 0.003 , 0.00275 , 96.24, 786
> 0.003 <= 0.0035 , 0.00325 , 96.99, 74
> 0.0035 <= 0.004 , 0.00375 , 97.68, 69
> 0.004 <= 0.0045 , 0.00425 , 98.46, 78
> 0.0045 <= 0.005 , 0.00475 , 98.87, 41
> 0.005 <= 0.006 , 0.0055 , 99.30, 43
> 0.006 <= 0.007 , 0.0065 , 99.45, 15
> 0.008 <= 0.009 , 0.0085 , 99.48, 3
> 0.009 <= 0.01 , 0.0095 , 99.53, 5
> 0.01 <= 0.012 , 0.011 , 99.59, 6
> 0.012 <= 0.014 , 0.013 , 99.64, 5
> 0.014 <= 0.016 , 0.015 , 99.73, 9
> 0.016 <= 0.018 , 0.017 , 99.78, 5
> 0.018 <= 0.02 , 0.019 , 99.80, 2
> 0.02 <= 0.025 , 0.0225 , 99.85, 5
> 0.025 <= 0.03 , 0.0275 , 99.97, 12
> 0.03 <= 0.0301184 , 0.0300592 , 100.00, 3
# target 50% 0.00180979
# target 75% 0.00220808
# target 90% 0.00260337
# target 99% 0.00530581
# target 99.9% 0.0270896
Ping SERVING : 9985
All done 9985 calls (plus 4 warmup) 1.983 ms avg, 997.1 qps
Successfully wrote 4866 bytes of Json data to /data/2018-11-19-054529_grpc_istio_1000qps_10s_echo_0_7.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
05:45:39 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 1000.0 qps
05:45:39 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:45:49 I periodic.go:533> T001 ended after 10.000473351s : 2500 calls. qps=249.9881667851264
05:45:49 I periodic.go:533> T003 ended after 10.001061722s : 2500 calls. qps=249.97345976783487
05:45:49 I periodic.go:533> T002 ended after 10.003525747s : 2500 calls. qps=249.9118873912766
05:45:49 I periodic.go:533> T000 ended after 10.003557332s : 2500 calls. qps=249.91109832527724
Ended after 10.003590565s : 10000 calls. qps=999.64
Sleep times : count 9996 avg 0.0033054313 +/- 0.0004475 min -0.00100699 max 0.003690417 sum 33.0410909
Aggregated Function Time : count 10000 avg 0.00041450459 +/- 0.0003073 min 0.000110159 max 0.004599225 sum 4.14504587
# range, mid point, percentile, count
>= 0.000110159 <= 0.0002 , 0.00015508 , 1.23, 123
> 0.0002 <= 0.0003 , 0.00025 , 22.62, 2139
> 0.0003 <= 0.0004 , 0.00035 , 64.28, 4166
> 0.0004 <= 0.0005 , 0.00045 , 87.96, 2368
> 0.0005 <= 0.0006 , 0.00055 , 94.25, 629
> 0.0006 <= 0.0007 , 0.00065 , 96.02, 177
> 0.0007 <= 0.0008 , 0.00075 , 96.51, 49
> 0.0008 <= 0.0009 , 0.00085 , 96.88, 37
> 0.0009 <= 0.001 , 0.00095 , 97.29, 41
> 0.001 <= 0.0011 , 0.00105 , 97.47, 18
> 0.0011 <= 0.0012 , 0.00115 , 97.74, 27
> 0.0012 <= 0.0014 , 0.0013 , 98.58, 84
> 0.0014 <= 0.0016 , 0.0015 , 98.82, 24
> 0.0016 <= 0.0018 , 0.0017 , 99.01, 19
> 0.0018 <= 0.002 , 0.0019 , 99.32, 31
> 0.002 <= 0.0025 , 0.00225 , 99.42, 10
> 0.0025 <= 0.003 , 0.00275 , 99.61, 19
> 0.003 <= 0.0035 , 0.00325 , 99.76, 15
> 0.0035 <= 0.004 , 0.00375 , 99.84, 8
> 0.004 <= 0.0045 , 0.00425 , 99.97, 13
> 0.0045 <= 0.00459923 , 0.00454961 , 100.00, 3
# target 50% 0.000365723
# target 75% 0.00044527
# target 90% 0.000532432
# target 99% 0.00178947
# target 99.9% 0.00423077
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 10000 (100.0 %)
Response Header Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
Response Body/Total Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
All done 10000 calls (plus 4 warmup) 0.415 ms avg, 999.6 qps
Successfully wrote 4161 bytes of Json data to /data/2018-11-19-054539_http_baseline_1000qps_10s_echo_1_7.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
05:45:49 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 1000.0 qps
05:45:49 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:45:59 I periodic.go:533> T002 ended after 10.000842709s : 2500 calls. qps=249.97893405024652
05:45:59 I periodic.go:533> T003 ended after 10.001494472s : 2500 calls. qps=249.9626437827821
05:45:59 I periodic.go:533> T001 ended after 10.00165921s : 2500 calls. qps=249.95852663130282
05:45:59 I periodic.go:533> T000 ended after 10.001713752s : 2500 calls. qps=249.9571635411067
Ended after 10.00178991s : 10000 calls. qps=999.82
Sleep times : count 9996 avg 0.0030036188 +/- 0.000361 min -0.001211132 max 0.003559767 sum 30.0241732
Aggregated Function Time : count 10000 avg 0.00074445184 +/- 0.0002928 min 0.000409037 max 0.005092315 sum 7.44451842
# range, mid point, percentile, count
>= 0.000409037 <= 0.0005 , 0.000454519 , 0.11, 11
> 0.0005 <= 0.0006 , 0.00055 , 8.38, 827
> 0.0006 <= 0.0007 , 0.00065 , 51.42, 4304
> 0.0007 <= 0.0008 , 0.00075 , 83.52, 3210
> 0.0008 <= 0.0009 , 0.00085 , 93.88, 1036
> 0.0009 <= 0.001 , 0.00095 , 96.46, 258
> 0.001 <= 0.0011 , 0.00105 , 97.13, 67
> 0.0011 <= 0.0012 , 0.00115 , 97.43, 30
> 0.0012 <= 0.0014 , 0.0013 , 97.78, 35
> 0.0014 <= 0.0016 , 0.0015 , 98.29, 51
> 0.0016 <= 0.0018 , 0.0017 , 98.71, 42
> 0.0018 <= 0.002 , 0.0019 , 99.03, 32
> 0.002 <= 0.0025 , 0.00225 , 99.39, 36
> 0.0025 <= 0.003 , 0.00275 , 99.58, 19
> 0.003 <= 0.0035 , 0.00325 , 99.65, 7
> 0.0035 <= 0.004 , 0.00375 , 99.75, 10
> 0.004 <= 0.0045 , 0.00425 , 99.92, 17
> 0.0045 <= 0.005 , 0.00475 , 99.96, 4
> 0.005 <= 0.00509232 , 0.00504616 , 100.00, 4
# target 50% 0.000696701
# target 75% 0.000773458
# target 90% 0.000862548
# target 99% 0.00198125
# target 99.9% 0.00444118
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 10000 (100.0 %)
Response Header Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
Response Body/Total Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
All done 10000 calls (plus 4 warmup) 0.744 ms avg, 999.8 qps
Successfully wrote 3886 bytes of Json data to /data/2018-11-19-054549_http_linkerd_1000qps_10s_echo_1_7.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
05:45:59 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 1000.0 qps
05:45:59 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:46:09 W periodic.go:487> T000 warning only did 2498 out of 2500 calls before reaching 10s
05:46:09 I periodic.go:533> T000 ended after 10.005819919s : 2498 calls. qps=249.65470298506577
05:46:09 W periodic.go:487> T003 warning only did 2498 out of 2500 calls before reaching 10s
05:46:09 I periodic.go:533> T003 ended after 10.008025393s : 2498 calls. qps=249.59968644236233
05:46:09 W periodic.go:487> T001 warning only did 2498 out of 2500 calls before reaching 10s
05:46:09 I periodic.go:533> T001 ended after 10.008044562s : 2498 calls. qps=249.5992083693122
05:46:09 W periodic.go:487> T002 warning only did 2498 out of 2500 calls before reaching 10s
05:46:09 I periodic.go:533> T002 ended after 10.008058021s : 2498 calls. qps=249.5988727042173
Ended after 10.008089413s : 9992 calls. qps=998.39
Sleep times : count 9992 avg 0.0017929374 +/- 0.001704 min -0.022699331 max 0.003142781 sum 17.9150306
Aggregated Function Time : count 9992 avg 0.0017250792 +/- 0.001074 min 0.000714891 max 0.026505594 sum 17.236991
# range, mid point, percentile, count
>= 0.000714891 <= 0.0008 , 0.000757445 , 0.05, 5
> 0.0008 <= 0.0009 , 0.00085 , 0.13, 8
> 0.0009 <= 0.001 , 0.00095 , 0.31, 18
> 0.001 <= 0.0011 , 0.00105 , 0.55, 24
> 0.0011 <= 0.0012 , 0.00115 , 4.22, 367
> 0.0012 <= 0.0014 , 0.0013 , 38.91, 3466
> 0.0014 <= 0.0016 , 0.0015 , 61.68, 2275
> 0.0016 <= 0.0018 , 0.0017 , 73.51, 1182
> 0.0018 <= 0.002 , 0.0019 , 83.21, 969
> 0.002 <= 0.0025 , 0.00225 , 94.47, 1125
> 0.0025 <= 0.003 , 0.00275 , 95.57, 110
> 0.003 <= 0.0035 , 0.00325 , 96.82, 125
> 0.0035 <= 0.004 , 0.00375 , 97.90, 108
> 0.004 <= 0.0045 , 0.00425 , 98.49, 59
> 0.0045 <= 0.005 , 0.00475 , 99.02, 53
> 0.005 <= 0.006 , 0.0055 , 99.41, 39
> 0.006 <= 0.007 , 0.0065 , 99.56, 15
> 0.007 <= 0.008 , 0.0075 , 99.59, 3
> 0.008 <= 0.009 , 0.0085 , 99.60, 1
> 0.012 <= 0.014 , 0.013 , 99.96, 36
> 0.025 <= 0.0265056 , 0.0257528 , 100.00, 4
# target 50% 0.00149741
# target 75% 0.00183075
# target 90% 0.00230169
# target 99% 0.00498189
# target 99.9% 0.0136671
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 9992 (100.0 %)
Response Header Sizes : count 9992 avg 209 +/- 0 min 209 max 209 sum 2088328
Response Body/Total Sizes : count 9992 avg 209 +/- 0 min 209 max 209 sum 2088328
All done 9992 calls (plus 4 warmup) 1.725 ms avg, 998.4 qps
Successfully wrote 4346 bytes of Json data to /data/2018-11-19-054559_http_istio_1000qps_10s_echo_1_7.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
05:46:09 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:46:19 I periodic.go:533> T003 ended after 10.000961272s : 2500 calls. qps=249.97597050988762
05:46:19 I periodic.go:533> T000 ended after 10.001051462s : 2500 calls. qps=249.97371621364027
05:46:19 I periodic.go:533> T001 ended after 10.001100846s : 2500 calls. qps=249.97248187932132
05:46:19 I periodic.go:533> T002 ended after 10.001124475s : 2500 calls. qps=249.97189128575465
Ended after 10.001135765s : 10000 calls. qps=999.89
Sleep times : count 9996 avg 0.0029501367 +/- 0.0004877 min -0.002103061 max 0.003539593 sum 29.489566
Aggregated Function Time : count 10000 avg 0.00074689321 +/- 0.0003485 min 0.000212461 max 0.005931519 sum 7.4689321
# range, mid point, percentile, count
>= 0.000212461 <= 0.0003 , 0.000256231 , 0.05, 5
> 0.0003 <= 0.0004 , 0.00035 , 0.28, 23
> 0.0004 <= 0.0005 , 0.00045 , 2.94, 266
> 0.0005 <= 0.0006 , 0.00055 , 18.56, 1562
> 0.0006 <= 0.0007 , 0.00065 , 52.89, 3433
> 0.0007 <= 0.0008 , 0.00075 , 80.13, 2724
> 0.0008 <= 0.0009 , 0.00085 , 92.04, 1191
> 0.0009 <= 0.001 , 0.00095 , 95.09, 305
> 0.001 <= 0.0011 , 0.00105 , 96.24, 115
> 0.0011 <= 0.0012 , 0.00115 , 96.72, 48
> 0.0012 <= 0.0014 , 0.0013 , 97.25, 53
> 0.0014 <= 0.0016 , 0.0015 , 97.60, 35
> 0.0016 <= 0.0018 , 0.0017 , 98.05, 45
> 0.0018 <= 0.002 , 0.0019 , 98.67, 62
> 0.002 <= 0.0025 , 0.00225 , 99.13, 46
> 0.0025 <= 0.003 , 0.00275 , 99.43, 30
> 0.003 <= 0.0035 , 0.00325 , 99.57, 14
> 0.0035 <= 0.004 , 0.00375 , 99.63, 6
> 0.004 <= 0.0045 , 0.00425 , 99.85, 22
> 0.0045 <= 0.005 , 0.00475 , 99.96, 11
> 0.005 <= 0.00593152 , 0.00546576 , 100.00, 4
# target 50% 0.000691582
# target 75% 0.000781167
# target 90% 0.000882872
# target 99% 0.0023587
# target 99.9% 0.00472727
Ping SERVING : 10000
All done 10000 calls (plus 4 warmup) 0.747 ms avg, 999.9 qps
Successfully wrote 3616 bytes of Json data to /data/2018-11-19-054609_grpc_baseline_1000qps_10s_echo_1_7.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
05:46:19 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:46:29 I periodic.go:533> T002 ended after 10.001107775s : 2500 calls. qps=249.97230869257382
05:46:29 I periodic.go:533> T001 ended after 10.001225835s : 2500 calls. qps=249.96935788121817
05:46:29 I periodic.go:533> T003 ended after 10.001241745s : 2500 calls. qps=249.968960229348
05:46:29 I periodic.go:533> T000 ended after 10.00125173s : 2500 calls. qps=249.96871066657974
Ended after 10.001262811s : 10000 calls. qps=999.87
Sleep times : count 9996 avg 0.0023474612 +/- 0.003234 min -0.056490584 max 0.003224723 sum 23.4652218
Aggregated Function Time : count 10000 avg 0.001128284 +/- 0.0009887 min 0.000471876 max 0.034792631 sum 11.2828399
# range, mid point, percentile, count
>= 0.000471876 <= 0.0005 , 0.000485938 , 0.01, 1
> 0.0005 <= 0.0006 , 0.00055 , 0.02, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.19, 17
> 0.0007 <= 0.0008 , 0.00075 , 3.43, 324
> 0.0008 <= 0.0009 , 0.00085 , 16.86, 1343
> 0.0009 <= 0.001 , 0.00095 , 41.17, 2431
> 0.001 <= 0.0011 , 0.00105 , 66.05, 2488
> 0.0011 <= 0.0012 , 0.00115 , 83.00, 1695
> 0.0012 <= 0.0014 , 0.0013 , 94.71, 1171
> 0.0014 <= 0.0016 , 0.0015 , 96.34, 163
> 0.0016 <= 0.0018 , 0.0017 , 96.92, 58
> 0.0018 <= 0.002 , 0.0019 , 97.36, 44
> 0.002 <= 0.0025 , 0.00225 , 98.64, 128
> 0.0025 <= 0.003 , 0.00275 , 99.00, 36
> 0.003 <= 0.0035 , 0.00325 , 99.11, 11
> 0.0035 <= 0.004 , 0.00375 , 99.22, 11
> 0.004 <= 0.0045 , 0.00425 , 99.33, 11
> 0.0045 <= 0.005 , 0.00475 , 99.47, 14
> 0.005 <= 0.006 , 0.0055 , 99.81, 34
> 0.006 <= 0.007 , 0.0065 , 99.88, 7
> 0.009 <= 0.01 , 0.0095 , 99.92, 4
> 0.025 <= 0.03 , 0.0275 , 99.96, 4
> 0.03 <= 0.0347926 , 0.0323963 , 100.00, 4
# target 50% 0.00103549
# target 75% 0.0011528
# target 90% 0.00131956
# target 99% 0.003
# target 99.9% 0.0095
Ping SERVING : 10000
All done 10000 calls (plus 4 warmup) 1.128 ms avg, 999.9 qps
Successfully wrote 3810 bytes of Json data to /data/2018-11-19-054619_grpc_linkerd_1000qps_10s_echo_1_7.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8079
05:46:29 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:46:39 W periodic.go:487> T001 warning only did 2498 out of 2500 calls before reaching 10s
05:46:39 I periodic.go:533> T001 ended after 10.008766599s : 2498 calls. qps=249.5812021682653
05:46:39 W periodic.go:487> T000 warning only did 2498 out of 2500 calls before reaching 10s
05:46:39 I periodic.go:533> T000 ended after 10.011038783s : 2498 calls. qps=249.5245552581334
05:46:39 W periodic.go:487> T002 warning only did 2498 out of 2500 calls before reaching 10s
05:46:39 I periodic.go:533> T002 ended after 10.011058397s : 2498 calls. qps=249.52406638129014
05:46:39 I periodic.go:533> T003 ended after 10.014399574s : 2500 calls. qps=249.64052827397197
Ended after 10.014441256s : 9994 calls. qps=997.96
Sleep times : count 9993 avg 0.0015577689 +/- 0.001828 min -0.023834384 max 0.003253587 sum 15.5667843
Aggregated Function Time : count 9994 avg 0.0019753474 +/- 0.001161 min 0.000613508 max 0.019825672 sum 19.7416216
# range, mid point, percentile, count
>= 0.000613508 <= 0.0007 , 0.000656754 , 0.12, 12
> 0.0007 <= 0.0008 , 0.00075 , 0.38, 26
> 0.0008 <= 0.0009 , 0.00085 , 0.88, 50
> 0.0009 <= 0.001 , 0.00095 , 4.49, 361
> 0.001 <= 0.0011 , 0.00105 , 10.07, 557
> 0.0011 <= 0.0012 , 0.00115 , 13.69, 362
> 0.0012 <= 0.0014 , 0.0013 , 17.01, 332
> 0.0014 <= 0.0016 , 0.0015 , 26.68, 966
> 0.0016 <= 0.0018 , 0.0017 , 50.52, 2383
> 0.0018 <= 0.002 , 0.0019 , 66.79, 1626
> 0.002 <= 0.0025 , 0.00225 , 86.43, 1963
> 0.0025 <= 0.003 , 0.00275 , 95.39, 895
> 0.003 <= 0.0035 , 0.00325 , 96.38, 99
> 0.0035 <= 0.004 , 0.00375 , 97.22, 84
> 0.004 <= 0.0045 , 0.00425 , 97.81, 59
> 0.0045 <= 0.005 , 0.00475 , 98.43, 62
> 0.005 <= 0.006 , 0.0055 , 99.18, 75
> 0.006 <= 0.007 , 0.0065 , 99.53, 35
> 0.007 <= 0.008 , 0.0075 , 99.56, 3
> 0.01 <= 0.012 , 0.011 , 99.57, 1
> 0.012 <= 0.014 , 0.013 , 99.67, 10
> 0.014 <= 0.016 , 0.015 , 99.79, 12
> 0.016 <= 0.018 , 0.017 , 99.97, 18
> 0.018 <= 0.0198257 , 0.0189128 , 100.00, 3
# target 50% 0.00179564
# target 75% 0.00220899
# target 90% 0.00269922
# target 99% 0.0057608
# target 99.9% 0.0172229
Ping SERVING : 9994
All done 9994 calls (plus 4 warmup) 1.975 ms avg, 998.0 qps
Successfully wrote 4180 bytes of Json data to /data/2018-11-19-054629_grpc_istio_1000qps_10s_echo_1_7.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
05:46:39 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 1000.0 qps
05:46:39 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:46:49 I periodic.go:533> T002 ended after 10.000924291s : 2500 calls. qps=249.97689486058724
05:46:49 I periodic.go:533> T001 ended after 10.001365427s : 2500 calls. qps=249.9658689853409
05:46:49 I periodic.go:533> T003 ended after 10.004225868s : 2500 calls. qps=249.8943979260425
05:46:49 I periodic.go:533> T000 ended after 10.00428125s : 2500 calls. qps=249.89301455314444
Ended after 10.004297905s : 10000 calls. qps=999.57
Sleep times : count 9996 avg 0.0032357485 +/- 0.0005122 min -0.005118456 max 0.003679431 sum 32.3445416
Aggregated Function Time : count 10000 avg 0.00043339689 +/- 0.0003026 min 0.000116135 max 0.004520426 sum 4.33396889
# range, mid point, percentile, count
>= 0.000116135 <= 0.0002 , 0.000158067 , 1.10, 110
> 0.0002 <= 0.0003 , 0.00025 , 19.32, 1822
> 0.0003 <= 0.0004 , 0.00035 , 58.46, 3914
> 0.0004 <= 0.0005 , 0.00045 , 82.44, 2398
> 0.0005 <= 0.0006 , 0.00055 , 91.47, 903
> 0.0006 <= 0.0007 , 0.00065 , 94.68, 321
> 0.0007 <= 0.0008 , 0.00075 , 96.07, 139
> 0.0008 <= 0.0009 , 0.00085 , 96.71, 64
> 0.0009 <= 0.001 , 0.00095 , 97.27, 56
> 0.001 <= 0.0011 , 0.00105 , 97.57, 30
> 0.0011 <= 0.0012 , 0.00115 , 97.93, 36
> 0.0012 <= 0.0014 , 0.0013 , 98.60, 67
> 0.0014 <= 0.0016 , 0.0015 , 98.85, 25
> 0.0016 <= 0.0018 , 0.0017 , 99.00, 15
> 0.0018 <= 0.002 , 0.0019 , 99.33, 33
> 0.002 <= 0.0025 , 0.00225 , 99.55, 22
> 0.0025 <= 0.003 , 0.00275 , 99.59, 4
> 0.003 <= 0.0035 , 0.00325 , 99.77, 18
> 0.0035 <= 0.004 , 0.00375 , 99.87, 10
> 0.004 <= 0.0045 , 0.00425 , 99.98, 11
> 0.0045 <= 0.00452043 , 0.00451021 , 100.00, 2
# target 50% 0.000378385
# target 75% 0.000468974
# target 90% 0.000583721
# target 99% 0.0018
# target 99.9% 0.00413636
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 10000 (100.0 %)
Response Header Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
Response Body/Total Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
All done 10000 calls (plus 4 warmup) 0.433 ms avg, 999.6 qps
Successfully wrote 4153 bytes of Json data to /data/2018-11-19-054639_http_baseline_1000qps_10s_echo_0_8.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
05:46:49 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 1000.0 qps
05:46:49 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:46:59 I periodic.go:533> T001 ended after 10.001090581s : 2500 calls. qps=249.97273844809305
05:46:59 I periodic.go:533> T003 ended after 10.001687671s : 2500 calls. qps=249.95781534438203
05:46:59 I periodic.go:533> T000 ended after 10.001794837s : 2500 calls. qps=249.95513712715442
05:46:59 I periodic.go:533> T002 ended after 10.001868253s : 2500 calls. qps=249.95330239929328
Ended after 10.001894455s : 10000 calls. qps=999.81
Sleep times : count 9996 avg 0.0028126325 +/- 0.0004015 min -0.001398878 max 0.003512208 sum 28.1150744
Aggregated Function Time : count 10000 avg 0.00085946472 +/- 0.0003381 min 0.000434158 max 0.00521127 sum 8.59464719
# range, mid point, percentile, count
>= 0.000434158 <= 0.0005 , 0.000467079 , 0.13, 13
> 0.0005 <= 0.0006 , 0.00055 , 2.46, 233
> 0.0006 <= 0.0007 , 0.00065 , 21.17, 1871
> 0.0007 <= 0.0008 , 0.00075 , 51.46, 3029
> 0.0008 <= 0.0009 , 0.00085 , 74.44, 2298
> 0.0009 <= 0.001 , 0.00095 , 87.28, 1284
> 0.001 <= 0.0011 , 0.00105 , 92.75, 547
> 0.0011 <= 0.0012 , 0.00115 , 95.08, 233
> 0.0012 <= 0.0014 , 0.0013 , 96.97, 189
> 0.0014 <= 0.0016 , 0.0015 , 97.53, 56
> 0.0016 <= 0.0018 , 0.0017 , 97.96, 43
> 0.0018 <= 0.002 , 0.0019 , 98.40, 44
> 0.002 <= 0.0025 , 0.00225 , 99.18, 78
> 0.0025 <= 0.003 , 0.00275 , 99.30, 12
> 0.003 <= 0.0035 , 0.00325 , 99.66, 36
> 0.0035 <= 0.004 , 0.00375 , 99.75, 9
> 0.004 <= 0.0045 , 0.00425 , 99.83, 8
> 0.0045 <= 0.005 , 0.00475 , 99.95, 12
> 0.005 <= 0.00521127 , 0.00510563 , 100.00, 5
# target 50% 0.00079518
# target 75% 0.000904361
# target 90% 0.00104973
# target 99% 0.00238462
# target 99.9% 0.00479167
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 10000 (100.0 %)
Response Header Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
Response Body/Total Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
All done 10000 calls (plus 4 warmup) 0.859 ms avg, 999.8 qps
Successfully wrote 3885 bytes of Json data to /data/2018-11-19-054649_http_linkerd_1000qps_10s_echo_0_8.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
05:46:59 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 1000.0 qps
05:46:59 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:47:10 W periodic.go:487> T002 warning only did 2498 out of 2500 calls before reaching 10s
05:47:10 I periodic.go:533> T002 ended after 10.005418541s : 2498 calls. qps=249.66471814884574
05:47:10 W periodic.go:487> T003 warning only did 2498 out of 2500 calls before reaching 10s
05:47:10 I periodic.go:533> T003 ended after 10.007782683s : 2498 calls. qps=249.60573976524265
05:47:10 W periodic.go:487> T001 warning only did 2498 out of 2500 calls before reaching 10s
05:47:10 I periodic.go:533> T001 ended after 10.007803646s : 2498 calls. qps=249.60521692473662
05:47:10 W periodic.go:487> T000 warning only did 2498 out of 2500 calls before reaching 10s
05:47:10 I periodic.go:533> T000 ended after 10.007816729s : 2498 calls. qps=249.60489062129386
Ended after 10.007829352s : 9992 calls. qps=998.42
Sleep times : count 9992 avg 0.0019622107 +/- 0.001318 min -0.011403835 max 0.003155098 sum 19.6064098
Aggregated Function Time : count 9992 avg 0.0016577816 +/- 0.0009863 min 0.000570028 max 0.01523058 sum 16.5645541
# range, mid point, percentile, count
>= 0.000570028 <= 0.0006 , 0.000585014 , 0.01, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.02, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.07, 5
> 0.0008 <= 0.0009 , 0.00085 , 0.14, 7
> 0.0009 <= 0.001 , 0.00095 , 0.23, 9
> 0.001 <= 0.0011 , 0.00105 , 0.59, 36
> 0.0011 <= 0.0012 , 0.00115 , 9.63, 903
> 0.0012 <= 0.0014 , 0.0013 , 49.24, 3958
> 0.0014 <= 0.0016 , 0.0015 , 65.32, 1607
> 0.0016 <= 0.0018 , 0.0017 , 77.51, 1218
> 0.0018 <= 0.002 , 0.0019 , 87.44, 992
> 0.002 <= 0.0025 , 0.00225 , 95.20, 775
> 0.0025 <= 0.003 , 0.00275 , 95.78, 58
> 0.003 <= 0.0035 , 0.00325 , 96.72, 94
> 0.0035 <= 0.004 , 0.00375 , 97.84, 112
> 0.004 <= 0.0045 , 0.00425 , 98.32, 48
> 0.0045 <= 0.005 , 0.00475 , 98.54, 22
> 0.005 <= 0.006 , 0.0055 , 99.31, 77
> 0.006 <= 0.007 , 0.0065 , 99.52, 21
> 0.007 <= 0.008 , 0.0075 , 99.56, 4
> 0.01 <= 0.012 , 0.011 , 99.60, 4
> 0.012 <= 0.014 , 0.013 , 99.96, 36
> 0.014 <= 0.0152306 , 0.0146153 , 100.00, 4
# target 50% 0.00140946
# target 75% 0.00175878
# target 90% 0.00216503
# target 99% 0.00559844
# target 99.9% 0.0136671
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 9992 (100.0 %)
Response Header Sizes : count 9992 avg 209 +/- 0 min 209 max 209 sum 2088328
Response Body/Total Sizes : count 9992 avg 209 +/- 0 min 209 max 209 sum 2088328
All done 9992 calls (plus 4 warmup) 1.658 ms avg, 998.4 qps
Successfully wrote 4602 bytes of Json data to /data/2018-11-19-054700_http_istio_1000qps_10s_echo_0_8.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
05:47:10 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:47:20 I periodic.go:533> T000 ended after 10.002402533s : 2500 calls. qps=249.93995110194592
05:47:20 I periodic.go:533> T002 ended after 10.00252249s : 2500 calls. qps=249.93695365337788
05:47:20 I periodic.go:533> T001 ended after 10.002569382s : 2500 calls. qps=249.93578195007015
05:47:20 I periodic.go:533> T003 ended after 10.002648002s : 2500 calls. qps=249.9338174751458
Ended after 10.002685852s : 10000 calls. qps=999.73
Sleep times : count 9996 avg 0.0029695896 +/- 0.0004801 min -0.002259665 max 0.003564001 sum 29.6840175
Aggregated Function Time : count 10000 avg 0.00073390143 +/- 0.0003612 min 0.000254587 max 0.005895874 sum 7.33901431
# range, mid point, percentile, count
>= 0.000254587 <= 0.0003 , 0.000277294 , 0.03, 3
> 0.0003 <= 0.0004 , 0.00035 , 0.39, 36
> 0.0004 <= 0.0005 , 0.00045 , 3.72, 333
> 0.0005 <= 0.0006 , 0.00055 , 22.62, 1890
> 0.0006 <= 0.0007 , 0.00065 , 58.38, 3576
> 0.0007 <= 0.0008 , 0.00075 , 82.51, 2413
> 0.0008 <= 0.0009 , 0.00085 , 92.24, 973
> 0.0009 <= 0.001 , 0.00095 , 95.01, 277
> 0.001 <= 0.0011 , 0.00105 , 96.16, 115
> 0.0011 <= 0.0012 , 0.00115 , 96.73, 57
> 0.0012 <= 0.0014 , 0.0013 , 97.35, 62
> 0.0014 <= 0.0016 , 0.0015 , 97.68, 33
> 0.0016 <= 0.0018 , 0.0017 , 98.25, 57
> 0.0018 <= 0.002 , 0.0019 , 98.89, 64
> 0.002 <= 0.0025 , 0.00225 , 99.17, 28
> 0.0025 <= 0.003 , 0.00275 , 99.39, 22
> 0.003 <= 0.0035 , 0.00325 , 99.51, 12
> 0.0035 <= 0.004 , 0.00375 , 99.63, 12
> 0.004 <= 0.0045 , 0.00425 , 99.71, 8
> 0.0045 <= 0.005 , 0.00475 , 99.88, 17
> 0.005 <= 0.00589587 , 0.00544794 , 100.00, 12
# target 50% 0.000676566
# target 75% 0.000768877
# target 90% 0.000876978
# target 99% 0.00219643
# target 99.9% 0.00514931
Ping SERVING : 10000
All done 10000 calls (plus 4 warmup) 0.734 ms avg, 999.7 qps
Successfully wrote 3616 bytes of Json data to /data/2018-11-19-054710_grpc_baseline_1000qps_10s_echo_0_8.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
05:47:20 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:47:30 I periodic.go:533> T001 ended after 10.004767946s : 2500 calls. qps=249.88085815618777
05:47:30 I periodic.go:533> T000 ended after 10.004925669s : 2500 calls. qps=249.87691890067552
05:47:30 I periodic.go:533> T003 ended after 10.004942441s : 2500 calls. qps=249.87650001413934
05:47:30 I periodic.go:533> T002 ended after 10.00497482s : 2500 calls. qps=249.87569134132016
Ended after 10.004989508s : 10000 calls. qps=999.5
Sleep times : count 9996 avg 0.0022874475 +/- 0.003459 min -0.05774259 max 0.003159544 sum 22.8653253
Aggregated Function Time : count 10000 avg 0.0011436324 +/- 0.0007552 min 0.00058282 max 0.033523136 sum 11.4363245
# range, mid point, percentile, count
>= 0.00058282 <= 0.0006 , 0.00059141 , 0.01, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.09, 8
> 0.0007 <= 0.0008 , 0.00075 , 1.81, 172
> 0.0008 <= 0.0009 , 0.00085 , 11.36, 955
> 0.0009 <= 0.001 , 0.00095 , 32.71, 2135
> 0.001 <= 0.0011 , 0.00105 , 58.95, 2624
> 0.0011 <= 0.0012 , 0.00115 , 78.71, 1976
> 0.0012 <= 0.0014 , 0.0013 , 93.51, 1480
> 0.0014 <= 0.0016 , 0.0015 , 95.78, 227
> 0.0016 <= 0.0018 , 0.0017 , 96.56, 78
> 0.0018 <= 0.002 , 0.0019 , 97.15, 59
> 0.002 <= 0.0025 , 0.00225 , 98.65, 150
> 0.0025 <= 0.003 , 0.00275 , 99.15, 50
> 0.003 <= 0.0035 , 0.00325 , 99.28, 13
> 0.0035 <= 0.004 , 0.00375 , 99.48, 20
> 0.004 <= 0.0045 , 0.00425 , 99.58, 10
> 0.0045 <= 0.005 , 0.00475 , 99.70, 12
> 0.005 <= 0.006 , 0.0055 , 99.93, 23
> 0.006 <= 0.007 , 0.0065 , 99.96, 3
> 0.03 <= 0.0335231 , 0.0317616 , 100.00, 4
# target 50% 0.00106589
# target 75% 0.00118122
# target 90% 0.00135257
# target 99% 0.00285
# target 99.9% 0.00586957
Ping SERVING : 10000
All done 10000 calls (plus 4 warmup) 1.144 ms avg, 999.5 qps
Successfully wrote 3478 bytes of Json data to /data/2018-11-19-054720_grpc_linkerd_1000qps_10s_echo_0_8.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8079
05:47:30 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:47:40 W periodic.go:487> T001 warning only did 2498 out of 2500 calls before reaching 10s
05:47:40 I periodic.go:533> T001 ended after 10.010463686s : 2498 calls. qps=249.5388903406687
05:47:40 W periodic.go:487> T003 warning only did 2498 out of 2500 calls before reaching 10s
05:47:40 I periodic.go:533> T003 ended after 10.010484404s : 2498 calls. qps=249.5383738874661
05:47:40 W periodic.go:487> T002 warning only did 2498 out of 2500 calls before reaching 10s
05:47:40 I periodic.go:533> T002 ended after 10.010518111s : 2498 calls. qps=249.53753365223795
05:47:40 I periodic.go:533> T000 ended after 10.012463531s : 2500 calls. qps=249.68879959059498
Ended after 10.012529885s : 9994 calls. qps=998.15
Sleep times : count 9993 avg 0.0016139701 +/- 0.001677 min -0.018548512 max 0.003233453 sum 16.128403
Aggregated Function Time : count 9994 avg 0.0019352422 +/- 0.001132 min 0.000571426 max 0.021268214 sum 19.3408109
# range, mid point, percentile, count
>= 0.000571426 <= 0.0006 , 0.000585713 , 0.01, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.09, 8
> 0.0007 <= 0.0008 , 0.00075 , 0.32, 23
> 0.0008 <= 0.0009 , 0.00085 , 0.99, 67
> 0.0009 <= 0.001 , 0.00095 , 5.66, 467
> 0.001 <= 0.0011 , 0.00105 , 11.14, 547
> 0.0011 <= 0.0012 , 0.00115 , 14.03, 289
> 0.0012 <= 0.0014 , 0.0013 , 17.28, 325
> 0.0014 <= 0.0016 , 0.0015 , 29.29, 1200
> 0.0016 <= 0.0018 , 0.0017 , 54.03, 2473
> 0.0018 <= 0.002 , 0.0019 , 68.04, 1400
> 0.002 <= 0.0025 , 0.00225 , 88.39, 2034
> 0.0025 <= 0.003 , 0.00275 , 95.44, 704
> 0.003 <= 0.0035 , 0.00325 , 96.72, 128
> 0.0035 <= 0.004 , 0.00375 , 97.75, 103
> 0.004 <= 0.0045 , 0.00425 , 98.42, 67
> 0.0045 <= 0.005 , 0.00475 , 98.74, 32
> 0.005 <= 0.006 , 0.0055 , 99.30, 56
> 0.006 <= 0.007 , 0.0065 , 99.48, 18
> 0.007 <= 0.008 , 0.0075 , 99.59, 11
> 0.008 <= 0.009 , 0.0085 , 99.60, 1
> 0.01 <= 0.012 , 0.011 , 99.61, 1
> 0.012 <= 0.014 , 0.013 , 99.70, 9
> 0.014 <= 0.016 , 0.015 , 99.78, 8
> 0.016 <= 0.018 , 0.017 , 99.94, 16
> 0.018 <= 0.02 , 0.019 , 99.98, 4
> 0.02 <= 0.0212682 , 0.0206341 , 100.00, 2
# target 50% 0.00176741
# target 75% 0.00217097
# target 90% 0.00261406
# target 99% 0.00546536
# target 99.9% 0.0175008
Ping SERVING : 9994
All done 9994 calls (plus 4 warmup) 1.935 ms avg, 998.1 qps
Successfully wrote 4579 bytes of Json data to /data/2018-11-19-054730_grpc_istio_1000qps_10s_echo_0_8.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
05:47:40 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 1000.0 qps
05:47:40 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:47:50 I periodic.go:533> T000 ended after 10.000655711s : 2500 calls. qps=249.9836082998218
05:47:50 I periodic.go:533> T002 ended after 10.001183532s : 2500 calls. qps=249.97041520145555
05:47:50 I periodic.go:533> T001 ended after 10.002105504s : 2500 calls. qps=249.94737348053474
05:47:50 I periodic.go:533> T003 ended after 10.002130545s : 2500 calls. qps=249.94674772063775
Ended after 10.002144133s : 10000 calls. qps=999.79
Sleep times : count 9996 avg 0.003299169 +/- 0.0004702 min -0.004512734 max 0.003736823 sum 32.9784935
Aggregated Function Time : count 10000 avg 0.00041043143 +/- 0.0003099 min 0.000107504 max 0.005520204 sum 4.10431435
# range, mid point, percentile, count
>= 0.000107504 <= 0.0002 , 0.000153752 , 1.41, 141
> 0.0002 <= 0.0003 , 0.00025 , 24.88, 2347
> 0.0003 <= 0.0004 , 0.00035 , 65.47, 4059
> 0.0004 <= 0.0005 , 0.00045 , 89.00, 2353
> 0.0005 <= 0.0006 , 0.00055 , 94.78, 578
> 0.0006 <= 0.0007 , 0.00065 , 96.13, 135
> 0.0007 <= 0.0008 , 0.00075 , 96.62, 49
> 0.0008 <= 0.0009 , 0.00085 , 96.98, 36
> 0.0009 <= 0.001 , 0.00095 , 97.40, 42
> 0.001 <= 0.0011 , 0.00105 , 97.59, 19
> 0.0011 <= 0.0012 , 0.00115 , 97.77, 18
> 0.0012 <= 0.0014 , 0.0013 , 98.30, 53
> 0.0014 <= 0.0016 , 0.0015 , 98.76, 46
> 0.0016 <= 0.0018 , 0.0017 , 98.98, 22
> 0.0018 <= 0.002 , 0.0019 , 99.18, 20
> 0.002 <= 0.0025 , 0.00225 , 99.42, 24
> 0.0025 <= 0.003 , 0.00275 , 99.57, 15
> 0.003 <= 0.0035 , 0.00325 , 99.79, 22
> 0.0035 <= 0.004 , 0.00375 , 99.94, 15
> 0.0045 <= 0.005 , 0.00475 , 99.96, 2
> 0.005 <= 0.0055202 , 0.0052601 , 100.00, 4
# target 50% 0.000361887
# target 75% 0.000440501
# target 90% 0.000517301
# target 99% 0.00182
# target 99.9% 0.00386667
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 10000 (100.0 %)
Response Header Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
Response Body/Total Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
All done 10000 calls (plus 4 warmup) 0.410 ms avg, 999.8 qps
Successfully wrote 4142 bytes of Json data to /data/2018-11-19-054740_http_baseline_1000qps_10s_echo_1_8.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
05:47:50 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 1000.0 qps
05:47:50 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:48:00 I periodic.go:533> T000 ended after 10.000803747s : 2500 calls. qps=249.97990793989328
05:48:00 I periodic.go:533> T003 ended after 10.001288851s : 2500 calls. qps=249.9677828773071
05:48:00 I periodic.go:533> T001 ended after 10.001576306s : 2500 calls. qps=249.96059856087248
05:48:00 I periodic.go:533> T002 ended after 10.001664371s : 2500 calls. qps=249.95839764917463
Ended after 10.00173914s : 10000 calls. qps=999.83
Sleep times : count 9996 avg 0.0030013181 +/- 0.0003777 min -0.001141509 max 0.003537155 sum 30.0011759
Aggregated Function Time : count 10000 avg 0.00074100562 +/- 0.0003234 min 0.000413775 max 0.004952445 sum 7.41005618
# range, mid point, percentile, count
>= 0.000413775 <= 0.0005 , 0.000456888 , 0.24, 24
> 0.0005 <= 0.0006 , 0.00055 , 14.67, 1443
> 0.0006 <= 0.0007 , 0.00065 , 55.50, 4083
> 0.0007 <= 0.0008 , 0.00075 , 83.38, 2788
> 0.0008 <= 0.0009 , 0.00085 , 93.03, 965
> 0.0009 <= 0.001 , 0.00095 , 95.73, 270
> 0.001 <= 0.0011 , 0.00105 , 96.68, 95
> 0.0011 <= 0.0012 , 0.00115 , 97.28, 60
> 0.0012 <= 0.0014 , 0.0013 , 97.78, 50
> 0.0014 <= 0.0016 , 0.0015 , 98.24, 46
> 0.0016 <= 0.0018 , 0.0017 , 98.67, 43
> 0.0018 <= 0.002 , 0.0019 , 99.01, 34
> 0.002 <= 0.0025 , 0.00225 , 99.25, 24
> 0.0025 <= 0.003 , 0.00275 , 99.38, 13
> 0.003 <= 0.0035 , 0.00325 , 99.55, 17
> 0.0035 <= 0.004 , 0.00375 , 99.64, 9
> 0.004 <= 0.0045 , 0.00425 , 99.84, 20
> 0.0045 <= 0.00495244 , 0.00472622 , 100.00, 16
# target 50% 0.00068653
# target 75% 0.000769943
# target 90% 0.000868601
# target 99% 0.00199412
# target 99.9% 0.00466967
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 10000 (100.0 %)
Response Header Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
Response Body/Total Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
All done 10000 calls (plus 4 warmup) 0.741 ms avg, 999.8 qps
Successfully wrote 3790 bytes of Json data to /data/2018-11-19-054750_http_linkerd_1000qps_10s_echo_1_8.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
05:48:00 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 1000.0 qps
05:48:00 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:48:10 W periodic.go:487> T000 warning only did 2498 out of 2500 calls before reaching 10s
05:48:10 I periodic.go:533> T000 ended after 10.006930611s : 2498 calls. qps=249.6269932414744
05:48:10 W periodic.go:487> T003 warning only did 2498 out of 2500 calls before reaching 10s
05:48:10 I periodic.go:533> T003 ended after 10.009487263s : 2498 calls. qps=249.56323279753195
05:48:10 W periodic.go:487> T001 warning only did 2498 out of 2500 calls before reaching 10s
05:48:10 I periodic.go:533> T001 ended after 10.009529526s : 2498 calls. qps=249.5621790725911
05:48:10 W periodic.go:487> T002 warning only did 2498 out of 2500 calls before reaching 10s
05:48:10 I periodic.go:533> T002 ended after 10.009543779s : 2498 calls. qps=249.56182371076676
Ended after 10.009556442s : 9992 calls. qps=998.25
Sleep times : count 9992 avg 0.0017745694 +/- 0.00217 min -0.024603768 max 0.003024731 sum 17.7314976
Aggregated Function Time : count 9992 avg 0.0017099169 +/- 0.001285 min 0.000682501 max 0.028394397 sum 17.0854894
# range, mid point, percentile, count
>= 0.000682501 <= 0.0007 , 0.00069125 , 0.01, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.02, 1
> 0.0008 <= 0.0009 , 0.00085 , 0.15, 13
> 0.0009 <= 0.001 , 0.00095 , 0.26, 11
> 0.001 <= 0.0011 , 0.00105 , 0.54, 28
> 0.0011 <= 0.0012 , 0.00115 , 4.17, 363
> 0.0012 <= 0.0014 , 0.0013 , 41.27, 3707
> 0.0014 <= 0.0016 , 0.0015 , 62.82, 2153
> 0.0016 <= 0.0018 , 0.0017 , 73.13, 1030
> 0.0018 <= 0.002 , 0.0019 , 85.79, 1265
> 0.002 <= 0.0025 , 0.00225 , 95.30, 950
> 0.0025 <= 0.003 , 0.00275 , 96.18, 88
> 0.003 <= 0.0035 , 0.00325 , 97.18, 100
> 0.0035 <= 0.004 , 0.00375 , 98.34, 116
> 0.004 <= 0.0045 , 0.00425 , 98.84, 50
> 0.0045 <= 0.005 , 0.00475 , 99.20, 36
> 0.005 <= 0.006 , 0.0055 , 99.41, 21
> 0.006 <= 0.007 , 0.0065 , 99.52, 11
> 0.007 <= 0.008 , 0.0075 , 99.54, 2
> 0.01 <= 0.012 , 0.011 , 99.62, 8
> 0.012 <= 0.014 , 0.013 , 99.69, 7
> 0.014 <= 0.016 , 0.015 , 99.80, 11
> 0.02 <= 0.025 , 0.0225 , 99.92, 12
> 0.025 <= 0.0283944 , 0.0266972 , 100.00, 8
# target 50% 0.001481
# target 75% 0.00182957
# target 90% 0.00222147
# target 99% 0.00472333
# target 99.9% 0.02417
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 9992 (100.0 %)
Response Header Sizes : count 9992 avg 209 +/- 0 min 209 max 209 sum 2088328
Response Body/Total Sizes : count 9992 avg 209 +/- 0 min 209 max 209 sum 2088328
All done 9992 calls (plus 4 warmup) 1.710 ms avg, 998.2 qps
Successfully wrote 4688 bytes of Json data to /data/2018-11-19-054800_http_istio_1000qps_10s_echo_1_8.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
05:48:10 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:48:20 I periodic.go:533> T002 ended after 10.001154313s : 2500 calls. qps=249.97114550571177
05:48:20 I periodic.go:533> T003 ended after 10.003702648s : 2500 calls. qps=249.90746806131975
05:48:20 I periodic.go:533> T001 ended after 10.003821277s : 2500 calls. qps=249.90450456645038
05:48:20 I periodic.go:533> T000 ended after 10.005389879s : 2500 calls. qps=249.8653256128651
Ended after 10.005452608s : 10000 calls. qps=999.46
Sleep times : count 9996 avg 0.0029637094 +/- 0.0004944 min -0.002748436 max 0.003513368 sum 29.6252394
Aggregated Function Time : count 10000 avg 0.00074061218 +/- 0.0003731 min 0.000210111 max 0.006502862 sum 7.40612176
# range, mid point, percentile, count
>= 0.000210111 <= 0.0003 , 0.000255056 , 0.04, 4
> 0.0003 <= 0.0004 , 0.00035 , 0.35, 31
> 0.0004 <= 0.0005 , 0.00045 , 3.41, 306
> 0.0005 <= 0.0006 , 0.00055 , 21.83, 1842
> 0.0006 <= 0.0007 , 0.00065 , 57.78, 3595
> 0.0007 <= 0.0008 , 0.00075 , 81.19, 2341
> 0.0008 <= 0.0009 , 0.00085 , 91.51, 1032
> 0.0009 <= 0.001 , 0.00095 , 95.14, 363
> 0.001 <= 0.0011 , 0.00105 , 96.18, 104
> 0.0011 <= 0.0012 , 0.00115 , 96.71, 53
> 0.0012 <= 0.0014 , 0.0013 , 97.16, 45
> 0.0014 <= 0.0016 , 0.0015 , 97.54, 38
> 0.0016 <= 0.0018 , 0.0017 , 98.01, 47
> 0.0018 <= 0.002 , 0.0019 , 98.57, 56
> 0.002 <= 0.0025 , 0.00225 , 99.14, 57
> 0.0025 <= 0.003 , 0.00275 , 99.28, 14
> 0.003 <= 0.0035 , 0.00325 , 99.44, 16
> 0.0035 <= 0.004 , 0.00375 , 99.59, 15
> 0.004 <= 0.0045 , 0.00425 , 99.80, 21
> 0.0045 <= 0.005 , 0.00475 , 99.91, 11
> 0.005 <= 0.006 , 0.0055 , 99.96, 5
> 0.006 <= 0.00650286 , 0.00625143 , 100.00, 4
# target 50% 0.000678359
# target 75% 0.000773558
# target 90% 0.000885368
# target 99% 0.00237719
# target 99.9% 0.00495455
Ping SERVING : 10000
All done 10000 calls (plus 4 warmup) 0.741 ms avg, 999.5 qps
Successfully wrote 3724 bytes of Json data to /data/2018-11-19-054810_grpc_baseline_1000qps_10s_echo_1_8.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
05:48:20 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:48:30 I periodic.go:533> T001 ended after 10.001328206s : 2500 calls. qps=249.96679925974223
05:48:30 I periodic.go:533> T002 ended after 10.00209801s : 2500 calls. qps=249.94756075180672
05:48:30 I periodic.go:533> T003 ended after 10.002260464s : 2500 calls. qps=249.9435011713568
05:48:30 I periodic.go:533> T000 ended after 10.002327585s : 2500 calls. qps=249.94182391597806
Ended after 10.002397857s : 10000 calls. qps=999.76
Sleep times : count 9996 avg 0.0023864215 +/- 0.002565 min -0.044944123 max 0.003185364 sum 23.8546696
Aggregated Function Time : count 10000 avg 0.0011408856 +/- 0.0009838 min 0.000459284 max 0.036459278 sum 11.4088558
# range, mid point, percentile, count
>= 0.000459284 <= 0.0005 , 0.000479642 , 0.02, 2
> 0.0005 <= 0.0006 , 0.00055 , 0.03, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.20, 17
> 0.0007 <= 0.0008 , 0.00075 , 2.40, 220
> 0.0008 <= 0.0009 , 0.00085 , 13.16, 1076
> 0.0009 <= 0.001 , 0.00095 , 35.79, 2263
> 0.001 <= 0.0011 , 0.00105 , 63.40, 2761
> 0.0011 <= 0.0012 , 0.00115 , 81.52, 1812
> 0.0012 <= 0.0014 , 0.0013 , 93.99, 1247
> 0.0014 <= 0.0016 , 0.0015 , 96.03, 204
> 0.0016 <= 0.0018 , 0.0017 , 96.54, 51
> 0.0018 <= 0.002 , 0.0019 , 97.24, 70
> 0.002 <= 0.0025 , 0.00225 , 98.58, 134
> 0.0025 <= 0.003 , 0.00275 , 99.05, 47
> 0.003 <= 0.0035 , 0.00325 , 99.18, 13
> 0.0035 <= 0.004 , 0.00375 , 99.31, 13
> 0.004 <= 0.0045 , 0.00425 , 99.46, 15
> 0.0045 <= 0.005 , 0.00475 , 99.75, 29
> 0.005 <= 0.006 , 0.0055 , 99.92, 17
> 0.025 <= 0.03 , 0.0275 , 99.96, 4
> 0.035 <= 0.0364593 , 0.0357296 , 100.00, 4
# target 50% 0.00105147
# target 75% 0.00116402
# target 90% 0.00133601
# target 99% 0.00294681
# target 99.9% 0.00588235
Ping SERVING : 10000
All done 10000 calls (plus 4 warmup) 1.141 ms avg, 999.8 qps
Successfully wrote 3591 bytes of Json data to /data/2018-11-19-054820_grpc_linkerd_1000qps_10s_echo_1_8.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8079
05:48:30 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:48:40 W periodic.go:487> T000 warning only did 2498 out of 2500 calls before reaching 10s
05:48:40 I periodic.go:533> T000 ended after 10.011032515s : 2498 calls. qps=249.52471148776405
05:48:40 W periodic.go:487> T001 warning only did 2498 out of 2500 calls before reaching 10s
05:48:40 I periodic.go:533> T001 ended after 10.013266077s : 2498 calls. qps=249.46905243412917
05:48:40 W periodic.go:487> T003 warning only did 2498 out of 2500 calls before reaching 10s
05:48:40 I periodic.go:533> T003 ended after 10.013307702s : 2498 calls. qps=249.46801539925352
05:48:40 I periodic.go:533> T002 ended after 10.015490451s : 2500 calls. qps=249.6133376823685
Ended after 10.015525135s : 9994 calls. qps=997.85
Sleep times : count 9993 avg 0.0014730021 +/- 0.002085 min -0.026458127 max 0.003043674 sum 14.7197101
Aggregated Function Time : count 9994 avg 0.0020045014 +/- 0.001294 min 0.000550892 max 0.030329105 sum 20.0329865
# range, mid point, percentile, count
>= 0.000550892 <= 0.0006 , 0.000575446 , 0.03, 3
> 0.0006 <= 0.0007 , 0.00065 , 0.09, 6
> 0.0007 <= 0.0008 , 0.00075 , 0.30, 21
> 0.0008 <= 0.0009 , 0.00085 , 0.77, 47
> 0.0009 <= 0.001 , 0.00095 , 2.98, 221
> 0.001 <= 0.0011 , 0.00105 , 7.74, 476
> 0.0011 <= 0.0012 , 0.00115 , 12.27, 452
> 0.0012 <= 0.0014 , 0.0013 , 17.86, 559
> 0.0014 <= 0.0016 , 0.0015 , 23.83, 597
> 0.0016 <= 0.0018 , 0.0017 , 45.56, 2171
> 0.0018 <= 0.002 , 0.0019 , 65.83, 2026
> 0.002 <= 0.0025 , 0.00225 , 86.53, 2069
> 0.0025 <= 0.003 , 0.00275 , 95.31, 877
> 0.003 <= 0.0035 , 0.00325 , 96.44, 113
> 0.0035 <= 0.004 , 0.00375 , 97.16, 72
> 0.004 <= 0.0045 , 0.00425 , 98.04, 88
> 0.0045 <= 0.005 , 0.00475 , 98.56, 52
> 0.005 <= 0.006 , 0.0055 , 99.13, 57
> 0.006 <= 0.007 , 0.0065 , 99.46, 33
> 0.007 <= 0.008 , 0.0075 , 99.53, 7
> 0.008 <= 0.009 , 0.0085 , 99.56, 3
> 0.009 <= 0.01 , 0.0095 , 99.60, 4
> 0.012 <= 0.014 , 0.013 , 99.64, 4
> 0.014 <= 0.016 , 0.015 , 99.72, 8
> 0.016 <= 0.018 , 0.017 , 99.84, 12
> 0.018 <= 0.02 , 0.019 , 99.93, 9
> 0.02 <= 0.025 , 0.0225 , 99.96, 3
> 0.025 <= 0.03 , 0.0275 , 99.97, 1
> 0.03 <= 0.0303291 , 0.0301646 , 100.00, 3
# target 50% 0.00184383
# target 75% 0.00222148
# target 90% 0.00269761
# target 99% 0.00577298
# target 99.9% 0.0193347
Ping SERVING : 9994
All done 9994 calls (plus 4 warmup) 2.005 ms avg, 997.9 qps
Successfully wrote 4863 bytes of Json data to /data/2018-11-19-054830_grpc_istio_1000qps_10s_echo_1_8.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
05:48:40 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 1000.0 qps
05:48:40 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:48:50 I periodic.go:533> T001 ended after 10.000557755s : 2500 calls. qps=249.9860569026832
05:48:50 I periodic.go:533> T003 ended after 10.001012601s : 2500 calls. qps=249.97468753814243
05:48:50 I periodic.go:533> T002 ended after 10.003424338s : 2500 calls. qps=249.91442085519174
05:48:50 I periodic.go:533> T000 ended after 10.003458328s : 2500 calls. qps=249.91357168974451
Ended after 10.00358915s : 10000 calls. qps=999.64
Sleep times : count 9996 avg 0.0032844174 +/- 0.0005206 min -0.003551642 max 0.003750316 sum 32.8310363
Aggregated Function Time : count 10000 avg 0.00041755778 +/- 0.0003567 min 0.000113277 max 0.005067736 sum 4.17557778
# range, mid point, percentile, count
>= 0.000113277 <= 0.0002 , 0.000156639 , 1.37, 137
> 0.0002 <= 0.0003 , 0.00025 , 25.77, 2440
> 0.0003 <= 0.0004 , 0.00035 , 69.20, 4343
> 0.0004 <= 0.0005 , 0.00045 , 89.05, 1985
> 0.0005 <= 0.0006 , 0.00055 , 94.17, 512
> 0.0006 <= 0.0007 , 0.00065 , 95.36, 119
> 0.0007 <= 0.0008 , 0.00075 , 95.85, 49
> 0.0008 <= 0.0009 , 0.00085 , 96.22, 37
> 0.0009 <= 0.001 , 0.00095 , 96.65, 43
> 0.001 <= 0.0011 , 0.00105 , 96.83, 18
> 0.0011 <= 0.0012 , 0.00115 , 97.09, 26
> 0.0012 <= 0.0014 , 0.0013 , 97.60, 51
> 0.0014 <= 0.0016 , 0.0015 , 98.11, 51
> 0.0016 <= 0.0018 , 0.0017 , 98.39, 28
> 0.0018 <= 0.002 , 0.0019 , 98.99, 60
> 0.002 <= 0.0025 , 0.00225 , 99.26, 27
> 0.0025 <= 0.003 , 0.00275 , 99.55, 29
> 0.003 <= 0.0035 , 0.00325 , 99.64, 9
> 0.0035 <= 0.004 , 0.00375 , 99.81, 17
> 0.004 <= 0.0045 , 0.00425 , 99.88, 7
> 0.0045 <= 0.005 , 0.00475 , 99.97, 9
> 0.005 <= 0.00506774 , 0.00503387 , 100.00, 3
# target 50% 0.000355791
# target 75% 0.000429219
# target 90% 0.000518555
# target 99% 0.00201852
# target 99.9% 0.00461111
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 10000 (100.0 %)
Response Header Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
Response Body/Total Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
All done 10000 calls (plus 4 warmup) 0.418 ms avg, 999.6 qps
Successfully wrote 4256 bytes of Json data to /data/2018-11-19-054840_http_baseline_1000qps_10s_echo_0_9.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
05:48:50 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 1000.0 qps
05:48:50 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:49:00 I periodic.go:533> T000 ended after 10.00081419s : 2500 calls. qps=249.97964690712848
05:49:00 I periodic.go:533> T003 ended after 10.001224109s : 2500 calls. qps=249.96940102064858
05:49:00 I periodic.go:533> T001 ended after 10.003842992s : 2500 calls. qps=249.90396210728537
05:49:00 I periodic.go:533> T002 ended after 10.003888045s : 2500 calls. qps=249.9028366525467
Ended after 10.003901802s : 10000 calls. qps=999.61
Sleep times : count 9996 avg 0.0029253833 +/- 0.0004301 min -0.001880539 max 0.003550046 sum 29.2421312
Aggregated Function Time : count 10000 avg 0.00079816571 +/- 0.000361 min 0.000398755 max 0.005734184 sum 7.9816571
# range, mid point, percentile, count
>= 0.000398755 <= 0.0004 , 0.000399377 , 0.01, 1
> 0.0004 <= 0.0005 , 0.00045 , 0.15, 14
> 0.0005 <= 0.0006 , 0.00055 , 5.49, 534
> 0.0006 <= 0.0007 , 0.00065 , 34.28, 2879
> 0.0007 <= 0.0008 , 0.00075 , 68.81, 3453
> 0.0008 <= 0.0009 , 0.00085 , 87.83, 1902
> 0.0009 <= 0.001 , 0.00095 , 94.62, 679
> 0.001 <= 0.0011 , 0.00105 , 96.52, 190
> 0.0011 <= 0.0012 , 0.00115 , 97.26, 74
> 0.0012 <= 0.0014 , 0.0013 , 97.86, 60
> 0.0014 <= 0.0016 , 0.0015 , 98.18, 32
> 0.0016 <= 0.0018 , 0.0017 , 98.57, 39
> 0.0018 <= 0.002 , 0.0019 , 98.62, 5
> 0.002 <= 0.0025 , 0.00225 , 98.91, 29
> 0.0025 <= 0.003 , 0.00275 , 99.21, 30
> 0.003 <= 0.0035 , 0.00325 , 99.42, 21
> 0.0035 <= 0.004 , 0.00375 , 99.51, 9
> 0.004 <= 0.0045 , 0.00425 , 99.79, 28
> 0.0045 <= 0.005 , 0.00475 , 99.96, 17
> 0.005 <= 0.00573418 , 0.00536709 , 100.00, 4
# target 50% 0.000745526
# target 75% 0.000832545
# target 90% 0.000931959
# target 99% 0.00265
# target 99.9% 0.00482353
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 10000 (100.0 %)
Response Header Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
Response Body/Total Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
All done 10000 calls (plus 4 warmup) 0.798 ms avg, 999.6 qps
Successfully wrote 4007 bytes of Json data to /data/2018-11-19-054850_http_linkerd_1000qps_10s_echo_0_9.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
05:49:00 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 1000.0 qps
05:49:00 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:49:10 W periodic.go:487> T002 warning only did 2498 out of 2500 calls before reaching 10s
05:49:10 I periodic.go:533> T002 ended after 10.008508212s : 2498 calls. qps=249.58764553991654
05:49:10 W periodic.go:487> T003 warning only did 2498 out of 2500 calls before reaching 10s
05:49:10 I periodic.go:533> T003 ended after 10.00860066s : 2498 calls. qps=249.58534013485155
05:49:10 W periodic.go:487> T001 warning only did 2498 out of 2500 calls before reaching 10s
05:49:10 I periodic.go:533> T001 ended after 10.008615132s : 2498 calls. qps=249.584979245858
05:49:10 W periodic.go:487> T000 warning only did 2498 out of 2500 calls before reaching 10s
05:49:10 I periodic.go:533> T000 ended after 10.00862833s : 2498 calls. qps=249.58465012757645
Ended after 10.008642657s : 9992 calls. qps=998.34
Sleep times : count 9992 avg 0.0018550281 +/- 0.001435 min -0.012773091 max 0.003198574 sum 18.5354404
Aggregated Function Time : count 9992 avg 0.001738029 +/- 0.00104 min 0.000655995 max 0.016361351 sum 17.3663857
# range, mid point, percentile, count
>= 0.000655995 <= 0.0007 , 0.000677998 , 0.01, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.05, 4
> 0.0008 <= 0.0009 , 0.00085 , 0.18, 13
> 0.0009 <= 0.001 , 0.00095 , 0.28, 10
> 0.001 <= 0.0011 , 0.00105 , 0.42, 14
> 0.0011 <= 0.0012 , 0.00115 , 5.89, 547
> 0.0012 <= 0.0014 , 0.0013 , 39.81, 3389
> 0.0014 <= 0.0016 , 0.0015 , 61.33, 2150
> 0.0016 <= 0.0018 , 0.0017 , 71.80, 1046
> 0.0018 <= 0.002 , 0.0019 , 79.93, 813
> 0.002 <= 0.0025 , 0.00225 , 94.03, 1408
> 0.0025 <= 0.003 , 0.00275 , 95.73, 170
> 0.003 <= 0.0035 , 0.00325 , 96.82, 109
> 0.0035 <= 0.004 , 0.00375 , 97.66, 84
> 0.004 <= 0.0045 , 0.00425 , 98.29, 63
> 0.0045 <= 0.005 , 0.00475 , 98.79, 50
> 0.005 <= 0.006 , 0.0055 , 99.26, 47
> 0.006 <= 0.007 , 0.0065 , 99.52, 26
> 0.009 <= 0.01 , 0.0095 , 99.56, 4
> 0.01 <= 0.012 , 0.011 , 99.60, 4
> 0.012 <= 0.014 , 0.013 , 99.88, 28
> 0.014 <= 0.016 , 0.015 , 99.92, 4
> 0.016 <= 0.0163614 , 0.0161807 , 100.00, 8
# target 50% 0.0014947
# target 75% 0.00187872
# target 90% 0.00235717
# target 99% 0.00544851
# target 99.9% 0.015004
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 9992 (100.0 %)
Response Header Sizes : count 9992 avg 209 +/- 0 min 209 max 209 sum 2088328
Response Body/Total Sizes : count 9992 avg 209 +/- 0 min 209 max 209 sum 2088328
All done 9992 calls (plus 4 warmup) 1.738 ms avg, 998.3 qps
Successfully wrote 4589 bytes of Json data to /data/2018-11-19-054900_http_istio_1000qps_10s_echo_0_9.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
05:49:10 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:49:20 I periodic.go:533> T000 ended after 10.000797627s : 2500 calls. qps=249.9800609153952
05:49:20 I periodic.go:533> T001 ended after 10.001199578s : 2500 calls. qps=249.97001414703695
05:49:20 I periodic.go:533> T002 ended after 10.005007851s : 2500 calls. qps=249.87486639004737
05:49:20 I periodic.go:533> T003 ended after 10.005146543s : 2500 calls. qps=249.87140260820064
Ended after 10.00516202s : 10000 calls. qps=999.48
Sleep times : count 9996 avg 0.0029670389 +/- 0.0004902 min -0.001893674 max 0.003550325 sum 29.6585207
Aggregated Function Time : count 10000 avg 0.00074223401 +/- 0.0003833 min 0.000253528 max 0.005638362 sum 7.42234009
# range, mid point, percentile, count
>= 0.000253528 <= 0.0003 , 0.000276764 , 0.04, 4
> 0.0003 <= 0.0004 , 0.00035 , 0.33, 29
> 0.0004 <= 0.0005 , 0.00045 , 3.14, 281
> 0.0005 <= 0.0006 , 0.00055 , 21.26, 1812
> 0.0006 <= 0.0007 , 0.00065 , 57.09, 3583
> 0.0007 <= 0.0008 , 0.00075 , 82.88, 2579
> 0.0008 <= 0.0009 , 0.00085 , 92.68, 980
> 0.0009 <= 0.001 , 0.00095 , 95.36, 268
> 0.001 <= 0.0011 , 0.00105 , 96.07, 71
> 0.0011 <= 0.0012 , 0.00115 , 96.40, 33
> 0.0012 <= 0.0014 , 0.0013 , 96.94, 54
> 0.0014 <= 0.0016 , 0.0015 , 97.40, 46
> 0.0016 <= 0.0018 , 0.0017 , 97.89, 49
> 0.0018 <= 0.002 , 0.0019 , 98.45, 56
> 0.002 <= 0.0025 , 0.00225 , 99.05, 60
> 0.0025 <= 0.003 , 0.00275 , 99.22, 17
> 0.003 <= 0.0035 , 0.00325 , 99.36, 14
> 0.0035 <= 0.004 , 0.00375 , 99.51, 15
> 0.004 <= 0.0045 , 0.00425 , 99.78, 27
> 0.0045 <= 0.005 , 0.00475 , 99.91, 13
> 0.005 <= 0.00563836 , 0.00531918 , 100.00, 9
# target 50% 0.000680212
# target 75% 0.000769446
# target 90% 0.000872653
# target 99% 0.00245833
# target 99.9% 0.00496154
Ping SERVING : 10000
All done 10000 calls (plus 4 warmup) 0.742 ms avg, 999.5 qps
Successfully wrote 3614 bytes of Json data to /data/2018-11-19-054910_grpc_baseline_1000qps_10s_echo_0_9.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
05:49:20 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:49:30 I periodic.go:533> T002 ended after 10.00125899s : 2500 calls. qps=249.9685292121407
05:49:30 I periodic.go:533> T003 ended after 10.002056604s : 2500 calls. qps=249.94859547187582
05:49:30 I periodic.go:533> T001 ended after 10.002180406s : 2500 calls. qps=249.94550173283486
05:49:30 I periodic.go:533> T000 ended after 10.002276113s : 2500 calls. qps=249.94311012377867
Ended after 10.002343455s : 10000 calls. qps=999.77
Sleep times : count 9996 avg 0.0023656639 +/- 0.002381 min -0.036140608 max 0.003158882 sum 23.6471761
Aggregated Function Time : count 10000 avg 0.001130794 +/- 0.0007488 min 0.000532596 max 0.031603825 sum 11.3079403
# range, mid point, percentile, count
>= 0.000532596 <= 0.0006 , 0.000566298 , 0.05, 5
> 0.0006 <= 0.0007 , 0.00065 , 0.18, 13
> 0.0007 <= 0.0008 , 0.00075 , 2.17, 199
> 0.0008 <= 0.0009 , 0.00085 , 13.68, 1151
> 0.0009 <= 0.001 , 0.00095 , 37.53, 2385
> 0.001 <= 0.0011 , 0.00105 , 63.71, 2618
> 0.0011 <= 0.0012 , 0.00115 , 81.58, 1787
> 0.0012 <= 0.0014 , 0.0013 , 93.83, 1225
> 0.0014 <= 0.0016 , 0.0015 , 96.07, 224
> 0.0016 <= 0.0018 , 0.0017 , 96.64, 57
> 0.0018 <= 0.002 , 0.0019 , 97.30, 66
> 0.002 <= 0.0025 , 0.00225 , 98.57, 127
> 0.0025 <= 0.003 , 0.00275 , 98.96, 39
> 0.003 <= 0.0035 , 0.00325 , 99.23, 27
> 0.0035 <= 0.004 , 0.00375 , 99.34, 11
> 0.004 <= 0.0045 , 0.00425 , 99.43, 9
> 0.0045 <= 0.005 , 0.00475 , 99.69, 26
> 0.005 <= 0.006 , 0.0055 , 99.82, 13
> 0.006 <= 0.007 , 0.0065 , 99.92, 10
> 0.007 <= 0.008 , 0.0075 , 99.96, 4
> 0.03 <= 0.0316038 , 0.0308019 , 100.00, 4
# target 50% 0.00104763
# target 75% 0.00116318
# target 90% 0.00133747
# target 99% 0.00307407
# target 99.9% 0.0068
Ping SERVING : 10000
All done 10000 calls (plus 4 warmup) 1.131 ms avg, 999.8 qps
Successfully wrote 3590 bytes of Json data to /data/2018-11-19-054920_grpc_linkerd_1000qps_10s_echo_0_9.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8079
05:49:30 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:49:40 W periodic.go:487> T001 warning only did 2497 out of 2500 calls before reaching 10s
05:49:40 I periodic.go:533> T001 ended after 10.003982712s : 2497 calls. qps=249.60059127299297
05:49:40 W periodic.go:487> T003 warning only did 2498 out of 2500 calls before reaching 10s
05:49:40 I periodic.go:533> T003 ended after 10.006641629s : 2498 calls. qps=249.6342022243115
05:49:40 W periodic.go:487> T002 warning only did 2497 out of 2500 calls before reaching 10s
05:49:40 I periodic.go:533> T002 ended after 10.006681432s : 2497 calls. qps=249.5332760384412
05:49:40 W periodic.go:487> T000 warning only did 2497 out of 2500 calls before reaching 10s
05:49:40 I periodic.go:533> T000 ended after 10.006694548s : 2497 calls. qps=249.53294896955416
Ended after 10.006723272s : 9989 calls. qps=998.23
Sleep times : count 9989 avg 0.0016445411 +/- 0.001671 min -0.016876673 max 0.003121554 sum 16.4273212
Aggregated Function Time : count 9989 avg 0.0019142673 +/- 0.001117 min 0.000575841 max 0.020670583 sum 19.1216158
# range, mid point, percentile, count
>= 0.000575841 <= 0.0006 , 0.00058792 , 0.02, 2
> 0.0006 <= 0.0007 , 0.00065 , 0.10, 8
> 0.0007 <= 0.0008 , 0.00075 , 0.26, 16
> 0.0008 <= 0.0009 , 0.00085 , 0.93, 67
> 0.0009 <= 0.001 , 0.00095 , 5.38, 444
> 0.001 <= 0.0011 , 0.00105 , 10.40, 502
> 0.0011 <= 0.0012 , 0.00115 , 13.76, 335
> 0.0012 <= 0.0014 , 0.0013 , 18.24, 448
> 0.0014 <= 0.0016 , 0.0015 , 28.91, 1066
> 0.0016 <= 0.0018 , 0.0017 , 52.54, 2360
> 0.0018 <= 0.002 , 0.0019 , 69.60, 1704
> 0.002 <= 0.0025 , 0.00225 , 90.62, 2100
> 0.0025 <= 0.003 , 0.00275 , 95.99, 536
> 0.003 <= 0.0035 , 0.00325 , 96.78, 79
> 0.0035 <= 0.004 , 0.00375 , 97.65, 87
> 0.004 <= 0.0045 , 0.00425 , 98.45, 80
> 0.0045 <= 0.005 , 0.00475 , 98.83, 38
> 0.005 <= 0.006 , 0.0055 , 99.35, 52
> 0.006 <= 0.007 , 0.0065 , 99.53, 18
> 0.007 <= 0.008 , 0.0075 , 99.60, 7
> 0.01 <= 0.012 , 0.011 , 99.65, 5
> 0.012 <= 0.014 , 0.013 , 99.67, 2
> 0.014 <= 0.016 , 0.015 , 99.85, 18
> 0.016 <= 0.018 , 0.017 , 99.91, 6
> 0.018 <= 0.02 , 0.019 , 99.97, 6
> 0.02 <= 0.0206706 , 0.0203353 , 100.00, 3
# target 50% 0.00177852
# target 75% 0.00212851
# target 90% 0.00248526
# target 99% 0.00532904
# target 99.9% 0.0176703
Ping SERVING : 9989
All done 9989 calls (plus 4 warmup) 1.914 ms avg, 998.2 qps
Successfully wrote 4445 bytes of Json data to /data/2018-11-19-054930_grpc_istio_1000qps_10s_echo_0_9.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
05:49:40 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 1000.0 qps
05:49:40 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:49:51 I periodic.go:533> T002 ended after 10.000834124s : 2500 calls. qps=249.97914863926204
05:49:51 I periodic.go:533> T003 ended after 10.001243425s : 2500 calls. qps=249.96891823978376
05:49:51 I periodic.go:533> T001 ended after 10.003673597s : 2500 calls. qps=249.90819380089775
05:49:51 I periodic.go:533> T000 ended after 10.003714126s : 2500 calls. qps=249.90718132402577
Ended after 10.003730178s : 10000 calls. qps=999.63
Sleep times : count 9996 avg 0.0033171175 +/- 0.0004843 min -0.003183618 max 0.0037172 sum 33.1579062
Aggregated Function Time : count 10000 avg 0.00040197421 +/- 0.0003351 min 0.000108675 max 0.005075227 sum 4.01974211
# range, mid point, percentile, count
>= 0.000108675 <= 0.0002 , 0.000154338 , 1.86, 186
> 0.0002 <= 0.0003 , 0.00025 , 29.00, 2714
> 0.0003 <= 0.0004 , 0.00035 , 72.21, 4321
> 0.0004 <= 0.0005 , 0.00045 , 90.41, 1820
> 0.0005 <= 0.0006 , 0.00055 , 94.75, 434
> 0.0006 <= 0.0007 , 0.00065 , 96.07, 132
> 0.0007 <= 0.0008 , 0.00075 , 96.42, 35
> 0.0008 <= 0.0009 , 0.00085 , 96.65, 23
> 0.0009 <= 0.001 , 0.00095 , 97.31, 66
> 0.001 <= 0.0011 , 0.00105 , 97.59, 28
> 0.0011 <= 0.0012 , 0.00115 , 97.87, 28
> 0.0012 <= 0.0014 , 0.0013 , 98.31, 44
> 0.0014 <= 0.0016 , 0.0015 , 98.51, 20
> 0.0016 <= 0.0018 , 0.0017 , 98.71, 20
> 0.0018 <= 0.002 , 0.0019 , 99.03, 32
> 0.002 <= 0.0025 , 0.00225 , 99.29, 26
> 0.0025 <= 0.003 , 0.00275 , 99.65, 36
> 0.003 <= 0.0035 , 0.00325 , 99.71, 6
> 0.0035 <= 0.004 , 0.00375 , 99.79, 8
> 0.004 <= 0.0045 , 0.00425 , 99.88, 9
> 0.0045 <= 0.005 , 0.00475 , 99.98, 10
> 0.005 <= 0.00507523 , 0.00503761 , 100.00, 2
# target 50% 0.0003486
# target 75% 0.00041533
# target 90% 0.000497747
# target 99% 0.00198125
# target 99.9% 0.0046
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 10000 (100.0 %)
Response Header Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
Response Body/Total Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
All done 10000 calls (plus 4 warmup) 0.402 ms avg, 999.6 qps
Successfully wrote 4253 bytes of Json data to /data/2018-11-19-054941_http_baseline_1000qps_10s_echo_1_9.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
05:49:51 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 1000.0 qps
05:49:51 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:50:01 I periodic.go:533> T003 ended after 10.00096063s : 2500 calls. qps=249.9759865568034
05:50:01 I periodic.go:533> T001 ended after 10.001740842s : 2500 calls. qps=249.95648652500847
05:50:01 I periodic.go:533> T002 ended after 10.001918989s : 2500 calls. qps=249.95203447953062
05:50:01 I periodic.go:533> T000 ended after 10.001995642s : 2500 calls. qps=249.95011890448092
Ended after 10.002070853s : 10000 calls. qps=999.79
Sleep times : count 9996 avg 0.0029722432 +/- 0.000383 min -0.001373 max 0.003414655 sum 29.7105429
Aggregated Function Time : count 10000 avg 0.00076032406 +/- 0.0003198 min 0.000363884 max 0.005209963 sum 7.60324058
# range, mid point, percentile, count
>= 0.000363884 <= 0.0004 , 0.000381942 , 0.02, 2
> 0.0004 <= 0.0005 , 0.00045 , 0.28, 26
> 0.0005 <= 0.0006 , 0.00055 , 6.96, 668
> 0.0006 <= 0.0007 , 0.00065 , 46.17, 3921
> 0.0007 <= 0.0008 , 0.00075 , 80.45, 3428
> 0.0008 <= 0.0009 , 0.00085 , 92.05, 1160
> 0.0009 <= 0.001 , 0.00095 , 95.73, 368
> 0.001 <= 0.0011 , 0.00105 , 96.61, 88
> 0.0011 <= 0.0012 , 0.00115 , 97.25, 64
> 0.0012 <= 0.0014 , 0.0013 , 97.97, 72
> 0.0014 <= 0.0016 , 0.0015 , 98.44, 47
> 0.0016 <= 0.0018 , 0.0017 , 98.68, 24
> 0.0018 <= 0.002 , 0.0019 , 98.85, 17
> 0.002 <= 0.0025 , 0.00225 , 99.20, 35
> 0.0025 <= 0.003 , 0.00275 , 99.40, 20
> 0.003 <= 0.0035 , 0.00325 , 99.60, 20
> 0.0035 <= 0.004 , 0.00375 , 99.67, 7
> 0.004 <= 0.0045 , 0.00425 , 99.84, 17
> 0.0045 <= 0.005 , 0.00475 , 99.97, 13
> 0.005 <= 0.00520996 , 0.00510498 , 100.00, 3
# target 50% 0.000711173
# target 75% 0.000784102
# target 90% 0.000882328
# target 99% 0.00221429
# target 99.9% 0.00473077
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 10000 (100.0 %)
Response Header Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
Response Body/Total Sizes : count 10000 avg 75 +/- 0 min 75 max 75 sum 750000
All done 10000 calls (plus 4 warmup) 0.760 ms avg, 999.8 qps
Successfully wrote 4004 bytes of Json data to /data/2018-11-19-054951_http_linkerd_1000qps_10s_echo_1_9.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
05:50:01 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 1000.0 qps
05:50:01 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:50:11 W periodic.go:487> T000 warning only did 2498 out of 2500 calls before reaching 10s
05:50:11 I periodic.go:533> T000 ended after 10.007250758s : 2498 calls. qps=249.61900729858777
05:50:11 W periodic.go:487> T001 warning only did 2498 out of 2500 calls before reaching 10s
05:50:11 I periodic.go:533> T001 ended after 10.00985698s : 2498 calls. qps=249.55401510641764
05:50:11 W periodic.go:487> T003 warning only did 2498 out of 2500 calls before reaching 10s
05:50:11 I periodic.go:533> T003 ended after 10.00987237s : 2498 calls. qps=249.55363142157626
05:50:11 W periodic.go:487> T002 warning only did 2498 out of 2500 calls before reaching 10s
05:50:11 I periodic.go:533> T002 ended after 10.009879373s : 2498 calls. qps=249.55345683165206
Ended after 10.009890397s : 9992 calls. qps=998.21
Sleep times : count 9992 avg 0.0017906827 +/- 0.001711 min -0.014084892 max 0.003017866 sum 17.8925013
Aggregated Function Time : count 9992 avg 0.0017331089 +/- 0.001039 min 0.000714255 max 0.016713324 sum 17.3172243
# range, mid point, percentile, count
>= 0.000714255 <= 0.0008 , 0.000757127 , 0.03, 3
> 0.0008 <= 0.0009 , 0.00085 , 0.12, 9
> 0.0009 <= 0.001 , 0.00095 , 0.26, 14
> 0.001 <= 0.0011 , 0.00105 , 0.43, 17
> 0.0011 <= 0.0012 , 0.00115 , 2.66, 223
> 0.0012 <= 0.0014 , 0.0013 , 36.63, 3394
> 0.0014 <= 0.0016 , 0.0015 , 61.33, 2468
> 0.0016 <= 0.0018 , 0.0017 , 73.10, 1176
> 0.0018 <= 0.002 , 0.0019 , 83.06, 995
> 0.002 <= 0.0025 , 0.00225 , 94.95, 1188
> 0.0025 <= 0.003 , 0.00275 , 95.87, 92
> 0.003 <= 0.0035 , 0.00325 , 96.79, 92
> 0.0035 <= 0.004 , 0.00375 , 97.77, 98
> 0.004 <= 0.0045 , 0.00425 , 98.38, 61
> 0.0045 <= 0.005 , 0.00475 , 98.97, 59
> 0.005 <= 0.006 , 0.0055 , 99.44, 47
> 0.006 <= 0.007 , 0.0065 , 99.52, 8
> 0.008 <= 0.009 , 0.0085 , 99.60, 8
> 0.012 <= 0.014 , 0.013 , 99.75, 15
> 0.014 <= 0.016 , 0.015 , 99.95, 20
> 0.016 <= 0.0167133 , 0.0163567 , 100.00, 5
# target 50% 0.00150827
# target 75% 0.00183819
# target 90% 0.002292
# target 99% 0.00506553
# target 99.9% 0.0155008
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 9992 (100.0 %)
Response Header Sizes : count 9992 avg 209 +/- 0 min 209 max 209 sum 2088328
Response Body/Total Sizes : count 9992 avg 209 +/- 0 min 209 max 209 sum 2088328
All done 9992 calls (plus 4 warmup) 1.733 ms avg, 998.2 qps
Successfully wrote 4335 bytes of Json data to /data/2018-11-19-055001_http_istio_1000qps_10s_echo_1_9.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
05:50:11 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:50:21 I periodic.go:533> T001 ended after 10.000795229s : 2500 calls. qps=249.98012085584722
05:50:21 I periodic.go:533> T002 ended after 10.001239913s : 2500 calls. qps=249.96900601798416
05:50:21 I periodic.go:533> T003 ended after 10.003862921s : 2500 calls. qps=249.90346426599143
05:50:21 I periodic.go:533> T000 ended after 10.003937664s : 2500 calls. qps=249.90159714773688
Ended after 10.003953327s : 10000 calls. qps=999.6
Sleep times : count 9996 avg 0.0029682567 +/- 0.000468 min -0.001646009 max 0.00352973 sum 29.6706941
Aggregated Function Time : count 10000 avg 0.00073968033 +/- 0.0003577 min 0.000234221 max 0.00541537 sum 7.39680327
# range, mid point, percentile, count
>= 0.000234221 <= 0.0003 , 0.000267111 , 0.02, 2
> 0.0003 <= 0.0004 , 0.00035 , 0.29, 27
> 0.0004 <= 0.0005 , 0.00045 , 3.83, 354
> 0.0005 <= 0.0006 , 0.00055 , 22.20, 1837
> 0.0006 <= 0.0007 , 0.00065 , 57.24, 3504
> 0.0007 <= 0.0008 , 0.00075 , 81.62, 2438
> 0.0008 <= 0.0009 , 0.00085 , 91.91, 1029
> 0.0009 <= 0.001 , 0.00095 , 94.91, 300
> 0.001 <= 0.0011 , 0.00105 , 95.90, 99
> 0.0011 <= 0.0012 , 0.00115 , 96.37, 47
> 0.0012 <= 0.0014 , 0.0013 , 96.86, 49
> 0.0014 <= 0.0016 , 0.0015 , 97.25, 39
> 0.0016 <= 0.0018 , 0.0017 , 98.01, 76
> 0.0018 <= 0.002 , 0.0019 , 98.47, 46
> 0.002 <= 0.0025 , 0.00225 , 99.12, 65
> 0.0025 <= 0.003 , 0.00275 , 99.34, 22
> 0.003 <= 0.0035 , 0.00325 , 99.54, 20
> 0.0035 <= 0.004 , 0.00375 , 99.70, 16
> 0.004 <= 0.0045 , 0.00425 , 99.84, 14
> 0.0045 <= 0.005 , 0.00475 , 99.91, 7
> 0.005 <= 0.00541537 , 0.00520769 , 100.00, 9
# target 50% 0.000679338
# target 75% 0.000772847
# target 90% 0.000881438
# target 99% 0.00240769
# target 99.9% 0.00492857
Ping SERVING : 10000
All done 10000 calls (plus 4 warmup) 0.740 ms avg, 999.6 qps
Successfully wrote 3608 bytes of Json data to /data/2018-11-19-055011_grpc_baseline_1000qps_10s_echo_1_9.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
05:50:21 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:50:31 I periodic.go:533> T002 ended after 10.001392887s : 2500 calls. qps=249.96518267465999
05:50:31 I periodic.go:533> T000 ended after 10.002001961s : 2500 calls. qps=249.94996099261414
05:50:31 I periodic.go:533> T001 ended after 10.002377611s : 2500 calls. qps=249.9405738542258
05:50:31 I periodic.go:533> T003 ended after 10.002457388s : 2500 calls. qps=249.93858039318047
Ended after 10.002547788s : 10000 calls. qps=999.75
Sleep times : count 9996 avg 0.002352949 +/- 0.00246 min -0.036802008 max 0.003106165 sum 23.5200785
Aggregated Function Time : count 10000 avg 0.0011491112 +/- 0.0007617 min 0.000509136 max 0.034443574 sum 11.4911121
# range, mid point, percentile, count
>= 0.000509136 <= 0.0006 , 0.000554568 , 0.06, 6
> 0.0006 <= 0.0007 , 0.00065 , 0.12, 6
> 0.0007 <= 0.0008 , 0.00075 , 1.40, 128
> 0.0008 <= 0.0009 , 0.00085 , 9.88, 848
> 0.0009 <= 0.001 , 0.00095 , 30.48, 2060
> 0.001 <= 0.0011 , 0.00105 , 57.26, 2678
> 0.0011 <= 0.0012 , 0.00115 , 77.35, 2009
> 0.0012 <= 0.0014 , 0.0013 , 92.99, 1564
> 0.0014 <= 0.0016 , 0.0015 , 96.04, 305
> 0.0016 <= 0.0018 , 0.0017 , 96.89, 85
> 0.0018 <= 0.002 , 0.0019 , 97.43, 54
> 0.002 <= 0.0025 , 0.00225 , 98.78, 135
> 0.0025 <= 0.003 , 0.00275 , 99.15, 37
> 0.003 <= 0.0035 , 0.00325 , 99.43, 28
> 0.0035 <= 0.004 , 0.00375 , 99.49, 6
> 0.004 <= 0.0045 , 0.00425 , 99.58, 9
> 0.0045 <= 0.005 , 0.00475 , 99.73, 15
> 0.005 <= 0.006 , 0.0055 , 99.96, 23
> 0.03 <= 0.0344436 , 0.0322218 , 100.00, 4
# target 50% 0.00107289
# target 75% 0.0011883
# target 90% 0.00136176
# target 99% 0.0027973
# target 99.9% 0.00573913
Ping SERVING : 10000
All done 10000 calls (plus 4 warmup) 1.149 ms avg, 999.7 qps
Successfully wrote 3369 bytes of Json data to /data/2018-11-19-055021_grpc_linkerd_1000qps_10s_echo_1_9.json
Fortio 1.3.1-pre running at 1000 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8079
05:50:31 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 1000.0 qps
Starting at 1000 qps with 4 thread(s) [gomax 1] for 10s : 2500 calls each (total 10000)
05:50:41 W periodic.go:487> T001 warning only did 2497 out of 2500 calls before reaching 10s
05:50:41 I periodic.go:533> T001 ended after 10.007240357s : 2497 calls. qps=249.51933909065795
05:50:41 W periodic.go:487> T003 warning only did 2497 out of 2500 calls before reaching 10s
05:50:41 I periodic.go:533> T003 ended after 10.007345224s : 2497 calls. qps=249.51672437677064
05:50:41 W periodic.go:487> T002 warning only did 2497 out of 2500 calls before reaching 10s
05:50:41 I periodic.go:533> T002 ended after 10.007360737s : 2497 calls. qps=249.51633758618246
05:50:41 W periodic.go:487> T000 warning only did 2498 out of 2500 calls before reaching 10s
05:50:41 I periodic.go:533> T000 ended after 10.007595887s : 2498 calls. qps=249.6103987616981
Ended after 10.007609302s : 9989 calls. qps=998.14
Sleep times : count 9989 avg 0.0017087443 +/- 0.001459 min -0.012960033 max 0.003118725 sum 17.0686465
Aggregated Function Time : count 9989 avg 0.0018759742 +/- 0.001061 min 0.000566117 max 0.016803109 sum 18.7391061
# range, mid point, percentile, count
>= 0.000566117 <= 0.0006 , 0.000583058 , 0.01, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.08, 7
> 0.0007 <= 0.0008 , 0.00075 , 0.33, 25
> 0.0008 <= 0.0009 , 0.00085 , 0.92, 59
> 0.0009 <= 0.001 , 0.00095 , 5.45, 452
> 0.001 <= 0.0011 , 0.00105 , 11.32, 587
> 0.0011 <= 0.0012 , 0.00115 , 14.95, 362
> 0.0012 <= 0.0014 , 0.0013 , 19.15, 420
> 0.0014 <= 0.0016 , 0.0015 , 30.87, 1171
> 0.0016 <= 0.0018 , 0.0017 , 57.42, 2652
> 0.0018 <= 0.002 , 0.0019 , 72.30, 1486
> 0.002 <= 0.0025 , 0.00225 , 92.21, 1989
> 0.0025 <= 0.003 , 0.00275 , 95.91, 369
> 0.003 <= 0.0035 , 0.00325 , 96.73, 82
> 0.0035 <= 0.004 , 0.00375 , 97.61, 88
> 0.004 <= 0.0045 , 0.00425 , 98.37, 76
> 0.0045 <= 0.005 , 0.00475 , 98.84, 47
> 0.005 <= 0.006 , 0.0055 , 99.27, 43
> 0.006 <= 0.007 , 0.0065 , 99.55, 28
> 0.007 <= 0.008 , 0.0075 , 99.60, 5
> 0.01 <= 0.012 , 0.011 , 99.66, 6
> 0.012 <= 0.014 , 0.013 , 99.68, 2
> 0.014 <= 0.016 , 0.015 , 99.94, 26
> 0.016 <= 0.0168031 , 0.0164016 , 100.00, 6
# target 50% 0.00174408
# target 75% 0.00206781
# target 90% 0.00244447
# target 99% 0.00537465
# target 99.9% 0.0156932
Ping SERVING : 9989
All done 9989 calls (plus 4 warmup) 1.876 ms avg, 998.1 qps
Successfully wrote 4178 bytes of Json data to /data/2018-11-19-055031_grpc_istio_1000qps_10s_echo_1_9.json
