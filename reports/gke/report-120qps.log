1.3.1-pre unknown go1.11.2
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
04:29:31 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 120.0 qps
04:29:31 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:29:41 I periodic.go:533> T003 ended after 10.000799191s : 300 calls. qps=29.997602618596563
04:29:41 I periodic.go:533> T001 ended after 10.001130883s : 300 calls. qps=29.996607734625524
04:29:41 I periodic.go:533> T002 ended after 10.003381382s : 300 calls. qps=29.989859282963803
04:29:41 I periodic.go:533> T000 ended after 10.003417981s : 300 calls. qps=29.989749560580716
Ended after 10.003445707s : 1200 calls. qps=119.96
Sleep times : count 1196 avg 0.032544253 +/- 0.0002229 min 0.029974252 max 0.032910618 sum 38.9229263
Aggregated Function Time : count 1200 avg 0.0005937341 +/- 0.0002036 min 0.000132789 max 0.003157574 sum 0.712480925
# range, mid point, percentile, count
>= 0.000132789 <= 0.0002 , 0.000166395 , 0.17, 2
> 0.0002 <= 0.0003 , 0.00025 , 0.25, 1
> 0.0003 <= 0.0004 , 0.00035 , 2.75, 30
> 0.0004 <= 0.0005 , 0.00045 , 26.17, 281
> 0.0005 <= 0.0006 , 0.00055 , 61.42, 423
> 0.0006 <= 0.0007 , 0.00065 , 85.58, 290
> 0.0007 <= 0.0008 , 0.00075 , 94.83, 111
> 0.0008 <= 0.0009 , 0.00085 , 98.33, 42
> 0.0009 <= 0.001 , 0.00095 , 98.75, 5
> 0.001 <= 0.0011 , 0.00105 , 98.83, 1
> 0.0016 <= 0.0018 , 0.0017 , 99.17, 4
> 0.0018 <= 0.002 , 0.0019 , 99.50, 4
> 0.002 <= 0.0025 , 0.00225 , 99.83, 4
> 0.003 <= 0.00315757 , 0.00307879 , 100.00, 2
# target 50% 0.000567612
# target 75% 0.000656207
# target 90% 0.000747748
# target 99% 0.0017
# target 99.9% 0.00306303
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
Response Body/Total Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
All done 1200 calls (plus 4 warmup) 0.594 ms avg, 120.0 qps
Successfully wrote 3407 bytes of Json data to /data/2018-11-19-042931_http_baseline_120qps_10s_echo_0_0.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
04:29:41 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 120.0 qps
04:29:41 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:29:51 I periodic.go:533> T002 ended after 10.001637566s : 300 calls. qps=29.995088106355006
04:29:51 I periodic.go:533> T001 ended after 10.002051064s : 300 calls. qps=29.993848069800258
04:29:51 I periodic.go:533> T003 ended after 10.004175464s : 300 calls. qps=29.987478836166883
04:29:51 I periodic.go:533> T000 ended after 10.004208859s : 300 calls. qps=29.98737873511243
Ended after 10.004244609s : 1200 calls. qps=119.95
Sleep times : count 1196 avg 0.031922194 +/- 0.0003002 min 0.027386319 max 0.032801442 sum 38.1789441
Aggregated Function Time : count 1200 avg 0.0012058939 +/- 0.000314 min 0.00058831 max 0.005779705 sum 1.44707273
# range, mid point, percentile, count
>= 0.00058831 <= 0.0006 , 0.000594155 , 0.08, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.17, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.25, 1
> 0.0008 <= 0.0009 , 0.00085 , 0.58, 4
> 0.0009 <= 0.001 , 0.00095 , 3.58, 36
> 0.001 <= 0.0011 , 0.00105 , 25.42, 262
> 0.0011 <= 0.0012 , 0.00115 , 62.33, 443
> 0.0012 <= 0.0014 , 0.0013 , 92.58, 363
> 0.0014 <= 0.0016 , 0.0015 , 98.67, 73
> 0.0016 <= 0.0018 , 0.0017 , 99.17, 6
> 0.002 <= 0.0025 , 0.00225 , 99.50, 4
> 0.0035 <= 0.004 , 0.00375 , 99.67, 2
> 0.005 <= 0.00577971 , 0.00538985 , 100.00, 4
# target 50% 0.00116659
# target 75% 0.00128375
# target 90% 0.00138292
# target 99% 0.00173333
# target 99.9% 0.00554579
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
Response Body/Total Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
All done 1200 calls (plus 4 warmup) 1.206 ms avg, 119.9 qps
Successfully wrote 3296 bytes of Json data to /data/2018-11-19-042941_http_linkerd_120qps_10s_echo_0_0.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
04:29:51 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 120.0 qps
04:29:51 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:30:01 I periodic.go:533> T000 ended after 10.001934297s : 300 calls. qps=29.994198231234392
04:30:01 I periodic.go:533> T002 ended after 10.002294237s : 300 calls. qps=29.993118867694836
04:30:01 I periodic.go:533> T001 ended after 10.004513136s : 300 calls. qps=29.98646669976245
04:30:01 I periodic.go:533> T003 ended after 10.004587352s : 300 calls. qps=29.98624425424478
Ended after 10.00460616s : 1200 calls. qps=119.94
Sleep times : count 1196 avg 0.031351687 +/- 0.0006097 min 0.026111898 max 0.032760817 sum 37.496618
Aggregated Function Time : count 1200 avg 0.0017452229 +/- 0.0006024 min 0.00061925 max 0.007097782 sum 2.09426752
# range, mid point, percentile, count
>= 0.00061925 <= 0.0007 , 0.000659625 , 0.08, 1
> 0.0009 <= 0.001 , 0.00095 , 0.25, 2
> 0.001 <= 0.0011 , 0.00105 , 0.75, 6
> 0.0011 <= 0.0012 , 0.00115 , 0.83, 1
> 0.0012 <= 0.0014 , 0.0013 , 11.00, 122
> 0.0014 <= 0.0016 , 0.0015 , 53.00, 504
> 0.0016 <= 0.0018 , 0.0017 , 77.67, 296
> 0.0018 <= 0.002 , 0.0019 , 87.67, 120
> 0.002 <= 0.0025 , 0.00225 , 94.42, 81
> 0.0025 <= 0.003 , 0.00275 , 96.00, 19
> 0.003 <= 0.0035 , 0.00325 , 96.50, 6
> 0.0035 <= 0.004 , 0.00375 , 98.00, 18
> 0.004 <= 0.0045 , 0.00425 , 98.50, 6
> 0.0045 <= 0.005 , 0.00475 , 99.58, 13
> 0.005 <= 0.006 , 0.0055 , 99.75, 2
> 0.006 <= 0.007 , 0.0065 , 99.92, 2
> 0.007 <= 0.00709778 , 0.00704889 , 100.00, 1
# target 50% 0.00158571
# target 75% 0.00177838
# target 90% 0.00217284
# target 99% 0.00473077
# target 99.9% 0.0069
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 209 +/- 0 min 209 max 209 sum 250800
Response Body/Total Sizes : count 1200 avg 209 +/- 0 min 209 max 209 sum 250800
All done 1200 calls (plus 4 warmup) 1.745 ms avg, 119.9 qps
Successfully wrote 3678 bytes of Json data to /data/2018-11-19-042951_http_istio_120qps_10s_echo_0_0.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
04:30:01 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:30:11 I periodic.go:533> T001 ended after 10.001401146s : 300 calls. qps=29.995797150880527
04:30:11 I periodic.go:533> T003 ended after 10.001770147s : 300 calls. qps=29.99469049885975
04:30:11 I periodic.go:533> T000 ended after 10.003982155s : 300 calls. qps=29.98805829037387
04:30:11 I periodic.go:533> T002 ended after 10.004046361s : 300 calls. qps=29.98786582692447
Ended after 10.004063003s : 1200 calls. qps=119.95
Sleep times : count 1196 avg 0.031917086 +/- 0.0005044 min 0.027555714 max 0.03241172 sum 38.172835
Aggregated Function Time : count 1200 avg 0.0011308965 +/- 0.0003752 min 0.00060307 max 0.005435665 sum 1.35707575
# range, mid point, percentile, count
>= 0.00060307 <= 0.0007 , 0.000651535 , 0.25, 3
> 0.0007 <= 0.0008 , 0.00075 , 1.67, 17
> 0.0008 <= 0.0009 , 0.00085 , 10.50, 106
> 0.0009 <= 0.001 , 0.00095 , 33.92, 281
> 0.001 <= 0.0011 , 0.00105 , 61.42, 330
> 0.0011 <= 0.0012 , 0.00115 , 77.00, 187
> 0.0012 <= 0.0014 , 0.0013 , 91.75, 177
> 0.0014 <= 0.0016 , 0.0015 , 95.58, 46
> 0.0016 <= 0.0018 , 0.0017 , 96.67, 13
> 0.0018 <= 0.002 , 0.0019 , 97.58, 11
> 0.002 <= 0.0025 , 0.00225 , 98.67, 13
> 0.0025 <= 0.003 , 0.00275 , 99.17, 6
> 0.003 <= 0.0035 , 0.00325 , 99.50, 4
> 0.0035 <= 0.004 , 0.00375 , 99.67, 2
> 0.0045 <= 0.005 , 0.00475 , 99.75, 1
> 0.005 <= 0.00543567 , 0.00521783 , 100.00, 3
# target 50% 0.00105848
# target 75% 0.00118717
# target 90% 0.00137627
# target 99% 0.00283333
# target 99.9% 0.0052614
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 1.131 ms avg, 120.0 qps
Successfully wrote 3079 bytes of Json data to /data/2018-11-19-043001_grpc_baseline_120qps_10s_echo_0_0.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
04:30:11 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:30:21 I periodic.go:533> T003 ended after 10.001784082s : 300 calls. qps=29.994648708714244
04:30:21 I periodic.go:533> T002 ended after 10.002199643s : 300 calls. qps=29.993402522209582
04:30:21 I periodic.go:533> T001 ended after 10.004608227s : 300 calls. qps=29.9861816867924
04:30:21 I periodic.go:533> T000 ended after 10.004676064s : 300 calls. qps=29.98597836460645
Ended after 10.004694818s : 1200 calls. qps=119.94
Sleep times : count 1196 avg 0.031241071 +/- 0.002169 min -0.005294779 max 0.031929828 sum 37.3643204
Aggregated Function Time : count 1200 avg 0.0017978058 +/- 0.001601 min 0.000984863 max 0.037023789 sum 2.157367
# range, mid point, percentile, count
>= 0.000984863 <= 0.001 , 0.000992431 , 0.08, 1
> 0.001 <= 0.0011 , 0.00105 , 0.17, 1
> 0.0011 <= 0.0012 , 0.00115 , 0.33, 2
> 0.0012 <= 0.0014 , 0.0013 , 6.00, 68
> 0.0014 <= 0.0016 , 0.0015 , 39.92, 407
> 0.0016 <= 0.0018 , 0.0017 , 76.83, 443
> 0.0018 <= 0.002 , 0.0019 , 93.00, 194
> 0.002 <= 0.0025 , 0.00225 , 96.42, 41
> 0.0025 <= 0.003 , 0.00275 , 98.00, 19
> 0.003 <= 0.0035 , 0.00325 , 98.75, 9
> 0.0035 <= 0.004 , 0.00375 , 99.00, 3
> 0.004 <= 0.0045 , 0.00425 , 99.17, 2
> 0.005 <= 0.006 , 0.0055 , 99.67, 6
> 0.018 <= 0.02 , 0.019 , 99.75, 1
> 0.02 <= 0.025 , 0.0225 , 99.83, 1
> 0.03 <= 0.035 , 0.0325 , 99.92, 1
> 0.035 <= 0.0370238 , 0.0360119 , 100.00, 1
# target 50% 0.00165463
# target 75% 0.00179007
# target 90% 0.00196289
# target 99% 0.004
# target 99.9% 0.034
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 1.798 ms avg, 119.9 qps
Successfully wrote 3165 bytes of Json data to /data/2018-11-19-043011_grpc_linkerd_120qps_10s_echo_0_0.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8079
04:30:21 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:30:31 I periodic.go:533> T001 ended after 10.001821374s : 300 calls. qps=29.99453687303974
04:30:31 I periodic.go:533> T000 ended after 10.006296029s : 300 calls. qps=29.981123797511827
04:30:31 I periodic.go:533> T003 ended after 10.006459215s : 300 calls. qps=29.98063486335811
04:30:31 I periodic.go:533> T002 ended after 10.006605623s : 300 calls. qps=29.980196212635327
Ended after 10.006623235s : 1200 calls. qps=119.92
Sleep times : count 1196 avg 0.031029831 +/- 0.0005812 min 0.026833265 max 0.032011927 sum 37.1116774
Aggregated Function Time : count 1200 avg 0.002074035 +/- 0.0006086 min 0.001008238 max 0.006417181 sum 2.48884195
# range, mid point, percentile, count
>= 0.00100824 <= 0.0011 , 0.00105412 , 0.17, 2
> 0.0011 <= 0.0012 , 0.00115 , 1.17, 12
> 0.0012 <= 0.0014 , 0.0013 , 11.00, 118
> 0.0014 <= 0.0016 , 0.0015 , 18.50, 90
> 0.0016 <= 0.0018 , 0.0017 , 25.92, 89
> 0.0018 <= 0.002 , 0.0019 , 46.75, 250
> 0.002 <= 0.0025 , 0.00225 , 85.25, 462
> 0.0025 <= 0.003 , 0.00275 , 95.92, 128
> 0.003 <= 0.0035 , 0.00325 , 97.92, 24
> 0.0035 <= 0.004 , 0.00375 , 98.33, 5
> 0.004 <= 0.0045 , 0.00425 , 98.75, 5
> 0.0045 <= 0.005 , 0.00475 , 99.25, 6
> 0.005 <= 0.006 , 0.0055 , 99.58, 4
> 0.006 <= 0.00641718 , 0.00620859 , 100.00, 5
# target 50% 0.00204221
# target 75% 0.00236688
# target 90% 0.00272266
# target 99% 0.00475
# target 99.9% 0.00631706
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 2.074 ms avg, 119.9 qps
Successfully wrote 2799 bytes of Json data to /data/2018-11-19-043021_grpc_istio_120qps_10s_echo_0_0.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
04:30:31 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 120.0 qps
04:30:31 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:30:41 I periodic.go:533> T001 ended after 10.00080261s : 300 calls. qps=29.997592363239338
04:30:41 I periodic.go:533> T000 ended after 10.00114735s : 300 calls. qps=29.9965583448783
04:30:41 I periodic.go:533> T003 ended after 10.003394902s : 300 calls. qps=29.989818750434452
04:30:41 I periodic.go:533> T002 ended after 10.003463362s : 300 calls. qps=29.98961351121706
Ended after 10.003480195s : 1200 calls. qps=119.96
Sleep times : count 1196 avg 0.032470095 +/- 0.0002557 min 0.030124719 max 0.032838976 sum 38.8342338
Aggregated Function Time : count 1200 avg 0.00063454725 +/- 0.0002732 min 0.0001527 max 0.003287816 sum 0.761456695
# range, mid point, percentile, count
>= 0.0001527 <= 0.0002 , 0.00017635 , 0.08, 1
> 0.0002 <= 0.0003 , 0.00025 , 0.17, 1
> 0.0003 <= 0.0004 , 0.00035 , 2.42, 27
> 0.0004 <= 0.0005 , 0.00045 , 19.50, 205
> 0.0005 <= 0.0006 , 0.00055 , 52.00, 390
> 0.0006 <= 0.0007 , 0.00065 , 79.17, 326
> 0.0007 <= 0.0008 , 0.00075 , 91.08, 143
> 0.0008 <= 0.0009 , 0.00085 , 96.08, 60
> 0.0009 <= 0.001 , 0.00095 , 96.83, 9
> 0.001 <= 0.0011 , 0.00105 , 97.50, 8
> 0.0011 <= 0.0012 , 0.00115 , 97.83, 4
> 0.0012 <= 0.0014 , 0.0013 , 98.33, 6
> 0.0014 <= 0.0016 , 0.0015 , 98.75, 5
> 0.0016 <= 0.0018 , 0.0017 , 98.83, 1
> 0.002 <= 0.0025 , 0.00225 , 99.08, 3
> 0.0025 <= 0.003 , 0.00275 , 99.83, 9
> 0.003 <= 0.00328782 , 0.00314391 , 100.00, 2
# target 50% 0.000593846
# target 75% 0.000684663
# target 90% 0.000790909
# target 99% 0.00233333
# target 99.9% 0.00311513
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
Response Body/Total Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
All done 1200 calls (plus 4 warmup) 0.635 ms avg, 120.0 qps
Successfully wrote 3791 bytes of Json data to /data/2018-11-19-043031_http_baseline_120qps_10s_echo_1_0.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
04:30:41 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 120.0 qps
04:30:41 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:30:51 I periodic.go:533> T002 ended after 10.001403149s : 300 calls. qps=29.99579114356527
04:30:51 I periodic.go:533> T003 ended after 10.002071844s : 300 calls. qps=29.99378575549452
04:30:51 I periodic.go:533> T000 ended after 10.002227455s : 300 calls. qps=29.993319123135258
04:30:51 I periodic.go:533> T001 ended after 10.002321707s : 300 calls. qps=29.99303649572166
Ended after 10.0023872s : 1200 calls. qps=119.97
Sleep times : count 1196 avg 0.031917778 +/- 0.0001999 min 0.029478262 max 0.032273815 sum 38.1736624
Aggregated Function Time : count 1200 avg 0.0012070391 +/- 0.000146 min 0.000866292 max 0.002545109 sum 1.44844698
# range, mid point, percentile, count
>= 0.000866292 <= 0.0009 , 0.000883146 , 0.25, 3
> 0.0009 <= 0.001 , 0.00095 , 2.58, 28
> 0.001 <= 0.0011 , 0.00105 , 17.58, 180
> 0.0011 <= 0.0012 , 0.00115 , 54.75, 446
> 0.0012 <= 0.0014 , 0.0013 , 93.83, 469
> 0.0014 <= 0.0016 , 0.0015 , 98.25, 53
> 0.0016 <= 0.0018 , 0.0017 , 98.83, 7
> 0.0018 <= 0.002 , 0.0019 , 99.50, 8
> 0.002 <= 0.0025 , 0.00225 , 99.92, 5
> 0.0025 <= 0.00254511 , 0.00252255 , 100.00, 1
# target 50% 0.00118722
# target 75% 0.00130362
# target 90% 0.00138038
# target 99% 0.00185
# target 99.9% 0.00248
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
Response Body/Total Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
All done 1200 calls (plus 4 warmup) 1.207 ms avg, 120.0 qps
Successfully wrote 2884 bytes of Json data to /data/2018-11-19-043041_http_linkerd_120qps_10s_echo_1_0.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
04:30:51 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 120.0 qps
04:30:51 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:31:01 I periodic.go:533> T001 ended after 10.003783786s : 300 calls. qps=29.988652935486385
04:31:01 I periodic.go:533> T000 ended after 10.003868965s : 300 calls. qps=29.988397593930298
04:31:01 I periodic.go:533> T003 ended after 10.003884063s : 300 calls. qps=29.98835233502646
04:31:01 I periodic.go:533> T002 ended after 10.003895194s : 300 calls. qps=29.98831896798858
Ended after 10.003907973s : 1200 calls. qps=119.95
Sleep times : count 1196 avg 0.031448823 +/- 0.000404 min 0.027388688 max 0.032596721 sum 37.6127922
Aggregated Function Time : count 1200 avg 0.0016945673 +/- 0.0004054 min 0.000770434 max 0.005785373 sum 2.03348078
# range, mid point, percentile, count
>= 0.000770434 <= 0.0008 , 0.000785217 , 0.17, 2
> 0.0008 <= 0.0009 , 0.00085 , 0.25, 1
> 0.0009 <= 0.001 , 0.00095 , 0.33, 1
> 0.001 <= 0.0011 , 0.00105 , 0.42, 1
> 0.0012 <= 0.0014 , 0.0013 , 12.25, 142
> 0.0014 <= 0.0016 , 0.0015 , 48.25, 432
> 0.0016 <= 0.0018 , 0.0017 , 71.75, 282
> 0.0018 <= 0.002 , 0.0019 , 89.83, 217
> 0.002 <= 0.0025 , 0.00225 , 97.33, 90
> 0.0025 <= 0.003 , 0.00275 , 98.33, 12
> 0.003 <= 0.0035 , 0.00325 , 99.17, 10
> 0.0035 <= 0.004 , 0.00375 , 99.67, 6
> 0.005 <= 0.00578537 , 0.00539269 , 100.00, 4
# target 50% 0.00161489
# target 75% 0.00183594
# target 90% 0.00201111
# target 99% 0.0034
# target 99.9% 0.00554976
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 209 +/- 0 min 209 max 209 sum 250800
Response Body/Total Sizes : count 1200 avg 209 +/- 0 min 209 max 209 sum 250800
All done 1200 calls (plus 4 warmup) 1.695 ms avg, 120.0 qps
Successfully wrote 3252 bytes of Json data to /data/2018-11-19-043051_http_istio_120qps_10s_echo_1_0.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
04:31:01 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:31:11 I periodic.go:533> T002 ended after 10.001460694s : 300 calls. qps=29.995618557994604
04:31:11 I periodic.go:533> T000 ended after 10.001558014s : 300 calls. qps=29.995326686108847
04:31:11 I periodic.go:533> T003 ended after 10.001642483s : 300 calls. qps=29.995073360192215
04:31:11 I periodic.go:533> T001 ended after 10.001673979s : 300 calls. qps=29.99497890352101
Ended after 10.001687596s : 1200 calls. qps=119.98
Sleep times : count 1196 avg 0.031949231 +/- 0.0003565 min 0.028237506 max 0.032387322 sum 38.21128
Aggregated Function Time : count 1200 avg 0.0011292624 +/- 0.0003432 min 0.000679546 max 0.004870023 sum 1.3551149
# range, mid point, percentile, count
>= 0.000679546 <= 0.0007 , 0.000689773 , 0.17, 2
> 0.0007 <= 0.0008 , 0.00075 , 1.83, 20
> 0.0008 <= 0.0009 , 0.00085 , 7.33, 66
> 0.0009 <= 0.001 , 0.00095 , 34.00, 320
> 0.001 <= 0.0011 , 0.00105 , 61.08, 325
> 0.0011 <= 0.0012 , 0.00115 , 78.75, 212
> 0.0012 <= 0.0014 , 0.0013 , 93.25, 174
> 0.0014 <= 0.0016 , 0.0015 , 95.00, 21
> 0.0016 <= 0.0018 , 0.0017 , 95.58, 7
> 0.0018 <= 0.002 , 0.0019 , 96.83, 15
> 0.002 <= 0.0025 , 0.00225 , 99.08, 27
> 0.0025 <= 0.003 , 0.00275 , 99.67, 7
> 0.0045 <= 0.00487002 , 0.00468501 , 100.00, 4
# target 50% 0.00105908
# target 75% 0.00117877
# target 90% 0.00135517
# target 99% 0.00248148
# target 99.9% 0.00475902
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 1.129 ms avg, 120.0 qps
Successfully wrote 2743 bytes of Json data to /data/2018-11-19-043101_grpc_baseline_120qps_10s_echo_1_0.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
04:31:11 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:31:21 I periodic.go:533> T000 ended after 10.001857417s : 300 calls. qps=29.994428783807166
04:31:21 I periodic.go:533> T001 ended after 10.00202603s : 300 calls. qps=29.993923141189825
04:31:21 I periodic.go:533> T002 ended after 10.002044146s : 300 calls. qps=29.99386881530367
04:31:21 I periodic.go:533> T003 ended after 10.002055202s : 300 calls. qps=29.993835660896206
Ended after 10.002066097s : 1200 calls. qps=119.98
Sleep times : count 1196 avg 0.031180043 +/- 0.002115 min -0.00131527 max 0.031906081 sum 37.291331
Aggregated Function Time : count 1200 avg 0.0018073657 +/- 0.0015 min 0.001152898 max 0.032473947 sum 2.16883884
# range, mid point, percentile, count
>= 0.0011529 <= 0.0012 , 0.00117645 , 0.33, 4
> 0.0012 <= 0.0014 , 0.0013 , 9.33, 108
> 0.0014 <= 0.0016 , 0.0015 , 41.00, 380
> 0.0016 <= 0.0018 , 0.0017 , 73.83, 394
> 0.0018 <= 0.002 , 0.0019 , 90.00, 194
> 0.002 <= 0.0025 , 0.00225 , 96.58, 79
> 0.0025 <= 0.003 , 0.00275 , 97.92, 16
> 0.003 <= 0.0035 , 0.00325 , 98.83, 11
> 0.0035 <= 0.004 , 0.00375 , 98.92, 1
> 0.0045 <= 0.005 , 0.00475 , 99.00, 1
> 0.005 <= 0.006 , 0.0055 , 99.33, 4
> 0.007 <= 0.008 , 0.0075 , 99.67, 4
> 0.02 <= 0.025 , 0.0225 , 99.83, 2
> 0.025 <= 0.03 , 0.0275 , 99.92, 1
> 0.03 <= 0.0324739 , 0.031237 , 100.00, 1
# target 50% 0.00165482
# target 75% 0.00181443
# target 90% 0.002
# target 99% 0.005
# target 99.9% 0.029
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 1.807 ms avg, 120.0 qps
Successfully wrote 2938 bytes of Json data to /data/2018-11-19-043111_grpc_linkerd_120qps_10s_echo_1_0.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8079
04:31:21 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:31:31 I periodic.go:533> T002 ended after 10.001819447s : 300 calls. qps=29.994542651935554
04:31:31 I periodic.go:533> T003 ended after 10.002541117s : 300 calls. qps=29.992378585690545
04:31:31 I periodic.go:533> T000 ended after 10.002569432s : 300 calls. qps=29.99229368408547
04:31:31 I periodic.go:533> T001 ended after 10.002581949s : 300 calls. qps=29.99225615242195
Ended after 10.002595046s : 1200 calls. qps=119.97
Sleep times : count 1196 avg 0.030890492 +/- 0.0005819 min 0.027337569 max 0.031791915 sum 36.9450286
Aggregated Function Time : count 1200 avg 0.0021859797 +/- 0.0005438 min 0.001279077 max 0.005999558 sum 2.6231756
# range, mid point, percentile, count
>= 0.00127908 <= 0.0014 , 0.00133954 , 2.25, 27
> 0.0014 <= 0.0016 , 0.0015 , 15.67, 161
> 0.0016 <= 0.0018 , 0.0017 , 22.42, 81
> 0.0018 <= 0.002 , 0.0019 , 27.92, 66
> 0.002 <= 0.0025 , 0.00225 , 86.33, 701
> 0.0025 <= 0.003 , 0.00275 , 95.42, 109
> 0.003 <= 0.0035 , 0.00325 , 97.33, 23
> 0.0035 <= 0.004 , 0.00375 , 98.08, 9
> 0.004 <= 0.0045 , 0.00425 , 99.17, 13
> 0.0045 <= 0.005 , 0.00475 , 99.58, 5
> 0.005 <= 0.00599956 , 0.00549978 , 100.00, 5
# target 50% 0.00218902
# target 75% 0.002403
# target 90% 0.00270183
# target 99% 0.00442308
# target 99.9% 0.00575966
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 2.186 ms avg, 120.0 qps
Successfully wrote 2481 bytes of Json data to /data/2018-11-19-043121_grpc_istio_120qps_10s_echo_1_0.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
04:31:31 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 120.0 qps
04:31:31 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:31:41 I periodic.go:533> T002 ended after 10.00080115s : 300 calls. qps=29.997596742536974
04:31:41 I periodic.go:533> T001 ended after 10.000884047s : 300 calls. qps=29.997348093441005
04:31:41 I periodic.go:533> T003 ended after 10.00089812s : 300 calls. qps=29.997305881964127
04:31:41 I periodic.go:533> T000 ended after 10.0009111s : 300 calls. qps=29.997266949008278
Ended after 10.000922559s : 1200 calls. qps=119.99
Sleep times : count 1196 avg 0.032484991 +/- 0.000351 min 0.029187723 max 0.032902427 sum 38.8520488
Aggregated Function Time : count 1200 avg 0.00061078668 +/- 0.0002527 min 0.000165656 max 0.004017232 sum 0.732944016
# range, mid point, percentile, count
>= 0.000165656 <= 0.0002 , 0.000182828 , 0.17, 2
> 0.0002 <= 0.0003 , 0.00025 , 0.25, 1
> 0.0003 <= 0.0004 , 0.00035 , 2.08, 22
> 0.0004 <= 0.0005 , 0.00045 , 24.92, 274
> 0.0005 <= 0.0006 , 0.00055 , 57.92, 396
> 0.0006 <= 0.0007 , 0.00065 , 80.67, 273
> 0.0007 <= 0.0008 , 0.00075 , 92.08, 137
> 0.0008 <= 0.0009 , 0.00085 , 96.17, 49
> 0.0009 <= 0.001 , 0.00095 , 98.17, 24
> 0.001 <= 0.0011 , 0.00105 , 98.75, 7
> 0.0011 <= 0.0012 , 0.00115 , 98.83, 1
> 0.0012 <= 0.0014 , 0.0013 , 99.17, 4
> 0.0014 <= 0.0016 , 0.0015 , 99.25, 1
> 0.0016 <= 0.0018 , 0.0017 , 99.58, 4
> 0.002 <= 0.0025 , 0.00225 , 99.67, 1
> 0.004 <= 0.00401723 , 0.00400862 , 100.00, 4
# target 50% 0.00057601
# target 75% 0.000675092
# target 90% 0.000781752
# target 99% 0.0013
# target 99.9% 0.00401206
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
Response Body/Total Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
All done 1200 calls (plus 4 warmup) 0.611 ms avg, 120.0 qps
Successfully wrote 3653 bytes of Json data to /data/2018-11-19-043131_http_baseline_120qps_10s_echo_0_1.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
04:31:41 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 120.0 qps
04:31:41 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:31:51 I periodic.go:533> T003 ended after 10.001358051s : 300 calls. qps=29.995926400215623
04:31:51 I periodic.go:533> T000 ended after 10.001418453s : 300 calls. qps=29.99574524451707
04:31:51 I periodic.go:533> T002 ended after 10.001430253s : 300 calls. qps=29.99570985459933
04:31:51 I periodic.go:533> T001 ended after 10.001439776s : 300 calls. qps=29.995681293796956
Ended after 10.001460459s : 1200 calls. qps=119.98
Sleep times : count 1196 avg 0.032007103 +/- 0.0003045 min 0.029531118 max 0.032373031 sum 38.2804947
Aggregated Function Time : count 1200 avg 0.0011020152 +/- 0.0002434 min 0.000581491 max 0.003254854 sum 1.32241821
# range, mid point, percentile, count
>= 0.000581491 <= 0.0006 , 0.000590746 , 0.08, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.25, 2
> 0.0008 <= 0.0009 , 0.00085 , 4.58, 52
> 0.0009 <= 0.001 , 0.00095 , 29.92, 304
> 0.001 <= 0.0011 , 0.00105 , 65.92, 432
> 0.0011 <= 0.0012 , 0.00115 , 84.17, 219
> 0.0012 <= 0.0014 , 0.0013 , 95.25, 133
> 0.0014 <= 0.0016 , 0.0015 , 97.25, 24
> 0.0018 <= 0.002 , 0.0019 , 98.42, 14
> 0.002 <= 0.0025 , 0.00225 , 99.33, 11
> 0.0025 <= 0.003 , 0.00275 , 99.67, 4
> 0.003 <= 0.00325485 , 0.00312743 , 100.00, 4
# target 50% 0.00105579
# target 75% 0.00114977
# target 90% 0.00130526
# target 99% 0.00231818
# target 99.9% 0.0031784
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
Response Body/Total Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
All done 1200 calls (plus 4 warmup) 1.102 ms avg, 120.0 qps
Successfully wrote 3150 bytes of Json data to /data/2018-11-19-043141_http_linkerd_120qps_10s_echo_0_1.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
04:31:51 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 120.0 qps
04:31:51 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:32:01 I periodic.go:533> T001 ended after 10.002174015s : 300 calls. qps=29.99347937259418
04:32:01 I periodic.go:533> T002 ended after 10.002236901s : 300 calls. qps=29.993290797782116
04:32:01 I periodic.go:533> T000 ended after 10.002250817s : 300 calls. qps=29.993249068511137
04:32:01 I periodic.go:533> T003 ended after 10.00226444s : 300 calls. qps=29.993208217958294
Ended after 10.002276689s : 1200 calls. qps=119.97
Sleep times : count 1196 avg 0.031201901 +/- 0.0004074 min 0.028042955 max 0.031985807 sum 37.3174739
Aggregated Function Time : count 1200 avg 0.0019394786 +/- 0.0003985 min 0.001239195 max 0.005174416 sum 2.32737429
# range, mid point, percentile, count
>= 0.0012392 <= 0.0014 , 0.0013196 , 0.25, 3
> 0.0014 <= 0.0016 , 0.0015 , 4.08, 46
> 0.0016 <= 0.0018 , 0.0017 , 33.25, 350
> 0.0018 <= 0.002 , 0.0019 , 77.83, 535
> 0.002 <= 0.0025 , 0.00225 , 94.58, 201
> 0.0025 <= 0.003 , 0.00275 , 97.67, 37
> 0.003 <= 0.0035 , 0.00325 , 98.42, 9
> 0.0035 <= 0.004 , 0.00375 , 98.67, 3
> 0.004 <= 0.0045 , 0.00425 , 99.33, 8
> 0.0045 <= 0.005 , 0.00475 , 99.67, 4
> 0.005 <= 0.00517442 , 0.00508721 , 100.00, 4
# target 50% 0.00187514
# target 75% 0.00198729
# target 90% 0.00236318
# target 99% 0.00425
# target 99.9% 0.00512209
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 209 +/- 0 min 209 max 209 sum 250800
Response Body/Total Sizes : count 1200 avg 209 +/- 0 min 209 max 209 sum 250800
All done 1200 calls (plus 4 warmup) 1.939 ms avg, 120.0 qps
Successfully wrote 2995 bytes of Json data to /data/2018-11-19-043151_http_istio_120qps_10s_echo_0_1.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
04:32:01 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:32:11 I periodic.go:533> T002 ended after 10.001654234s : 300 calls. qps=29.995038118811255
04:32:11 I periodic.go:533> T003 ended after 10.004147153s : 300 calls. qps=29.987563698524497
04:32:11 I periodic.go:533> T001 ended after 10.004217545s : 300 calls. qps=29.98735269905609
04:32:11 I periodic.go:533> T000 ended after 10.004249766s : 300 calls. qps=29.987256117851707
Ended after 10.004263617s : 1200 calls. qps=119.95
Sleep times : count 1196 avg 0.031977412 +/- 0.0005044 min 0.027965713 max 0.032520598 sum 38.2449849
Aggregated Function Time : count 1200 avg 0.001117496 +/- 0.0004132 min 0.000584643 max 0.005193599 sum 1.34099521
# range, mid point, percentile, count
>= 0.000584643 <= 0.0006 , 0.000592321 , 0.17, 2
> 0.0006 <= 0.0007 , 0.00065 , 0.58, 5
> 0.0007 <= 0.0008 , 0.00075 , 1.67, 13
> 0.0008 <= 0.0009 , 0.00085 , 8.83, 86
> 0.0009 <= 0.001 , 0.00095 , 37.17, 340
> 0.001 <= 0.0011 , 0.00105 , 66.75, 355
> 0.0011 <= 0.0012 , 0.00115 , 83.75, 204
> 0.0012 <= 0.0014 , 0.0013 , 93.83, 121
> 0.0014 <= 0.0016 , 0.0015 , 96.17, 28
> 0.0016 <= 0.0018 , 0.0017 , 96.67, 6
> 0.0018 <= 0.002 , 0.0019 , 97.00, 4
> 0.002 <= 0.0025 , 0.00225 , 98.75, 21
> 0.0025 <= 0.003 , 0.00275 , 99.00, 3
> 0.0035 <= 0.004 , 0.00375 , 99.25, 3
> 0.004 <= 0.0045 , 0.00425 , 99.50, 3
> 0.0045 <= 0.005 , 0.00475 , 99.58, 1
> 0.005 <= 0.0051936 , 0.0050968 , 100.00, 5
# target 50% 0.00104338
# target 75% 0.00114853
# target 90% 0.00132397
# target 99% 0.003
# target 99.9% 0.00514714
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 1.117 ms avg, 119.9 qps
Successfully wrote 3219 bytes of Json data to /data/2018-11-19-043201_grpc_baseline_120qps_10s_echo_0_1.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
04:32:11 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:32:22 I periodic.go:533> T000 ended after 10.002186078s : 300 calls. qps=29.993443199367764
04:32:22 I periodic.go:533> T002 ended after 10.003024457s : 300 calls. qps=29.99092937237232
04:32:22 I periodic.go:533> T001 ended after 10.003148778s : 300 calls. qps=29.99055663950458
04:32:22 I periodic.go:533> T003 ended after 10.003411804s : 300 calls. qps=29.989768078930922
Ended after 10.003491863s : 1200 calls. qps=119.96
Sleep times : count 1196 avg 0.031184548 +/- 0.001686 min 0.005314758 max 0.031894075 sum 37.2967194
Aggregated Function Time : count 1200 avg 0.00181757 +/- 0.001528 min 0.001012361 max 0.027850176 sum 2.18108397
# range, mid point, percentile, count
>= 0.00101236 <= 0.0011 , 0.00105618 , 0.17, 2
> 0.0011 <= 0.0012 , 0.00115 , 0.25, 1
> 0.0012 <= 0.0014 , 0.0013 , 2.92, 32
> 0.0014 <= 0.0016 , 0.0015 , 29.33, 317
> 0.0016 <= 0.0018 , 0.0017 , 70.08, 489
> 0.0018 <= 0.002 , 0.0019 , 92.42, 268
> 0.002 <= 0.0025 , 0.00225 , 98.08, 68
> 0.0025 <= 0.003 , 0.00275 , 98.83, 9
> 0.003 <= 0.0035 , 0.00325 , 98.92, 1
> 0.0035 <= 0.004 , 0.00375 , 99.17, 3
> 0.004 <= 0.0045 , 0.00425 , 99.33, 2
> 0.0045 <= 0.005 , 0.00475 , 99.67, 4
> 0.025 <= 0.0278502 , 0.0264251 , 100.00, 4
# target 50% 0.00170143
# target 75% 0.00184403
# target 90% 0.00197836
# target 99% 0.00366667
# target 99.9% 0.0269951
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 1.818 ms avg, 120.0 qps
Successfully wrote 2758 bytes of Json data to /data/2018-11-19-043212_grpc_linkerd_120qps_10s_echo_0_1.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8079
04:32:22 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:32:32 I periodic.go:533> T003 ended after 10.002122289s : 300 calls. qps=29.99363448394647
04:32:32 I periodic.go:533> T000 ended after 10.005369014s : 300 calls. qps=29.98390160125283
04:32:32 I periodic.go:533> T002 ended after 10.007612708s : 300 calls. qps=29.977179248771545
04:32:32 I periodic.go:533> T001 ended after 10.007642526s : 300 calls. qps=29.97708993107974
Ended after 10.007678s : 1200 calls. qps=119.91
Sleep times : count 1196 avg 0.030836701 +/- 0.0006732 min 0.026389497 max 0.031979392 sum 36.8806946
Aggregated Function Time : count 1200 avg 0.0022638976 +/- 0.0006936 min 0.001177389 max 0.007420754 sum 2.71667717
# range, mid point, percentile, count
>= 0.00117739 <= 0.0012 , 0.00118869 , 0.08, 1
> 0.0012 <= 0.0014 , 0.0013 , 2.67, 31
> 0.0014 <= 0.0016 , 0.0015 , 12.92, 123
> 0.0016 <= 0.0018 , 0.0017 , 21.25, 100
> 0.0018 <= 0.002 , 0.0019 , 29.00, 93
> 0.002 <= 0.0025 , 0.00225 , 79.50, 606
> 0.0025 <= 0.003 , 0.00275 , 93.75, 171
> 0.003 <= 0.0035 , 0.00325 , 96.25, 30
> 0.0035 <= 0.004 , 0.00375 , 96.83, 7
> 0.004 <= 0.0045 , 0.00425 , 97.92, 13
> 0.0045 <= 0.005 , 0.00475 , 98.50, 7
> 0.005 <= 0.006 , 0.0055 , 99.42, 11
> 0.006 <= 0.007 , 0.0065 , 99.83, 5
> 0.007 <= 0.00742075 , 0.00721038 , 100.00, 2
# target 50% 0.00220792
# target 75% 0.00245545
# target 90% 0.00286842
# target 99% 0.00554545
# target 99.9% 0.0071683
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 2.264 ms avg, 119.9 qps
Successfully wrote 2810 bytes of Json data to /data/2018-11-19-043222_grpc_istio_120qps_10s_echo_0_1.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
04:32:32 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 120.0 qps
04:32:32 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:32:42 I periodic.go:533> T002 ended after 10.000840219s : 300 calls. qps=29.997479554772596
04:32:42 I periodic.go:533> T001 ended after 10.001305629s : 300 calls. qps=29.996083624333362
04:32:42 I periodic.go:533> T003 ended after 10.00362784s : 300 calls. qps=29.989120426935035
04:32:42 I periodic.go:533> T000 ended after 10.003657971s : 300 calls. qps=29.989030099757695
Ended after 10.003671638s : 1200 calls. qps=119.96
Sleep times : count 1196 avg 0.032517747 +/- 0.0002979 min 0.029751065 max 0.03293741 sum 38.8912253
Aggregated Function Time : count 1200 avg 0.0006075326 +/- 0.0002446 min 0.000254894 max 0.003312268 sum 0.729039118
# range, mid point, percentile, count
>= 0.000254894 <= 0.0003 , 0.000277447 , 0.17, 2
> 0.0003 <= 0.0004 , 0.00035 , 2.58, 29
> 0.0004 <= 0.0005 , 0.00045 , 29.92, 328
> 0.0005 <= 0.0006 , 0.00055 , 60.50, 367
> 0.0006 <= 0.0007 , 0.00065 , 84.17, 284
> 0.0007 <= 0.0008 , 0.00075 , 92.92, 105
> 0.0008 <= 0.0009 , 0.00085 , 96.08, 38
> 0.0009 <= 0.001 , 0.00095 , 97.50, 17
> 0.001 <= 0.0011 , 0.00105 , 97.92, 5
> 0.0011 <= 0.0012 , 0.00115 , 98.00, 1
> 0.0012 <= 0.0014 , 0.0013 , 98.08, 1
> 0.0014 <= 0.0016 , 0.0015 , 98.50, 5
> 0.0018 <= 0.002 , 0.0019 , 99.50, 12
> 0.002 <= 0.0025 , 0.00225 , 99.67, 2
> 0.0025 <= 0.003 , 0.00275 , 99.83, 2
> 0.003 <= 0.00331227 , 0.00315613 , 100.00, 2
# target 50% 0.000565668
# target 75% 0.000661268
# target 90% 0.000766667
# target 99% 0.0019
# target 99.9% 0.00312491
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
Response Body/Total Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
All done 1200 calls (plus 4 warmup) 0.608 ms avg, 120.0 qps
Successfully wrote 3661 bytes of Json data to /data/2018-11-19-043232_http_baseline_120qps_10s_echo_1_1.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
04:32:42 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 120.0 qps
04:32:42 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:32:52 I periodic.go:533> T003 ended after 10.001426867s : 300 calls. qps=29.995720009697695
04:32:52 I periodic.go:533> T002 ended after 10.002067741s : 300 calls. qps=29.99379805940069
04:32:52 I periodic.go:533> T000 ended after 10.00225012s : 300 calls. qps=29.99325115857031
04:32:52 I periodic.go:533> T001 ended after 10.002314475s : 300 calls. qps=29.9930581816665
Ended after 10.002341278s : 1200 calls. qps=119.97
Sleep times : count 1196 avg 0.031913431 +/- 0.0002557 min 0.029216915 max 0.032235298 sum 38.1684637
Aggregated Function Time : count 1200 avg 0.0012008825 +/- 0.0001928 min 0.000834707 max 0.003571272 sum 1.441059
# range, mid point, percentile, count
>= 0.000834707 <= 0.0009 , 0.000867354 , 0.17, 2
> 0.0009 <= 0.001 , 0.00095 , 0.92, 9
> 0.001 <= 0.0011 , 0.00105 , 22.08, 254
> 0.0011 <= 0.0012 , 0.00115 , 61.75, 476
> 0.0012 <= 0.0014 , 0.0013 , 94.92, 398
> 0.0014 <= 0.0016 , 0.0015 , 98.17, 39
> 0.0016 <= 0.0018 , 0.0017 , 98.50, 4
> 0.0018 <= 0.002 , 0.0019 , 99.08, 7
> 0.002 <= 0.0025 , 0.00225 , 99.67, 7
> 0.003 <= 0.0035 , 0.00325 , 99.83, 2
> 0.0035 <= 0.00357127 , 0.00353564 , 100.00, 2
# target 50% 0.00117038
# target 75% 0.0012799
# target 90% 0.00137035
# target 99% 0.00197143
# target 99.9% 0.00352851
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
Response Body/Total Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
All done 1200 calls (plus 4 warmup) 1.201 ms avg, 120.0 qps
Successfully wrote 3031 bytes of Json data to /data/2018-11-19-043242_http_linkerd_120qps_10s_echo_1_1.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
04:32:52 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 120.0 qps
04:32:52 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:33:02 I periodic.go:533> T002 ended after 10.00220283s : 300 calls. qps=29.9933929654174
04:33:02 I periodic.go:533> T003 ended after 10.002591469s : 300 calls. qps=29.992227607191502
04:33:02 I periodic.go:533> T001 ended after 10.004938196s : 300 calls. qps=29.985192724123053
04:33:02 I periodic.go:533> T000 ended after 10.004969068s : 300 calls. qps=29.985100199812035
Ended after 10.004984551s : 1200 calls. qps=119.94
Sleep times : count 1196 avg 0.031244772 +/- 0.0003877 min 0.027238871 max 0.032113683 sum 37.3687477
Aggregated Function Time : count 1200 avg 0.0018647655 +/- 0.000393 min 0.00097633 max 0.005748726 sum 2.23771855
# range, mid point, percentile, count
>= 0.00097633 <= 0.001 , 0.000988165 , 0.08, 1
> 0.001 <= 0.0011 , 0.00105 , 0.17, 1
> 0.0011 <= 0.0012 , 0.00115 , 0.25, 1
> 0.0012 <= 0.0014 , 0.0013 , 1.00, 9
> 0.0014 <= 0.0016 , 0.0015 , 11.25, 123
> 0.0016 <= 0.0018 , 0.0017 , 47.00, 429
> 0.0018 <= 0.002 , 0.0019 , 84.83, 454
> 0.002 <= 0.0025 , 0.00225 , 96.42, 139
> 0.0025 <= 0.003 , 0.00275 , 98.42, 24
> 0.003 <= 0.0035 , 0.00325 , 98.50, 1
> 0.0035 <= 0.004 , 0.00375 , 99.17, 8
> 0.004 <= 0.0045 , 0.00425 , 99.50, 4
> 0.0045 <= 0.005 , 0.00475 , 99.75, 3
> 0.005 <= 0.00574873 , 0.00537436 , 100.00, 3
# target 50% 0.00181586
# target 75% 0.00194802
# target 90% 0.00222302
# target 99% 0.003875
# target 99.9% 0.00544924
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 209 +/- 0 min 209 max 209 sum 250800
Response Body/Total Sizes : count 1200 avg 209 +/- 0 min 209 max 209 sum 250800
All done 1200 calls (plus 4 warmup) 1.865 ms avg, 119.9 qps
Successfully wrote 3330 bytes of Json data to /data/2018-11-19-043252_http_istio_120qps_10s_echo_1_1.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
04:33:02 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:33:12 I periodic.go:533> T003 ended after 10.001576203s : 300 calls. qps=29.99527213620731
04:33:12 I periodic.go:533> T001 ended after 10.001988112s : 300 calls. qps=29.9940368495411
04:33:12 I periodic.go:533> T002 ended after 10.003216278s : 300 calls. qps=29.990354268335455
04:33:12 I periodic.go:533> T000 ended after 10.003247755s : 300 calls. qps=29.990259898346384
Ended after 10.003263486s : 1200 calls. qps=119.96
Sleep times : count 1196 avg 0.032010634 +/- 0.0003963 min 0.028414735 max 0.032422976 sum 38.2847179
Aggregated Function Time : count 1200 avg 0.0010718391 +/- 0.0002951 min 0.000520228 max 0.004855329 sum 1.28620692
# range, mid point, percentile, count
>= 0.000520228 <= 0.0006 , 0.000560114 , 0.08, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.50, 5
> 0.0007 <= 0.0008 , 0.00075 , 2.42, 23
> 0.0008 <= 0.0009 , 0.00085 , 15.25, 154
> 0.0009 <= 0.001 , 0.00095 , 47.17, 383
> 0.001 <= 0.0011 , 0.00105 , 73.58, 317
> 0.0011 <= 0.0012 , 0.00115 , 85.83, 147
> 0.0012 <= 0.0014 , 0.0013 , 93.75, 95
> 0.0014 <= 0.0016 , 0.0015 , 95.25, 18
> 0.0016 <= 0.0018 , 0.0017 , 96.58, 16
> 0.0018 <= 0.002 , 0.0019 , 97.42, 10
> 0.002 <= 0.0025 , 0.00225 , 99.42, 24
> 0.0025 <= 0.003 , 0.00275 , 99.58, 2
> 0.003 <= 0.0035 , 0.00325 , 99.92, 4
> 0.0045 <= 0.00485533 , 0.00467766 , 100.00, 1
# target 50% 0.00101073
# target 75% 0.00111156
# target 90% 0.00130526
# target 99% 0.00239583
# target 99.9% 0.003475
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 1.072 ms avg, 120.0 qps
Successfully wrote 3022 bytes of Json data to /data/2018-11-19-043302_grpc_baseline_120qps_10s_echo_1_1.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
04:33:12 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:33:22 I periodic.go:533> T000 ended after 10.001936509s : 300 calls. qps=29.994191597802313
04:33:22 I periodic.go:533> T002 ended after 10.002749733s : 300 calls. qps=29.99175306868592
04:33:22 I periodic.go:533> T003 ended after 10.002942262s : 300 calls. qps=29.9911758103078
04:33:22 I periodic.go:533> T001 ended after 10.002976008s : 300 calls. qps=29.9910746321966
Ended after 10.003068393s : 1200 calls. qps=119.96
Sleep times : count 1196 avg 0.031132531 +/- 0.003002 min -0.017573822 max 0.03188752 sum 37.2345066
Aggregated Function Time : count 1200 avg 0.0018738187 +/- 0.002829 min 0.001174674 max 0.050771987 sum 2.24858247
# range, mid point, percentile, count
>= 0.00117467 <= 0.0012 , 0.00118734 , 0.08, 1
> 0.0012 <= 0.0014 , 0.0013 , 3.00, 35
> 0.0014 <= 0.0016 , 0.0015 , 35.00, 384
> 0.0016 <= 0.0018 , 0.0017 , 74.00, 468
> 0.0018 <= 0.002 , 0.0019 , 92.25, 219
> 0.002 <= 0.0025 , 0.00225 , 97.75, 66
> 0.0025 <= 0.003 , 0.00275 , 99.17, 17
> 0.003 <= 0.0035 , 0.00325 , 99.58, 5
> 0.004 <= 0.0045 , 0.00425 , 99.67, 1
> 0.05 <= 0.050772 , 0.050386 , 100.00, 4
# target 50% 0.00167692
# target 75% 0.00181096
# target 90% 0.00197534
# target 99% 0.00294118
# target 99.9% 0.0505404
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 1.874 ms avg, 120.0 qps
Successfully wrote 2318 bytes of Json data to /data/2018-11-19-043312_grpc_linkerd_120qps_10s_echo_1_1.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8079
04:33:22 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:33:32 I periodic.go:533> T000 ended after 10.002209031s : 300 calls. qps=29.99337437062207
04:33:32 I periodic.go:533> T001 ended after 10.004699007s : 300 calls. qps=29.985909600088785
04:33:32 I periodic.go:533> T003 ended after 10.00487052s : 300 calls. qps=29.985395553125056
04:33:32 I periodic.go:533> T002 ended after 10.006245806s : 300 calls. qps=29.981274277722854
Ended after 10.006262618s : 1200 calls. qps=119.92
Sleep times : count 1196 avg 0.030806803 +/- 0.000625 min 0.025837089 max 0.031865455 sum 36.8449365
Aggregated Function Time : count 1200 avg 0.0022474327 +/- 0.0005665 min 0.001115976 max 0.006025218 sum 2.69691925
# range, mid point, percentile, count
>= 0.00111598 <= 0.0012 , 0.00115799 , 0.25, 3
> 0.0012 <= 0.0014 , 0.0013 , 1.92, 20
> 0.0014 <= 0.0016 , 0.0015 , 12.08, 122
> 0.0016 <= 0.0018 , 0.0017 , 20.08, 96
> 0.0018 <= 0.002 , 0.0019 , 27.08, 84
> 0.002 <= 0.0025 , 0.00225 , 77.58, 606
> 0.0025 <= 0.003 , 0.00275 , 94.58, 204
> 0.003 <= 0.0035 , 0.00325 , 96.92, 28
> 0.0035 <= 0.004 , 0.00375 , 97.75, 10
> 0.004 <= 0.0045 , 0.00425 , 98.75, 12
> 0.0045 <= 0.005 , 0.00475 , 99.58, 10
> 0.005 <= 0.006 , 0.0055 , 99.92, 4
> 0.006 <= 0.00602522 , 0.00601261 , 100.00, 1
# target 50% 0.0022269
# target 75% 0.00247442
# target 90% 0.0028652
# target 99% 0.00465
# target 99.9% 0.00595
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 2.247 ms avg, 119.9 qps
Successfully wrote 2731 bytes of Json data to /data/2018-11-19-043322_grpc_istio_120qps_10s_echo_1_1.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
04:33:32 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 120.0 qps
04:33:32 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:33:42 I periodic.go:533> T003 ended after 10.001083222s : 300 calls. qps=29.996750685972845
04:33:42 I periodic.go:533> T001 ended after 10.001634473s : 300 calls. qps=29.995097382319624
04:33:42 I periodic.go:533> T000 ended after 10.003745997s : 300 calls. qps=29.98876621717168
04:33:42 I periodic.go:533> T002 ended after 10.003781092s : 300 calls. qps=29.988661011375918
Ended after 10.003809878s : 1200 calls. qps=119.95
Sleep times : count 1196 avg 0.032503603 +/- 0.0002875 min 0.028783268 max 0.032924682 sum 38.8743095
Aggregated Function Time : count 1200 avg 0.00059699795 +/- 0.0002138 min 0.000217379 max 0.004411446 sum 0.716397539
# range, mid point, percentile, count
>= 0.000217379 <= 0.0003 , 0.000258689 , 0.42, 5
> 0.0003 <= 0.0004 , 0.00035 , 3.42, 36
> 0.0004 <= 0.0005 , 0.00045 , 28.75, 304
> 0.0005 <= 0.0006 , 0.00055 , 59.50, 369
> 0.0006 <= 0.0007 , 0.00065 , 82.25, 273
> 0.0007 <= 0.0008 , 0.00075 , 93.17, 131
> 0.0008 <= 0.0009 , 0.00085 , 96.83, 44
> 0.0009 <= 0.001 , 0.00095 , 98.42, 19
> 0.001 <= 0.0011 , 0.00105 , 99.00, 7
> 0.0012 <= 0.0014 , 0.0013 , 99.25, 3
> 0.0014 <= 0.0016 , 0.0015 , 99.58, 4
> 0.0016 <= 0.0018 , 0.0017 , 99.75, 2
> 0.003 <= 0.0035 , 0.00325 , 99.92, 2
> 0.004 <= 0.00441145 , 0.00420572 , 100.00, 1
# target 50% 0.000569106
# target 75% 0.000668132
# target 90% 0.000770992
# target 99% 0.0011
# target 99.9% 0.00345
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
Response Body/Total Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
All done 1200 calls (plus 4 warmup) 0.597 ms avg, 120.0 qps
Successfully wrote 3377 bytes of Json data to /data/2018-11-19-043332_http_baseline_120qps_10s_echo_0_2.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
04:33:42 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 120.0 qps
04:33:42 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:33:52 I periodic.go:533> T000 ended after 10.001455218s : 300 calls. qps=29.99563498120539
04:33:52 I periodic.go:533> T003 ended after 10.00210626s : 300 calls. qps=29.993682550619095
04:33:52 I periodic.go:533> T002 ended after 10.002380134s : 300 calls. qps=29.99286129710695
04:33:52 I periodic.go:533> T001 ended after 10.002543597s : 300 calls. qps=29.99237114947213
Ended after 10.002604356s : 1200 calls. qps=119.97
Sleep times : count 1196 avg 0.031883218 +/- 0.0003391 min 0.027913768 max 0.032219317 sum 38.1323289
Aggregated Function Time : count 1200 avg 0.0012247221 +/- 0.0003016 min 0.0009542 max 0.005193025 sum 1.46966656
# range, mid point, percentile, count
>= 0.0009542 <= 0.001 , 0.0009771 , 1.42, 17
> 0.001 <= 0.0011 , 0.00105 , 20.58, 230
> 0.0011 <= 0.0012 , 0.00115 , 60.92, 484
> 0.0012 <= 0.0014 , 0.0013 , 93.42, 390
> 0.0014 <= 0.0016 , 0.0015 , 96.83, 41
> 0.0016 <= 0.0018 , 0.0017 , 97.08, 3
> 0.0018 <= 0.002 , 0.0019 , 98.08, 12
> 0.002 <= 0.0025 , 0.00225 , 99.33, 15
> 0.0025 <= 0.003 , 0.00275 , 99.67, 4
> 0.005 <= 0.00519303 , 0.00509651 , 100.00, 4
# target 50% 0.00117293
# target 75% 0.00128667
# target 90% 0.00137897
# target 99% 0.00236667
# target 99.9% 0.00513512
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
Response Body/Total Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
All done 1200 calls (plus 4 warmup) 1.225 ms avg, 120.0 qps
Successfully wrote 2907 bytes of Json data to /data/2018-11-19-043342_http_linkerd_120qps_10s_echo_0_2.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
04:33:52 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 120.0 qps
04:33:52 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:34:02 I periodic.go:533> T002 ended after 10.002033441s : 300 calls. qps=29.9939009172125
04:34:02 I periodic.go:533> T001 ended after 10.002424654s : 300 calls. qps=29.992727801256578
04:34:02 I periodic.go:533> T003 ended after 10.004817789s : 300 calls. qps=29.985553592974085
04:34:02 I periodic.go:533> T000 ended after 10.004847643s : 300 calls. qps=29.985464117476916
Ended after 10.004873504s : 1200 calls. qps=119.94
Sleep times : count 1196 avg 0.031267895 +/- 0.0005278 min 0.026644686 max 0.031912448 sum 37.3964024
Aggregated Function Time : count 1200 avg 0.0018420291 +/- 0.0005018 min 0.001074492 max 0.0065194 sum 2.21043493
# range, mid point, percentile, count
>= 0.00107449 <= 0.0011 , 0.00108725 , 0.08, 1
> 0.0011 <= 0.0012 , 0.00115 , 0.25, 2
> 0.0012 <= 0.0014 , 0.0013 , 1.25, 12
> 0.0014 <= 0.0016 , 0.0015 , 18.42, 206
> 0.0016 <= 0.0018 , 0.0017 , 61.92, 522
> 0.0018 <= 0.002 , 0.0019 , 88.42, 318
> 0.002 <= 0.0025 , 0.00225 , 95.33, 83
> 0.0025 <= 0.003 , 0.00275 , 96.58, 15
> 0.003 <= 0.0035 , 0.00325 , 97.75, 14
> 0.0035 <= 0.004 , 0.00375 , 98.08, 4
> 0.004 <= 0.0045 , 0.00425 , 99.17, 13
> 0.0045 <= 0.005 , 0.00475 , 99.67, 6
> 0.006 <= 0.0065194 , 0.0062597 , 100.00, 4
# target 50% 0.00174521
# target 75% 0.00189874
# target 90% 0.00211446
# target 99% 0.00442308
# target 99.9% 0.00636358
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 209 +/- 0 min 209 max 209 sum 250800
Response Body/Total Sizes : count 1200 avg 209 +/- 0 min 209 max 209 sum 250800
All done 1200 calls (plus 4 warmup) 1.842 ms avg, 119.9 qps
Successfully wrote 3264 bytes of Json data to /data/2018-11-19-043352_http_istio_120qps_10s_echo_0_2.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
04:34:02 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:34:12 I periodic.go:533> T001 ended after 10.0013325s : 300 calls. qps=29.996003032595905
04:34:12 I periodic.go:533> T002 ended after 10.004341698s : 300 calls. qps=29.98698055864825
04:34:12 I periodic.go:533> T003 ended after 10.004510122s : 300 calls. qps=29.98647573360914
04:34:12 I periodic.go:533> T000 ended after 10.004544281s : 300 calls. qps=29.986373349332975
Ended after 10.004575286s : 1200 calls. qps=119.95
Sleep times : count 1196 avg 0.031959529 +/- 0.000305 min 0.028920011 max 0.032609224 sum 38.2235967
Aggregated Function Time : count 1200 avg 0.0011247684 +/- 0.0003077 min 0.000564136 max 0.00444337 sum 1.34972211
# range, mid point, percentile, count
>= 0.000564136 <= 0.0006 , 0.000582068 , 0.08, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.33, 3
> 0.0007 <= 0.0008 , 0.00075 , 1.92, 19
> 0.0008 <= 0.0009 , 0.00085 , 7.58, 68
> 0.0009 <= 0.001 , 0.00095 , 29.67, 265
> 0.001 <= 0.0011 , 0.00105 , 57.50, 334
> 0.0011 <= 0.0012 , 0.00115 , 76.67, 230
> 0.0012 <= 0.0014 , 0.0013 , 94.00, 208
> 0.0014 <= 0.0016 , 0.0015 , 96.67, 32
> 0.0016 <= 0.0018 , 0.0017 , 97.92, 15
> 0.0018 <= 0.002 , 0.0019 , 98.08, 2
> 0.002 <= 0.0025 , 0.00225 , 98.75, 8
> 0.0025 <= 0.003 , 0.00275 , 99.58, 10
> 0.004 <= 0.00444337 , 0.00422169 , 100.00, 5
# target 50% 0.00107305
# target 75% 0.0011913
# target 90% 0.00135385
# target 99% 0.00265
# target 99.9% 0.00433696
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 1.125 ms avg, 119.9 qps
Successfully wrote 2891 bytes of Json data to /data/2018-11-19-043402_grpc_baseline_120qps_10s_echo_0_2.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
04:34:12 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:34:22 I periodic.go:533> T002 ended after 10.002023035s : 300 calls. qps=29.99393212255284
04:34:22 I periodic.go:533> T003 ended after 10.004577083s : 300 calls. qps=29.9862750330313
04:34:22 I periodic.go:533> T000 ended after 10.004625721s : 300 calls. qps=29.986129253220465
04:34:22 I periodic.go:533> T001 ended after 10.004643666s : 300 calls. qps=29.98607546808754
Ended after 10.004656376s : 1200 calls. qps=119.94
Sleep times : count 1196 avg 0.03118615 +/- 0.001901 min -0.000627107 max 0.031982865 sum 37.298636
Aggregated Function Time : count 1200 avg 0.0018105239 +/- 0.001262 min 0.0009176 max 0.031238917 sum 2.17262863
# range, mid point, percentile, count
>= 0.0009176 <= 0.001 , 0.0009588 , 0.08, 1
> 0.001 <= 0.0011 , 0.00105 , 0.25, 2
> 0.0011 <= 0.0012 , 0.00115 , 0.33, 1
> 0.0012 <= 0.0014 , 0.0013 , 6.58, 75
> 0.0014 <= 0.0016 , 0.0015 , 36.42, 358
> 0.0016 <= 0.0018 , 0.0017 , 70.33, 407
> 0.0018 <= 0.002 , 0.0019 , 88.67, 220
> 0.002 <= 0.0025 , 0.00225 , 96.17, 90
> 0.0025 <= 0.003 , 0.00275 , 97.67, 18
> 0.003 <= 0.0035 , 0.00325 , 98.75, 13
> 0.0035 <= 0.004 , 0.00375 , 98.83, 1
> 0.004 <= 0.0045 , 0.00425 , 99.08, 3
> 0.0045 <= 0.005 , 0.00475 , 99.17, 1
> 0.005 <= 0.006 , 0.0055 , 99.67, 6
> 0.007 <= 0.008 , 0.0075 , 99.75, 1
> 0.016 <= 0.018 , 0.017 , 99.83, 1
> 0.025 <= 0.03 , 0.0275 , 99.92, 1
> 0.03 <= 0.0312389 , 0.0306195 , 100.00, 1
# target 50% 0.0016801
# target 75% 0.00185091
# target 90% 0.00208889
# target 99% 0.00433333
# target 99.9% 0.029
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 1.811 ms avg, 119.9 qps
Successfully wrote 3374 bytes of Json data to /data/2018-11-19-043412_grpc_linkerd_120qps_10s_echo_0_2.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8079
04:34:22 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:34:32 I periodic.go:533> T002 ended after 10.002785512s : 300 calls. qps=29.99164579107492
04:34:32 I periodic.go:533> T003 ended after 10.006129728s : 300 calls. qps=29.981622081164367
04:34:32 I periodic.go:533> T000 ended after 10.006258633s : 300 calls. qps=29.9812358447961
04:34:32 I periodic.go:533> T001 ended after 10.006297147s : 300 calls. qps=29.981120447731595
Ended after 10.006312593s : 1200 calls. qps=119.92
Sleep times : count 1196 avg 0.030822596 +/- 0.0006671 min 0.025798741 max 0.031950189 sum 36.8638248
Aggregated Function Time : count 1200 avg 0.0022618631 +/- 0.0006911 min 0.00108538 max 0.007317454 sum 2.7142357
# range, mid point, percentile, count
>= 0.00108538 <= 0.0011 , 0.00109269 , 0.08, 1
> 0.0011 <= 0.0012 , 0.00115 , 0.33, 3
> 0.0012 <= 0.0014 , 0.0013 , 3.92, 43
> 0.0014 <= 0.0016 , 0.0015 , 12.00, 97
> 0.0016 <= 0.0018 , 0.0017 , 20.08, 97
> 0.0018 <= 0.002 , 0.0019 , 29.58, 114
> 0.002 <= 0.0025 , 0.00225 , 78.25, 584
> 0.0025 <= 0.003 , 0.00275 , 94.08, 190
> 0.003 <= 0.0035 , 0.00325 , 96.17, 25
> 0.0035 <= 0.004 , 0.00375 , 97.08, 11
> 0.004 <= 0.0045 , 0.00425 , 98.17, 13
> 0.0045 <= 0.005 , 0.00475 , 98.67, 6
> 0.005 <= 0.006 , 0.0055 , 99.42, 9
> 0.006 <= 0.007 , 0.0065 , 99.75, 4
> 0.007 <= 0.00731745 , 0.00715873 , 100.00, 3
# target 50% 0.00220976
# target 75% 0.00246661
# target 90% 0.00287105
# target 99% 0.00544444
# target 99.9% 0.00719047
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 2.262 ms avg, 119.9 qps
Successfully wrote 2969 bytes of Json data to /data/2018-11-19-043422_grpc_istio_120qps_10s_echo_0_2.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
04:34:32 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 120.0 qps
04:34:32 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:34:42 I periodic.go:533> T000 ended after 10.000914572s : 300 calls. qps=29.99725653490964
04:34:42 I periodic.go:533> T002 ended after 10.001298224s : 300 calls. qps=29.996105833550036
04:34:42 I periodic.go:533> T001 ended after 10.003499462s : 300 calls. qps=29.98950528658508
04:34:42 I periodic.go:533> T003 ended after 10.003539058s : 300 calls. qps=29.989386582150136
Ended after 10.003568084s : 1200 calls. qps=119.96
Sleep times : count 1196 avg 0.032496337 +/- 0.000285 min 0.028695546 max 0.032910766 sum 38.865619
Aggregated Function Time : count 1200 avg 0.00059921515 +/- 0.00018 min 0.000217533 max 0.003350901 sum 0.719058181
# range, mid point, percentile, count
>= 0.000217533 <= 0.0003 , 0.000258767 , 0.33, 4
> 0.0003 <= 0.0004 , 0.00035 , 3.42, 37
> 0.0004 <= 0.0005 , 0.00045 , 25.25, 262
> 0.0005 <= 0.0006 , 0.00055 , 57.33, 385
> 0.0006 <= 0.0007 , 0.00065 , 82.42, 301
> 0.0007 <= 0.0008 , 0.00075 , 93.17, 129
> 0.0008 <= 0.0009 , 0.00085 , 96.58, 41
> 0.0009 <= 0.001 , 0.00095 , 98.33, 21
> 0.001 <= 0.0011 , 0.00105 , 98.92, 7
> 0.0011 <= 0.0012 , 0.00115 , 99.33, 5
> 0.0012 <= 0.0014 , 0.0013 , 99.50, 2
> 0.0014 <= 0.0016 , 0.0015 , 99.83, 4
> 0.003 <= 0.0033509 , 0.00317545 , 100.00, 2
# target 50% 0.000577143
# target 75% 0.000670432
# target 90% 0.000770543
# target 99% 0.00112
# target 99.9% 0.00314036
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
Response Body/Total Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
All done 1200 calls (plus 4 warmup) 0.599 ms avg, 120.0 qps
Successfully wrote 3322 bytes of Json data to /data/2018-11-19-043432_http_baseline_120qps_10s_echo_1_2.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
04:34:42 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 120.0 qps
04:34:42 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:34:52 I periodic.go:533> T003 ended after 10.001793162s : 300 calls. qps=29.994621478456043
04:34:52 I periodic.go:533> T001 ended after 10.002312523s : 300 calls. qps=29.993064034957868
04:34:52 I periodic.go:533> T000 ended after 10.002429037s : 300 calls. qps=29.99271465863637
04:34:52 I periodic.go:533> T002 ended after 10.002493482s : 300 calls. qps=29.992521418770767
Ended after 10.002518746s : 1200 calls. qps=119.97
Sleep times : count 1196 avg 0.031885716 +/- 0.000487 min 0.027298058 max 0.032458716 sum 38.1353169
Aggregated Function Time : count 1200 avg 0.0012336007 +/- 0.0004216 min 0.000742247 max 0.005988635 sum 1.48032089
# range, mid point, percentile, count
>= 0.000742247 <= 0.0008 , 0.000771124 , 0.17, 2
> 0.0008 <= 0.0009 , 0.00085 , 0.33, 2
> 0.0009 <= 0.001 , 0.00095 , 1.33, 12
> 0.001 <= 0.0011 , 0.00105 , 24.75, 281
> 0.0011 <= 0.0012 , 0.00115 , 63.42, 464
> 0.0012 <= 0.0014 , 0.0013 , 93.67, 363
> 0.0014 <= 0.0016 , 0.0015 , 95.92, 27
> 0.0016 <= 0.0018 , 0.0017 , 96.75, 10
> 0.0018 <= 0.002 , 0.0019 , 97.58, 10
> 0.002 <= 0.0025 , 0.00225 , 98.25, 8
> 0.0025 <= 0.003 , 0.00275 , 98.58, 4
> 0.003 <= 0.0035 , 0.00325 , 99.33, 9
> 0.0045 <= 0.005 , 0.00475 , 99.58, 3
> 0.005 <= 0.00598863 , 0.00549432 , 100.00, 5
# target 50% 0.0011653
# target 75% 0.00127658
# target 90% 0.00137576
# target 99% 0.00327778
# target 99.9% 0.00575136
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
Response Body/Total Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
All done 1200 calls (plus 4 warmup) 1.234 ms avg, 120.0 qps
Successfully wrote 3407 bytes of Json data to /data/2018-11-19-043442_http_linkerd_120qps_10s_echo_1_2.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
04:34:52 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 120.0 qps
04:34:52 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:35:02 I periodic.go:533> T001 ended after 10.002278089s : 300 calls. qps=29.99316728955225
04:35:02 I periodic.go:533> T000 ended after 10.002689671s : 300 calls. qps=29.991933156715444
04:35:02 I periodic.go:533> T003 ended after 10.004877318s : 300 calls. qps=29.985375178990274
04:35:02 I periodic.go:533> T002 ended after 10.004932646s : 300 calls. qps=29.985209357700256
Ended after 10.004947027s : 1200 calls. qps=119.94
Sleep times : count 1196 avg 0.03113608 +/- 0.0005275 min 0.025300894 max 0.032046586 sum 37.2387511
Aggregated Function Time : count 1200 avg 0.0019862148 +/- 0.0005101 min 0.001118587 max 0.007788965 sum 2.38345781
# range, mid point, percentile, count
>= 0.00111859 <= 0.0012 , 0.00115929 , 0.25, 3
> 0.0012 <= 0.0014 , 0.0013 , 0.42, 2
> 0.0014 <= 0.0016 , 0.0015 , 2.75, 28
> 0.0016 <= 0.0018 , 0.0017 , 25.67, 275
> 0.0018 <= 0.002 , 0.0019 , 70.42, 537
> 0.002 <= 0.0025 , 0.00225 , 94.75, 292
> 0.0025 <= 0.003 , 0.00275 , 97.83, 37
> 0.003 <= 0.0035 , 0.00325 , 98.17, 4
> 0.0035 <= 0.004 , 0.00375 , 98.83, 8
> 0.004 <= 0.0045 , 0.00425 , 99.25, 5
> 0.0045 <= 0.005 , 0.00475 , 99.33, 1
> 0.005 <= 0.006 , 0.0055 , 99.67, 4
> 0.007 <= 0.00778897 , 0.00739448 , 100.00, 4
# target 50% 0.00190875
# target 75% 0.00209418
# target 90% 0.0024024
# target 99% 0.0042
# target 99.9% 0.00755228
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 209 +/- 0 min 209 max 209 sum 250800
Response Body/Total Sizes : count 1200 avg 209 +/- 0 min 209 max 209 sum 250800
All done 1200 calls (plus 4 warmup) 1.986 ms avg, 119.9 qps
Successfully wrote 3250 bytes of Json data to /data/2018-11-19-043452_http_istio_120qps_10s_echo_1_2.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
04:35:02 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:35:12 I periodic.go:533> T002 ended after 10.001485295s : 300 calls. qps=29.995544776732086
04:35:12 I periodic.go:533> T003 ended after 10.003656688s : 300 calls. qps=29.989033945943827
04:35:12 I periodic.go:533> T000 ended after 10.003750308s : 300 calls. qps=29.988753293861198
04:35:12 I periodic.go:533> T001 ended after 10.003784249s : 300 calls. qps=29.988651547536985
Ended after 10.003820193s : 1200 calls. qps=119.95
Sleep times : count 1196 avg 0.031939826 +/- 0.0003384 min 0.028489784 max 0.032581635 sum 38.2000321
Aggregated Function Time : count 1200 avg 0.001141029 +/- 0.0002741 min 0.000737621 max 0.004176742 sum 1.36923475
# range, mid point, percentile, count
>= 0.000737621 <= 0.0008 , 0.000768811 , 0.75, 9
> 0.0008 <= 0.0009 , 0.00085 , 2.83, 25
> 0.0009 <= 0.001 , 0.00095 , 17.58, 177
> 0.001 <= 0.0011 , 0.00105 , 53.33, 429
> 0.0011 <= 0.0012 , 0.00115 , 76.17, 274
> 0.0012 <= 0.0014 , 0.0013 , 94.75, 223
> 0.0014 <= 0.0016 , 0.0015 , 97.50, 33
> 0.0016 <= 0.0018 , 0.0017 , 97.92, 5
> 0.0018 <= 0.002 , 0.0019 , 98.58, 8
> 0.002 <= 0.0025 , 0.00225 , 99.33, 9
> 0.0025 <= 0.003 , 0.00275 , 99.42, 1
> 0.003 <= 0.0035 , 0.00325 , 99.67, 3
> 0.004 <= 0.00417674 , 0.00408837 , 100.00, 4
# target 50% 0.00109068
# target 75% 0.00119489
# target 90% 0.00134888
# target 99% 0.00227778
# target 99.9% 0.00412372
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 1.141 ms avg, 120.0 qps
Successfully wrote 2727 bytes of Json data to /data/2018-11-19-043502_grpc_baseline_120qps_10s_echo_1_2.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
04:35:12 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:35:22 I periodic.go:533> T002 ended after 10.001682207s : 300 calls. qps=29.99495422780333
04:35:22 I periodic.go:533> T001 ended after 10.002430627s : 300 calls. qps=29.992709890953584
04:35:22 I periodic.go:533> T000 ended after 10.002617246s : 300 calls. qps=29.992150316455287
04:35:22 I periodic.go:533> T003 ended after 10.002828326s : 300 calls. qps=29.991517421149833
Ended after 10.00285577s : 1200 calls. qps=119.97
Sleep times : count 1196 avg 0.031502495 +/- 0.001951 min 0.008051947 max 0.032260193 sum 37.6769838
Aggregated Function Time : count 1200 avg 0.0015044642 +/- 0.00141 min 0.000725894 max 0.024917064 sum 1.80535702
# range, mid point, percentile, count
>= 0.000725894 <= 0.0008 , 0.000762947 , 0.08, 1
> 0.0008 <= 0.0009 , 0.00085 , 0.17, 1
> 0.0009 <= 0.001 , 0.00095 , 1.00, 10
> 0.001 <= 0.0011 , 0.00105 , 6.00, 60
> 0.0011 <= 0.0012 , 0.00115 , 18.50, 150
> 0.0012 <= 0.0014 , 0.0013 , 55.83, 448
> 0.0014 <= 0.0016 , 0.0015 , 84.33, 342
> 0.0016 <= 0.0018 , 0.0017 , 93.17, 106
> 0.0018 <= 0.002 , 0.0019 , 95.42, 27
> 0.002 <= 0.0025 , 0.00225 , 97.58, 26
> 0.0025 <= 0.003 , 0.00275 , 99.17, 19
> 0.003 <= 0.0035 , 0.00325 , 99.50, 4
> 0.005 <= 0.006 , 0.0055 , 99.58, 1
> 0.01 <= 0.012 , 0.011 , 99.67, 1
> 0.02 <= 0.0249171 , 0.0224585 , 100.00, 4
# target 50% 0.00136875
# target 75% 0.0015345
# target 90% 0.0017283
# target 99% 0.00294737
# target 99.9% 0.0234419
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 1.504 ms avg, 120.0 qps
Successfully wrote 2947 bytes of Json data to /data/2018-11-19-043512_grpc_linkerd_120qps_10s_echo_1_2.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8079
04:35:22 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:35:32 I periodic.go:533> T002 ended after 10.001679231s : 300 calls. qps=29.994963152802992
04:35:32 I periodic.go:533> T003 ended after 10.002168606s : 300 calls. qps=29.993495592549703
04:35:32 I periodic.go:533> T000 ended after 10.002271085s : 300 calls. qps=29.993188291996788
04:35:32 I periodic.go:533> T001 ended after 10.002303896s : 300 calls. qps=29.993089904014248
Ended after 10.002331495s : 1200 calls. qps=119.97
Sleep times : count 1196 avg 0.030912242 +/- 0.0005617 min 0.027167906 max 0.031997244 sum 36.9710414
Aggregated Function Time : count 1200 avg 0.0021926947 +/- 0.0005681 min 0.001119282 max 0.00608256 sum 2.63123361
# range, mid point, percentile, count
>= 0.00111928 <= 0.0012 , 0.00115964 , 1.00, 12
> 0.0012 <= 0.0014 , 0.0013 , 5.33, 52
> 0.0014 <= 0.0016 , 0.0015 , 13.08, 93
> 0.0016 <= 0.0018 , 0.0017 , 23.58, 126
> 0.0018 <= 0.002 , 0.0019 , 32.08, 102
> 0.002 <= 0.0025 , 0.00225 , 81.25, 590
> 0.0025 <= 0.003 , 0.00275 , 96.00, 177
> 0.003 <= 0.0035 , 0.00325 , 97.92, 23
> 0.0035 <= 0.004 , 0.00375 , 98.42, 6
> 0.004 <= 0.0045 , 0.00425 , 98.83, 5
> 0.0045 <= 0.005 , 0.00475 , 99.50, 8
> 0.005 <= 0.006 , 0.0055 , 99.92, 5
> 0.006 <= 0.00608256 , 0.00604128 , 100.00, 1
# target 50% 0.0021822
# target 75% 0.00243644
# target 90% 0.00279661
# target 99% 0.004625
# target 99.9% 0.00596
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 2.193 ms avg, 120.0 qps
Successfully wrote 2707 bytes of Json data to /data/2018-11-19-043522_grpc_istio_120qps_10s_echo_1_2.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
04:35:32 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 120.0 qps
04:35:32 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:35:42 I periodic.go:533> T001 ended after 10.000896594s : 300 calls. qps=29.997310459142618
04:35:42 I periodic.go:533> T000 ended after 10.000984936s : 300 calls. qps=29.997045483001017
04:35:42 I periodic.go:533> T002 ended after 10.00100229s : 300 calls. qps=29.996993431345366
04:35:42 I periodic.go:533> T003 ended after 10.001020946s : 300 calls. qps=29.9969374746673
Ended after 10.001038474s : 1200 calls. qps=119.99
Sleep times : count 1196 avg 0.032511262 +/- 0.0003085 min 0.028464105 max 0.033008136 sum 38.883469
Aggregated Function Time : count 1200 avg 0.00061786328 +/- 0.0002852 min 0.000326125 max 0.004761266 sum 0.741435938
# range, mid point, percentile, count
>= 0.000326125 <= 0.0004 , 0.000363062 , 1.83, 22
> 0.0004 <= 0.0005 , 0.00045 , 22.25, 245
> 0.0005 <= 0.0006 , 0.00055 , 57.25, 420
> 0.0006 <= 0.0007 , 0.00065 , 82.17, 299
> 0.0007 <= 0.0008 , 0.00075 , 93.33, 134
> 0.0008 <= 0.0009 , 0.00085 , 97.17, 46
> 0.0009 <= 0.001 , 0.00095 , 98.00, 10
> 0.001 <= 0.0011 , 0.00105 , 98.50, 6
> 0.0011 <= 0.0012 , 0.00115 , 98.58, 1
> 0.0014 <= 0.0016 , 0.0015 , 99.08, 6
> 0.0016 <= 0.0018 , 0.0017 , 99.33, 3
> 0.0018 <= 0.002 , 0.0019 , 99.67, 4
> 0.0045 <= 0.00476127 , 0.00463063 , 100.00, 4
# target 50% 0.000579286
# target 75% 0.000671237
# target 90% 0.000770149
# target 99% 0.00156667
# target 99.9% 0.00468289
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
Response Body/Total Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
All done 1200 calls (plus 4 warmup) 0.618 ms avg, 120.0 qps
Successfully wrote 3283 bytes of Json data to /data/2018-11-19-043532_http_baseline_120qps_10s_echo_0_3.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
04:35:42 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 120.0 qps
04:35:42 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:35:52 I periodic.go:533> T002 ended after 10.001574584s : 300 calls. qps=29.995276991677333
04:35:52 I periodic.go:533> T003 ended after 10.001655994s : 300 calls. qps=29.995032840558622
04:35:52 I periodic.go:533> T000 ended after 10.001763305s : 300 calls. qps=29.994711017608907
04:35:52 I periodic.go:533> T001 ended after 10.00178471s : 300 calls. qps=29.994646825386425
Ended after 10.001818945s : 1200 calls. qps=119.98
Sleep times : count 1196 avg 0.031901505 +/- 0.000342 min 0.028070905 max 0.032290649 sum 38.1541999
Aggregated Function Time : count 1200 avg 0.0012113432 +/- 0.0003238 min 0.000902377 max 0.005192007 sum 1.4536118
# range, mid point, percentile, count
>= 0.000902377 <= 0.001 , 0.000951189 , 3.17, 38
> 0.001 <= 0.0011 , 0.00105 , 27.17, 288
> 0.0011 <= 0.0012 , 0.00115 , 63.08, 431
> 0.0012 <= 0.0014 , 0.0013 , 94.00, 371
> 0.0014 <= 0.0016 , 0.0015 , 96.75, 33
> 0.0016 <= 0.0018 , 0.0017 , 97.92, 14
> 0.0018 <= 0.002 , 0.0019 , 98.67, 9
> 0.002 <= 0.0025 , 0.00225 , 99.00, 4
> 0.0025 <= 0.003 , 0.00275 , 99.25, 3
> 0.003 <= 0.0035 , 0.00325 , 99.33, 1
> 0.0035 <= 0.004 , 0.00375 , 99.67, 4
> 0.005 <= 0.00519201 , 0.005096 , 100.00, 4
# target 50% 0.00116357
# target 75% 0.00127709
# target 90% 0.00137412
# target 99% 0.0025
# target 99.9% 0.0051344
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
Response Body/Total Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
All done 1200 calls (plus 4 warmup) 1.211 ms avg, 120.0 qps
Successfully wrote 3084 bytes of Json data to /data/2018-11-19-043542_http_linkerd_120qps_10s_echo_0_3.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
04:35:52 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 120.0 qps
04:35:52 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:36:02 I periodic.go:533> T000 ended after 10.002225206s : 300 calls. qps=29.99332586713205
04:36:02 I periodic.go:533> T001 ended after 10.002309412s : 300 calls. qps=29.99307336364571
04:36:02 I periodic.go:533> T002 ended after 10.002323985s : 300 calls. qps=29.99302966489542
04:36:02 I periodic.go:533> T003 ended after 10.002336504s : 300 calls. qps=29.992992125392703
Ended after 10.002348157s : 1200 calls. qps=119.97
Sleep times : count 1196 avg 0.031428163 +/- 0.0004208 min 0.027364696 max 0.032722054 sum 37.5880835
Aggregated Function Time : count 1200 avg 0.0016880672 +/- 0.0003874 min 0.00067925 max 0.005718341 sum 2.02568064
# range, mid point, percentile, count
>= 0.00067925 <= 0.0007 , 0.000689625 , 0.08, 1
> 0.0009 <= 0.001 , 0.00095 , 0.25, 2
> 0.001 <= 0.0011 , 0.00105 , 0.42, 2
> 0.0011 <= 0.0012 , 0.00115 , 0.50, 1
> 0.0012 <= 0.0014 , 0.0013 , 6.42, 71
> 0.0014 <= 0.0016 , 0.0015 , 45.33, 467
> 0.0016 <= 0.0018 , 0.0017 , 80.17, 418
> 0.0018 <= 0.002 , 0.0019 , 91.92, 141
> 0.002 <= 0.0025 , 0.00225 , 97.50, 67
> 0.0025 <= 0.003 , 0.00275 , 98.67, 14
> 0.003 <= 0.0035 , 0.00325 , 99.00, 4
> 0.0035 <= 0.004 , 0.00375 , 99.58, 7
> 0.004 <= 0.0045 , 0.00425 , 99.67, 1
> 0.005 <= 0.00571834 , 0.00535917 , 100.00, 4
# target 50% 0.00162679
# target 75% 0.00177033
# target 90% 0.00196738
# target 99% 0.0035
# target 99.9% 0.00550284
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 209 +/- 0 min 209 max 209 sum 250800
Response Body/Total Sizes : count 1200 avg 209 +/- 0 min 209 max 209 sum 250800
All done 1200 calls (plus 4 warmup) 1.688 ms avg, 120.0 qps
Successfully wrote 3364 bytes of Json data to /data/2018-11-19-043552_http_istio_120qps_10s_echo_0_3.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
04:36:02 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:36:12 I periodic.go:533> T003 ended after 10.001627936s : 300 calls. qps=29.99511698692328
04:36:12 I periodic.go:533> T002 ended after 10.00174058s : 300 calls. qps=29.99477916872745
04:36:12 I periodic.go:533> T001 ended after 10.001795001s : 300 calls. qps=29.994615963435102
04:36:12 I periodic.go:533> T000 ended after 10.001838324s : 300 calls. qps=29.9944860416442
Ended after 10.001859327s : 1200 calls. qps=119.98
Sleep times : count 1196 avg 0.031964918 +/- 0.0005327 min 0.028178375 max 0.032782011 sum 38.2300415
Aggregated Function Time : count 1200 avg 0.0011252733 +/- 0.0004881 min 0.000515168 max 0.004962738 sum 1.35032799
# range, mid point, percentile, count
>= 0.000515168 <= 0.0006 , 0.000557584 , 0.50, 6
> 0.0006 <= 0.0007 , 0.00065 , 0.92, 5
> 0.0007 <= 0.0008 , 0.00075 , 2.08, 14
> 0.0008 <= 0.0009 , 0.00085 , 10.67, 103
> 0.0009 <= 0.001 , 0.00095 , 41.83, 374
> 0.001 <= 0.0011 , 0.00105 , 71.08, 351
> 0.0011 <= 0.0012 , 0.00115 , 84.33, 159
> 0.0012 <= 0.0014 , 0.0013 , 93.50, 110
> 0.0014 <= 0.0016 , 0.0015 , 95.25, 21
> 0.0016 <= 0.0018 , 0.0017 , 95.42, 2
> 0.0018 <= 0.002 , 0.0019 , 95.92, 6
> 0.002 <= 0.0025 , 0.00225 , 97.67, 21
> 0.0025 <= 0.003 , 0.00275 , 98.33, 8
> 0.003 <= 0.0035 , 0.00325 , 98.67, 4
> 0.004 <= 0.0045 , 0.00425 , 99.33, 8
> 0.0045 <= 0.00496274 , 0.00473137 , 100.00, 8
# target 50% 0.00102792
# target 75% 0.00112956
# target 90% 0.00132364
# target 99% 0.00425
# target 99.9% 0.00489333
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 1.125 ms avg, 120.0 qps
Successfully wrote 3152 bytes of Json data to /data/2018-11-19-043602_grpc_baseline_120qps_10s_echo_0_3.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
04:36:13 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:36:23 I periodic.go:533> T000 ended after 10.001676615s : 300 calls. qps=29.994970998169993
04:36:23 I periodic.go:533> T002 ended after 10.00211088s : 300 calls. qps=29.9936686964622
04:36:23 I periodic.go:533> T001 ended after 10.002157184s : 300 calls. qps=29.99352984373176
04:36:23 I periodic.go:533> T003 ended after 10.002171197s : 300 calls. qps=29.993487822921935
Ended after 10.002183287s : 1200 calls. qps=119.97
Sleep times : count 1196 avg 0.031458606 +/- 0.0006584 min 0.022958871 max 0.032109062 sum 37.6244932
Aggregated Function Time : count 1200 avg 0.001604502 +/- 0.0004481 min 0.001103537 max 0.008243417 sum 1.92540243
# range, mid point, percentile, count
>= 0.00110354 <= 0.0012 , 0.00115177 , 1.58, 19
> 0.0012 <= 0.0014 , 0.0013 , 21.67, 241
> 0.0014 <= 0.0016 , 0.0015 , 62.00, 484
> 0.0016 <= 0.0018 , 0.0017 , 87.42, 305
> 0.0018 <= 0.002 , 0.0019 , 95.33, 95
> 0.002 <= 0.0025 , 0.00225 , 97.58, 27
> 0.0025 <= 0.003 , 0.00275 , 98.50, 11
> 0.003 <= 0.0035 , 0.00325 , 99.17, 8
> 0.0035 <= 0.004 , 0.00375 , 99.42, 3
> 0.004 <= 0.0045 , 0.00425 , 99.50, 1
> 0.0045 <= 0.005 , 0.00475 , 99.58, 1
> 0.005 <= 0.006 , 0.0055 , 99.67, 1
> 0.006 <= 0.007 , 0.0065 , 99.92, 3
> 0.008 <= 0.00824342 , 0.00812171 , 100.00, 1
# target 50% 0.0015405
# target 75% 0.0017023
# target 90% 0.00186526
# target 99% 0.003375
# target 99.9% 0.00693333
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 1.605 ms avg, 120.0 qps
Successfully wrote 2847 bytes of Json data to /data/2018-11-19-043613_grpc_linkerd_120qps_10s_echo_0_3.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8079
04:36:23 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:36:33 I periodic.go:533> T003 ended after 10.001773211s : 300 calls. qps=29.99468131011594
04:36:33 I periodic.go:533> T000 ended after 10.002416366s : 300 calls. qps=29.992752653224233
04:36:33 I periodic.go:533> T001 ended after 10.002564757s : 300 calls. qps=29.992307701887544
04:36:33 I periodic.go:533> T002 ended after 10.002581733s : 300 calls. qps=29.992256800087475
Ended after 10.002613638s : 1200 calls. qps=119.97
Sleep times : count 1196 avg 0.030981412 +/- 0.0006019 min 0.026202579 max 0.031982581 sum 37.0537684
Aggregated Function Time : count 1200 avg 0.0021076904 +/- 0.0005496 min 0.00103543 max 0.005721795 sum 2.52922843
# range, mid point, percentile, count
>= 0.00103543 <= 0.0011 , 0.00106771 , 0.17, 2
> 0.0011 <= 0.0012 , 0.00115 , 2.00, 22
> 0.0012 <= 0.0014 , 0.0013 , 9.00, 84
> 0.0014 <= 0.0016 , 0.0015 , 16.33, 88
> 0.0016 <= 0.0018 , 0.0017 , 24.92, 103
> 0.0018 <= 0.002 , 0.0019 , 41.33, 197
> 0.002 <= 0.0025 , 0.00225 , 84.50, 518
> 0.0025 <= 0.003 , 0.00275 , 96.75, 147
> 0.003 <= 0.0035 , 0.00325 , 97.75, 12
> 0.0035 <= 0.004 , 0.00375 , 98.08, 4
> 0.004 <= 0.0045 , 0.00425 , 99.33, 15
> 0.0045 <= 0.005 , 0.00475 , 99.67, 4
> 0.005 <= 0.0057218 , 0.0053609 , 100.00, 4
# target 50% 0.00210039
# target 75% 0.00238996
# target 90% 0.00272449
# target 99% 0.00436667
# target 99.9% 0.00550526
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 2.108 ms avg, 120.0 qps
Successfully wrote 2699 bytes of Json data to /data/2018-11-19-043623_grpc_istio_120qps_10s_echo_0_3.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
04:36:33 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 120.0 qps
04:36:33 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:36:43 I periodic.go:533> T003 ended after 10.000732215s : 300 calls. qps=29.99780351582987
04:36:43 I periodic.go:533> T002 ended after 10.000787228s : 300 calls. qps=29.997638501903744
04:36:43 I periodic.go:533> T001 ended after 10.000800218s : 300 calls. qps=29.997599538089283
04:36:43 I periodic.go:533> T000 ended after 10.000810872s : 300 calls. qps=29.997567581238023
Ended after 10.000822758s : 1200 calls. qps=119.99
Sleep times : count 1196 avg 0.03255028 +/- 0.0002534 min 0.029329662 max 0.032963688 sum 38.930135
Aggregated Function Time : count 1200 avg 0.00059475432 +/- 0.0002484 min 0.000213248 max 0.003842926 sum 0.713705179
# range, mid point, percentile, count
>= 0.000213248 <= 0.0003 , 0.000256624 , 0.25, 3
> 0.0003 <= 0.0004 , 0.00035 , 3.33, 37
> 0.0004 <= 0.0005 , 0.00045 , 28.17, 298
> 0.0005 <= 0.0006 , 0.00055 , 62.92, 417
> 0.0006 <= 0.0007 , 0.00065 , 85.75, 274
> 0.0007 <= 0.0008 , 0.00075 , 93.50, 93
> 0.0008 <= 0.0009 , 0.00085 , 97.00, 42
> 0.0009 <= 0.001 , 0.00095 , 98.25, 15
> 0.001 <= 0.0011 , 0.00105 , 98.33, 1
> 0.0011 <= 0.0012 , 0.00115 , 98.58, 3
> 0.0012 <= 0.0014 , 0.0013 , 98.67, 1
> 0.0014 <= 0.0016 , 0.0015 , 98.92, 3
> 0.0016 <= 0.0018 , 0.0017 , 99.42, 6
> 0.0018 <= 0.002 , 0.0019 , 99.67, 3
> 0.0035 <= 0.00384293 , 0.00367146 , 100.00, 4
# target 50% 0.00056283
# target 75% 0.00065292
# target 90% 0.000754839
# target 99% 0.00163333
# target 99.9% 0.00374005
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
Response Body/Total Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
All done 1200 calls (plus 4 warmup) 0.595 ms avg, 120.0 qps
Successfully wrote 3555 bytes of Json data to /data/2018-11-19-043633_http_baseline_120qps_10s_echo_1_3.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
04:36:43 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 120.0 qps
04:36:43 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:36:53 I periodic.go:533> T002 ended after 10.001652395s : 300 calls. qps=29.99504363398744
04:36:53 I periodic.go:533> T000 ended after 10.001723386s : 300 calls. qps=29.994830732864262
04:36:53 I periodic.go:533> T001 ended after 10.001735405s : 300 calls. qps=29.99479468833239
04:36:53 I periodic.go:533> T003 ended after 10.001746016s : 300 calls. qps=29.994762866411904
Ended after 10.001757529s : 1200 calls. qps=119.98
Sleep times : count 1196 avg 0.031880623 +/- 0.0003087 min 0.028956164 max 0.032591264 sum 38.1292247
Aggregated Function Time : count 1200 avg 0.0012309592 +/- 0.0002871 min 0.000802312 max 0.004259161 sum 1.47715099
# range, mid point, percentile, count
>= 0.000802312 <= 0.0009 , 0.000851156 , 0.08, 1
> 0.0009 <= 0.001 , 0.00095 , 1.33, 15
> 0.001 <= 0.0011 , 0.00105 , 19.83, 222
> 0.0011 <= 0.0012 , 0.00115 , 57.42, 451
> 0.0012 <= 0.0014 , 0.0013 , 91.75, 412
> 0.0014 <= 0.0016 , 0.0015 , 97.25, 66
> 0.0016 <= 0.0018 , 0.0017 , 97.33, 1
> 0.0018 <= 0.002 , 0.0019 , 98.00, 8
> 0.002 <= 0.0025 , 0.00225 , 99.00, 12
> 0.0025 <= 0.003 , 0.00275 , 99.33, 4
> 0.0035 <= 0.004 , 0.00375 , 99.67, 4
> 0.004 <= 0.00425916 , 0.00412958 , 100.00, 4
# target 50% 0.00118027
# target 75% 0.00130243
# target 90% 0.00138981
# target 99% 0.0025
# target 99.9% 0.00418141
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
Response Body/Total Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
All done 1200 calls (plus 4 warmup) 1.231 ms avg, 120.0 qps
Successfully wrote 3110 bytes of Json data to /data/2018-11-19-043643_http_linkerd_120qps_10s_echo_1_3.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
04:36:53 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 120.0 qps
04:36:53 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:37:03 I periodic.go:533> T000 ended after 10.002404176s : 300 calls. qps=29.99278920560188
04:37:03 I periodic.go:533> T002 ended after 10.002502063s : 300 calls. qps=29.992495688625983
04:37:03 I periodic.go:533> T001 ended after 10.002518948s : 300 calls. qps=29.992445059050336
04:37:03 I periodic.go:533> T003 ended after 10.002529613s : 300 calls. qps=29.992413080197096
Ended after 10.002647977s : 1200 calls. qps=119.97
Sleep times : count 1196 avg 0.031295612 +/- 0.0005105 min 0.025796768 max 0.032033557 sum 37.4295523
Aggregated Function Time : count 1200 avg 0.0018253395 +/- 0.0004866 min 0.001025802 max 0.007400579 sum 2.1904074
# range, mid point, percentile, count
>= 0.0010258 <= 0.0011 , 0.0010629 , 0.17, 2
> 0.0011 <= 0.0012 , 0.00115 , 0.25, 1
> 0.0012 <= 0.0014 , 0.0013 , 4.75, 54
> 0.0014 <= 0.0016 , 0.0015 , 27.42, 272
> 0.0016 <= 0.0018 , 0.0017 , 55.08, 332
> 0.0018 <= 0.002 , 0.0019 , 82.08, 324
> 0.002 <= 0.0025 , 0.00225 , 96.50, 173
> 0.0025 <= 0.003 , 0.00275 , 98.33, 22
> 0.003 <= 0.0035 , 0.00325 , 98.58, 3
> 0.0035 <= 0.004 , 0.00375 , 99.25, 8
> 0.004 <= 0.0045 , 0.00425 , 99.33, 1
> 0.0045 <= 0.005 , 0.00475 , 99.67, 4
> 0.007 <= 0.00740058 , 0.00720029 , 100.00, 4
# target 50% 0.00176325
# target 75% 0.00194753
# target 90% 0.00227457
# target 99% 0.0038125
# target 99.9% 0.00728041
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 209 +/- 0 min 209 max 209 sum 250800
Response Body/Total Sizes : count 1200 avg 209 +/- 0 min 209 max 209 sum 250800
All done 1200 calls (plus 4 warmup) 1.825 ms avg, 120.0 qps
Successfully wrote 3255 bytes of Json data to /data/2018-11-19-043653_http_istio_120qps_10s_echo_1_3.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
04:37:03 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:37:13 I periodic.go:533> T000 ended after 10.001236805s : 300 calls. qps=29.996290043849232
04:37:13 I periodic.go:533> T001 ended after 10.001348305s : 300 calls. qps=29.995955630304387
04:37:13 I periodic.go:533> T003 ended after 10.001396502s : 300 calls. qps=29.995811078983657
04:37:13 I periodic.go:533> T002 ended after 10.001426646s : 300 calls. qps=29.995720672508543
Ended after 10.001439994s : 1200 calls. qps=119.98
Sleep times : count 1196 avg 0.031978084 +/- 0.0003797 min 0.028047206 max 0.032487881 sum 38.2457883
Aggregated Function Time : count 1200 avg 0.0010818234 +/- 0.0003285 min 0.00059011 max 0.005157808 sum 1.29818803
# range, mid point, percentile, count
>= 0.00059011 <= 0.0006 , 0.000595055 , 0.08, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.33, 3
> 0.0007 <= 0.0008 , 0.00075 , 2.42, 25
> 0.0008 <= 0.0009 , 0.00085 , 13.33, 131
> 0.0009 <= 0.001 , 0.00095 , 41.08, 333
> 0.001 <= 0.0011 , 0.00105 , 70.83, 357
> 0.0011 <= 0.0012 , 0.00115 , 85.83, 180
> 0.0012 <= 0.0014 , 0.0013 , 95.00, 110
> 0.0014 <= 0.0016 , 0.0015 , 95.67, 8
> 0.0016 <= 0.0018 , 0.0017 , 96.50, 10
> 0.0018 <= 0.002 , 0.0019 , 98.67, 26
> 0.002 <= 0.0025 , 0.00225 , 99.42, 9
> 0.0025 <= 0.003 , 0.00275 , 99.58, 2
> 0.0035 <= 0.004 , 0.00375 , 99.67, 1
> 0.0045 <= 0.005 , 0.00475 , 99.75, 1
> 0.005 <= 0.00515781 , 0.0050789 , 100.00, 3
# target 50% 0.00102997
# target 75% 0.00112778
# target 90% 0.00129091
# target 99% 0.00222222
# target 99.9% 0.00509468
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 1.082 ms avg, 120.0 qps
Successfully wrote 3144 bytes of Json data to /data/2018-11-19-043703_grpc_baseline_120qps_10s_echo_1_3.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
04:37:13 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:37:23 I periodic.go:533> T003 ended after 10.00174346s : 300 calls. qps=29.994770531736872
04:37:23 I periodic.go:533> T000 ended after 10.001928684s : 300 calls. qps=29.994215063731403
04:37:23 I periodic.go:533> T002 ended after 10.001961433s : 300 calls. qps=29.994116854939488
04:37:23 I periodic.go:533> T001 ended after 10.002030367s : 300 calls. qps=29.993910135466
Ended after 10.002043797s : 1200 calls. qps=119.98
Sleep times : count 1196 avg 0.031327772 +/- 0.002015 min 0.001692757 max 0.032181051 sum 37.4680147
Aggregated Function Time : count 1200 avg 0.0016530726 +/- 0.001008 min 0.00100471 max 0.018345654 sum 1.98368708
# range, mid point, percentile, count
>= 0.00100471 <= 0.0011 , 0.00105236 , 0.25, 3
> 0.0011 <= 0.0012 , 0.00115 , 1.33, 13
> 0.0012 <= 0.0014 , 0.0013 , 18.92, 211
> 0.0014 <= 0.0016 , 0.0015 , 59.92, 492
> 0.0016 <= 0.0018 , 0.0017 , 87.58, 332
> 0.0018 <= 0.002 , 0.0019 , 95.58, 96
> 0.002 <= 0.0025 , 0.00225 , 97.50, 23
> 0.0025 <= 0.003 , 0.00275 , 98.42, 11
> 0.003 <= 0.0035 , 0.00325 , 99.00, 7
> 0.0035 <= 0.004 , 0.00375 , 99.25, 3
> 0.004 <= 0.0045 , 0.00425 , 99.50, 3
> 0.0045 <= 0.005 , 0.00475 , 99.67, 2
> 0.016 <= 0.018 , 0.017 , 99.75, 1
> 0.018 <= 0.0183457 , 0.0181728 , 100.00, 3
# target 50% 0.00155163
# target 75% 0.00170904
# target 90% 0.00186042
# target 99% 0.0035
# target 99.9% 0.0182074
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 1.653 ms avg, 120.0 qps
Successfully wrote 2827 bytes of Json data to /data/2018-11-19-043713_grpc_linkerd_120qps_10s_echo_1_3.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8079
04:37:23 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:37:33 I periodic.go:533> T000 ended after 10.001794395s : 300 calls. qps=29.99461778078273
04:37:33 I periodic.go:533> T001 ended after 10.002227587s : 300 calls. qps=29.993318727311618
04:37:33 I periodic.go:533> T003 ended after 10.002250882s : 300 calls. qps=29.99324887359889
04:37:33 I periodic.go:533> T002 ended after 10.002263038s : 300 calls. qps=29.99321242205468
Ended after 10.002275109s : 1200 calls. qps=119.97
Sleep times : count 1196 avg 0.030773856 +/- 0.000834 min 0.024897128 max 0.031835775 sum 36.805532
Aggregated Function Time : count 1200 avg 0.0023069341 +/- 0.0008115 min 0.001168292 max 0.008362235 sum 2.7683209
# range, mid point, percentile, count
>= 0.00116829 <= 0.0012 , 0.00118415 , 0.08, 1
> 0.0012 <= 0.0014 , 0.0013 , 2.83, 33
> 0.0014 <= 0.0016 , 0.0015 , 11.92, 109
> 0.0016 <= 0.0018 , 0.0017 , 20.83, 107
> 0.0018 <= 0.002 , 0.0019 , 27.58, 81
> 0.002 <= 0.0025 , 0.00225 , 78.83, 615
> 0.0025 <= 0.003 , 0.00275 , 92.50, 164
> 0.003 <= 0.0035 , 0.00325 , 95.00, 30
> 0.0035 <= 0.004 , 0.00375 , 96.17, 14
> 0.004 <= 0.0045 , 0.00425 , 97.00, 10
> 0.0045 <= 0.005 , 0.00475 , 98.00, 12
> 0.005 <= 0.006 , 0.0055 , 98.58, 7
> 0.006 <= 0.007 , 0.0065 , 99.50, 11
> 0.007 <= 0.008 , 0.0075 , 99.75, 3
> 0.008 <= 0.00836224 , 0.00818112 , 100.00, 3
# target 50% 0.0022187
# target 75% 0.0024626
# target 90% 0.00290854
# target 99% 0.00645455
# target 99.9% 0.00821734
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 2.307 ms avg, 120.0 qps
Successfully wrote 2925 bytes of Json data to /data/2018-11-19-043723_grpc_istio_120qps_10s_echo_1_3.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
04:37:33 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 120.0 qps
04:37:33 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:37:43 I periodic.go:533> T003 ended after 10.000932441s : 300 calls. qps=29.997202937809547
04:37:43 I periodic.go:533> T001 ended after 10.001003227s : 300 calls. qps=29.996990620909035
04:37:43 I periodic.go:533> T000 ended after 10.00102404s : 300 calls. qps=29.99692819456516
04:37:43 I periodic.go:533> T002 ended after 10.001042688s : 300 calls. qps=29.996872262125475
Ended after 10.001056506s : 1200 calls. qps=119.99
Sleep times : count 1196 avg 0.032496199 +/- 0.0004252 min 0.029074208 max 0.032980986 sum 38.8654544
Aggregated Function Time : count 1200 avg 0.00061812014 +/- 0.000394 min 0.000242697 max 0.004155935 sum 0.741744169
# range, mid point, percentile, count
>= 0.000242697 <= 0.0003 , 0.000271348 , 0.25, 3
> 0.0003 <= 0.0004 , 0.00035 , 3.83, 43
> 0.0004 <= 0.0005 , 0.00045 , 31.83, 336
> 0.0005 <= 0.0006 , 0.00055 , 64.83, 396
> 0.0006 <= 0.0007 , 0.00065 , 86.83, 264
> 0.0007 <= 0.0008 , 0.00075 , 94.50, 92
> 0.0008 <= 0.0009 , 0.00085 , 96.33, 22
> 0.0009 <= 0.001 , 0.00095 , 96.92, 7
> 0.001 <= 0.0011 , 0.00105 , 97.33, 5
> 0.0011 <= 0.0012 , 0.00115 , 97.67, 4
> 0.0012 <= 0.0014 , 0.0013 , 97.92, 3
> 0.0014 <= 0.0016 , 0.0015 , 98.17, 3
> 0.0016 <= 0.0018 , 0.0017 , 98.33, 2
> 0.0025 <= 0.003 , 0.00275 , 99.00, 8
> 0.003 <= 0.0035 , 0.00325 , 99.08, 1
> 0.0035 <= 0.004 , 0.00375 , 99.67, 7
> 0.004 <= 0.00415594 , 0.00407797 , 100.00, 4
# target 50% 0.000555051
# target 75% 0.000646212
# target 90% 0.000741304
# target 99% 0.003
# target 99.9% 0.00410915
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
Response Body/Total Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
All done 1200 calls (plus 4 warmup) 0.618 ms avg, 120.0 qps
Successfully wrote 3785 bytes of Json data to /data/2018-11-19-043733_http_baseline_120qps_10s_echo_0_4.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
04:37:43 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 120.0 qps
04:37:43 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:37:53 I periodic.go:533> T002 ended after 10.001393285s : 300 calls. qps=29.995820727291797
04:37:53 I periodic.go:533> T001 ended after 10.001459885s : 300 calls. qps=29.99562098428594
04:37:53 I periodic.go:533> T003 ended after 10.001474017s : 300 calls. qps=29.99557860072177
04:37:53 I periodic.go:533> T000 ended after 10.00148437s : 300 calls. qps=29.995547550908185
Ended after 10.001567104s : 1200 calls. qps=119.98
Sleep times : count 1196 avg 0.032018407 +/- 0.0002012 min 0.029682869 max 0.032829394 sum 38.2940149
Aggregated Function Time : count 1200 avg 0.0011080255 +/- 0.0002027 min 0.000562942 max 0.003647244 sum 1.32963058
# range, mid point, percentile, count
>= 0.000562942 <= 0.0006 , 0.000581471 , 0.08, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.75, 8
> 0.0008 <= 0.0009 , 0.00085 , 4.17, 41
> 0.0009 <= 0.001 , 0.00095 , 23.83, 236
> 0.001 <= 0.0011 , 0.00105 , 52.33, 342
> 0.0011 <= 0.0012 , 0.00115 , 81.50, 350
> 0.0012 <= 0.0014 , 0.0013 , 97.00, 186
> 0.0014 <= 0.0016 , 0.0015 , 98.75, 21
> 0.0016 <= 0.0018 , 0.0017 , 99.00, 3
> 0.0018 <= 0.002 , 0.0019 , 99.25, 3
> 0.002 <= 0.0025 , 0.00225 , 99.67, 5
> 0.003 <= 0.0035 , 0.00325 , 99.92, 3
> 0.0035 <= 0.00364724 , 0.00357362 , 100.00, 1
# target 50% 0.00109181
# target 75% 0.00117771
# target 90% 0.00130968
# target 99% 0.0018
# target 99.9% 0.00346667
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
Response Body/Total Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
All done 1200 calls (plus 4 warmup) 1.108 ms avg, 120.0 qps
Successfully wrote 3243 bytes of Json data to /data/2018-11-19-043743_http_linkerd_120qps_10s_echo_0_4.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
04:37:53 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 120.0 qps
04:37:53 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:38:03 I periodic.go:533> T003 ended after 10.001948057s : 300 calls. qps=29.994156967256085
04:38:03 I periodic.go:533> T002 ended after 10.002013385s : 300 calls. qps=29.993961060870948
04:38:03 I periodic.go:533> T000 ended after 10.002026564s : 300 calls. qps=29.993921539838855
04:38:03 I periodic.go:533> T001 ended after 10.002037673s : 300 calls. qps=29.993888226379607
Ended after 10.002048773s : 1200 calls. qps=119.98
Sleep times : count 1196 avg 0.031331871 +/- 0.0005401 min 0.023759879 max 0.0326269 sum 37.4729183
Aggregated Function Time : count 1200 avg 0.0018024399 +/- 0.0005353 min 0.000761454 max 0.00954468 sum 2.1629279
# range, mid point, percentile, count
>= 0.000761454 <= 0.0008 , 0.000780727 , 0.08, 1
> 0.0012 <= 0.0014 , 0.0013 , 1.33, 15
> 0.0014 <= 0.0016 , 0.0015 , 24.33, 276
> 0.0016 <= 0.0018 , 0.0017 , 66.75, 509
> 0.0018 <= 0.002 , 0.0019 , 90.58, 286
> 0.002 <= 0.0025 , 0.00225 , 96.75, 74
> 0.0025 <= 0.003 , 0.00275 , 97.83, 13
> 0.003 <= 0.0035 , 0.00325 , 98.25, 5
> 0.0035 <= 0.004 , 0.00375 , 98.67, 5
> 0.004 <= 0.0045 , 0.00425 , 99.33, 8
> 0.005 <= 0.006 , 0.0055 , 99.67, 4
> 0.007 <= 0.008 , 0.0075 , 99.92, 3
> 0.009 <= 0.00954468 , 0.00927234 , 100.00, 1
# target 50% 0.00172102
# target 75% 0.00186923
# target 90% 0.0019951
# target 99% 0.00425
# target 99.9% 0.00793333
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 209 +/- 0 min 209 max 209 sum 250800
Response Body/Total Sizes : count 1200 avg 209 +/- 0 min 209 max 209 sum 250800
All done 1200 calls (plus 4 warmup) 1.802 ms avg, 120.0 qps
Successfully wrote 3244 bytes of Json data to /data/2018-11-19-043753_http_istio_120qps_10s_echo_0_4.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
04:38:03 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:38:13 I periodic.go:533> T001 ended after 10.001415944s : 300 calls. qps=29.995752769384072
04:38:13 I periodic.go:533> T003 ended after 10.005127295s : 300 calls. qps=29.984625997704512
04:38:13 I periodic.go:533> T000 ended after 10.005249987s : 300 calls. qps=29.984258303370268
04:38:13 I periodic.go:533> T002 ended after 10.005304852s : 300 calls. qps=29.98409388196021
Ended after 10.005319954s : 1200 calls. qps=119.94
Sleep times : count 1196 avg 0.031954818 +/- 0.0003891 min 0.02768076 max 0.032484097 sum 38.2179617
Aggregated Function Time : count 1200 avg 0.0011235465 +/- 0.0003749 min 0.00064294 max 0.005382368 sum 1.34825574
# range, mid point, percentile, count
>= 0.00064294 <= 0.0007 , 0.00067147 , 0.33, 4
> 0.0007 <= 0.0008 , 0.00075 , 1.83, 18
> 0.0008 <= 0.0009 , 0.00085 , 9.00, 86
> 0.0009 <= 0.001 , 0.00095 , 32.00, 276
> 0.001 <= 0.0011 , 0.00105 , 61.92, 359
> 0.0011 <= 0.0012 , 0.00115 , 80.17, 219
> 0.0012 <= 0.0014 , 0.0013 , 92.08, 143
> 0.0014 <= 0.0016 , 0.0015 , 96.42, 52
> 0.0016 <= 0.0018 , 0.0017 , 97.25, 10
> 0.0018 <= 0.002 , 0.0019 , 97.50, 3
> 0.002 <= 0.0025 , 0.00225 , 99.17, 20
> 0.0025 <= 0.003 , 0.00275 , 99.25, 1
> 0.003 <= 0.0035 , 0.00325 , 99.50, 3
> 0.0045 <= 0.005 , 0.00475 , 99.75, 3
> 0.005 <= 0.00538237 , 0.00519118 , 100.00, 3
# target 50% 0.00106017
# target 75% 0.00117169
# target 90% 0.00136503
# target 99% 0.00245
# target 99.9% 0.00522942
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 1.124 ms avg, 119.9 qps
Successfully wrote 2940 bytes of Json data to /data/2018-11-19-043803_grpc_baseline_120qps_10s_echo_0_4.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
04:38:13 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:38:23 I periodic.go:533> T002 ended after 10.00206724s : 300 calls. qps=29.99379956177939
04:38:23 I periodic.go:533> T001 ended after 10.002774239s : 300 calls. qps=29.991679591280235
04:38:23 I periodic.go:533> T003 ended after 10.002960924s : 300 calls. qps=29.991119857342753
04:38:23 I periodic.go:533> T000 ended after 10.003025123s : 300 calls. qps=29.99092737558048
Ended after 10.003053355s : 1200 calls. qps=119.96
Sleep times : count 1196 avg 0.031457908 +/- 0.0009865 min 0.015992182 max 0.032058345 sum 37.6236578
Aggregated Function Time : count 1200 avg 0.001562472 +/- 0.0003385 min 0.001007858 max 0.00588035 sum 1.87496644
# range, mid point, percentile, count
>= 0.00100786 <= 0.0011 , 0.00105393 , 0.17, 2
> 0.0011 <= 0.0012 , 0.00115 , 2.00, 22
> 0.0012 <= 0.0014 , 0.0013 , 27.25, 303
> 0.0014 <= 0.0016 , 0.0015 , 67.08, 478
> 0.0016 <= 0.0018 , 0.0017 , 90.33, 279
> 0.0018 <= 0.002 , 0.0019 , 95.50, 62
> 0.002 <= 0.0025 , 0.00225 , 97.75, 27
> 0.0025 <= 0.003 , 0.00275 , 99.17, 17
> 0.003 <= 0.0035 , 0.00325 , 99.58, 5
> 0.004 <= 0.0045 , 0.00425 , 99.75, 2
> 0.0045 <= 0.005 , 0.00475 , 99.92, 2
> 0.005 <= 0.00588035 , 0.00544018 , 100.00, 1
# target 50% 0.00151423
# target 75% 0.0016681
# target 90% 0.00179713
# target 99% 0.00294118
# target 99.9% 0.00495
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 1.562 ms avg, 120.0 qps
Successfully wrote 2581 bytes of Json data to /data/2018-11-19-043813_grpc_linkerd_120qps_10s_echo_0_4.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8079
04:38:23 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:38:33 I periodic.go:533> T001 ended after 10.002073509s : 300 calls. qps=29.993780762564477
04:38:33 I periodic.go:533> T000 ended after 10.004626227s : 300 calls. qps=29.986127736623942
04:38:33 I periodic.go:533> T002 ended after 10.004714057s : 300 calls. qps=29.985864492558783
04:38:33 I periodic.go:533> T003 ended after 10.006347217s : 300 calls. qps=29.980970427482617
Ended after 10.006382622s : 1200 calls. qps=119.92
Sleep times : count 1196 avg 0.030973969 +/- 0.0006308 min 0.026902931 max 0.031960225 sum 37.0448665
Aggregated Function Time : count 1200 avg 0.0021297287 +/- 0.0006466 min 0.00106907 max 0.006366735 sum 2.5556744
# range, mid point, percentile, count
>= 0.00106907 <= 0.0011 , 0.00108454 , 0.08, 1
> 0.0011 <= 0.0012 , 0.00115 , 0.33, 3
> 0.0012 <= 0.0014 , 0.0013 , 6.50, 74
> 0.0014 <= 0.0016 , 0.0015 , 18.42, 143
> 0.0016 <= 0.0018 , 0.0017 , 23.67, 63
> 0.0018 <= 0.002 , 0.0019 , 35.42, 141
> 0.002 <= 0.0025 , 0.00225 , 89.42, 648
> 0.0025 <= 0.003 , 0.00275 , 95.42, 72
> 0.003 <= 0.0035 , 0.00325 , 96.92, 18
> 0.0035 <= 0.004 , 0.00375 , 97.25, 4
> 0.004 <= 0.0045 , 0.00425 , 98.33, 13
> 0.0045 <= 0.005 , 0.00475 , 98.42, 1
> 0.005 <= 0.006 , 0.0055 , 99.58, 14
> 0.006 <= 0.00636674 , 0.00618337 , 100.00, 5
# target 50% 0.00213503
# target 75% 0.00236651
# target 90% 0.00254861
# target 99% 0.0055
# target 99.9% 0.00627872
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 2.130 ms avg, 119.9 qps
Successfully wrote 2840 bytes of Json data to /data/2018-11-19-043823_grpc_istio_120qps_10s_echo_0_4.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
04:38:33 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 120.0 qps
04:38:33 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:38:43 I periodic.go:533> T000 ended after 10.000767949s : 300 calls. qps=29.997696329910113
04:38:43 I periodic.go:533> T002 ended after 10.000868091s : 300 calls. qps=29.997395953054973
04:38:43 I periodic.go:533> T003 ended after 10.000890578s : 300 calls. qps=29.997328503917565
04:38:43 I periodic.go:533> T001 ended after 10.000905547s : 300 calls. qps=29.997283604982336
Ended after 10.000948975s : 1200 calls. qps=119.99
Sleep times : count 1196 avg 0.032544409 +/- 0.0002585 min 0.029832985 max 0.0329447 sum 38.9231127
Aggregated Function Time : count 1200 avg 0.00057566575 +/- 0.0001947 min 0.00016008 max 0.003108177 sum 0.690798895
# range, mid point, percentile, count
>= 0.00016008 <= 0.0002 , 0.00018004 , 0.17, 2
> 0.0002 <= 0.0003 , 0.00025 , 0.50, 4
> 0.0003 <= 0.0004 , 0.00035 , 3.25, 33
> 0.0004 <= 0.0005 , 0.00045 , 30.58, 328
> 0.0005 <= 0.0006 , 0.00055 , 66.25, 428
> 0.0006 <= 0.0007 , 0.00065 , 89.58, 280
> 0.0007 <= 0.0008 , 0.00075 , 96.75, 86
> 0.0008 <= 0.0009 , 0.00085 , 98.42, 20
> 0.0009 <= 0.001 , 0.00095 , 98.83, 5
> 0.001 <= 0.0011 , 0.00105 , 98.92, 1
> 0.0011 <= 0.0012 , 0.00115 , 99.08, 2
> 0.0012 <= 0.0014 , 0.0013 , 99.25, 2
> 0.0014 <= 0.0016 , 0.0015 , 99.33, 1
> 0.0016 <= 0.0018 , 0.0017 , 99.67, 4
> 0.003 <= 0.00310818 , 0.00305409 , 100.00, 4
# target 50% 0.000554439
# target 75% 0.0006375
# target 90% 0.000705814
# target 99% 0.00115
# target 99.9% 0.00307572
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
Response Body/Total Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
All done 1200 calls (plus 4 warmup) 0.576 ms avg, 120.0 qps
Successfully wrote 3514 bytes of Json data to /data/2018-11-19-043833_http_baseline_120qps_10s_echo_1_4.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
04:38:43 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 120.0 qps
04:38:43 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:38:53 I periodic.go:533> T000 ended after 10.001238927s : 300 calls. qps=29.99628367942499
04:38:53 I periodic.go:533> T003 ended after 10.001926481s : 300 calls. qps=29.99422167018426
04:38:53 I periodic.go:533> T002 ended after 10.00211563s : 300 calls. qps=29.993654452483067
04:38:53 I periodic.go:533> T001 ended after 10.002145168s : 300 calls. qps=29.993565876227642
Ended after 10.002269882s : 1200 calls. qps=119.97
Sleep times : count 1196 avg 0.031926766 +/- 0.0002855 min 0.028673723 max 0.032599958 sum 38.1844119
Aggregated Function Time : count 1200 avg 0.0011671527 +/- 0.0002317 min 0.000805522 max 0.004517391 sum 1.40058318
# range, mid point, percentile, count
>= 0.000805522 <= 0.0009 , 0.000852761 , 1.08, 13
> 0.0009 <= 0.001 , 0.00095 , 8.25, 86
> 0.001 <= 0.0011 , 0.00105 , 37.00, 345
> 0.0011 <= 0.0012 , 0.00115 , 70.75, 405
> 0.0012 <= 0.0014 , 0.0013 , 94.50, 285
> 0.0014 <= 0.0016 , 0.0015 , 97.67, 38
> 0.0016 <= 0.0018 , 0.0017 , 98.75, 13
> 0.0018 <= 0.002 , 0.0019 , 99.17, 5
> 0.002 <= 0.0025 , 0.00225 , 99.67, 6
> 0.0025 <= 0.003 , 0.00275 , 99.75, 1
> 0.004 <= 0.0045 , 0.00425 , 99.92, 2
> 0.0045 <= 0.00451739 , 0.0045087 , 100.00, 1
# target 50% 0.00113852
# target 75% 0.00123579
# target 90% 0.00136211
# target 99% 0.00192
# target 99.9% 0.00445
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
Response Body/Total Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
All done 1200 calls (plus 4 warmup) 1.167 ms avg, 120.0 qps
Successfully wrote 3138 bytes of Json data to /data/2018-11-19-043843_http_linkerd_120qps_10s_echo_1_4.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
04:38:53 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 120.0 qps
04:38:53 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:39:03 I periodic.go:533> T002 ended after 10.001979987s : 300 calls. qps=29.994061214871735
04:39:03 I periodic.go:533> T000 ended after 10.002127809s : 300 calls. qps=29.993617930982392
04:39:03 I periodic.go:533> T003 ended after 10.002141712s : 300 calls. qps=29.99357623978443
04:39:03 I periodic.go:533> T001 ended after 10.002152398s : 300 calls. qps=29.99354419554606
Ended after 10.00216357s : 1200 calls. qps=119.97
Sleep times : count 1196 avg 0.031253151 +/- 0.001002 min 0.009055983 max 0.032338002 sum 37.3787687
Aggregated Function Time : count 1200 avg 0.0018555326 +/- 0.0009899 min 0.001050269 max 0.023882009 sum 2.22663915
# range, mid point, percentile, count
>= 0.00105027 <= 0.0011 , 0.00107513 , 0.17, 2
> 0.0012 <= 0.0014 , 0.0013 , 1.83, 20
> 0.0014 <= 0.0016 , 0.0015 , 22.08, 243
> 0.0016 <= 0.0018 , 0.0017 , 62.42, 484
> 0.0018 <= 0.002 , 0.0019 , 85.42, 276
> 0.002 <= 0.0025 , 0.00225 , 94.92, 114
> 0.0025 <= 0.003 , 0.00275 , 97.42, 30
> 0.003 <= 0.0035 , 0.00325 , 98.17, 9
> 0.0035 <= 0.004 , 0.00375 , 99.17, 12
> 0.004 <= 0.0045 , 0.00425 , 99.50, 4
> 0.0045 <= 0.005 , 0.00475 , 99.83, 4
> 0.02 <= 0.023882 , 0.021941 , 100.00, 2
# target 50% 0.00173843
# target 75% 0.00190942
# target 90% 0.00224123
# target 99% 0.00391667
# target 99.9% 0.0215528
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 209 +/- 0 min 209 max 209 sum 250800
Response Body/Total Sizes : count 1200 avg 209 +/- 0 min 209 max 209 sum 250800
All done 1200 calls (plus 4 warmup) 1.856 ms avg, 120.0 qps
Successfully wrote 3156 bytes of Json data to /data/2018-11-19-043853_http_istio_120qps_10s_echo_1_4.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
04:39:03 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:39:13 I periodic.go:533> T001 ended after 10.001387117s : 300 calls. qps=29.995839226148014
04:39:13 I periodic.go:533> T002 ended after 10.001498489s : 300 calls. qps=29.995505206539857
04:39:13 I periodic.go:533> T003 ended after 10.001548168s : 300 calls. qps=29.995356214935946
04:39:13 I periodic.go:533> T000 ended after 10.001575017s : 300 calls. qps=29.99527569308637
Ended after 10.001590231s : 1200 calls. qps=119.98
Sleep times : count 1196 avg 0.031988229 +/- 0.0003305 min 0.029150345 max 0.032516733 sum 38.2579217
Aggregated Function Time : count 1200 avg 0.0010982746 +/- 0.0002934 min 0.000392473 max 0.004148393 sum 1.31792953
# range, mid point, percentile, count
>= 0.000392473 <= 0.0004 , 0.000396237 , 0.08, 1
> 0.0005 <= 0.0006 , 0.00055 , 0.25, 2
> 0.0006 <= 0.0007 , 0.00065 , 0.67, 5
> 0.0007 <= 0.0008 , 0.00075 , 2.67, 24
> 0.0008 <= 0.0009 , 0.00085 , 11.42, 105
> 0.0009 <= 0.001 , 0.00095 , 36.25, 298
> 0.001 <= 0.0011 , 0.00105 , 66.67, 365
> 0.0011 <= 0.0012 , 0.00115 , 84.33, 212
> 0.0012 <= 0.0014 , 0.0013 , 94.00, 116
> 0.0014 <= 0.0016 , 0.0015 , 96.00, 24
> 0.0016 <= 0.0018 , 0.0017 , 96.67, 8
> 0.0018 <= 0.002 , 0.0019 , 97.33, 8
> 0.002 <= 0.0025 , 0.00225 , 98.92, 19
> 0.0025 <= 0.003 , 0.00275 , 99.58, 8
> 0.003 <= 0.0035 , 0.00325 , 99.92, 4
> 0.004 <= 0.00414839 , 0.0040742 , 100.00, 1
# target 50% 0.00104521
# target 75% 0.00114717
# target 90% 0.00131724
# target 99% 0.0025625
# target 99.9% 0.003475
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 1.098 ms avg, 120.0 qps
Successfully wrote 3122 bytes of Json data to /data/2018-11-19-043903_grpc_baseline_120qps_10s_echo_1_4.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
04:39:13 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:39:23 I periodic.go:533> T002 ended after 10.001768266s : 300 calls. qps=29.994696139863557
04:39:23 I periodic.go:533> T001 ended after 10.002610049s : 300 calls. qps=29.99217189617346
04:39:23 I periodic.go:533> T003 ended after 10.003048372s : 300 calls. qps=29.990857670921997
04:39:23 I periodic.go:533> T000 ended after 10.003172389s : 300 calls. qps=29.990485851258082
Ended after 10.003252244s : 1200 calls. qps=119.96
Sleep times : count 1196 avg 0.031084942 +/- 0.002572 min -0.009880886 max 0.032230555 sum 37.1775912
Aggregated Function Time : count 1200 avg 0.0017814639 +/- 0.0008008 min 0.001086999 max 0.013726239 sum 2.13775666
# range, mid point, percentile, count
>= 0.001087 <= 0.0011 , 0.0010935 , 0.08, 1
> 0.0011 <= 0.0012 , 0.00115 , 0.25, 2
> 0.0012 <= 0.0014 , 0.0013 , 7.25, 84
> 0.0014 <= 0.0016 , 0.0015 , 35.75, 342
> 0.0016 <= 0.0018 , 0.0017 , 71.92, 434
> 0.0018 <= 0.002 , 0.0019 , 90.08, 218
> 0.002 <= 0.0025 , 0.00225 , 95.67, 67
> 0.0025 <= 0.003 , 0.00275 , 97.25, 19
> 0.003 <= 0.0035 , 0.00325 , 98.50, 15
> 0.0035 <= 0.004 , 0.00375 , 99.00, 6
> 0.0045 <= 0.005 , 0.00475 , 99.33, 4
> 0.005 <= 0.006 , 0.0055 , 99.67, 4
> 0.012 <= 0.0137262 , 0.0128631 , 100.00, 4
# target 50% 0.0016788
# target 75% 0.00183394
# target 90% 0.00199908
# target 99% 0.004
# target 99.9% 0.0132084
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 1.781 ms avg, 120.0 qps
Successfully wrote 2662 bytes of Json data to /data/2018-11-19-043913_grpc_linkerd_120qps_10s_echo_1_4.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8079
04:39:23 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:39:33 I periodic.go:533> T000 ended after 10.001935083s : 300 calls. qps=29.994195874146527
04:39:33 I periodic.go:533> T002 ended after 10.004709429s : 300 calls. qps=29.985878363484453
04:39:33 I periodic.go:533> T003 ended after 10.00474601s : 300 calls. qps=29.98576872417774
04:39:33 I periodic.go:533> T001 ended after 10.004780448s : 300 calls. qps=29.98566550852911
Ended after 10.004819096s : 1200 calls. qps=119.94
Sleep times : count 1196 avg 0.03064991 +/- 0.0006536 min 0.025810882 max 0.031855248 sum 36.6572922
Aggregated Function Time : count 1200 avg 0.0023657142 +/- 0.0006116 min 0.001243582 max 0.007357828 sum 2.83885698
# range, mid point, percentile, count
>= 0.00124358 <= 0.0014 , 0.00132179 , 0.58, 7
> 0.0014 <= 0.0016 , 0.0015 , 6.50, 71
> 0.0016 <= 0.0018 , 0.0017 , 15.33, 106
> 0.0018 <= 0.002 , 0.0019 , 22.50, 86
> 0.002 <= 0.0025 , 0.00225 , 67.17, 536
> 0.0025 <= 0.003 , 0.00275 , 93.42, 315
> 0.003 <= 0.0035 , 0.00325 , 96.67, 39
> 0.0035 <= 0.004 , 0.00375 , 98.00, 16
> 0.004 <= 0.0045 , 0.00425 , 98.67, 8
> 0.0045 <= 0.005 , 0.00475 , 99.17, 6
> 0.005 <= 0.006 , 0.0055 , 99.67, 6
> 0.006 <= 0.007 , 0.0065 , 99.75, 1
> 0.007 <= 0.00735783 , 0.00717891 , 100.00, 3
# target 50% 0.00230784
# target 75% 0.00264921
# target 90% 0.00293492
# target 99% 0.00483333
# target 99.9% 0.0072147
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 2.366 ms avg, 119.9 qps
Successfully wrote 2678 bytes of Json data to /data/2018-11-19-043923_grpc_istio_120qps_10s_echo_1_4.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
04:39:33 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 120.0 qps
04:39:33 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:39:43 I periodic.go:533> T000 ended after 10.001020178s : 300 calls. qps=29.9969397781971
04:39:43 I periodic.go:533> T001 ended after 10.001084388s : 300 calls. qps=29.99674718873095
04:39:43 I periodic.go:533> T003 ended after 10.001097705s : 300 calls. qps=29.996707246447205
04:39:43 I periodic.go:533> T002 ended after 10.001109003s : 300 calls. qps=29.99667335992538
Ended after 10.001120273s : 1200 calls. qps=119.99
Sleep times : count 1196 avg 0.032389239 +/- 0.000334 min 0.028673381 max 0.032978694 sum 38.7375296
Aggregated Function Time : count 1200 avg 0.00068900855 +/- 0.0003142 min 0.000255829 max 0.00454339 sum 0.826810263
# range, mid point, percentile, count
>= 0.000255829 <= 0.0003 , 0.000277915 , 0.25, 3
> 0.0003 <= 0.0004 , 0.00035 , 1.17, 11
> 0.0004 <= 0.0005 , 0.00045 , 11.17, 120
> 0.0005 <= 0.0006 , 0.00055 , 36.17, 300
> 0.0006 <= 0.0007 , 0.00065 , 64.17, 336
> 0.0007 <= 0.0008 , 0.00075 , 83.17, 228
> 0.0008 <= 0.0009 , 0.00085 , 91.92, 105
> 0.0009 <= 0.001 , 0.00095 , 95.83, 47
> 0.001 <= 0.0011 , 0.00105 , 97.67, 22
> 0.0011 <= 0.0012 , 0.00115 , 98.75, 13
> 0.0012 <= 0.0014 , 0.0013 , 99.25, 6
> 0.0014 <= 0.0016 , 0.0015 , 99.33, 1
> 0.003 <= 0.0035 , 0.00325 , 99.58, 3
> 0.0035 <= 0.004 , 0.00375 , 99.67, 1
> 0.004 <= 0.0045 , 0.00425 , 99.92, 3
> 0.0045 <= 0.00454339 , 0.0045217 , 100.00, 1
# target 50% 0.000649405
# target 75% 0.000757018
# target 90% 0.000878095
# target 99% 0.0013
# target 99.9% 0.00446667
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
Response Body/Total Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
All done 1200 calls (plus 4 warmup) 0.689 ms avg, 120.0 qps
Successfully wrote 3688 bytes of Json data to /data/2018-11-19-043933_http_baseline_120qps_10s_echo_0_5.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
04:39:43 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 120.0 qps
04:39:43 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:39:53 I periodic.go:533> T001 ended after 10.00122956s : 300 calls. qps=29.996311773489577
04:39:53 I periodic.go:533> T000 ended after 10.001308296s : 300 calls. qps=29.996075625424357
04:39:53 I periodic.go:533> T003 ended after 10.001327488s : 300 calls. qps=29.99601806459715
04:39:53 I periodic.go:533> T002 ended after 10.001349384s : 300 calls. qps=29.995952394177458
Ended after 10.001363284s : 1200 calls. qps=119.98
Sleep times : count 1196 avg 0.031954635 +/- 0.0003555 min 0.028421594 max 0.032791514 sum 38.2177432
Aggregated Function Time : count 1200 avg 0.0011511472 +/- 0.0002728 min 0.000587207 max 0.003759966 sum 1.38137666
# range, mid point, percentile, count
>= 0.000587207 <= 0.0006 , 0.000593604 , 0.25, 3
> 0.0006 <= 0.0007 , 0.00065 , 0.33, 1
> 0.0008 <= 0.0009 , 0.00085 , 2.42, 25
> 0.0009 <= 0.001 , 0.00095 , 13.58, 134
> 0.001 <= 0.0011 , 0.00105 , 48.42, 418
> 0.0011 <= 0.0012 , 0.00115 , 77.50, 349
> 0.0012 <= 0.0014 , 0.0013 , 94.50, 204
> 0.0014 <= 0.0016 , 0.0015 , 97.17, 32
> 0.0016 <= 0.0018 , 0.0017 , 97.75, 7
> 0.0018 <= 0.002 , 0.0019 , 98.33, 7
> 0.002 <= 0.0025 , 0.00225 , 98.92, 7
> 0.0025 <= 0.003 , 0.00275 , 99.33, 5
> 0.003 <= 0.0035 , 0.00325 , 99.75, 5
> 0.0035 <= 0.00375997 , 0.00362998 , 100.00, 3
# target 50% 0.00110544
# target 75% 0.0011914
# target 90% 0.00134706
# target 99% 0.0026
# target 99.9% 0.00365598
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
Response Body/Total Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
All done 1200 calls (plus 4 warmup) 1.151 ms avg, 120.0 qps
Successfully wrote 3396 bytes of Json data to /data/2018-11-19-043943_http_linkerd_120qps_10s_echo_0_5.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
04:39:54 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 120.0 qps
04:39:54 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:40:04 I periodic.go:533> T002 ended after 10.002144425s : 300 calls. qps=29.9935681042718
04:40:04 I periodic.go:533> T000 ended after 10.002688484s : 300 calls. qps=29.991936715801057
04:40:04 I periodic.go:533> T003 ended after 10.003416664s : 300 calls. qps=29.989753508881734
04:40:04 I periodic.go:533> T001 ended after 10.00495131s : 300 calls. qps=29.98515342100151
Ended after 10.004981394s : 1200 calls. qps=119.94
Sleep times : count 1196 avg 0.031245389 +/- 0.0005316 min 0.027316321 max 0.032838136 sum 37.3694858
Aggregated Function Time : count 1200 avg 0.0018750135 +/- 0.0005329 min 0.000560884 max 0.005913037 sum 2.25001619
# range, mid point, percentile, count
>= 0.000560884 <= 0.0006 , 0.000580442 , 0.08, 1
> 0.0011 <= 0.0012 , 0.00115 , 0.17, 1
> 0.0012 <= 0.0014 , 0.0013 , 0.92, 9
> 0.0014 <= 0.0016 , 0.0015 , 12.83, 143
> 0.0016 <= 0.0018 , 0.0017 , 58.42, 547
> 0.0018 <= 0.002 , 0.0019 , 87.33, 347
> 0.002 <= 0.0025 , 0.00225 , 95.33, 96
> 0.0025 <= 0.003 , 0.00275 , 96.17, 10
> 0.003 <= 0.0035 , 0.00325 , 96.58, 5
> 0.0035 <= 0.004 , 0.00375 , 97.75, 14
> 0.004 <= 0.0045 , 0.00425 , 98.92, 14
> 0.0045 <= 0.005 , 0.00475 , 99.33, 5
> 0.005 <= 0.00591304 , 0.00545652 , 100.00, 8
# target 50% 0.00176307
# target 75% 0.0019147
# target 90% 0.00216667
# target 99% 0.0046
# target 99.9% 0.00577608
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 209 +/- 0 min 209 max 209 sum 250800
Response Body/Total Sizes : count 1200 avg 209 +/- 0 min 209 max 209 sum 250800
All done 1200 calls (plus 4 warmup) 1.875 ms avg, 119.9 qps
Successfully wrote 3319 bytes of Json data to /data/2018-11-19-043954_http_istio_120qps_10s_echo_0_5.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
04:40:04 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:40:14 I periodic.go:533> T002 ended after 10.001473972s : 300 calls. qps=29.99557873568198
04:40:14 I periodic.go:533> T003 ended after 10.004120259s : 300 calls. qps=29.9876443138627
04:40:14 I periodic.go:533> T000 ended after 10.004191693s : 300 calls. qps=29.987430189878513
04:40:14 I periodic.go:533> T001 ended after 10.004242074s : 300 calls. qps=29.98727917426841
Ended after 10.004256007s : 1200 calls. qps=119.95
Sleep times : count 1196 avg 0.032002128 +/- 0.0003021 min 0.028975215 max 0.032385918 sum 38.274545
Aggregated Function Time : count 1200 avg 0.0010711477 +/- 0.0002427 min 0.000644177 max 0.004280401 sum 1.28537721
# range, mid point, percentile, count
>= 0.000644177 <= 0.0007 , 0.000672089 , 0.25, 3
> 0.0007 <= 0.0008 , 0.00075 , 1.58, 16
> 0.0008 <= 0.0009 , 0.00085 , 10.00, 101
> 0.0009 <= 0.001 , 0.00095 , 37.08, 325
> 0.001 <= 0.0011 , 0.00105 , 68.42, 376
> 0.0011 <= 0.0012 , 0.00115 , 86.17, 213
> 0.0012 <= 0.0014 , 0.0013 , 97.33, 134
> 0.0014 <= 0.0016 , 0.0015 , 98.25, 11
> 0.0016 <= 0.0018 , 0.0017 , 98.50, 3
> 0.0018 <= 0.002 , 0.0019 , 98.58, 1
> 0.002 <= 0.0025 , 0.00225 , 99.67, 13
> 0.0035 <= 0.004 , 0.00375 , 99.92, 3
> 0.004 <= 0.0042804 , 0.0041402 , 100.00, 1
# target 50% 0.00104122
# target 75% 0.00113709
# target 90% 0.00126866
# target 99% 0.00219231
# target 99.9% 0.00396667
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 1.071 ms avg, 119.9 qps
Successfully wrote 2723 bytes of Json data to /data/2018-11-19-044004_grpc_baseline_120qps_10s_echo_0_5.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
04:40:14 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:40:24 I periodic.go:533> T003 ended after 10.001818962s : 300 calls. qps=29.994544106406313
04:40:24 I periodic.go:533> T002 ended after 10.002499381s : 300 calls. qps=29.99250373060333
04:40:24 I periodic.go:533> T000 ended after 10.002657121s : 300 calls. qps=29.99203075452495
04:40:24 I periodic.go:533> T001 ended after 10.00269099s : 300 calls. qps=29.991929201843714
Ended after 10.002785061s : 1200 calls. qps=119.97
Sleep times : count 1196 avg 0.031407285 +/- 0.0005828 min 0.026883394 max 0.032064142 sum 37.5631126
Aggregated Function Time : count 1200 avg 0.0016738297 +/- 0.0004992 min 0.001104109 max 0.006269007 sum 2.00859569
# range, mid point, percentile, count
>= 0.00110411 <= 0.0012 , 0.00115205 , 1.08, 13
> 0.0012 <= 0.0014 , 0.0013 , 13.92, 154
> 0.0014 <= 0.0016 , 0.0015 , 51.92, 456
> 0.0016 <= 0.0018 , 0.0017 , 83.00, 373
> 0.0018 <= 0.002 , 0.0019 , 92.75, 117
> 0.002 <= 0.0025 , 0.00225 , 96.33, 43
> 0.0025 <= 0.003 , 0.00275 , 98.00, 20
> 0.003 <= 0.0035 , 0.00325 , 98.67, 8
> 0.0035 <= 0.004 , 0.00375 , 98.92, 3
> 0.004 <= 0.0045 , 0.00425 , 99.00, 1
> 0.0045 <= 0.005 , 0.00475 , 99.08, 1
> 0.005 <= 0.006 , 0.0055 , 99.75, 8
> 0.006 <= 0.00626901 , 0.0061345 , 100.00, 3
# target 50% 0.00158991
# target 75% 0.00174853
# target 90% 0.00194359
# target 99% 0.0045
# target 99.9% 0.0061614
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 1.674 ms avg, 120.0 qps
Successfully wrote 2695 bytes of Json data to /data/2018-11-19-044014_grpc_linkerd_120qps_10s_echo_0_5.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8079
04:40:24 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:40:34 I periodic.go:533> T003 ended after 10.001966092s : 300 calls. qps=29.99410288342737
04:40:34 I periodic.go:533> T000 ended after 10.004450286s : 300 calls. qps=29.986655080870676
04:40:34 I periodic.go:533> T001 ended after 10.004606851s : 300 calls. qps=29.986185810991046
04:40:34 I periodic.go:533> T002 ended after 10.004624775s : 300 calls. qps=29.986132088596996
Ended after 10.006042105s : 1200 calls. qps=119.93
Sleep times : count 1196 avg 0.030758249 +/- 0.0006785 min 0.025919665 max 0.031734737 sum 36.7868656
Aggregated Function Time : count 1200 avg 0.0023238267 +/- 0.0006755 min 0.001290048 max 0.007223841 sum 2.78859205
# range, mid point, percentile, count
>= 0.00129005 <= 0.0014 , 0.00134502 , 0.08, 1
> 0.0014 <= 0.0016 , 0.0015 , 8.50, 101
> 0.0016 <= 0.0018 , 0.0017 , 19.50, 132
> 0.0018 <= 0.002 , 0.0019 , 24.08, 55
> 0.002 <= 0.0025 , 0.00225 , 77.75, 644
> 0.0025 <= 0.003 , 0.00275 , 93.75, 192
> 0.003 <= 0.0035 , 0.00325 , 95.67, 23
> 0.0035 <= 0.004 , 0.00375 , 96.92, 15
> 0.004 <= 0.0045 , 0.00425 , 97.83, 11
> 0.0045 <= 0.005 , 0.00475 , 98.50, 8
> 0.005 <= 0.006 , 0.0055 , 99.17, 8
> 0.006 <= 0.007 , 0.0065 , 99.75, 7
> 0.007 <= 0.00722384 , 0.00711192 , 100.00, 3
# target 50% 0.00224146
# target 75% 0.00247438
# target 90% 0.00288281
# target 99% 0.00575
# target 99.9% 0.0071343
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 2.324 ms avg, 119.9 qps
Successfully wrote 2650 bytes of Json data to /data/2018-11-19-044024_grpc_istio_120qps_10s_echo_0_5.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
04:40:34 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 120.0 qps
04:40:34 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:40:44 I periodic.go:533> T000 ended after 10.000973515s : 300 calls. qps=29.99707973929176
04:40:44 I periodic.go:533> T001 ended after 10.001040012s : 300 calls. qps=29.99688028845374
04:40:44 I periodic.go:533> T003 ended after 10.001055603s : 300 calls. qps=29.996833525254026
04:40:44 I periodic.go:533> T002 ended after 10.001066387s : 300 calls. qps=29.996801180117995
Ended after 10.001078364s : 1200 calls. qps=119.99
Sleep times : count 1196 avg 0.032514625 +/- 0.0001816 min 0.030912922 max 0.032820219 sum 38.887491
Aggregated Function Time : count 1200 avg 0.0006072382 +/- 0.0001366 min 0.000264935 max 0.00187996 sum 0.728685842
# range, mid point, percentile, count
>= 0.000264935 <= 0.0003 , 0.000282468 , 0.25, 3
> 0.0003 <= 0.0004 , 0.00035 , 2.42, 26
> 0.0004 <= 0.0005 , 0.00045 , 17.50, 181
> 0.0005 <= 0.0006 , 0.00055 , 56.42, 467
> 0.0006 <= 0.0007 , 0.00065 , 81.33, 299
> 0.0007 <= 0.0008 , 0.00075 , 93.58, 147
> 0.0008 <= 0.0009 , 0.00085 , 97.17, 43
> 0.0009 <= 0.001 , 0.00095 , 98.67, 18
> 0.001 <= 0.0011 , 0.00105 , 99.08, 5
> 0.0011 <= 0.0012 , 0.00115 , 99.42, 4
> 0.0012 <= 0.0014 , 0.0013 , 99.67, 3
> 0.0014 <= 0.0016 , 0.0015 , 99.92, 3
> 0.0018 <= 0.00187996 , 0.00183998 , 100.00, 1
# target 50% 0.000583512
# target 75% 0.000674582
# target 90% 0.000770748
# target 99% 0.00108
# target 99.9% 0.00158667
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
Response Body/Total Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
All done 1200 calls (plus 4 warmup) 0.607 ms avg, 120.0 qps
Successfully wrote 3326 bytes of Json data to /data/2018-11-19-044034_http_baseline_120qps_10s_echo_1_5.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
04:40:44 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 120.0 qps
04:40:44 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:40:54 I periodic.go:533> T002 ended after 10.001419598s : 300 calls. qps=29.99574181049173
04:40:54 I periodic.go:533> T001 ended after 10.002035902s : 300 calls. qps=29.993893537215982
04:40:54 I periodic.go:533> T000 ended after 10.002158488s : 300 calls. qps=29.993525933419505
04:40:54 I periodic.go:533> T003 ended after 10.002232324s : 300 calls. qps=29.99330452264748
Ended after 10.002254239s : 1200 calls. qps=119.97
Sleep times : count 1196 avg 0.031940157 +/- 0.0003779 min 0.028197463 max 0.032548566 sum 38.2004272
Aggregated Function Time : count 1200 avg 0.00118303 +/- 0.0003587 min 0.000830177 max 0.00500974 sum 1.41963597
# range, mid point, percentile, count
>= 0.000830177 <= 0.0009 , 0.000865089 , 0.17, 2
> 0.0009 <= 0.001 , 0.00095 , 6.58, 77
> 0.001 <= 0.0011 , 0.00105 , 41.92, 424
> 0.0011 <= 0.0012 , 0.00115 , 76.25, 412
> 0.0012 <= 0.0014 , 0.0013 , 94.67, 221
> 0.0014 <= 0.0016 , 0.0015 , 96.08, 17
> 0.0016 <= 0.0018 , 0.0017 , 96.67, 7
> 0.0018 <= 0.002 , 0.0019 , 97.75, 13
> 0.002 <= 0.0025 , 0.00225 , 98.42, 8
> 0.0025 <= 0.003 , 0.00275 , 99.33, 11
> 0.004 <= 0.0045 , 0.00425 , 99.58, 3
> 0.0045 <= 0.005 , 0.00475 , 99.92, 4
> 0.005 <= 0.00500974 , 0.00500487 , 100.00, 1
# target 50% 0.00112354
# target 75% 0.00119636
# target 90% 0.00134932
# target 99% 0.00281818
# target 99.9% 0.004975
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
Response Body/Total Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
All done 1200 calls (plus 4 warmup) 1.183 ms avg, 120.0 qps
Successfully wrote 3301 bytes of Json data to /data/2018-11-19-044044_http_linkerd_120qps_10s_echo_1_5.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
04:40:54 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 120.0 qps
04:40:54 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:41:04 I periodic.go:533> T000 ended after 10.002108034s : 300 calls. qps=29.99367723086123
04:41:04 I periodic.go:533> T002 ended after 10.002491265s : 300 calls. qps=29.992528066456654
04:41:04 I periodic.go:533> T001 ended after 10.003213754s : 300 calls. qps=29.990361835468978
04:41:04 I periodic.go:533> T003 ended after 10.003242068s : 300 calls. qps=29.990276948279483
Ended after 10.003256295s : 1200 calls. qps=119.96
Sleep times : count 1196 avg 0.031395305 +/- 0.0004664 min 0.027764681 max 0.032374793 sum 37.5487844
Aggregated Function Time : count 1200 avg 0.001732675 +/- 0.0004161 min 0.000874566 max 0.005427872 sum 2.07920997
# range, mid point, percentile, count
>= 0.000874566 <= 0.0009 , 0.000887283 , 0.08, 1
> 0.0011 <= 0.0012 , 0.00115 , 0.17, 1
> 0.0012 <= 0.0014 , 0.0013 , 4.33, 50
> 0.0014 <= 0.0016 , 0.0015 , 40.92, 439
> 0.0016 <= 0.0018 , 0.0017 , 76.33, 425
> 0.0018 <= 0.002 , 0.0019 , 90.17, 166
> 0.002 <= 0.0025 , 0.00225 , 96.25, 73
> 0.0025 <= 0.003 , 0.00275 , 97.08, 10
> 0.003 <= 0.0035 , 0.00325 , 98.33, 15
> 0.0035 <= 0.004 , 0.00375 , 99.67, 16
> 0.005 <= 0.00542787 , 0.00521394 , 100.00, 4
# target 50% 0.00165129
# target 75% 0.00179247
# target 90% 0.00199759
# target 99% 0.00375
# target 99.9% 0.00529951
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 209 +/- 0 min 209 max 209 sum 250800
Response Body/Total Sizes : count 1200 avg 209 +/- 0 min 209 max 209 sum 250800
All done 1200 calls (plus 4 warmup) 1.733 ms avg, 120.0 qps
Successfully wrote 3033 bytes of Json data to /data/2018-11-19-044054_http_istio_120qps_10s_echo_1_5.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
04:41:04 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:41:14 I periodic.go:533> T003 ended after 10.001347105s : 300 calls. qps=29.995959229334236
04:41:14 I periodic.go:533> T001 ended after 10.00183573s : 300 calls. qps=29.994493820785838
04:41:14 I periodic.go:533> T000 ended after 10.004108628s : 300 calls. qps=29.987679178167358
04:41:14 I periodic.go:533> T002 ended after 10.004145302s : 300 calls. qps=29.98756924692256
Ended after 10.004178298s : 1200 calls. qps=119.95
Sleep times : count 1196 avg 0.031999253 +/- 0.0003595 min 0.028336513 max 0.032662863 sum 38.271107
Aggregated Function Time : count 1200 avg 0.0010797258 +/- 0.0002667 min 0.000564099 max 0.003978129 sum 1.29567101
# range, mid point, percentile, count
>= 0.000564099 <= 0.0006 , 0.00058205 , 0.42, 5
> 0.0006 <= 0.0007 , 0.00065 , 0.75, 4
> 0.0007 <= 0.0008 , 0.00075 , 2.00, 15
> 0.0008 <= 0.0009 , 0.00085 , 10.67, 104
> 0.0009 <= 0.001 , 0.00095 , 38.17, 330
> 0.001 <= 0.0011 , 0.00105 , 67.50, 352
> 0.0011 <= 0.0012 , 0.00115 , 84.00, 198
> 0.0012 <= 0.0014 , 0.0013 , 95.92, 143
> 0.0014 <= 0.0016 , 0.0015 , 97.58, 20
> 0.0016 <= 0.0018 , 0.0017 , 98.17, 7
> 0.0018 <= 0.002 , 0.0019 , 98.92, 9
> 0.002 <= 0.0025 , 0.00225 , 99.33, 5
> 0.0025 <= 0.003 , 0.00275 , 99.50, 2
> 0.003 <= 0.0035 , 0.00325 , 99.67, 2
> 0.0035 <= 0.00397813 , 0.00373906 , 100.00, 4
# target 50% 0.00104034
# target 75% 0.00114545
# target 90% 0.0013007
# target 99% 0.0021
# target 99.9% 0.00383469
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 1.080 ms avg, 119.9 qps
Successfully wrote 2984 bytes of Json data to /data/2018-11-19-044104_grpc_baseline_120qps_10s_echo_1_5.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
04:41:14 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:41:24 I periodic.go:533> T000 ended after 10.001949182s : 300 calls. qps=29.994153593571017
04:41:24 I periodic.go:533> T001 ended after 10.002673198s : 300 calls. qps=29.991982549223337
04:41:24 I periodic.go:533> T002 ended after 10.00287286s : 300 calls. qps=29.99138389528626
04:41:24 I periodic.go:533> T003 ended after 10.002952065s : 300 calls. qps=29.991146418634766
Ended after 10.002987926s : 1200 calls. qps=119.96
Sleep times : count 1196 avg 0.031295815 +/- 0.001784 min 0.008356774 max 0.031959977 sum 37.4297953
Aggregated Function Time : count 1200 avg 0.001739613 +/- 0.001187 min 0.001076606 max 0.021150867 sum 2.08753565
# range, mid point, percentile, count
>= 0.00107661 <= 0.0011 , 0.0010883 , 0.08, 1
> 0.0011 <= 0.0012 , 0.00115 , 0.25, 2
> 0.0012 <= 0.0014 , 0.0013 , 7.00, 81
> 0.0014 <= 0.0016 , 0.0015 , 48.67, 500
> 0.0016 <= 0.0018 , 0.0017 , 82.33, 404
> 0.0018 <= 0.002 , 0.0019 , 93.58, 135
> 0.002 <= 0.0025 , 0.00225 , 96.75, 38
> 0.0025 <= 0.003 , 0.00275 , 98.58, 22
> 0.003 <= 0.0035 , 0.00325 , 99.17, 7
> 0.0035 <= 0.004 , 0.00375 , 99.25, 1
> 0.004 <= 0.0045 , 0.00425 , 99.33, 1
> 0.006 <= 0.007 , 0.0065 , 99.67, 4
> 0.02 <= 0.0211509 , 0.0205754 , 100.00, 4
# target 50% 0.00160792
# target 75% 0.00175644
# target 90% 0.0019363
# target 99% 0.00335714
# target 99.9% 0.0208056
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 1.740 ms avg, 120.0 qps
Successfully wrote 2693 bytes of Json data to /data/2018-11-19-044114_grpc_linkerd_120qps_10s_echo_1_5.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8079
04:41:24 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:41:34 I periodic.go:533> T001 ended after 10.001988373s : 300 calls. qps=29.994036066852367
04:41:34 I periodic.go:533> T002 ended after 10.002659742s : 300 calls. qps=29.992022895703933
04:41:34 I periodic.go:533> T000 ended after 10.006605507s : 300 calls. qps=29.98019656017604
04:41:34 I periodic.go:533> T003 ended after 10.00664766s : 300 calls. qps=29.980070268607818
Ended after 10.006660858s : 1200 calls. qps=119.92
Sleep times : count 1196 avg 0.031057313 +/- 0.0005566 min 0.027314511 max 0.032093385 sum 37.1445459
Aggregated Function Time : count 1200 avg 0.0020521455 +/- 0.0005817 min 0.001093497 max 0.006438422 sum 2.46257457
# range, mid point, percentile, count
>= 0.0010935 <= 0.0011 , 0.00109675 , 0.08, 1
> 0.0011 <= 0.0012 , 0.00115 , 1.08, 12
> 0.0012 <= 0.0014 , 0.0013 , 10.92, 118
> 0.0014 <= 0.0016 , 0.0015 , 21.33, 125
> 0.0016 <= 0.0018 , 0.0017 , 25.17, 46
> 0.0018 <= 0.002 , 0.0019 , 43.42, 219
> 0.002 <= 0.0025 , 0.00225 , 90.17, 561
> 0.0025 <= 0.003 , 0.00275 , 95.58, 65
> 0.003 <= 0.0035 , 0.00325 , 97.50, 23
> 0.0035 <= 0.004 , 0.00375 , 98.33, 10
> 0.004 <= 0.0045 , 0.00425 , 99.17, 10
> 0.0045 <= 0.005 , 0.00475 , 99.25, 1
> 0.005 <= 0.006 , 0.0055 , 99.83, 7
> 0.006 <= 0.00643842 , 0.00621921 , 100.00, 2
# target 50% 0.00207041
# target 75% 0.00233779
# target 90% 0.00249822
# target 99% 0.0044
# target 99.9% 0.00617537
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 2.052 ms avg, 119.9 qps
Successfully wrote 2857 bytes of Json data to /data/2018-11-19-044124_grpc_istio_120qps_10s_echo_1_5.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
04:41:34 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 120.0 qps
04:41:34 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:41:44 I periodic.go:533> T002 ended after 10.000979018s : 300 calls. qps=29.997063233514723
04:41:44 I periodic.go:533> T003 ended after 10.001382389s : 300 calls. qps=29.995853406220565
04:41:44 I periodic.go:533> T000 ended after 10.003372141s : 300 calls. qps=29.989886987250493
04:41:44 I periodic.go:533> T001 ended after 10.003405285s : 300 calls. qps=29.989787622605558
Ended after 10.00342929s : 1200 calls. qps=119.96
Sleep times : count 1196 avg 0.032538519 +/- 0.000228 min 0.030317805 max 0.032990688 sum 38.9160684
Aggregated Function Time : count 1200 avg 0.00056560074 +/- 0.0002216 min 0.000238918 max 0.003039443 sum 0.67872089
# range, mid point, percentile, count
>= 0.000238918 <= 0.0003 , 0.000269459 , 0.50, 6
> 0.0003 <= 0.0004 , 0.00035 , 7.17, 80
> 0.0004 <= 0.0005 , 0.00045 , 36.75, 355
> 0.0005 <= 0.0006 , 0.00055 , 71.00, 411
> 0.0006 <= 0.0007 , 0.00065 , 90.00, 228
> 0.0007 <= 0.0008 , 0.00075 , 95.83, 70
> 0.0008 <= 0.0009 , 0.00085 , 97.92, 25
> 0.0009 <= 0.001 , 0.00095 , 98.50, 7
> 0.001 <= 0.0011 , 0.00105 , 98.67, 2
> 0.0011 <= 0.0012 , 0.00115 , 98.75, 1
> 0.0014 <= 0.0016 , 0.0015 , 99.08, 4
> 0.0016 <= 0.0018 , 0.0017 , 99.17, 1
> 0.0018 <= 0.002 , 0.0019 , 99.33, 2
> 0.002 <= 0.0025 , 0.00225 , 99.50, 2
> 0.0025 <= 0.003 , 0.00275 , 99.83, 4
> 0.003 <= 0.00303944 , 0.00301972 , 100.00, 2
# target 50% 0.000538686
# target 75% 0.000621053
# target 90% 0.0007
# target 99% 0.00155
# target 99.9% 0.00301578
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
Response Body/Total Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
All done 1200 calls (plus 4 warmup) 0.566 ms avg, 120.0 qps
Successfully wrote 3602 bytes of Json data to /data/2018-11-19-044134_http_baseline_120qps_10s_echo_0_6.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
04:41:44 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 120.0 qps
04:41:44 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:41:54 I periodic.go:533> T001 ended after 10.001341817s : 300 calls. qps=29.99597508906939
04:41:54 I periodic.go:533> T000 ended after 10.001395742s : 300 calls. qps=29.99581335834716
04:41:54 I periodic.go:533> T002 ended after 10.001408119s : 300 calls. qps=29.995776237755987
04:41:54 I periodic.go:533> T003 ended after 10.001420832s : 300 calls. qps=29.99573810954303
Ended after 10.001432369s : 1200 calls. qps=119.98
Sleep times : count 1196 avg 0.031891533 +/- 0.0003091 min 0.028799434 max 0.032180767 sum 38.1422731
Aggregated Function Time : count 1200 avg 0.0012217131 +/- 0.0002427 min 0.000946914 max 0.003044104 sum 1.4660557
# range, mid point, percentile, count
>= 0.000946914 <= 0.001 , 0.000973457 , 1.17, 14
> 0.001 <= 0.0011 , 0.00105 , 21.42, 243
> 0.0011 <= 0.0012 , 0.00115 , 60.83, 473
> 0.0012 <= 0.0014 , 0.0013 , 92.42, 379
> 0.0014 <= 0.0016 , 0.0015 , 96.08, 44
> 0.0016 <= 0.0018 , 0.0017 , 96.58, 6
> 0.0018 <= 0.002 , 0.0019 , 97.25, 8
> 0.002 <= 0.0025 , 0.00225 , 99.00, 21
> 0.0025 <= 0.003 , 0.00275 , 99.92, 11
> 0.003 <= 0.0030441 , 0.00302205 , 100.00, 1
# target 50% 0.00117252
# target 75% 0.00128971
# target 90% 0.0013847
# target 99% 0.0025
# target 99.9% 0.00299091
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
Response Body/Total Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
All done 1200 calls (plus 4 warmup) 1.222 ms avg, 120.0 qps
Successfully wrote 2862 bytes of Json data to /data/2018-11-19-044144_http_linkerd_120qps_10s_echo_0_6.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
04:41:54 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 120.0 qps
04:41:54 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:42:04 I periodic.go:533> T003 ended after 10.002032489s : 300 calls. qps=29.993903772051627
04:42:04 I periodic.go:533> T002 ended after 10.002456371s : 300 calls. qps=29.992632696683025
04:42:04 I periodic.go:533> T001 ended after 10.004498827s : 300 calls. qps=29.986509588102926
04:42:04 I periodic.go:533> T000 ended after 10.0045581s : 300 calls. qps=29.986331930042965
Ended after 10.004574484s : 1200 calls. qps=119.95
Sleep times : count 1196 avg 0.031218692 +/- 0.0004819 min 0.027373279 max 0.032309086 sum 37.3375561
Aggregated Function Time : count 1200 avg 0.001888212 +/- 0.0004793 min 0.00086015 max 0.005769869 sum 2.26585441
# range, mid point, percentile, count
>= 0.00086015 <= 0.0009 , 0.000880075 , 0.08, 1
> 0.001 <= 0.0011 , 0.00105 , 0.17, 1
> 0.0012 <= 0.0014 , 0.0013 , 0.58, 5
> 0.0014 <= 0.0016 , 0.0015 , 12.75, 146
> 0.0016 <= 0.0018 , 0.0017 , 47.75, 420
> 0.0018 <= 0.002 , 0.0019 , 82.17, 413
> 0.002 <= 0.0025 , 0.00225 , 96.50, 172
> 0.0025 <= 0.003 , 0.00275 , 97.17, 8
> 0.003 <= 0.0035 , 0.00325 , 97.58, 5
> 0.0035 <= 0.004 , 0.00375 , 98.58, 12
> 0.004 <= 0.0045 , 0.00425 , 99.00, 5
> 0.0045 <= 0.005 , 0.00475 , 99.17, 2
> 0.005 <= 0.00576987 , 0.00538493 , 100.00, 10
# target 50% 0.00181308
# target 75% 0.00195835
# target 90% 0.00227326
# target 99% 0.0045
# target 99.9% 0.00567748
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 209 +/- 0 min 209 max 209 sum 250800
Response Body/Total Sizes : count 1200 avg 209 +/- 0 min 209 max 209 sum 250800
All done 1200 calls (plus 4 warmup) 1.888 ms avg, 119.9 qps
Successfully wrote 3260 bytes of Json data to /data/2018-11-19-044154_http_istio_120qps_10s_echo_0_6.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
04:42:04 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:42:14 I periodic.go:533> T002 ended after 10.001324898s : 300 calls. qps=29.996025832536652
04:42:14 I periodic.go:533> T003 ended after 10.001521958s : 300 calls. qps=29.9954348208011
04:42:14 I periodic.go:533> T001 ended after 10.001549921s : 300 calls. qps=29.99535095756485
04:42:14 I periodic.go:533> T000 ended after 10.001577083s : 300 calls. qps=29.995269497039576
Ended after 10.001589321s : 1200 calls. qps=119.98
Sleep times : count 1196 avg 0.032009681 +/- 0.000317 min 0.02858303 max 0.032484249 sum 38.2835785
Aggregated Function Time : count 1200 avg 0.0010745544 +/- 0.0002149 min 0.000633222 max 0.003148325 sum 1.28946526
# range, mid point, percentile, count
>= 0.000633222 <= 0.0007 , 0.000666611 , 0.42, 5
> 0.0007 <= 0.0008 , 0.00075 , 1.50, 13
> 0.0008 <= 0.0009 , 0.00085 , 8.92, 89
> 0.0009 <= 0.001 , 0.00095 , 38.25, 352
> 0.001 <= 0.0011 , 0.00105 , 69.33, 373
> 0.0011 <= 0.0012 , 0.00115 , 84.50, 182
> 0.0012 <= 0.0014 , 0.0013 , 95.83, 136
> 0.0014 <= 0.0016 , 0.0015 , 97.25, 17
> 0.0016 <= 0.0018 , 0.0017 , 97.83, 7
> 0.0018 <= 0.002 , 0.0019 , 98.42, 7
> 0.002 <= 0.0025 , 0.00225 , 99.83, 17
> 0.0025 <= 0.003 , 0.00275 , 99.92, 1
> 0.003 <= 0.00314832 , 0.00307416 , 100.00, 1
# target 50% 0.0010378
# target 75% 0.00113736
# target 90% 0.00129706
# target 99% 0.00220588
# target 99.9% 0.0029
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 1.075 ms avg, 120.0 qps
Successfully wrote 2727 bytes of Json data to /data/2018-11-19-044204_grpc_baseline_120qps_10s_echo_0_6.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
04:42:14 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:42:24 I periodic.go:533> T002 ended after 10.001810203s : 300 calls. qps=29.994570373872552
04:42:24 I periodic.go:533> T000 ended after 10.001928455s : 300 calls. qps=29.994215750466495
04:42:24 I periodic.go:533> T003 ended after 10.001942552s : 300 calls. qps=29.99417347583262
04:42:24 I periodic.go:533> T001 ended after 10.001954003s : 300 calls. qps=29.994139136214542
Ended after 10.001965864s : 1200 calls. qps=119.98
Sleep times : count 1196 avg 0.031355029 +/- 0.0006254 min 0.022847303 max 0.031890302 sum 37.5006145
Aggregated Function Time : count 1200 avg 0.0017009352 +/- 0.0003865 min 0.001080946 max 0.007835002 sum 2.04112228
# range, mid point, percentile, count
>= 0.00108095 <= 0.0011 , 0.00109047 , 0.08, 1
> 0.0011 <= 0.0012 , 0.00115 , 0.17, 1
> 0.0012 <= 0.0014 , 0.0013 , 5.83, 68
> 0.0014 <= 0.0016 , 0.0015 , 41.50, 428
> 0.0016 <= 0.0018 , 0.0017 , 80.75, 471
> 0.0018 <= 0.002 , 0.0019 , 93.42, 152
> 0.002 <= 0.0025 , 0.00225 , 96.50, 37
> 0.0025 <= 0.003 , 0.00275 , 98.33, 22
> 0.003 <= 0.0035 , 0.00325 , 99.17, 10
> 0.0035 <= 0.004 , 0.00375 , 99.58, 5
> 0.004 <= 0.0045 , 0.00425 , 99.75, 2
> 0.0045 <= 0.005 , 0.00475 , 99.92, 2
> 0.007 <= 0.007835 , 0.0074175 , 100.00, 1
# target 50% 0.00164331
# target 75% 0.0017707
# target 90% 0.00194605
# target 99% 0.0034
# target 99.9% 0.00495
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 1.701 ms avg, 120.0 qps
Successfully wrote 2723 bytes of Json data to /data/2018-11-19-044214_grpc_linkerd_120qps_10s_echo_0_6.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8079
04:42:24 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:42:34 I periodic.go:533> T001 ended after 10.002042269s : 300 calls. qps=29.99387444400331
04:42:34 I periodic.go:533> T003 ended after 10.002612804s : 300 calls. qps=29.992163635488453
04:42:34 I periodic.go:533> T002 ended after 10.002663383s : 300 calls. qps=29.992011978516064
04:42:34 I periodic.go:533> T000 ended after 10.002762453s : 300 calls. qps=29.991714929711726
Ended after 10.002782451s : 1200 calls. qps=119.97
Sleep times : count 1196 avg 0.030798925 +/- 0.0005675 min 0.026502086 max 0.032074733 sum 36.8355143
Aggregated Function Time : count 1200 avg 0.0022762003 +/- 0.0005803 min 0.001160791 max 0.006753414 sum 2.7314403
# range, mid point, percentile, count
>= 0.00116079 <= 0.0012 , 0.0011804 , 0.08, 1
> 0.0012 <= 0.0014 , 0.0013 , 0.92, 10
> 0.0014 <= 0.0016 , 0.0015 , 8.67, 93
> 0.0016 <= 0.0018 , 0.0017 , 19.58, 131
> 0.0018 <= 0.002 , 0.0019 , 25.75, 74
> 0.002 <= 0.0025 , 0.00225 , 78.17, 629
> 0.0025 <= 0.003 , 0.00275 , 94.58, 197
> 0.003 <= 0.0035 , 0.00325 , 97.17, 31
> 0.0035 <= 0.004 , 0.00375 , 97.67, 6
> 0.004 <= 0.0045 , 0.00425 , 98.08, 5
> 0.0045 <= 0.005 , 0.00475 , 99.33, 15
> 0.005 <= 0.006 , 0.0055 , 99.75, 5
> 0.006 <= 0.00675341 , 0.00637671 , 100.00, 3
# target 50% 0.00223132
# target 75% 0.00246979
# target 90% 0.00286041
# target 99% 0.00486667
# target 99.9% 0.00645205
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 2.276 ms avg, 120.0 qps
Successfully wrote 2743 bytes of Json data to /data/2018-11-19-044224_grpc_istio_120qps_10s_echo_0_6.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
04:42:34 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 120.0 qps
04:42:34 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:42:44 I periodic.go:533> T001 ended after 10.001019119s : 300 calls. qps=29.996942954549308
04:42:44 I periodic.go:533> T002 ended after 10.001110713s : 300 calls. qps=29.99666823106391
04:42:44 I periodic.go:533> T003 ended after 10.001124295s : 300 calls. qps=29.996627494169143
04:42:44 I periodic.go:533> T000 ended after 10.001136779s : 300 calls. qps=29.996590050635884
Ended after 10.001147885s : 1200 calls. qps=119.99
Sleep times : count 1196 avg 0.032492798 +/- 0.0003838 min 0.027857534 max 0.033083947 sum 38.8613858
Aggregated Function Time : count 1200 avg 0.0006074614 +/- 0.0002167 min 0.000150167 max 0.002197928 sum 0.728953681
# range, mid point, percentile, count
>= 0.000150167 <= 0.0002 , 0.000175083 , 0.08, 1
> 0.0002 <= 0.0003 , 0.00025 , 0.17, 1
> 0.0003 <= 0.0004 , 0.00035 , 2.42, 27
> 0.0004 <= 0.0005 , 0.00045 , 21.67, 231
> 0.0005 <= 0.0006 , 0.00055 , 61.00, 472
> 0.0006 <= 0.0007 , 0.00065 , 86.00, 300
> 0.0007 <= 0.0008 , 0.00075 , 94.58, 103
> 0.0008 <= 0.0009 , 0.00085 , 97.00, 29
> 0.0009 <= 0.001 , 0.00095 , 97.25, 3
> 0.0011 <= 0.0012 , 0.00115 , 97.58, 4
> 0.0012 <= 0.0014 , 0.0013 , 97.83, 3
> 0.0014 <= 0.0016 , 0.0015 , 98.17, 4
> 0.0016 <= 0.0018 , 0.0017 , 98.58, 5
> 0.0018 <= 0.002 , 0.0019 , 99.67, 13
> 0.002 <= 0.00219793 , 0.00209896 , 100.00, 4
# target 50% 0.000572034
# target 75% 0.000656
# target 90% 0.000746602
# target 99% 0.00187692
# target 99.9% 0.00213855
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
Response Body/Total Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
All done 1200 calls (plus 4 warmup) 0.607 ms avg, 120.0 qps
Successfully wrote 3555 bytes of Json data to /data/2018-11-19-044234_http_baseline_120qps_10s_echo_1_6.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
04:42:44 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 120.0 qps
04:42:44 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:42:54 I periodic.go:533> T000 ended after 10.001389596s : 300 calls. qps=29.995831791212627
04:42:54 I periodic.go:533> T001 ended after 10.001446834s : 300 calls. qps=29.99566012590774
04:42:54 I periodic.go:533> T003 ended after 10.001460117s : 300 calls. qps=29.99562028848912
04:42:54 I periodic.go:533> T002 ended after 10.001471593s : 300 calls. qps=29.995585870580197
Ended after 10.001483962s : 1200 calls. qps=119.98
Sleep times : count 1196 avg 0.031939931 +/- 0.0002356 min 0.029877206 max 0.032588912 sum 38.2001569
Aggregated Function Time : count 1200 avg 0.0011698198 +/- 0.000167 min 0.000490293 max 0.002464034 sum 1.40378376
# range, mid point, percentile, count
>= 0.000490293 <= 0.0005 , 0.000495147 , 0.08, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.17, 1
> 0.0009 <= 0.001 , 0.00095 , 5.92, 69
> 0.001 <= 0.0011 , 0.00105 , 35.50, 355
> 0.0011 <= 0.0012 , 0.00115 , 69.67, 410
> 0.0012 <= 0.0014 , 0.0013 , 94.75, 301
> 0.0014 <= 0.0016 , 0.0015 , 97.33, 31
> 0.0016 <= 0.0018 , 0.0017 , 98.42, 13
> 0.0018 <= 0.002 , 0.0019 , 99.42, 12
> 0.002 <= 0.00246403 , 0.00223202 , 100.00, 7
# target 50% 0.00114244
# target 75% 0.00124252
# target 90% 0.00136213
# target 99% 0.00191667
# target 99.9% 0.00238449
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
Response Body/Total Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
All done 1200 calls (plus 4 warmup) 1.170 ms avg, 120.0 qps
Successfully wrote 2904 bytes of Json data to /data/2018-11-19-044244_http_linkerd_120qps_10s_echo_1_6.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
04:42:54 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 120.0 qps
04:42:54 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:43:04 I periodic.go:533> T000 ended after 10.002164599s : 300 calls. qps=29.993507608342448
04:43:04 I periodic.go:533> T003 ended after 10.002246755s : 300 calls. qps=29.993261249032244
04:43:04 I periodic.go:533> T002 ended after 10.002260887s : 300 calls. qps=29.99321887213638
04:43:04 I periodic.go:533> T001 ended after 10.002272174s : 300 calls. qps=29.993185026480564
Ended after 10.002283887s : 1200 calls. qps=119.97
Sleep times : count 1196 avg 0.031076798 +/- 0.0006377 min 0.024607724 max 0.032673046 sum 37.1678506
Aggregated Function Time : count 1200 avg 0.0020451978 +/- 0.0006249 min 0.000700295 max 0.008640702 sum 2.4542373
# range, mid point, percentile, count
>= 0.000700295 <= 0.0008 , 0.000750148 , 0.08, 1
> 0.0011 <= 0.0012 , 0.00115 , 0.17, 1
> 0.0012 <= 0.0014 , 0.0013 , 0.42, 3
> 0.0014 <= 0.0016 , 0.0015 , 1.75, 16
> 0.0016 <= 0.0018 , 0.0017 , 23.00, 255
> 0.0018 <= 0.002 , 0.0019 , 68.17, 542
> 0.002 <= 0.0025 , 0.00225 , 93.25, 301
> 0.0025 <= 0.003 , 0.00275 , 96.33, 37
> 0.003 <= 0.0035 , 0.00325 , 97.00, 8
> 0.0035 <= 0.004 , 0.00375 , 97.92, 11
> 0.004 <= 0.0045 , 0.00425 , 98.67, 9
> 0.005 <= 0.006 , 0.0055 , 99.67, 12
> 0.008 <= 0.0086407 , 0.00832035 , 100.00, 4
# target 50% 0.00191956
# target 75% 0.00213621
# target 90% 0.00243522
# target 99% 0.00533333
# target 99.9% 0.00844849
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 209 +/- 0 min 209 max 209 sum 250800
Response Body/Total Sizes : count 1200 avg 209 +/- 0 min 209 max 209 sum 250800
All done 1200 calls (plus 4 warmup) 2.045 ms avg, 120.0 qps
Successfully wrote 3242 bytes of Json data to /data/2018-11-19-044254_http_istio_120qps_10s_echo_1_6.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
04:43:04 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:43:14 I periodic.go:533> T003 ended after 10.001293989s : 300 calls. qps=29.996118535257267
04:43:14 I periodic.go:533> T002 ended after 10.005733315s : 300 calls. qps=29.98280991061973
04:43:14 I periodic.go:533> T001 ended after 10.005809207s : 300 calls. qps=29.982582497187924
04:43:14 I periodic.go:533> T000 ended after 10.005839382s : 300 calls. qps=29.982492077544727
Ended after 10.005871614s : 1200 calls. qps=119.93
Sleep times : count 1196 avg 0.031903678 +/- 0.0005422 min 0.027873693 max 0.032491759 sum 38.1567986
Aggregated Function Time : count 1200 avg 0.001157144 +/- 0.0004665 min 0.000686012 max 0.005457483 sum 1.38857284
# range, mid point, percentile, count
>= 0.000686012 <= 0.0007 , 0.000693006 , 0.17, 2
> 0.0007 <= 0.0008 , 0.00075 , 1.67, 18
> 0.0008 <= 0.0009 , 0.00085 , 5.75, 49
> 0.0009 <= 0.001 , 0.00095 , 27.42, 260
> 0.001 <= 0.0011 , 0.00105 , 60.83, 401
> 0.0011 <= 0.0012 , 0.00115 , 78.17, 208
> 0.0012 <= 0.0014 , 0.0013 , 93.00, 178
> 0.0014 <= 0.0016 , 0.0015 , 96.08, 37
> 0.0016 <= 0.0018 , 0.0017 , 96.50, 5
> 0.0018 <= 0.002 , 0.0019 , 96.67, 2
> 0.002 <= 0.0025 , 0.00225 , 98.33, 20
> 0.0025 <= 0.003 , 0.00275 , 98.50, 2
> 0.003 <= 0.0035 , 0.00325 , 98.67, 2
> 0.0035 <= 0.004 , 0.00375 , 99.00, 4
> 0.004 <= 0.0045 , 0.00425 , 99.42, 5
> 0.0045 <= 0.005 , 0.00475 , 99.58, 2
> 0.005 <= 0.00545748 , 0.00522874 , 100.00, 5
# target 50% 0.00106758
# target 75% 0.00118173
# target 90% 0.00135955
# target 99% 0.004
# target 99.9% 0.00534769
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 1.157 ms avg, 119.9 qps
Successfully wrote 3196 bytes of Json data to /data/2018-11-19-044304_grpc_baseline_120qps_10s_echo_1_6.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
04:43:14 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:43:25 I periodic.go:533> T003 ended after 10.001772766s : 300 calls. qps=29.99468264464268
04:43:25 I periodic.go:533> T000 ended after 10.00266672s : 300 calls. qps=29.992001972849895
04:43:25 I periodic.go:533> T002 ended after 10.002897032s : 300 calls. qps=29.99131142110911
04:43:25 I periodic.go:533> T001 ended after 10.002963104s : 300 calls. qps=29.991113321215344
Ended after 10.00299146s : 1200 calls. qps=119.96
Sleep times : count 1196 avg 0.031398478 +/- 0.001733 min 0.00335715 max 0.03255848 sum 37.5525801
Aggregated Function Time : count 1200 avg 0.0016786372 +/- 0.001681 min 0.000780927 max 0.029918621 sum 2.01436463
# range, mid point, percentile, count
>= 0.000780927 <= 0.0008 , 0.000790464 , 0.08, 1
> 0.0008 <= 0.0009 , 0.00085 , 0.25, 2
> 0.0009 <= 0.001 , 0.00095 , 0.42, 2
> 0.001 <= 0.0011 , 0.00105 , 0.67, 3
> 0.0011 <= 0.0012 , 0.00115 , 2.25, 19
> 0.0012 <= 0.0014 , 0.0013 , 24.33, 265
> 0.0014 <= 0.0016 , 0.0015 , 68.33, 528
> 0.0016 <= 0.0018 , 0.0017 , 90.50, 266
> 0.0018 <= 0.002 , 0.0019 , 94.75, 51
> 0.002 <= 0.0025 , 0.00225 , 96.00, 15
> 0.0025 <= 0.003 , 0.00275 , 98.00, 24
> 0.003 <= 0.0035 , 0.00325 , 98.75, 9
> 0.0035 <= 0.004 , 0.00375 , 99.00, 3
> 0.0045 <= 0.005 , 0.00475 , 99.08, 1
> 0.005 <= 0.006 , 0.0055 , 99.67, 7
> 0.025 <= 0.0299186 , 0.0274593 , 100.00, 4
# target 50% 0.00151667
# target 75% 0.00166015
# target 90% 0.00179549
# target 99% 0.004
# target 99.9% 0.028443
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 1.679 ms avg, 120.0 qps
Successfully wrote 3029 bytes of Json data to /data/2018-11-19-044315_grpc_linkerd_120qps_10s_echo_1_6.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8079
04:43:25 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:43:35 I periodic.go:533> T000 ended after 10.001917283s : 300 calls. qps=29.994249253580836
04:43:35 I periodic.go:533> T003 ended after 10.006019884s : 300 calls. qps=29.98195121316031
04:43:35 I periodic.go:533> T001 ended after 10.006067797s : 300 calls. qps=29.981807647750042
04:43:35 I periodic.go:533> T002 ended after 10.006082147s : 300 calls. qps=29.98176465000792
Ended after 10.006094867s : 1200 calls. qps=119.93
Sleep times : count 1196 avg 0.030868405 +/- 0.0006013 min 0.026641649 max 0.031769448 sum 36.9186119
Aggregated Function Time : count 1200 avg 0.0022361153 +/- 0.0005975 min 0.001237408 max 0.00652928 sum 2.68333839
# range, mid point, percentile, count
>= 0.00123741 <= 0.0014 , 0.0013187 , 1.17, 14
> 0.0014 <= 0.0016 , 0.0015 , 12.00, 130
> 0.0016 <= 0.0018 , 0.0017 , 21.67, 116
> 0.0018 <= 0.002 , 0.0019 , 26.25, 55
> 0.002 <= 0.0025 , 0.00225 , 84.25, 696
> 0.0025 <= 0.003 , 0.00275 , 95.92, 140
> 0.003 <= 0.0035 , 0.00325 , 97.50, 19
> 0.0035 <= 0.004 , 0.00375 , 97.92, 5
> 0.004 <= 0.0045 , 0.00425 , 98.42, 6
> 0.0045 <= 0.005 , 0.00475 , 98.83, 5
> 0.005 <= 0.006 , 0.0055 , 99.67, 10
> 0.006 <= 0.00652928 , 0.00626464 , 100.00, 4
# target 50% 0.00220474
# target 75% 0.00242026
# target 90% 0.00274643
# target 99% 0.0052
# target 99.9% 0.0063705
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 2.236 ms avg, 119.9 qps
Successfully wrote 2560 bytes of Json data to /data/2018-11-19-044325_grpc_istio_120qps_10s_echo_1_6.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
04:43:35 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 120.0 qps
04:43:35 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:43:45 I periodic.go:533> T001 ended after 10.000938752s : 300 calls. qps=29.99718400835178
04:43:45 I periodic.go:533> T003 ended after 10.001304054s : 300 calls. qps=29.99608834810053
04:43:45 I periodic.go:533> T000 ended after 10.003101266s : 300 calls. qps=29.990699086460694
04:43:45 I periodic.go:533> T002 ended after 10.003133134s : 300 calls. qps=29.99060354203619
Ended after 10.003146167s : 1200 calls. qps=119.96
Sleep times : count 1196 avg 0.032496171 +/- 0.0003339 min 0.027848803 max 0.032930531 sum 38.8654205
Aggregated Function Time : count 1200 avg 0.00060254518 +/- 0.0001879 min 0.000270886 max 0.002769878 sum 0.723054218
# range, mid point, percentile, count
>= 0.000270886 <= 0.0003 , 0.000285443 , 0.17, 2
> 0.0003 <= 0.0004 , 0.00035 , 3.08, 35
> 0.0004 <= 0.0005 , 0.00045 , 23.92, 250
> 0.0005 <= 0.0006 , 0.00055 , 59.50, 427
> 0.0006 <= 0.0007 , 0.00065 , 82.33, 274
> 0.0007 <= 0.0008 , 0.00075 , 92.58, 123
> 0.0008 <= 0.0009 , 0.00085 , 96.83, 51
> 0.0009 <= 0.001 , 0.00095 , 98.17, 16
> 0.001 <= 0.0011 , 0.00105 , 98.33, 2
> 0.0011 <= 0.0012 , 0.00115 , 98.67, 4
> 0.0012 <= 0.0014 , 0.0013 , 98.92, 3
> 0.0014 <= 0.0016 , 0.0015 , 99.42, 6
> 0.0016 <= 0.0018 , 0.0017 , 99.50, 1
> 0.0018 <= 0.002 , 0.0019 , 99.83, 4
> 0.0025 <= 0.00276988 , 0.00263494 , 100.00, 2
# target 50% 0.000573302
# target 75% 0.000667883
# target 90% 0.000774797
# target 99% 0.00143333
# target 99.9% 0.00260795
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
Response Body/Total Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
All done 1200 calls (plus 4 warmup) 0.603 ms avg, 120.0 qps
Successfully wrote 3596 bytes of Json data to /data/2018-11-19-044335_http_baseline_120qps_10s_echo_0_7.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
04:43:45 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 120.0 qps
04:43:45 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:43:55 I periodic.go:533> T003 ended after 10.001277571s : 300 calls. qps=29.99616777659375
04:43:55 I periodic.go:533> T001 ended after 10.001334615s : 300 calls. qps=29.995996689287853
04:43:55 I periodic.go:533> T002 ended after 10.001497047s : 300 calls. qps=29.995509531244274
04:43:55 I periodic.go:533> T000 ended after 10.001512895s : 300 calls. qps=29.99546200155152
Ended after 10.001525257s : 1200 calls. qps=119.98
Sleep times : count 1196 avg 0.031936269 +/- 0.000396 min 0.026560758 max 0.032818621 sum 38.1957778
Aggregated Function Time : count 1200 avg 0.0011658989 +/- 0.0002767 min 0.00056001 max 0.004510555 sum 1.39907863
# range, mid point, percentile, count
>= 0.00056001 <= 0.0006 , 0.000580005 , 0.08, 1
> 0.0008 <= 0.0009 , 0.00085 , 0.75, 8
> 0.0009 <= 0.001 , 0.00095 , 8.25, 90
> 0.001 <= 0.0011 , 0.00105 , 40.00, 381
> 0.0011 <= 0.0012 , 0.00115 , 73.50, 402
> 0.0012 <= 0.0014 , 0.0013 , 95.92, 269
> 0.0014 <= 0.0016 , 0.0015 , 97.83, 23
> 0.0016 <= 0.0018 , 0.0017 , 98.08, 3
> 0.0018 <= 0.002 , 0.0019 , 98.75, 8
> 0.002 <= 0.0025 , 0.00225 , 99.08, 4
> 0.0025 <= 0.003 , 0.00275 , 99.33, 3
> 0.003 <= 0.0035 , 0.00325 , 99.67, 4
> 0.004 <= 0.0045 , 0.00425 , 99.92, 3
> 0.0045 <= 0.00451056 , 0.00450528 , 100.00, 1
# target 50% 0.00112985
# target 75% 0.00121338
# target 90% 0.00134721
# target 99% 0.002375
# target 99.9% 0.00446667
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
Response Body/Total Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
All done 1200 calls (plus 4 warmup) 1.166 ms avg, 120.0 qps
Successfully wrote 3403 bytes of Json data to /data/2018-11-19-044345_http_linkerd_120qps_10s_echo_0_7.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
04:43:55 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 120.0 qps
04:43:55 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:44:05 I periodic.go:533> T003 ended after 10.001827699s : 300 calls. qps=29.994517904961963
04:44:05 I periodic.go:533> T001 ended after 10.001882809s : 300 calls. qps=29.994352636290724
04:44:05 I periodic.go:533> T000 ended after 10.001895909s : 300 calls. qps=29.994313351136878
04:44:05 I periodic.go:533> T002 ended after 10.00190644s : 300 calls. qps=29.99428177014621
Ended after 10.001918428s : 1200 calls. qps=119.98
Sleep times : count 1196 avg 0.031237421 +/- 0.0006884 min 0.025113854 max 0.032238039 sum 37.3599558
Aggregated Function Time : count 1200 avg 0.0018404928 +/- 0.0005368 min 0.000885994 max 0.007726383 sum 2.2085914
# range, mid point, percentile, count
>= 0.000885994 <= 0.0009 , 0.000892997 , 0.08, 1
> 0.0009 <= 0.001 , 0.00095 , 0.25, 2
> 0.0011 <= 0.0012 , 0.00115 , 0.33, 1
> 0.0012 <= 0.0014 , 0.0013 , 1.75, 17
> 0.0014 <= 0.0016 , 0.0015 , 25.42, 284
> 0.0016 <= 0.0018 , 0.0017 , 57.58, 386
> 0.0018 <= 0.002 , 0.0019 , 84.58, 324
> 0.002 <= 0.0025 , 0.00225 , 95.33, 129
> 0.0025 <= 0.003 , 0.00275 , 96.67, 16
> 0.003 <= 0.0035 , 0.00325 , 97.75, 13
> 0.0035 <= 0.004 , 0.00375 , 98.25, 6
> 0.004 <= 0.0045 , 0.00425 , 99.67, 17
> 0.007 <= 0.00772638 , 0.00736319 , 100.00, 4
# target 50% 0.00175285
# target 75% 0.00192901
# target 90% 0.00225194
# target 99% 0.00426471
# target 99.9% 0.00750847
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 209 +/- 0 min 209 max 209 sum 250800
Response Body/Total Sizes : count 1200 avg 209 +/- 0 min 209 max 209 sum 250800
All done 1200 calls (plus 4 warmup) 1.840 ms avg, 120.0 qps
Successfully wrote 3279 bytes of Json data to /data/2018-11-19-044355_http_istio_120qps_10s_echo_0_7.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
04:44:05 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:44:15 I periodic.go:533> T002 ended after 10.001287193s : 300 calls. qps=29.996138917995776
04:44:15 I periodic.go:533> T000 ended after 10.001778297s : 300 calls. qps=29.99466605753339
04:44:15 I periodic.go:533> T001 ended after 10.001819161s : 300 calls. qps=29.994543509623448
04:44:15 I periodic.go:533> T003 ended after 10.001843937s : 300 calls. qps=29.994469208843043
Ended after 10.001886273s : 1200 calls. qps=119.98
Sleep times : count 1196 avg 0.032030222 +/- 0.0003255 min 0.028554368 max 0.032674106 sum 38.3081452
Aggregated Function Time : count 1200 avg 0.0010728082 +/- 0.0002262 min 0.000593088 max 0.003110922 sum 1.28736986
# range, mid point, percentile, count
>= 0.000593088 <= 0.0006 , 0.000596544 , 0.17, 2
> 0.0006 <= 0.0007 , 0.00065 , 0.58, 5
> 0.0007 <= 0.0008 , 0.00075 , 1.58, 12
> 0.0008 <= 0.0009 , 0.00085 , 10.25, 104
> 0.0009 <= 0.001 , 0.00095 , 38.25, 336
> 0.001 <= 0.0011 , 0.00105 , 70.67, 389
> 0.0011 <= 0.0012 , 0.00115 , 85.58, 179
> 0.0012 <= 0.0014 , 0.0013 , 95.67, 121
> 0.0014 <= 0.0016 , 0.0015 , 97.83, 26
> 0.0016 <= 0.0018 , 0.0017 , 97.92, 1
> 0.0018 <= 0.002 , 0.0019 , 98.42, 6
> 0.002 <= 0.0025 , 0.00225 , 99.67, 15
> 0.003 <= 0.00311092 , 0.00305546 , 100.00, 4
# target 50% 0.00103625
# target 75% 0.00112905
# target 90% 0.0012876
# target 99% 0.00223333
# target 99.9% 0.00307765
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 1.073 ms avg, 120.0 qps
Successfully wrote 2787 bytes of Json data to /data/2018-11-19-044405_grpc_baseline_120qps_10s_echo_0_7.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
04:44:15 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:44:25 I periodic.go:533> T000 ended after 10.001689321s : 300 calls. qps=29.994932892997024
04:44:25 I periodic.go:533> T001 ended after 10.002480444s : 300 calls. qps=29.99256051332301
04:44:25 I periodic.go:533> T002 ended after 10.002601166s : 300 calls. qps=29.992198531291518
04:44:25 I periodic.go:533> T003 ended after 10.002685419s : 300 calls. qps=29.99194590586174
Ended after 10.002779361s : 1200 calls. qps=119.97
Sleep times : count 1196 avg 0.031395328 +/- 0.001193 min 0.012489001 max 0.032348436 sum 37.5488118
Aggregated Function Time : count 1200 avg 0.0016611801 +/- 0.0004797 min 0.00094849 max 0.006224679 sum 1.99341617
# range, mid point, percentile, count
>= 0.00094849 <= 0.001 , 0.000974245 , 0.08, 1
> 0.001 <= 0.0011 , 0.00105 , 0.25, 2
> 0.0011 <= 0.0012 , 0.00115 , 0.42, 2
> 0.0012 <= 0.0014 , 0.0013 , 8.83, 101
> 0.0014 <= 0.0016 , 0.0015 , 53.25, 533
> 0.0016 <= 0.0018 , 0.0017 , 86.83, 403
> 0.0018 <= 0.002 , 0.0019 , 95.67, 106
> 0.002 <= 0.0025 , 0.00225 , 97.58, 23
> 0.0025 <= 0.003 , 0.00275 , 98.33, 9
> 0.003 <= 0.0035 , 0.00325 , 98.75, 5
> 0.0035 <= 0.004 , 0.00375 , 99.00, 3
> 0.005 <= 0.006 , 0.0055 , 99.75, 9
> 0.006 <= 0.00622468 , 0.00611234 , 100.00, 3
# target 50% 0.00158537
# target 75% 0.00172953
# target 90% 0.0018717
# target 99% 0.004
# target 99.9% 0.00613481
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 1.661 ms avg, 120.0 qps
Successfully wrote 2657 bytes of Json data to /data/2018-11-19-044415_grpc_linkerd_120qps_10s_echo_0_7.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8079
04:44:25 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:44:35 I periodic.go:533> T002 ended after 10.002096277s : 300 calls. qps=29.99371248703688
04:44:35 I periodic.go:533> T000 ended after 10.005172567s : 300 calls. qps=29.984490321485126
04:44:35 I periodic.go:533> T003 ended after 10.005297953s : 300 calls. qps=29.984114557033024
04:44:35 I periodic.go:533> T001 ended after 10.005314187s : 300 calls. qps=29.984065906675163
Ended after 10.005327349s : 1200 calls. qps=119.94
Sleep times : count 1196 avg 0.030641388 +/- 0.0005784 min 0.026107725 max 0.031791637 sum 36.6471003
Aggregated Function Time : count 1200 avg 0.0024002469 +/- 0.0005814 min 0.001193246 max 0.007130505 sum 2.88029623
# range, mid point, percentile, count
>= 0.00119325 <= 0.0012 , 0.00119662 , 0.08, 1
> 0.0012 <= 0.0014 , 0.0013 , 1.00, 11
> 0.0014 <= 0.0016 , 0.0015 , 4.67, 44
> 0.0016 <= 0.0018 , 0.0017 , 13.58, 107
> 0.0018 <= 0.002 , 0.0019 , 22.33, 105
> 0.002 <= 0.0025 , 0.00225 , 60.33, 456
> 0.0025 <= 0.003 , 0.00275 , 93.33, 396
> 0.003 <= 0.0035 , 0.00325 , 97.17, 46
> 0.0035 <= 0.004 , 0.00375 , 97.92, 9
> 0.004 <= 0.0045 , 0.00425 , 98.33, 5
> 0.0045 <= 0.005 , 0.00475 , 99.33, 12
> 0.005 <= 0.006 , 0.0055 , 99.75, 5
> 0.006 <= 0.007 , 0.0065 , 99.92, 2
> 0.007 <= 0.0071305 , 0.00706525 , 100.00, 1
# target 50% 0.00236404
# target 75% 0.00272222
# target 90% 0.00294949
# target 99% 0.00483333
# target 99.9% 0.0069
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 2.400 ms avg, 119.9 qps
Successfully wrote 2862 bytes of Json data to /data/2018-11-19-044425_grpc_istio_120qps_10s_echo_0_7.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
04:44:35 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 120.0 qps
04:44:35 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:44:45 I periodic.go:533> T000 ended after 10.001006453s : 300 calls. qps=29.99698094485371
04:44:45 I periodic.go:533> T003 ended after 10.001075161s : 300 calls. qps=29.996774863754073
04:44:45 I periodic.go:533> T002 ended after 10.001129652s : 300 calls. qps=29.996611426790853
04:44:45 I periodic.go:533> T001 ended after 10.001146229s : 300 calls. qps=29.9965617071071
Ended after 10.001159083s : 1200 calls. qps=119.99
Sleep times : count 1196 avg 0.032369194 +/- 0.0003449 min 0.029712804 max 0.032813077 sum 38.7135559
Aggregated Function Time : count 1200 avg 0.00067062322 +/- 0.0002224 min 0.000166105 max 0.002408443 sum 0.804747863
# range, mid point, percentile, count
>= 0.000166105 <= 0.0002 , 0.000183053 , 0.08, 1
> 0.0002 <= 0.0003 , 0.00025 , 0.33, 3
> 0.0003 <= 0.0004 , 0.00035 , 2.33, 24
> 0.0004 <= 0.0005 , 0.00045 , 12.58, 123
> 0.0005 <= 0.0006 , 0.00055 , 38.25, 308
> 0.0006 <= 0.0007 , 0.00065 , 66.58, 340
> 0.0007 <= 0.0008 , 0.00075 , 83.92, 208
> 0.0008 <= 0.0009 , 0.00085 , 92.83, 107
> 0.0009 <= 0.001 , 0.00095 , 96.00, 38
> 0.001 <= 0.0011 , 0.00105 , 97.67, 20
> 0.0011 <= 0.0012 , 0.00115 , 98.33, 8
> 0.0012 <= 0.0014 , 0.0013 , 98.58, 3
> 0.0014 <= 0.0016 , 0.0015 , 98.67, 1
> 0.0018 <= 0.002 , 0.0019 , 99.33, 8
> 0.002 <= 0.00240844 , 0.00220422 , 100.00, 8
# target 50% 0.000641471
# target 75% 0.000748558
# target 90% 0.000868224
# target 99% 0.0019
# target 99.9% 0.00234718
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
Response Body/Total Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
All done 1200 calls (plus 4 warmup) 0.671 ms avg, 120.0 qps
Successfully wrote 3575 bytes of Json data to /data/2018-11-19-044435_http_baseline_120qps_10s_echo_1_7.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
04:44:45 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 120.0 qps
04:44:45 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:44:55 I periodic.go:533> T001 ended after 10.001446606s : 300 calls. qps=29.99566080970987
04:44:55 I periodic.go:533> T003 ended after 10.001856013s : 300 calls. qps=29.994432994243507
04:44:55 I periodic.go:533> T000 ended after 10.004107998s : 300 calls. qps=29.98768106661537
04:44:55 I periodic.go:533> T002 ended after 10.004157134s : 300 calls. qps=29.987533780374548
Ended after 10.004173377s : 1200 calls. qps=119.95
Sleep times : count 1196 avg 0.031881017 +/- 0.0003615 min 0.027911715 max 0.032255225 sum 38.1296962
Aggregated Function Time : count 1200 avg 0.0012344597 +/- 0.0003206 min 0.000847642 max 0.005293887 sum 1.48135163
# range, mid point, percentile, count
>= 0.000847642 <= 0.0009 , 0.000873821 , 0.08, 1
> 0.0009 <= 0.001 , 0.00095 , 1.42, 16
> 0.001 <= 0.0011 , 0.00105 , 23.33, 263
> 0.0011 <= 0.0012 , 0.00115 , 55.50, 386
> 0.0012 <= 0.0014 , 0.0013 , 90.75, 423
> 0.0014 <= 0.0016 , 0.0015 , 96.08, 64
> 0.0016 <= 0.0018 , 0.0017 , 97.25, 14
> 0.0018 <= 0.002 , 0.0019 , 98.00, 9
> 0.002 <= 0.0025 , 0.00225 , 99.17, 14
> 0.0025 <= 0.003 , 0.00275 , 99.42, 3
> 0.003 <= 0.0035 , 0.00325 , 99.50, 1
> 0.0035 <= 0.004 , 0.00375 , 99.67, 2
> 0.005 <= 0.00529389 , 0.00514694 , 100.00, 4
# target 50% 0.0011829
# target 75% 0.00131064
# target 90% 0.00139574
# target 99% 0.00242857
# target 99.9% 0.00520572
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
Response Body/Total Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
All done 1200 calls (plus 4 warmup) 1.234 ms avg, 119.9 qps
Successfully wrote 3234 bytes of Json data to /data/2018-11-19-044445_http_linkerd_120qps_10s_echo_1_7.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
04:44:55 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 120.0 qps
04:44:55 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:45:05 I periodic.go:533> T001 ended after 10.001817659s : 300 calls. qps=29.994548013985145
04:45:05 I periodic.go:533> T003 ended after 10.002209243s : 300 calls. qps=29.99337373490298
04:45:05 I periodic.go:533> T000 ended after 10.003122294s : 300 calls. qps=29.99063604170308
04:45:05 I periodic.go:533> T002 ended after 10.003162762s : 300 calls. qps=29.99051471397022
Ended after 10.003211916s : 1200 calls. qps=119.96
Sleep times : count 1196 avg 0.031300351 +/- 0.0004765 min 0.027615282 max 0.032619704 sum 37.4352199
Aggregated Function Time : count 1200 avg 0.001801251 +/- 0.0004293 min 0.000753043 max 0.00558984 sum 2.16150118
# range, mid point, percentile, count
>= 0.000753043 <= 0.0008 , 0.000776522 , 0.08, 1
> 0.0009 <= 0.001 , 0.00095 , 0.25, 2
> 0.001 <= 0.0011 , 0.00105 , 0.33, 1
> 0.0012 <= 0.0014 , 0.0013 , 4.00, 44
> 0.0014 <= 0.0016 , 0.0015 , 26.00, 264
> 0.0016 <= 0.0018 , 0.0017 , 61.67, 428
> 0.0018 <= 0.002 , 0.0019 , 86.75, 301
> 0.002 <= 0.0025 , 0.00225 , 96.00, 111
> 0.0025 <= 0.003 , 0.00275 , 97.25, 15
> 0.003 <= 0.0035 , 0.00325 , 97.92, 8
> 0.0035 <= 0.004 , 0.00375 , 99.00, 13
> 0.004 <= 0.0045 , 0.00425 , 99.58, 7
> 0.0045 <= 0.005 , 0.00475 , 99.92, 4
> 0.005 <= 0.00558984 , 0.00529492 , 100.00, 1
# target 50% 0.00173458
# target 75% 0.00190631
# target 90% 0.00217568
# target 99% 0.004
# target 99.9% 0.004975
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 209 +/- 0 min 209 max 209 sum 250800
Response Body/Total Sizes : count 1200 avg 209 +/- 0 min 209 max 209 sum 250800
All done 1200 calls (plus 4 warmup) 1.801 ms avg, 120.0 qps
Successfully wrote 3312 bytes of Json data to /data/2018-11-19-044455_http_istio_120qps_10s_echo_1_7.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
04:45:05 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:45:15 I periodic.go:533> T003 ended after 10.001123913s : 300 calls. qps=29.996628639911542
04:45:15 I periodic.go:533> T001 ended after 10.001199065s : 300 calls. qps=29.99640323627535
04:45:15 I periodic.go:533> T000 ended after 10.001227725s : 300 calls. qps=29.996317277137095
04:45:15 I periodic.go:533> T002 ended after 10.001255971s : 300 calls. qps=29.996232560179514
Ended after 10.001268024s : 1200 calls. qps=119.98
Sleep times : count 1196 avg 0.031976985 +/- 0.0005378 min 0.027636874 max 0.032682748 sum 38.2444743
Aggregated Function Time : count 1200 avg 0.0010868733 +/- 0.0004146 min 0.000568436 max 0.005487202 sum 1.30424792
# range, mid point, percentile, count
>= 0.000568436 <= 0.0006 , 0.000584218 , 0.17, 2
> 0.0006 <= 0.0007 , 0.00065 , 0.75, 7
> 0.0007 <= 0.0008 , 0.00075 , 2.83, 25
> 0.0008 <= 0.0009 , 0.00085 , 13.92, 133
> 0.0009 <= 0.001 , 0.00095 , 42.67, 345
> 0.001 <= 0.0011 , 0.00105 , 74.92, 387
> 0.0011 <= 0.0012 , 0.00115 , 87.50, 151
> 0.0012 <= 0.0014 , 0.0013 , 95.83, 100
> 0.0014 <= 0.0016 , 0.0015 , 97.33, 18
> 0.0016 <= 0.0018 , 0.0017 , 97.67, 4
> 0.0018 <= 0.002 , 0.0019 , 97.92, 3
> 0.002 <= 0.0025 , 0.00225 , 98.25, 4
> 0.0025 <= 0.003 , 0.00275 , 99.00, 9
> 0.0035 <= 0.004 , 0.00375 , 99.25, 3
> 0.004 <= 0.0045 , 0.00425 , 99.67, 5
> 0.005 <= 0.0054872 , 0.0052436 , 100.00, 4
# target 50% 0.00102274
# target 75% 0.00110066
# target 90% 0.00126
# target 99% 0.003
# target 99.9% 0.00534104
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 1.087 ms avg, 120.0 qps
Successfully wrote 3089 bytes of Json data to /data/2018-11-19-044505_grpc_baseline_120qps_10s_echo_1_7.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
04:45:15 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:45:25 I periodic.go:533> T002 ended after 10.001817073s : 300 calls. qps=29.994549771346335
04:45:25 I periodic.go:533> T001 ended after 10.001992474s : 300 calls. qps=29.99402376874854
04:45:25 I periodic.go:533> T003 ended after 10.002033058s : 300 calls. qps=29.993902065745402
04:45:25 I periodic.go:533> T000 ended after 10.002044777s : 300 calls. qps=29.993866923077462
Ended after 10.002057531s : 1200 calls. qps=119.98
Sleep times : count 1196 avg 0.03123438 +/- 0.002059 min -0.000913694 max 0.032247177 sum 37.3563185
Aggregated Function Time : count 1200 avg 0.0017404247 +/- 0.0008453 min 0.00099434 max 0.014453247 sum 2.08850969
# range, mid point, percentile, count
>= 0.00099434 <= 0.001 , 0.00099717 , 0.08, 1
> 0.001 <= 0.0011 , 0.00105 , 0.25, 2
> 0.0011 <= 0.0012 , 0.00115 , 0.75, 6
> 0.0012 <= 0.0014 , 0.0013 , 5.75, 60
> 0.0014 <= 0.0016 , 0.0015 , 43.50, 453
> 0.0016 <= 0.0018 , 0.0017 , 79.50, 432
> 0.0018 <= 0.002 , 0.0019 , 92.42, 155
> 0.002 <= 0.0025 , 0.00225 , 97.33, 59
> 0.0025 <= 0.003 , 0.00275 , 98.33, 12
> 0.0035 <= 0.004 , 0.00375 , 99.00, 8
> 0.005 <= 0.006 , 0.0055 , 99.33, 4
> 0.006 <= 0.007 , 0.0065 , 99.67, 4
> 0.014 <= 0.0144532 , 0.0142266 , 100.00, 4
# target 50% 0.00163611
# target 75% 0.001775
# target 90% 0.00196258
# target 99% 0.004
# target 99.9% 0.0143173
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 1.740 ms avg, 120.0 qps
Successfully wrote 2626 bytes of Json data to /data/2018-11-19-044515_grpc_linkerd_120qps_10s_echo_1_7.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8079
04:45:25 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:45:35 I periodic.go:533> T001 ended after 10.001815777s : 300 calls. qps=29.99455365793427
04:45:35 I periodic.go:533> T003 ended after 10.002351384s : 300 calls. qps=29.99294750631208
04:45:35 I periodic.go:533> T000 ended after 10.002556914s : 300 calls. qps=29.992331218841393
04:45:35 I periodic.go:533> T002 ended after 10.00257522s : 300 calls. qps=29.992276329015198
Ended after 10.002590042s : 1200 calls. qps=119.97
Sleep times : count 1196 avg 0.030960203 +/- 0.0006556 min 0.025481745 max 0.032011413 sum 37.0284027
Aggregated Function Time : count 1200 avg 0.0021211296 +/- 0.000644 min 0.001109935 max 0.007768265 sum 2.54535554
# range, mid point, percentile, count
>= 0.00110994 <= 0.0012 , 0.00115497 , 1.42, 17
> 0.0012 <= 0.0014 , 0.0013 , 8.50, 85
> 0.0014 <= 0.0016 , 0.0015 , 18.50, 120
> 0.0016 <= 0.0018 , 0.0017 , 24.75, 75
> 0.0018 <= 0.002 , 0.0019 , 38.17, 161
> 0.002 <= 0.0025 , 0.00225 , 86.50, 580
> 0.0025 <= 0.003 , 0.00275 , 95.67, 110
> 0.003 <= 0.0035 , 0.00325 , 97.67, 24
> 0.0035 <= 0.004 , 0.00375 , 98.17, 6
> 0.004 <= 0.0045 , 0.00425 , 98.58, 5
> 0.0045 <= 0.005 , 0.00475 , 99.33, 9
> 0.005 <= 0.006 , 0.0055 , 99.42, 1
> 0.006 <= 0.007 , 0.0065 , 99.67, 3
> 0.007 <= 0.00776826 , 0.00738413 , 100.00, 4
# target 50% 0.00212241
# target 75% 0.00238103
# target 90% 0.00269091
# target 99% 0.00477778
# target 99.9% 0.00753779
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 2.121 ms avg, 120.0 qps
Successfully wrote 2826 bytes of Json data to /data/2018-11-19-044525_grpc_istio_120qps_10s_echo_1_7.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
04:45:35 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 120.0 qps
04:45:35 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:45:45 I periodic.go:533> T000 ended after 10.000650506s : 300 calls. qps=29.99804860893916
04:45:45 I periodic.go:533> T002 ended after 10.000897501s : 300 calls. qps=29.997307738630724
04:45:45 I periodic.go:533> T003 ended after 10.000919996s : 300 calls. qps=29.997240265894433
04:45:45 I periodic.go:533> T001 ended after 10.000941579s : 300 calls. qps=29.997175528946265
Ended after 10.000954227s : 1200 calls. qps=119.99
Sleep times : count 1196 avg 0.032536749 +/- 0.0003607 min 0.028949929 max 0.032933727 sum 38.9139522
Aggregated Function Time : count 1200 avg 0.00056993232 +/- 0.0002055 min 0.000257436 max 0.002911566 sum 0.683918781
# range, mid point, percentile, count
>= 0.000257436 <= 0.0003 , 0.000278718 , 0.25, 3
> 0.0003 <= 0.0004 , 0.00035 , 5.33, 61
> 0.0004 <= 0.0005 , 0.00045 , 35.25, 359
> 0.0005 <= 0.0006 , 0.00055 , 70.25, 420
> 0.0006 <= 0.0007 , 0.00065 , 89.67, 233
> 0.0007 <= 0.0008 , 0.00075 , 96.00, 76
> 0.0008 <= 0.0009 , 0.00085 , 97.58, 19
> 0.0009 <= 0.001 , 0.00095 , 98.25, 8
> 0.001 <= 0.0011 , 0.00105 , 98.75, 6
> 0.0011 <= 0.0012 , 0.00115 , 98.83, 1
> 0.0012 <= 0.0014 , 0.0013 , 99.25, 5
> 0.0016 <= 0.0018 , 0.0017 , 99.33, 1
> 0.002 <= 0.0025 , 0.00225 , 99.67, 4
> 0.0025 <= 0.00291157 , 0.00270578 , 100.00, 4
# target 50% 0.000542143
# target 75% 0.000624464
# target 90% 0.000705263
# target 99% 0.00128
# target 99.9% 0.0027881
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
Response Body/Total Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
All done 1200 calls (plus 4 warmup) 0.570 ms avg, 120.0 qps
Successfully wrote 3378 bytes of Json data to /data/2018-11-19-044535_http_baseline_120qps_10s_echo_0_8.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
04:45:45 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 120.0 qps
04:45:45 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:45:55 I periodic.go:533> T001 ended after 10.001119531s : 300 calls. qps=29.996641782962808
04:45:55 I periodic.go:533> T002 ended after 10.001170439s : 300 calls. qps=29.99648909393014
04:45:55 I periodic.go:533> T003 ended after 10.001183675s : 300 calls. qps=29.996449395276205
04:45:55 I periodic.go:533> T000 ended after 10.001195452s : 300 calls. qps=29.996414072680402
Ended after 10.001207458s : 1200 calls. qps=119.99
Sleep times : count 1196 avg 0.031990036 +/- 0.0004986 min 0.02786507 max 0.032931847 sum 38.2600834
Aggregated Function Time : count 1200 avg 0.0011423318 +/- 0.0004906 min 0.00047895 max 0.005321792 sum 1.37079822
# range, mid point, percentile, count
>= 0.00047895 <= 0.0005 , 0.000489475 , 0.08, 1
> 0.0005 <= 0.0006 , 0.00055 , 0.25, 2
> 0.0006 <= 0.0007 , 0.00065 , 0.33, 1
> 0.0007 <= 0.0008 , 0.00075 , 2.00, 20
> 0.0008 <= 0.0009 , 0.00085 , 13.00, 132
> 0.0009 <= 0.001 , 0.00095 , 39.58, 319
> 0.001 <= 0.0011 , 0.00105 , 59.50, 239
> 0.0011 <= 0.0012 , 0.00115 , 75.75, 195
> 0.0012 <= 0.0014 , 0.0013 , 92.33, 199
> 0.0014 <= 0.0016 , 0.0015 , 96.08, 45
> 0.0016 <= 0.0018 , 0.0017 , 96.67, 7
> 0.0018 <= 0.002 , 0.0019 , 97.83, 14
> 0.002 <= 0.0025 , 0.00225 , 98.25, 5
> 0.0025 <= 0.003 , 0.00275 , 98.67, 5
> 0.004 <= 0.0045 , 0.00425 , 99.00, 4
> 0.0045 <= 0.005 , 0.00475 , 99.33, 4
> 0.005 <= 0.00532179 , 0.0051609 , 100.00, 8
# target 50% 0.0010523
# target 75% 0.00119538
# target 90% 0.00137186
# target 99% 0.0045
# target 99.9% 0.00527352
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
Response Body/Total Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
All done 1200 calls (plus 4 warmup) 1.142 ms avg, 120.0 qps
Successfully wrote 3760 bytes of Json data to /data/2018-11-19-044545_http_linkerd_120qps_10s_echo_0_8.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
04:45:55 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 120.0 qps
04:45:55 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:46:05 I periodic.go:533> T001 ended after 10.004020899s : 300 calls. qps=29.987942151339162
04:46:05 I periodic.go:533> T002 ended after 10.004107434s : 300 calls. qps=29.987682757226175
04:46:05 I periodic.go:533> T003 ended after 10.004121681s : 300 calls. qps=29.987640051376538
04:46:05 I periodic.go:533> T000 ended after 10.00413292s : 300 calls. qps=29.987606362191357
Ended after 10.004146262s : 1200 calls. qps=119.95
Sleep times : count 1196 avg 0.031343381 +/- 0.000607 min 0.026209337 max 0.03216315 sum 37.4866837
Aggregated Function Time : count 1200 avg 0.0017661892 +/- 0.0005977 min 0.000874375 max 0.006991819 sum 2.11942698
# range, mid point, percentile, count
>= 0.000874375 <= 0.0009 , 0.000887188 , 0.08, 1
> 0.001 <= 0.0011 , 0.00105 , 0.17, 1
> 0.0011 <= 0.0012 , 0.00115 , 0.33, 2
> 0.0012 <= 0.0014 , 0.0013 , 6.58, 75
> 0.0014 <= 0.0016 , 0.0015 , 44.00, 449
> 0.0016 <= 0.0018 , 0.0017 , 74.92, 371
> 0.0018 <= 0.002 , 0.0019 , 89.92, 180
> 0.002 <= 0.0025 , 0.00225 , 95.00, 61
> 0.0025 <= 0.003 , 0.00275 , 96.33, 16
> 0.003 <= 0.0035 , 0.00325 , 96.50, 2
> 0.0035 <= 0.004 , 0.00375 , 98.58, 25
> 0.004 <= 0.0045 , 0.00425 , 98.67, 1
> 0.0045 <= 0.005 , 0.00475 , 99.00, 4
> 0.005 <= 0.006 , 0.0055 , 99.67, 8
> 0.006 <= 0.00699182 , 0.00649591 , 100.00, 4
# target 50% 0.00163881
# target 75% 0.00180111
# target 90% 0.0020082
# target 99% 0.005
# target 99.9% 0.00669427
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 209 +/- 0 min 209 max 209 sum 250800
Response Body/Total Sizes : count 1200 avg 209 +/- 0 min 209 max 209 sum 250800
All done 1200 calls (plus 4 warmup) 1.766 ms avg, 120.0 qps
Successfully wrote 3497 bytes of Json data to /data/2018-11-19-044555_http_istio_120qps_10s_echo_0_8.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
04:46:06 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:46:16 I periodic.go:533> T003 ended after 10.001270612s : 300 calls. qps=29.99618864827492
04:46:16 I periodic.go:533> T000 ended after 10.003867945s : 300 calls. qps=29.98840065156418
04:46:16 I periodic.go:533> T001 ended after 10.003983689s : 300 calls. qps=29.98805369203756
04:46:16 I periodic.go:533> T002 ended after 10.004019692s : 300 calls. qps=29.98794576942942
Ended after 10.004033446s : 1200 calls. qps=119.95
Sleep times : count 1196 avg 0.031996619 +/- 0.0003987 min 0.028349023 max 0.032433459 sum 38.2679562
Aggregated Function Time : count 1200 avg 0.0010724244 +/- 0.0002763 min 0.000694331 max 0.004437887 sum 1.28690922
# range, mid point, percentile, count
>= 0.000694331 <= 0.0007 , 0.000697165 , 0.08, 1
> 0.0007 <= 0.0008 , 0.00075 , 2.08, 24
> 0.0008 <= 0.0009 , 0.00085 , 8.67, 79
> 0.0009 <= 0.001 , 0.00095 , 41.17, 390
> 0.001 <= 0.0011 , 0.00105 , 70.92, 357
> 0.0011 <= 0.0012 , 0.00115 , 87.83, 203
> 0.0012 <= 0.0014 , 0.0013 , 96.92, 109
> 0.0014 <= 0.0016 , 0.0015 , 98.00, 13
> 0.0016 <= 0.0018 , 0.0017 , 98.25, 3
> 0.0018 <= 0.002 , 0.0019 , 98.33, 1
> 0.002 <= 0.0025 , 0.00225 , 99.08, 9
> 0.0025 <= 0.003 , 0.00275 , 99.33, 3
> 0.003 <= 0.0035 , 0.00325 , 99.67, 4
> 0.0035 <= 0.004 , 0.00375 , 99.92, 3
> 0.004 <= 0.00443789 , 0.00421894 , 100.00, 1
# target 50% 0.00102969
# target 75% 0.00112414
# target 90% 0.00124771
# target 99% 0.00244444
# target 99.9% 0.00396667
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 1.072 ms avg, 120.0 qps
Successfully wrote 2992 bytes of Json data to /data/2018-11-19-044606_grpc_baseline_120qps_10s_echo_0_8.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
04:46:16 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:46:26 I periodic.go:533> T001 ended after 10.001827716s : 300 calls. qps=29.9945178539806
04:46:26 I periodic.go:533> T000 ended after 10.001949707s : 300 calls. qps=29.994152019184913
04:46:26 I periodic.go:533> T002 ended after 10.001966135s : 300 calls. qps=29.99410275447808
04:46:26 I periodic.go:533> T003 ended after 10.001977379s : 300 calls. qps=29.994069035776413
Ended after 10.001989441s : 1200 calls. qps=119.98
Sleep times : count 1196 avg 0.03134241 +/- 0.001577 min 0.008461812 max 0.032402279 sum 37.4855223
Aggregated Function Time : count 1200 avg 0.0016999704 +/- 0.001349 min 0.000819594 max 0.02478058 sum 2.03996452
# range, mid point, percentile, count
>= 0.000819594 <= 0.0009 , 0.000859797 , 0.08, 1
> 0.0009 <= 0.001 , 0.00095 , 0.17, 1
> 0.001 <= 0.0011 , 0.00105 , 0.25, 1
> 0.0011 <= 0.0012 , 0.00115 , 0.42, 2
> 0.0012 <= 0.0014 , 0.0013 , 11.17, 129
> 0.0014 <= 0.0016 , 0.0015 , 53.25, 505
> 0.0016 <= 0.0018 , 0.0017 , 84.58, 376
> 0.0018 <= 0.002 , 0.0019 , 94.42, 118
> 0.002 <= 0.0025 , 0.00225 , 98.42, 48
> 0.0025 <= 0.003 , 0.00275 , 99.25, 10
> 0.003 <= 0.0035 , 0.00325 , 99.33, 1
> 0.0035 <= 0.004 , 0.00375 , 99.67, 4
> 0.02 <= 0.0247806 , 0.0223903 , 100.00, 4
# target 50% 0.00158455
# target 75% 0.00173883
# target 90% 0.00191017
# target 99% 0.00285
# target 99.9% 0.0233464
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 1.700 ms avg, 120.0 qps
Successfully wrote 2729 bytes of Json data to /data/2018-11-19-044616_grpc_linkerd_120qps_10s_echo_0_8.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8079
04:46:26 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:46:36 I periodic.go:533> T001 ended after 10.002583059s : 300 calls. qps=29.99225282414123
04:46:36 I periodic.go:533> T000 ended after 10.003193487s : 300 calls. qps=29.990422597531026
04:46:36 I periodic.go:533> T002 ended after 10.003219519s : 300 calls. qps=29.99034455158996
04:46:36 I periodic.go:533> T003 ended after 10.003231776s : 300 calls. qps=29.990307804300546
Ended after 10.00326363s : 1200 calls. qps=119.96
Sleep times : count 1196 avg 0.031162472 +/- 0.0005713 min 0.027201878 max 0.032058934 sum 37.2703159
Aggregated Function Time : count 1200 avg 0.0019288263 +/- 0.0005726 min 0.001058145 max 0.005938709 sum 2.3145915
# range, mid point, percentile, count
>= 0.00105814 <= 0.0011 , 0.00107907 , 0.75, 9
> 0.0011 <= 0.0012 , 0.00115 , 4.58, 46
> 0.0012 <= 0.0014 , 0.0013 , 17.33, 153
> 0.0014 <= 0.0016 , 0.0015 , 22.67, 64
> 0.0016 <= 0.0018 , 0.0017 , 34.83, 146
> 0.0018 <= 0.002 , 0.0019 , 62.33, 330
> 0.002 <= 0.0025 , 0.00225 , 93.92, 379
> 0.0025 <= 0.003 , 0.00275 , 96.92, 36
> 0.003 <= 0.0035 , 0.00325 , 97.58, 8
> 0.0035 <= 0.004 , 0.00375 , 98.50, 11
> 0.004 <= 0.0045 , 0.00425 , 99.00, 6
> 0.0045 <= 0.005 , 0.00475 , 99.25, 3
> 0.005 <= 0.00593871 , 0.00546935 , 100.00, 9
# target 50% 0.0019103
# target 75% 0.00220053
# target 90% 0.00243799
# target 99% 0.0045
# target 99.9% 0.00581355
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 1.929 ms avg, 120.0 qps
Successfully wrote 2716 bytes of Json data to /data/2018-11-19-044626_grpc_istio_120qps_10s_echo_0_8.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
04:46:36 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 120.0 qps
04:46:36 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:46:46 I periodic.go:533> T003 ended after 10.0008451s : 300 calls. qps=29.997464914240098
04:46:46 I periodic.go:533> T002 ended after 10.000907014s : 300 calls. qps=29.99727920477994
04:46:46 I periodic.go:533> T000 ended after 10.000929854s : 300 calls. qps=29.99721069736442
04:46:46 I periodic.go:533> T001 ended after 10.000950113s : 300 calls. qps=29.997149931788687
Ended after 10.000964546s : 1200 calls. qps=119.99
Sleep times : count 1196 avg 0.032534723 +/- 0.0002004 min 0.030517518 max 0.03301276 sum 38.9115286
Aggregated Function Time : count 1200 avg 0.00057786655 +/- 0.0001511 min 0.000260328 max 0.002060679 sum 0.693439856
# range, mid point, percentile, count
>= 0.000260328 <= 0.0003 , 0.000280164 , 0.25, 3
> 0.0003 <= 0.0004 , 0.00035 , 4.33, 49
> 0.0004 <= 0.0005 , 0.00045 , 28.67, 292
> 0.0005 <= 0.0006 , 0.00055 , 63.00, 412
> 0.0006 <= 0.0007 , 0.00065 , 87.33, 292
> 0.0007 <= 0.0008 , 0.00075 , 95.42, 97
> 0.0008 <= 0.0009 , 0.00085 , 97.92, 30
> 0.0009 <= 0.001 , 0.00095 , 98.83, 11
> 0.001 <= 0.0011 , 0.00105 , 99.00, 2
> 0.0011 <= 0.0012 , 0.00115 , 99.33, 4
> 0.0012 <= 0.0014 , 0.0013 , 99.58, 3
> 0.0014 <= 0.0016 , 0.0015 , 99.67, 1
> 0.0018 <= 0.002 , 0.0019 , 99.92, 3
> 0.002 <= 0.00206068 , 0.00203034 , 100.00, 1
# target 50% 0.000562136
# target 75% 0.000649315
# target 90% 0.00073299
# target 99% 0.0011
# target 99.9% 0.00198667
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
Response Body/Total Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
All done 1200 calls (plus 4 warmup) 0.578 ms avg, 120.0 qps
Successfully wrote 3421 bytes of Json data to /data/2018-11-19-044636_http_baseline_120qps_10s_echo_1_8.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
04:46:46 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 120.0 qps
04:46:46 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:46:56 I periodic.go:533> T002 ended after 10.001383337s : 300 calls. qps=29.99585056300697
04:46:56 I periodic.go:533> T001 ended after 10.001438469s : 300 calls. qps=29.995685213668636
04:46:56 I periodic.go:533> T003 ended after 10.001470453s : 300 calls. qps=29.995589289574237
04:46:56 I periodic.go:533> T000 ended after 10.001483058s : 300 calls. qps=29.995551485740467
Ended after 10.001495943s : 1200 calls. qps=119.98
Sleep times : count 1196 avg 0.031896324 +/- 0.000251 min 0.029481032 max 0.032242089 sum 38.1480029
Aggregated Function Time : count 1200 avg 0.0012230996 +/- 0.000222 min 0.000909367 max 0.00361328 sum 1.46771952
# range, mid point, percentile, count
>= 0.000909367 <= 0.001 , 0.000954683 , 1.25, 15
> 0.001 <= 0.0011 , 0.00105 , 20.58, 232
> 0.0011 <= 0.0012 , 0.00115 , 56.92, 436
> 0.0012 <= 0.0014 , 0.0013 , 92.00, 421
> 0.0014 <= 0.0016 , 0.0015 , 96.67, 56
> 0.0016 <= 0.0018 , 0.0017 , 97.92, 15
> 0.0018 <= 0.002 , 0.0019 , 98.42, 6
> 0.002 <= 0.0025 , 0.00225 , 99.42, 12
> 0.0025 <= 0.003 , 0.00275 , 99.75, 4
> 0.003 <= 0.0035 , 0.00325 , 99.83, 1
> 0.0035 <= 0.00361328 , 0.00355664 , 100.00, 2
# target 50% 0.00118096
# target 75% 0.00130309
# target 90% 0.0013886
# target 99% 0.00229167
# target 99.9% 0.00354531
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
Response Body/Total Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
All done 1200 calls (plus 4 warmup) 1.223 ms avg, 120.0 qps
Successfully wrote 2991 bytes of Json data to /data/2018-11-19-044646_http_linkerd_120qps_10s_echo_1_8.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
04:46:56 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 120.0 qps
04:46:56 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:47:06 I periodic.go:533> T003 ended after 10.001898939s : 300 calls. qps=29.99430426458541
04:47:06 I periodic.go:533> T000 ended after 10.001959251s : 300 calls. qps=29.99412339837376
04:47:06 I periodic.go:533> T002 ended after 10.001971182s : 300 calls. qps=29.994087619437813
04:47:06 I periodic.go:533> T001 ended after 10.001981337s : 300 calls. qps=29.994057166475596
Ended after 10.001994792s : 1200 calls. qps=119.98
Sleep times : count 1196 avg 0.031382716 +/- 0.0007959 min 0.022617513 max 0.032556418 sum 37.5337278
Aggregated Function Time : count 1200 avg 0.0017342319 +/- 0.0007911 min 0.000850182 max 0.01060575 sum 2.08107831
# range, mid point, percentile, count
>= 0.000850182 <= 0.0009 , 0.000875091 , 0.08, 1
> 0.0009 <= 0.001 , 0.00095 , 0.17, 1
> 0.001 <= 0.0011 , 0.00105 , 0.58, 5
> 0.0011 <= 0.0012 , 0.00115 , 1.17, 7
> 0.0012 <= 0.0014 , 0.0013 , 14.67, 162
> 0.0014 <= 0.0016 , 0.0015 , 54.83, 482
> 0.0016 <= 0.0018 , 0.0017 , 80.92, 313
> 0.0018 <= 0.002 , 0.0019 , 89.92, 108
> 0.002 <= 0.0025 , 0.00225 , 95.42, 66
> 0.0025 <= 0.003 , 0.00275 , 96.25, 10
> 0.003 <= 0.0035 , 0.00325 , 96.58, 4
> 0.0035 <= 0.004 , 0.00375 , 97.83, 15
> 0.004 <= 0.0045 , 0.00425 , 98.00, 2
> 0.0045 <= 0.005 , 0.00475 , 98.33, 4
> 0.005 <= 0.006 , 0.0055 , 99.33, 12
> 0.006 <= 0.007 , 0.0065 , 99.67, 4
> 0.01 <= 0.0106058 , 0.0103029 , 100.00, 4
# target 50% 0.00157593
# target 75% 0.00175463
# target 90% 0.00200758
# target 99% 0.00566667
# target 99.9% 0.010424
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 209 +/- 0 min 209 max 209 sum 250800
Response Body/Total Sizes : count 1200 avg 209 +/- 0 min 209 max 209 sum 250800
All done 1200 calls (plus 4 warmup) 1.734 ms avg, 120.0 qps
Successfully wrote 3800 bytes of Json data to /data/2018-11-19-044656_http_istio_120qps_10s_echo_1_8.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
04:47:06 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:47:16 I periodic.go:533> T002 ended after 10.001259795s : 300 calls. qps=29.99622109106506
04:47:16 I periodic.go:533> T001 ended after 10.001360714s : 300 calls. qps=29.9959184133872
04:47:16 I periodic.go:533> T003 ended after 10.001502598s : 300 calls. qps=29.995492883238462
04:47:16 I periodic.go:533> T000 ended after 10.00153186s : 300 calls. qps=29.995405123870693
Ended after 10.001545348s : 1200 calls. qps=119.98
Sleep times : count 1196 avg 0.031997669 +/- 0.0003758 min 0.027926148 max 0.032509451 sum 38.269212
Aggregated Function Time : count 1200 avg 0.0011002869 +/- 0.0003336 min 0.00065175 max 0.005354741 sum 1.32034432
# range, mid point, percentile, count
>= 0.00065175 <= 0.0007 , 0.000675875 , 0.25, 3
> 0.0007 <= 0.0008 , 0.00075 , 1.92, 20
> 0.0008 <= 0.0009 , 0.00085 , 10.25, 100
> 0.0009 <= 0.001 , 0.00095 , 35.58, 304
> 0.001 <= 0.0011 , 0.00105 , 62.83, 327
> 0.0011 <= 0.0012 , 0.00115 , 81.58, 225
> 0.0012 <= 0.0014 , 0.0013 , 95.42, 166
> 0.0014 <= 0.0016 , 0.0015 , 97.33, 23
> 0.0016 <= 0.0018 , 0.0017 , 98.25, 11
> 0.0018 <= 0.002 , 0.0019 , 99.00, 9
> 0.002 <= 0.0025 , 0.00225 , 99.33, 4
> 0.0025 <= 0.003 , 0.00275 , 99.42, 1
> 0.003 <= 0.0035 , 0.00325 , 99.50, 1
> 0.0035 <= 0.004 , 0.00375 , 99.58, 1
> 0.0045 <= 0.005 , 0.00475 , 99.67, 1
> 0.005 <= 0.00535474 , 0.00517737 , 100.00, 4
# target 50% 0.00105291
# target 75% 0.00116489
# target 90% 0.00132169
# target 99% 0.002
# target 99.9% 0.00524832
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 1.100 ms avg, 120.0 qps
Successfully wrote 3074 bytes of Json data to /data/2018-11-19-044706_grpc_baseline_120qps_10s_echo_1_8.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
04:47:16 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:47:26 I periodic.go:533> T000 ended after 10.001851188s : 300 calls. qps=29.994447463878824
04:47:26 I periodic.go:533> T003 ended after 10.001989834s : 300 calls. qps=29.994031685595495
04:47:26 I periodic.go:533> T001 ended after 10.002004761s : 300 calls. qps=29.99398692247833
04:47:26 I periodic.go:533> T002 ended after 10.002016236s : 300 calls. qps=29.99395251131644
Ended after 10.002026999s : 1200 calls. qps=119.98
Sleep times : count 1196 avg 0.031228201 +/- 0.002128 min 0.002372565 max 0.031989807 sum 37.3489278
Aggregated Function Time : count 1200 avg 0.0017790595 +/- 0.001721 min 0.001122667 max 0.030867516 sum 2.13487146
# range, mid point, percentile, count
>= 0.00112267 <= 0.0012 , 0.00116133 , 0.42, 5
> 0.0012 <= 0.0014 , 0.0013 , 6.67, 75
> 0.0014 <= 0.0016 , 0.0015 , 44.50, 454
> 0.0016 <= 0.0018 , 0.0017 , 81.25, 441
> 0.0018 <= 0.002 , 0.0019 , 95.25, 168
> 0.002 <= 0.0025 , 0.00225 , 97.42, 26
> 0.0025 <= 0.003 , 0.00275 , 98.42, 12
> 0.003 <= 0.0035 , 0.00325 , 98.67, 3
> 0.0035 <= 0.004 , 0.00375 , 98.92, 3
> 0.005 <= 0.006 , 0.0055 , 99.67, 9
> 0.03 <= 0.0308675 , 0.0304338 , 100.00, 4
# target 50% 0.00162993
# target 75% 0.00176599
# target 90% 0.001925
# target 99% 0.00511111
# target 99.9% 0.0306073
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 1.779 ms avg, 120.0 qps
Successfully wrote 2460 bytes of Json data to /data/2018-11-19-044716_grpc_linkerd_120qps_10s_echo_1_8.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8079
04:47:26 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:47:36 I periodic.go:533> T001 ended after 10.001941985s : 300 calls. qps=29.99417517617205
04:47:36 I periodic.go:533> T002 ended after 10.002567472s : 300 calls. qps=29.992299561066133
04:47:36 I periodic.go:533> T003 ended after 10.002595744s : 300 calls. qps=29.992214788841512
04:47:36 I periodic.go:533> T000 ended after 10.002608307s : 300 calls. qps=29.992177119447412
Ended after 10.002620125s : 1200 calls. qps=119.97
Sleep times : count 1196 avg 0.030619965 +/- 0.0006959 min 0.026335989 max 0.03179776 sum 36.6214776
Aggregated Function Time : count 1200 avg 0.0024723879 +/- 0.0006997 min 0.00112011 max 0.006941345 sum 2.96686545
# range, mid point, percentile, count
>= 0.00112011 <= 0.0012 , 0.00116006 , 0.08, 1
> 0.0012 <= 0.0014 , 0.0013 , 0.92, 10
> 0.0014 <= 0.0016 , 0.0015 , 4.42, 42
> 0.0016 <= 0.0018 , 0.0017 , 14.25, 118
> 0.0018 <= 0.002 , 0.0019 , 22.83, 103
> 0.002 <= 0.0025 , 0.00225 , 55.67, 394
> 0.0025 <= 0.003 , 0.00275 , 91.67, 432
> 0.003 <= 0.0035 , 0.00325 , 94.25, 31
> 0.0035 <= 0.004 , 0.00375 , 96.25, 24
> 0.004 <= 0.0045 , 0.00425 , 97.25, 12
> 0.0045 <= 0.005 , 0.00475 , 98.50, 15
> 0.005 <= 0.006 , 0.0055 , 99.25, 9
> 0.006 <= 0.00694134 , 0.00647067 , 100.00, 9
# target 50% 0.00241371
# target 75% 0.00276852
# target 90% 0.00297685
# target 99% 0.00566667
# target 99.9% 0.00681583
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 2.472 ms avg, 120.0 qps
Successfully wrote 2681 bytes of Json data to /data/2018-11-19-044726_grpc_istio_120qps_10s_echo_1_8.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
04:47:36 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 120.0 qps
04:47:36 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:47:46 I periodic.go:533> T000 ended after 10.000732731s : 300 calls. qps=29.997801968056617
04:47:46 I periodic.go:533> T001 ended after 10.000924297s : 300 calls. qps=29.997227365273798
04:47:46 I periodic.go:533> T003 ended after 10.000941452s : 300 calls. qps=29.99717590987453
04:47:46 I periodic.go:533> T002 ended after 10.000975671s : 300 calls. qps=29.997073272552306
Ended after 10.000987362s : 1200 calls. qps=119.99
Sleep times : count 1196 avg 0.032536477 +/- 0.0002167 min 0.030730373 max 0.032873331 sum 38.9136267
Aggregated Function Time : count 1200 avg 0.00059496539 +/- 0.0001766 min 0.00030024 max 0.002515943 sum 0.713958462
# range, mid point, percentile, count
>= 0.00030024 <= 0.0004 , 0.00035012 , 2.92, 35
> 0.0004 <= 0.0005 , 0.00045 , 25.83, 275
> 0.0005 <= 0.0006 , 0.00055 , 61.08, 423
> 0.0006 <= 0.0007 , 0.00065 , 84.42, 280
> 0.0007 <= 0.0008 , 0.00075 , 93.67, 111
> 0.0008 <= 0.0009 , 0.00085 , 96.58, 35
> 0.0009 <= 0.001 , 0.00095 , 97.92, 16
> 0.001 <= 0.0011 , 0.00105 , 98.58, 8
> 0.0011 <= 0.0012 , 0.00115 , 98.83, 3
> 0.0012 <= 0.0014 , 0.0013 , 99.08, 3
> 0.0014 <= 0.0016 , 0.0015 , 99.33, 3
> 0.0016 <= 0.0018 , 0.0017 , 99.67, 4
> 0.0018 <= 0.002 , 0.0019 , 99.83, 2
> 0.002 <= 0.0025 , 0.00225 , 99.92, 1
> 0.0025 <= 0.00251594 , 0.00250797 , 100.00, 1
# target 50% 0.000568558
# target 75% 0.000659643
# target 90% 0.00076036
# target 99% 0.00133333
# target 99.9% 0.0024
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
Response Body/Total Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
All done 1200 calls (plus 4 warmup) 0.595 ms avg, 120.0 qps
Successfully wrote 3585 bytes of Json data to /data/2018-11-19-044736_http_baseline_120qps_10s_echo_0_9.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
04:47:46 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 120.0 qps
04:47:46 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:47:56 I periodic.go:533> T000 ended after 10.001451858s : 300 calls. qps=29.9956450582757
04:47:56 I periodic.go:533> T003 ended after 10.001521784s : 300 calls. qps=29.995435342642256
04:47:56 I periodic.go:533> T001 ended after 10.001535164s : 300 calls. qps=29.99539521491003
04:47:56 I periodic.go:533> T002 ended after 10.001544873s : 300 calls. qps=29.99536609687918
Ended after 10.001556603s : 1200 calls. qps=119.98
Sleep times : count 1196 avg 0.031865705 +/- 0.000402 min 0.0279308 max 0.032408899 sum 38.111383
Aggregated Function Time : count 1200 avg 0.0012293217 +/- 0.0003042 min 0.000778565 max 0.004492285 sum 1.47518606
# range, mid point, percentile, count
>= 0.000778565 <= 0.0008 , 0.000789283 , 0.08, 1
> 0.0008 <= 0.0009 , 0.00085 , 0.17, 1
> 0.0009 <= 0.001 , 0.00095 , 1.58, 17
> 0.001 <= 0.0011 , 0.00105 , 21.25, 236
> 0.0011 <= 0.0012 , 0.00115 , 58.83, 451
> 0.0012 <= 0.0014 , 0.0013 , 93.08, 411
> 0.0014 <= 0.0016 , 0.0015 , 96.00, 35
> 0.0016 <= 0.0018 , 0.0017 , 97.17, 14
> 0.0018 <= 0.002 , 0.0019 , 97.92, 9
> 0.002 <= 0.0025 , 0.00225 , 98.92, 12
> 0.0025 <= 0.003 , 0.00275 , 99.25, 4
> 0.003 <= 0.0035 , 0.00325 , 99.33, 1
> 0.0035 <= 0.004 , 0.00375 , 99.67, 4
> 0.004 <= 0.00449229 , 0.00424614 , 100.00, 4
# target 50% 0.0011765
# target 75% 0.0012944
# target 90% 0.001382
# target 99% 0.002625
# target 99.9% 0.0043446
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
Response Body/Total Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
All done 1200 calls (plus 4 warmup) 1.229 ms avg, 120.0 qps
Successfully wrote 3392 bytes of Json data to /data/2018-11-19-044746_http_linkerd_120qps_10s_echo_0_9.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
04:47:56 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 120.0 qps
04:47:56 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:48:06 I periodic.go:533> T001 ended after 10.001988065s : 300 calls. qps=29.99403699048505
04:48:06 I periodic.go:533> T000 ended after 10.002047245s : 300 calls. qps=29.993859522106266
04:48:06 I periodic.go:533> T003 ended after 10.002071475s : 300 calls. qps=29.993786862036
04:48:06 I periodic.go:533> T002 ended after 10.002081862s : 300 calls. qps=29.993755713974178
Ended after 10.002093347s : 1200 calls. qps=119.97
Sleep times : count 1196 avg 0.031275752 +/- 0.0006433 min 0.024285283 max 0.03240784 sum 37.4057996
Aggregated Function Time : count 1200 avg 0.0018090307 +/- 0.0006182 min 0.000977126 max 0.008899526 sum 2.17083684
# range, mid point, percentile, count
>= 0.000977126 <= 0.001 , 0.000988563 , 0.08, 1
> 0.001 <= 0.0011 , 0.00105 , 0.17, 1
> 0.0012 <= 0.0014 , 0.0013 , 3.17, 36
> 0.0014 <= 0.0016 , 0.0015 , 26.33, 278
> 0.0016 <= 0.0018 , 0.0017 , 62.50, 434
> 0.0018 <= 0.002 , 0.0019 , 87.17, 296
> 0.002 <= 0.0025 , 0.00225 , 97.50, 124
> 0.0025 <= 0.003 , 0.00275 , 98.25, 9
> 0.003 <= 0.0035 , 0.00325 , 98.33, 1
> 0.0035 <= 0.004 , 0.00375 , 98.92, 7
> 0.004 <= 0.0045 , 0.00425 , 99.00, 1
> 0.005 <= 0.006 , 0.0055 , 99.33, 4
> 0.006 <= 0.007 , 0.0065 , 99.67, 4
> 0.008 <= 0.00889953 , 0.00844976 , 100.00, 4
# target 50% 0.00173088
# target 75% 0.00190135
# target 90% 0.0021371
# target 99% 0.0045
# target 99.9% 0.00862967
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 209 +/- 0 min 209 max 209 sum 250800
Response Body/Total Sizes : count 1200 avg 209 +/- 0 min 209 max 209 sum 250800
All done 1200 calls (plus 4 warmup) 1.809 ms avg, 120.0 qps
Successfully wrote 3343 bytes of Json data to /data/2018-11-19-044756_http_istio_120qps_10s_echo_0_9.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
04:48:06 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:48:16 I periodic.go:533> T000 ended after 10.001410332s : 300 calls. qps=29.99576960062676
04:48:16 I periodic.go:533> T002 ended after 10.002277367s : 300 calls. qps=29.993169454565876
04:48:16 I periodic.go:533> T003 ended after 10.002362116s : 300 calls. qps=29.9929153254823
04:48:16 I periodic.go:533> T001 ended after 10.002392018s : 300 calls. qps=29.992825662114537
Ended after 10.002404388s : 1200 calls. qps=119.97
Sleep times : count 1196 avg 0.031952726 +/- 0.0003975 min 0.028547969 max 0.032459648 sum 38.2154603
Aggregated Function Time : count 1200 avg 0.00110701 +/- 0.0003209 min 0.00066869 max 0.004571287 sum 1.32841197
# range, mid point, percentile, count
>= 0.00066869 <= 0.0007 , 0.000684345 , 0.33, 4
> 0.0007 <= 0.0008 , 0.00075 , 0.83, 6
> 0.0008 <= 0.0009 , 0.00085 , 7.58, 81
> 0.0009 <= 0.001 , 0.00095 , 33.50, 311
> 0.001 <= 0.0011 , 0.00105 , 65.17, 380
> 0.0011 <= 0.0012 , 0.00115 , 82.17, 204
> 0.0012 <= 0.0014 , 0.0013 , 94.75, 151
> 0.0014 <= 0.0016 , 0.0015 , 96.92, 26
> 0.0016 <= 0.0018 , 0.0017 , 97.67, 9
> 0.0018 <= 0.002 , 0.0019 , 98.00, 4
> 0.002 <= 0.0025 , 0.00225 , 98.75, 9
> 0.0025 <= 0.003 , 0.00275 , 99.58, 10
> 0.004 <= 0.0045 , 0.00425 , 99.75, 2
> 0.0045 <= 0.00457129 , 0.00453564 , 100.00, 3
# target 50% 0.00105211
# target 75% 0.00115784
# target 90% 0.0013245
# target 99% 0.00265
# target 99.9% 0.00454277
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 1.107 ms avg, 120.0 qps
Successfully wrote 2861 bytes of Json data to /data/2018-11-19-044806_grpc_baseline_120qps_10s_echo_0_9.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
04:48:16 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:48:26 I periodic.go:533> T001 ended after 10.001966726s : 300 calls. qps=29.994100982175176
04:48:26 I periodic.go:533> T002 ended after 10.002780819s : 300 calls. qps=29.991659862241356
04:48:26 I periodic.go:533> T000 ended after 10.002978577s : 300 calls. qps=29.99106692978375
04:48:26 I periodic.go:533> T003 ended after 10.003067949s : 300 calls. qps=29.99079897582729
Ended after 10.003130114s : 1200 calls. qps=119.96
Sleep times : count 1196 avg 0.031249657 +/- 0.001913 min -0.000948882 max 0.031874451 sum 37.3745898
Aggregated Function Time : count 1200 avg 0.0017001509 +/- 0.0003605 min 0.000975006 max 0.005807142 sum 2.04018114
# range, mid point, percentile, count
>= 0.000975006 <= 0.001 , 0.000987503 , 0.08, 1
> 0.001 <= 0.0011 , 0.00105 , 0.25, 2
> 0.0011 <= 0.0012 , 0.00115 , 0.58, 4
> 0.0012 <= 0.0014 , 0.0013 , 7.33, 81
> 0.0014 <= 0.0016 , 0.0015 , 42.58, 423
> 0.0016 <= 0.0018 , 0.0017 , 76.33, 405
> 0.0018 <= 0.002 , 0.0019 , 91.67, 184
> 0.002 <= 0.0025 , 0.00225 , 97.17, 66
> 0.0025 <= 0.003 , 0.00275 , 98.83, 20
> 0.003 <= 0.0035 , 0.00325 , 99.25, 5
> 0.0035 <= 0.004 , 0.00375 , 99.50, 3
> 0.004 <= 0.0045 , 0.00425 , 99.67, 2
> 0.0045 <= 0.005 , 0.00475 , 99.92, 3
> 0.005 <= 0.00580714 , 0.00540357 , 100.00, 1
# target 50% 0.00164395
# target 75% 0.0017921
# target 90% 0.00197826
# target 99% 0.0032
# target 99.9% 0.00496667
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 1.700 ms avg, 120.0 qps
Successfully wrote 2855 bytes of Json data to /data/2018-11-19-044816_grpc_linkerd_120qps_10s_echo_0_9.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8079
04:48:26 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:48:36 I periodic.go:533> T001 ended after 10.00185883s : 300 calls. qps=29.994424546382046
04:48:36 I periodic.go:533> T002 ended after 10.004644157s : 300 calls. qps=29.986073996454685
04:48:36 I periodic.go:533> T003 ended after 10.004784965s : 300 calls. qps=29.985651970481904
04:48:36 I periodic.go:533> T000 ended after 10.004827816s : 300 calls. qps=29.985523540968053
Ended after 10.004839326s : 1200 calls. qps=119.94
Sleep times : count 1196 avg 0.031106011 +/- 0.0006375 min 0.025770119 max 0.032059968 sum 37.2027886
Aggregated Function Time : count 1200 avg 0.0019976015 +/- 0.000644 min 0.001051859 max 0.007482235 sum 2.3971218
# range, mid point, percentile, count
>= 0.00105186 <= 0.0011 , 0.00107593 , 0.33, 4
> 0.0011 <= 0.0012 , 0.00115 , 2.75, 29
> 0.0012 <= 0.0014 , 0.0013 , 14.92, 146
> 0.0014 <= 0.0016 , 0.0015 , 21.83, 83
> 0.0016 <= 0.0018 , 0.0017 , 28.92, 85
> 0.0018 <= 0.002 , 0.0019 , 53.50, 295
> 0.002 <= 0.0025 , 0.00225 , 92.67, 470
> 0.0025 <= 0.003 , 0.00275 , 96.75, 49
> 0.003 <= 0.0035 , 0.00325 , 97.08, 4
> 0.0035 <= 0.004 , 0.00375 , 97.25, 2
> 0.004 <= 0.0045 , 0.00425 , 98.50, 15
> 0.0045 <= 0.005 , 0.00475 , 99.08, 7
> 0.005 <= 0.006 , 0.0055 , 99.67, 7
> 0.006 <= 0.007 , 0.0065 , 99.75, 1
> 0.007 <= 0.00748224 , 0.00724112 , 100.00, 3
# target 50% 0.00197153
# target 75% 0.00227447
# target 90% 0.00246596
# target 99% 0.00492857
# target 99.9% 0.00728934
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 1.998 ms avg, 119.9 qps
Successfully wrote 2933 bytes of Json data to /data/2018-11-19-044826_grpc_istio_120qps_10s_echo_0_9.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
04:48:36 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 120.0 qps
04:48:36 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:48:46 I periodic.go:533> T002 ended after 10.000915543s : 300 calls. qps=29.997253622442678
04:48:46 I periodic.go:533> T000 ended after 10.000995096s : 300 calls. qps=29.997015009035255
04:48:46 I periodic.go:533> T003 ended after 10.001008173s : 300 calls. qps=29.9969757858931
04:48:46 I periodic.go:533> T001 ended after 10.00102022s : 300 calls. qps=29.996939652222803
Ended after 10.001032274s : 1200 calls. qps=119.99
Sleep times : count 1196 avg 0.032542416 +/- 0.0002111 min 0.030018135 max 0.032989164 sum 38.9207294
Aggregated Function Time : count 1200 avg 0.00058866746 +/- 0.0002052 min 0.000267375 max 0.003177721 sum 0.706400951
# range, mid point, percentile, count
>= 0.000267375 <= 0.0003 , 0.000283687 , 0.33, 4
> 0.0003 <= 0.0004 , 0.00035 , 3.67, 40
> 0.0004 <= 0.0005 , 0.00045 , 30.17, 318
> 0.0005 <= 0.0006 , 0.00055 , 62.50, 388
> 0.0006 <= 0.0007 , 0.00065 , 85.33, 274
> 0.0007 <= 0.0008 , 0.00075 , 94.25, 107
> 0.0008 <= 0.0009 , 0.00085 , 97.75, 42
> 0.0009 <= 0.001 , 0.00095 , 98.75, 12
> 0.001 <= 0.0011 , 0.00105 , 98.83, 1
> 0.0011 <= 0.0012 , 0.00115 , 99.08, 3
> 0.0012 <= 0.0014 , 0.0013 , 99.17, 1
> 0.0014 <= 0.0016 , 0.0015 , 99.33, 2
> 0.0018 <= 0.002 , 0.0019 , 99.67, 4
> 0.003 <= 0.00317772 , 0.00308886 , 100.00, 4
# target 50% 0.00056134
# target 75% 0.000654745
# target 90% 0.000752336
# target 99% 0.00116667
# target 99.9% 0.0031244
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
Response Body/Total Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
All done 1200 calls (plus 4 warmup) 0.589 ms avg, 120.0 qps
Successfully wrote 3425 bytes of Json data to /data/2018-11-19-044836_http_baseline_120qps_10s_echo_1_9.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
04:48:46 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 120.0 qps
04:48:46 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:48:56 I periodic.go:533> T001 ended after 10.001436548s : 300 calls. qps=29.995690975012124
04:48:56 I periodic.go:533> T002 ended after 10.001497887s : 300 calls. qps=29.995507011998836
04:48:56 I periodic.go:533> T000 ended after 10.001509322s : 300 calls. qps=29.995472717312733
04:48:56 I periodic.go:533> T003 ended after 10.001575509s : 300 calls. qps=29.995274217551277
Ended after 10.001588933s : 1200 calls. qps=119.98
Sleep times : count 1196 avg 0.031867746 +/- 0.0004261 min 0.029104815 max 0.03290961 sum 38.1138247
Aggregated Function Time : count 1200 avg 0.0012078297 +/- 0.0003193 min 0.000481712 max 0.004126033 sum 1.44939562
# range, mid point, percentile, count
>= 0.000481712 <= 0.0005 , 0.000490856 , 0.08, 1
> 0.0005 <= 0.0006 , 0.00055 , 0.17, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.25, 1
> 0.0008 <= 0.0009 , 0.00085 , 0.83, 7
> 0.0009 <= 0.001 , 0.00095 , 3.67, 34
> 0.001 <= 0.0011 , 0.00105 , 31.58, 335
> 0.0011 <= 0.0012 , 0.00115 , 66.83, 423
> 0.0012 <= 0.0014 , 0.0013 , 93.67, 322
> 0.0014 <= 0.0016 , 0.0015 , 96.50, 34
> 0.0016 <= 0.0018 , 0.0017 , 97.33, 10
> 0.002 <= 0.0025 , 0.00225 , 98.00, 8
> 0.0025 <= 0.003 , 0.00275 , 98.92, 11
> 0.003 <= 0.0035 , 0.00325 , 99.67, 9
> 0.004 <= 0.00412603 , 0.00406302 , 100.00, 4
# target 50% 0.00115225
# target 75% 0.00126087
# target 90% 0.00137267
# target 99% 0.00305556
# target 99.9% 0.00408822
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
Response Body/Total Sizes : count 1200 avg 75 +/- 0 min 75 max 75 sum 90000
All done 1200 calls (plus 4 warmup) 1.208 ms avg, 120.0 qps
Successfully wrote 3393 bytes of Json data to /data/2018-11-19-044846_http_linkerd_120qps_10s_echo_1_9.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
04:48:56 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 120.0 qps
04:48:56 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:49:06 I periodic.go:533> T000 ended after 10.00242914s : 300 calls. qps=29.992714349786436
04:49:06 I periodic.go:533> T003 ended after 10.00249239s : 300 calls. qps=29.992524693138005
04:49:06 I periodic.go:533> T002 ended after 10.002505197s : 300 calls. qps=29.992486291332042
04:49:06 I periodic.go:533> T001 ended after 10.002516943s : 300 calls. qps=29.992451071022394
Ended after 10.002530359s : 1200 calls. qps=119.97
Sleep times : count 1196 avg 0.031475734 +/- 0.0004081 min 0.027325451 max 0.032228875 sum 37.6449776
Aggregated Function Time : count 1200 avg 0.0016427784 +/- 0.0003965 min 0.000863276 max 0.005822133 sum 1.97133402
# range, mid point, percentile, count
>= 0.000863276 <= 0.0009 , 0.000881638 , 0.08, 1
> 0.0009 <= 0.001 , 0.00095 , 0.58, 6
> 0.001 <= 0.0011 , 0.00105 , 0.83, 3
> 0.0011 <= 0.0012 , 0.00115 , 0.92, 1
> 0.0012 <= 0.0014 , 0.0013 , 13.50, 151
> 0.0014 <= 0.0016 , 0.0015 , 53.75, 483
> 0.0016 <= 0.0018 , 0.0017 , 85.00, 375
> 0.0018 <= 0.002 , 0.0019 , 94.25, 111
> 0.002 <= 0.0025 , 0.00225 , 97.50, 39
> 0.0025 <= 0.003 , 0.00275 , 98.50, 12
> 0.003 <= 0.0035 , 0.00325 , 98.67, 2
> 0.0035 <= 0.004 , 0.00375 , 99.58, 11
> 0.004 <= 0.0045 , 0.00425 , 99.67, 1
> 0.005 <= 0.00582213 , 0.00541107 , 100.00, 4
# target 50% 0.00158137
# target 75% 0.001736
# target 90% 0.00190811
# target 99% 0.00368182
# target 99.9% 0.00557549
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 1200 (100.0 %)
Response Header Sizes : count 1200 avg 209 +/- 0 min 209 max 209 sum 250800
Response Body/Total Sizes : count 1200 avg 209 +/- 0 min 209 max 209 sum 250800
All done 1200 calls (plus 4 warmup) 1.643 ms avg, 120.0 qps
Successfully wrote 3367 bytes of Json data to /data/2018-11-19-044856_http_istio_120qps_10s_echo_1_9.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
04:49:06 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:49:16 I periodic.go:533> T003 ended after 10.001334458s : 300 calls. qps=29.995997160162162
04:49:16 I periodic.go:533> T002 ended after 10.00182023s : 300 calls. qps=29.994540303790284
04:49:16 I periodic.go:533> T000 ended after 10.003899132s : 300 calls. qps=29.988307163191415
04:49:16 I periodic.go:533> T001 ended after 10.003936894s : 300 calls. qps=29.988193965910476
Ended after 10.003951672s : 1200 calls. qps=119.95
Sleep times : count 1196 avg 0.031940243 +/- 0.0005126 min 0.028471473 max 0.032530166 sum 38.2005307
Aggregated Function Time : count 1200 avg 0.0011447172 +/- 0.0004446 min 0.000632517 max 0.004196516 sum 1.37366068
# range, mid point, percentile, count
>= 0.000632517 <= 0.0007 , 0.000666259 , 0.08, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.50, 5
> 0.0008 <= 0.0009 , 0.00085 , 7.25, 81
> 0.0009 <= 0.001 , 0.00095 , 36.42, 350
> 0.001 <= 0.0011 , 0.00105 , 69.75, 400
> 0.0011 <= 0.0012 , 0.00115 , 84.50, 177
> 0.0012 <= 0.0014 , 0.0013 , 91.83, 88
> 0.0014 <= 0.0016 , 0.0015 , 93.67, 22
> 0.0016 <= 0.0018 , 0.0017 , 94.67, 12
> 0.0018 <= 0.002 , 0.0019 , 95.50, 10
> 0.002 <= 0.0025 , 0.00225 , 96.50, 12
> 0.0025 <= 0.003 , 0.00275 , 97.83, 16
> 0.003 <= 0.0035 , 0.00325 , 98.75, 11
> 0.0035 <= 0.004 , 0.00375 , 99.75, 12
> 0.004 <= 0.00419652 , 0.00409826 , 100.00, 3
# target 50% 0.00104075
# target 75% 0.00113559
# target 90% 0.00135
# target 99% 0.003625
# target 99.9% 0.00411791
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 1.145 ms avg, 120.0 qps
Successfully wrote 2883 bytes of Json data to /data/2018-11-19-044906_grpc_baseline_120qps_10s_echo_1_9.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
04:49:16 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:49:26 I periodic.go:533> T002 ended after 10.001851599s : 300 calls. qps=29.99444623133525
04:49:26 I periodic.go:533> T003 ended after 10.002600017s : 300 calls. qps=29.992201976499366
04:49:26 I periodic.go:533> T001 ended after 10.00271919s : 300 calls. qps=29.99184464759527
04:49:26 I periodic.go:533> T000 ended after 10.002819709s : 300 calls. qps=29.991543257555275
Ended after 10.002905678s : 1200 calls. qps=119.97
Sleep times : count 1196 avg 0.031356738 +/- 0.001065 min 0.018621803 max 0.03186806 sum 37.5026592
Aggregated Function Time : count 1200 avg 0.0016926853 +/- 0.0007556 min 0.001219169 max 0.01414861 sum 2.03122235
# range, mid point, percentile, count
>= 0.00121917 <= 0.0014 , 0.00130958 , 7.33, 88
> 0.0014 <= 0.0016 , 0.0015 , 48.00, 488
> 0.0016 <= 0.0018 , 0.0017 , 83.08, 421
> 0.0018 <= 0.002 , 0.0019 , 94.33, 135
> 0.002 <= 0.0025 , 0.00225 , 97.25, 35
> 0.0025 <= 0.003 , 0.00275 , 99.50, 27
> 0.003 <= 0.0035 , 0.00325 , 99.58, 1
> 0.0045 <= 0.005 , 0.00475 , 99.67, 1
> 0.012 <= 0.014 , 0.013 , 99.83, 2
> 0.014 <= 0.0141486 , 0.0140743 , 100.00, 2
# target 50% 0.0016114
# target 75% 0.00175392
# target 90% 0.00192296
# target 99% 0.00288889
# target 99.9% 0.0140594
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 1.693 ms avg, 120.0 qps
Successfully wrote 2302 bytes of Json data to /data/2018-11-19-044916_grpc_linkerd_120qps_10s_echo_1_9.json
Fortio 1.3.1-pre running at 120 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8079
04:49:26 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 120.0 qps
Starting at 120 qps with 4 thread(s) [gomax 1] for 10s : 300 calls each (total 1200)
04:49:36 I periodic.go:533> T000 ended after 10.001429231s : 300 calls. qps=29.995712919722806
04:49:36 I periodic.go:533> T001 ended after 10.005938399s : 300 calls. qps=29.98219537609608
04:49:36 I periodic.go:533> T002 ended after 10.006079159s : 300 calls. qps=29.981773603116462
04:49:36 I periodic.go:533> T003 ended after 10.006118182s : 300 calls. qps=29.981656676778996
Ended after 10.006132653s : 1200 calls. qps=119.93
Sleep times : count 1196 avg 0.031107325 +/- 0.0009182 min 0.022943807 max 0.032081973 sum 37.2043608
Aggregated Function Time : count 1200 avg 0.0019971894 +/- 0.0009143 min 0.000944061 max 0.010289452 sum 2.39662727
# range, mid point, percentile, count
>= 0.000944061 <= 0.001 , 0.00097203 , 0.33, 4
> 0.001 <= 0.0011 , 0.00105 , 2.00, 20
> 0.0011 <= 0.0012 , 0.00115 , 6.92, 59
> 0.0012 <= 0.0014 , 0.0013 , 18.25, 136
> 0.0014 <= 0.0016 , 0.0015 , 22.67, 53
> 0.0016 <= 0.0018 , 0.0017 , 36.75, 169
> 0.0018 <= 0.002 , 0.0019 , 65.42, 344
> 0.002 <= 0.0025 , 0.00225 , 92.50, 325
> 0.0025 <= 0.003 , 0.00275 , 94.50, 24
> 0.003 <= 0.0035 , 0.00325 , 95.33, 10
> 0.0035 <= 0.004 , 0.00375 , 95.83, 6
> 0.004 <= 0.0045 , 0.00425 , 96.67, 10
> 0.0045 <= 0.005 , 0.00475 , 97.17, 6
> 0.005 <= 0.006 , 0.0055 , 99.25, 25
> 0.006 <= 0.007 , 0.0065 , 99.67, 5
> 0.009 <= 0.01 , 0.0095 , 99.75, 1
> 0.01 <= 0.0102895 , 0.0101447 , 100.00, 3
# target 50% 0.00189244
# target 75% 0.00217692
# target 90% 0.00245385
# target 99% 0.00588
# target 99.9% 0.0101737
Ping SERVING : 1200
All done 1200 calls (plus 4 warmup) 1.997 ms avg, 119.9 qps
Successfully wrote 3162 bytes of Json data to /data/2018-11-19-044926_grpc_istio_120qps_10s_echo_1_9.json
