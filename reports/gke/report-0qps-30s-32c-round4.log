1.3.1-pre unknown go1.11.2
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8080/echo
06:06:51 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
06:06:51 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:07:21 I periodic.go:533> T024 ended after 30.000190663s : 30657 calls. qps=1021.8935054239524
06:07:21 I periodic.go:533> T007 ended after 30.000680556s : 30587 calls. qps=1019.5435381175957
06:07:21 I periodic.go:533> T006 ended after 30.002534207s : 30185 calls. qps=1006.0816793588532
06:07:21 I periodic.go:533> T027 ended after 30.002585268s : 30542 calls. qps=1017.9789417205765
06:07:21 I periodic.go:533> T020 ended after 30.002600002s : 29916 calls. qps=997.1135834229624
06:07:21 I periodic.go:533> T008 ended after 30.002610602s : 30282 calls. qps=1009.312169587715
06:07:21 I periodic.go:533> T030 ended after 30.00262117s : 30850 calls. qps=1028.2434933000889
06:07:21 I periodic.go:533> T005 ended after 30.002631362s : 30506 calls. qps=1016.7774830122916
06:07:21 I periodic.go:533> T025 ended after 30.002642023s : 30514 calls. qps=1017.043764899371
06:07:21 I periodic.go:533> T011 ended after 30.004089705s : 30532 calls. qps=1017.5946112743434
06:07:21 I periodic.go:533> T016 ended after 30.004158495s : 30815 calls. qps=1027.02430415221
06:07:21 I periodic.go:533> T019 ended after 30.004172607s : 30742 calls. qps=1024.5908261715526
06:07:21 I periodic.go:533> T001 ended after 30.004198145s : 30028 calls. qps=1000.7932841559362
06:07:21 I periodic.go:533> T015 ended after 30.00421067s : 30021 calls. qps=1000.5595657951031
06:07:21 I periodic.go:533> T013 ended after 30.004221227s : 30185 calls. qps=1006.0251113212471
06:07:21 I periodic.go:533> T010 ended after 30.004230941s : 30115 calls. qps=1003.6917813097032
06:07:21 I periodic.go:533> T000 ended after 30.004240832s : 29948 calls. qps=998.1255705713434
06:07:21 I periodic.go:533> T018 ended after 30.004252292s : 30108 calls. qps=1003.4577668188606
06:07:21 I periodic.go:533> T031 ended after 30.004274495s : 30046 calls. qps=1001.3906520221628
06:07:21 I periodic.go:533> T003 ended after 30.004284632s : 29935 calls. qps=997.6908420630663
06:07:21 I periodic.go:533> T023 ended after 30.004294585s : 30199 calls. qps=1006.4892515452551
06:07:21 I periodic.go:533> T026 ended after 30.004304843s : 30224 calls. qps=1007.3221212139249
06:07:21 I periodic.go:533> T002 ended after 30.004313907s : 30623 calls. qps=1020.6199046882942
06:07:21 I periodic.go:533> T021 ended after 30.004323889s : 30182 calls. qps=1005.9216835432555
06:07:21 I periodic.go:533> T012 ended after 30.004333736s : 30255 calls. qps=1008.3543352838808
06:07:21 I periodic.go:533> T028 ended after 30.004379752s : 29984 calls. qps=999.3207740947006
06:07:21 I periodic.go:533> T029 ended after 30.00439025s : 30082 calls. qps=1002.5866131373891
06:07:21 I periodic.go:533> T017 ended after 30.004400248s : 30683 calls. qps=1022.6166744341185
06:07:21 I periodic.go:533> T022 ended after 30.004409619s : 30625 calls. qps=1020.6833058500514
06:07:21 I periodic.go:533> T004 ended after 30.00441963s : 30547 calls. qps=1018.0833482763819
06:07:21 I periodic.go:533> T009 ended after 30.004429666s : 30664 calls. qps=1021.9824319722832
06:07:21 I periodic.go:533> T014 ended after 30.00445418s : 30704 calls. qps=1023.314732399508
Ended after 30.004472007s : 971286 calls. qps=32371
Aggregated Function Time : count 971286 avg 0.00098796414 +/- 0.0006361 min 6.9082e-05 max 0.013675309 sum 959.595741
# range, mid point, percentile, count
>= 6.9082e-05 <= 0.0001 , 8.4541e-05 , 0.31, 2978
> 0.0001 <= 0.0002 , 0.00015 , 3.43, 30372
> 0.0002 <= 0.0003 , 0.00025 , 8.14, 45710
> 0.0003 <= 0.0004 , 0.00035 , 14.03, 57227
> 0.0004 <= 0.0005 , 0.00045 , 21.02, 67871
> 0.0005 <= 0.0006 , 0.00055 , 28.81, 75656
> 0.0006 <= 0.0007 , 0.00065 , 36.64, 76046
> 0.0007 <= 0.0008 , 0.00075 , 44.17, 73133
> 0.0008 <= 0.0009 , 0.00085 , 51.27, 68964
> 0.0009 <= 0.001 , 0.00095 , 57.93, 64678
> 0.001 <= 0.0011 , 0.00105 , 64.18, 60773
> 0.0011 <= 0.0012 , 0.00115 , 70.00, 56529
> 0.0012 <= 0.0014 , 0.0013 , 80.10, 98070
> 0.0014 <= 0.0016 , 0.0015 , 87.73, 74103
> 0.0016 <= 0.0018 , 0.0017 , 92.10, 42402
> 0.0018 <= 0.002 , 0.0019 , 94.75, 25816
> 0.002 <= 0.0025 , 0.00225 , 97.89, 30455
> 0.0025 <= 0.003 , 0.00275 , 98.83, 9165
> 0.003 <= 0.0035 , 0.00325 , 99.20, 3599
> 0.0035 <= 0.004 , 0.00375 , 99.39, 1805
> 0.004 <= 0.0045 , 0.00425 , 99.59, 1954
> 0.0045 <= 0.005 , 0.00475 , 99.77, 1764
> 0.005 <= 0.006 , 0.0055 , 99.95, 1717
> 0.006 <= 0.007 , 0.0065 , 99.98, 339
> 0.007 <= 0.008 , 0.0075 , 99.99, 102
> 0.008 <= 0.009 , 0.0085 , 100.00, 44
> 0.009 <= 0.01 , 0.0095 , 100.00, 10
> 0.01 <= 0.012 , 0.011 , 100.00, 3
> 0.012 <= 0.0136753 , 0.0128377 , 100.00, 1
# target 50% 0.000882144
# target 75% 0.00129897
# target 90% 0.00170399
# target 99% 0.00322578
# target 99.9% 0.00572494
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 971286 (100.0 %)
Response Header Sizes : count 971286 avg 75 +/- 0 min 75 max 75 sum 72846450
Response Body/Total Sizes : count 971286 avg 75 +/- 0 min 75 max 75 sum 72846450
All done 971286 calls (plus 32 warmup) 0.988 ms avg, 32371.4 qps
Successfully wrote 5464 bytes of Json data to /data/2018-12-08-060651_http_baseline_0qps_30s_echo_0_0.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-linkerd:8080/echo
06:07:21 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 32 threads at -1.0 qps
06:07:21 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:07:51 I periodic.go:533> T020 ended after 30.000380148s : 10336 calls. qps=344.52896760006746
06:07:51 I periodic.go:533> T031 ended after 30.000972688s : 10353 calls. qps=345.0888112084801
06:07:51 I periodic.go:533> T002 ended after 30.005568648s : 10324 calls. qps=344.06946660843033
06:07:51 I periodic.go:533> T017 ended after 30.005611603s : 10323 calls. qps=344.03564695104876
06:07:51 I periodic.go:533> T005 ended after 30.005624401s : 10366 calls. qps=345.4685648752749
06:07:51 I periodic.go:533> T023 ended after 30.005676678s : 10407 calls. qps=346.8343710985314
06:07:51 I periodic.go:533> T029 ended after 30.005688618s : 10353 calls. qps=345.03457433699344
06:07:51 I periodic.go:533> T022 ended after 30.005698442s : 10346 calls. qps=344.8011723505943
06:07:51 I periodic.go:533> T012 ended after 30.005721362s : 10348 calls. qps=344.8675629276811
06:07:51 I periodic.go:533> T021 ended after 30.005734958s : 10412 calls. qps=347.0003322556176
06:07:51 I periodic.go:533> T011 ended after 30.005745207s : 10408 calls. qps=346.8669059274666
06:07:51 I periodic.go:533> T001 ended after 30.005755623s : 10394 calls. qps=346.4002083664507
06:07:51 I periodic.go:533> T007 ended after 30.005766322s : 10362 calls. qps=345.33362317104564
06:07:51 I periodic.go:533> T019 ended after 30.005777957s : 10362 calls. qps=345.33348926494557
06:07:51 I periodic.go:533> T016 ended after 30.005810436s : 10394 calls. qps=346.3995755811886
06:07:51 I periodic.go:533> T014 ended after 30.005822344s : 10372 calls. qps=345.666247073345
06:07:51 I periodic.go:533> T010 ended after 30.00583271s : 10377 calls. qps=345.8327619263728
06:07:51 I periodic.go:533> T006 ended after 30.005843594s : 10400 calls. qps=346.5991538421401
06:07:51 I periodic.go:533> T028 ended after 30.005853759s : 10410 calls. qps=346.93230472995987
06:07:51 I periodic.go:533> T018 ended after 30.005864315s : 10416 calls. qps=347.1321435921117
06:07:51 I periodic.go:533> T024 ended after 30.005874602s : 10423 calls. qps=347.36531223473384
06:07:51 I periodic.go:533> T026 ended after 30.005900127s : 10385 calls. qps=346.09859914368434
06:07:51 I periodic.go:533> T025 ended after 30.005911674s : 10345 calls. qps=344.7653953125477
06:07:51 I periodic.go:533> T027 ended after 30.005921924s : 10350 calls. qps=344.93191131453403
06:07:51 I periodic.go:533> T030 ended after 30.005931965s : 10381 calls. qps=345.96492493913445
06:07:51 I periodic.go:533> T009 ended after 30.005942966s : 10413 calls. qps=347.0312535019834
06:07:51 I periodic.go:533> T004 ended after 30.005953105s : 10383 calls. qps=346.03133463772036
06:07:51 I periodic.go:533> T013 ended after 30.00597833s : 10373 calls. qps=345.69777682033003
06:07:51 I periodic.go:533> T000 ended after 30.00598903s : 10396 calls. qps=346.4641671902924
06:07:51 I periodic.go:533> T015 ended after 30.005999825s : 10423 calls. qps=347.36386258710513
06:07:51 I periodic.go:533> T003 ended after 30.006009824s : 10416 calls. qps=347.1304602342984
06:07:51 I periodic.go:533> T008 ended after 30.006023962s : 10369 calls. qps=345.56394453098585
Ended after 30.006040906s : 332120 calls. qps=11068
Aggregated Function Time : count 332120 avg 0.0028899444 +/- 0.0008692 min 0.000284701 max 0.043868608 sum 959.808331
# range, mid point, percentile, count
>= 0.000284701 <= 0.0003 , 0.00029235 , 0.00, 1
> 0.0003 <= 0.0004 , 0.00035 , 0.00, 4
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 35
> 0.0005 <= 0.0006 , 0.00055 , 0.05, 117
> 0.0006 <= 0.0007 , 0.00065 , 0.09, 137
> 0.0007 <= 0.0008 , 0.00075 , 0.14, 187
> 0.0008 <= 0.0009 , 0.00085 , 0.25, 344
> 0.0009 <= 0.001 , 0.00095 , 0.35, 339
> 0.001 <= 0.0011 , 0.00105 , 0.43, 269
> 0.0011 <= 0.0012 , 0.00115 , 0.54, 360
> 0.0012 <= 0.0014 , 0.0013 , 0.99, 1482
> 0.0014 <= 0.0016 , 0.0015 , 1.85, 2884
> 0.0016 <= 0.0018 , 0.0017 , 2.98, 3744
> 0.0018 <= 0.002 , 0.0019 , 5.32, 7779
> 0.002 <= 0.0025 , 0.00225 , 25.07, 65571
> 0.0025 <= 0.003 , 0.00275 , 67.93, 142353
> 0.003 <= 0.0035 , 0.00325 , 89.82, 72699
> 0.0035 <= 0.004 , 0.00375 , 94.93, 16981
> 0.004 <= 0.0045 , 0.00425 , 96.77, 6091
> 0.0045 <= 0.005 , 0.00475 , 97.57, 2657
> 0.005 <= 0.006 , 0.0055 , 98.61, 3466
> 0.006 <= 0.007 , 0.0065 , 99.46, 2829
> 0.007 <= 0.008 , 0.0075 , 99.78, 1048
> 0.008 <= 0.009 , 0.0085 , 99.90, 427
> 0.009 <= 0.01 , 0.0095 , 99.97, 202
> 0.01 <= 0.012 , 0.011 , 99.98, 48
> 0.012 <= 0.014 , 0.013 , 99.98, 2
> 0.02 <= 0.025 , 0.0225 , 99.98, 2
> 0.025 <= 0.03 , 0.0275 , 99.99, 31
> 0.03 <= 0.035 , 0.0325 , 100.00, 30
> 0.04 <= 0.0438686 , 0.0419343 , 100.00, 1
# target 50% 0.00279085
# target 75% 0.00316152
# target 90% 0.00351776
# target 99% 0.0064591
# target 99.9% 0.00896225
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 332120 (100.0 %)
Response Header Sizes : count 332120 avg 75 +/- 0 min 75 max 75 sum 24909000
Response Body/Total Sizes : count 332120 avg 75 +/- 0 min 75 max 75 sum 24909000
All done 332120 calls (plus 32 warmup) 2.890 ms avg, 11068.4 qps
Successfully wrote 5721 bytes of Json data to /data/2018-12-08-060721_http_linkerd_0qps_30s_echo_0_0.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8080/echo
06:07:51 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 32 threads at -1.0 qps
06:07:51 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:08:21 I periodic.go:533> T028 ended after 30.000007149s : 3442 calls. qps=114.7333059923865
06:08:21 I periodic.go:533> T015 ended after 30.000523993s : 3446 calls. qps=114.86466039073359
06:08:21 I periodic.go:533> T007 ended after 30.002695167s : 3449 calls. qps=114.9563391156125
06:08:21 I periodic.go:533> T019 ended after 30.002757898s : 3424 calls. qps=114.12284202807389
06:08:21 I periodic.go:533> T027 ended after 30.002772043s : 3419 calls. qps=113.95613695627478
06:08:21 I periodic.go:533> T003 ended after 30.002785413s : 3436 calls. qps=114.52270023273255
06:08:21 I periodic.go:533> T011 ended after 30.002799536s : 3439 calls. qps=114.6226369933774
06:08:21 I periodic.go:533> T005 ended after 30.002827277s : 3461 calls. qps=115.35579524044333
06:08:21 I periodic.go:533> T031 ended after 30.002838627s : 3443 calls. qps=114.75580836879858
06:08:21 I periodic.go:533> T001 ended after 30.002849915s : 3437 calls. qps=114.55578419174317
06:08:21 I periodic.go:533> T029 ended after 30.015438525s : 3418 calls. qps=113.87473140374516
06:08:21 I periodic.go:533> T025 ended after 30.015523172s : 3415 calls. qps=113.7744619819149
06:08:21 I periodic.go:533> T014 ended after 30.015538908s : 3464 calls. qps=115.40689009840649
06:08:21 I periodic.go:533> T000 ended after 30.015551044s : 3407 calls. qps=113.50782782583786
06:08:21 I periodic.go:533> T018 ended after 30.015585674s : 3460 calls. qps=115.27344618822846
06:08:21 I periodic.go:533> T013 ended after 30.015602652s : 3447 calls. qps=114.84027290620865
06:08:21 I periodic.go:533> T004 ended after 30.015620272s : 3471 calls. qps=115.63978916797245
06:08:21 I periodic.go:533> T012 ended after 30.015657477s : 3409 calls. qps=113.57405722703902
06:08:21 I periodic.go:533> T017 ended after 30.015676092s : 3430 calls. qps=114.27362120669302
06:08:21 I periodic.go:533> T022 ended after 30.016706882s : 3420 calls. qps=113.9365491839099
06:08:21 I periodic.go:533> T026 ended after 30.016908077s : 3434 calls. qps=114.40218929914538
06:08:21 I periodic.go:533> T016 ended after 30.016928424s : 3448 calls. qps=114.86851523566135
06:08:21 I periodic.go:533> T020 ended after 30.016941934s : 3426 calls. qps=114.13554410482408
06:08:21 I periodic.go:533> T010 ended after 30.016953129s : 3414 calls. qps=113.73572745135361
06:08:21 I periodic.go:533> T002 ended after 30.016981832s : 3445 calls. qps=114.76836742884697
06:08:21 I periodic.go:533> T006 ended after 30.016994131s : 3445 calls. qps=114.76832040427999
06:08:21 I periodic.go:533> T021 ended after 30.017005777s : 3418 calls. qps=113.8687857607364
06:08:21 I periodic.go:533> T024 ended after 30.017016814s : 3420 calls. qps=113.93537276512117
06:08:21 I periodic.go:533> T009 ended after 30.017027038s : 3426 calls. qps=114.13522050877529
06:08:21 I periodic.go:533> T008 ended after 30.01703756s : 3434 calls. qps=114.40169580811892
06:08:21 I periodic.go:533> T030 ended after 30.017070645s : 3481 calls. qps=115.96734542049114
06:08:21 I periodic.go:533> T023 ended after 30.017083784s : 3459 calls. qps=115.23437869216829
Ended after 30.017105909s : 109987 calls. qps=3664.1
Aggregated Function Time : count 109987 avg 0.0087295063 +/- 0.004248 min 0.000671922 max 0.05174171 sum 960.132204
# range, mid point, percentile, count
>= 0.000671922 <= 0.0007 , 0.000685961 , 0.00, 1
> 0.0008 <= 0.0009 , 0.00085 , 0.00, 3
> 0.0009 <= 0.001 , 0.00095 , 0.01, 2
> 0.001 <= 0.0011 , 0.00105 , 0.01, 3
> 0.0011 <= 0.0012 , 0.00115 , 0.01, 3
> 0.0012 <= 0.0014 , 0.0013 , 0.04, 36
> 0.0014 <= 0.0016 , 0.0015 , 0.13, 99
> 0.0016 <= 0.0018 , 0.0017 , 0.29, 172
> 0.0018 <= 0.002 , 0.0019 , 0.62, 365
> 0.002 <= 0.0025 , 0.00225 , 1.51, 975
> 0.0025 <= 0.003 , 0.00275 , 2.92, 1556
> 0.003 <= 0.0035 , 0.00325 , 4.95, 2227
> 0.0035 <= 0.004 , 0.00375 , 7.67, 2998
> 0.004 <= 0.0045 , 0.00425 , 11.16, 3832
> 0.0045 <= 0.005 , 0.00475 , 15.70, 4998
> 0.005 <= 0.006 , 0.0055 , 26.79, 12198
> 0.006 <= 0.007 , 0.0065 , 39.26, 13717
> 0.007 <= 0.008 , 0.0075 , 50.40, 12244
> 0.008 <= 0.009 , 0.0085 , 60.37, 10970
> 0.009 <= 0.01 , 0.0095 , 69.64, 10192
> 0.01 <= 0.012 , 0.011 , 83.30, 15028
> 0.012 <= 0.014 , 0.013 , 90.87, 8330
> 0.014 <= 0.016 , 0.015 , 94.44, 3927
> 0.016 <= 0.018 , 0.017 , 96.05, 1771
> 0.018 <= 0.02 , 0.019 , 97.47, 1561
> 0.02 <= 0.025 , 0.0225 , 99.28, 1988
> 0.025 <= 0.03 , 0.0275 , 99.83, 609
> 0.03 <= 0.035 , 0.0325 , 99.96, 143
> 0.035 <= 0.04 , 0.0375 , 99.99, 23
> 0.04 <= 0.045 , 0.0425 , 99.99, 8
> 0.045 <= 0.05 , 0.0475 , 100.00, 6
> 0.05 <= 0.0517417 , 0.0508709 , 100.00, 2
# target 50% 0.00796443
# target 75% 0.0107851
# target 90% 0.0137693
# target 99% 0.0242232
# target 99.9% 0.0325179
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 109987 (100.0 %)
Response Header Sizes : count 109987 avg 209.12481 +/- 0.3305 min 209 max 210 sum 23001010
Response Body/Total Sizes : count 109987 avg 209.12481 +/- 0.3305 min 209 max 210 sum 23001010
All done 109987 calls (plus 32 warmup) 8.730 ms avg, 3664.1 qps
Successfully wrote 5885 bytes of Json data to /data/2018-12-08-060751_http_istio_0qps_30s_echo_0_0.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8079
06:08:22 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:08:52 I periodic.go:533> T031 ended after 30.000105538s : 14209 calls. qps=473.63166712870384
06:08:52 I periodic.go:533> T007 ended after 30.002775364s : 14212 calls. qps=473.68951130610475
06:08:52 I periodic.go:533> T021 ended after 30.002863258s : 14146 calls. qps=471.4883335752328
06:08:52 I periodic.go:533> T018 ended after 30.002898971s : 14223 calls. qps=474.05419102159334
06:08:52 I periodic.go:533> T024 ended after 30.00292551s : 14159 calls. qps=471.9206463809935
06:08:52 I periodic.go:533> T009 ended after 30.002954326s : 14206 calls. qps=473.4867055305065
06:08:52 I periodic.go:533> T012 ended after 30.002979718s : 14223 calls. qps=474.0529151998542
06:08:52 I periodic.go:533> T016 ended after 30.003005346s : 14250 calls. qps=474.9524201214666
06:08:52 I periodic.go:533> T027 ended after 30.003043183s : 14262 calls. qps=475.3517805847435
06:08:52 I periodic.go:533> T004 ended after 30.003069117s : 14192 calls. qps=473.0182750523576
06:08:52 I periodic.go:533> T005 ended after 30.00309342s : 14257 calls. qps=475.18433517579604
06:08:52 I periodic.go:533> T026 ended after 30.003123153s : 14157 calls. qps=471.8508779171693
06:08:52 I periodic.go:533> T014 ended after 30.00314693s : 14214 calls. qps=473.7503046984545
06:08:52 I periodic.go:533> T019 ended after 30.003173979s : 14153 calls. qps=471.7167593637277
06:08:52 I periodic.go:533> T029 ended after 30.003198045s : 14291 calls. qps=476.3158906782465
06:08:52 I periodic.go:533> T001 ended after 30.003224857s : 14216 calls. qps=473.81573373381195
06:08:52 I periodic.go:533> T017 ended after 30.003258062s : 14231 calls. qps=474.31515506057576
06:08:52 I periodic.go:533> T006 ended after 30.003284809s : 14156 calls. qps=471.8150059274065
06:08:52 I periodic.go:533> T000 ended after 30.00330917s : 14229 calls. qps=474.24768779263286
06:08:52 I periodic.go:533> T008 ended after 30.003338525s : 14295 calls. qps=476.4469789949817
06:08:52 I periodic.go:533> T023 ended after 30.003363743s : 14219 calls. qps=473.91352922278236
06:08:52 I periodic.go:533> T028 ended after 30.003387639s : 14400 calls. qps=479.9458038958945
06:08:52 I periodic.go:533> T013 ended after 30.003414727s : 14220 calls. qps=473.9460534538243
06:08:52 I periodic.go:533> T022 ended after 30.003438939s : 14290 calls. qps=476.27873688256216
06:08:52 I periodic.go:533> T015 ended after 30.003465934s : 14255 calls. qps=475.11177646467166
06:08:52 I periodic.go:533> T020 ended after 30.003489063s : 14283 calls. qps=476.0446350092547
06:08:52 I periodic.go:533> T030 ended after 30.00351345s : 14198 calls. qps=473.2112465315291
06:08:52 I periodic.go:533> T011 ended after 30.003543738s : 14189 calls. qps=472.9108042670769
06:08:52 I periodic.go:533> T010 ended after 30.003569262s : 14262 calls. qps=475.34344582339577
06:08:52 I periodic.go:533> T003 ended after 30.003593846s : 14258 calls. qps=475.2097389793469
06:08:52 I periodic.go:533> T002 ended after 30.003617413s : 14204 calls. qps=473.40958273403646
06:08:52 I periodic.go:533> T025 ended after 30.003642178s : 14249 calls. qps=474.90900989507196
Ended after 30.003664984s : 455308 calls. qps=15175
Aggregated Function Time : count 455308 avg 0.002108177 +/- 0.001141 min 0.000306835 max 0.036364659 sum 959.869873
# range, mid point, percentile, count
>= 0.000306835 <= 0.0004 , 0.000353418 , 0.00, 3
> 0.0004 <= 0.0005 , 0.00045 , 0.00, 12
> 0.0005 <= 0.0006 , 0.00055 , 0.04, 186
> 0.0006 <= 0.0007 , 0.00065 , 0.34, 1368
> 0.0007 <= 0.0008 , 0.00075 , 1.00, 2984
> 0.0008 <= 0.0009 , 0.00085 , 1.88, 3986
> 0.0009 <= 0.001 , 0.00095 , 2.99, 5080
> 0.001 <= 0.0011 , 0.00105 , 4.59, 7297
> 0.0011 <= 0.0012 , 0.00115 , 7.27, 12167
> 0.0012 <= 0.0014 , 0.0013 , 20.48, 60175
> 0.0014 <= 0.0016 , 0.0015 , 36.26, 71842
> 0.0016 <= 0.0018 , 0.0017 , 50.24, 63648
> 0.0018 <= 0.002 , 0.0019 , 62.59, 56247
> 0.002 <= 0.0025 , 0.00225 , 79.04, 74892
> 0.0025 <= 0.003 , 0.00275 , 86.36, 33317
> 0.003 <= 0.0035 , 0.00325 , 90.24, 17665
> 0.0035 <= 0.004 , 0.00375 , 93.01, 12624
> 0.004 <= 0.0045 , 0.00425 , 95.51, 11350
> 0.0045 <= 0.005 , 0.00475 , 97.33, 8312
> 0.005 <= 0.006 , 0.0055 , 98.93, 7274
> 0.006 <= 0.007 , 0.0065 , 99.52, 2706
> 0.007 <= 0.008 , 0.0075 , 99.75, 1024
> 0.008 <= 0.009 , 0.0085 , 99.83, 389
> 0.009 <= 0.01 , 0.0095 , 99.89, 239
> 0.01 <= 0.012 , 0.011 , 99.94, 263
> 0.012 <= 0.014 , 0.013 , 99.98, 150
> 0.014 <= 0.016 , 0.015 , 99.98, 11
> 0.016 <= 0.018 , 0.017 , 99.99, 34
> 0.025 <= 0.03 , 0.0275 , 99.99, 2
> 0.03 <= 0.035 , 0.0325 , 100.00, 50
> 0.035 <= 0.0363647 , 0.0356823 , 100.00, 11
# target 50% 0.00179656
# target 75% 0.00237712
# target 90% 0.0034691
# target 99% 0.00612044
# target 99.9% 0.0104996
Ping SERVING : 455308
All done 455308 calls (plus 32 warmup) 2.108 ms avg, 15175.1 qps
Successfully wrote 5162 bytes of Json data to /data/2018-12-08-060822_grpc_baseline_0qps_30s_echo_0_0.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-linkerd:8079
06:08:52 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:09:22 I periodic.go:533> T015 ended after 30.000244912s : 7249 calls. qps=241.63136071933945
06:09:22 I periodic.go:533> T010 ended after 30.000603344s : 7254 calls. qps=241.79513714515912
06:09:22 I periodic.go:533> T017 ended after 30.002537159s : 7251 calls. qps=241.6795606842498
06:09:22 I periodic.go:533> T012 ended after 30.002569549s : 7286 calls. qps=242.84586652155085
06:09:22 I periodic.go:533> T021 ended after 30.002599893s : 7257 calls. qps=241.8790380127408
06:09:22 I periodic.go:533> T003 ended after 30.002614838s : 7390 calls. qps=246.3118644792303
06:09:22 I periodic.go:533> T013 ended after 30.004712914s : 7345 calls. qps=244.79487675993968
06:09:22 I periodic.go:533> T008 ended after 30.004777798s : 7385 calls. qps=246.1274684224542
06:09:22 I periodic.go:533> T005 ended after 30.004792451s : 7355 calls. qps=245.12750794764696
06:09:22 I periodic.go:533> T016 ended after 30.004805673s : 7383 calls. qps=246.06058377653937
06:09:22 I periodic.go:533> T027 ended after 30.004832899s : 7304 calls. qps=243.4274513237975
06:09:22 I periodic.go:533> T001 ended after 30.004845959s : 7365 calls. qps=245.46035030687622
06:09:22 I periodic.go:533> T024 ended after 30.00485791s : 7233 calls. qps=241.06096491759726
06:09:22 I periodic.go:533> T002 ended after 30.004869965s : 7251 calls. qps=241.6607706834966
06:09:22 I periodic.go:533> T019 ended after 30.004881839s : 7242 calls. qps=241.36072386017304
06:09:22 I periodic.go:533> T031 ended after 30.004894375s : 7365 calls. qps=245.45995423121698
06:09:22 I periodic.go:533> T025 ended after 30.005371598s : 7394 calls. qps=246.42254390520014
06:09:22 I periodic.go:533> T011 ended after 30.005787303s : 7349 calls. qps=244.9194192370097
06:09:22 I periodic.go:533> T026 ended after 30.005818475s : 7362 calls. qps=245.3524141037449
06:09:22 I periodic.go:533> T006 ended after 30.005830688s : 7351 calls. qps=244.98571882363612
06:09:22 I periodic.go:533> T004 ended after 30.005841169s : 7263 calls. qps=242.052870942463
06:09:22 I periodic.go:533> T029 ended after 30.005854747s : 7259 calls. qps=241.91945409339684
06:09:22 I periodic.go:533> T023 ended after 30.005866967s : 7402 calls. qps=246.68509022387548
06:09:22 I periodic.go:533> T028 ended after 30.005878695s : 7402 calls. qps=246.68499380534473
06:09:22 I periodic.go:533> T030 ended after 30.005926525s : 7275 calls. qps=242.45210338493288
06:09:22 I periodic.go:533> T007 ended after 30.005939917s : 7251 calls. qps=241.65215354216963
06:09:22 I periodic.go:533> T020 ended after 30.005950847s : 7393 calls. qps=246.38446012582045
06:09:22 I periodic.go:533> T009 ended after 30.005963224s : 7277 calls. qps=242.51846026990918
06:09:22 I periodic.go:533> T022 ended after 30.005974371s : 7263 calls. qps=242.05179642556456
06:09:22 I periodic.go:533> T018 ended after 30.005985211s : 7344 calls. qps=244.75117042008463
06:09:22 I periodic.go:533> T000 ended after 30.00600865s : 7265 calls. qps=242.1181732212825
06:09:22 I periodic.go:533> T014 ended after 30.006019899s : 7361 calls. qps=245.3174404595165
Ended after 30.006035016s : 234126 calls. qps=7802.6
Aggregated Function Time : count 234126 avg 0.0040996885 +/- 0.00155 min 0.000454459 max 0.041060636 sum 959.843666
# range, mid point, percentile, count
>= 0.000454459 <= 0.0005 , 0.000477229 , 0.00, 1
> 0.0005 <= 0.0006 , 0.00055 , 0.00, 4
> 0.0006 <= 0.0007 , 0.00065 , 0.01, 7
> 0.0007 <= 0.0008 , 0.00075 , 0.01, 16
> 0.0008 <= 0.0009 , 0.00085 , 0.02, 28
> 0.0009 <= 0.001 , 0.00095 , 0.04, 34
> 0.001 <= 0.0011 , 0.00105 , 0.06, 42
> 0.0011 <= 0.0012 , 0.00115 , 0.09, 83
> 0.0012 <= 0.0014 , 0.0013 , 0.22, 293
> 0.0014 <= 0.0016 , 0.0015 , 0.36, 333
> 0.0016 <= 0.0018 , 0.0017 , 0.69, 764
> 0.0018 <= 0.002 , 0.0019 , 1.40, 1670
> 0.002 <= 0.0025 , 0.00225 , 6.71, 12443
> 0.0025 <= 0.003 , 0.00275 , 16.61, 23164
> 0.003 <= 0.0035 , 0.00325 , 35.11, 43321
> 0.0035 <= 0.004 , 0.00375 , 57.00, 51245
> 0.004 <= 0.0045 , 0.00425 , 71.67, 34357
> 0.0045 <= 0.005 , 0.00475 , 81.92, 23994
> 0.005 <= 0.006 , 0.0055 , 92.33, 24367
> 0.006 <= 0.007 , 0.0065 , 95.97, 8519
> 0.007 <= 0.008 , 0.0075 , 98.02, 4799
> 0.008 <= 0.009 , 0.0085 , 99.03, 2367
> 0.009 <= 0.01 , 0.0095 , 99.45, 989
> 0.01 <= 0.012 , 0.011 , 99.80, 816
> 0.012 <= 0.014 , 0.013 , 99.89, 221
> 0.014 <= 0.016 , 0.015 , 99.93, 89
> 0.016 <= 0.018 , 0.017 , 99.94, 27
> 0.018 <= 0.02 , 0.019 , 99.95, 22
> 0.02 <= 0.025 , 0.0225 , 99.96, 15
> 0.035 <= 0.04 , 0.0375 , 99.99, 78
> 0.04 <= 0.0410606 , 0.0405303 , 100.00, 18
# target 50% 0.00384013
# target 75% 0.00466232
# target 90% 0.00577623
# target 99% 0.00897201
# target 99.9% 0.0143342
Ping SERVING : 234126
All done 234126 calls (plus 32 warmup) 4.100 ms avg, 7802.6 qps
Successfully wrote 5125 bytes of Json data to /data/2018-12-08-060852_grpc_linkerd_0qps_30s_echo_0_0.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8079
06:09:22 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:09:52 I periodic.go:533> T022 ended after 30.001220073s : 2956 calls. qps=98.52932623431178
06:09:52 I periodic.go:533> T031 ended after 30.001603502s : 2970 calls. qps=98.99470872621895
06:09:52 I periodic.go:533> T029 ended after 30.004290244s : 2969 calls. qps=98.95251565211463
06:09:52 I periodic.go:533> T016 ended after 30.004311104s : 2872 calls. qps=95.71957809813276
06:09:52 I periodic.go:533> T002 ended after 30.004330691s : 2897 calls. qps=96.55272866556476
06:09:52 I periodic.go:533> T026 ended after 30.004346266s : 2980 calls. qps=99.31894444828629
06:09:52 I periodic.go:533> T027 ended after 30.004377128s : 2948 calls. qps=98.25233123232992
06:09:52 I periodic.go:533> T012 ended after 30.00439073s : 2965 calls. qps=98.81887043403397
06:09:52 I periodic.go:533> T001 ended after 30.00440277s : 2922 calls. qps=97.38570777091326
06:09:52 I periodic.go:533> T008 ended after 30.004417172s : 2927 calls. qps=97.55230315659871
06:09:52 I periodic.go:533> T023 ended after 30.004429899s : 2941 calls. qps=98.01885954507067
06:09:52 I periodic.go:533> T025 ended after 30.004456363s : 2951 calls. qps=98.35205691775259
06:09:52 I periodic.go:533> T009 ended after 30.004470593s : 2906 calls. qps=96.8522337693892
06:09:52 I periodic.go:533> T013 ended after 30.004484136s : 2903 calls. qps=96.7522049984829
06:09:52 I periodic.go:533> T010 ended after 30.004496944s : 2933 calls. qps=97.75201382226514
06:09:52 I periodic.go:533> T021 ended after 30.004509364s : 2930 calls. qps=97.65198838796783
06:09:52 I periodic.go:533> T003 ended after 30.004534504s : 2973 calls. qps=99.08502328551906
06:09:52 I periodic.go:533> T015 ended after 30.00454781s : 2922 calls. qps=97.38523701484172
06:09:52 I periodic.go:533> T017 ended after 30.004581142s : 2884 calls. qps=96.11865555966774
06:09:52 I periodic.go:533> T030 ended after 30.004593196s : 2935 calls. qps=97.81835670384206
06:09:52 I periodic.go:533> T020 ended after 30.004636434s : 2946 calls. qps=98.18482575118678
06:09:52 I periodic.go:533> T005 ended after 30.004651319s : 2974 calls. qps=99.1179656907647
06:09:52 I periodic.go:533> T004 ended after 30.00466428s : 2912 calls. qps=97.05157747560708
06:09:52 I periodic.go:533> T007 ended after 30.004675675s : 2991 calls. qps=99.68446359485603
06:09:52 I periodic.go:533> T000 ended after 30.004702827s : 2937 calls. qps=97.88465551330555
06:09:52 I periodic.go:533> T014 ended after 30.004715707s : 2933 calls. qps=97.75130111683548
06:09:52 I periodic.go:533> T024 ended after 30.00472889s : 2906 calls. qps=96.85140001276646
06:09:52 I periodic.go:533> T011 ended after 30.004740808s : 2942 calls. qps=98.05117194065514
06:09:52 I periodic.go:533> T019 ended after 30.004752159s : 2915 calls. qps=97.15127738942641
06:09:52 I periodic.go:533> T018 ended after 30.004777059s : 2947 calls. qps=98.21769360942614
06:09:52 I periodic.go:533> T006 ended after 30.004790334s : 2924 calls. qps=97.45110588847083
06:09:52 I periodic.go:533> T028 ended after 30.007576535s : 2947 calls. qps=98.20853065433997
Ended after 30.007641428s : 93958 calls. qps=3131.1
Aggregated Function Time : count 93958 avg 0.010216443 +/- 0.003734 min 0.000530723 max 0.054483147 sum 959.916598
# range, mid point, percentile, count
>= 0.000530723 <= 0.0006 , 0.000565362 , 0.00, 2
> 0.0006 <= 0.0007 , 0.00065 , 0.01, 4
> 0.0007 <= 0.0008 , 0.00075 , 0.01, 2
> 0.0008 <= 0.0009 , 0.00085 , 0.01, 2
> 0.0009 <= 0.001 , 0.00095 , 0.02, 8
> 0.001 <= 0.0011 , 0.00105 , 0.05, 29
> 0.0011 <= 0.0012 , 0.00115 , 0.11, 61
> 0.0012 <= 0.0014 , 0.0013 , 0.19, 72
> 0.0014 <= 0.0016 , 0.0015 , 0.23, 33
> 0.0016 <= 0.0018 , 0.0017 , 0.27, 39
> 0.0018 <= 0.002 , 0.0019 , 0.34, 64
> 0.002 <= 0.0025 , 0.00225 , 1.09, 707
> 0.0025 <= 0.003 , 0.00275 , 1.68, 560
> 0.003 <= 0.0035 , 0.00325 , 2.60, 864
> 0.0035 <= 0.004 , 0.00375 , 4.02, 1330
> 0.004 <= 0.0045 , 0.00425 , 4.65, 595
> 0.0045 <= 0.005 , 0.00475 , 5.39, 691
> 0.005 <= 0.006 , 0.0055 , 8.75, 3156
> 0.006 <= 0.007 , 0.0065 , 11.52, 2605
> 0.007 <= 0.008 , 0.0075 , 15.76, 3981
> 0.008 <= 0.009 , 0.0085 , 26.80, 10380
> 0.009 <= 0.01 , 0.0095 , 56.24, 27661
> 0.01 <= 0.012 , 0.011 , 83.51, 25622
> 0.012 <= 0.014 , 0.013 , 92.19, 8153
> 0.014 <= 0.016 , 0.015 , 94.45, 2122
> 0.016 <= 0.018 , 0.017 , 95.51, 998
> 0.018 <= 0.02 , 0.019 , 96.36, 794
> 0.02 <= 0.025 , 0.0225 , 99.41, 2865
> 0.025 <= 0.03 , 0.0275 , 99.76, 334
> 0.03 <= 0.035 , 0.0325 , 99.91, 136
> 0.035 <= 0.04 , 0.0375 , 99.96, 55
> 0.04 <= 0.045 , 0.0425 , 99.97, 1
> 0.045 <= 0.05 , 0.0475 , 99.99, 22
> 0.05 <= 0.0544831 , 0.0522416 , 100.00, 10
# target 50% 0.0097879
# target 75% 0.0113756
# target 90% 0.013495
# target 99% 0.0243341
# target 99.9% 0.034781
Ping SERVING : 93958
All done 93958 calls (plus 32 warmup) 10.216 ms avg, 3131.1 qps
Successfully wrote 5534 bytes of Json data to /data/2018-12-08-060922_grpc_istio_0qps_30s_echo_0_0.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-baseline:8080/echo
06:09:52 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
06:09:52 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:10:22 I periodic.go:533> T005 ended after 30.000025484s : 28235 calls. qps=941.1658671776347
06:10:22 I periodic.go:533> T016 ended after 30.000581421s : 28452 calls. qps=948.3816197003431
06:10:22 I periodic.go:533> T018 ended after 30.002503196s : 28574 calls. qps=952.3871996057165
06:10:22 I periodic.go:533> T001 ended after 30.002554691s : 28415 calls. qps=947.0860162626009
06:10:22 I periodic.go:533> T021 ended after 30.004498177s : 28478 calls. qps=949.1243556884368
06:10:22 I periodic.go:533> T004 ended after 30.004556695s : 28513 calls. qps=950.2889940964014
06:10:22 I periodic.go:533> T020 ended after 30.004572226s : 28149 calls. qps=938.1570178030373
06:10:22 I periodic.go:533> T007 ended after 30.004622725s : 28028 calls. qps=934.1227269172404
06:10:22 I periodic.go:533> T029 ended after 30.00463578s : 28176 calls. qps=939.05489160382
06:10:22 I periodic.go:533> T019 ended after 30.004649357s : 28579 calls. qps=952.4857184619156
06:10:22 I periodic.go:533> T003 ended after 30.004660202s : 28109 calls. qps=936.8211408081987
06:10:22 I periodic.go:533> T024 ended after 30.004670448s : 27984 calls. qps=932.6548028080512
06:10:22 I periodic.go:533> T002 ended after 30.004698526s : 28199 calls. qps=939.8194744587984
06:10:22 I periodic.go:533> T022 ended after 30.00471377s : 28054 calls. qps=934.9864229683002
06:10:22 I periodic.go:533> T012 ended after 30.004733664s : 28213 calls. qps=940.2849668967486
06:10:22 I periodic.go:533> T015 ended after 30.00474433s : 28250 calls. qps=941.5177709664556
06:10:22 I periodic.go:533> T011 ended after 30.004755687s : 28512 calls. qps=950.2493637151407
06:10:22 I periodic.go:533> T025 ended after 30.004780794s : 28581 calls. qps=952.5482021090216
06:10:22 I periodic.go:533> T030 ended after 30.004792554s : 28569 calls. qps=952.1478926602813
06:10:22 I periodic.go:533> T006 ended after 30.00480248s : 28606 calls. qps=953.3807136063507
06:10:22 I periodic.go:533> T023 ended after 30.004813569s : 28739 calls. qps=957.812983370515
06:10:22 I periodic.go:533> T026 ended after 30.004823992s : 28042 calls. qps=934.583052627693
06:10:22 I periodic.go:533> T010 ended after 30.004835376s : 28553 calls. qps=951.6132863984557
06:10:22 I periodic.go:533> T014 ended after 30.004863218s : 28195 calls. qps=939.6810042142016
06:10:22 I periodic.go:533> T017 ended after 30.004874859s : 28176 calls. qps=939.0474092095262
06:10:22 I periodic.go:533> T000 ended after 30.004887359s : 28134 calls. qps=937.6472460431075
06:10:22 I periodic.go:533> T031 ended after 30.004898239s : 28442 calls. qps=947.9118966993008
06:10:22 I periodic.go:533> T013 ended after 30.004909028s : 28483 calls. qps=949.2779989241166
06:10:22 I periodic.go:533> T008 ended after 30.004919616s : 28515 calls. qps=950.3441557228667
06:10:22 I periodic.go:533> T028 ended after 30.00494663s : 28563 calls. qps=951.9430363339393
06:10:22 I periodic.go:533> T009 ended after 30.004958318s : 28006 calls. qps=933.3790669923769
06:10:22 I periodic.go:533> T027 ended after 30.004969911s : 28252 calls. qps=941.5773481460033
Ended after 30.004990125s : 906776 calls. qps=30221
Aggregated Function Time : count 906776 avg 0.0010582431 +/- 0.0007215 min 7.1797e-05 max 0.043972039 sum 959.589433
# range, mid point, percentile, count
>= 7.1797e-05 <= 0.0001 , 8.58985e-05 , 0.23, 2126
> 0.0001 <= 0.0002 , 0.00015 , 3.00, 25035
> 0.0002 <= 0.0003 , 0.00025 , 7.12, 37422
> 0.0003 <= 0.0004 , 0.00035 , 12.39, 47791
> 0.0004 <= 0.0005 , 0.00045 , 18.78, 57936
> 0.0005 <= 0.0006 , 0.00055 , 25.84, 64001
> 0.0006 <= 0.0007 , 0.00065 , 33.01, 65025
> 0.0007 <= 0.0008 , 0.00075 , 40.00, 63360
> 0.0008 <= 0.0009 , 0.00085 , 46.57, 59558
> 0.0009 <= 0.001 , 0.00095 , 52.98, 58191
> 0.001 <= 0.0011 , 0.00105 , 59.17, 56128
> 0.0011 <= 0.0012 , 0.00115 , 65.09, 53656
> 0.0012 <= 0.0014 , 0.0013 , 75.76, 96744
> 0.0014 <= 0.0016 , 0.0015 , 84.36, 77971
> 0.0016 <= 0.0018 , 0.0017 , 90.15, 52535
> 0.0018 <= 0.002 , 0.0019 , 93.42, 29624
> 0.002 <= 0.0025 , 0.00225 , 97.34, 35575
> 0.0025 <= 0.003 , 0.00275 , 98.59, 11285
> 0.003 <= 0.0035 , 0.00325 , 99.06, 4290
> 0.0035 <= 0.004 , 0.00375 , 99.28, 1997
> 0.004 <= 0.0045 , 0.00425 , 99.45, 1584
> 0.0045 <= 0.005 , 0.00475 , 99.65, 1775
> 0.005 <= 0.006 , 0.0055 , 99.91, 2369
> 0.006 <= 0.007 , 0.0065 , 99.98, 613
> 0.007 <= 0.008 , 0.0075 , 99.99, 120
> 0.008 <= 0.009 , 0.0085 , 100.00, 21
> 0.009 <= 0.01 , 0.0095 , 100.00, 4
> 0.01 <= 0.012 , 0.011 , 100.00, 8
> 0.04 <= 0.043972 , 0.041986 , 100.00, 32
# target 50% 0.000953503
# target 75% 0.00138575
# target 90% 0.00179474
# target 99% 0.00343651
# target 99.9% 0.00595408
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 906776 (100.0 %)
Response Header Sizes : count 906776 avg 75 +/- 0 min 75 max 75 sum 68008200
Response Body/Total Sizes : count 906776 avg 75 +/- 0 min 75 max 75 sum 68008200
All done 906776 calls (plus 32 warmup) 1.058 ms avg, 30220.8 qps
Successfully wrote 5466 bytes of Json data to /data/2018-12-08-060952_http_baseline_0qps_30s_echo_1_0.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-linkerd:8080/echo
06:10:22 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 32 threads at -1.0 qps
06:10:22 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:10:52 I periodic.go:533> T003 ended after 30.001281447s : 10445 calls. qps=348.15179539754143
06:10:52 I periodic.go:533> T015 ended after 30.0017041s : 10393 calls. qps=346.41365588296696
06:10:52 I periodic.go:533> T006 ended after 30.003902225s : 10419 calls. qps=347.25483111722144
06:10:52 I periodic.go:533> T008 ended after 30.00396055s : 10429 calls. qps=347.58744541810165
06:10:52 I periodic.go:533> T002 ended after 30.003975422s : 10390 calls. qps=346.287445375711
06:10:52 I periodic.go:533> T031 ended after 30.003987831s : 10349 calls. qps=344.9208171357627
06:10:52 I periodic.go:533> T024 ended after 30.004013206s : 10350 calls. qps=344.9538543040728
06:10:52 I periodic.go:533> T030 ended after 30.004024346s : 10403 calls. qps=346.7201559375778
06:10:52 I periodic.go:533> T027 ended after 30.004035547s : 10361 calls. qps=345.32021480143726
06:10:52 I periodic.go:533> T011 ended after 30.004048408s : 10389 calls. qps=346.2532741824925
06:10:52 I periodic.go:533> T009 ended after 30.004058827s : 10402 calls. qps=346.68642865876086
06:10:52 I periodic.go:533> T013 ended after 30.004068809s : 10397 calls. qps=346.5196692550353
06:10:52 I periodic.go:533> T005 ended after 30.004096356s : 10369 calls. qps=345.5861452040192
06:10:52 I periodic.go:533> T021 ended after 30.004108921s : 10403 calls. qps=346.7191786095303
06:10:52 I periodic.go:533> T026 ended after 30.004121578s : 10378 calls. qps=345.8858134880205
06:10:52 I periodic.go:533> T028 ended after 30.004132948s : 10443 calls. qps=348.05205063244813
06:10:52 I periodic.go:533> T023 ended after 30.00414325s : 10397 calls. qps=346.51880953141364
06:10:52 I periodic.go:533> T010 ended after 30.004154522s : 10371 calls. qps=345.6521326870135
06:10:52 I periodic.go:533> T012 ended after 30.004179536s : 10359 calls. qps=345.25190024179574
06:10:52 I periodic.go:533> T017 ended after 30.004189839s : 10357 calls. qps=345.18512433012876
06:10:52 I periodic.go:533> T016 ended after 30.004201013s : 10366 calls. qps=345.4849537739297
06:10:52 I periodic.go:533> T022 ended after 30.004211724s : 10347 calls. qps=344.8515860099588
06:10:52 I periodic.go:533> T019 ended after 30.004222446s : 10390 calls. qps=346.2845943999838
06:10:52 I periodic.go:533> T014 ended after 30.006374328s : 10346 calls. qps=344.7934057913083
06:10:52 I periodic.go:533> T004 ended after 30.006454962s : 10389 calls. qps=346.22550425088764
06:10:52 I periodic.go:533> T001 ended after 30.006471501s : 10409 calls. qps=346.8918363044821
06:10:52 I periodic.go:533> T018 ended after 30.006512554s : 10459 calls. qps=348.55766664579517
06:10:52 I periodic.go:533> T020 ended after 30.006525863s : 10415 calls. qps=347.0911643537639
06:10:52 I periodic.go:533> T029 ended after 30.006537771s : 10326 calls. qps=344.12500631711083
06:10:52 I periodic.go:533> T007 ended after 30.006549103s : 10360 calls. qps=345.25796233476996
06:10:52 I periodic.go:533> T000 ended after 30.006560466s : 10434 calls. qps=347.723958959662
06:10:52 I periodic.go:533> T025 ended after 30.006587036s : 10364 calls. qps=345.39082993897074
Ended after 30.006616767s : 332409 calls. qps=11078
Aggregated Function Time : count 332409 avg 0.0028873592 +/- 0.0007949 min 0.000310054 max 0.016181356 sum 959.784194
# range, mid point, percentile, count
>= 0.000310054 <= 0.0004 , 0.000355027 , 0.00, 2
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 35
> 0.0005 <= 0.0006 , 0.00055 , 0.05, 119
> 0.0006 <= 0.0007 , 0.00065 , 0.08, 101
> 0.0007 <= 0.0008 , 0.00075 , 0.13, 169
> 0.0008 <= 0.0009 , 0.00085 , 0.22, 299
> 0.0009 <= 0.001 , 0.00095 , 0.32, 343
> 0.001 <= 0.0011 , 0.00105 , 0.41, 295
> 0.0011 <= 0.0012 , 0.00115 , 0.51, 324
> 0.0012 <= 0.0014 , 0.0013 , 1.03, 1738
> 0.0014 <= 0.0016 , 0.0015 , 1.91, 2919
> 0.0016 <= 0.0018 , 0.0017 , 3.24, 4436
> 0.0018 <= 0.002 , 0.0019 , 6.02, 9233
> 0.002 <= 0.0025 , 0.00225 , 25.73, 65510
> 0.0025 <= 0.003 , 0.00275 , 67.02, 137242
> 0.003 <= 0.0035 , 0.00325 , 89.54, 74878
> 0.0035 <= 0.004 , 0.00375 , 94.71, 17176
> 0.004 <= 0.0045 , 0.00425 , 96.66, 6474
> 0.0045 <= 0.005 , 0.00475 , 97.49, 2767
> 0.005 <= 0.006 , 0.0055 , 98.60, 3690
> 0.006 <= 0.007 , 0.0065 , 99.49, 2968
> 0.007 <= 0.008 , 0.0075 , 99.83, 1136
> 0.008 <= 0.009 , 0.0085 , 99.94, 357
> 0.009 <= 0.01 , 0.0095 , 99.98, 141
> 0.01 <= 0.012 , 0.011 , 99.99, 25
> 0.014 <= 0.016 , 0.015 , 100.00, 23
> 0.016 <= 0.0161814 , 0.0160907 , 100.00, 9
# target 50% 0.00279394
# target 75% 0.00317723
# target 90% 0.0035444
# target 99% 0.00644977
# target 99.9% 0.0086235
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 332409 (100.0 %)
Response Header Sizes : count 332409 avg 75 +/- 0 min 75 max 75 sum 24930675
Response Body/Total Sizes : count 332409 avg 75 +/- 0 min 75 max 75 sum 24930675
All done 332409 calls (plus 32 warmup) 2.887 ms avg, 11077.9 qps
Successfully wrote 5170 bytes of Json data to /data/2018-12-08-061022_http_linkerd_0qps_30s_echo_1_0.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-istio:8080/echo
06:10:53 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 32 threads at -1.0 qps
06:10:53 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:11:23 I periodic.go:533> T003 ended after 30.000175312s : 3376 calls. qps=112.53267572238512
06:11:23 I periodic.go:533> T002 ended after 30.000926433s : 3375 calls. qps=112.49652598353146
06:11:23 I periodic.go:533> T001 ended after 30.001173498s : 3377 calls. qps=112.5622636136258
06:11:23 I periodic.go:533> T023 ended after 30.001256925s : 3411 calls. qps=113.69523645383067
06:11:23 I periodic.go:533> T016 ended after 30.001407164s : 3371 calls. qps=112.36139630293776
06:11:23 I periodic.go:533> T021 ended after 30.006833163s : 3387 calls. qps=112.87429038584281
06:11:23 I periodic.go:533> T030 ended after 30.006911719s : 3374 calls. qps=112.44076136844251
06:11:23 I periodic.go:533> T008 ended after 30.006929465s : 3380 calls. qps=112.64064868557854
06:11:23 I periodic.go:533> T019 ended after 30.006941742s : 3389 calls. qps=112.9405331985731
06:11:23 I periodic.go:533> T000 ended after 30.006953802s : 3360 calls. qps=111.97404515536168
06:11:23 I periodic.go:533> T014 ended after 30.00697754s : 3413 calls. qps=113.74021243727034
06:11:23 I periodic.go:533> T011 ended after 30.006989728s : 3394 calls. qps=113.10698043239587
06:11:23 I periodic.go:533> T020 ended after 30.007000316s : 3330 calls. qps=110.974104873269
06:11:23 I periodic.go:533> T004 ended after 30.007012948s : 3408 calls. qps=113.57345050991312
06:11:23 I periodic.go:533> T013 ended after 30.007024356s : 3405 calls. qps=113.4734307408645
06:11:23 I periodic.go:533> T028 ended after 30.007035632s : 3434 calls. qps=114.43982811610772
06:11:23 I periodic.go:533> T010 ended after 30.007075306s : 3393 calls. qps=113.07333238576436
06:11:23 I periodic.go:533> T027 ended after 30.007086842s : 3377 calls. qps=112.54008154078178
06:11:23 I periodic.go:533> T015 ended after 30.007099025s : 3366 calls. qps=112.17345592773442
06:11:23 I periodic.go:533> T006 ended after 30.007110085s : 3413 calls. qps=113.7397100331263
06:11:23 I periodic.go:533> T007 ended after 30.007146343s : 3353 calls. qps=111.74004890945521
06:11:23 I periodic.go:533> T009 ended after 30.007158583s : 3367 calls. qps=112.20655866788772
06:11:23 I periodic.go:533> T017 ended after 30.007169527s : 3381 calls. qps=112.6730729120528
06:11:23 I periodic.go:533> T024 ended after 30.007181115s : 3366 calls. qps=112.1731490572236
06:11:23 I periodic.go:533> T012 ended after 30.007193592s : 3356 calls. qps=111.83984899190035
06:11:23 I periodic.go:533> T026 ended after 30.007205385s : 3417 calls. qps=113.87265012382959
06:11:23 I periodic.go:533> T005 ended after 30.007230767s : 3396 calls. qps=113.17272248043295
06:11:23 I periodic.go:533> T018 ended after 30.007242517s : 3375 calls. qps=112.47284711642402
06:11:23 I periodic.go:533> T029 ended after 30.007253391s : 3350 calls. qps=111.63967445966772
06:11:23 I periodic.go:533> T022 ended after 30.007265015s : 3359 calls. qps=111.9395585809272
06:11:23 I periodic.go:533> T025 ended after 30.007275866s : 3434 calls. qps=114.43891192705443
06:11:23 I periodic.go:533> T031 ended after 30.007287922s : 3413 calls. qps=113.73903595925246
Ended after 30.007318117s : 108300 calls. qps=3609.1
Aggregated Function Time : count 108300 avg 0.0088638408 +/- 0.004456 min 0.000847529 max 0.068999207 sum 959.953958
# range, mid point, percentile, count
>= 0.000847529 <= 0.0009 , 0.000873765 , 0.00, 2
> 0.0009 <= 0.001 , 0.00095 , 0.00, 2
> 0.001 <= 0.0011 , 0.00105 , 0.01, 3
> 0.0011 <= 0.0012 , 0.00115 , 0.02, 14
> 0.0012 <= 0.0014 , 0.0013 , 0.06, 45
> 0.0014 <= 0.0016 , 0.0015 , 0.16, 104
> 0.0016 <= 0.0018 , 0.0017 , 0.35, 208
> 0.0018 <= 0.002 , 0.0019 , 0.64, 311
> 0.002 <= 0.0025 , 0.00225 , 1.55, 992
> 0.0025 <= 0.003 , 0.00275 , 2.97, 1535
> 0.003 <= 0.0035 , 0.00325 , 4.99, 2185
> 0.0035 <= 0.004 , 0.00375 , 7.60, 2832
> 0.004 <= 0.0045 , 0.00425 , 11.05, 3734
> 0.0045 <= 0.005 , 0.00475 , 15.25, 4548
> 0.005 <= 0.006 , 0.0055 , 26.05, 11700
> 0.006 <= 0.007 , 0.0065 , 38.24, 13202
> 0.007 <= 0.008 , 0.0075 , 49.68, 12383
> 0.008 <= 0.009 , 0.0085 , 60.03, 11213
> 0.009 <= 0.01 , 0.0095 , 68.75, 9447
> 0.01 <= 0.012 , 0.011 , 82.12, 14479
> 0.012 <= 0.014 , 0.013 , 90.23, 8783
> 0.014 <= 0.016 , 0.015 , 93.95, 4030
> 0.016 <= 0.018 , 0.017 , 95.73, 1929
> 0.018 <= 0.02 , 0.019 , 97.02, 1387
> 0.02 <= 0.025 , 0.0225 , 99.16, 2322
> 0.025 <= 0.03 , 0.0275 , 99.82, 714
> 0.03 <= 0.035 , 0.0325 , 99.91, 96
> 0.035 <= 0.04 , 0.0375 , 99.93, 26
> 0.04 <= 0.045 , 0.0425 , 99.94, 13
> 0.045 <= 0.05 , 0.0475 , 99.97, 32
> 0.05 <= 0.06 , 0.055 , 100.00, 28
> 0.06 <= 0.0689992 , 0.0644996 , 100.00, 1
# target 50% 0.00803121
# target 75% 0.0109345
# target 90% 0.0139426
# target 99% 0.0246275
# target 99.9% 0.0345677
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 108300 (100.0 %)
Response Header Sizes : count 108300 avg 209.13682 +/- 0.3437 min 209 max 210 sum 22649518
Response Body/Total Sizes : count 108300 avg 209.13682 +/- 0.3437 min 209 max 210 sum 22649518
All done 108300 calls (plus 32 warmup) 8.864 ms avg, 3609.1 qps
Successfully wrote 5921 bytes of Json data to /data/2018-12-08-061053_http_istio_0qps_30s_echo_1_0.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-baseline:8079
06:11:23 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:11:53 I periodic.go:533> T007 ended after 30.000128202s : 13495 calls. qps=449.83141102378147
06:11:53 I periodic.go:533> T009 ended after 30.000886126s : 13431 calls. qps=447.6867764369181
06:11:53 I periodic.go:533> T004 ended after 30.001060804s : 13322 calls. qps=444.05096496533866
06:11:53 I periodic.go:533> T022 ended after 30.00115018s : 13609 calls. qps=453.61594200052764
06:11:53 I periodic.go:533> T015 ended after 30.001239569s : 13486 calls. qps=449.514759847955
06:11:53 I periodic.go:533> T026 ended after 30.001319443s : 13424 calls. qps=447.4469873068242
06:11:53 I periodic.go:533> T013 ended after 30.00139699s : 13458 calls. qps=448.5791113155761
06:11:53 I periodic.go:533> T029 ended after 30.001510302s : 13433 calls. qps=447.74412570504865
06:11:53 I periodic.go:533> T030 ended after 30.001606595s : 13411 calls. qps=447.0093945647247
06:11:53 I periodic.go:533> T028 ended after 30.001690862s : 13424 calls. qps=447.44144794194835
06:11:53 I periodic.go:533> T020 ended after 30.001770522s : 13510 calls. qps=450.30675739930916
06:11:53 I periodic.go:533> T010 ended after 30.001851549s : 13442 calls. qps=448.0390144603605
06:11:53 I periodic.go:533> T019 ended after 30.002132884s : 13372 calls. qps=445.7016456697059
06:11:53 I periodic.go:533> T006 ended after 30.006131865s : 13357 calls. qps=445.14234824049356
06:11:53 I periodic.go:533> T012 ended after 30.006187584s : 13369 calls. qps=445.54143916398976
06:11:53 I periodic.go:533> T014 ended after 30.006224727s : 13367 calls. qps=445.47423481675776
06:11:53 I periodic.go:533> T016 ended after 30.006252158s : 13533 calls. qps=451.0060079726402
06:11:53 I periodic.go:533> T023 ended after 30.006281004s : 13352 calls. qps=444.9735039880519
06:11:53 I periodic.go:533> T008 ended after 30.006306814s : 13445 calls. qps=448.07246967584115
06:11:53 I periodic.go:533> T005 ended after 30.006333252s : 13603 calls. qps=453.3376299516144
06:11:53 I periodic.go:533> T000 ended after 30.006359906s : 13372 calls. qps=445.63885929149865
06:11:53 I periodic.go:533> T002 ended after 30.00638788s : 13508 calls. qps=450.170812095761
06:11:53 I periodic.go:533> T031 ended after 30.006433869s : 13464 calls. qps=448.70376995747625
06:11:53 I periodic.go:533> T003 ended after 30.006465245s : 13543 calls. qps=451.3360667250429
06:11:53 I periodic.go:533> T024 ended after 30.006519004s : 13397 calls. qps=446.46964875246346
06:11:53 I periodic.go:533> T001 ended after 30.006560204s : 13590 calls. qps=452.9009625764567
06:11:53 I periodic.go:533> T018 ended after 30.006587581s : 13526 calls. qps=450.76768437889905
06:11:53 I periodic.go:533> T025 ended after 30.006613592s : 13447 calls. qps=448.13454069955685
06:11:53 I periodic.go:533> T021 ended after 30.006640558s : 13389 calls. qps=446.2012324945316
06:11:53 I periodic.go:533> T017 ended after 30.006677486s : 13329 calls. qps=444.2011284394554
06:11:53 I periodic.go:533> T027 ended after 30.006703097s : 13436 calls. qps=447.7666192305979
06:11:53 I periodic.go:533> T011 ended after 30.006732689s : 13613 calls. qps=453.6648538542923
Ended after 30.006750386s : 430457 calls. qps=14345
Aggregated Function Time : count 430457 avg 0.0022297064 +/- 0.001178 min 0.000259033 max 0.024513975 sum 959.792739
# range, mid point, percentile, count
>= 0.000259033 <= 0.0003 , 0.000279517 , 0.00, 3
> 0.0003 <= 0.0004 , 0.00035 , 0.00, 2
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 18
> 0.0005 <= 0.0006 , 0.00055 , 0.04, 133
> 0.0006 <= 0.0007 , 0.00065 , 0.25, 940
> 0.0007 <= 0.0008 , 0.00075 , 0.79, 2286
> 0.0008 <= 0.0009 , 0.00085 , 1.61, 3556
> 0.0009 <= 0.001 , 0.00095 , 2.61, 4303
> 0.001 <= 0.0011 , 0.00105 , 3.99, 5952
> 0.0011 <= 0.0012 , 0.00115 , 6.15, 9276
> 0.0012 <= 0.0014 , 0.0013 , 16.60, 44998
> 0.0014 <= 0.0016 , 0.0015 , 30.94, 61720
> 0.0016 <= 0.0018 , 0.0017 , 45.08, 60883
> 0.0018 <= 0.002 , 0.0019 , 57.12, 51802
> 0.002 <= 0.0025 , 0.00225 , 74.57, 75141
> 0.0025 <= 0.003 , 0.00275 , 83.07, 36579
> 0.003 <= 0.0035 , 0.00325 , 88.24, 22252
> 0.0035 <= 0.004 , 0.00375 , 91.84, 15474
> 0.004 <= 0.0045 , 0.00425 , 94.51, 11488
> 0.0045 <= 0.005 , 0.00475 , 96.46, 8416
> 0.005 <= 0.006 , 0.0055 , 98.58, 9114
> 0.006 <= 0.007 , 0.0065 , 99.36, 3361
> 0.007 <= 0.008 , 0.0075 , 99.66, 1312
> 0.008 <= 0.009 , 0.0085 , 99.81, 633
> 0.009 <= 0.01 , 0.0095 , 99.87, 262
> 0.01 <= 0.012 , 0.011 , 99.95, 325
> 0.012 <= 0.014 , 0.013 , 99.97, 114
> 0.014 <= 0.016 , 0.015 , 99.98, 39
> 0.016 <= 0.018 , 0.017 , 99.99, 27
> 0.018 <= 0.02 , 0.019 , 99.99, 24
> 0.02 <= 0.024514 , 0.022257 , 100.00, 24
# target 50% 0.00188169
# target 75% 0.00252501
# target 90% 0.00374452
# target 99% 0.00654044
# target 99.9% 0.0107541
Ping SERVING : 430457
All done 430457 calls (plus 32 warmup) 2.230 ms avg, 14345.3 qps
Successfully wrote 5184 bytes of Json data to /data/2018-12-08-061123_grpc_baseline_0qps_30s_echo_1_0.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-linkerd:8079
06:11:53 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:12:23 I periodic.go:533> T007 ended after 30.000020755s : 7498 calls. qps=249.93316042124184
06:12:23 I periodic.go:533> T027 ended after 30.000549913s : 7452 calls. qps=248.39544680382207
06:12:23 I periodic.go:533> T005 ended after 30.000661516s : 7444 calls. qps=248.12786198164176
06:12:23 I periodic.go:533> T029 ended after 30.000748112s : 7432 calls. qps=247.72715574473537
06:12:23 I periodic.go:533> T000 ended after 30.000849932s : 7433 calls. qps=247.75964737157966
06:12:23 I periodic.go:533> T022 ended after 30.000918356s : 7431 calls. qps=247.69241767273587
06:12:23 I periodic.go:533> T009 ended after 30.000957529s : 7336 calls. qps=244.52552865716902
06:12:23 I periodic.go:533> T006 ended after 30.001025628s : 7404 calls. qps=246.791562788768
06:12:23 I periodic.go:533> T003 ended after 30.001086791s : 7340 calls. qps=244.6578036033655
06:12:23 I periodic.go:533> T014 ended after 30.001128023s : 7451 calls. qps=248.35732824071752
06:12:23 I periodic.go:533> T020 ended after 30.00118923s : 7406 calls. qps=246.8568810130464
06:12:23 I periodic.go:533> T019 ended after 30.001221813s : 7476 calls. qps=249.18985122001038
06:12:23 I periodic.go:533> T031 ended after 30.001283938s : 7447 calls. qps=248.2227099143426
06:12:23 I periodic.go:533> T017 ended after 30.001342483s : 7445 calls. qps=248.15556184589556
06:12:23 I periodic.go:533> T025 ended after 30.001381042s : 7433 calls. qps=247.75526131927992
06:12:23 I periodic.go:533> T030 ended after 30.001441096s : 7348 calls. qps=244.92156815026084
06:12:23 I periodic.go:533> T026 ended after 30.001476789s : 7328 calls. qps=244.25464291433815
06:12:23 I periodic.go:533> T021 ended after 30.001545285s : 7357 calls. qps=245.22070213757658
06:12:23 I periodic.go:533> T004 ended after 30.001599346s : 7388 calls. qps=246.2535385129398
06:12:23 I periodic.go:533> T023 ended after 30.001638279s : 7323 calls. qps=244.08667059777932
06:12:23 I periodic.go:533> T012 ended after 30.006594822s : 7461 calls. qps=248.64534094117877
06:12:23 I periodic.go:533> T001 ended after 30.006652551s : 7331 calls. qps=244.31248995668756
06:12:23 I periodic.go:533> T018 ended after 30.006669318s : 7369 calls. qps=245.57873857661312
06:12:23 I periodic.go:533> T013 ended after 30.0066832s : 7342 calls. qps=244.67882541579937
06:12:23 I periodic.go:533> T016 ended after 30.00669655s : 7357 calls. qps=245.17860497376208
06:12:23 I periodic.go:533> T011 ended after 30.006722262s : 7350 calls. qps=244.94511382564147
06:12:23 I periodic.go:533> T028 ended after 30.006735283s : 7356 calls. qps=245.14496264335241
06:12:23 I periodic.go:533> T015 ended after 30.006747532s : 7355 calls. qps=245.1115367354103
06:12:23 I periodic.go:533> T010 ended after 30.006759211s : 7407 calls. qps=246.84438422409548
06:12:23 I periodic.go:533> T024 ended after 30.006770778s : 7333 calls. qps=244.37817898673455
06:12:23 I periodic.go:533> T008 ended after 30.006783047s : 7419 calls. qps=247.24409772215594
06:12:23 I periodic.go:533> T002 ended after 30.007217597s : 7432 calls. qps=247.67374635704383
Ended after 30.007258449s : 236684 calls. qps=7887.6
Aggregated Function Time : count 236684 avg 0.0040551139 +/- 0.001575 min 0.000566674 max 0.065236624 sum 959.780587
# range, mid point, percentile, count
>= 0.000566674 <= 0.0006 , 0.000583337 , 0.00, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.00, 7
> 0.0007 <= 0.0008 , 0.00075 , 0.01, 12
> 0.0008 <= 0.0009 , 0.00085 , 0.02, 22
> 0.0009 <= 0.001 , 0.00095 , 0.04, 43
> 0.001 <= 0.0011 , 0.00105 , 0.06, 48
> 0.0011 <= 0.0012 , 0.00115 , 0.09, 90
> 0.0012 <= 0.0014 , 0.0013 , 0.23, 310
> 0.0014 <= 0.0016 , 0.0015 , 0.36, 327
> 0.0016 <= 0.0018 , 0.0017 , 0.69, 770
> 0.0018 <= 0.002 , 0.0019 , 1.47, 1849
> 0.002 <= 0.0025 , 0.00225 , 6.93, 12935
> 0.0025 <= 0.003 , 0.00275 , 17.13, 24128
> 0.003 <= 0.0035 , 0.00325 , 36.20, 45135
> 0.0035 <= 0.004 , 0.00375 , 58.44, 52631
> 0.004 <= 0.0045 , 0.00425 , 72.86, 34133
> 0.0045 <= 0.005 , 0.00475 , 82.84, 23620
> 0.005 <= 0.006 , 0.0055 , 92.89, 23797
> 0.006 <= 0.007 , 0.0065 , 96.36, 8215
> 0.007 <= 0.008 , 0.0075 , 98.28, 4534
> 0.008 <= 0.009 , 0.0085 , 99.13, 2013
> 0.009 <= 0.01 , 0.0095 , 99.53, 958
> 0.01 <= 0.012 , 0.011 , 99.85, 756
> 0.012 <= 0.014 , 0.013 , 99.92, 167
> 0.014 <= 0.016 , 0.015 , 99.95, 64
> 0.016 <= 0.018 , 0.017 , 99.96, 24
> 0.018 <= 0.02 , 0.019 , 99.97, 31
> 0.04 <= 0.045 , 0.0425 , 99.99, 32
> 0.06 <= 0.0652366 , 0.0626183 , 100.00, 32
# target 50% 0.00381032
# target 75% 0.00460737
# target 90% 0.00571247
# target 99% 0.00884956
# target 99.9% 0.0133571
Ping SERVING : 236684
All done 236684 calls (plus 32 warmup) 4.055 ms avg, 7887.6 qps
Successfully wrote 4912 bytes of Json data to /data/2018-12-08-061153_grpc_linkerd_0qps_30s_echo_1_0.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-istio:8079
06:12:23 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:12:53 I periodic.go:533> T015 ended after 30.001271933s : 2983 calls. qps=99.42911776079863
06:12:53 I periodic.go:533> T010 ended after 30.010010913s : 2955 calls. qps=98.46714180033594
06:12:53 I periodic.go:533> T022 ended after 30.010862559s : 2960 calls. qps=98.63095384815327
06:12:53 I periodic.go:533> T014 ended after 30.010924155s : 2992 calls. qps=99.69702980644516
06:12:53 I periodic.go:533> T020 ended after 30.010940405s : 2970 calls. qps=98.96390982487108
06:12:53 I periodic.go:533> T011 ended after 30.010955035s : 2967 calls. qps=98.86389808454159
06:12:53 I periodic.go:533> T018 ended after 30.010967198s : 3000 calls. qps=99.96345603283079
06:12:53 I periodic.go:533> T008 ended after 30.010980965s : 2930 calls. qps=97.63093060560341
06:12:53 I periodic.go:533> T029 ended after 30.01100959s : 2950 calls. qps=98.29725958246244
06:12:53 I periodic.go:533> T021 ended after 30.01102248s : 2962 calls. qps=98.6970704504967
06:12:53 I periodic.go:533> T023 ended after 30.011038119s : 2948 calls. qps=98.23052399289114
06:12:53 I periodic.go:533> T031 ended after 30.011051891s : 2991 calls. qps=99.66328440813398
06:12:53 I periodic.go:533> T003 ended after 30.011077017s : 3009 calls. qps=100.26297950905025
06:12:53 I periodic.go:533> T030 ended after 30.011092669s : 2938 calls. qps=97.89713531606303
06:12:53 I periodic.go:533> T006 ended after 30.011105812s : 2956 calls. qps=98.49687040915492
06:12:53 I periodic.go:533> T016 ended after 30.0111193s : 2974 calls. qps=99.09660383776489
06:12:53 I periodic.go:533> T007 ended after 30.011131854s : 2966 calls. qps=98.82999463096492
06:12:53 I periodic.go:533> T005 ended after 30.012739677s : 2972 calls. qps=99.02461527954299
06:12:53 I periodic.go:533> T024 ended after 30.012792315s : 2951 calls. qps=98.32473996513576
06:12:53 I periodic.go:533> T027 ended after 30.012821969s : 2925 calls. qps=97.45834640345412
06:12:53 I periodic.go:533> T013 ended after 30.012853817s : 2968 calls. qps=98.89096245552143
06:12:53 I periodic.go:533> T025 ended after 30.012866771s : 2945 calls. qps=98.12458178255777
06:12:53 I periodic.go:533> T002 ended after 30.012879091s : 2920 calls. qps=97.29156576903094
06:12:53 I periodic.go:533> T017 ended after 30.013004591s : 2958 calls. qps=98.55727676418692
06:12:53 I periodic.go:533> T004 ended after 30.013020382s : 2942 calls. qps=98.0241229491329
06:12:53 I periodic.go:533> T012 ended after 30.013033654s : 2957 calls. qps=98.52386246886124
06:12:53 I periodic.go:533> T019 ended after 30.013048218s : 2944 calls. qps=98.09066971859153
06:12:53 I periodic.go:533> T026 ended after 30.013060697s : 2935 calls. qps=97.79075948403263
06:12:53 I periodic.go:533> T028 ended after 30.013088317s : 2976 calls. qps=99.15674017173153
06:12:53 I periodic.go:533> T009 ended after 30.013102264s : 2979 calls. qps=99.25665043873987
06:12:53 I periodic.go:533> T000 ended after 30.013115145s : 2984 calls. qps=99.42320167645497
06:12:53 I periodic.go:533> T001 ended after 30.013130523s : 2937 calls. qps=97.85716947285073
Ended after 30.013146542s : 94744 calls. qps=3156.7
Aggregated Function Time : count 94744 avg 0.01013393 +/- 0.003544 min 0.000481124 max 0.041031988 sum 960.129106
# range, mid point, percentile, count
>= 0.000481124 <= 0.0005 , 0.000490562 , 0.00, 1
> 0.0005 <= 0.0006 , 0.00055 , 0.00, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.00, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.01, 4
> 0.0008 <= 0.0009 , 0.00085 , 0.01, 3
> 0.0009 <= 0.001 , 0.00095 , 0.02, 5
> 0.001 <= 0.0011 , 0.00105 , 0.03, 16
> 0.0011 <= 0.0012 , 0.00115 , 0.09, 57
> 0.0012 <= 0.0014 , 0.0013 , 0.17, 70
> 0.0014 <= 0.0016 , 0.0015 , 0.22, 54
> 0.0016 <= 0.0018 , 0.0017 , 0.27, 41
> 0.0018 <= 0.002 , 0.0019 , 0.35, 82
> 0.002 <= 0.0025 , 0.00225 , 1.02, 632
> 0.0025 <= 0.003 , 0.00275 , 1.60, 551
> 0.003 <= 0.0035 , 0.00325 , 2.59, 935
> 0.0035 <= 0.004 , 0.00375 , 4.02, 1353
> 0.004 <= 0.0045 , 0.00425 , 4.70, 649
> 0.0045 <= 0.005 , 0.00475 , 5.36, 626
> 0.005 <= 0.006 , 0.0055 , 8.68, 3143
> 0.006 <= 0.007 , 0.0065 , 11.34, 2524
> 0.007 <= 0.008 , 0.0075 , 15.53, 3968
> 0.008 <= 0.009 , 0.0085 , 27.78, 11600
> 0.009 <= 0.01 , 0.0095 , 57.79, 28438
> 0.01 <= 0.012 , 0.011 , 84.10, 24929
> 0.012 <= 0.014 , 0.013 , 92.43, 7891
> 0.014 <= 0.016 , 0.015 , 94.62, 2069
> 0.016 <= 0.018 , 0.017 , 95.74, 1061
> 0.018 <= 0.02 , 0.019 , 96.54, 759
> 0.02 <= 0.025 , 0.0225 , 99.57, 2875
> 0.025 <= 0.03 , 0.0275 , 99.92, 332
> 0.03 <= 0.035 , 0.0325 , 99.99, 65
> 0.035 <= 0.04 , 0.0375 , 100.00, 5
> 0.04 <= 0.041032 , 0.040516 , 100.00, 4
# target 50% 0.00974042
# target 75% 0.011308
# target 90% 0.0134159
# target 99% 0.0240584
# target 99.9% 0.0296876
Ping SERVING : 94744
All done 94744 calls (plus 32 warmup) 10.134 ms avg, 3156.7 qps
Successfully wrote 5390 bytes of Json data to /data/2018-12-08-061223_grpc_istio_0qps_30s_echo_1_0.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8080/echo
06:12:53 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
06:12:53 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:13:23 I periodic.go:533> T002 ended after 30.000001458s : 29615 calls. qps=987.166618690369
06:13:23 I periodic.go:533> T003 ended after 30.000120782s : 28942 calls. qps=964.7294492682553
06:13:23 I periodic.go:533> T027 ended after 30.000164317s : 29334 calls. qps=977.7946443905806
06:13:23 I periodic.go:533> T005 ended after 30.000192656s : 29434 calls. qps=981.1270326663465
06:13:23 I periodic.go:533> T025 ended after 30.000273543s : 29313 calls. qps=977.0910907857251
06:13:23 I periodic.go:533> T017 ended after 30.000285321s : 29511 calls. qps=983.6906444133882
06:13:23 I periodic.go:533> T023 ended after 30.000295388s : 28756 calls. qps=958.5238954514523
06:13:23 I periodic.go:533> T019 ended after 30.000316874s : 29485 calls. qps=982.8229522986604
06:13:23 I periodic.go:533> T028 ended after 30.000326336s : 29337 calls. qps=977.8893626498983
06:13:23 I periodic.go:533> T030 ended after 30.000378232s : 29391 calls. qps=979.6876483593795
06:13:23 I periodic.go:533> T010 ended after 30.00038818s : 29388 calls. qps=979.5873247930754
06:13:23 I periodic.go:533> T026 ended after 30.000397292s : 28868 calls. qps=962.2539234738078
06:13:23 I periodic.go:533> T024 ended after 30.000406281s : 28965 calls. qps=965.4869247002249
06:13:23 I periodic.go:533> T009 ended after 30.000415456s : 28978 calls. qps=965.9199567586148
06:13:23 I periodic.go:533> T016 ended after 30.000424052s : 28773 calls. qps=959.0864432491855
06:13:23 I periodic.go:533> T012 ended after 30.000433264s : 28849 calls. qps=961.6194454970855
06:13:23 I periodic.go:533> T004 ended after 30.000467266s : 28859 calls. qps=961.9516837561513
06:13:23 I periodic.go:533> T008 ended after 30.000476192s : 29568 calls. qps=985.5843557538154
06:13:23 I periodic.go:533> T020 ended after 30.000485156s : 29567 calls. qps=985.5507284716925
06:13:23 I periodic.go:533> T007 ended after 30.000568542s : 29523 calls. qps=984.0813502806983
06:13:23 I periodic.go:533> T022 ended after 30.000610927s : 29514 calls. qps=983.7799660752222
06:13:23 I periodic.go:533> T029 ended after 30.000631182s : 28939 calls. qps=964.6130384537721
06:13:23 I periodic.go:533> T006 ended after 30.000640591s : 28973 calls. qps=965.746045059175
06:13:23 I periodic.go:533> T001 ended after 30.000649637s : 28988 calls. qps=966.2457430338078
06:13:23 I periodic.go:533> T031 ended after 30.000657553s : 29091 calls. qps=969.6787461610476
06:13:23 I periodic.go:533> T014 ended after 30.000667039s : 28941 calls. qps=964.6785507261401
06:13:23 I periodic.go:533> T013 ended after 30.000676279s : 29359 calls. qps=978.6112728582334
06:13:23 I periodic.go:533> T000 ended after 30.000684882s : 29424 calls. qps=980.7776094356431
06:13:23 I periodic.go:533> T015 ended after 30.000693854s : 29625 calls. qps=987.4771611673938
06:13:23 I periodic.go:533> T018 ended after 30.000705577s : 28968 calls. qps=965.5772903624065
06:13:23 I periodic.go:533> T021 ended after 30.000714614s : 28793 calls. qps=959.7438051213483
06:13:23 I periodic.go:533> T011 ended after 30.000735973s : 28771 calls. qps=959.0098064891896
Ended after 30.000790137s : 933842 calls. qps=31127
Aggregated Function Time : count 933842 avg 0.0010274299 +/- 0.0007119 min 7.0468e-05 max 0.044535356 sum 959.457155
# range, mid point, percentile, count
>= 7.0468e-05 <= 0.0001 , 8.5234e-05 , 0.25, 2374
> 0.0001 <= 0.0002 , 0.00015 , 2.95, 25157
> 0.0002 <= 0.0003 , 0.00025 , 7.31, 40723
> 0.0003 <= 0.0004 , 0.00035 , 12.90, 52221
> 0.0004 <= 0.0005 , 0.00045 , 19.74, 63821
> 0.0005 <= 0.0006 , 0.00055 , 27.40, 71536
> 0.0006 <= 0.0007 , 0.00065 , 35.35, 74321
> 0.0007 <= 0.0008 , 0.00075 , 42.92, 70641
> 0.0008 <= 0.0009 , 0.00085 , 50.08, 66829
> 0.0009 <= 0.001 , 0.00095 , 56.66, 61529
> 0.001 <= 0.0011 , 0.00105 , 62.71, 56490
> 0.0011 <= 0.0012 , 0.00115 , 68.24, 51587
> 0.0012 <= 0.0014 , 0.0013 , 77.79, 89240
> 0.0014 <= 0.0016 , 0.0015 , 85.18, 68962
> 0.0016 <= 0.0018 , 0.0017 , 89.89, 43969
> 0.0018 <= 0.002 , 0.0019 , 93.17, 30652
> 0.002 <= 0.0025 , 0.00225 , 97.37, 39203
> 0.0025 <= 0.003 , 0.00275 , 98.64, 11879
> 0.003 <= 0.0035 , 0.00325 , 99.14, 4633
> 0.0035 <= 0.004 , 0.00375 , 99.37, 2171
> 0.004 <= 0.0045 , 0.00425 , 99.56, 1805
> 0.0045 <= 0.005 , 0.00475 , 99.74, 1655
> 0.005 <= 0.006 , 0.0055 , 99.93, 1789
> 0.006 <= 0.007 , 0.0065 , 99.99, 525
> 0.007 <= 0.008 , 0.0075 , 99.99, 57
> 0.008 <= 0.009 , 0.0085 , 100.00, 40
> 0.009 <= 0.01 , 0.0095 , 100.00, 1
> 0.04 <= 0.0445354 , 0.0422677 , 100.00, 32
# target 50% 0.00089895
# target 75% 0.00134153
# target 90% 0.0018069
# target 99% 0.00336365
# target 99.9% 0.00584414
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 933842 (100.0 %)
Response Header Sizes : count 933842 avg 75 +/- 0 min 75 max 75 sum 70038150
Response Body/Total Sizes : count 933842 avg 75 +/- 0 min 75 max 75 sum 70038150
All done 933842 calls (plus 32 warmup) 1.027 ms avg, 31127.2 qps
Successfully wrote 5345 bytes of Json data to /data/2018-12-08-061253_http_baseline_0qps_30s_echo_0_1.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-linkerd:8080/echo
06:13:23 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 32 threads at -1.0 qps
06:13:23 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:13:53 I periodic.go:533> T025 ended after 30.001549055s : 10319 calls. qps=343.94890680753883
06:13:53 I periodic.go:533> T020 ended after 30.002288109s : 10332 calls. qps=344.3737345119567
06:13:53 I periodic.go:533> T021 ended after 30.002586966s : 10282 calls. qps=342.70378123232933
06:13:53 I periodic.go:533> T004 ended after 30.002752806s : 10282 calls. qps=342.70188693964735
06:13:53 I periodic.go:533> T014 ended after 30.002847902s : 10293 calls. qps=343.06743258575347
06:13:53 I periodic.go:533> T028 ended after 30.00294233s : 10308 calls. qps=343.56630381857616
06:13:53 I periodic.go:533> T019 ended after 30.002984778s : 10269 calls. qps=342.2659470710345
06:13:53 I periodic.go:533> T009 ended after 30.003066971s : 10291 calls. qps=342.9982678086527
06:13:53 I periodic.go:533> T002 ended after 30.003139894s : 10276 calls. qps=342.49748647324026
06:13:53 I periodic.go:533> T015 ended after 30.003197398s : 10337 calls. qps=344.52994668791735
06:13:53 I periodic.go:533> T023 ended after 30.003230398s : 10283 calls. qps=342.72976154879177
06:13:53 I periodic.go:533> T018 ended after 30.003283828s : 10345 calls. qps=344.7955916860582
06:13:53 I periodic.go:533> T017 ended after 30.003318567s : 10269 calls. qps=342.2621393386347
06:13:53 I periodic.go:533> T001 ended after 30.006598311s : 10320 calls. qps=343.9243560046202
06:13:53 I periodic.go:533> T013 ended after 30.006650062s : 10303 calls. qps=343.3572217729021
06:13:53 I periodic.go:533> T000 ended after 30.006663582s : 10292 calls. qps=342.9904818266376
06:13:53 I periodic.go:533> T016 ended after 30.006675221s : 10313 calls. qps=343.6901930668582
06:13:53 I periodic.go:533> T007 ended after 30.006686536s : 10333 calls. qps=344.3565815773482
06:13:53 I periodic.go:533> T005 ended after 30.006698226s : 10314 calls. qps=343.7232554651146
06:13:53 I periodic.go:533> T024 ended after 30.006709906s : 10284 calls. qps=342.7233452856376
06:13:53 I periodic.go:533> T006 ended after 30.006740148s : 10279 calls. qps=342.5563706454502
06:13:53 I periodic.go:533> T010 ended after 30.006752201s : 10336 calls. qps=344.4558055055203
06:13:53 I periodic.go:533> T012 ended after 30.006762915s : 10290 calls. qps=342.92269476545766
06:13:53 I periodic.go:533> T008 ended after 30.006774625s : 10322 calls. qps=343.98898678701295
06:13:53 I periodic.go:533> T026 ended after 30.006785903s : 10280 calls. qps=342.5891741031895
06:13:53 I periodic.go:533> T029 ended after 30.006796925s : 10287 calls. qps=342.82232874477324
06:13:53 I periodic.go:533> T011 ended after 30.006821805s : 10304 calls. qps=343.38858233506943
06:13:53 I periodic.go:533> T022 ended after 30.006832151s : 10332 calls. qps=344.3215847646776
06:13:53 I periodic.go:533> T031 ended after 30.006843407s : 10309 calls. qps=343.55496378519825
06:13:53 I periodic.go:533> T030 ended after 30.006855066s : 10328 calls. qps=344.1880189471236
06:13:53 I periodic.go:533> T027 ended after 30.006865205s : 10321 calls. qps=343.95462270014883
06:13:53 I periodic.go:533> T003 ended after 30.006876723s : 10352 calls. qps=344.98758719748014
Ended after 30.006908586s : 329785 calls. qps=10990
Aggregated Function Time : count 329785 avg 0.0029103885 +/- 0.0008184 min 0.000325411 max 0.0145775 sum 959.802457
# range, mid point, percentile, count
>= 0.000325411 <= 0.0004 , 0.000362706 , 0.00, 6
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 39
> 0.0005 <= 0.0006 , 0.00055 , 0.06, 149
> 0.0006 <= 0.0007 , 0.00065 , 0.10, 127
> 0.0007 <= 0.0008 , 0.00075 , 0.16, 203
> 0.0008 <= 0.0009 , 0.00085 , 0.25, 304
> 0.0009 <= 0.001 , 0.00095 , 0.36, 363
> 0.001 <= 0.0011 , 0.00105 , 0.45, 288
> 0.0011 <= 0.0012 , 0.00115 , 0.56, 359
> 0.0012 <= 0.0014 , 0.0013 , 1.05, 1628
> 0.0014 <= 0.0016 , 0.0015 , 1.87, 2703
> 0.0016 <= 0.0018 , 0.0017 , 2.92, 3462
> 0.0018 <= 0.002 , 0.0019 , 5.31, 7880
> 0.002 <= 0.0025 , 0.00225 , 24.32, 62699
> 0.0025 <= 0.003 , 0.00275 , 66.56, 139307
> 0.003 <= 0.0035 , 0.00325 , 89.12, 74396
> 0.0035 <= 0.004 , 0.00375 , 94.12, 16483
> 0.004 <= 0.0045 , 0.00425 , 96.36, 7401
> 0.0045 <= 0.005 , 0.00475 , 97.41, 3446
> 0.005 <= 0.006 , 0.0055 , 98.53, 3708
> 0.006 <= 0.007 , 0.0065 , 99.38, 2801
> 0.007 <= 0.008 , 0.0075 , 99.78, 1296
> 0.008 <= 0.009 , 0.0085 , 99.89, 358
> 0.009 <= 0.01 , 0.0095 , 99.95, 211
> 0.01 <= 0.012 , 0.011 , 99.99, 135
> 0.012 <= 0.014 , 0.013 , 100.00, 19
> 0.014 <= 0.0145775 , 0.0142887 , 100.00, 14
# target 50% 0.00280394
# target 75% 0.00318698
# target 90% 0.00358777
# target 99% 0.00654843
# target 99.9% 0.00923325
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 329785 (100.0 %)
Response Header Sizes : count 329785 avg 75 +/- 0 min 75 max 75 sum 24733875
Response Body/Total Sizes : count 329785 avg 75 +/- 0 min 75 max 75 sum 24733875
All done 329785 calls (plus 32 warmup) 2.910 ms avg, 10990.3 qps
Successfully wrote 5165 bytes of Json data to /data/2018-12-08-061323_http_linkerd_0qps_30s_echo_0_1.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8080/echo
06:13:54 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 32 threads at -1.0 qps
06:13:54 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:14:24 I periodic.go:533> T018 ended after 30.001047655s : 3471 calls. qps=115.69595968497853
06:14:24 I periodic.go:533> T026 ended after 30.001578915s : 3434 calls. qps=114.46064254581916
06:14:24 I periodic.go:533> T024 ended after 30.003839182s : 3359 calls. qps=111.95233981973688
06:14:24 I periodic.go:533> T015 ended after 30.003896127s : 3393 calls. qps=113.08531350855786
06:14:24 I periodic.go:533> T020 ended after 30.0039208s : 3386 calls. qps=112.85191767337288
06:14:24 I periodic.go:533> T023 ended after 30.003944361s : 3369 calls. qps=112.28523688302543
06:14:24 I periodic.go:533> T005 ended after 30.003959273s : 3395 calls. qps=113.15173337990419
06:14:24 I periodic.go:533> T003 ended after 30.003994056s : 3380 calls. qps=112.65166876421542
06:14:24 I periodic.go:533> T031 ended after 30.004006886s : 3417 calls. qps=113.8847892210819
06:14:24 I periodic.go:533> T008 ended after 30.00401699s : 3370 calls. qps=112.3182939512127
06:14:24 I periodic.go:533> T019 ended after 30.004028453s : 3421 calls. qps=114.01802279180102
06:14:24 I periodic.go:533> T001 ended after 30.004039044s : 3416 calls. qps=113.85133831450297
06:14:24 I periodic.go:533> T002 ended after 30.00404935s : 3375 calls. qps=112.48481698687782
06:14:24 I periodic.go:533> T012 ended after 30.00627461s : 3355 calls. qps=111.80994787276595
06:14:24 I periodic.go:533> T007 ended after 30.006329796s : 3390 calls. qps=112.97616279788755
06:14:24 I periodic.go:533> T029 ended after 30.006360799s : 3393 calls. qps=113.07602487113586
06:14:24 I periodic.go:533> T004 ended after 30.006373182s : 3401 calls. qps=113.34258823522752
06:14:24 I periodic.go:533> T016 ended after 30.006386047s : 3422 calls. qps=114.04239066444082
06:14:24 I periodic.go:533> T030 ended after 30.006398612s : 3383 calls. qps=112.74262012393211
06:14:24 I periodic.go:533> T028 ended after 30.006410413s : 3408 calls. qps=113.57573108856484
06:14:24 I periodic.go:533> T027 ended after 30.006435632s : 3398 calls. qps=113.24237379184898
06:14:24 I periodic.go:533> T009 ended after 30.00644663s : 3354 calls. qps=111.77598072031364
06:14:24 I periodic.go:533> T022 ended after 30.006458523s : 3395 calls. qps=113.1423089265175
06:14:24 I periodic.go:533> T025 ended after 30.006470205s : 3413 calls. qps=113.74213550220543
06:14:24 I periodic.go:533> T014 ended after 30.00648137s : 3395 calls. qps=113.14222277971808
06:14:24 I periodic.go:533> T017 ended after 30.006492777s : 3382 calls. qps=112.70894019951261
06:14:24 I periodic.go:533> T010 ended after 30.006519435s : 3376 calls. qps=112.50888352156528
06:14:24 I periodic.go:533> T006 ended after 30.006530151s : 3408 calls. qps=113.57527787618672
06:14:24 I periodic.go:533> T011 ended after 30.006540435s : 3383 calls. qps=112.74208725688439
06:14:24 I periodic.go:533> T013 ended after 30.006551232s : 3431 calls. qps=114.34169736710915
06:14:24 I periodic.go:533> T000 ended after 30.006562173s : 3419 calls. qps=113.9417431523171
06:14:24 I periodic.go:533> T021 ended after 30.006588928s : 3418 calls. qps=113.90831554367605
Ended after 30.006608695s : 108710 calls. qps=3622.9
Aggregated Function Time : count 108710 avg 0.0088301342 +/- 0.004419 min 0.000788588 max 0.064114207 sum 959.923892
# range, mid point, percentile, count
>= 0.000788588 <= 0.0008 , 0.000794294 , 0.00, 1
> 0.0008 <= 0.0009 , 0.00085 , 0.00, 4
> 0.0009 <= 0.001 , 0.00095 , 0.01, 10
> 0.001 <= 0.0011 , 0.00105 , 0.03, 15
> 0.0011 <= 0.0012 , 0.00115 , 0.03, 6
> 0.0012 <= 0.0014 , 0.0013 , 0.08, 52
> 0.0014 <= 0.0016 , 0.0015 , 0.19, 115
> 0.0016 <= 0.0018 , 0.0017 , 0.33, 153
> 0.0018 <= 0.002 , 0.0019 , 0.61, 312
> 0.002 <= 0.0025 , 0.00225 , 1.51, 975
> 0.0025 <= 0.003 , 0.00275 , 2.89, 1504
> 0.003 <= 0.0035 , 0.00325 , 4.95, 2229
> 0.0035 <= 0.004 , 0.00375 , 7.70, 3000
> 0.004 <= 0.0045 , 0.00425 , 11.22, 3816
> 0.0045 <= 0.005 , 0.00475 , 15.30, 4444
> 0.005 <= 0.006 , 0.0055 , 26.00, 11632
> 0.006 <= 0.007 , 0.0065 , 38.30, 13369
> 0.007 <= 0.008 , 0.0075 , 49.82, 12523
> 0.008 <= 0.009 , 0.0085 , 60.13, 11206
> 0.009 <= 0.01 , 0.0095 , 69.18, 9841
> 0.01 <= 0.012 , 0.011 , 82.73, 14731
> 0.012 <= 0.014 , 0.013 , 90.39, 8330
> 0.014 <= 0.016 , 0.015 , 94.00, 3924
> 0.016 <= 0.018 , 0.017 , 95.73, 1881
> 0.018 <= 0.02 , 0.019 , 97.07, 1448
> 0.02 <= 0.025 , 0.0225 , 99.22, 2342
> 0.025 <= 0.03 , 0.0275 , 99.80, 630
> 0.03 <= 0.035 , 0.0325 , 99.90, 106
> 0.035 <= 0.04 , 0.0375 , 99.94, 48
> 0.04 <= 0.045 , 0.0425 , 99.96, 17
> 0.045 <= 0.05 , 0.0475 , 99.98, 20
> 0.05 <= 0.06 , 0.055 , 100.00, 22
> 0.06 <= 0.0641142 , 0.0620571 , 100.00, 4
# target 50% 0.0080174
# target 75% 0.0108588
# target 90% 0.013897
# target 99% 0.0244874
# target 99.9% 0.0352385
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 108710 (100.0 %)
Response Header Sizes : count 108710 avg 209.13148 +/- 0.3379 min 209 max 210 sum 22734683
Response Body/Total Sizes : count 108710 avg 209.13148 +/- 0.3379 min 209 max 210 sum 22734683
All done 108710 calls (plus 32 warmup) 8.830 ms avg, 3622.9 qps
Successfully wrote 6043 bytes of Json data to /data/2018-12-08-061354_http_istio_0qps_30s_echo_0_1.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8079
06:14:24 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:14:54 I periodic.go:533> T001 ended after 30.000010768s : 14121 calls. qps=470.69983105014063
06:14:54 I periodic.go:533> T030 ended after 30.000708732s : 14108 calls. qps=470.25555716128207
06:14:54 I periodic.go:533> T003 ended after 30.000953108s : 14150 calls. qps=471.6516821669504
06:14:54 I periodic.go:533> T007 ended after 30.001115676s : 14330 calls. qps=477.64890328607254
06:14:54 I periodic.go:533> T020 ended after 30.00121951s : 14210 calls. qps=473.64741274145626
06:14:54 I periodic.go:533> T022 ended after 30.001310306s : 14221 calls. qps=474.0126299468968
06:14:54 I periodic.go:533> T014 ended after 30.00138663s : 14226 calls. qps=474.178083014825
06:14:54 I periodic.go:533> T027 ended after 30.00146721s : 14139 calls. qps=471.2769512581448
06:14:54 I periodic.go:533> T005 ended after 30.001540162s : 14170 calls. qps=472.30908558313763
06:14:54 I periodic.go:533> T031 ended after 30.00162227s : 14279 calls. qps=475.94092984359145
06:14:54 I periodic.go:533> T017 ended after 30.0062395s : 14191 calls. qps=472.93497074166856
06:14:54 I periodic.go:533> T025 ended after 30.006323631s : 14170 calls. qps=472.2337922584009
06:14:54 I periodic.go:533> T006 ended after 30.006365607s : 14156 calls. qps=471.7665639819317
06:14:54 I periodic.go:533> T016 ended after 30.006396473s : 14096 calls. qps=469.76650504114
06:14:54 I periodic.go:533> T013 ended after 30.006430774s : 14150 calls. qps=471.5655822771399
06:14:54 I periodic.go:533> T002 ended after 30.006474961s : 14303 calls. qps=476.6637873522261
06:14:54 I periodic.go:533> T026 ended after 30.006506801s : 14139 calls. qps=471.19780032272206
06:14:54 I periodic.go:533> T018 ended after 30.006534818s : 14108 calls. qps=470.1642520727533
06:14:54 I periodic.go:533> T024 ended after 30.006565505s : 14196 calls. qps=473.0964627602755
06:14:54 I periodic.go:533> T015 ended after 30.006594653s : 14115 calls. qps=470.3965965891038
06:14:54 I periodic.go:533> T012 ended after 30.006647013s : 14204 calls. qps=473.3617852686539
06:14:54 I periodic.go:533> T028 ended after 30.006677666s : 14169 calls. qps=472.1948946735488
06:14:54 I periodic.go:533> T010 ended after 30.006706198s : 14151 calls. qps=471.59457977907584
06:14:54 I periodic.go:533> T019 ended after 30.006736529s : 14259 calls. qps=475.1932948862798
06:14:54 I periodic.go:533> T000 ended after 30.006769516s : 14258 calls. qps=475.15944668410407
06:14:54 I periodic.go:533> T023 ended after 30.006797745s : 14155 calls. qps=471.7264441307681
06:14:54 I periodic.go:533> T021 ended after 30.006828024s : 14143 calls. qps=471.32605914521105
06:14:54 I periodic.go:533> T004 ended after 30.006856326s : 14133 calls. qps=470.99235742846537
06:14:54 I periodic.go:533> T011 ended after 30.006883332s : 14246 calls. qps=474.75773616274745
06:14:54 I periodic.go:533> T008 ended after 30.006912009s : 14167 calls. qps=472.12455569406404
06:14:54 I periodic.go:533> T009 ended after 30.006939452s : 14208 calls. qps=473.4904745193205
06:14:54 I periodic.go:533> T029 ended after 30.006978837s : 14284 calls. qps=476.0225971961951
Ended after 30.007012793s : 453955 calls. qps=15128
Aggregated Function Time : count 453955 avg 0.0021143265 +/- 0.001157 min 0.000274138 max 0.041116063 sum 959.809104
# range, mid point, percentile, count
>= 0.000274138 <= 0.0003 , 0.000287069 , 0.00, 2
> 0.0003 <= 0.0004 , 0.00035 , 0.00, 5
> 0.0004 <= 0.0005 , 0.00045 , 0.00, 11
> 0.0005 <= 0.0006 , 0.00055 , 0.04, 169
> 0.0006 <= 0.0007 , 0.00065 , 0.33, 1324
> 0.0007 <= 0.0008 , 0.00075 , 0.99, 2969
> 0.0008 <= 0.0009 , 0.00085 , 1.89, 4110
> 0.0009 <= 0.001 , 0.00095 , 3.02, 5101
> 0.001 <= 0.0011 , 0.00105 , 4.57, 7075
> 0.0011 <= 0.0012 , 0.00115 , 7.18, 11830
> 0.0012 <= 0.0014 , 0.0013 , 20.14, 58830
> 0.0014 <= 0.0016 , 0.0015 , 35.77, 70942
> 0.0016 <= 0.0018 , 0.0017 , 49.56, 62601
> 0.0018 <= 0.002 , 0.0019 , 61.74, 55285
> 0.002 <= 0.0025 , 0.00225 , 78.85, 77703
> 0.0025 <= 0.003 , 0.00275 , 86.36, 34070
> 0.003 <= 0.0035 , 0.00325 , 90.36, 18165
> 0.0035 <= 0.004 , 0.00375 , 93.04, 12187
> 0.004 <= 0.0045 , 0.00425 , 95.43, 10846
> 0.0045 <= 0.005 , 0.00475 , 97.31, 8532
> 0.005 <= 0.006 , 0.0055 , 98.97, 7530
> 0.006 <= 0.007 , 0.0065 , 99.48, 2322
> 0.007 <= 0.008 , 0.0075 , 99.69, 933
> 0.008 <= 0.009 , 0.0085 , 99.82, 598
> 0.009 <= 0.01 , 0.0095 , 99.91, 389
> 0.01 <= 0.012 , 0.011 , 99.97, 299
> 0.012 <= 0.014 , 0.013 , 99.98, 53
> 0.014 <= 0.016 , 0.015 , 99.98, 5
> 0.018 <= 0.02 , 0.019 , 99.99, 5
> 0.035 <= 0.04 , 0.0375 , 100.00, 56
> 0.04 <= 0.0411161 , 0.040558 , 100.00, 8
# target 50% 0.00180727
# target 75% 0.00238745
# target 90% 0.00345506
# target 99% 0.00605532
# target 99.9% 0.00992814
Ping SERVING : 453955
All done 453955 calls (plus 32 warmup) 2.114 ms avg, 15128.3 qps
Successfully wrote 5160 bytes of Json data to /data/2018-12-08-061424_grpc_baseline_0qps_30s_echo_0_1.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-linkerd:8079
06:14:54 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:15:24 I periodic.go:533> T020 ended after 30.000753993s : 7335 calls. qps=244.4938551114901
06:15:24 I periodic.go:533> T015 ended after 30.003350169s : 7348 calls. qps=244.90598411880302
06:15:24 I periodic.go:533> T010 ended after 30.005441146s : 7332 calls. qps=244.35568083548816
06:15:24 I periodic.go:533> T011 ended after 30.005480831s : 7409 calls. qps=246.92155548947017
06:15:24 I periodic.go:533> T008 ended after 30.00634899s : 7308 calls. qps=243.54845710937659
06:15:24 I periodic.go:533> T006 ended after 30.006371801s : 7338 calls. qps=244.5480596143067
06:15:24 I periodic.go:533> T021 ended after 30.006383968s : 7350 calls. qps=244.9478753534025
06:15:24 I periodic.go:533> T031 ended after 30.006424604s : 7468 calls. qps=248.88003481109442
06:15:24 I periodic.go:533> T019 ended after 30.006444787s : 7426 calls. qps=247.4801681009955
06:15:24 I periodic.go:533> T012 ended after 30.006456763s : 7368 calls. qps=245.54715200780535
06:15:24 I periodic.go:533> T007 ended after 30.006469037s : 7460 calls. qps=248.6130570978317
06:15:24 I periodic.go:533> T027 ended after 30.006480791s : 7333 calls. qps=244.38054069304337
06:15:24 I periodic.go:533> T014 ended after 30.00650633s : 7444 calls. qps=248.0795304236273
06:15:24 I periodic.go:533> T022 ended after 30.006518296s : 7418 calls. qps=247.2129530932235
06:15:24 I periodic.go:533> T029 ended after 30.006529044s : 7497 calls. qps=249.84562489739457
06:15:24 I periodic.go:533> T024 ended after 30.006541205s : 7442 calls. qps=248.0125899602163
06:15:24 I periodic.go:533> T004 ended after 30.006552816s : 7422 calls. qps=247.34597291170562
06:15:24 I periodic.go:533> T001 ended after 30.006565356s : 7332 calls. qps=244.3465259356623
06:15:24 I periodic.go:533> T028 ended after 30.006591956s : 7426 calls. qps=247.47895432073972
06:15:24 I periodic.go:533> T002 ended after 30.00660492s : 7398 calls. qps=246.5457195082102
06:15:24 I periodic.go:533> T009 ended after 30.006616897s : 7379 calls. qps=245.9124274265566
06:15:24 I periodic.go:533> T017 ended after 30.006628899s : 7424 calls. qps=247.41199769519636
06:15:24 I periodic.go:533> T026 ended after 30.006645591s : 7426 calls. qps=247.4785119676058
06:15:24 I periodic.go:533> T016 ended after 30.006670806s : 7400 calls. qps=246.6118300108231
06:15:24 I periodic.go:533> T005 ended after 30.006682107s : 7439 calls. qps=247.91144763934497
06:15:24 I periodic.go:533> T003 ended after 30.006694312s : 7349 calls. qps=244.91201608505924
06:15:24 I periodic.go:533> T013 ended after 30.006706085s : 7329 calls. qps=244.24540231903964
06:15:24 I periodic.go:533> T025 ended after 30.00671911s : 7331 calls. qps=244.31194803822723
06:15:24 I periodic.go:533> T023 ended after 30.006759138s : 7315 calls. qps=243.77840893641928
06:15:24 I periodic.go:533> T018 ended after 30.006772079s : 7315 calls. qps=243.77830380227215
06:15:24 I periodic.go:533> T030 ended after 30.006783316s : 7311 calls. qps=243.64490931960978
06:15:24 I periodic.go:533> T000 ended after 30.006795746s : 7348 calls. qps=244.87786240820168
Ended after 30.006811953s : 236220 calls. qps=7872.2
Aggregated Function Time : count 236220 avg 0.0040634791 +/- 0.001342 min 0.000538342 max 0.018808722 sum 959.875034
# range, mid point, percentile, count
>= 0.000538342 <= 0.0006 , 0.000569171 , 0.00, 4
> 0.0006 <= 0.0007 , 0.00065 , 0.01, 8
> 0.0007 <= 0.0008 , 0.00075 , 0.01, 18
> 0.0008 <= 0.0009 , 0.00085 , 0.02, 27
> 0.0009 <= 0.001 , 0.00095 , 0.04, 34
> 0.001 <= 0.0011 , 0.00105 , 0.06, 41
> 0.0011 <= 0.0012 , 0.00115 , 0.09, 71
> 0.0012 <= 0.0014 , 0.0013 , 0.22, 311
> 0.0014 <= 0.0016 , 0.0015 , 0.38, 378
> 0.0016 <= 0.0018 , 0.0017 , 0.72, 806
> 0.0018 <= 0.002 , 0.0019 , 1.49, 1826
> 0.002 <= 0.0025 , 0.00225 , 6.94, 12877
> 0.0025 <= 0.003 , 0.00275 , 16.94, 23610
> 0.003 <= 0.0035 , 0.00325 , 35.67, 44245
> 0.0035 <= 0.004 , 0.00375 , 57.27, 51026
> 0.004 <= 0.0045 , 0.00425 , 71.94, 34662
> 0.0045 <= 0.005 , 0.00475 , 82.44, 24784
> 0.005 <= 0.006 , 0.0055 , 92.63, 24081
> 0.006 <= 0.007 , 0.0065 , 96.09, 8182
> 0.007 <= 0.008 , 0.0075 , 98.14, 4830
> 0.008 <= 0.009 , 0.0085 , 99.20, 2515
> 0.009 <= 0.01 , 0.0095 , 99.61, 961
> 0.01 <= 0.012 , 0.011 , 99.86, 593
> 0.012 <= 0.014 , 0.013 , 99.97, 261
> 0.014 <= 0.016 , 0.015 , 100.00, 67
> 0.016 <= 0.018 , 0.017 , 100.00, 1
> 0.018 <= 0.0188087 , 0.0184044 , 100.00, 1
# target 50% 0.00383173
# target 75% 0.00464568
# target 90% 0.00574208
# target 99% 0.00880986
# target 99.9% 0.0127186
Ping SERVING : 236220
All done 236220 calls (plus 32 warmup) 4.063 ms avg, 7872.2 qps
Successfully wrote 4634 bytes of Json data to /data/2018-12-08-061454_grpc_linkerd_0qps_30s_echo_0_1.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8079
06:15:24 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:15:54 I periodic.go:533> T020 ended after 30.002120585s : 2919 calls. qps=97.29312272211175
06:15:54 I periodic.go:533> T005 ended after 30.022370917s : 2969 calls. qps=98.89292248797113
06:15:54 I periodic.go:533> T025 ended after 30.022438158s : 2929 calls. qps=97.56036417113968
06:15:54 I periodic.go:533> T004 ended after 30.022452113s : 2930 calls. qps=97.59362722844624
06:15:54 I periodic.go:533> T022 ended after 30.022464739s : 2959 calls. qps=98.5595295297717
06:15:54 I periodic.go:533> T008 ended after 30.022493341s : 2964 calls. qps=98.72597743080301
06:15:54 I periodic.go:533> T009 ended after 30.02250555s : 2899 calls. qps=96.56089479846894
06:15:54 I periodic.go:533> T031 ended after 30.022518944s : 2922 calls. qps=97.32694333377918
06:15:54 I periodic.go:533> T014 ended after 30.022531095s : 2977 calls. qps=99.15886140911664
06:15:54 I periodic.go:533> T027 ended after 30.022543558s : 2952 calls. qps=98.3261126525501
06:15:54 I periodic.go:533> T021 ended after 30.022555653s : 2943 calls. qps=98.02629842759309
06:15:54 I periodic.go:533> T030 ended after 30.022584068s : 2924 calls. qps=97.39334873298222
06:15:54 I periodic.go:533> T028 ended after 30.022595922s : 2944 calls. qps=98.05947519157367
06:15:54 I periodic.go:533> T016 ended after 30.022609033s : 2924 calls. qps=97.39326774651805
06:15:54 I periodic.go:533> T018 ended after 30.022662038s : 2967 calls. qps=98.82534720754064
06:15:54 I periodic.go:533> T011 ended after 30.022674535s : 2930 calls. qps=97.59290420925852
06:15:54 I periodic.go:533> T017 ended after 30.022698017s : 2928 calls. qps=97.52621161302874
06:15:54 I periodic.go:533> T012 ended after 30.022710716s : 2920 calls. qps=97.25970541506916
06:15:54 I periodic.go:533> T003 ended after 30.022743514s : 2943 calls. qps=98.02568504865788
06:15:54 I periodic.go:533> T010 ended after 30.022755215s : 2936 calls. qps=97.792490361881
06:15:54 I periodic.go:533> T007 ended after 30.02276637s : 2937 calls. qps=97.82576208349585
06:15:54 I periodic.go:533> T029 ended after 30.022777727s : 2927 calls. qps=97.49264463853052
06:15:54 I periodic.go:533> T024 ended after 30.022807309s : 2933 calls. qps=97.69239664409292
06:15:54 I periodic.go:533> T026 ended after 30.022820154s : 2930 calls. qps=97.59243085662058
06:15:54 I periodic.go:533> T001 ended after 30.022831242s : 2914 calls. qps=97.05946706063826
06:15:54 I periodic.go:533> T019 ended after 30.022845739s : 2963 calls. qps=98.69151065020566
06:15:54 I periodic.go:533> T000 ended after 30.022857581s : 2911 calls. qps=96.95945804446775
06:15:54 I periodic.go:533> T013 ended after 30.022966284s : 2948 calls. qps=98.19149687321416
06:15:54 I periodic.go:533> T023 ended after 30.022985326s : 2916 calls. qps=97.12558455919887
06:15:54 I periodic.go:533> T015 ended after 30.022997757s : 2944 calls. qps=98.05816274004793
06:15:54 I periodic.go:533> T006 ended after 30.023027848s : 2923 calls. qps=97.35860136420975
06:15:54 I periodic.go:533> T002 ended after 30.023040987s : 2969 calls. qps=98.8907153437781
Ended after 30.023059453s : 93994 calls. qps=3130.7
Aggregated Function Time : count 93994 avg 0.010218517 +/- 0.003736 min 0.000643155 max 0.049661594 sum 960.479291
# range, mid point, percentile, count
>= 0.000643155 <= 0.0007 , 0.000671577 , 0.00, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.00, 1
> 0.0008 <= 0.0009 , 0.00085 , 0.00, 2
> 0.0009 <= 0.001 , 0.00095 , 0.01, 4
> 0.001 <= 0.0011 , 0.00105 , 0.04, 26
> 0.0011 <= 0.0012 , 0.00115 , 0.08, 45
> 0.0012 <= 0.0014 , 0.0013 , 0.15, 66
> 0.0014 <= 0.0016 , 0.0015 , 0.20, 40
> 0.0016 <= 0.0018 , 0.0017 , 0.24, 38
> 0.0018 <= 0.002 , 0.0019 , 0.30, 57
> 0.002 <= 0.0025 , 0.00225 , 1.08, 735
> 0.0025 <= 0.003 , 0.00275 , 1.64, 525
> 0.003 <= 0.0035 , 0.00325 , 2.55, 860
> 0.0035 <= 0.004 , 0.00375 , 4.00, 1364
> 0.004 <= 0.0045 , 0.00425 , 4.74, 693
> 0.0045 <= 0.005 , 0.00475 , 5.40, 617
> 0.005 <= 0.006 , 0.0055 , 8.78, 3177
> 0.006 <= 0.007 , 0.0065 , 11.67, 2722
> 0.007 <= 0.008 , 0.0075 , 15.85, 3922
> 0.008 <= 0.009 , 0.0085 , 26.83, 10325
> 0.009 <= 0.01 , 0.0095 , 56.10, 27512
> 0.01 <= 0.012 , 0.011 , 83.31, 25579
> 0.012 <= 0.014 , 0.013 , 92.06, 8218
> 0.014 <= 0.016 , 0.015 , 94.74, 2523
> 0.016 <= 0.018 , 0.017 , 95.68, 880
> 0.018 <= 0.02 , 0.019 , 96.37, 650
> 0.02 <= 0.025 , 0.0225 , 99.29, 2746
> 0.025 <= 0.03 , 0.0275 , 99.81, 491
> 0.03 <= 0.035 , 0.0325 , 99.91, 94
> 0.035 <= 0.04 , 0.0375 , 99.94, 26
> 0.04 <= 0.045 , 0.0425 , 99.96, 20
> 0.045 <= 0.0496616 , 0.0473308 , 100.00, 35
# target 50% 0.00979155
# target 75% 0.0113889
# target 90% 0.0135292
# target 99% 0.0245012
# target 99.9% 0.0343088
Ping SERVING : 93994
All done 93994 calls (plus 32 warmup) 10.219 ms avg, 3130.7 qps
Successfully wrote 5262 bytes of Json data to /data/2018-12-08-061524_grpc_istio_0qps_30s_echo_0_1.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-baseline:8080/echo
06:15:54 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
06:15:54 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:16:24 I periodic.go:533> T030 ended after 30.000029838s : 29012 calls. qps=967.0657048231167
06:16:24 I periodic.go:533> T017 ended after 30.000586329s : 29168 calls. qps=972.2476647666322
06:16:24 I periodic.go:533> T012 ended after 30.002712202s : 29530 calls. qps=984.2443510167561
06:16:24 I periodic.go:533> T007 ended after 30.002757742s : 29439 calls. qps=981.2098025505564
06:16:24 I periodic.go:533> T009 ended after 30.002772484s : 29410 calls. qps=980.242743089289
06:16:24 I periodic.go:533> T028 ended after 30.002784244s : 28780 calls. qps=959.2443076597287
06:16:24 I periodic.go:533> T001 ended after 30.002795154s : 29581 calls. qps=985.9414713917491
06:16:24 I periodic.go:533> T019 ended after 30.002806196s : 29563 calls. qps=985.3411646521705
06:16:24 I periodic.go:533> T000 ended after 30.002816764s : 29071 calls. qps=968.9423572683324
06:16:24 I periodic.go:533> T026 ended after 30.002844078s : 29160 calls. qps=971.907860607854
06:16:24 I periodic.go:533> T003 ended after 30.002855228s : 29091 calls. qps=969.6077182964567
06:16:24 I periodic.go:533> T024 ended after 30.002880178s : 29465 calls. qps=982.0723818910423
06:16:24 I periodic.go:533> T004 ended after 30.002891045s : 29420 calls. qps=980.5721707242897
06:16:24 I periodic.go:533> T021 ended after 30.002915655s : 29515 calls. qps=983.7377253394142
06:16:24 I periodic.go:533> T010 ended after 30.002926288s : 29567 calls. qps=985.4705409793859
06:16:24 I periodic.go:533> T022 ended after 30.002946416s : 29511 calls. qps=983.6033965071625
06:16:24 I periodic.go:533> T029 ended after 30.002960758s : 29306 calls. qps=976.7702673205623
06:16:24 I periodic.go:533> T014 ended after 30.002971246s : 29388 calls. qps=979.5029885221121
06:16:24 I periodic.go:533> T025 ended after 30.003003292s : 28895 calls. qps=963.0702539603615
06:16:24 I periodic.go:533> T016 ended after 30.003013079s : 29500 calls. qps=983.2345812177086
06:16:24 I periodic.go:533> T015 ended after 30.003022411s : 29172 calls. qps=972.3020434536181
06:16:24 I periodic.go:533> T013 ended after 30.003031822s : 29109 calls. qps=970.2019506793829
06:16:24 I periodic.go:533> T006 ended after 30.003046478s : 28978 calls. qps=965.8352534716224
06:16:24 I periodic.go:533> T005 ended after 30.00305582s : 28983 calls. qps=966.0016024327751
06:16:24 I periodic.go:533> T011 ended after 30.004556803s : 29079 calls. qps=969.1527920549902
06:16:24 I periodic.go:533> T023 ended after 30.004605273s : 28927 calls. qps=964.0853374608565
06:16:24 I periodic.go:533> T008 ended after 30.004618007s : 29056 calls. qps=968.3842664892887
06:16:24 I periodic.go:533> T027 ended after 30.004645343s : 29373 calls. qps=978.9484149611067
06:16:24 I periodic.go:533> T031 ended after 30.00465566s : 29709 calls. qps=990.1463405096114
06:16:24 I periodic.go:533> T020 ended after 30.004667511s : 28915 calls. qps=963.6833999043477
06:16:24 I periodic.go:533> T018 ended after 30.004677886s : 29086 calls. qps=969.3821780226926
06:16:24 I periodic.go:533> T002 ended after 30.00468988s : 29578 calls. qps=985.7792271239432
Ended after 30.004723011s : 936337 calls. qps=31206
Aggregated Function Time : count 936337 avg 0.0010248116 +/- 0.0006544 min 7.2678e-05 max 0.012859681 sum 959.569032
# range, mid point, percentile, count
>= 7.2678e-05 <= 0.0001 , 8.6339e-05 , 0.29, 2684
> 0.0001 <= 0.0002 , 0.00015 , 3.22, 27463
> 0.0002 <= 0.0003 , 0.00025 , 7.67, 41668
> 0.0003 <= 0.0004 , 0.00035 , 13.18, 51606
> 0.0004 <= 0.0005 , 0.00045 , 19.83, 62213
> 0.0005 <= 0.0006 , 0.00055 , 27.16, 68684
> 0.0006 <= 0.0007 , 0.00065 , 34.61, 69712
> 0.0007 <= 0.0008 , 0.00075 , 41.71, 66562
> 0.0008 <= 0.0009 , 0.00085 , 48.57, 64143
> 0.0009 <= 0.001 , 0.00095 , 55.13, 61437
> 0.001 <= 0.0011 , 0.00105 , 61.31, 57931
> 0.0011 <= 0.0012 , 0.00115 , 67.15, 54656
> 0.0012 <= 0.0014 , 0.0013 , 77.63, 98127
> 0.0014 <= 0.0016 , 0.0015 , 85.83, 76777
> 0.0016 <= 0.0018 , 0.0017 , 91.04, 48796
> 0.0018 <= 0.002 , 0.0019 , 94.08, 28452
> 0.002 <= 0.0025 , 0.00225 , 97.67, 33623
> 0.0025 <= 0.003 , 0.00275 , 98.79, 10489
> 0.003 <= 0.0035 , 0.00325 , 99.19, 3699
> 0.0035 <= 0.004 , 0.00375 , 99.39, 1877
> 0.004 <= 0.0045 , 0.00425 , 99.56, 1634
> 0.0045 <= 0.005 , 0.00475 , 99.74, 1678
> 0.005 <= 0.006 , 0.0055 , 99.93, 1800
> 0.006 <= 0.007 , 0.0065 , 99.98, 452
> 0.007 <= 0.008 , 0.0075 , 99.99, 78
> 0.008 <= 0.009 , 0.0085 , 99.99, 37
> 0.009 <= 0.01 , 0.0095 , 100.00, 27
> 0.01 <= 0.012 , 0.011 , 100.00, 30
> 0.012 <= 0.0128597 , 0.0124298 , 100.00, 2
# target 50% 0.000921865
# target 75% 0.00134979
# target 90% 0.00176001
# target 99% 0.00326367
# target 99.9% 0.00582759
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 936337 (100.0 %)
Response Header Sizes : count 936337 avg 75 +/- 0 min 75 max 75 sum 70225275
Response Body/Total Sizes : count 936337 avg 75 +/- 0 min 75 max 75 sum 70225275
All done 936337 calls (plus 32 warmup) 1.025 ms avg, 31206.3 qps
Successfully wrote 5460 bytes of Json data to /data/2018-12-08-061554_http_baseline_0qps_30s_echo_1_1.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-linkerd:8080/echo
06:16:25 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 32 threads at -1.0 qps
06:16:25 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:16:55 I periodic.go:533> T017 ended after 30.001355482s : 10074 calls. qps=335.7848283236445
06:16:55 I periodic.go:533> T004 ended after 30.001809097s : 10091 calls. qps=336.346383892198
06:16:55 I periodic.go:533> T001 ended after 30.003800805s : 10080 calls. qps=335.9574363765344
06:16:55 I periodic.go:533> T023 ended after 30.005877035s : 10092 calls. qps=336.33411175511736
06:16:55 I periodic.go:533> T024 ended after 30.005916976s : 10094 calls. qps=336.40031757981626
06:16:55 I periodic.go:533> T002 ended after 30.005929788s : 10147 calls. qps=338.16649147989403
06:16:55 I periodic.go:533> T028 ended after 30.005956606s : 10162 calls. qps=338.6660899845467
06:16:55 I periodic.go:533> T005 ended after 30.005968482s : 10129 calls. qps=337.56617474540747
06:16:55 I periodic.go:533> T020 ended after 30.005988538s : 10140 calls. qps=337.93254260423925
06:16:55 I periodic.go:533> T018 ended after 30.006094132s : 10156 calls. qps=338.4645784060623
06:16:55 I periodic.go:533> T011 ended after 30.006116502s : 10099 calls. qps=336.56471337525034
06:16:55 I periodic.go:533> T003 ended after 30.006133997s : 10088 calls. qps=336.19792543113334
06:16:55 I periodic.go:533> T031 ended after 30.006145047s : 10102 calls. qps=336.66437272021363
06:16:55 I periodic.go:533> T009 ended after 30.006156434s : 10082 calls. qps=335.99771507476635
06:16:55 I periodic.go:533> T013 ended after 30.006166816s : 10151 calls. qps=338.2971261289945
06:16:55 I periodic.go:533> T025 ended after 30.006177168s : 10154 calls. qps=338.3969888316431
06:16:55 I periodic.go:533> T008 ended after 30.006187725s : 10146 calls. qps=338.1302580982903
06:16:55 I periodic.go:533> T000 ended after 30.006198856s : 10124 calls. qps=337.3969508295656
06:16:55 I periodic.go:533> T012 ended after 30.006209262s : 10057 calls. qps=335.1639626381007
06:16:55 I periodic.go:533> T007 ended after 30.006219527s : 10144 calls. qps=338.06324688361
06:16:55 I periodic.go:533> T016 ended after 30.006229508s : 10169 calls. qps=338.8962947606873
06:16:55 I periodic.go:533> T022 ended after 30.006240382s : 10153 calls. qps=338.36294953134257
06:16:55 I periodic.go:533> T029 ended after 30.006256617s : 10087 calls. qps=336.1632251816851
06:16:55 I periodic.go:533> T014 ended after 30.006267264s : 10087 calls. qps=336.163105902275
06:16:55 I periodic.go:533> T019 ended after 30.006277484s : 10096 calls. qps=336.46292864496127
06:16:55 I periodic.go:533> T026 ended after 30.006288071s : 10109 calls. qps=336.8960524567511
06:16:55 I periodic.go:533> T027 ended after 30.006298317s : 10162 calls. qps=338.66223326329936
06:16:55 I periodic.go:533> T010 ended after 30.006308257s : 10147 calls. qps=338.1622261923162
06:16:55 I periodic.go:533> T021 ended after 30.006325379s : 10065 calls. qps=335.4292760900345
06:16:55 I periodic.go:533> T015 ended after 30.00633628s : 10120 calls. qps=337.26210042994296
06:16:55 I periodic.go:533> T030 ended after 30.006347451s : 10163 calls. qps=338.6950050017269
06:16:55 I periodic.go:533> T006 ended after 30.006361455s : 10099 calls. qps=336.56196587331283
Ended after 30.006378098s : 323769 calls. qps=10790
Aggregated Function Time : count 323769 avg 0.0029645214 +/- 0.0009469 min 0.000285857 max 0.050832261 sum 959.820139
# range, mid point, percentile, count
>= 0.000285857 <= 0.0003 , 0.000292928 , 0.00, 1
> 0.0003 <= 0.0004 , 0.00035 , 0.00, 9
> 0.0004 <= 0.0005 , 0.00045 , 0.02, 48
> 0.0005 <= 0.0006 , 0.00055 , 0.07, 164
> 0.0006 <= 0.0007 , 0.00065 , 0.12, 173
> 0.0007 <= 0.0008 , 0.00075 , 0.20, 267
> 0.0008 <= 0.0009 , 0.00085 , 0.32, 365
> 0.0009 <= 0.001 , 0.00095 , 0.45, 417
> 0.001 <= 0.0011 , 0.00105 , 0.55, 342
> 0.0011 <= 0.0012 , 0.00115 , 0.67, 377
> 0.0012 <= 0.0014 , 0.0013 , 1.11, 1425
> 0.0014 <= 0.0016 , 0.0015 , 1.86, 2449
> 0.0016 <= 0.0018 , 0.0017 , 3.02, 3732
> 0.0018 <= 0.002 , 0.0019 , 5.34, 7527
> 0.002 <= 0.0025 , 0.00225 , 21.60, 52645
> 0.0025 <= 0.003 , 0.00275 , 60.87, 127122
> 0.003 <= 0.0035 , 0.00325 , 87.70, 86879
> 0.0035 <= 0.004 , 0.00375 , 93.88, 20009
> 0.004 <= 0.0045 , 0.00425 , 96.02, 6923
> 0.0045 <= 0.005 , 0.00475 , 97.08, 3445
> 0.005 <= 0.006 , 0.0055 , 98.40, 4278
> 0.006 <= 0.007 , 0.0065 , 99.42, 3301
> 0.007 <= 0.008 , 0.0075 , 99.81, 1272
> 0.008 <= 0.009 , 0.0085 , 99.91, 318
> 0.009 <= 0.01 , 0.0095 , 99.97, 190
> 0.01 <= 0.012 , 0.011 , 99.99, 53
> 0.012 <= 0.014 , 0.013 , 99.99, 6
> 0.05 <= 0.0508323 , 0.0504161 , 100.00, 32
# target 50% 0.00286163
# target 75% 0.00326338
# target 90% 0.00368617
# target 99% 0.00658598
# target 99.9% 0.00886551
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 323769 (100.0 %)
Response Header Sizes : count 323769 avg 75 +/- 0 min 75 max 75 sum 24282675
Response Body/Total Sizes : count 323769 avg 75 +/- 0 min 75 max 75 sum 24282675
All done 323769 calls (plus 32 warmup) 2.965 ms avg, 10790.0 qps
Successfully wrote 5325 bytes of Json data to /data/2018-12-08-061625_http_linkerd_0qps_30s_echo_1_1.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-istio:8080/echo
06:16:55 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 32 threads at -1.0 qps
06:16:55 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:17:25 I periodic.go:533> T023 ended after 30.000425791s : 3377 calls. qps=112.56506902688979
06:17:25 I periodic.go:533> T014 ended after 30.001010141s : 3368 calls. qps=112.26288662184817
06:17:25 I periodic.go:533> T001 ended after 30.003547535s : 3369 calls. qps=112.28672196412657
06:17:25 I periodic.go:533> T031 ended after 30.003702198s : 3355 calls. qps=111.81953406482081
06:17:25 I periodic.go:533> T018 ended after 30.003780658s : 3379 calls. qps=112.61914085147289
06:17:25 I periodic.go:533> T025 ended after 30.003853599s : 3396 calls. qps=113.18546095402844
06:17:25 I periodic.go:533> T030 ended after 30.003916491s : 3367 calls. qps=112.21868321790485
06:17:25 I periodic.go:533> T007 ended after 30.003982912s : 3414 calls. qps=113.78489349274297
06:17:25 I periodic.go:533> T003 ended after 30.004037179s : 3386 calls. qps=112.85147994583478
06:17:25 I periodic.go:533> T022 ended after 30.00422827s : 3391 calls. qps=113.01740439665039
06:17:25 I periodic.go:533> T029 ended after 30.004263621s : 3411 calls. qps=113.68384317262962
06:17:25 I periodic.go:533> T005 ended after 30.004319598s : 3415 calls. qps=113.81694521836896
06:17:25 I periodic.go:533> T010 ended after 30.004958623s : 3419 calls. qps=113.94783252189522
06:17:25 I periodic.go:533> T024 ended after 30.005063932s : 3386 calls. qps=112.84761824449494
06:17:25 I periodic.go:533> T008 ended after 30.005101486s : 3343 calls. qps=111.41438736875466
06:17:25 I periodic.go:533> T017 ended after 30.005165164s : 3430 calls. qps=114.31365170804963
06:17:25 I periodic.go:533> T002 ended after 30.005197375s : 3417 calls. qps=113.8802707175993
06:17:25 I periodic.go:533> T026 ended after 30.005250531s : 3398 calls. qps=113.24684646406627
06:17:25 I periodic.go:533> T016 ended after 30.005280804s : 3356 calls. qps=111.84697860093387
06:17:25 I periodic.go:533> T004 ended after 30.005334009s : 3408 calls. qps=113.57980547651233
06:17:25 I periodic.go:533> T020 ended after 30.005369084s : 3372 calls. qps=112.37988743148232
06:17:25 I periodic.go:533> T013 ended after 30.005421677s : 3311 calls. qps=110.34672452338754
06:17:25 I periodic.go:533> T015 ended after 30.005456766s : 3365 calls. qps=112.14626813523377
06:17:25 I periodic.go:533> T012 ended after 30.005520152s : 3438 calls. qps=114.57891689875746
06:17:25 I periodic.go:533> T021 ended after 30.005564805s : 3412 calls. qps=113.71224045185907
06:17:25 I periodic.go:533> T000 ended after 30.005706312s : 3361 calls. qps=112.0120274807814
06:17:25 I periodic.go:533> T028 ended after 30.005807246s : 3375 calls. qps=112.4782270421974
06:17:25 I periodic.go:533> T006 ended after 30.005841795s : 3358 calls. qps=111.9115411906077
06:17:25 I periodic.go:533> T009 ended after 30.005982042s : 3367 calls. qps=112.21095831115075
06:17:25 I periodic.go:533> T011 ended after 30.006013408s : 3407 calls. qps=113.54390713868203
06:17:25 I periodic.go:533> T027 ended after 30.006065178s : 3390 calls. qps=112.97715911400131
06:17:25 I periodic.go:533> T019 ended after 30.006101277s : 3354 calls. qps=111.77726719768414
Ended after 30.006386351s : 108295 calls. qps=3609.1
Aggregated Function Time : count 108295 avg 0.0088638662 +/- 0.0046 min 0.000616251 max 0.113678941 sum 959.912391
# range, mid point, percentile, count
>= 0.000616251 <= 0.0007 , 0.000658126 , 0.00, 1
> 0.0008 <= 0.0009 , 0.00085 , 0.00, 1
> 0.0009 <= 0.001 , 0.00095 , 0.00, 3
> 0.001 <= 0.0011 , 0.00105 , 0.01, 3
> 0.0011 <= 0.0012 , 0.00115 , 0.01, 7
> 0.0012 <= 0.0014 , 0.0013 , 0.05, 39
> 0.0014 <= 0.0016 , 0.0015 , 0.17, 132
> 0.0016 <= 0.0018 , 0.0017 , 0.31, 149
> 0.0018 <= 0.002 , 0.0019 , 0.59, 303
> 0.002 <= 0.0025 , 0.00225 , 1.41, 887
> 0.0025 <= 0.003 , 0.00275 , 2.86, 1573
> 0.003 <= 0.0035 , 0.00325 , 4.77, 2073
> 0.0035 <= 0.004 , 0.00375 , 7.39, 2833
> 0.004 <= 0.0045 , 0.00425 , 10.79, 3681
> 0.0045 <= 0.005 , 0.00475 , 14.92, 4478
> 0.005 <= 0.006 , 0.0055 , 25.77, 11745
> 0.006 <= 0.007 , 0.0065 , 38.16, 13419
> 0.007 <= 0.008 , 0.0075 , 49.73, 12529
> 0.008 <= 0.009 , 0.0085 , 60.27, 11412
> 0.009 <= 0.01 , 0.0095 , 69.43, 9925
> 0.01 <= 0.012 , 0.011 , 82.67, 14337
> 0.012 <= 0.014 , 0.013 , 90.30, 8263
> 0.014 <= 0.016 , 0.015 , 93.96, 3959
> 0.016 <= 0.018 , 0.017 , 95.77, 1957
> 0.018 <= 0.02 , 0.019 , 97.20, 1558
> 0.02 <= 0.025 , 0.0225 , 99.08, 2037
> 0.025 <= 0.03 , 0.0275 , 99.69, 657
> 0.03 <= 0.035 , 0.0325 , 99.85, 168
> 0.035 <= 0.04 , 0.0375 , 99.90, 53
> 0.04 <= 0.045 , 0.0425 , 99.94, 46
> 0.045 <= 0.05 , 0.0475 , 99.96, 24
> 0.05 <= 0.06 , 0.055 , 99.98, 22
> 0.07 <= 0.08 , 0.075 , 99.99, 7
> 0.08 <= 0.09 , 0.085 , 99.99, 3
> 0.1 <= 0.113679 , 0.106839 , 100.00, 11
# target 50% 0.00802554
# target 75% 0.0108409
# target 90% 0.0139207
# target 99% 0.0247743
# target 99.9% 0.0405114
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 108295 (100.0 %)
Response Header Sizes : count 108295 avg 209.13279 +/- 0.3393 min 209 max 210 sum 22648035
Response Body/Total Sizes : count 108295 avg 209.13279 +/- 0.3393 min 209 max 210 sum 22648035
All done 108295 calls (plus 32 warmup) 8.864 ms avg, 3609.1 qps
Successfully wrote 6277 bytes of Json data to /data/2018-12-08-061655_http_istio_0qps_30s_echo_1_1.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-baseline:8079
06:17:25 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:17:55 I periodic.go:533> T005 ended after 30.000051518s : 13746 calls. qps=458.1992131497646
06:17:55 I periodic.go:533> T003 ended after 30.001261593s : 13708 calls. qps=456.91411867820915
06:17:55 I periodic.go:533> T008 ended after 30.001314466s : 13716 calls. qps=457.17996841585455
06:17:55 I periodic.go:533> T030 ended after 30.001354025s : 13722 calls. qps=457.37935656389095
06:17:55 I periodic.go:533> T021 ended after 30.001394371s : 13772 calls. qps=459.04533068344034
06:17:55 I periodic.go:533> T024 ended after 30.001420695s : 13775 calls. qps=459.1449231701126
06:17:55 I periodic.go:533> T009 ended after 30.001443815s : 13858 calls. qps=461.9111028607008
06:17:55 I periodic.go:533> T010 ended after 30.001467141s : 13714 calls. qps=457.1109784580652
06:17:55 I periodic.go:533> T026 ended after 30.001500871s : 13686 calls. qps=456.17717789676107
06:17:55 I periodic.go:533> T011 ended after 30.001540518s : 13678 calls. qps=455.9099220852883
06:17:55 I periodic.go:533> T027 ended after 30.00156583s : 13758 calls. qps=458.57606492800846
06:17:55 I periodic.go:533> T028 ended after 30.001592219s : 13714 calls. qps=457.1090727416436
06:17:55 I periodic.go:533> T017 ended after 30.001617699s : 13783 calls. qps=459.4085605077025
06:17:55 I periodic.go:533> T015 ended after 30.001640824s : 13694 calls. qps=456.4417019833595
06:17:55 I periodic.go:533> T000 ended after 30.001667177s : 13735 calls. qps=457.8078917737472
06:17:55 I periodic.go:533> T020 ended after 30.001723421s : 13703 calls. qps=456.7404281318203
06:17:55 I periodic.go:533> T022 ended after 30.001747645s : 13669 calls. qps=455.6067920355978
06:17:55 I periodic.go:533> T013 ended after 30.001782369s : 13740 calls. qps=457.97279078316217
06:17:55 I periodic.go:533> T007 ended after 30.001808105s : 13810 calls. qps=460.305590638668
06:17:55 I periodic.go:533> T002 ended after 30.00183264s : 13717 calls. qps=457.20540356964005
06:17:55 I periodic.go:533> T004 ended after 30.001856116s : 13678 calls. qps=455.9051262400235
06:17:55 I periodic.go:533> T001 ended after 30.001880043s : 13669 calls. qps=455.6047814473291
06:17:55 I periodic.go:533> T025 ended after 30.00190429s : 13657 calls. qps=455.2044386246524
06:17:55 I periodic.go:533> T018 ended after 30.001928801s : 13673 calls. qps=455.7373657771051
06:17:55 I periodic.go:533> T014 ended after 30.001954863s : 13677 calls. qps=455.8702945342805
06:17:55 I periodic.go:533> T031 ended after 30.001979373s : 13678 calls. qps=455.903253246997
06:17:55 I periodic.go:533> T023 ended after 30.002004716s : 13661 calls. qps=455.3362393385206
06:17:55 I periodic.go:533> T006 ended after 30.002028213s : 13673 calls. qps=455.7358556870977
06:17:55 I periodic.go:533> T019 ended after 30.002064029s : 13704 calls. qps=456.7685738805741
06:17:55 I periodic.go:533> T016 ended after 30.002091914s : 13685 calls. qps=456.13486017000406
06:17:55 I periodic.go:533> T029 ended after 30.002114149s : 13664 calls. qps=455.4345714485402
06:17:55 I periodic.go:533> T012 ended after 30.002138709s : 13668 calls. qps=455.56752245465395
Ended after 30.002154461s : 438785 calls. qps=14625
Aggregated Function Time : count 438785 avg 0.0021874269 +/- 0.001153 min 0.000302337 max 0.036840957 sum 959.810095
# range, mid point, percentile, count
>= 0.000302337 <= 0.0004 , 0.000351169 , 0.00, 8
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 15
> 0.0005 <= 0.0006 , 0.00055 , 0.03, 113
> 0.0006 <= 0.0007 , 0.00065 , 0.20, 722
> 0.0007 <= 0.0008 , 0.00075 , 0.70, 2198
> 0.0008 <= 0.0009 , 0.00085 , 1.51, 3576
> 0.0009 <= 0.001 , 0.00095 , 2.55, 4575
> 0.001 <= 0.0011 , 0.00105 , 3.86, 5729
> 0.0011 <= 0.0012 , 0.00115 , 5.90, 8954
> 0.0012 <= 0.0014 , 0.0013 , 15.34, 41429
> 0.0014 <= 0.0016 , 0.0015 , 29.57, 62413
> 0.0016 <= 0.0018 , 0.0017 , 44.55, 65736
> 0.0018 <= 0.002 , 0.0019 , 58.22, 59984
> 0.002 <= 0.0025 , 0.00225 , 77.83, 86044
> 0.0025 <= 0.003 , 0.00275 , 85.56, 33927
> 0.003 <= 0.0035 , 0.00325 , 89.64, 17883
> 0.0035 <= 0.004 , 0.00375 , 92.39, 12067
> 0.004 <= 0.0045 , 0.00425 , 94.84, 10758
> 0.0045 <= 0.005 , 0.00475 , 96.88, 8984
> 0.005 <= 0.006 , 0.0055 , 98.75, 8205
> 0.006 <= 0.007 , 0.0065 , 99.39, 2807
> 0.007 <= 0.008 , 0.0075 , 99.65, 1139
> 0.008 <= 0.009 , 0.0085 , 99.78, 540
> 0.009 <= 0.01 , 0.0095 , 99.86, 347
> 0.01 <= 0.012 , 0.011 , 99.94, 366
> 0.012 <= 0.014 , 0.013 , 99.99, 205
> 0.014 <= 0.016 , 0.015 , 99.99, 28
> 0.016 <= 0.018 , 0.017 , 99.99, 1
> 0.035 <= 0.036841 , 0.0359205 , 100.00, 32
# target 50% 0.00187977
# target 75% 0.0024279
# target 90% 0.00356632
# target 99% 0.00638374
# target 99.9% 0.0110558
Ping SERVING : 438785
All done 438785 calls (plus 32 warmup) 2.187 ms avg, 14625.1 qps
Successfully wrote 4887 bytes of Json data to /data/2018-12-08-061725_grpc_baseline_0qps_30s_echo_1_1.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-linkerd:8079
06:17:55 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:18:25 I periodic.go:533> T011 ended after 30.000625435s : 7150 calls. qps=238.3283647033074
06:18:25 I periodic.go:533> T012 ended after 30.001155181s : 7132 calls. qps=237.72417951815265
06:18:25 I periodic.go:533> T007 ended after 30.001432872s : 7234 calls. qps=241.12181677667172
06:18:25 I periodic.go:533> T028 ended after 30.00150139s : 7220 calls. qps=240.65462278519655
06:18:25 I periodic.go:533> T026 ended after 30.001542513s : 7173 calls. qps=239.08770680347052
06:18:25 I periodic.go:533> T008 ended after 30.001608164s : 7241 calls. qps=241.35372878740327
06:18:25 I periodic.go:533> T018 ended after 30.001668191s : 7255 calls. qps=241.81988660805132
06:18:25 I periodic.go:533> T022 ended after 30.001709035s : 7246 calls. qps=241.51957448646723
06:18:25 I periodic.go:533> T016 ended after 30.001782148s : 7264 calls. qps=242.11895027323362
06:18:25 I periodic.go:533> T005 ended after 30.001842409s : 7247 calls. qps=241.55183209101963
06:18:25 I periodic.go:533> T021 ended after 30.001879997s : 7086 calls. qps=236.1851990844759
06:18:25 I periodic.go:533> T010 ended after 30.001958361s : 7229 calls. qps=240.95093770268966
06:18:25 I periodic.go:533> T019 ended after 30.002019676s : 7134 calls. qps=237.7839917792873
06:18:25 I periodic.go:533> T000 ended after 30.002060962s : 7122 calls. qps=237.38369204104276
06:18:25 I periodic.go:533> T030 ended after 30.002130663s : 7244 calls. qps=241.44951841482487
06:18:25 I periodic.go:533> T029 ended after 30.002192566s : 7173 calls. qps=239.08252652603815
06:18:25 I periodic.go:533> T013 ended after 30.002233135s : 7195 calls. qps=239.8154819884543
06:18:25 I periodic.go:533> T001 ended after 30.002291566s : 7219 calls. qps=240.6149538317569
06:18:25 I periodic.go:533> T027 ended after 30.002329884s : 7244 calls. qps=241.4479151455223
06:18:25 I periodic.go:533> T009 ended after 30.007445719s : 7152 calls. qps=238.34084603447351
06:18:25 I periodic.go:533> T017 ended after 30.00749541s : 7127 calls. qps=237.50732617374413
06:18:25 I periodic.go:533> T020 ended after 30.007527492s : 7228 calls. qps=240.87289437381946
06:18:25 I periodic.go:533> T025 ended after 30.007542057s : 7245 calls. qps=241.43930170081777
06:18:25 I periodic.go:533> T031 ended after 30.007572821s : 7125 calls. qps=237.4400636299967
06:18:25 I periodic.go:533> T003 ended after 30.007600934s : 7237 calls. qps=241.17222886019337
06:18:25 I periodic.go:533> T024 ended after 30.007616744s : 7126 calls. qps=237.47304095467155
06:18:25 I periodic.go:533> T006 ended after 30.007630121s : 7164 calls. qps=238.73927968028624
06:18:25 I periodic.go:533> T002 ended after 30.007642738s : 7141 calls. qps=237.97270789807948
06:18:25 I periodic.go:533> T015 ended after 30.007654047s : 7190 calls. qps=239.60553493247224
06:18:25 I periodic.go:533> T014 ended after 30.007664887s : 7150 calls. qps=238.27245561841573
06:18:25 I periodic.go:533> T004 ended after 30.007676156s : 7154 calls. qps=238.40566536404606
06:18:25 I periodic.go:533> T023 ended after 30.007726313s : 7135 calls. qps=237.77209661196366
Ended after 30.007744834s : 229982 calls. qps=7664.1
Aggregated Function Time : count 229982 avg 0.0041734789 +/- 0.001382 min 0.00053419 max 0.017870295 sum 959.825022
# range, mid point, percentile, count
>= 0.00053419 <= 0.0006 , 0.000567095 , 0.00, 4
> 0.0006 <= 0.0007 , 0.00065 , 0.00, 4
> 0.0007 <= 0.0008 , 0.00075 , 0.01, 7
> 0.0008 <= 0.0009 , 0.00085 , 0.01, 19
> 0.0009 <= 0.001 , 0.00095 , 0.03, 35
> 0.001 <= 0.0011 , 0.00105 , 0.05, 35
> 0.0011 <= 0.0012 , 0.00115 , 0.08, 69
> 0.0012 <= 0.0014 , 0.0013 , 0.19, 274
> 0.0014 <= 0.0016 , 0.0015 , 0.36, 381
> 0.0016 <= 0.0018 , 0.0017 , 0.68, 727
> 0.0018 <= 0.002 , 0.0019 , 1.33, 1497
> 0.002 <= 0.0025 , 0.00225 , 6.07, 10899
> 0.0025 <= 0.003 , 0.00275 , 15.27, 21173
> 0.003 <= 0.0035 , 0.00325 , 32.47, 39557
> 0.0035 <= 0.004 , 0.00375 , 52.85, 46856
> 0.004 <= 0.0045 , 0.00425 , 68.22, 35354
> 0.0045 <= 0.005 , 0.00475 , 79.43, 25777
> 0.005 <= 0.006 , 0.0055 , 91.89, 28656
> 0.006 <= 0.007 , 0.0065 , 95.74, 8869
> 0.007 <= 0.008 , 0.0075 , 97.94, 5053
> 0.008 <= 0.009 , 0.0085 , 98.98, 2398
> 0.009 <= 0.01 , 0.0095 , 99.53, 1257
> 0.01 <= 0.012 , 0.011 , 99.86, 768
> 0.012 <= 0.014 , 0.013 , 99.95, 208
> 0.014 <= 0.016 , 0.015 , 99.99, 84
> 0.016 <= 0.0178703 , 0.0169351 , 100.00, 21
# target 50% 0.00393015
# target 75% 0.00480251
# target 90% 0.00584854
# target 99% 0.00903037
# target 99.9% 0.0127983
Ping SERVING : 229982
All done 229982 calls (plus 32 warmup) 4.173 ms avg, 7664.1 qps
Successfully wrote 4490 bytes of Json data to /data/2018-12-08-061755_grpc_linkerd_0qps_30s_echo_1_1.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-istio:8079
06:18:25 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:18:55 I periodic.go:533> T027 ended after 30.008633403s : 2979 calls. qps=99.27143165747047
06:18:55 I periodic.go:533> T008 ended after 30.010296796s : 2923 calls. qps=97.39990310224455
06:18:55 I periodic.go:533> T030 ended after 30.010518793s : 2967 calls. qps=98.86533520013847
06:18:55 I periodic.go:533> T013 ended after 30.010549516s : 2871 calls. qps=95.66635887387994
06:18:55 I periodic.go:533> T002 ended after 30.010625202s : 2929 calls. qps=97.59876644638521
06:18:55 I periodic.go:533> T014 ended after 30.010714962s : 2950 calls. qps=98.2982246086217
06:18:55 I periodic.go:533> T001 ended after 30.010773157s : 2903 calls. qps=96.73192972447218
06:18:55 I periodic.go:533> T028 ended after 30.010836673s : 2926 calls. qps=97.49811482705009
06:18:55 I periodic.go:533> T020 ended after 30.010890132s : 2945 calls. qps=98.13104466567643
06:18:55 I periodic.go:533> T010 ended after 30.014854332s : 2942 calls. qps=98.0181335367475
06:18:55 I periodic.go:533> T007 ended after 30.014917623s : 2949 calls. qps=98.25114421570905
06:18:55 I periodic.go:533> T016 ended after 30.014933226s : 2935 calls. qps=97.78465865310001
06:18:55 I periodic.go:533> T031 ended after 30.014957836s : 2950 calls. qps=98.28432930403001
06:18:55 I periodic.go:533> T019 ended after 30.014994846s : 2907 calls. qps=96.85159084368146
06:18:55 I periodic.go:533> T011 ended after 30.015009664s : 2942 calls. qps=98.0176262787826
06:18:55 I periodic.go:533> T029 ended after 30.015023171s : 2965 calls. qps=98.78386510341701
06:18:55 I periodic.go:533> T023 ended after 30.015036335s : 2932 calls. qps=97.68437283485967
06:18:55 I periodic.go:533> T015 ended after 30.015050166s : 2914 calls. qps=97.08462867408022
06:18:55 I periodic.go:533> T018 ended after 30.015106s : 2916 calls. qps=97.15108119225033
06:18:55 I periodic.go:533> T021 ended after 30.015121456s : 2945 calls. qps=98.11721083045282
06:18:55 I periodic.go:533> T025 ended after 30.015134128s : 2965 calls. qps=98.78349992892626
06:18:55 I periodic.go:533> T026 ended after 30.015147343s : 2915 calls. qps=97.11763086446496
06:18:55 I periodic.go:533> T012 ended after 30.01517371s : 2972 calls. qps=99.01658503511624
06:18:55 I periodic.go:533> T000 ended after 30.015186603s : 2917 calls. qps=97.18413676989925
06:18:55 I periodic.go:533> T009 ended after 30.015198954s : 2900 calls. qps=96.6177170587613
06:18:55 I periodic.go:533> T005 ended after 30.015212021s : 2942 calls. qps=98.01696546210114
06:18:55 I periodic.go:533> T024 ended after 30.015223544s : 2991 calls. qps=99.64943274919891
06:18:55 I periodic.go:533> T022 ended after 30.01525021s : 2993 calls. qps=99.71597701367287
06:18:55 I periodic.go:533> T004 ended after 30.015270058s : 2978 calls. qps=99.21616544663641
06:18:55 I periodic.go:533> T003 ended after 30.015282901s : 2968 calls. qps=98.88295938403823
06:18:55 I periodic.go:533> T006 ended after 30.015294736s : 2925 calls. qps=97.45031743738929
06:18:55 I periodic.go:533> T017 ended after 30.015764121s : 2941 calls. qps=97.9818467437376
Ended after 30.015801665s : 94097 calls. qps=3134.9
Aggregated Function Time : count 94097 avg 0.010204751 +/- 0.003696 min 0.000774553 max 0.059772064 sum 960.236494
# range, mid point, percentile, count
>= 0.000774553 <= 0.0008 , 0.000787277 , 0.00, 1
> 0.0008 <= 0.0009 , 0.00085 , 0.00, 2
> 0.0009 <= 0.001 , 0.00095 , 0.01, 4
> 0.001 <= 0.0011 , 0.00105 , 0.03, 23
> 0.0011 <= 0.0012 , 0.00115 , 0.09, 50
> 0.0012 <= 0.0014 , 0.0013 , 0.15, 62
> 0.0014 <= 0.0016 , 0.0015 , 0.20, 49
> 0.0016 <= 0.0018 , 0.0017 , 0.24, 35
> 0.0018 <= 0.002 , 0.0019 , 0.32, 76
> 0.002 <= 0.0025 , 0.00225 , 1.00, 643
> 0.0025 <= 0.003 , 0.00275 , 1.56, 519
> 0.003 <= 0.0035 , 0.00325 , 2.46, 855
> 0.0035 <= 0.004 , 0.00375 , 3.90, 1353
> 0.004 <= 0.0045 , 0.00425 , 4.57, 632
> 0.0045 <= 0.005 , 0.00475 , 5.24, 630
> 0.005 <= 0.006 , 0.0055 , 8.60, 3160
> 0.006 <= 0.007 , 0.0065 , 11.45, 2678
> 0.007 <= 0.008 , 0.0075 , 15.67, 3975
> 0.008 <= 0.009 , 0.0085 , 26.64, 10317
> 0.009 <= 0.01 , 0.0095 , 55.84, 27477
> 0.01 <= 0.012 , 0.011 , 83.37, 25903
> 0.012 <= 0.014 , 0.013 , 92.32, 8424
> 0.014 <= 0.016 , 0.015 , 94.91, 2440
> 0.016 <= 0.018 , 0.017 , 95.95, 980
> 0.018 <= 0.02 , 0.019 , 96.62, 632
> 0.02 <= 0.025 , 0.0225 , 99.28, 2500
> 0.025 <= 0.03 , 0.0275 , 99.81, 500
> 0.03 <= 0.035 , 0.0325 , 99.93, 110
> 0.035 <= 0.04 , 0.0375 , 99.93, 3
> 0.04 <= 0.045 , 0.0425 , 99.97, 32
> 0.05 <= 0.0597721 , 0.054886 , 100.00, 32
# target 50% 0.00980011
# target 75% 0.0113923
# target 90% 0.0134823
# target 99% 0.0244721
# target 99.9% 0.0337683
Ping SERVING : 94097
All done 94097 calls (plus 32 warmup) 10.205 ms avg, 3134.9 qps
Successfully wrote 5123 bytes of Json data to /data/2018-12-08-061825_grpc_istio_0qps_30s_echo_1_1.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8080/echo
06:18:55 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
06:18:55 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:19:26 I periodic.go:533> T018 ended after 30.000077278s : 28847 calls. qps=961.5641897414182
06:19:26 I periodic.go:533> T015 ended after 30.000520596s : 28807 calls. qps=960.2166705014067
06:19:26 I periodic.go:533> T004 ended after 30.002741558s : 28389 calls. qps=946.2135300242351
06:19:26 I periodic.go:533> T014 ended after 30.002802923s : 28358 calls. qps=945.1783579280486
06:19:26 I periodic.go:533> T021 ended after 30.002816463s : 28886 calls. qps=962.7762792077446
06:19:26 I periodic.go:533> T008 ended after 30.002827909s : 28913 calls. qps=963.6758270818505
06:19:26 I periodic.go:533> T025 ended after 30.002886908s : 28895 calls. qps=963.0739897998085
06:19:26 I periodic.go:533> T012 ended after 30.002918275s : 28533 calls. qps=951.0074899539085
06:19:26 I periodic.go:533> T024 ended after 30.002928887s : 28616 calls. qps=953.7735501682656
06:19:26 I periodic.go:533> T009 ended after 30.002941748s : 28196 calls. qps=939.7745140067656
06:19:26 I periodic.go:533> T029 ended after 30.002965468s : 28428 calls. qps=947.5063400089635
06:19:26 I periodic.go:533> T000 ended after 30.002975652s : 28747 calls. qps=958.1382971286624
06:19:26 I periodic.go:533> T013 ended after 30.002985449s : 28980 calls. qps=965.9038781077669
06:19:26 I periodic.go:533> T030 ended after 30.00299667s : 28968 calls. qps=965.5035568152132
06:19:26 I periodic.go:533> T017 ended after 30.003006459s : 28375 calls. qps=945.7385558602361
06:19:26 I periodic.go:533> T006 ended after 30.003016641s : 28403 calls. qps=946.6714744005598
06:19:26 I periodic.go:533> T003 ended after 30.005283362s : 28564 calls. qps=951.9656806899113
06:19:26 I periodic.go:533> T022 ended after 30.005341656s : 28350 calls. qps=944.8317677906198
06:19:26 I periodic.go:533> T019 ended after 30.00535693s : 28394 calls. qps=946.2976916502222
06:19:26 I periodic.go:533> T027 ended after 30.005371206s : 28834 calls. qps=960.9612826330984
06:19:26 I periodic.go:533> T031 ended after 30.005409522s : 28567 calls. qps=952.0616600501534
06:19:26 I periodic.go:533> T026 ended after 30.005422124s : 28515 calls. qps=950.328240081386
06:19:26 I periodic.go:533> T001 ended after 30.005433247s : 28450 calls. qps=948.1616134586054
06:19:26 I periodic.go:533> T007 ended after 30.005444113s : 28828 calls. qps=960.7589839841809
06:19:26 I periodic.go:533> T020 ended after 30.005454196s : 28374 calls. qps=945.6280786372004
06:19:26 I periodic.go:533> T010 ended after 30.005465744s : 28827 calls. qps=960.7249641097256
06:19:26 I periodic.go:533> T028 ended after 30.005491103s : 28910 calls. qps=963.4903125151492
06:19:26 I periodic.go:533> T023 ended after 30.00550188s : 28880 calls. qps=962.4901498231496
06:19:26 I periodic.go:533> T002 ended after 30.005512648s : 28947 calls. qps=964.7227274395342
06:19:26 I periodic.go:533> T005 ended after 30.005525804s : 28864 calls. qps=961.9561472957815
06:19:26 I periodic.go:533> T016 ended after 30.005536962s : 28884 calls. qps=962.6223332240196
06:19:26 I periodic.go:533> T011 ended after 30.005549402s : 28268 calls. qps=942.0923983520133
Ended after 30.005581921s : 916797 calls. qps=30554
Aggregated Function Time : count 916797 avg 0.0010466901 +/- 0.0008113 min 7.3249e-05 max 0.07848785 sum 959.602309
# range, mid point, percentile, count
>= 7.3249e-05 <= 0.0001 , 8.66245e-05 , 0.26, 2362
> 0.0001 <= 0.0002 , 0.00015 , 3.15, 26521
> 0.0002 <= 0.0003 , 0.00025 , 7.45, 39404
> 0.0003 <= 0.0004 , 0.00035 , 12.82, 49205
> 0.0004 <= 0.0005 , 0.00045 , 19.26, 59076
> 0.0005 <= 0.0006 , 0.00055 , 26.23, 63919
> 0.0006 <= 0.0007 , 0.00065 , 33.42, 65923
> 0.0007 <= 0.0008 , 0.00075 , 40.46, 64483
> 0.0008 <= 0.0009 , 0.00085 , 47.17, 61517
> 0.0009 <= 0.001 , 0.00095 , 53.70, 59938
> 0.001 <= 0.0011 , 0.00105 , 59.94, 57190
> 0.0011 <= 0.0012 , 0.00115 , 65.86, 54284
> 0.0012 <= 0.0014 , 0.0013 , 76.54, 97914
> 0.0014 <= 0.0016 , 0.0015 , 85.12, 78662
> 0.0016 <= 0.0018 , 0.0017 , 90.72, 51326
> 0.0018 <= 0.002 , 0.0019 , 93.80, 28233
> 0.002 <= 0.0025 , 0.00225 , 97.48, 33723
> 0.0025 <= 0.003 , 0.00275 , 98.69, 11090
> 0.003 <= 0.0035 , 0.00325 , 99.09, 3700
> 0.0035 <= 0.004 , 0.00375 , 99.31, 2013
> 0.004 <= 0.0045 , 0.00425 , 99.51, 1830
> 0.0045 <= 0.005 , 0.00475 , 99.70, 1768
> 0.005 <= 0.006 , 0.0055 , 99.93, 2062
> 0.006 <= 0.007 , 0.0065 , 99.97, 417
> 0.007 <= 0.008 , 0.0075 , 99.98, 67
> 0.008 <= 0.009 , 0.0085 , 99.99, 36
> 0.009 <= 0.01 , 0.0095 , 99.99, 12
> 0.01 <= 0.012 , 0.011 , 99.99, 26
> 0.012 <= 0.014 , 0.013 , 99.99, 5
> 0.014 <= 0.016 , 0.015 , 100.00, 49
> 0.016 <= 0.018 , 0.017 , 100.00, 9
> 0.018 <= 0.02 , 0.019 , 100.00, 1
> 0.07 <= 0.0784878 , 0.0742439 , 100.00, 32
# target 50% 0.000943359
# target 75% 0.00137112
# target 90% 0.00177426
# target 99% 0.00338636
# target 99.9% 0.00587255
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 916797 (100.0 %)
Response Header Sizes : count 916797 avg 75 +/- 0 min 75 max 75 sum 68759775
Response Body/Total Sizes : count 916797 avg 75 +/- 0 min 75 max 75 sum 68759775
All done 916797 calls (plus 32 warmup) 1.047 ms avg, 30554.2 qps
Successfully wrote 5973 bytes of Json data to /data/2018-12-08-061856_http_baseline_0qps_30s_echo_0_2.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-linkerd:8080/echo
06:19:26 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 32 threads at -1.0 qps
06:19:26 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:19:56 I periodic.go:533> T020 ended after 30.000395741s : 10251 calls. qps=341.6954925694692
06:19:56 I periodic.go:533> T010 ended after 30.00096485s : 10290 calls. qps=342.9889689031118
06:19:56 I periodic.go:533> T026 ended after 30.001130639s : 10319 calls. qps=343.95370375094484
06:19:56 I periodic.go:533> T012 ended after 30.001216747s : 10268 calls. qps=342.2527854983334
06:19:56 I periodic.go:533> T016 ended after 30.001287358s : 10338 calls. qps=344.5852131823043
06:19:56 I periodic.go:533> T005 ended after 30.001331669s : 10258 calls. qps=341.9181559397066
06:19:56 I periodic.go:533> T021 ended after 30.001391067s : 10295 calls. qps=343.1507551436165
06:19:56 I periodic.go:533> T017 ended after 30.001514885s : 10257 calls. qps=341.88273623237075
06:19:56 I periodic.go:533> T008 ended after 30.001593401s : 10226 calls. qps=340.84856305195945
06:19:56 I periodic.go:533> T011 ended after 30.001658924s : 10348 calls. qps=344.9142604485133
06:19:56 I periodic.go:533> T003 ended after 30.001807771s : 10318 calls. qps=343.91260949193423
06:19:56 I periodic.go:533> T006 ended after 30.001893151s : 10320 calls. qps=343.97829323833923
06:19:56 I periodic.go:533> T030 ended after 30.001967355s : 10314 calls. qps=343.77745559012857
06:19:56 I periodic.go:533> T029 ended after 30.002033605s : 10252 calls. qps=341.71016988299914
06:19:56 I periodic.go:533> T009 ended after 30.002081628s : 10331 calls. qps=344.3427735480328
06:19:56 I periodic.go:533> T019 ended after 30.002138809s : 10252 calls. qps=341.70897165920115
06:19:56 I periodic.go:533> T014 ended after 30.002168135s : 10233 calls. qps=341.075350086528
06:19:56 I periodic.go:533> T000 ended after 30.002231381s : 10255 calls. qps=341.80790987747497
06:19:56 I periodic.go:533> T025 ended after 30.002451521s : 10263 calls. qps=342.0720467731274
06:19:56 I periodic.go:533> T031 ended after 30.002484895s : 10260 calls. qps=341.9716745431929
06:19:56 I periodic.go:533> T001 ended after 30.002545949s : 10332 calls. qps=344.37077498565986
06:19:56 I periodic.go:533> T023 ended after 30.002602494s : 10323 calls. qps=344.0701519831295
06:19:56 I periodic.go:533> T015 ended after 30.002638991s : 10314 calls. qps=343.7697598232585
06:19:56 I periodic.go:533> T027 ended after 30.00269802s : 10258 calls. qps=341.90258466628393
06:19:56 I periodic.go:533> T022 ended after 30.002732555s : 10269 calls. qps=342.2688243870859
06:19:56 I periodic.go:533> T004 ended after 30.006264879s : 10310 calls. qps=343.5949139812964
06:19:56 I periodic.go:533> T013 ended after 30.006320416s : 10312 calls. qps=343.66093066517493
06:19:56 I periodic.go:533> T002 ended after 30.006334059s : 10255 calls. qps=341.76117548501895
06:19:56 I periodic.go:533> T018 ended after 30.006345363s : 10345 calls. qps=344.76041233452355
06:19:56 I periodic.go:533> T007 ended after 30.006357379s : 10276 calls. qps=342.4607615715354
06:19:56 I periodic.go:533> T024 ended after 30.006369521s : 10344 calls. qps=344.72680851179734
06:19:56 I periodic.go:533> T028 ended after 30.006396643s : 10353 calls. qps=345.0264329694244
Ended after 30.006416457s : 329339 calls. qps=10976
Aggregated Function Time : count 329339 avg 0.0029144613 +/- 0.0009495 min 0.000314041 max 0.054709385 sum 959.845772
# range, mid point, percentile, count
>= 0.000314041 <= 0.0004 , 0.000357021 , 0.00, 7
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 37
> 0.0005 <= 0.0006 , 0.00055 , 0.05, 135
> 0.0006 <= 0.0007 , 0.00065 , 0.09, 106
> 0.0007 <= 0.0008 , 0.00075 , 0.14, 167
> 0.0008 <= 0.0009 , 0.00085 , 0.22, 288
> 0.0009 <= 0.001 , 0.00095 , 0.35, 413
> 0.001 <= 0.0011 , 0.00105 , 0.45, 314
> 0.0011 <= 0.0012 , 0.00115 , 0.55, 346
> 0.0012 <= 0.0014 , 0.0013 , 1.03, 1594
> 0.0014 <= 0.0016 , 0.0015 , 1.87, 2768
> 0.0016 <= 0.0018 , 0.0017 , 3.02, 3764
> 0.0018 <= 0.002 , 0.0019 , 5.60, 8504
> 0.002 <= 0.0025 , 0.00225 , 24.48, 62191
> 0.0025 <= 0.003 , 0.00275 , 65.80, 136085
> 0.003 <= 0.0035 , 0.00325 , 89.02, 76467
> 0.0035 <= 0.004 , 0.00375 , 94.27, 17280
> 0.004 <= 0.0045 , 0.00425 , 96.37, 6930
> 0.0045 <= 0.005 , 0.00475 , 97.44, 3501
> 0.005 <= 0.006 , 0.0055 , 98.55, 3681
> 0.006 <= 0.007 , 0.0065 , 99.36, 2652
> 0.007 <= 0.008 , 0.0075 , 99.75, 1273
> 0.008 <= 0.009 , 0.0085 , 99.90, 515
> 0.009 <= 0.01 , 0.0095 , 99.94, 132
> 0.01 <= 0.012 , 0.011 , 99.98, 116
> 0.012 <= 0.014 , 0.013 , 99.99, 37
> 0.014 <= 0.016 , 0.015 , 99.99, 4
> 0.04 <= 0.045 , 0.0425 , 99.99, 5
> 0.05 <= 0.0547094 , 0.0523547 , 100.00, 27
# target 50% 0.00280876
# target 75% 0.00319803
# target 90% 0.00359315
# target 99% 0.0065534
# target 99.9% 0.00898381
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 329339 (100.0 %)
Response Header Sizes : count 329339 avg 75 +/- 0 min 75 max 75 sum 24700425
Response Body/Total Sizes : count 329339 avg 75 +/- 0 min 75 max 75 sum 24700425
All done 329339 calls (plus 32 warmup) 2.914 ms avg, 10975.6 qps
Successfully wrote 5428 bytes of Json data to /data/2018-12-08-061926_http_linkerd_0qps_30s_echo_0_2.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8080/echo
06:19:56 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 32 threads at -1.0 qps
06:19:56 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:20:26 I periodic.go:533> T016 ended after 30.002718976s : 3357 calls. qps=111.88985913861195
06:20:26 I periodic.go:533> T028 ended after 30.003270147s : 3336 calls. qps=111.18787997626198
06:20:26 I periodic.go:533> T014 ended after 30.005253137s : 3395 calls. qps=113.14685413580352
06:20:26 I periodic.go:533> T019 ended after 30.005290834s : 3367 calls. qps=112.2135432256747
06:20:26 I periodic.go:533> T026 ended after 30.005320201s : 3333 calls. qps=111.0803010157152
06:20:26 I periodic.go:533> T007 ended after 30.005334257s : 3369 calls. qps=112.28003564779618
06:20:26 I periodic.go:533> T020 ended after 30.00534694s : 3365 calls. qps=112.14667861460828
06:20:26 I periodic.go:533> T021 ended after 30.005358529s : 3403 calls. qps=113.41307575815236
06:20:26 I periodic.go:533> T018 ended after 30.005370133s : 3371 calls. qps=112.34655613504876
06:20:26 I periodic.go:533> T031 ended after 30.005381734s : 3362 calls. qps=112.04656650611503
06:20:26 I periodic.go:533> T001 ended after 30.006691972s : 3389 calls. qps=112.94147329410258
06:20:26 I periodic.go:533> T008 ended after 30.006715799s : 3375 calls. qps=112.47482139023275
06:20:26 I periodic.go:533> T003 ended after 30.006728079s : 3406 calls. qps=113.50787700121379
06:20:26 I periodic.go:533> T012 ended after 30.006757371s : 3326 calls. qps=110.84170005034964
06:20:26 I periodic.go:533> T009 ended after 30.006769467s : 3413 calls. qps=113.74100113487567
06:20:26 I periodic.go:533> T029 ended after 30.006788958s : 3375 calls. qps=112.47454716744036
06:20:26 I periodic.go:533> T024 ended after 30.006800314s : 3389 calls. qps=112.94106550970132
06:20:26 I periodic.go:533> T004 ended after 30.006811174s : 3372 calls. qps=112.37448659395493
06:20:26 I periodic.go:533> T015 ended after 30.00683788s : 3398 calls. qps=113.24085575390859
06:20:26 I periodic.go:533> T000 ended after 30.006849758s : 3376 calls. qps=112.50764499528773
06:20:26 I periodic.go:533> T027 ended after 30.006860943s : 3356 calls. qps=111.84108882215111
06:20:26 I periodic.go:533> T011 ended after 30.006871515s : 3323 calls. qps=110.74130131622954
06:20:26 I periodic.go:533> T002 ended after 30.006883166s : 3404 calls. qps=113.44063897502629
06:20:26 I periodic.go:533> T017 ended after 30.006894732s : 3410 calls. qps=113.64054929560913
06:20:26 I periodic.go:533> T010 ended after 30.00692118s : 3384 calls. qps=112.77398236562436
06:20:26 I periodic.go:533> T006 ended after 30.006931612s : 3327 calls. qps=110.87438206009399
06:20:26 I periodic.go:533> T025 ended after 30.006943279s : 3412 calls. qps=113.70701668196398
06:20:26 I periodic.go:533> T023 ended after 30.006954246s : 3387 calls. qps=112.87383491950021
06:20:26 I periodic.go:533> T022 ended after 30.006965791s : 3402 calls. qps=113.37367542240352
06:20:26 I periodic.go:533> T013 ended after 30.006989191s : 3402 calls. qps=113.37358701153404
06:20:26 I periodic.go:533> T005 ended after 30.007001387s : 3382 calls. qps=112.70702981555469
06:20:26 I periodic.go:533> T030 ended after 30.007015524s : 3360 calls. qps=111.97381483382206
Ended after 30.007033031s : 108026 calls. qps=3600
Aggregated Function Time : count 108026 avg 0.0088863369 +/- 0.004438 min 0.000897608 max 0.106739491 sum 959.95543
# range, mid point, percentile, count
>= 0.000897608 <= 0.0009 , 0.000898804 , 0.00, 2
> 0.0009 <= 0.001 , 0.00095 , 0.00, 2
> 0.001 <= 0.0011 , 0.00105 , 0.01, 3
> 0.0011 <= 0.0012 , 0.00115 , 0.01, 6
> 0.0012 <= 0.0014 , 0.0013 , 0.05, 46
> 0.0014 <= 0.0016 , 0.0015 , 0.21, 163
> 0.0016 <= 0.0018 , 0.0017 , 0.40, 205
> 0.0018 <= 0.002 , 0.0019 , 0.70, 328
> 0.002 <= 0.0025 , 0.00225 , 1.67, 1046
> 0.0025 <= 0.003 , 0.00275 , 3.11, 1561
> 0.003 <= 0.0035 , 0.00325 , 5.15, 2206
> 0.0035 <= 0.004 , 0.00375 , 7.77, 2829
> 0.004 <= 0.0045 , 0.00425 , 11.21, 3713
> 0.0045 <= 0.005 , 0.00475 , 15.23, 4340
> 0.005 <= 0.006 , 0.0055 , 25.78, 11394
> 0.006 <= 0.007 , 0.0065 , 38.07, 13284
> 0.007 <= 0.008 , 0.0075 , 49.50, 12350
> 0.008 <= 0.009 , 0.0085 , 59.54, 10839
> 0.009 <= 0.01 , 0.0095 , 68.70, 9899
> 0.01 <= 0.012 , 0.011 , 81.98, 14340
> 0.012 <= 0.014 , 0.013 , 89.82, 8471
> 0.014 <= 0.016 , 0.015 , 93.71, 4204
> 0.016 <= 0.018 , 0.017 , 95.53, 1967
> 0.018 <= 0.02 , 0.019 , 96.89, 1465
> 0.02 <= 0.025 , 0.0225 , 99.07, 2360
> 0.025 <= 0.03 , 0.0275 , 99.86, 855
> 0.03 <= 0.035 , 0.0325 , 99.95, 91
> 0.035 <= 0.04 , 0.0375 , 99.98, 38
> 0.04 <= 0.045 , 0.0425 , 100.00, 14
> 0.045 <= 0.05 , 0.0475 , 100.00, 2
> 0.05 <= 0.06 , 0.055 , 100.00, 2
> 0.1 <= 0.106739 , 0.10337 , 100.00, 1
# target 50% 0.00804936
# target 75% 0.0109489
# target 90% 0.0140934
# target 99% 0.0248363
# target 99.9% 0.0321964
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 108026 (100.0 %)
Response Header Sizes : count 108026 avg 209.14028 +/- 0.3473 min 209 max 211 sum 22592588
Response Body/Total Sizes : count 108026 avg 209.14028 +/- 0.3473 min 209 max 211 sum 22592588
All done 108026 calls (plus 32 warmup) 8.886 ms avg, 3600.0 qps
Successfully wrote 5900 bytes of Json data to /data/2018-12-08-061956_http_istio_0qps_30s_echo_0_2.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8079
06:20:26 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:20:56 I periodic.go:533> T004 ended after 30.000040626s : 13839 calls. qps=461.29937530838595
06:20:56 I periodic.go:533> T019 ended after 30.000718065s : 13854 calls. qps=461.7889468506626
06:20:56 I periodic.go:533> T001 ended after 30.002655564s : 13800 calls. qps=459.9592849560468
06:20:56 I periodic.go:533> T031 ended after 30.004363877s : 13745 calls. qps=458.1000302604749
06:20:56 I periodic.go:533> T006 ended after 30.004410912s : 13843 calls. qps=461.365498579531
06:20:56 I periodic.go:533> T021 ended after 30.004578076s : 13919 calls. qps=463.8958749809417
06:20:56 I periodic.go:533> T011 ended after 30.004608272s : 13765 calls. qps=458.76286319809617
06:20:56 I periodic.go:533> T024 ended after 30.004635419s : 13757 calls. qps=458.49582265840763
06:20:56 I periodic.go:533> T029 ended after 30.004664155s : 13752 calls. qps=458.32874279008905
06:20:56 I periodic.go:533> T003 ended after 30.004689852s : 13745 calls. qps=458.09505339992074
06:20:56 I periodic.go:533> T005 ended after 30.004787009s : 13745 calls. qps=458.09357006524186
06:20:56 I periodic.go:533> T008 ended after 30.004815433s : 13841 calls. qps=461.29262254275835
06:20:56 I periodic.go:533> T013 ended after 30.004841943s : 13739 calls. qps=457.8927636446107
06:20:56 I periodic.go:533> T023 ended after 30.004867739s : 13749 calls. qps=458.22564923788013
06:20:56 I periodic.go:533> T028 ended after 30.00489221s : 13741 calls. qps=457.95865233671503
06:20:56 I periodic.go:533> T010 ended after 30.004916055s : 13811 calls. qps=460.2912394316979
06:20:56 I periodic.go:533> T022 ended after 30.004939987s : 13815 calls. qps=460.4241836839372
06:20:56 I periodic.go:533> T015 ended after 30.004965132s : 13808 calls. qps=460.1905031135632
06:20:56 I periodic.go:533> T030 ended after 30.00498845s : 13802 calls. qps=459.9901787330966
06:20:56 I periodic.go:533> T027 ended after 30.005013332s : 13843 calls. qps=461.35623560068876
06:20:56 I periodic.go:533> T007 ended after 30.0050367s : 13910 calls. qps=463.5888347372026
06:20:56 I periodic.go:533> T009 ended after 30.005061805s : 13784 calls. qps=459.38915538921015
06:20:56 I periodic.go:533> T018 ended after 30.00508507s : 13784 calls. qps=459.3887991932962
06:20:56 I periodic.go:533> T012 ended after 30.005109555s : 13772 calls. qps=458.98849243511785
06:20:56 I periodic.go:533> T014 ended after 30.005132002s : 13763 calls. qps=458.68820037461006
06:20:56 I periodic.go:533> T026 ended after 30.005157124s : 13816 calls. qps=460.4541793566913
06:20:56 I periodic.go:533> T017 ended after 30.005215399s : 13788 calls. qps=459.5201139752364
06:20:56 I periodic.go:533> T000 ended after 30.005242495s : 13782 calls. qps=459.319733953045
06:20:56 I periodic.go:533> T020 ended after 30.005267256s : 13796 calls. qps=459.785939658354
06:20:56 I periodic.go:533> T002 ended after 30.005394652s : 13808 calls. qps=460.18391559731185
06:20:56 I periodic.go:533> T025 ended after 30.005436096s : 13782 calls. qps=459.31677033140227
06:20:56 I periodic.go:533> T016 ended after 30.005721064s : 13796 calls. qps=459.77898583320643
Ended after 30.00573995s : 441494 calls. qps=14714
Aggregated Function Time : count 441494 avg 0.0021739319 +/- 0.001224 min 0.000348721 max 0.042133623 sum 959.777896
# range, mid point, percentile, count
>= 0.000348721 <= 0.0004 , 0.000374361 , 0.00, 2
> 0.0004 <= 0.0005 , 0.00045 , 0.00, 10
> 0.0005 <= 0.0006 , 0.00055 , 0.03, 136
> 0.0006 <= 0.0007 , 0.00065 , 0.24, 923
> 0.0007 <= 0.0008 , 0.00075 , 0.77, 2310
> 0.0008 <= 0.0009 , 0.00085 , 1.58, 3604
> 0.0009 <= 0.001 , 0.00095 , 2.62, 4574
> 0.001 <= 0.0011 , 0.00105 , 4.10, 6529
> 0.0011 <= 0.0012 , 0.00115 , 6.41, 10191
> 0.0012 <= 0.0014 , 0.0013 , 16.85, 46118
> 0.0014 <= 0.0016 , 0.0015 , 31.28, 63704
> 0.0016 <= 0.0018 , 0.0017 , 45.65, 63437
> 0.0018 <= 0.002 , 0.0019 , 59.03, 59097
> 0.002 <= 0.0025 , 0.00225 , 77.84, 83023
> 0.0025 <= 0.003 , 0.00275 , 85.56, 34084
> 0.003 <= 0.0035 , 0.00325 , 89.68, 18191
> 0.0035 <= 0.004 , 0.00375 , 92.46, 12277
> 0.004 <= 0.0045 , 0.00425 , 95.05, 11435
> 0.0045 <= 0.005 , 0.00475 , 96.95, 8370
> 0.005 <= 0.006 , 0.0055 , 98.83, 8314
> 0.006 <= 0.007 , 0.0065 , 99.43, 2642
> 0.007 <= 0.008 , 0.0075 , 99.69, 1176
> 0.008 <= 0.009 , 0.0085 , 99.83, 588
> 0.009 <= 0.01 , 0.0095 , 99.88, 238
> 0.01 <= 0.012 , 0.011 , 99.96, 327
> 0.012 <= 0.014 , 0.013 , 99.97, 79
> 0.014 <= 0.016 , 0.015 , 99.98, 18
> 0.018 <= 0.02 , 0.019 , 99.98, 1
> 0.025 <= 0.03 , 0.0275 , 99.98, 1
> 0.035 <= 0.04 , 0.0375 , 99.99, 65
> 0.04 <= 0.0421336 , 0.0410668 , 100.00, 30
# target 50% 0.00186501
# target 75% 0.00242449
# target 90% 0.00355749
# target 99% 0.0062839
# target 99.9% 0.0104863
Ping SERVING : 441494
All done 441494 calls (plus 32 warmup) 2.174 ms avg, 14713.7 qps
Successfully wrote 5138 bytes of Json data to /data/2018-12-08-062026_grpc_baseline_0qps_30s_echo_0_2.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-linkerd:8079
06:20:56 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:21:27 I periodic.go:533> T023 ended after 30.000018925s : 7409 calls. qps=246.9665108719594
06:21:27 I periodic.go:533> T003 ended after 30.000387378s : 7502 calls. qps=250.06343769752107
06:21:27 I periodic.go:533> T031 ended after 30.002254936s : 7450 calls. qps=248.31466887712736
06:21:27 I periodic.go:533> T001 ended after 30.004073271s : 7452 calls. qps=248.36627789476245
06:21:27 I periodic.go:533> T002 ended after 30.004111004s : 7335 calls. qps=244.46649990803374
06:21:27 I periodic.go:533> T010 ended after 30.004124832s : 7347 calls. qps=244.866332250567
06:21:27 I periodic.go:533> T004 ended after 30.004136915s : 7362 calls. qps=245.36616470109186
06:21:27 I periodic.go:533> T005 ended after 30.004149239s : 7323 calls. qps=244.0662436941027
06:21:27 I periodic.go:533> T030 ended after 30.004161268s : 7397 calls. qps=246.53247041066396
06:21:27 I periodic.go:533> T022 ended after 30.004197003s : 7348 calls. qps=244.8990719286806
06:21:27 I periodic.go:533> T012 ended after 30.004208802s : 7377 calls. qps=245.86550669212343
06:21:27 I periodic.go:533> T006 ended after 30.004221819s : 7413 calls. qps=247.06523117709256
06:21:27 I periodic.go:533> T029 ended after 30.00423354s : 7472 calls. qps=249.03152383608597
06:21:27 I periodic.go:533> T018 ended after 30.004246317s : 7450 calls. qps=248.29818823940698
06:21:27 I periodic.go:533> T016 ended after 30.004288056s : 7490 calls. qps=249.63098561181204
06:21:27 I periodic.go:533> T021 ended after 30.004301099s : 7433 calls. qps=247.7311494600263
06:21:27 I periodic.go:533> T014 ended after 30.004312663s : 7460 calls. qps=248.6309246203578
06:21:27 I periodic.go:533> T013 ended after 30.004324492s : 7326 calls. qps=244.16480370865602
06:21:27 I periodic.go:533> T024 ended after 30.004336142s : 7347 calls. qps=244.86460774300173
06:21:27 I periodic.go:533> T027 ended after 30.004348119s : 7386 calls. qps=246.16432160786982
06:21:27 I periodic.go:533> T025 ended after 30.004374682s : 7381 calls. qps=245.99746131113187
06:21:27 I periodic.go:533> T011 ended after 30.00438766s : 7453 calls. qps=248.39700394672212
06:21:27 I periodic.go:533> T009 ended after 30.004400127s : 7455 calls. qps=248.46355762638572
06:21:27 I periodic.go:533> T019 ended after 30.004412925s : 7343 calls. qps=244.7306673973192
06:21:27 I periodic.go:533> T015 ended after 30.005290097s : 7378 calls. qps=245.88997393955108
06:21:27 I periodic.go:533> T020 ended after 30.00531215s : 7463 calls. qps=248.72262493693137
06:21:27 I periodic.go:533> T008 ended after 30.005323477s : 7475 calls. qps=249.12246007711985
06:21:27 I periodic.go:533> T028 ended after 30.005334905s : 7461 calls. qps=248.65578150093305
06:21:27 I periodic.go:533> T007 ended after 30.005345323s : 7405 calls. qps=246.78936103840954
06:21:27 I periodic.go:533> T017 ended after 30.006256492s : 7367 calls. qps=245.51546448201975
06:21:27 I periodic.go:533> T000 ended after 30.006320075s : 7363 calls. qps=245.38163898793243
06:21:27 I periodic.go:533> T026 ended after 30.006333934s : 7501 calls. qps=249.9805546555176
Ended after 30.006364383s : 237124 calls. qps=7902.5
Aggregated Function Time : count 237124 avg 0.0040478129 +/- 0.001341 min 0.000616357 max 0.02438003 sum 959.833588
# range, mid point, percentile, count
>= 0.000616357 <= 0.0007 , 0.000658178 , 0.00, 9
> 0.0007 <= 0.0008 , 0.00075 , 0.01, 11
> 0.0008 <= 0.0009 , 0.00085 , 0.02, 22
> 0.0009 <= 0.001 , 0.00095 , 0.03, 30
> 0.001 <= 0.0011 , 0.00105 , 0.05, 39
> 0.0011 <= 0.0012 , 0.00115 , 0.08, 84
> 0.0012 <= 0.0014 , 0.0013 , 0.20, 285
> 0.0014 <= 0.0016 , 0.0015 , 0.34, 335
> 0.0016 <= 0.0018 , 0.0017 , 0.69, 819
> 0.0018 <= 0.002 , 0.0019 , 1.48, 1867
> 0.002 <= 0.0025 , 0.00225 , 6.89, 12828
> 0.0025 <= 0.003 , 0.00275 , 16.92, 23802
> 0.003 <= 0.0035 , 0.00325 , 36.23, 45776
> 0.0035 <= 0.004 , 0.00375 , 58.72, 53326
> 0.004 <= 0.0045 , 0.00425 , 72.50, 32685
> 0.0045 <= 0.005 , 0.00475 , 82.72, 24241
> 0.005 <= 0.006 , 0.0055 , 92.67, 23589
> 0.006 <= 0.007 , 0.0065 , 96.27, 8541
> 0.007 <= 0.008 , 0.0075 , 98.23, 4640
> 0.008 <= 0.009 , 0.0085 , 99.25, 2409
> 0.009 <= 0.01 , 0.0095 , 99.59, 806
> 0.01 <= 0.012 , 0.011 , 99.88, 692
> 0.012 <= 0.014 , 0.013 , 99.97, 222
> 0.014 <= 0.016 , 0.015 , 99.98, 21
> 0.016 <= 0.018 , 0.017 , 99.99, 29
> 0.018 <= 0.02 , 0.019 , 100.00, 6
> 0.02 <= 0.02438 , 0.02219 , 100.00, 10
# target 50% 0.00380618
# target 75% 0.00462221
# target 90% 0.00573138
# target 99% 0.00875706
# target 99.9% 0.0124583
Ping SERVING : 237124
All done 237124 calls (plus 32 warmup) 4.048 ms avg, 7902.5 qps
Successfully wrote 4609 bytes of Json data to /data/2018-12-08-062057_grpc_linkerd_0qps_30s_echo_0_2.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8079
06:21:27 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:21:57 I periodic.go:533> T027 ended after 30.001137645s : 2881 calls. qps=96.02969174337788
06:21:57 I periodic.go:533> T019 ended after 30.008554662s : 2902 calls. qps=96.70575716446679
06:21:57 I periodic.go:533> T029 ended after 30.008625628s : 2952 calls. qps=98.37171607238126
06:21:57 I periodic.go:533> T005 ended after 30.008644023s : 2887 calls. qps=96.20561321555452
06:21:57 I periodic.go:533> T028 ended after 30.008757909s : 2902 calls. qps=96.70510218384128
06:21:57 I periodic.go:533> T009 ended after 30.008774929s : 2937 calls. qps=97.8713728550688
06:21:57 I periodic.go:533> T020 ended after 30.008787624s : 2903 calls. qps=96.7383299976531
06:21:57 I periodic.go:533> T011 ended after 30.008800384s : 2913 calls. qps=97.07152444364768
06:21:57 I periodic.go:533> T022 ended after 30.008827943s : 2871 calls. qps=95.67184714622294
06:21:57 I periodic.go:533> T024 ended after 30.008841877s : 2952 calls. qps=98.37100718846912
06:21:57 I periodic.go:533> T021 ended after 30.008854334s : 2943 calls. qps=98.07105487081472
06:21:57 I periodic.go:533> T013 ended after 30.008866862s : 2926 calls. qps=97.50451469746001
06:21:57 I periodic.go:533> T015 ended after 30.008878521s : 2913 calls. qps=97.0712716891937
06:21:57 I periodic.go:533> T004 ended after 30.008891048s : 2966 calls. qps=98.83737440533228
06:21:57 I periodic.go:533> T008 ended after 30.008921658s : 2943 calls. qps=98.07083485172262
06:21:57 I periodic.go:533> T007 ended after 30.008935313s : 2957 calls. qps=98.53731794073397
06:21:57 I periodic.go:533> T006 ended after 30.008947489s : 2932 calls. qps=97.70419309356805
06:21:57 I periodic.go:533> T001 ended after 30.00895981s : 2918 calls. qps=97.23762564497899
06:21:57 I periodic.go:533> T023 ended after 30.009002967s : 2866 calls. qps=95.50467248617537
06:21:57 I periodic.go:533> T025 ended after 30.009016089s : 2941 calls. qps=98.00387960996972
06:21:57 I periodic.go:533> T003 ended after 30.009027423s : 2886 calls. qps=96.1710607718018
06:21:57 I periodic.go:533> T010 ended after 30.00904021s : 2893 calls. qps=96.40428283460919
06:21:57 I periodic.go:533> T000 ended after 30.009052756s : 2959 calls. qps=98.60357886199452
06:21:57 I periodic.go:533> T018 ended after 30.00907853s : 2922 calls. qps=97.37053395621209
06:21:57 I periodic.go:533> T017 ended after 30.009090814s : 2890 calls. qps=96.30415056266023
06:21:57 I periodic.go:533> T012 ended after 30.009101814s : 2913 calls. qps=97.0705493971503
06:21:57 I periodic.go:533> T031 ended after 30.009113155s : 2875 calls. qps=95.80423070653052
06:21:57 I periodic.go:533> T026 ended after 30.009127459s : 2906 calls. qps=96.83720407966962
06:21:57 I periodic.go:533> T002 ended after 30.009139303s : 2914 calls. qps=97.10375131314375
06:21:57 I periodic.go:533> T014 ended after 30.009316338s : 2879 calls. qps=95.93687398850865
06:21:57 I periodic.go:533> T016 ended after 30.009329339s : 2929 calls. qps=97.60298095677479
06:21:57 I periodic.go:533> T030 ended after 30.009343001s : 2909 calls. qps=96.93647741315307
Ended after 30.009359258s : 93280 calls. qps=3108.4
Aggregated Function Time : count 93280 avg 0.010292223 +/- 0.003719 min 0.000790256 max 0.048011602 sum 960.058585
# range, mid point, percentile, count
>= 0.000790256 <= 0.0008 , 0.000795128 , 0.00, 1
> 0.0008 <= 0.0009 , 0.00085 , 0.00, 2
> 0.0009 <= 0.001 , 0.00095 , 0.01, 4
> 0.001 <= 0.0011 , 0.00105 , 0.03, 21
> 0.0011 <= 0.0012 , 0.00115 , 0.09, 52
> 0.0012 <= 0.0014 , 0.0013 , 0.15, 64
> 0.0014 <= 0.0016 , 0.0015 , 0.21, 55
> 0.0016 <= 0.0018 , 0.0017 , 0.25, 32
> 0.0018 <= 0.002 , 0.0019 , 0.33, 73
> 0.002 <= 0.0025 , 0.00225 , 1.03, 659
> 0.0025 <= 0.003 , 0.00275 , 1.64, 567
> 0.003 <= 0.0035 , 0.00325 , 2.58, 881
> 0.0035 <= 0.004 , 0.00375 , 3.96, 1283
> 0.004 <= 0.0045 , 0.00425 , 4.69, 679
> 0.0045 <= 0.005 , 0.00475 , 5.33, 601
> 0.005 <= 0.006 , 0.0055 , 8.57, 3024
> 0.006 <= 0.007 , 0.0065 , 11.38, 2613
> 0.007 <= 0.008 , 0.0075 , 15.25, 3618
> 0.008 <= 0.009 , 0.0085 , 25.57, 9627
> 0.009 <= 0.01 , 0.0095 , 53.94, 26462
> 0.01 <= 0.012 , 0.011 , 82.06, 26227
> 0.012 <= 0.014 , 0.013 , 91.90, 9183
> 0.014 <= 0.016 , 0.015 , 94.73, 2633
> 0.016 <= 0.018 , 0.017 , 95.80, 1004
> 0.018 <= 0.02 , 0.019 , 96.48, 636
> 0.02 <= 0.025 , 0.0225 , 99.18, 2514
> 0.025 <= 0.03 , 0.0275 , 99.81, 585
> 0.03 <= 0.035 , 0.0325 , 99.94, 127
> 0.035 <= 0.04 , 0.0375 , 99.96, 20
> 0.04 <= 0.045 , 0.0425 , 99.97, 1
> 0.045 <= 0.0480116 , 0.0465058 , 100.00, 32
# target 50% 0.00986101
# target 75% 0.0114978
# target 90% 0.0136132
# target 99% 0.0246663
# target 99.9% 0.0334142
Ping SERVING : 93280
All done 93280 calls (plus 32 warmup) 10.292 ms avg, 3108.4 qps
Successfully wrote 5142 bytes of Json data to /data/2018-12-08-062127_grpc_istio_0qps_30s_echo_0_2.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-baseline:8080/echo
06:21:57 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
06:21:57 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:22:27 I periodic.go:533> T020 ended after 30.000011795s : 28800 calls. qps=959.9996225601484
06:22:27 I periodic.go:533> T021 ended after 30.000856847s : 29453 calls. qps=981.7386266734317
06:22:27 I periodic.go:533> T023 ended after 30.001051654s : 29332 calls. qps=977.6990599624264
06:22:27 I periodic.go:533> T009 ended after 30.001081312s : 28777 calls. qps=959.198760229006
06:22:27 I periodic.go:533> T007 ended after 30.001139972s : 28882 calls. qps=962.6967517552836
06:22:27 I periodic.go:533> T029 ended after 30.001201255s : 28671 calls. qps=955.661733552142
06:22:27 I periodic.go:533> T013 ended after 30.001251887s : 29139 calls. qps=971.259469763206
06:22:27 I periodic.go:533> T018 ended after 30.00131361s : 28639 calls. qps=954.5915346338063
06:22:27 I periodic.go:533> T002 ended after 30.001377099s : 29095 calls. qps=969.7888168263379
06:22:27 I periodic.go:533> T031 ended after 30.001440407s : 29241 calls. qps=974.6532034234406
06:22:27 I periodic.go:533> T025 ended after 30.001472942s : 29304 calls. qps=976.7520433630582
06:22:27 I periodic.go:533> T028 ended after 30.001527891s : 29142 calls. qps=971.3505294089424
06:22:27 I periodic.go:533> T001 ended after 30.001556757s : 29257 calls. qps=975.1827292486654
06:22:27 I periodic.go:533> T004 ended after 30.001617153s : 29171 calls. qps=972.3142539695749
06:22:27 I periodic.go:533> T024 ended after 30.001647665s : 28566 calls. qps=952.1477059850006
06:22:27 I periodic.go:533> T017 ended after 30.001709753s : 28779 calls. qps=959.2453309139245
06:22:27 I periodic.go:533> T016 ended after 30.001739393s : 29346 calls. qps=978.1432874804253
06:22:27 I periodic.go:533> T026 ended after 30.001795607s : 29173 calls. qps=972.3751332134726
06:22:27 I periodic.go:533> T006 ended after 30.001824353s : 29315 calls. qps=977.1072470487509
06:22:27 I periodic.go:533> T022 ended after 30.00188682s : 28735 calls. qps=957.7730951522868
06:22:27 I periodic.go:533> T014 ended after 30.001925884s : 29101 calls. qps=969.9710649415189
06:22:27 I periodic.go:533> T000 ended after 30.001987231s : 28680 calls. qps=955.9366777666635
06:22:27 I periodic.go:533> T015 ended after 30.002041626s : 28736 calls. qps=957.801484252897
06:22:27 I periodic.go:533> T010 ended after 30.002079979s : 28772 calls. qps=959.0001766590517
06:22:27 I periodic.go:533> T011 ended after 30.002133773s : 29160 calls. qps=971.9308706716764
06:22:27 I periodic.go:533> T008 ended after 30.002169837s : 29454 calls. qps=981.7289936035236
06:22:27 I periodic.go:533> T019 ended after 30.002220553s : 29271 calls. qps=975.6277855597964
06:22:27 I periodic.go:533> T003 ended after 30.002253854s : 28745 calls. qps=958.0946864819498
06:22:27 I periodic.go:533> T005 ended after 30.002306545s : 28936 calls. qps=964.4591810499415
06:22:27 I periodic.go:533> T030 ended after 30.005482171s : 28802 calls. qps=959.8912570662452
06:22:27 I periodic.go:533> T012 ended after 30.005552051s : 28714 calls. qps=956.9562310066894
06:22:27 I periodic.go:533> T027 ended after 30.00556956s : 28590 calls. qps=952.8231064846349
Ended after 30.005588687s : 927778 calls. qps=30920
Aggregated Function Time : count 927778 avg 0.001034139 +/- 0.0006658 min 7.1434e-05 max 0.011056595 sum 959.451383
# range, mid point, percentile, count
>= 7.1434e-05 <= 0.0001 , 8.5717e-05 , 0.26, 2454
> 0.0001 <= 0.0002 , 0.00015 , 3.04, 25747
> 0.0002 <= 0.0003 , 0.00025 , 7.31, 39610
> 0.0003 <= 0.0004 , 0.00035 , 12.75, 50486
> 0.0004 <= 0.0005 , 0.00045 , 19.48, 62400
> 0.0005 <= 0.0006 , 0.00055 , 26.90, 68910
> 0.0006 <= 0.0007 , 0.00065 , 34.50, 70500
> 0.0007 <= 0.0008 , 0.00075 , 41.90, 68641
> 0.0008 <= 0.0009 , 0.00085 , 48.83, 64310
> 0.0009 <= 0.001 , 0.00095 , 55.40, 60915
> 0.001 <= 0.0011 , 0.00105 , 61.44, 56016
> 0.0011 <= 0.0012 , 0.00115 , 67.14, 52926
> 0.0012 <= 0.0014 , 0.0013 , 77.21, 93405
> 0.0014 <= 0.0016 , 0.0015 , 85.16, 73745
> 0.0016 <= 0.0018 , 0.0017 , 90.17, 46467
> 0.0018 <= 0.002 , 0.0019 , 93.44, 30386
> 0.002 <= 0.0025 , 0.00225 , 97.43, 37012
> 0.0025 <= 0.003 , 0.00275 , 98.66, 11425
> 0.003 <= 0.0035 , 0.00325 , 99.10, 4110
> 0.0035 <= 0.004 , 0.00375 , 99.34, 2161
> 0.004 <= 0.0045 , 0.00425 , 99.56, 2041
> 0.0045 <= 0.005 , 0.00475 , 99.72, 1516
> 0.005 <= 0.006 , 0.0055 , 99.93, 1963
> 0.006 <= 0.007 , 0.0065 , 99.98, 490
> 0.007 <= 0.008 , 0.0075 , 100.00, 116
> 0.008 <= 0.009 , 0.0085 , 100.00, 13
> 0.009 <= 0.01 , 0.0095 , 100.00, 6
> 0.01 <= 0.0110566 , 0.0105283 , 100.00, 7
# target 50% 0.000917781
# target 75% 0.00135613
# target 90% 0.00179341
# target 99% 0.00338263
# target 99.9% 0.00584932
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 927778 (100.0 %)
Response Header Sizes : count 927778 avg 75 +/- 0 min 75 max 75 sum 69583350
Response Body/Total Sizes : count 927778 avg 75 +/- 0 min 75 max 75 sum 69583350
All done 927778 calls (plus 32 warmup) 1.034 ms avg, 30920.2 qps
Successfully wrote 5338 bytes of Json data to /data/2018-12-08-062157_http_baseline_0qps_30s_echo_1_2.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-linkerd:8080/echo
06:22:27 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 32 threads at -1.0 qps
06:22:27 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:22:57 I periodic.go:533> T012 ended after 30.000327999s : 10276 calls. qps=342.529588354585
06:22:57 I periodic.go:533> T025 ended after 30.001091513s : 10305 calls. qps=343.4875026308514
06:22:57 I periodic.go:533> T000 ended after 30.001247344s : 10305 calls. qps=343.4857185049979
06:22:57 I periodic.go:533> T010 ended after 30.001276495s : 10294 calls. qps=343.11873368840133
06:22:57 I periodic.go:533> T003 ended after 30.001392755s : 10237 calls. qps=341.21749225438583
06:22:57 I periodic.go:533> T017 ended after 30.001439111s : 10268 calls. qps=342.25024879674015
06:22:57 I periodic.go:533> T019 ended after 30.001501142s : 10274 calls. qps=342.44953115419685
06:22:57 I periodic.go:533> T008 ended after 30.001564764s : 10267 calls. qps=342.21548378435773
06:22:57 I periodic.go:533> T002 ended after 30.001638642s : 10284 calls. qps=342.78127680676704
06:22:57 I periodic.go:533> T031 ended after 30.001711653s : 10271 calls. qps=342.34713401670064
06:22:57 I periodic.go:533> T030 ended after 30.00176823s : 10209 calls. qps=340.27994355984663
06:22:57 I periodic.go:533> T026 ended after 30.001801377s : 10228 calls. qps=340.9128629136581
06:22:57 I periodic.go:533> T022 ended after 30.001883788s : 10274 calls. qps=342.44516353034277
06:22:57 I periodic.go:533> T020 ended after 30.001941957s : 10260 calls. qps=341.9778631231621
06:22:57 I periodic.go:533> T011 ended after 30.001975275s : 10224 calls. qps=340.77756235335073
06:22:57 I periodic.go:533> T013 ended after 30.002037286s : 10227 calls. qps=340.87685121211007
06:22:57 I periodic.go:533> T021 ended after 30.002070195s : 10209 calls. qps=340.27651870841174
06:22:57 I periodic.go:533> T004 ended after 30.002136789s : 10235 calls. qps=341.1423683579953
06:22:57 I periodic.go:533> T015 ended after 30.002191071s : 10204 calls. qps=340.1084932714513
06:22:57 I periodic.go:533> T005 ended after 30.002226408s : 10301 calls. qps=343.34118608121935
06:22:57 I periodic.go:533> T027 ended after 30.002290098s : 10271 calls. qps=342.34053355429296
06:22:57 I periodic.go:533> T014 ended after 30.002323584s : 10269 calls. qps=342.27348995983687
06:22:57 I periodic.go:533> T029 ended after 30.002450867s : 10264 calls. qps=342.1053848400591
06:22:57 I periodic.go:533> T018 ended after 30.002495241s : 10233 calls. qps=341.07163146937404
06:22:57 I periodic.go:533> T006 ended after 30.002559023s : 10225 calls. qps=340.8042624684615
06:22:57 I periodic.go:533> T028 ended after 30.002591877s : 10214 calls. qps=340.4372542836893
06:22:57 I periodic.go:533> T024 ended after 30.002662871s : 10205 calls. qps=340.13647534812515
06:22:57 I periodic.go:533> T023 ended after 30.002772145s : 10241 calls. qps=341.33512565127
06:22:57 I periodic.go:533> T007 ended after 30.002826833s : 10291 calls. qps=343.0010131139032
06:22:57 I periodic.go:533> T001 ended after 30.002862572s : 10236 calls. qps=341.1674461207141
06:22:57 I periodic.go:533> T016 ended after 30.002922858s : 10215 calls. qps=340.4668287935242
06:22:57 I periodic.go:533> T009 ended after 30.002988913s : 10242 calls. qps=341.36598955853503
Ended after 30.003036101s : 328058 calls. qps=10934
Aggregated Function Time : count 328058 avg 0.0029253803 +/- 0.000909 min 0.000362086 max 0.043526526 sum 959.694424
# range, mid point, percentile, count
>= 0.000362086 <= 0.0004 , 0.000381043 , 0.00, 4
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 35
> 0.0005 <= 0.0006 , 0.00055 , 0.04, 89
> 0.0006 <= 0.0007 , 0.00065 , 0.06, 80
> 0.0007 <= 0.0008 , 0.00075 , 0.10, 126
> 0.0008 <= 0.0009 , 0.00085 , 0.17, 228
> 0.0009 <= 0.001 , 0.00095 , 0.26, 280
> 0.001 <= 0.0011 , 0.00105 , 0.33, 255
> 0.0011 <= 0.0012 , 0.00115 , 0.44, 333
> 0.0012 <= 0.0014 , 0.0013 , 0.87, 1431
> 0.0014 <= 0.0016 , 0.0015 , 1.66, 2575
> 0.0016 <= 0.0018 , 0.0017 , 2.80, 3745
> 0.0018 <= 0.002 , 0.0019 , 5.34, 8328
> 0.002 <= 0.0025 , 0.00225 , 24.15, 61701
> 0.0025 <= 0.003 , 0.00275 , 65.24, 134826
> 0.003 <= 0.0035 , 0.00325 , 88.93, 77717
> 0.0035 <= 0.004 , 0.00375 , 94.14, 17078
> 0.004 <= 0.0045 , 0.00425 , 96.20, 6763
> 0.0045 <= 0.005 , 0.00475 , 97.24, 3403
> 0.005 <= 0.006 , 0.0055 , 98.46, 4021
> 0.006 <= 0.007 , 0.0065 , 99.38, 3019
> 0.007 <= 0.008 , 0.0075 , 99.74, 1158
> 0.008 <= 0.009 , 0.0085 , 99.88, 478
> 0.009 <= 0.01 , 0.0095 , 99.96, 242
> 0.01 <= 0.012 , 0.011 , 99.98, 89
> 0.012 <= 0.014 , 0.013 , 99.99, 22
> 0.04 <= 0.0435265 , 0.0417633 , 100.00, 32
# target 50% 0.00281455
# target 75% 0.00320592
# target 90% 0.00360245
# target 99% 0.00658278
# target 99.9% 0.0092353
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 328058 (100.0 %)
Response Header Sizes : count 328058 avg 75 +/- 0 min 75 max 75 sum 24604350
Response Body/Total Sizes : count 328058 avg 75 +/- 0 min 75 max 75 sum 24604350
All done 328058 calls (plus 32 warmup) 2.925 ms avg, 10934.2 qps
Successfully wrote 5166 bytes of Json data to /data/2018-12-08-062227_http_linkerd_0qps_30s_echo_1_2.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-istio:8080/echo
06:22:57 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 32 threads at -1.0 qps
06:22:57 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:23:27 I periodic.go:533> T031 ended after 30.002699294s : 3398 calls. qps=113.25647624910665
06:23:27 I periodic.go:533> T027 ended after 30.003043715s : 3407 calls. qps=113.55514568332521
06:23:27 I periodic.go:533> T030 ended after 30.005326813s : 3456 calls. qps=115.17954866942712
06:23:27 I periodic.go:533> T000 ended after 30.005386367s : 3407 calls. qps=113.54627993549276
06:23:27 I periodic.go:533> T011 ended after 30.005402994s : 3398 calls. qps=113.24627103590235
06:23:27 I periodic.go:533> T010 ended after 30.005415785s : 3417 calls. qps=113.87944178091315
06:23:27 I periodic.go:533> T020 ended after 30.005443731s : 3405 calls. qps=113.47940828757477
06:23:27 I periodic.go:533> T026 ended after 30.005501599s : 3415 calls. qps=113.81246164916011
06:23:27 I periodic.go:533> T025 ended after 30.005512629s : 3377 calls. qps=112.54598585781756
06:23:27 I periodic.go:533> T019 ended after 30.005522796s : 3410 calls. qps=113.64574525775578
06:23:27 I periodic.go:533> T016 ended after 30.00553359s : 3380 calls. qps=112.64588879454085
06:23:27 I periodic.go:533> T029 ended after 30.005544885s : 3393 calls. qps=113.07909964655188
06:23:27 I periodic.go:533> T003 ended after 30.005569385s : 3409 calls. qps=113.61224165618346
06:23:27 I periodic.go:533> T008 ended after 30.00558185s : 3428 calls. qps=114.24540997527765
06:23:27 I periodic.go:533> T004 ended after 30.008027715s : 3351 calls. qps=111.67011813725259
06:23:27 I periodic.go:533> T001 ended after 30.008062945s : 3359 calls. qps=111.93658204984814
06:23:27 I periodic.go:533> T017 ended after 30.008090782s : 3437 calls. qps=114.53577719984918
06:23:27 I periodic.go:533> T018 ended after 30.00810313s : 3445 calls. qps=114.80232472794758
06:23:27 I periodic.go:533> T022 ended after 30.008132187s : 3398 calls. qps=113.23597146349773
06:23:27 I periodic.go:533> T012 ended after 30.008148018s : 3421 calls. qps=114.00237022117985
06:23:27 I periodic.go:533> T028 ended after 30.008173123s : 3399 calls. qps=113.2691412458831
06:23:27 I periodic.go:533> T006 ended after 30.008185038s : 3372 calls. qps=112.36934175558984
06:23:27 I periodic.go:533> T021 ended after 30.008217685s : 3401 calls. qps=113.3356214521209
06:23:27 I periodic.go:533> T005 ended after 30.008229433s : 3421 calls. qps=114.00206092259252
06:23:27 I periodic.go:533> T024 ended after 30.008240281s : 3405 calls. qps=113.46883283109099
06:23:27 I periodic.go:533> T007 ended after 30.008250838s : 3397 calls. qps=113.20219956633782
06:23:27 I periodic.go:533> T015 ended after 30.008263396s : 3428 calls. qps=114.23520097657303
06:23:27 I periodic.go:533> T014 ended after 30.00827453s : 3371 calls. qps=112.33568250083587
06:23:27 I periodic.go:533> T023 ended after 30.008299265s : 3401 calls. qps=113.33531334002443
06:23:27 I periodic.go:533> T009 ended after 30.008310422s : 3421 calls. qps=114.00175324406007
06:23:27 I periodic.go:533> T002 ended after 30.008322848s : 3405 calls. qps=113.46852062500177
06:23:27 I periodic.go:533> T013 ended after 30.008335381s : 3393 calls. qps=113.06858434234587
Ended after 30.008354065s : 108925 calls. qps=3629.8
Aggregated Function Time : count 108925 avg 0.0088129085 +/- 0.004343 min 0.000843091 max 0.057168668 sum 959.946059
# range, mid point, percentile, count
>= 0.000843091 <= 0.0009 , 0.000871545 , 0.00, 2
> 0.0009 <= 0.001 , 0.00095 , 0.01, 7
> 0.001 <= 0.0011 , 0.00105 , 0.01, 4
> 0.0011 <= 0.0012 , 0.00115 , 0.02, 12
> 0.0012 <= 0.0014 , 0.0013 , 0.06, 39
> 0.0014 <= 0.0016 , 0.0015 , 0.17, 126
> 0.0016 <= 0.0018 , 0.0017 , 0.37, 217
> 0.0018 <= 0.002 , 0.0019 , 0.62, 268
> 0.002 <= 0.0025 , 0.00225 , 1.46, 918
> 0.0025 <= 0.003 , 0.00275 , 2.83, 1485
> 0.003 <= 0.0035 , 0.00325 , 4.77, 2115
> 0.0035 <= 0.004 , 0.00375 , 7.29, 2753
> 0.004 <= 0.0045 , 0.00425 , 10.69, 3698
> 0.0045 <= 0.005 , 0.00475 , 14.67, 4339
> 0.005 <= 0.006 , 0.0055 , 26.14, 12490
> 0.006 <= 0.007 , 0.0065 , 38.61, 13585
> 0.007 <= 0.008 , 0.0075 , 49.79, 12172
> 0.008 <= 0.009 , 0.0085 , 60.17, 11311
> 0.009 <= 0.01 , 0.0095 , 69.43, 10081
> 0.01 <= 0.012 , 0.011 , 82.88, 14660
> 0.012 <= 0.014 , 0.013 , 90.67, 8479
> 0.014 <= 0.016 , 0.015 , 94.24, 3895
> 0.016 <= 0.018 , 0.017 , 95.87, 1768
> 0.018 <= 0.02 , 0.019 , 97.10, 1346
> 0.02 <= 0.025 , 0.0225 , 99.08, 2151
> 0.025 <= 0.03 , 0.0275 , 99.78, 759
> 0.03 <= 0.035 , 0.0325 , 99.93, 172
> 0.035 <= 0.04 , 0.0375 , 99.98, 46
> 0.04 <= 0.045 , 0.0425 , 99.99, 17
> 0.045 <= 0.05 , 0.0475 , 100.00, 9
> 0.05 <= 0.0571687 , 0.0535843 , 100.00, 1
# target 50% 0.00802056
# target 75% 0.0108283
# target 90% 0.0138282
# target 99% 0.0248018
# target 99.9% 0.0339557
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 108925 (100.0 %)
Response Header Sizes : count 108925 avg 209.12901 +/- 0.3352 min 209 max 210 sum 22779377
Response Body/Total Sizes : count 108925 avg 209.12901 +/- 0.3352 min 209 max 210 sum 22779377
All done 108925 calls (plus 32 warmup) 8.813 ms avg, 3629.8 qps
Successfully wrote 5771 bytes of Json data to /data/2018-12-08-062257_http_istio_0qps_30s_echo_1_2.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-baseline:8079
06:23:27 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:23:58 I periodic.go:533> T011 ended after 30.000023643s : 13620 calls. qps=453.999642202882
06:23:58 I periodic.go:533> T001 ended after 30.000399808s : 13630 calls. qps=454.32727854398064
06:23:58 I periodic.go:533> T008 ended after 30.002478085s : 13607 calls. qps=453.52920386942765
06:23:58 I periodic.go:533> T015 ended after 30.004654876s : 13674 calls. qps=455.72928788917693
06:23:58 I periodic.go:533> T031 ended after 30.004713148s : 13661 calls. qps=455.2951375544342
06:23:58 I periodic.go:533> T002 ended after 30.004758005s : 13748 calls. qps=458.19399702237325
06:23:58 I periodic.go:533> T009 ended after 30.004810048s : 13577 calls. qps=452.49411605273565
06:23:58 I periodic.go:533> T019 ended after 30.004840426s : 13699 calls. qps=456.55966855699216
06:23:58 I periodic.go:533> T000 ended after 30.004869263s : 13709 calls. qps=456.8925090070305
06:23:58 I periodic.go:533> T003 ended after 30.00509704s : 13616 calls. qps=453.78956721414426
06:23:58 I periodic.go:533> T027 ended after 30.005126979s : 13594 calls. qps=453.05590639606936
06:23:58 I periodic.go:533> T029 ended after 30.005153383s : 13570 calls. qps=452.2556451148937
06:23:58 I periodic.go:533> T021 ended after 30.00517998s : 13709 calls. qps=456.88777768164545
06:23:58 I periodic.go:533> T017 ended after 30.00520728s : 13738 calls. qps=457.8538608915752
06:23:58 I periodic.go:533> T028 ended after 30.00523382s : 13674 calls. qps=455.7204946986812
06:23:58 I periodic.go:533> T020 ended after 30.005259282s : 13641 calls. qps=454.6203007878411
06:23:58 I periodic.go:533> T018 ended after 30.005284903s : 13714 calls. qps=457.0528173398161
06:23:58 I periodic.go:533> T004 ended after 30.005317668s : 13658 calls. qps=455.18598240224435
06:23:58 I periodic.go:533> T023 ended after 30.005432811s : 13640 calls. qps=454.5843443057943
06:23:58 I periodic.go:533> T014 ended after 30.005464866s : 13616 calls. qps=453.78400437410505
06:23:58 I periodic.go:533> T024 ended after 30.005490179s : 13644 calls. qps=454.71678411536345
06:23:58 I periodic.go:533> T026 ended after 30.005515472s : 13651 calls. qps=454.9496912572154
06:23:58 I periodic.go:533> T007 ended after 30.005542138s : 13609 calls. qps=453.5495455276283
06:23:58 I periodic.go:533> T030 ended after 30.005566779s : 13620 calls. qps=453.9157717071431
06:23:58 I periodic.go:533> T010 ended after 30.005606904s : 13644 calls. qps=454.71501521874364
06:23:58 I periodic.go:533> T025 ended after 30.005634725s : 13618 calls. qps=453.8480896940933
06:23:58 I periodic.go:533> T022 ended after 30.005659243s : 13652 calls. qps=454.98083842916617
06:23:58 I periodic.go:533> T005 ended after 30.005684291s : 13646 calls. qps=454.780496510557
06:23:58 I periodic.go:533> T013 ended after 30.005709085s : 13631 calls. qps=454.2802158544623
06:23:58 I periodic.go:533> T016 ended after 30.005737885s : 13668 calls. qps=455.51287731646465
06:23:58 I periodic.go:533> T006 ended after 30.00602227s : 13656 calls. qps=455.10864042960003
06:23:58 I periodic.go:533> T012 ended after 30.006038865s : 13667 calls. qps=455.4749816025075
Ended after 30.006055389s : 436801 calls. qps=14557
Aggregated Function Time : count 436801 avg 0.0021973062 +/- 0.001247 min 0.00021356 max 0.07219689 sum 959.785528
# range, mid point, percentile, count
>= 0.00021356 <= 0.0003 , 0.00025678 , 0.00, 2
> 0.0003 <= 0.0004 , 0.00035 , 0.00, 3
> 0.0004 <= 0.0005 , 0.00045 , 0.00, 8
> 0.0005 <= 0.0006 , 0.00055 , 0.03, 121
> 0.0006 <= 0.0007 , 0.00065 , 0.21, 774
> 0.0007 <= 0.0008 , 0.00075 , 0.70, 2146
> 0.0008 <= 0.0009 , 0.00085 , 1.49, 3450
> 0.0009 <= 0.001 , 0.00095 , 2.49, 4389
> 0.001 <= 0.0011 , 0.00105 , 3.80, 5712
> 0.0011 <= 0.0012 , 0.00115 , 5.80, 8727
> 0.0012 <= 0.0014 , 0.0013 , 14.91, 39789
> 0.0014 <= 0.0016 , 0.0015 , 28.56, 59643
> 0.0016 <= 0.0018 , 0.0017 , 43.47, 65101
> 0.0018 <= 0.002 , 0.0019 , 57.73, 62285
> 0.002 <= 0.0025 , 0.00225 , 77.38, 85851
> 0.0025 <= 0.003 , 0.00275 , 85.28, 34524
> 0.003 <= 0.0035 , 0.00325 , 89.44, 18142
> 0.0035 <= 0.004 , 0.00375 , 92.36, 12766
> 0.004 <= 0.0045 , 0.00425 , 95.10, 11943
> 0.0045 <= 0.005 , 0.00475 , 96.91, 7936
> 0.005 <= 0.006 , 0.0055 , 98.77, 8100
> 0.006 <= 0.007 , 0.0065 , 99.42, 2859
> 0.007 <= 0.008 , 0.0075 , 99.68, 1151
> 0.008 <= 0.009 , 0.0085 , 99.83, 635
> 0.009 <= 0.01 , 0.0095 , 99.88, 233
> 0.01 <= 0.012 , 0.011 , 99.96, 355
> 0.012 <= 0.014 , 0.013 , 99.99, 113
> 0.014 <= 0.016 , 0.015 , 99.99, 8
> 0.016 <= 0.018 , 0.017 , 99.99, 3
> 0.07 <= 0.0721969 , 0.0710984 , 100.00, 32
# target 50% 0.00189163
# target 75% 0.00243943
# target 90% 0.00359611
# target 99% 0.00635711
# target 99.9% 0.010418
Ping SERVING : 436801
All done 436801 calls (plus 32 warmup) 2.197 ms avg, 14557.1 qps
Successfully wrote 5031 bytes of Json data to /data/2018-12-08-062328_grpc_baseline_0qps_30s_echo_1_2.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-linkerd:8079
06:23:58 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:24:28 I periodic.go:533> T019 ended after 30.000073267s : 7394 calls. qps=246.46606473902781
06:24:28 I periodic.go:533> T027 ended after 30.000609206s : 7373 calls. qps=245.76167601708002
06:24:28 I periodic.go:533> T006 ended after 30.000771592s : 7327 calls. qps=244.22705187868624
06:24:28 I periodic.go:533> T021 ended after 30.000859742s : 7290 calls. qps=242.9930362893665
06:24:28 I periodic.go:533> T017 ended after 30.000928697s : 7406 calls. qps=246.85902475880945
06:24:28 I periodic.go:533> T000 ended after 30.001840955s : 7347 calls. qps=244.8849725928427
06:24:28 I periodic.go:533> T024 ended after 30.001941758s : 7286 calls. qps=242.8509480742923
06:24:28 I periodic.go:533> T016 ended after 30.002017908s : 7258 calls. qps=241.91706112090094
06:24:28 I periodic.go:533> T023 ended after 30.002082282s : 7299 calls. qps=243.28311386503648
06:24:28 I periodic.go:533> T028 ended after 30.002123029s : 7283 calls. qps=242.74948785991793
06:24:28 I periodic.go:533> T015 ended after 30.002182174s : 7304 calls. qps=243.4489584004217
06:24:28 I periodic.go:533> T009 ended after 30.002221108s : 7321 calls. qps=244.01526719126397
06:24:28 I periodic.go:533> T011 ended after 30.00228291s : 7323 calls. qps=244.08142613571533
06:24:28 I periodic.go:533> T013 ended after 30.006127247s : 7283 calls. qps=242.717093747183
06:24:28 I periodic.go:533> T020 ended after 30.006245811s : 7383 calls. qps=246.04877419531982
06:24:28 I periodic.go:533> T022 ended after 30.006266851s : 7433 calls. qps=247.71492025014385
06:24:28 I periodic.go:533> T005 ended after 30.006279845s : 7386 calls. qps=246.14847419116975
06:24:28 I periodic.go:533> T031 ended after 30.006292923s : 7395 calls. qps=246.4483039933163
06:24:28 I periodic.go:533> T014 ended after 30.006319078s : 7366 calls. qps=245.4816260819074
06:24:28 I periodic.go:533> T003 ended after 30.006332913s : 7318 calls. qps=243.88185058193284
06:24:28 I periodic.go:533> T030 ended after 30.006346254s : 7319 calls. qps=243.915068434043
06:24:28 I periodic.go:533> T018 ended after 30.006360004s : 7302 calls. qps=243.34841010461136
06:24:28 I periodic.go:533> T029 ended after 30.007090296s : 7393 calls. qps=246.37510425279388
06:24:28 I periodic.go:533> T001 ended after 30.007113614s : 7262 calls. qps=242.00928131294407
06:24:28 I periodic.go:533> T025 ended after 30.007125865s : 7354 calls. qps=245.07512092578082
06:24:28 I periodic.go:533> T010 ended after 30.007137046s : 7418 calls. qps=247.20785553878193
06:24:28 I periodic.go:533> T004 ended after 30.007162832s : 7251 calls. qps=241.6423052254526
06:24:28 I periodic.go:533> T002 ended after 30.007174237s : 7367 calls. qps=245.5079555913734
06:24:28 I periodic.go:533> T008 ended after 30.007185525s : 7382 calls. qps=246.00774350696122
06:24:28 I periodic.go:533> T012 ended after 30.007196782s : 7359 calls. qps=245.24116842578047
06:24:28 I periodic.go:533> T007 ended after 30.007207273s : 7406 calls. qps=246.80737306279747
06:24:28 I periodic.go:533> T026 ended after 30.007218504s : 7307 calls. qps=243.50807453299836
Ended after 30.007249728s : 234895 calls. qps=7827.9
Aggregated Function Time : count 234895 avg 0.0040862505 +/- 0.001411 min 0.000534118 max 0.042579846 sum 959.839805
# range, mid point, percentile, count
>= 0.000534118 <= 0.0006 , 0.000567059 , 0.00, 2
> 0.0006 <= 0.0007 , 0.00065 , 0.00, 8
> 0.0007 <= 0.0008 , 0.00075 , 0.01, 7
> 0.0008 <= 0.0009 , 0.00085 , 0.02, 31
> 0.0009 <= 0.001 , 0.00095 , 0.04, 44
> 0.001 <= 0.0011 , 0.00105 , 0.06, 51
> 0.0011 <= 0.0012 , 0.00115 , 0.09, 80
> 0.0012 <= 0.0014 , 0.0013 , 0.22, 283
> 0.0014 <= 0.0016 , 0.0015 , 0.36, 345
> 0.0016 <= 0.0018 , 0.0017 , 0.72, 834
> 0.0018 <= 0.002 , 0.0019 , 1.52, 1897
> 0.002 <= 0.0025 , 0.00225 , 6.80, 12396
> 0.0025 <= 0.003 , 0.00275 , 16.33, 22381
> 0.003 <= 0.0035 , 0.00325 , 34.48, 42640
> 0.0035 <= 0.004 , 0.00375 , 56.47, 51642
> 0.004 <= 0.0045 , 0.00425 , 71.60, 35534
> 0.0045 <= 0.005 , 0.00475 , 82.26, 25047
> 0.005 <= 0.006 , 0.0055 , 92.68, 24487
> 0.006 <= 0.007 , 0.0065 , 96.14, 8118
> 0.007 <= 0.008 , 0.0075 , 98.09, 4593
> 0.008 <= 0.009 , 0.0085 , 99.13, 2425
> 0.009 <= 0.01 , 0.0095 , 99.51, 908
> 0.01 <= 0.012 , 0.011 , 99.86, 806
> 0.012 <= 0.014 , 0.013 , 99.96, 253
> 0.014 <= 0.016 , 0.015 , 99.98, 34
> 0.016 <= 0.018 , 0.017 , 99.99, 15
> 0.02 <= 0.025 , 0.0225 , 99.99, 3
> 0.03 <= 0.035 , 0.0325 , 99.99, 2
> 0.035 <= 0.04 , 0.0375 , 99.99, 1
> 0.04 <= 0.0425798 , 0.0412899 , 100.00, 28
# target 50% 0.0038529
# target 75% 0.00465962
# target 90% 0.00574258
# target 99% 0.00887672
# target 99.9% 0.0127992
Ping SERVING : 234895
All done 234895 calls (plus 32 warmup) 4.086 ms avg, 7827.9 qps
Successfully wrote 4999 bytes of Json data to /data/2018-12-08-062358_grpc_linkerd_0qps_30s_echo_1_2.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-istio:8079
06:24:28 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:24:58 I periodic.go:533> T024 ended after 30.002744245s : 3031 calls. qps=101.02409217133932
06:24:58 I periodic.go:533> T023 ended after 30.010498211s : 3028 calls. qps=100.89802504145437
06:24:58 I periodic.go:533> T030 ended after 30.010546384s : 3014 calls. qps=100.43136041024903
06:24:58 I periodic.go:533> T021 ended after 30.010574307s : 3014 calls. qps=100.43126696502377
06:24:58 I periodic.go:533> T014 ended after 30.010587407s : 3012 calls. qps=100.36457997811293
06:24:58 I periodic.go:533> T004 ended after 30.010600717s : 2973 calls. qps=99.0649946675641
06:24:58 I periodic.go:533> T011 ended after 30.010612176s : 3006 calls. qps=100.16456786589478
06:24:58 I periodic.go:533> T010 ended after 30.010623587s : 2999 calls. qps=99.93127904543465
06:24:58 I periodic.go:533> T029 ended after 30.010648576s : 3005 calls. qps=100.13112487022846
06:24:58 I periodic.go:533> T019 ended after 30.010661523s : 2972 calls. qps=99.03147245595623
06:24:58 I periodic.go:533> T000 ended after 30.010673935s : 3007 calls. qps=100.19768321474051
06:24:58 I periodic.go:533> T028 ended after 30.010686636s : 3034 calls. qps=101.09732032457053
06:24:58 I periodic.go:533> T012 ended after 30.010700048s : 2975 calls. qps=99.13130967427274
06:24:58 I periodic.go:533> T015 ended after 30.010712309s : 2999 calls. qps=99.9309836141617
06:24:58 I periodic.go:533> T031 ended after 30.010737859s : 3025 calls. qps=100.79725510956821
06:24:58 I periodic.go:533> T007 ended after 30.010748946s : 2965 calls. qps=98.7979342113417
06:24:58 I periodic.go:533> T003 ended after 30.010760495s : 2978 calls. qps=99.23107415075854
06:24:58 I periodic.go:533> T026 ended after 30.010773661s : 3036 calls. qps=101.16366989716707
06:24:58 I periodic.go:533> T022 ended after 30.010818042s : 3006 calls. qps=100.16388076436694
06:24:58 I periodic.go:533> T025 ended after 30.01082985s : 3044 calls. qps=101.43005092543284
06:24:58 I periodic.go:533> T002 ended after 30.010840313s : 3000 calls. qps=99.96387867554877
06:24:58 I periodic.go:533> T018 ended after 30.010851263s : 2995 calls. qps=99.79723579825601
06:24:58 I periodic.go:533> T005 ended after 30.01089396s : 3039 calls. qps=101.26322808146033
06:24:58 I periodic.go:533> T008 ended after 30.010907306s : 3024 calls. qps=100.76336477156157
06:24:58 I periodic.go:533> T027 ended after 30.01091882s : 3028 calls. qps=100.89661093555281
06:24:58 I periodic.go:533> T017 ended after 30.010930629s : 2994 calls. qps=99.76365068488926
06:24:58 I periodic.go:533> T006 ended after 30.010941686s : 2969 calls. qps=98.93058442031588
06:24:58 I periodic.go:533> T020 ended after 30.010952853s : 2993 calls. qps=99.73025563901112
06:24:58 I periodic.go:533> T013 ended after 30.011052586s : 2997 calls. qps=99.86320844334813
06:24:58 I periodic.go:533> T001 ended after 30.011071001s : 2988 calls. qps=99.56325783576456
06:24:58 I periodic.go:533> T009 ended after 30.011083052s : 3030 calls. qps=100.96270083788511
06:24:58 I periodic.go:533> T016 ended after 30.011458294s : 3012 calls. qps=100.3616675502293
Ended after 30.011486435s : 96192 calls. qps=3205.2
Aggregated Function Time : count 96192 avg 0.009981203 +/- 0.003616 min 0.00043707 max 0.058077035 sum 960.111881
# range, mid point, percentile, count
>= 0.00043707 <= 0.0005 , 0.000468535 , 0.00, 2
> 0.0005 <= 0.0006 , 0.00055 , 0.00, 2
> 0.0006 <= 0.0007 , 0.00065 , 0.01, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.02, 12
> 0.0008 <= 0.0009 , 0.00085 , 0.03, 10
> 0.0009 <= 0.001 , 0.00095 , 0.04, 12
> 0.001 <= 0.0011 , 0.00105 , 0.08, 37
> 0.0011 <= 0.0012 , 0.00115 , 0.13, 49
> 0.0012 <= 0.0014 , 0.0013 , 0.22, 89
> 0.0014 <= 0.0016 , 0.0015 , 0.27, 46
> 0.0016 <= 0.0018 , 0.0017 , 0.32, 50
> 0.0018 <= 0.002 , 0.0019 , 0.42, 93
> 0.002 <= 0.0025 , 0.00225 , 1.27, 816
> 0.0025 <= 0.003 , 0.00275 , 1.80, 511
> 0.003 <= 0.0035 , 0.00325 , 2.90, 1064
> 0.0035 <= 0.004 , 0.00375 , 4.25, 1293
> 0.004 <= 0.0045 , 0.00425 , 4.87, 598
> 0.0045 <= 0.005 , 0.00475 , 5.61, 715
> 0.005 <= 0.006 , 0.0055 , 9.21, 3455
> 0.006 <= 0.007 , 0.0065 , 12.01, 2698
> 0.007 <= 0.008 , 0.0075 , 16.66, 4476
> 0.008 <= 0.009 , 0.0085 , 32.62, 15350
> 0.009 <= 0.01 , 0.0095 , 61.23, 27519
> 0.01 <= 0.012 , 0.011 , 84.87, 22740
> 0.012 <= 0.014 , 0.013 , 92.86, 7686
> 0.014 <= 0.016 , 0.015 , 95.06, 2112
> 0.016 <= 0.018 , 0.017 , 95.99, 899
> 0.018 <= 0.02 , 0.019 , 96.61, 593
> 0.02 <= 0.025 , 0.0225 , 99.48, 2765
> 0.025 <= 0.03 , 0.0275 , 99.85, 351
> 0.03 <= 0.035 , 0.0325 , 99.96, 110
> 0.035 <= 0.04 , 0.0375 , 99.98, 19
> 0.045 <= 0.05 , 0.0475 , 99.99, 9
> 0.05 <= 0.058077 , 0.0540385 , 100.00, 10
# target 50% 0.00960747
# target 75% 0.011165
# target 90% 0.0132841
# target 99% 0.0241629
# target 99.9% 0.0323549
Ping SERVING : 96192
All done 96192 calls (plus 32 warmup) 9.981 ms avg, 3205.2 qps
Successfully wrote 5515 bytes of Json data to /data/2018-12-08-062428_grpc_istio_0qps_30s_echo_1_2.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8080/echo
06:24:58 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
06:24:58 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:25:28 I periodic.go:533> T018 ended after 30.000062912s : 30512 calls. qps=1017.0645338145349
06:25:28 I periodic.go:533> T014 ended after 30.000822186s : 30623 calls. qps=1020.7386920979233
06:25:28 I periodic.go:533> T030 ended after 30.000978929s : 30069 calls. qps=1002.2672950493042
06:25:28 I periodic.go:533> T000 ended after 30.001003619s : 29829 calls. qps=994.2667378336948
06:25:28 I periodic.go:533> T003 ended after 30.00105919s : 30046 calls. qps=1001.4979741120267
06:25:28 I periodic.go:533> T012 ended after 30.001077338s : 30401 calls. qps=1013.3302766928789
06:25:28 I periodic.go:533> T022 ended after 30.001094712s : 29778 calls. qps=992.5637809506076
06:25:28 I periodic.go:533> T006 ended after 30.001173175s : 30289 calls. qps=1009.5938523244099
06:25:28 I periodic.go:533> T024 ended after 30.00122817s : 30229 calls. qps=1007.592083521026
06:25:28 I periodic.go:533> T025 ended after 30.001261232s : 29912 calls. qps=997.0247506826548
06:25:28 I periodic.go:533> T008 ended after 30.001321071s : 30033 calls. qps=1001.0559178019205
06:25:28 I periodic.go:533> T005 ended after 30.001351024s : 29983 calls. qps=999.3883267461748
06:25:28 I periodic.go:533> T028 ended after 30.001410762s : 29956 calls. qps=998.4863791119611
06:25:28 I periodic.go:533> T019 ended after 30.001457515s : 30402 calls. qps=1013.350767535202
06:25:28 I periodic.go:533> T001 ended after 30.001527239s : 30369 calls. qps=1012.2484684887078
06:25:28 I periodic.go:533> T029 ended after 30.001557688s : 30392 calls. qps=1013.014068004748
06:25:28 I periodic.go:533> T021 ended after 30.001617487s : 30379 calls. qps=1012.5787389017783
06:25:28 I periodic.go:533> T016 ended after 30.001647587s : 30296 calls. qps=1009.8112082726932
06:25:28 I periodic.go:533> T020 ended after 30.001706614s : 30151 calls. qps=1004.9761631203451
06:25:28 I periodic.go:533> T004 ended after 30.001734861s : 30343 calls. qps=1011.3748468407279
06:25:28 I periodic.go:533> T007 ended after 30.001793936s : 30327 calls. qps=1010.8395539511315
06:25:28 I periodic.go:533> T023 ended after 30.001847678s : 29992 calls. qps=999.6717642824638
06:25:28 I periodic.go:533> T010 ended after 30.001882498s : 30048 calls. qps=1001.5371536103801
06:25:28 I periodic.go:533> T027 ended after 30.001936589s : 30451 calls. qps=1014.9678141498588
06:25:28 I periodic.go:533> T011 ended after 30.001971715s : 29835 calls. qps=994.434641943332
06:25:28 I periodic.go:533> T031 ended after 30.002035689s : 30438 calls. qps=1014.5311576694058
06:25:28 I periodic.go:533> T013 ended after 30.00207172s : 29794 calls. qps=993.0647549295306
06:25:28 I periodic.go:533> T009 ended after 30.002121958s : 30352 calls. qps=1011.6617765399992
06:25:28 I periodic.go:533> T002 ended after 30.002156251s : 29994 calls. qps=999.7281445062894
06:25:28 I periodic.go:533> T015 ended after 30.002205985s : 29801 calls. qps=993.2936269719435
06:25:28 I periodic.go:533> T017 ended after 30.002240559s : 29998 calls. qps=999.858658589459
06:25:28 I periodic.go:533> T026 ended after 30.002291582s : 30418 calls. qps=1013.8558888698157
Ended after 30.002331888s : 965440 calls. qps=32179
Aggregated Function Time : count 965440 avg 0.00099385954 +/- 0.0007286 min 6.8947e-05 max 0.053337458 sum 959.511756
# range, mid point, percentile, count
>= 6.8947e-05 <= 0.0001 , 8.44735e-05 , 0.31, 2957
> 0.0001 <= 0.0002 , 0.00015 , 3.37, 29552
> 0.0002 <= 0.0003 , 0.00025 , 8.05, 45173
> 0.0003 <= 0.0004 , 0.00035 , 13.96, 57135
> 0.0004 <= 0.0005 , 0.00045 , 21.01, 68063
> 0.0005 <= 0.0006 , 0.00055 , 28.90, 76091
> 0.0006 <= 0.0007 , 0.00065 , 36.95, 77784
> 0.0007 <= 0.0008 , 0.00075 , 44.52, 73056
> 0.0008 <= 0.0009 , 0.00085 , 51.62, 68512
> 0.0009 <= 0.001 , 0.00095 , 58.12, 62834
> 0.001 <= 0.0011 , 0.00105 , 64.06, 57310
> 0.0011 <= 0.0012 , 0.00115 , 69.57, 53142
> 0.0012 <= 0.0014 , 0.0013 , 79.45, 95474
> 0.0014 <= 0.0016 , 0.0015 , 86.96, 72465
> 0.0016 <= 0.0018 , 0.0017 , 91.48, 43599
> 0.0018 <= 0.002 , 0.0019 , 94.37, 27934
> 0.002 <= 0.0025 , 0.00225 , 97.91, 34158
> 0.0025 <= 0.003 , 0.00275 , 98.91, 9700
> 0.003 <= 0.0035 , 0.00325 , 99.28, 3567
> 0.0035 <= 0.004 , 0.00375 , 99.45, 1653
> 0.004 <= 0.0045 , 0.00425 , 99.63, 1707
> 0.0045 <= 0.005 , 0.00475 , 99.80, 1621
> 0.005 <= 0.006 , 0.0055 , 99.95, 1466
> 0.006 <= 0.007 , 0.0065 , 99.99, 381
> 0.007 <= 0.008 , 0.0075 , 99.99, 36
> 0.008 <= 0.009 , 0.0085 , 99.99, 6
> 0.035 <= 0.04 , 0.0375 , 100.00, 32
> 0.045 <= 0.05 , 0.0475 , 100.00, 7
> 0.05 <= 0.0533375 , 0.0516687 , 100.00, 25
# target 50% 0.000877226
# target 75% 0.00130992
# target 90% 0.00173463
# target 99% 0.00311867
# target 99.9% 0.00567364
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 965440 (100.0 %)
Response Header Sizes : count 965440 avg 75 +/- 0 min 75 max 75 sum 72408000
Response Body/Total Sizes : count 965440 avg 75 +/- 0 min 75 max 75 sum 72408000
All done 965440 calls (plus 32 warmup) 0.994 ms avg, 32178.8 qps
Successfully wrote 5454 bytes of Json data to /data/2018-12-08-062458_http_baseline_0qps_30s_echo_0_3.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-linkerd:8080/echo
06:25:28 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 32 threads at -1.0 qps
06:25:28 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:25:58 I periodic.go:533> T006 ended after 30.000007139s : 10273 calls. qps=342.43325184563383
06:25:58 I periodic.go:533> T019 ended after 30.000616082s : 10237 calls. qps=341.2263258867565
06:25:58 I periodic.go:533> T023 ended after 30.002906712s : 10251 calls. qps=341.6668957578033
06:25:58 I periodic.go:533> T024 ended after 30.002991031s : 10248 calls. qps=341.56594552227995
06:25:58 I periodic.go:533> T018 ended after 30.00300592s : 10283 calls. qps=342.73232580157423
06:25:58 I periodic.go:533> T012 ended after 30.00303107s : 10242 calls. qps=341.36550990812947
06:25:58 I periodic.go:533> T031 ended after 30.003042643s : 10255 calls. qps=341.79866762255165
06:25:58 I periodic.go:533> T025 ended after 30.003061854s : 10297 calls. qps=343.1983058964766
06:25:58 I periodic.go:533> T016 ended after 30.00307232s : 10327 calls. qps=344.19808377810824
06:25:58 I periodic.go:533> T020 ended after 30.003084486s : 10254 calls. qps=341.7648610356948
06:25:58 I periodic.go:533> T009 ended after 30.003110379s : 10246 calls. qps=341.4979270673036
06:25:58 I periodic.go:533> T029 ended after 30.003122289s : 10262 calls. qps=342.0310693384849
06:25:58 I periodic.go:533> T011 ended after 30.003132889s : 10269 calls. qps=342.2642574690894
06:25:58 I periodic.go:533> T010 ended after 30.003145082s : 10287 calls. qps=342.864055481022
06:25:58 I periodic.go:533> T002 ended after 30.003155572s : 10260 calls. qps=341.9640302627032
06:25:58 I periodic.go:533> T021 ended after 30.003167417s : 10251 calls. qps=341.6639269289853
06:25:58 I periodic.go:533> T000 ended after 30.00541859s : 10237 calls. qps=341.17171101261414
06:25:58 I periodic.go:533> T026 ended after 30.005498535s : 10239 calls. qps=341.2374564634108
06:25:58 I periodic.go:533> T008 ended after 30.005513543s : 10243 calls. qps=341.3705946182546
06:25:58 I periodic.go:533> T013 ended after 30.005526237s : 10276 calls. qps=342.4702476082089
06:25:58 I periodic.go:533> T015 ended after 30.005537212s : 10334 calls. qps=344.40309890093096
06:25:58 I periodic.go:533> T028 ended after 30.005566967s : 10314 calls. qps=343.736214394592
06:25:58 I periodic.go:533> T027 ended after 30.005581726s : 10334 calls. qps=344.40258797067526
06:25:58 I periodic.go:533> T005 ended after 30.005593155s : 10301 calls. qps=343.30266183334845
06:25:58 I periodic.go:533> T017 ended after 30.005604601s : 10266 calls. qps=342.13608212573274
06:25:58 I periodic.go:533> T022 ended after 30.00561684s : 10261 calls. qps=341.9693071039029
06:25:58 I periodic.go:533> T030 ended after 30.005628689s : 10292 calls. qps=343.0023115553991
06:25:58 I periodic.go:533> T007 ended after 30.005650326s : 10334 calls. qps=344.4018005850569
06:25:58 I periodic.go:533> T001 ended after 30.005662241s : 10269 calls. qps=342.23540602174575
06:25:58 I periodic.go:533> T003 ended after 30.005674789s : 10309 calls. qps=343.56834407134386
06:25:58 I periodic.go:533> T014 ended after 30.005711258s : 10262 calls. qps=342.0015580288565
06:25:58 I periodic.go:533> T004 ended after 30.005726107s : 10249 calls. qps=341.5681381431067
Ended after 30.005754949s : 328762 calls. qps=10957
Aggregated Function Time : count 328762 avg 0.0029193736 +/- 0.00081 min 0.000334738 max 0.01636572 sum 959.779097
# range, mid point, percentile, count
>= 0.000334738 <= 0.0004 , 0.000367369 , 0.00, 3
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 38
> 0.0005 <= 0.0006 , 0.00055 , 0.06, 165
> 0.0006 <= 0.0007 , 0.00065 , 0.09, 105
> 0.0007 <= 0.0008 , 0.00075 , 0.15, 170
> 0.0008 <= 0.0009 , 0.00085 , 0.22, 251
> 0.0009 <= 0.001 , 0.00095 , 0.33, 348
> 0.001 <= 0.0011 , 0.00105 , 0.41, 268
> 0.0011 <= 0.0012 , 0.00115 , 0.49, 278
> 0.0012 <= 0.0014 , 0.0013 , 0.96, 1533
> 0.0014 <= 0.0016 , 0.0015 , 1.80, 2764
> 0.0016 <= 0.0018 , 0.0017 , 2.92, 3677
> 0.0018 <= 0.002 , 0.0019 , 5.12, 7219
> 0.002 <= 0.0025 , 0.00225 , 23.57, 60685
> 0.0025 <= 0.003 , 0.00275 , 65.51, 137878
> 0.003 <= 0.0035 , 0.00325 , 89.36, 78391
> 0.0035 <= 0.004 , 0.00375 , 94.17, 15822
> 0.004 <= 0.0045 , 0.00425 , 96.22, 6742
> 0.0045 <= 0.005 , 0.00475 , 97.23, 3327
> 0.005 <= 0.006 , 0.0055 , 98.50, 4169
> 0.006 <= 0.007 , 0.0065 , 99.39, 2939
> 0.007 <= 0.008 , 0.0075 , 99.77, 1250
> 0.008 <= 0.009 , 0.0085 , 99.90, 426
> 0.009 <= 0.01 , 0.0095 , 99.97, 217
> 0.01 <= 0.012 , 0.011 , 99.99, 76
> 0.012 <= 0.014 , 0.013 , 100.00, 18
> 0.016 <= 0.0163657 , 0.0161829 , 100.00, 3
# target 50% 0.00281505
# target 75% 0.00319894
# target 90% 0.00356677
# target 99% 0.00655848
# target 99.9% 0.00896535
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 328762 (100.0 %)
Response Header Sizes : count 328762 avg 75 +/- 0 min 75 max 75 sum 24657150
Response Body/Total Sizes : count 328762 avg 75 +/- 0 min 75 max 75 sum 24657150
All done 328762 calls (plus 32 warmup) 2.919 ms avg, 10956.6 qps
Successfully wrote 5166 bytes of Json data to /data/2018-12-08-062528_http_linkerd_0qps_30s_echo_0_3.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8080/echo
06:25:58 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 32 threads at -1.0 qps
06:25:58 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:26:29 I periodic.go:533> T018 ended after 30.001715939s : 3363 calls. qps=112.09358847466288
06:26:29 I periodic.go:533> T014 ended after 30.002137921s : 3369 calls. qps=112.29199761933859
06:26:29 I periodic.go:533> T025 ended after 30.004277889s : 3369 calls. qps=112.28398871865947
06:26:29 I periodic.go:533> T001 ended after 30.004344849s : 3392 calls. qps=113.05029378480332
06:26:29 I periodic.go:533> T008 ended after 30.004359567s : 3332 calls. qps=111.05052892595872
06:26:29 I periodic.go:533> T031 ended after 30.004371717s : 3369 calls. qps=112.28363759042414
06:26:29 I periodic.go:533> T027 ended after 30.004384534s : 3382 calls. qps=112.71685963655167
06:26:29 I periodic.go:533> T006 ended after 30.004410564s : 3364 calls. qps=112.11685004857941
06:26:29 I periodic.go:533> T000 ended after 30.00442139s : 3361 calls. qps=112.01682433110236
06:26:29 I periodic.go:533> T019 ended after 30.004432615s : 3383 calls. qps=112.75000742086188
06:26:29 I periodic.go:533> T015 ended after 30.004444281s : 3362 calls. qps=112.05006726716653
06:26:29 I periodic.go:533> T028 ended after 30.004455s : 3406 calls. qps=113.51647613662705
06:26:29 I periodic.go:533> T030 ended after 30.004469107s : 3377 calls. qps=112.54990008178984
06:26:29 I periodic.go:533> T002 ended after 30.004498987s : 3393 calls. qps=113.08304136223302
06:26:29 I periodic.go:533> T024 ended after 30.004510069s : 3384 calls. qps=112.78304468954734
06:26:29 I periodic.go:533> T013 ended after 30.00452073s : 3405 calls. qps=113.48289914844442
06:26:29 I periodic.go:533> T021 ended after 30.004531623s : 3391 calls. qps=113.01626176362727
06:26:29 I periodic.go:533> T017 ended after 30.006890661s : 3370 calls. qps=112.30753756103074
06:26:29 I periodic.go:533> T022 ended after 30.006945091s : 3362 calls. qps=112.04072889806989
06:26:29 I periodic.go:533> T003 ended after 30.006958203s : 3352 calls. qps=111.7074239022627
06:26:29 I periodic.go:533> T010 ended after 30.006970407s : 3358 calls. qps=111.90733201165315
06:26:29 I periodic.go:533> T026 ended after 30.006999606s : 3414 calls. qps=113.77345435487523
06:26:29 I periodic.go:533> T005 ended after 30.007011755s : 3382 calls. qps=112.70699087310702
06:26:29 I periodic.go:533> T023 ended after 30.007021727s : 3377 calls. qps=112.5403257518693
06:26:29 I periodic.go:533> T020 ended after 30.007033479s : 3337 calls. qps=111.2072608688677
06:26:29 I periodic.go:533> T012 ended after 30.007044615s : 3346 calls. qps=111.50714916881194
06:26:29 I periodic.go:533> T016 ended after 30.007056335s : 3384 calls. qps=112.77347441951272
06:26:29 I periodic.go:533> T004 ended after 30.007081115s : 3376 calls. qps=112.5067775523291
06:26:29 I periodic.go:533> T009 ended after 30.007093308s : 3408 calls. qps=113.57314635641215
06:26:29 I periodic.go:533> T011 ended after 30.007104126s : 3393 calls. qps=113.0732237857
06:26:29 I periodic.go:533> T007 ended after 30.00711513s : 3412 calls. qps=113.70636548092585
06:26:29 I periodic.go:533> T029 ended after 30.007127242s : 3379 calls. qps=112.60658085491515
Ended after 30.007159345s : 108052 calls. qps=3600.9
Aggregated Function Time : count 108052 avg 0.0088840221 +/- 0.004591 min 0.000907322 max 0.070920921 sum 959.936358
# range, mid point, percentile, count
>= 0.000907322 <= 0.001 , 0.000953661 , 0.00, 4
> 0.001 <= 0.0011 , 0.00105 , 0.01, 4
> 0.0011 <= 0.0012 , 0.00115 , 0.01, 5
> 0.0012 <= 0.0014 , 0.0013 , 0.05, 46
> 0.0014 <= 0.0016 , 0.0015 , 0.15, 100
> 0.0016 <= 0.0018 , 0.0017 , 0.32, 183
> 0.0018 <= 0.002 , 0.0019 , 0.62, 325
> 0.002 <= 0.0025 , 0.00225 , 1.48, 933
> 0.0025 <= 0.003 , 0.00275 , 2.88, 1513
> 0.003 <= 0.0035 , 0.00325 , 4.86, 2133
> 0.0035 <= 0.004 , 0.00375 , 7.60, 2966
> 0.004 <= 0.0045 , 0.00425 , 11.06, 3738
> 0.0045 <= 0.005 , 0.00475 , 15.12, 4386
> 0.005 <= 0.006 , 0.0055 , 26.11, 11873
> 0.006 <= 0.007 , 0.0065 , 38.59, 13485
> 0.007 <= 0.008 , 0.0075 , 49.84, 12164
> 0.008 <= 0.009 , 0.0085 , 59.85, 10813
> 0.009 <= 0.01 , 0.0095 , 68.83, 9697
> 0.01 <= 0.012 , 0.011 , 82.28, 14535
> 0.012 <= 0.014 , 0.013 , 90.22, 8579
> 0.014 <= 0.016 , 0.015 , 93.98, 4070
> 0.016 <= 0.018 , 0.017 , 95.65, 1800
> 0.018 <= 0.02 , 0.019 , 96.90, 1354
> 0.02 <= 0.025 , 0.0225 , 98.99, 2260
> 0.025 <= 0.03 , 0.0275 , 99.69, 755
> 0.03 <= 0.035 , 0.0325 , 99.81, 130
> 0.035 <= 0.04 , 0.0375 , 99.86, 50
> 0.04 <= 0.045 , 0.0425 , 99.91, 59
> 0.045 <= 0.05 , 0.0475 , 99.96, 50
> 0.05 <= 0.06 , 0.055 , 99.99, 32
> 0.06 <= 0.07 , 0.065 , 100.00, 9
> 0.07 <= 0.0709209 , 0.0704605 , 100.00, 1
# target 50% 0.00801554
# target 75% 0.0109179
# target 90% 0.0139452
# target 99% 0.0250363
# target 99.9% 0.0436397
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 108052 (100.0 %)
Response Header Sizes : count 108052 avg 209.13566 +/- 0.3424 min 209 max 210 sum 22597526
Response Body/Total Sizes : count 108052 avg 209.13566 +/- 0.3424 min 209 max 210 sum 22597526
All done 108052 calls (plus 32 warmup) 8.884 ms avg, 3600.9 qps
Successfully wrote 5885 bytes of Json data to /data/2018-12-08-062559_http_istio_0qps_30s_echo_0_3.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8079
06:26:29 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:26:59 I periodic.go:533> T029 ended after 30.000193823s : 13822 calls. qps=460.7303566620027
06:26:59 I periodic.go:533> T007 ended after 30.003994435s : 13822 calls. qps=460.6719958552079
06:26:59 I periodic.go:533> T012 ended after 30.004088957s : 13772 calls. qps=459.00410506505216
06:26:59 I periodic.go:533> T018 ended after 30.004140437s : 13787 calls. qps=459.5032485249396
06:26:59 I periodic.go:533> T019 ended after 30.004170636s : 13752 calls. qps=458.3362815401367
06:26:59 I periodic.go:533> T013 ended after 30.004217532s : 13730 calls. qps=457.6023349169738
06:26:59 I periodic.go:533> T016 ended after 30.004274783s : 13710 calls. qps=456.9348900833255
06:26:59 I periodic.go:533> T000 ended after 30.004307318s : 13795 calls. qps=459.7673211980531
06:26:59 I periodic.go:533> T005 ended after 30.004363655s : 13763 calls. qps=458.6999463895146
06:26:59 I periodic.go:533> T031 ended after 30.00439334s : 13749 calls. qps=458.23289423654785
06:26:59 I periodic.go:533> T030 ended after 30.004438675s : 13764 calls. qps=458.73212790573893
06:26:59 I periodic.go:533> T002 ended after 30.004467211s : 13731 calls. qps=457.6318553980538
06:26:59 I periodic.go:533> T014 ended after 30.00450797s : 13827 calls. qps=460.83075295968604
06:26:59 I periodic.go:533> T017 ended after 30.004560047s : 13818 calls. qps=460.5299987186978
06:26:59 I periodic.go:533> T010 ended after 30.004602607s : 13718 calls. qps=457.1965234693568
06:26:59 I periodic.go:533> T023 ended after 30.004628637s : 13793 calls. qps=459.69574117612166
06:26:59 I periodic.go:533> T025 ended after 30.004668494s : 13748 calls. qps=458.1953639230899
06:26:59 I periodic.go:533> T015 ended after 30.004709451s : 13786 calls. qps=459.46120633207926
06:26:59 I periodic.go:533> T022 ended after 30.004751379s : 13762 calls. qps=458.66069097415937
06:26:59 I periodic.go:533> T003 ended after 30.005757508s : 13843 calls. qps=461.3447934553641
06:26:59 I periodic.go:533> T020 ended after 30.005822848s : 13798 calls. qps=459.8440799272961
06:26:59 I periodic.go:533> T024 ended after 30.005866768s : 13756 calls. qps=458.44368057616646
06:26:59 I periodic.go:533> T008 ended after 30.005895651s : 13859 calls. qps=461.8758980299968
06:26:59 I periodic.go:533> T004 ended after 30.005927019s : 13731 calls. qps=457.60959130859106
06:26:59 I periodic.go:533> T009 ended after 30.007022686s : 13802 calls. qps=459.9589950801559
06:26:59 I periodic.go:533> T026 ended after 30.007076035s : 13756 calls. qps=458.42520557334933
06:26:59 I periodic.go:533> T028 ended after 30.007106246s : 13727 calls. qps=457.4583062913583
06:26:59 I periodic.go:533> T011 ended after 30.007134619s : 13733 calls. qps=457.6578261925916
06:26:59 I periodic.go:533> T021 ended after 30.007180771s : 13765 calls. qps=458.7235337117368
06:26:59 I periodic.go:533> T027 ended after 30.007213966s : 13814 calls. qps=460.3559669235572
06:26:59 I periodic.go:533> T006 ended after 30.007252876s : 13776 calls. qps=459.0890094780431
06:26:59 I periodic.go:533> T001 ended after 30.007280589s : 13763 calls. qps=458.65535729502955
Ended after 30.007298866s : 440772 calls. qps=14689
Aggregated Function Time : count 440772 avg 0.0021775758 +/- 0.001316 min 0.000267265 max 0.069997605 sum 959.814452
# range, mid point, percentile, count
>= 0.000267265 <= 0.0003 , 0.000283632 , 0.00, 2
> 0.0003 <= 0.0004 , 0.00035 , 0.00, 5
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 19
> 0.0005 <= 0.0006 , 0.00055 , 0.04, 143
> 0.0006 <= 0.0007 , 0.00065 , 0.25, 935
> 0.0007 <= 0.0008 , 0.00075 , 0.75, 2215
> 0.0008 <= 0.0009 , 0.00085 , 1.57, 3619
> 0.0009 <= 0.001 , 0.00095 , 2.55, 4293
> 0.001 <= 0.0011 , 0.00105 , 3.89, 5910
> 0.0011 <= 0.0012 , 0.00115 , 6.13, 9892
> 0.0012 <= 0.0014 , 0.0013 , 16.48, 45617
> 0.0014 <= 0.0016 , 0.0015 , 30.28, 60823
> 0.0016 <= 0.0018 , 0.0017 , 44.81, 64051
> 0.0018 <= 0.002 , 0.0019 , 58.77, 61520
> 0.002 <= 0.0025 , 0.00225 , 78.34, 86271
> 0.0025 <= 0.003 , 0.00275 , 85.93, 33440
> 0.003 <= 0.0035 , 0.00325 , 89.74, 16783
> 0.0035 <= 0.004 , 0.00375 , 92.58, 12523
> 0.004 <= 0.0045 , 0.00425 , 95.04, 10862
> 0.0045 <= 0.005 , 0.00475 , 97.04, 8782
> 0.005 <= 0.006 , 0.0055 , 98.83, 7893
> 0.006 <= 0.007 , 0.0065 , 99.43, 2651
> 0.007 <= 0.008 , 0.0075 , 99.68, 1102
> 0.008 <= 0.009 , 0.0085 , 99.79, 501
> 0.009 <= 0.01 , 0.0095 , 99.87, 357
> 0.01 <= 0.012 , 0.011 , 99.94, 283
> 0.012 <= 0.014 , 0.013 , 99.96, 123
> 0.014 <= 0.016 , 0.015 , 99.97, 16
> 0.016 <= 0.018 , 0.017 , 99.97, 12
> 0.018 <= 0.02 , 0.019 , 99.97, 1
> 0.035 <= 0.04 , 0.0375 , 99.99, 94
> 0.04 <= 0.045 , 0.0425 , 99.99, 2
> 0.045 <= 0.05 , 0.0475 , 99.99, 1
> 0.05 <= 0.06 , 0.055 , 100.00, 9
> 0.06 <= 0.0699976 , 0.0649988 , 100.00, 22
# target 50% 0.00187432
# target 75% 0.00241459
# target 90% 0.00354619
# target 99% 0.00628905
# target 99.9% 0.0108638
Ping SERVING : 440772
All done 440772 calls (plus 32 warmup) 2.178 ms avg, 14688.8 qps
Successfully wrote 5717 bytes of Json data to /data/2018-12-08-062629_grpc_baseline_0qps_30s_echo_0_3.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-linkerd:8079
06:26:59 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:27:29 I periodic.go:533> T012 ended after 30.000508631s : 7254 calls. qps=241.79590050364436
06:27:29 I periodic.go:533> T021 ended after 30.004934321s : 7245 calls. qps=241.4602852481278
06:27:29 I periodic.go:533> T008 ended after 30.004980569s : 7209 calls. qps=240.26011226443063
06:27:29 I periodic.go:533> T000 ended after 30.005019241s : 7181 calls. qps=239.32662539964676
06:27:29 I periodic.go:533> T031 ended after 30.005033973s : 7285 calls. qps=242.79259295474887
06:27:29 I periodic.go:533> T001 ended after 30.005047624s : 7240 calls. qps=241.29273483335433
06:27:29 I periodic.go:533> T026 ended after 30.005059552s : 7231 calls. qps=240.99268949852876
06:27:29 I periodic.go:533> T004 ended after 30.005741383s : 7077 calls. qps=235.85486223011748
06:27:29 I periodic.go:533> T023 ended after 30.005761345s : 7234 calls. qps=241.08703381410567
06:27:29 I periodic.go:533> T009 ended after 30.005773885s : 7106 calls. qps=236.82108740919082
06:27:29 I periodic.go:533> T005 ended after 30.005785024s : 7128 calls. qps=237.5541914433733
06:27:29 I periodic.go:533> T006 ended after 30.005796496s : 7191 calls. qps=239.65369494386243
06:27:29 I periodic.go:533> T025 ended after 30.005807816s : 7137 calls. qps=237.85395293354964
06:27:29 I periodic.go:533> T018 ended after 30.005818762s : 7171 calls. qps=238.9869797214634
06:27:29 I periodic.go:533> T020 ended after 30.00582902s : 7229 calls. qps=240.91985577807574
06:27:29 I periodic.go:533> T029 ended after 30.005840636s : 7236 calls. qps=241.1530504270722
06:27:29 I periodic.go:533> T024 ended after 30.005852584s : 7107 calls. qps=236.85379310933698
06:27:29 I periodic.go:533> T027 ended after 30.005863313s : 7122 calls. qps=237.3536107162897
06:27:29 I periodic.go:533> T016 ended after 30.005874332s : 7164 calls. qps=238.75324947155084
06:27:29 I periodic.go:533> T030 ended after 30.00588475s : 7151 calls. qps=238.3199182287068
06:27:29 I periodic.go:533> T002 ended after 30.005895533s : 7085 calls. qps=236.12026483955566
06:27:29 I periodic.go:533> T013 ended after 30.005919259s : 7197 calls. qps=239.8526749964951
06:27:29 I periodic.go:533> T028 ended after 30.005958975s : 7234 calls. qps=241.08544592849495
06:27:29 I periodic.go:533> T007 ended after 30.005970857s : 7126 calls. qps=237.48606682185047
06:27:29 I periodic.go:533> T010 ended after 30.005990886s : 7204 calls. qps=240.0853891934359
06:27:29 I periodic.go:533> T003 ended after 30.006003037s : 7247 calls. qps=241.51833854925036
06:27:29 I periodic.go:533> T014 ended after 30.006013988s : 7151 calls. qps=238.31889176815778
06:27:29 I periodic.go:533> T022 ended after 30.006025598s : 7106 calls. qps=236.8191007766666
06:27:29 I periodic.go:533> T019 ended after 30.006049868s : 7105 calls. qps=236.785582616029
06:27:29 I periodic.go:533> T011 ended after 30.006061452s : 7164 calls. qps=238.75176058877585
06:27:29 I periodic.go:533> T017 ended after 30.006072852s : 7157 calls. qps=238.51838377186914
06:27:29 I periodic.go:533> T015 ended after 30.006083494s : 7192 calls. qps=239.68472931291112
Ended after 30.00609898s : 229666 calls. qps=7654
Aggregated Function Time : count 229666 avg 0.0041793931 +/- 0.001495 min 0.000591959 max 0.043971411 sum 959.8645
# range, mid point, percentile, count
>= 0.000591959 <= 0.0006 , 0.00059598 , 0.00, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.00, 8
> 0.0007 <= 0.0008 , 0.00075 , 0.01, 15
> 0.0008 <= 0.0009 , 0.00085 , 0.02, 16
> 0.0009 <= 0.001 , 0.00095 , 0.03, 30
> 0.001 <= 0.0011 , 0.00105 , 0.05, 56
> 0.0011 <= 0.0012 , 0.00115 , 0.08, 58
> 0.0012 <= 0.0014 , 0.0013 , 0.19, 257
> 0.0014 <= 0.0016 , 0.0015 , 0.37, 404
> 0.0016 <= 0.0018 , 0.0017 , 0.72, 810
> 0.0018 <= 0.002 , 0.0019 , 1.39, 1531
> 0.002 <= 0.0025 , 0.00225 , 6.32, 11318
> 0.0025 <= 0.003 , 0.00275 , 16.27, 22863
> 0.003 <= 0.0035 , 0.00325 , 32.83, 38036
> 0.0035 <= 0.004 , 0.00375 , 52.59, 45385
> 0.004 <= 0.0045 , 0.00425 , 68.17, 35775
> 0.0045 <= 0.005 , 0.00475 , 79.61, 26263
> 0.005 <= 0.006 , 0.0055 , 91.82, 28061
> 0.006 <= 0.007 , 0.0065 , 95.65, 8796
> 0.007 <= 0.008 , 0.0075 , 97.78, 4886
> 0.008 <= 0.009 , 0.0085 , 98.84, 2423
> 0.009 <= 0.01 , 0.0095 , 99.35, 1186
> 0.01 <= 0.012 , 0.011 , 99.78, 992
> 0.012 <= 0.014 , 0.013 , 99.92, 320
> 0.014 <= 0.016 , 0.015 , 99.96, 79
> 0.016 <= 0.018 , 0.017 , 99.98, 40
> 0.018 <= 0.02 , 0.019 , 99.99, 25
> 0.04 <= 0.0439714 , 0.0419857 , 100.00, 32
# target 50% 0.00393439
# target 75% 0.00479864
# target 90% 0.00585077
# target 99% 0.00931816
# target 99.9% 0.0136646
Ping SERVING : 229666
All done 229666 calls (plus 32 warmup) 4.179 ms avg, 7654.0 qps
Successfully wrote 4759 bytes of Json data to /data/2018-12-08-062659_grpc_linkerd_0qps_30s_echo_0_3.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8079
06:27:29 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:27:59 I periodic.go:533> T022 ended after 30.000265038s : 2941 calls. qps=98.03246725569812
06:27:59 I periodic.go:533> T005 ended after 30.00758275s : 2962 calls. qps=98.70838396671587
06:27:59 I periodic.go:533> T027 ended after 30.007628594s : 3012 calls. qps=100.3744761291216
06:27:59 I periodic.go:533> T029 ended after 30.007656979s : 2895 calls. qps=96.47537633564603
06:27:59 I periodic.go:533> T030 ended after 30.007670338s : 2984 calls. qps=99.44124173549163
06:27:59 I periodic.go:533> T012 ended after 30.007684565s : 2957 calls. qps=98.5414250671293
06:27:59 I periodic.go:533> T021 ended after 30.007698472s : 2931 calls. qps=97.67493507490747
06:27:59 I periodic.go:533> T011 ended after 30.00771101s : 2933 calls. qps=97.74154379927828
06:27:59 I periodic.go:533> T023 ended after 30.007736446s : 2914 calls. qps=97.10829089837708
06:27:59 I periodic.go:533> T031 ended after 30.007748943s : 2971 calls. qps=99.00775981708732
06:27:59 I periodic.go:533> T009 ended after 30.00776053s : 2949 calls. qps=98.27457790633069
06:27:59 I periodic.go:533> T013 ended after 30.007772162s : 2989 calls. qps=99.60752780524928
06:27:59 I periodic.go:533> T015 ended after 30.007783865s : 2984 calls. qps=99.44086552424254
06:27:59 I periodic.go:533> T002 ended after 30.007794617s : 2987 calls. qps=99.54080391858609
06:27:59 I periodic.go:533> T007 ended after 30.007823644s : 2948 calls. qps=98.24104656751561
06:27:59 I periodic.go:533> T017 ended after 30.007835518s : 2982 calls. qps=99.37404509603057
06:27:59 I periodic.go:533> T000 ended after 30.007846955s : 2908 calls. qps=96.90798557993378
06:27:59 I periodic.go:533> T026 ended after 30.007859304s : 2882 calls. qps=96.0415060202523
06:27:59 I periodic.go:533> T003 ended after 30.007900669s : 2925 calls. qps=97.47432958619808
06:27:59 I periodic.go:533> T016 ended after 30.007913818s : 2930 calls. qps=97.64090958707246
06:27:59 I periodic.go:533> T001 ended after 30.007926296s : 2903 calls. qps=96.74110671176116
06:27:59 I periodic.go:533> T025 ended after 30.007943565s : 2939 calls. qps=97.94073338060811
06:27:59 I periodic.go:533> T024 ended after 30.007955463s : 2959 calls. qps=98.60718447307968
06:27:59 I periodic.go:533> T006 ended after 30.007981413s : 2898 calls. qps=96.57430668577175
06:27:59 I periodic.go:533> T019 ended after 30.007993366s : 2993 calls. qps=99.74009136482825
06:27:59 I periodic.go:533> T014 ended after 30.008004422s : 2917 calls. qps=97.20739703242103
06:27:59 I periodic.go:533> T010 ended after 30.008015933s : 2960 calls. qps=98.64031019607897
06:27:59 I periodic.go:533> T028 ended after 30.008030982s : 2950 calls. qps=98.30701660397266
06:27:59 I periodic.go:533> T018 ended after 30.008042272s : 2922 calls. qps=97.37389642130933
06:27:59 I periodic.go:533> T004 ended after 30.008068575s : 2900 calls. qps=96.64067491554644
06:27:59 I periodic.go:533> T008 ended after 30.008079746s : 2945 calls. qps=98.14023506094425
06:27:59 I periodic.go:533> T020 ended after 30.008091047s : 2955 calls. qps=98.4734415585366
Ended after 30.008107432s : 94225 calls. qps=3140
Aggregated Function Time : count 94225 avg 0.010188742 +/- 0.003662 min 0.000728679 max 0.046335643 sum 960.034206
# range, mid point, percentile, count
>= 0.000728679 <= 0.0008 , 0.00076434 , 0.00, 2
> 0.0008 <= 0.0009 , 0.00085 , 0.00, 2
> 0.0009 <= 0.001 , 0.00095 , 0.01, 6
> 0.001 <= 0.0011 , 0.00105 , 0.04, 32
> 0.0011 <= 0.0012 , 0.00115 , 0.10, 49
> 0.0012 <= 0.0014 , 0.0013 , 0.20, 96
> 0.0014 <= 0.0016 , 0.0015 , 0.24, 38
> 0.0016 <= 0.0018 , 0.0017 , 0.27, 33
> 0.0018 <= 0.002 , 0.0019 , 0.34, 58
> 0.002 <= 0.0025 , 0.00225 , 1.03, 656
> 0.0025 <= 0.003 , 0.00275 , 1.60, 536
> 0.003 <= 0.0035 , 0.00325 , 2.44, 793
> 0.0035 <= 0.004 , 0.00375 , 3.90, 1371
> 0.004 <= 0.0045 , 0.00425 , 4.58, 642
> 0.0045 <= 0.005 , 0.00475 , 5.28, 663
> 0.005 <= 0.006 , 0.0055 , 8.64, 3165
> 0.006 <= 0.007 , 0.0065 , 11.65, 2832
> 0.007 <= 0.008 , 0.0075 , 15.88, 3993
> 0.008 <= 0.009 , 0.0085 , 27.04, 10508
> 0.009 <= 0.01 , 0.0095 , 57.11, 28341
> 0.01 <= 0.012 , 0.011 , 83.33, 24701
> 0.012 <= 0.014 , 0.013 , 92.29, 8442
> 0.014 <= 0.016 , 0.015 , 94.85, 2417
> 0.016 <= 0.018 , 0.017 , 95.75, 843
> 0.018 <= 0.02 , 0.019 , 96.39, 608
> 0.02 <= 0.025 , 0.0225 , 99.30, 2736
> 0.025 <= 0.03 , 0.0275 , 99.89, 560
> 0.03 <= 0.035 , 0.0325 , 99.94, 41
> 0.035 <= 0.04 , 0.0375 , 99.97, 30
> 0.04 <= 0.045 , 0.0425 , 99.99, 17
> 0.045 <= 0.0463356 , 0.0456678 , 100.00, 14
# target 50% 0.00976347
# target 75% 0.0113645
# target 90% 0.0134891
# target 99% 0.0244878
# target 99.9% 0.0309482
Ping SERVING : 94225
All done 94225 calls (plus 32 warmup) 10.189 ms avg, 3140.0 qps
Successfully wrote 5137 bytes of Json data to /data/2018-12-08-062729_grpc_istio_0qps_30s_echo_0_3.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-baseline:8080/echo
06:27:59 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
06:27:59 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:28:29 I periodic.go:533> T028 ended after 30.000001955s : 28866 calls. qps=962.1999372966375
06:28:29 I periodic.go:533> T001 ended after 30.000686664s : 29233 calls. qps=974.4110302341445
06:28:29 I periodic.go:533> T014 ended after 30.002766315s : 29179 calls. qps=972.5436545966712
06:28:29 I periodic.go:533> T003 ended after 30.002815168s : 28705 calls. qps=956.7435535387957
06:28:29 I periodic.go:533> T002 ended after 30.002827288s : 29210 calls. qps=973.5749141109411
06:28:29 I periodic.go:533> T027 ended after 30.002840231s : 29215 calls. qps=973.7411450071324
06:28:29 I periodic.go:533> T020 ended after 30.002850839s : 28882 calls. qps=962.6418554351831
06:28:29 I periodic.go:533> T006 ended after 30.00286117s : 28730 calls. qps=957.5753404721034
06:28:29 I periodic.go:533> T013 ended after 30.002896191s : 29110 calls. qps=970.2396666869832
06:28:29 I periodic.go:533> T023 ended after 30.002909282s : 28889 calls. qps=962.8732910022069
06:28:29 I periodic.go:533> T025 ended after 30.002937491s : 28917 calls. qps=963.8056276547671
06:28:29 I periodic.go:533> T018 ended after 30.002949s : 28856 calls. qps=961.7721244668315
06:28:29 I periodic.go:533> T011 ended after 30.005286451s : 28925 calls. qps=963.996795939137
06:28:29 I periodic.go:533> T010 ended after 30.005331232s : 29477 calls. qps=982.3920879954644
06:28:29 I periodic.go:533> T026 ended after 30.005357532s : 28773 calls. qps=958.9287502844877
06:28:29 I periodic.go:533> T017 ended after 30.005395072s : 28935 calls. qps=964.3265796223808
06:28:29 I periodic.go:533> T030 ended after 30.005407552s : 29178 calls. qps=972.4247187589075
06:28:29 I periodic.go:533> T000 ended after 30.005419824s : 28887 calls. qps=962.7260731374461
06:28:29 I periodic.go:533> T031 ended after 30.005430781s : 29275 calls. qps=975.6567140684905
06:28:29 I periodic.go:533> T004 ended after 30.005441533s : 29312 calls. qps=976.8894741229736
06:28:29 I periodic.go:533> T024 ended after 30.005452642s : 29237 calls. qps=974.3895667507991
06:28:29 I periodic.go:533> T021 ended after 30.005478154s : 29281 calls. qps=975.8551371758954
06:28:29 I periodic.go:533> T012 ended after 30.005490568s : 29251 calls. qps=974.8549164263743
06:28:29 I periodic.go:533> T016 ended after 30.005501475s : 29538 calls. qps=984.4194746956816
06:28:29 I periodic.go:533> T007 ended after 30.005513065s : 29129 calls. qps=970.788266039603
06:28:29 I periodic.go:533> T015 ended after 30.005523783s : 28726 calls. qps=957.3570589117684
06:28:29 I periodic.go:533> T019 ended after 30.005534827s : 29237 calls. qps=974.3868979029679
06:28:29 I periodic.go:533> T022 ended after 30.005560534s : 29268 calls. qps=975.4192049448883
06:28:29 I periodic.go:533> T009 ended after 30.005572506s : 29190 calls. qps=972.8192986207173
06:28:29 I periodic.go:533> T008 ended after 30.005592109s : 28935 calls. qps=964.3202472022247
06:28:29 I periodic.go:533> T005 ended after 30.005603348s : 28885 calls. qps=962.6535305754919
06:28:29 I periodic.go:533> T029 ended after 30.005616335s : 29283 calls. qps=975.9172973841866
Ended after 30.005650486s : 930514 calls. qps=31011
Aggregated Function Time : count 930514 avg 0.0010312241 +/- 0.0006617 min 7.1691e-05 max 0.015691978 sum 959.568448
# range, mid point, percentile, count
>= 7.1691e-05 <= 0.0001 , 8.58455e-05 , 0.26, 2415
> 0.0001 <= 0.0002 , 0.00015 , 3.16, 26954
> 0.0002 <= 0.0003 , 0.00025 , 7.59, 41291
> 0.0003 <= 0.0004 , 0.00035 , 13.08, 51019
> 0.0004 <= 0.0005 , 0.00045 , 19.70, 61648
> 0.0005 <= 0.0006 , 0.00055 , 26.96, 67558
> 0.0006 <= 0.0007 , 0.00065 , 34.25, 67815
> 0.0007 <= 0.0008 , 0.00075 , 41.30, 65589
> 0.0008 <= 0.0009 , 0.00085 , 47.97, 62058
> 0.0009 <= 0.001 , 0.00095 , 54.52, 60929
> 0.001 <= 0.0011 , 0.00105 , 60.75, 58042
> 0.0011 <= 0.0012 , 0.00115 , 66.71, 55390
> 0.0012 <= 0.0014 , 0.0013 , 77.33, 98878
> 0.0014 <= 0.0016 , 0.0015 , 85.75, 78303
> 0.0016 <= 0.0018 , 0.0017 , 91.10, 49842
> 0.0018 <= 0.002 , 0.0019 , 94.03, 27225
> 0.002 <= 0.0025 , 0.00225 , 97.58, 33074
> 0.0025 <= 0.003 , 0.00275 , 98.71, 10441
> 0.003 <= 0.0035 , 0.00325 , 99.11, 3726
> 0.0035 <= 0.004 , 0.00375 , 99.33, 2079
> 0.004 <= 0.0045 , 0.00425 , 99.53, 1843
> 0.0045 <= 0.005 , 0.00475 , 99.72, 1750
> 0.005 <= 0.006 , 0.0055 , 99.95, 2153
> 0.006 <= 0.007 , 0.0065 , 99.99, 373
> 0.007 <= 0.008 , 0.0075 , 99.99, 66
> 0.008 <= 0.009 , 0.0085 , 100.00, 13
> 0.009 <= 0.01 , 0.0095 , 100.00, 8
> 0.014 <= 0.015692 , 0.014846 , 100.00, 32
# target 50% 0.000931036
# target 75% 0.00135611
# target 90% 0.0017588
# target 99% 0.0033674
# target 99.9% 0.00579632
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 930514 (100.0 %)
Response Header Sizes : count 930514 avg 75 +/- 0 min 75 max 75 sum 69788550
Response Body/Total Sizes : count 930514 avg 75 +/- 0 min 75 max 75 sum 69788550
All done 930514 calls (plus 32 warmup) 1.031 ms avg, 31011.3 qps
Successfully wrote 5340 bytes of Json data to /data/2018-12-08-062759_http_baseline_0qps_30s_echo_1_3.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-linkerd:8080/echo
06:28:29 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 32 threads at -1.0 qps
06:28:29 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:28:59 I periodic.go:533> T025 ended after 30.002063272s : 10211 calls. qps=340.3432593094226
06:28:59 I periodic.go:533> T018 ended after 30.002498999s : 10170 calls. qps=338.9717636633859
06:29:00 I periodic.go:533> T016 ended after 30.004471892s : 10162 calls. qps=338.68284822934885
06:29:00 I periodic.go:533> T008 ended after 30.006636269s : 10169 calls. qps=338.8917007837244
06:29:00 I periodic.go:533> T031 ended after 30.006735338s : 10156 calls. qps=338.45734584590485
06:29:00 I periodic.go:533> T010 ended after 30.006751725s : 10206 calls. qps=340.1234526660516
06:29:00 I periodic.go:533> T022 ended after 30.006763206s : 10175 calls. qps=339.0902220991786
06:29:00 I periodic.go:533> T020 ended after 30.006776093s : 10160 calls. qps=338.59018937959587
06:29:00 I periodic.go:533> T005 ended after 30.006790883s : 10180 calls. qps=339.25653828471746
06:29:00 I periodic.go:533> T017 ended after 30.006822246s : 10150 calls. qps=338.2564110517576
06:29:00 I periodic.go:533> T012 ended after 30.006836132s : 10143 calls. qps=338.02297434427834
06:29:00 I periodic.go:533> T023 ended after 30.006850597s : 10104 calls. qps=336.7231081895069
06:29:00 I periodic.go:533> T028 ended after 30.006865771s : 10182 calls. qps=339.32234301658883
06:29:00 I periodic.go:533> T002 ended after 30.006881462s : 10108 calls. qps=336.8560645930678
06:29:00 I periodic.go:533> T015 ended after 30.006911223s : 10184 calls. qps=339.38848035095543
06:29:00 I periodic.go:533> T009 ended after 30.006922087s : 10084 calls. qps=336.05579308544696
06:29:00 I periodic.go:533> T004 ended after 30.006932696s : 10113 calls. qps=337.02211760377924
06:29:00 I periodic.go:533> T000 ended after 30.006944554s : 10155 calls. qps=338.42166041681554
06:29:00 I periodic.go:533> T027 ended after 30.006955428s : 10200 calls. qps=339.921190087889
06:29:00 I periodic.go:533> T013 ended after 30.006966285s : 10178 calls. qps=339.1879040130697
06:29:00 I periodic.go:533> T007 ended after 30.007533681s : 10174 calls. qps=339.04819063627065
06:29:00 I periodic.go:533> T011 ended after 30.00759838s : 10123 calls. qps=337.3478900846313
06:29:00 I periodic.go:533> T006 ended after 30.007610102s : 10137 calls. qps=337.81430662231816
06:29:00 I periodic.go:533> T026 ended after 30.007628216s : 10129 calls. qps=337.54750382435225
06:29:00 I periodic.go:533> T021 ended after 30.00764019s : 10131 calls. qps=337.61401882498376
06:29:00 I periodic.go:533> T030 ended after 30.007668013s : 10201 calls. qps=339.9464428752243
06:29:00 I periodic.go:533> T003 ended after 30.007680071s : 10162 calls. qps=338.6466389922876
06:29:00 I periodic.go:533> T014 ended after 30.007691511s : 10130 calls. qps=337.5801166273193
06:29:00 I periodic.go:533> T029 ended after 30.00770234s : 10129 calls. qps=337.54667002605305
06:29:00 I periodic.go:533> T019 ended after 30.007747714s : 10112 calls. qps=336.97963927103683
06:29:00 I periodic.go:533> T024 ended after 30.007759985s : 10117 calls. qps=337.14612503756337
06:29:00 I periodic.go:533> T001 ended after 30.007774689s : 10185 calls. qps=339.41203923173725
Ended after 30.007793347s : 324920 calls. qps=10828
Aggregated Function Time : count 324920 avg 0.0029541283 +/- 0.0009924 min 0.000297063 max 0.059065378 sum 959.855383
# range, mid point, percentile, count
>= 0.000297063 <= 0.0003 , 0.000298532 , 0.00, 1
> 0.0003 <= 0.0004 , 0.00035 , 0.00, 3
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 27
> 0.0005 <= 0.0006 , 0.00055 , 0.05, 120
> 0.0006 <= 0.0007 , 0.00065 , 0.08, 120
> 0.0007 <= 0.0008 , 0.00075 , 0.14, 173
> 0.0008 <= 0.0009 , 0.00085 , 0.22, 275
> 0.0009 <= 0.001 , 0.00095 , 0.31, 296
> 0.001 <= 0.0011 , 0.00105 , 0.39, 250
> 0.0011 <= 0.0012 , 0.00115 , 0.49, 315
> 0.0012 <= 0.0014 , 0.0013 , 0.96, 1535
> 0.0014 <= 0.0016 , 0.0015 , 1.81, 2756
> 0.0016 <= 0.0018 , 0.0017 , 3.00, 3878
> 0.0018 <= 0.002 , 0.0019 , 5.36, 7668
> 0.002 <= 0.0025 , 0.00225 , 22.73, 56432
> 0.0025 <= 0.003 , 0.00275 , 62.49, 129197
> 0.003 <= 0.0035 , 0.00325 , 87.83, 82346
> 0.0035 <= 0.004 , 0.00375 , 93.89, 19666
> 0.004 <= 0.0045 , 0.00425 , 96.12, 7259
> 0.0045 <= 0.005 , 0.00475 , 97.15, 3332
> 0.005 <= 0.006 , 0.0055 , 98.47, 4292
> 0.006 <= 0.007 , 0.0065 , 99.37, 2917
> 0.007 <= 0.008 , 0.0075 , 99.74, 1206
> 0.008 <= 0.009 , 0.0085 , 99.88, 454
> 0.009 <= 0.01 , 0.0095 , 99.96, 287
> 0.01 <= 0.012 , 0.011 , 99.99, 83
> 0.05 <= 0.0590654 , 0.0545327 , 100.00, 32
# target 50% 0.00284293
# target 75% 0.00324679
# target 90% 0.00367889
# target 99% 0.00659301
# target 99.9% 0.00926857
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 324920 (100.0 %)
Response Header Sizes : count 324920 avg 75 +/- 0 min 75 max 75 sum 24369000
Response Body/Total Sizes : count 324920 avg 75 +/- 0 min 75 max 75 sum 24369000
All done 324920 calls (plus 32 warmup) 2.954 ms avg, 10827.9 qps
Successfully wrote 5213 bytes of Json data to /data/2018-12-08-062829_http_linkerd_0qps_30s_echo_1_3.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-istio:8080/echo
06:29:00 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 32 threads at -1.0 qps
06:29:00 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:29:30 I periodic.go:533> T029 ended after 30.000316052s : 3321 calls. qps=110.6988337804062
06:29:30 I periodic.go:533> T006 ended after 30.001564118s : 3336 calls. qps=111.19420263820525
06:29:30 I periodic.go:533> T007 ended after 30.00176012s : 3313 calls. qps=110.42685451616097
06:29:30 I periodic.go:533> T026 ended after 30.001834498s : 3320 calls. qps=110.65989982116993
06:29:30 I periodic.go:533> T005 ended after 30.001911253s : 3359 calls. qps=111.95953390016516
06:29:30 I periodic.go:533> T023 ended after 30.001957609s : 3322 calls. qps=110.72610805247804
06:29:30 I periodic.go:533> T017 ended after 30.002011413s : 3334 calls. qps=111.12588266516569
06:29:30 I periodic.go:533> T008 ended after 30.00207305s : 3327 calls. qps=110.89233715468205
06:29:30 I periodic.go:533> T018 ended after 30.002106228s : 3330 calls. qps=110.99220750349248
06:29:30 I periodic.go:533> T021 ended after 30.002165678s : 3326 calls. qps=110.8586638610189
06:29:30 I periodic.go:533> T003 ended after 30.007447908s : 3312 calls. qps=110.3725985013547
06:29:30 I periodic.go:533> T022 ended after 30.007531558s : 3356 calls. qps=111.8385893725834
06:29:30 I periodic.go:533> T024 ended after 30.007545037s : 3333 calls. qps=111.07206523860361
06:29:30 I periodic.go:533> T016 ended after 30.007574108s : 3345 calls. qps=111.47185667062054
06:29:30 I periodic.go:533> T012 ended after 30.00758785s : 3356 calls. qps=111.83837957171889
06:29:30 I periodic.go:533> T015 ended after 30.007598952s : 3338 calls. qps=111.23849013509704
06:29:30 I periodic.go:533> T025 ended after 30.007609637s : 3354 calls. qps=111.77164861090597
06:29:30 I periodic.go:533> T010 ended after 30.00762112s : 3385 calls. qps=112.80467673406828
06:29:30 I periodic.go:533> T009 ended after 30.007631623s : 3357 calls. qps=111.87154128574927
06:29:30 I periodic.go:533> T020 ended after 30.007665398s : 3333 calls. qps=111.07161972760944
06:29:30 I periodic.go:533> T030 ended after 30.007677151s : 3331 calls. qps=111.00492661388805
06:29:30 I periodic.go:533> T014 ended after 30.007689018s : 3322 calls. qps=110.70495958576852
06:29:30 I periodic.go:533> T011 ended after 30.007699913s : 3330 calls. qps=110.97151763229178
06:29:30 I periodic.go:533> T004 ended after 30.007711338s : 3327 calls. qps=110.87150107935366
06:29:30 I periodic.go:533> T002 ended after 30.007736607s : 3356 calls. qps=111.83782515663428
06:29:30 I periodic.go:533> T027 ended after 30.007756969s : 3363 calls. qps=112.07102228514454
06:29:30 I periodic.go:533> T013 ended after 30.007769255s : 3366 calls. qps=112.17095050939668
06:29:30 I periodic.go:533> T028 ended after 30.007780053s : 3319 calls. qps=110.60464966545187
06:29:30 I periodic.go:533> T019 ended after 30.007790203s : 3356 calls. qps=111.83762540650152
06:29:30 I periodic.go:533> T001 ended after 30.007800636s : 3341 calls. qps=111.33771650001708
06:29:30 I periodic.go:533> T031 ended after 30.007826763s : 3327 calls. qps=110.87107461251509
06:29:30 I periodic.go:533> T000 ended after 30.007839443s : 3305 calls. qps=110.13788601068262
Ended after 30.007857393s : 106800 calls. qps=3559.1
Aggregated Function Time : count 106800 avg 0.0089880695 +/- 0.004536 min 0.000906285 max 0.060846478 sum 959.925822
# range, mid point, percentile, count
>= 0.000906285 <= 0.001 , 0.000953142 , 0.00, 2
> 0.001 <= 0.0011 , 0.00105 , 0.01, 4
> 0.0011 <= 0.0012 , 0.00115 , 0.01, 8
> 0.0012 <= 0.0014 , 0.0013 , 0.05, 37
> 0.0014 <= 0.0016 , 0.0015 , 0.16, 121
> 0.0016 <= 0.0018 , 0.0017 , 0.34, 188
> 0.0018 <= 0.002 , 0.0019 , 0.61, 293
> 0.002 <= 0.0025 , 0.00225 , 1.52, 971
> 0.0025 <= 0.003 , 0.00275 , 2.81, 1381
> 0.003 <= 0.0035 , 0.00325 , 4.71, 2029
> 0.0035 <= 0.004 , 0.00375 , 7.46, 2930
> 0.004 <= 0.0045 , 0.00425 , 10.68, 3441
> 0.0045 <= 0.005 , 0.00475 , 14.62, 4207
> 0.005 <= 0.006 , 0.0055 , 25.05, 11141
> 0.006 <= 0.007 , 0.0065 , 37.10, 12869
> 0.007 <= 0.008 , 0.0075 , 48.11, 11762
> 0.008 <= 0.009 , 0.0085 , 58.29, 10873
> 0.009 <= 0.01 , 0.0095 , 67.54, 9873
> 0.01 <= 0.012 , 0.011 , 81.53, 14945
> 0.012 <= 0.014 , 0.013 , 89.67, 8688
> 0.014 <= 0.016 , 0.015 , 93.78, 4393
> 0.016 <= 0.018 , 0.017 , 95.60, 1945
> 0.018 <= 0.02 , 0.019 , 96.86, 1349
> 0.02 <= 0.025 , 0.0225 , 98.99, 2276
> 0.025 <= 0.03 , 0.0275 , 99.67, 723
> 0.03 <= 0.035 , 0.0325 , 99.85, 191
> 0.035 <= 0.04 , 0.0375 , 99.90, 48
> 0.04 <= 0.045 , 0.0425 , 99.96, 70
> 0.045 <= 0.05 , 0.0475 , 99.99, 31
> 0.05 <= 0.06 , 0.055 , 100.00, 10
> 0.06 <= 0.0608465 , 0.0604232 , 100.00, 1
# target 50% 0.00818541
# target 75% 0.0110666
# target 90% 0.0141625
# target 99% 0.0250415
# target 99.9% 0.0403714
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 106800 (100.0 %)
Response Header Sizes : count 106800 avg 209.1428 +/- 0.3499 min 209 max 210 sum 22336451
Response Body/Total Sizes : count 106800 avg 209.1428 +/- 0.3499 min 209 max 210 sum 22336451
All done 106800 calls (plus 32 warmup) 8.988 ms avg, 3559.1 qps
Successfully wrote 5764 bytes of Json data to /data/2018-12-08-062900_http_istio_0qps_30s_echo_1_3.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-baseline:8079
06:29:30 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:30:00 I periodic.go:533> T000 ended after 30.002038787s : 13780 calls. qps=459.30211936033254
06:30:00 I periodic.go:533> T011 ended after 30.002163433s : 13830 calls. qps=460.966757643487
06:30:00 I periodic.go:533> T027 ended after 30.002223937s : 13789 calls. qps=459.5992626731523
06:30:00 I periodic.go:533> T001 ended after 30.002266895s : 13836 calls. qps=461.1651529006905
06:30:00 I periodic.go:533> T013 ended after 30.002299922s : 13808 calls. qps=460.2313834572032
06:30:00 I periodic.go:533> T026 ended after 30.002346812s : 13805 calls. qps=460.1306719939132
06:30:00 I periodic.go:533> T007 ended after 30.00237517s : 13806 calls. qps=460.1635677766241
06:30:00 I periodic.go:533> T016 ended after 30.002402957s : 13773 calls. qps=459.06322969329216
06:30:00 I periodic.go:533> T010 ended after 30.00244918s : 13735 calls. qps=457.7959591764235
06:30:00 I periodic.go:533> T023 ended after 30.002475035s : 13728 calls. qps=457.5622505805045
06:30:00 I periodic.go:533> T014 ended after 30.002519115s : 13764 calls. qps=458.7614775693478
06:30:00 I periodic.go:533> T003 ended after 30.002545668s : 13754 calls. qps=458.4277665034834
06:30:00 I periodic.go:533> T022 ended after 30.002569411s : 13774 calls. qps=459.0940132930737
06:30:00 I periodic.go:533> T015 ended after 30.002611726s : 13773 calls. qps=459.06003536566914
06:30:00 I periodic.go:533> T025 ended after 30.002637711s : 13766 calls. qps=458.8263249585189
06:30:00 I periodic.go:533> T017 ended after 30.00267711s : 13813 calls. qps=460.3922493101816
06:30:00 I periodic.go:533> T028 ended after 30.002704165s : 13740 calls. qps=457.9587201352522
06:30:00 I periodic.go:533> T018 ended after 30.002732554s : 13774 calls. qps=459.09151692130234
06:30:00 I periodic.go:533> T012 ended after 30.002772586s : 13796 calls. qps=459.8241699314662
06:30:00 I periodic.go:533> T020 ended after 30.002798426s : 13887 calls. qps=462.8568243142854
06:30:00 I periodic.go:533> T029 ended after 30.002834879s : 13807 calls. qps=460.18984724886735
06:30:00 I periodic.go:533> T031 ended after 30.002874981s : 13808 calls. qps=460.2225622959209
06:30:00 I periodic.go:533> T005 ended after 30.002899202s : 13734 calls. qps=457.7557624525996
06:30:00 I periodic.go:533> T024 ended after 30.002942236s : 13809 calls. qps=460.25486071932056
06:30:00 I periodic.go:533> T004 ended after 30.002969749s : 13753 calls. qps=458.38795676079326
06:30:00 I periodic.go:533> T021 ended after 30.003008751s : 13771 calls. qps=458.9873007166661
06:30:00 I periodic.go:533> T006 ended after 30.003034072s : 13757 calls. qps=458.52029388049687
06:30:00 I periodic.go:533> T019 ended after 30.003083642s : 13753 calls. qps=458.38621670033206
06:30:00 I periodic.go:533> T008 ended after 30.003111668s : 13727 calls. qps=457.5192117369818
06:30:00 I periodic.go:533> T002 ended after 30.003135661s : 13746 calls. qps=458.15211300957225
06:30:00 I periodic.go:533> T009 ended after 30.00317451s : 13778 calls. qps=459.2180735877738
06:30:00 I periodic.go:533> T030 ended after 30.003203766s : 13755 calls. qps=458.45104100473884
Ended after 30.003221153s : 440929 calls. qps=14696
Aggregated Function Time : count 440929 avg 0.0021768834 +/- 0.001237 min 0.000328753 max 0.071888069 sum 959.851017
# range, mid point, percentile, count
>= 0.000328753 <= 0.0004 , 0.000364376 , 0.00, 4
> 0.0004 <= 0.0005 , 0.00045 , 0.00, 14
> 0.0005 <= 0.0006 , 0.00055 , 0.03, 125
> 0.0006 <= 0.0007 , 0.00065 , 0.21, 787
> 0.0007 <= 0.0008 , 0.00075 , 0.71, 2195
> 0.0008 <= 0.0009 , 0.00085 , 1.51, 3538
> 0.0009 <= 0.001 , 0.00095 , 2.53, 4511
> 0.001 <= 0.0011 , 0.00105 , 3.85, 5804
> 0.0011 <= 0.0012 , 0.00115 , 5.90, 9040
> 0.0012 <= 0.0014 , 0.0013 , 15.59, 42732
> 0.0014 <= 0.0016 , 0.0015 , 30.08, 63872
> 0.0016 <= 0.0018 , 0.0017 , 45.25, 66883
> 0.0018 <= 0.002 , 0.0019 , 59.33, 62118
> 0.002 <= 0.0025 , 0.00225 , 78.36, 83887
> 0.0025 <= 0.003 , 0.00275 , 85.86, 33092
> 0.003 <= 0.0035 , 0.00325 , 89.61, 16495
> 0.0035 <= 0.004 , 0.00375 , 92.40, 12309
> 0.004 <= 0.0045 , 0.00425 , 95.08, 11818
> 0.0045 <= 0.005 , 0.00475 , 96.95, 8242
> 0.005 <= 0.006 , 0.0055 , 98.74, 7897
> 0.006 <= 0.007 , 0.0065 , 99.44, 3097
> 0.007 <= 0.008 , 0.0075 , 99.67, 1018
> 0.008 <= 0.009 , 0.0085 , 99.79, 521
> 0.009 <= 0.01 , 0.0095 , 99.85, 281
> 0.01 <= 0.012 , 0.011 , 99.94, 395
> 0.012 <= 0.014 , 0.013 , 99.99, 208
> 0.014 <= 0.016 , 0.015 , 99.99, 13
> 0.018 <= 0.02 , 0.019 , 99.99, 1
> 0.06 <= 0.07 , 0.065 , 100.00, 23
> 0.07 <= 0.0718881 , 0.070944 , 100.00, 9
# target 50% 0.00186748
# target 75% 0.00241171
# target 90% 0.00357064
# target 99% 0.00637349
# target 99.9% 0.0110535
Ping SERVING : 440929
All done 440929 calls (plus 32 warmup) 2.177 ms avg, 14696.1 qps
Successfully wrote 5013 bytes of Json data to /data/2018-12-08-062930_grpc_baseline_0qps_30s_echo_1_3.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-linkerd:8079
06:30:00 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:30:30 I periodic.go:533> T020 ended after 30.000153211s : 7362 calls. qps=245.39874674042042
06:30:30 I periodic.go:533> T022 ended after 30.000705375s : 7354 calls. qps=245.1275697713491
06:30:30 I periodic.go:533> T004 ended after 30.000866639s : 7321 calls. qps=244.02628391017794
06:30:30 I periodic.go:533> T006 ended after 30.000928126s : 7327 calls. qps=244.22577759019828
06:30:30 I periodic.go:533> T007 ended after 30.000957153s : 7388 calls. qps=246.25880975471554
06:30:30 I periodic.go:533> T005 ended after 30.000979976s : 7401 calls. qps=246.69194159392816
06:30:30 I periodic.go:533> T012 ended after 30.001109218s : 7341 calls. qps=244.69095281302342
06:30:30 I periodic.go:533> T014 ended after 30.001220384s : 7271 calls. qps=242.35680772098553
06:30:30 I periodic.go:533> T019 ended after 30.001303445s : 7424 calls. qps=247.4559151608221
06:30:30 I periodic.go:533> T011 ended after 30.001358128s : 7428 calls. qps=247.58879142432934
06:30:30 I periodic.go:533> T000 ended after 30.001505647s : 7414 calls. qps=247.1209307703983
06:30:30 I periodic.go:533> T016 ended after 30.001565862s : 7419 calls. qps=247.287092751279
06:30:30 I periodic.go:533> T023 ended after 30.001598265s : 7450 calls. qps=248.32010395563506
06:30:30 I periodic.go:533> T025 ended after 30.001675354s : 7415 calls. qps=247.15286438200155
06:30:30 I periodic.go:533> T001 ended after 30.001736168s : 7303 calls. qps=243.41924610981067
06:30:30 I periodic.go:533> T003 ended after 30.001774641s : 7426 calls. qps=247.51869143939683
06:30:30 I periodic.go:533> T030 ended after 30.001838005s : 7489 calls. qps=249.61804002647804
06:30:30 I periodic.go:533> T002 ended after 30.001895175s : 7466 calls. qps=248.85094613027223
06:30:30 I periodic.go:533> T018 ended after 30.001933915s : 7430 calls. qps=247.65070215307819
06:30:30 I periodic.go:533> T008 ended after 30.001989712s : 7432 calls. qps=247.716903823462
06:30:30 I periodic.go:533> T031 ended after 30.002054205s : 7451 calls. qps=248.34966129613392
06:30:30 I periodic.go:533> T010 ended after 30.002089547s : 7417 calls. qps=247.21611434366406
06:30:30 I periodic.go:533> T013 ended after 30.006896846s : 7445 calls. qps=248.10962753692536
06:30:30 I periodic.go:533> T021 ended after 30.006952513s : 7444 calls. qps=248.0758416495315
06:30:30 I periodic.go:533> T026 ended after 30.006968577s : 7336 calls. qps=244.4765448790772
06:30:30 I periodic.go:533> T017 ended after 30.006982415s : 7321 calls. qps=243.9765484829408
06:30:30 I periodic.go:533> T009 ended after 30.006996316s : 7330 calls. qps=244.2763655118516
06:30:30 I periodic.go:533> T015 ended after 30.007038s : 7403 calls. qps=246.70878878481773
06:30:30 I periodic.go:533> T027 ended after 30.007051723s : 7306 calls. qps=243.47610246560976
06:30:30 I periodic.go:533> T024 ended after 30.007063271s : 7345 calls. qps=244.77570276257242
06:30:30 I periodic.go:533> T028 ended after 30.007074182s : 7415 calls. qps=247.10839700752803
06:30:30 I periodic.go:533> T029 ended after 30.007085444s : 7330 calls. qps=244.27563995441795
Ended after 30.007116463s : 236404 calls. qps=7878.3
Aggregated Function Time : count 236404 avg 0.0040603642 +/- 0.001324 min 0.000582144 max 0.018177535 sum 959.886329
# range, mid point, percentile, count
>= 0.000582144 <= 0.0006 , 0.000591072 , 0.00, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.00, 4
> 0.0007 <= 0.0008 , 0.00075 , 0.01, 15
> 0.0008 <= 0.0009 , 0.00085 , 0.02, 22
> 0.0009 <= 0.001 , 0.00095 , 0.03, 36
> 0.001 <= 0.0011 , 0.00105 , 0.05, 42
> 0.0011 <= 0.0012 , 0.00115 , 0.09, 85
> 0.0012 <= 0.0014 , 0.0013 , 0.19, 251
> 0.0014 <= 0.0016 , 0.0015 , 0.34, 338
> 0.0016 <= 0.0018 , 0.0017 , 0.69, 833
> 0.0018 <= 0.002 , 0.0019 , 1.47, 1837
> 0.002 <= 0.0025 , 0.00225 , 6.58, 12101
> 0.0025 <= 0.003 , 0.00275 , 16.25, 22853
> 0.003 <= 0.0035 , 0.00325 , 35.64, 45843
> 0.0035 <= 0.004 , 0.00375 , 58.13, 53166
> 0.004 <= 0.0045 , 0.00425 , 72.55, 34079
> 0.0045 <= 0.005 , 0.00475 , 82.45, 23416
> 0.005 <= 0.006 , 0.0055 , 92.65, 24108
> 0.006 <= 0.007 , 0.0065 , 96.18, 8355
> 0.007 <= 0.008 , 0.0075 , 98.18, 4725
> 0.008 <= 0.009 , 0.0085 , 99.16, 2315
> 0.009 <= 0.01 , 0.0095 , 99.65, 1157
> 0.01 <= 0.012 , 0.011 , 99.92, 627
> 0.012 <= 0.014 , 0.013 , 99.98, 152
> 0.014 <= 0.016 , 0.015 , 100.00, 32
> 0.016 <= 0.018 , 0.017 , 100.00, 10
> 0.018 <= 0.0181775 , 0.0180888 , 100.00, 1
# target 50% 0.0038192
# target 75% 0.00462378
# target 90% 0.00574007
# target 99% 0.00883368
# target 99.9% 0.0118679
Ping SERVING : 236404
All done 236404 calls (plus 32 warmup) 4.060 ms avg, 7878.3 qps
Successfully wrote 4644 bytes of Json data to /data/2018-12-08-063000_grpc_linkerd_0qps_30s_echo_1_3.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-istio:8079
06:30:30 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:31:00 I periodic.go:533> T001 ended after 30.000675726s : 3045 calls. qps=101.4977138451938
06:31:00 I periodic.go:533> T024 ended after 30.007701748s : 3002 calls. qps=100.04098365180806
06:31:00 I periodic.go:533> T030 ended after 30.007764185s : 3058 calls. qps=101.9069591838703
06:31:00 I periodic.go:533> T013 ended after 30.007778901s : 2943 calls. qps=98.07456958775198
06:31:00 I periodic.go:533> T004 ended after 30.007811004s : 2942 calls. qps=98.04114000877424
06:31:00 I periodic.go:533> T010 ended after 30.007824795s : 3077 calls. qps=102.53992153782168
06:31:00 I periodic.go:533> T025 ended after 30.007837912s : 3045 calls. qps=101.47348865751898
06:31:00 I periodic.go:533> T015 ended after 30.007850029s : 3056 calls. qps=101.84001843006544
06:31:00 I periodic.go:533> T028 ended after 30.0078614s : 3038 calls. qps=101.24013702622607
06:31:00 I periodic.go:533> T016 ended after 30.007887807s : 3019 calls. qps=100.60688107797283
06:31:00 I periodic.go:533> T007 ended after 30.007900284s : 3000 calls. qps=99.97367265311723
06:31:00 I periodic.go:533> T006 ended after 30.007912121s : 3032 calls. qps=101.04001863822307
06:31:00 I periodic.go:533> T023 ended after 30.007923327s : 3019 calls. qps=100.60676199087784
06:31:00 I periodic.go:533> T011 ended after 30.007936464s : 2998 calls. qps=99.90690308201127
06:31:00 I periodic.go:533> T003 ended after 30.007948256s : 3031 calls. qps=101.00657246347926
06:31:00 I periodic.go:533> T009 ended after 30.007974814s : 3054 calls. qps=101.77294598951671
06:31:00 I periodic.go:533> T017 ended after 30.008007315s : 3046 calls. qps=101.50624025199456
06:31:00 I periodic.go:533> T020 ended after 30.008019842s : 3002 calls. qps=100.03992318741149
06:31:00 I periodic.go:533> T000 ended after 30.008079095s : 3012 calls. qps=100.37296924153551
06:31:00 I periodic.go:533> T027 ended after 30.008093512s : 3005 calls. qps=100.13965061786828
06:31:00 I periodic.go:533> T005 ended after 30.008104282s : 2993 calls. qps=99.73972270535313
06:31:00 I periodic.go:533> T019 ended after 30.008116051s : 2989 calls. qps=99.60638631629105
06:31:00 I periodic.go:533> T012 ended after 30.008127768s : 3014 calls. qps=100.43945504704436
06:31:00 I periodic.go:533> T008 ended after 30.008154266s : 3066 calls. qps=102.17222868231705
06:31:00 I periodic.go:533> T031 ended after 30.008166529s : 3038 calls. qps=101.239107596396
06:31:00 I periodic.go:533> T029 ended after 30.008181471s : 3003 calls. qps=100.07270860122291
06:31:00 I periodic.go:533> T022 ended after 30.008193059s : 3006 calls. qps=100.17264265428491
06:31:00 I periodic.go:533> T014 ended after 30.008204029s : 3037 calls. qps=101.20565686187136
06:31:00 I periodic.go:533> T002 ended after 30.008215435s : 3052 calls. qps=101.70548150758435
06:31:00 I periodic.go:533> T021 ended after 30.008241609s : 3013 calls. qps=100.40574983561677
06:31:00 I periodic.go:533> T026 ended after 30.008253328s : 3001 calls. qps=100.00582063867867
06:31:00 I periodic.go:533> T018 ended after 30.008264426s : 3011 calls. qps=100.3390251850482
Ended after 30.008292921s : 96647 calls. qps=3220.7
Aggregated Function Time : count 96647 avg 0.0099335124 +/- 0.003659 min 0.000872812 max 0.044346036 sum 960.044172
# range, mid point, percentile, count
>= 0.000872812 <= 0.0009 , 0.000886406 , 0.00, 3
> 0.0009 <= 0.001 , 0.00095 , 0.01, 6
> 0.001 <= 0.0011 , 0.00105 , 0.04, 28
> 0.0011 <= 0.0012 , 0.00115 , 0.09, 51
> 0.0012 <= 0.0014 , 0.0013 , 0.16, 69
> 0.0014 <= 0.0016 , 0.0015 , 0.21, 42
> 0.0016 <= 0.0018 , 0.0017 , 0.24, 37
> 0.0018 <= 0.002 , 0.0019 , 0.33, 87
> 0.002 <= 0.0025 , 0.00225 , 1.11, 745
> 0.0025 <= 0.003 , 0.00275 , 1.74, 613
> 0.003 <= 0.0035 , 0.00325 , 2.99, 1210
> 0.0035 <= 0.004 , 0.00375 , 4.18, 1150
> 0.004 <= 0.0045 , 0.00425 , 4.82, 616
> 0.0045 <= 0.005 , 0.00475 , 5.69, 838
> 0.005 <= 0.006 , 0.0055 , 9.22, 3415
> 0.006 <= 0.007 , 0.0065 , 12.11, 2790
> 0.007 <= 0.008 , 0.0075 , 17.36, 5076
> 0.008 <= 0.009 , 0.0085 , 34.70, 16765
> 0.009 <= 0.01 , 0.0095 , 62.52, 26887
> 0.01 <= 0.012 , 0.011 , 85.48, 22189
> 0.012 <= 0.014 , 0.013 , 92.81, 7083
> 0.014 <= 0.016 , 0.015 , 95.06, 2176
> 0.016 <= 0.018 , 0.017 , 96.08, 978
> 0.018 <= 0.02 , 0.019 , 96.65, 552
> 0.02 <= 0.025 , 0.0225 , 99.33, 2598
> 0.025 <= 0.03 , 0.0275 , 99.76, 411
> 0.03 <= 0.035 , 0.0325 , 99.90, 140
> 0.035 <= 0.04 , 0.0375 , 99.94, 37
> 0.04 <= 0.044346 , 0.042173 , 100.00, 55
# target 50% 0.0095498
# target 75% 0.0110868
# target 90% 0.0132326
# target 99% 0.0243775
# target 99.9% 0.034834
Ping SERVING : 96647
All done 96647 calls (plus 32 warmup) 9.934 ms avg, 3220.7 qps
Successfully wrote 4866 bytes of Json data to /data/2018-12-08-063030_grpc_istio_0qps_30s_echo_1_3.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8080/echo
06:31:00 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
06:31:00 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:31:30 I periodic.go:533> T015 ended after 30.000020637s : 29384 calls. qps=979.4659928920101
06:31:30 I periodic.go:533> T025 ended after 30.00077465s : 29047 calls. qps=968.2083325805055
06:31:30 I periodic.go:533> T006 ended after 30.000949786s : 29016 calls. qps=967.1693798687791
06:31:30 I periodic.go:533> T011 ended after 30.001007558s : 28882 calls. qps=962.7010007635024
06:31:30 I periodic.go:533> T010 ended after 30.001030115s : 28863 calls. qps=962.0669653462664
06:31:30 I periodic.go:533> T002 ended after 30.001048663s : 29571 calls. qps=985.6655456337306
06:31:30 I periodic.go:533> T017 ended after 30.001113652s : 29436 calls. qps=981.1635775073194
06:31:30 I periodic.go:533> T007 ended after 30.001184023s : 29580 calls. qps=985.9610866465435
06:31:30 I periodic.go:533> T021 ended after 30.001221876s : 29003 calls. qps=966.7272926374194
06:31:30 I periodic.go:533> T031 ended after 30.001277483s : 28985 calls. qps=966.1255263688066
06:31:30 I periodic.go:533> T003 ended after 30.001312474s : 29627 calls. qps=987.5234633709979
06:31:30 I periodic.go:533> T026 ended after 30.001362452s : 29564 calls. qps=985.4219136647629
06:31:30 I periodic.go:533> T029 ended after 30.001396758s : 29241 calls. qps=974.6546214453421
06:31:30 I periodic.go:533> T009 ended after 30.00145512s : 29312 calls. qps=977.0192773236394
06:31:30 I periodic.go:533> T019 ended after 30.001490052s : 28899 calls. qps=963.2521568065748
06:31:30 I periodic.go:533> T024 ended after 30.001540855s : 29500 calls. qps=983.282830124493
06:31:30 I periodic.go:533> T016 ended after 30.001576667s : 28994 calls. qps=966.4158761326609
06:31:30 I periodic.go:533> T014 ended after 30.00162887s : 29402 calls. qps=980.0134561827209
06:31:30 I periodic.go:533> T005 ended after 30.001666535s : 29630 calls. qps=987.6118036787586
06:31:30 I periodic.go:533> T027 ended after 30.001719992s : 29372 calls. qps=979.0105369902819
06:31:30 I periodic.go:533> T001 ended after 30.001762101s : 29112 calls. qps=970.3430052540033
06:31:30 I periodic.go:533> T013 ended after 30.001818018s : 29184 calls. qps=972.741051308646
06:31:30 I periodic.go:533> T030 ended after 30.001848532s : 29078 calls. qps=969.2069463315028
06:31:30 I periodic.go:533> T008 ended after 30.001920975s : 28918 calls. qps=963.8716142241955
06:31:30 I periodic.go:533> T023 ended after 30.001977175s : 28960 calls. qps=965.2697164282807
06:31:30 I periodic.go:533> T012 ended after 30.002014119s : 29570 calls. qps=985.6004961104792
06:31:30 I periodic.go:533> T028 ended after 30.002065463s : 29088 calls. qps=969.5332488315756
06:31:30 I periodic.go:533> T018 ended after 30.002098938s : 28992 calls. qps=966.3323909408008
06:31:30 I periodic.go:533> T020 ended after 30.00217722s : 29484 calls. qps=982.7286794488177
06:31:30 I periodic.go:533> T000 ended after 30.002209244s : 29437 calls. qps=981.1610791924254
06:31:30 I periodic.go:533> T022 ended after 30.002271714s : 29559 calls. qps=985.2253949892349
06:31:30 I periodic.go:533> T004 ended after 30.002329177s : 28920 calls. qps=963.9251615894635
Ended after 30.002372505s : 935610 calls. qps=31185
Aggregated Function Time : count 935610 avg 0.0010255438 +/- 0.0006715 min 6.7763e-05 max 0.026092541 sum 959.508998
# range, mid point, percentile, count
>= 6.7763e-05 <= 0.0001 , 8.38815e-05 , 0.31, 2880
> 0.0001 <= 0.0002 , 0.00015 , 3.36, 28536
> 0.0002 <= 0.0003 , 0.00025 , 7.91, 42549
> 0.0003 <= 0.0004 , 0.00035 , 13.45, 51884
> 0.0004 <= 0.0005 , 0.00045 , 20.11, 62267
> 0.0005 <= 0.0006 , 0.00055 , 27.39, 68115
> 0.0006 <= 0.0007 , 0.00065 , 34.79, 69245
> 0.0007 <= 0.0008 , 0.00075 , 41.89, 66437
> 0.0008 <= 0.0009 , 0.00085 , 48.63, 63110
> 0.0009 <= 0.001 , 0.00095 , 55.15, 60978
> 0.001 <= 0.0011 , 0.00105 , 61.32, 57685
> 0.0011 <= 0.0012 , 0.00115 , 67.03, 53454
> 0.0012 <= 0.0014 , 0.0013 , 77.44, 97359
> 0.0014 <= 0.0016 , 0.0015 , 85.83, 78565
> 0.0016 <= 0.0018 , 0.0017 , 90.95, 47894
> 0.0018 <= 0.002 , 0.0019 , 93.95, 28014
> 0.002 <= 0.0025 , 0.00225 , 97.60, 34223
> 0.0025 <= 0.003 , 0.00275 , 98.73, 10486
> 0.003 <= 0.0035 , 0.00325 , 99.15, 4015
> 0.0035 <= 0.004 , 0.00375 , 99.35, 1807
> 0.004 <= 0.0045 , 0.00425 , 99.53, 1694
> 0.0045 <= 0.005 , 0.00475 , 99.71, 1676
> 0.005 <= 0.006 , 0.0055 , 99.95, 2251
> 0.006 <= 0.007 , 0.0065 , 99.99, 411
> 0.007 <= 0.008 , 0.0075 , 100.00, 39
> 0.008 <= 0.009 , 0.0085 , 100.00, 4
> 0.02 <= 0.025 , 0.0225 , 100.00, 19
> 0.025 <= 0.0260925 , 0.0255463 , 100.00, 13
# target 50% 0.000920962
# target 75% 0.00135318
# target 90% 0.0017628
# target 99% 0.00332041
# target 99.9% 0.00580026
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 935610 (100.0 %)
Response Header Sizes : count 935610 avg 75 +/- 0 min 75 max 75 sum 70170750
Response Body/Total Sizes : count 935610 avg 75 +/- 0 min 75 max 75 sum 70170750
All done 935610 calls (plus 32 warmup) 1.026 ms avg, 31184.5 qps
Successfully wrote 5325 bytes of Json data to /data/2018-12-08-063100_http_baseline_0qps_30s_echo_0_4.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-linkerd:8080/echo
06:31:31 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 32 threads at -1.0 qps
06:31:31 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:32:01 I periodic.go:533> T008 ended after 30.000111266s : 10423 calls. qps=347.4320447542036
06:32:01 I periodic.go:533> T010 ended after 30.001035926s : 10399 calls. qps=346.6213641972224
06:32:01 I periodic.go:533> T007 ended after 30.001206182s : 10387 calls. qps=346.2194132125244
06:32:01 I periodic.go:533> T011 ended after 30.001286305s : 10357 calls. qps=345.21853145589654
06:32:01 I periodic.go:533> T017 ended after 30.00134839s : 10394 calls. qps=346.4510949602689
06:32:01 I periodic.go:533> T004 ended after 30.001386286s : 10349 calls. qps=344.95072665456496
06:32:01 I periodic.go:533> T019 ended after 30.001438347s : 10378 calls. qps=345.91674838942345
06:32:01 I periodic.go:533> T016 ended after 30.001474999s : 10352 calls. qps=345.0497017344997
06:32:01 I periodic.go:533> T022 ended after 30.001526142s : 10404 calls. qps=346.7823586959178
06:32:01 I periodic.go:533> T006 ended after 30.001587482s : 10385 calls. qps=346.14834985750906
06:32:01 I periodic.go:533> T028 ended after 30.001620592s : 10343 calls. qps=344.7480434692913
06:32:01 I periodic.go:533> T027 ended after 30.001678731s : 10380 calls. qps=345.9806397191568
06:32:01 I periodic.go:533> T015 ended after 30.001711863s : 10363 calls. qps=345.41362330661883
06:32:01 I periodic.go:533> T023 ended after 30.001784455s : 10331 calls. qps=344.3461843243217
06:32:01 I periodic.go:533> T021 ended after 30.001853074s : 10351 calls. qps=345.01202223973
06:32:01 I periodic.go:533> T031 ended after 30.001890345s : 10377 calls. qps=345.8782056954418
06:32:01 I periodic.go:533> T020 ended after 30.001946954s : 10412 calls. qps=347.04414403385323
06:32:01 I periodic.go:533> T005 ended after 30.001978891s : 10394 calls. qps=346.44381418180365
06:32:01 I periodic.go:533> T003 ended after 30.002038668s : 10351 calls. qps=345.00988797938976
06:32:01 I periodic.go:533> T013 ended after 30.002092485s : 10346 calls. qps=344.8426140667568
06:32:01 I periodic.go:533> T018 ended after 30.00212984s : 10355 calls. qps=345.1421634138225
06:32:01 I periodic.go:533> T000 ended after 30.002189866s : 10407 calls. qps=346.87467969775565
06:32:01 I periodic.go:533> T024 ended after 30.002225835s : 10378 calls. qps=345.9076688867941
06:32:01 I periodic.go:533> T030 ended after 30.002280845s : 10350 calls. qps=344.97377227654573
06:32:01 I periodic.go:533> T026 ended after 30.002315237s : 10330 calls. qps=344.3067616082058
06:32:01 I periodic.go:533> T025 ended after 30.002369275s : 10422 calls. qps=347.37256596212603
06:32:01 I periodic.go:533> T014 ended after 30.002405389s : 10394 calls. qps=346.4388893235483
06:32:01 I periodic.go:533> T002 ended after 30.002455462s : 10424 calls. qps=347.4382292876879
06:32:01 I periodic.go:533> T012 ended after 30.002490456s : 10411 calls. qps=347.00452668314983
06:32:01 I periodic.go:533> T009 ended after 30.002535824s : 10349 calls. qps=344.9375099727904
06:32:01 I periodic.go:533> T029 ended after 30.002616549s : 10411 calls. qps=347.00306831562006
06:32:01 I periodic.go:533> T001 ended after 30.002653345s : 10325 calls. qps=344.1362295951962
Ended after 30.002717316s : 332032 calls. qps=11067
Aggregated Function Time : count 332032 avg 0.0028904045 +/- 0.0009293 min 0.000347988 max 0.037661864 sum 959.706776
# range, mid point, percentile, count
>= 0.000347988 <= 0.0004 , 0.000373994 , 0.00, 3
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 31
> 0.0005 <= 0.0006 , 0.00055 , 0.04, 104
> 0.0006 <= 0.0007 , 0.00065 , 0.07, 101
> 0.0007 <= 0.0008 , 0.00075 , 0.12, 147
> 0.0008 <= 0.0009 , 0.00085 , 0.20, 273
> 0.0009 <= 0.001 , 0.00095 , 0.29, 290
> 0.001 <= 0.0011 , 0.00105 , 0.37, 287
> 0.0011 <= 0.0012 , 0.00115 , 0.48, 354
> 0.0012 <= 0.0014 , 0.0013 , 0.97, 1627
> 0.0014 <= 0.0016 , 0.0015 , 1.85, 2916
> 0.0016 <= 0.0018 , 0.0017 , 3.21, 4518
> 0.0018 <= 0.002 , 0.0019 , 6.10, 9606
> 0.002 <= 0.0025 , 0.00225 , 26.48, 67673
> 0.0025 <= 0.003 , 0.00275 , 67.64, 136650
> 0.003 <= 0.0035 , 0.00325 , 89.28, 71845
> 0.0035 <= 0.004 , 0.00375 , 94.30, 16674
> 0.004 <= 0.0045 , 0.00425 , 96.41, 7019
> 0.0045 <= 0.005 , 0.00475 , 97.42, 3336
> 0.005 <= 0.006 , 0.0055 , 98.57, 3837
> 0.006 <= 0.007 , 0.0065 , 99.44, 2878
> 0.007 <= 0.008 , 0.0075 , 99.80, 1194
> 0.008 <= 0.009 , 0.0085 , 99.95, 488
> 0.009 <= 0.01 , 0.0095 , 99.97, 81
> 0.01 <= 0.012 , 0.011 , 99.98, 28
> 0.012 <= 0.014 , 0.013 , 99.98, 8
> 0.035 <= 0.0376619 , 0.0363309 , 100.00, 64
# target 50% 0.00278572
# target 75% 0.00317012
# target 90% 0.00357208
# target 99% 0.00649363
# target 99.9% 0.00869051
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 332032 (100.0 %)
Response Header Sizes : count 332032 avg 75 +/- 0 min 75 max 75 sum 24902400
Response Body/Total Sizes : count 332032 avg 75 +/- 0 min 75 max 75 sum 24902400
All done 332032 calls (plus 32 warmup) 2.890 ms avg, 11066.7 qps
Successfully wrote 5169 bytes of Json data to /data/2018-12-08-063131_http_linkerd_0qps_30s_echo_0_4.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8080/echo
06:32:01 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 32 threads at -1.0 qps
06:32:01 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:32:31 I periodic.go:533> T005 ended after 30.000627752s : 3469 calls. qps=115.63091374875441
06:32:31 I periodic.go:533> T017 ended after 30.001017671s : 3459 calls. qps=115.29608888379765
06:32:31 I periodic.go:533> T021 ended after 30.003312801s : 3475 calls. qps=115.82054365290554
06:32:31 I periodic.go:533> T020 ended after 30.003371435s : 3436 calls. qps=114.52046339005035
06:32:31 I periodic.go:533> T022 ended after 30.003408345s : 3468 calls. qps=115.58686800254593
06:32:31 I periodic.go:533> T007 ended after 30.003422534s : 3508 calls. qps=116.91999457810923
06:32:31 I periodic.go:533> T004 ended after 30.003435969s : 3510 calls. qps=116.98660125548902
06:32:31 I periodic.go:533> T030 ended after 30.003461512s : 3467 calls. qps=115.55333369162621
06:32:31 I periodic.go:533> T009 ended after 30.003472358s : 3543 calls. qps=118.08633206600533
06:32:31 I periodic.go:533> T011 ended after 30.003483028s : 3501 calls. qps=116.68645259394648
06:32:31 I periodic.go:533> T031 ended after 30.003495355s : 3469 calls. qps=115.61986225121271
06:32:31 I periodic.go:533> T026 ended after 30.003506214s : 3507 calls. qps=116.8863390493872
06:32:31 I periodic.go:533> T018 ended after 30.003517369s : 3438 calls. qps=114.58656522558863
06:32:31 I periodic.go:533> T002 ended after 30.003541922s : 3497 calls. qps=116.55290595660762
06:32:31 I periodic.go:533> T006 ended after 30.00355233s : 3448 calls. qps=114.91972557370842
06:32:31 I periodic.go:533> T019 ended after 30.003563387s : 3494 calls. qps=116.45283444945366
06:32:31 I periodic.go:533> T000 ended after 30.003573596s : 3490 calls. qps=116.31947737269796
06:32:31 I periodic.go:533> T008 ended after 30.003584346s : 3487 calls. qps=116.21944764292397
06:32:31 I periodic.go:533> T029 ended after 30.00359522s : 3509 calls. qps=116.95265098300443
06:32:31 I periodic.go:533> T003 ended after 30.003620715s : 3442 calls. qps=114.7194877809933
06:32:31 I periodic.go:533> T001 ended after 30.003631554s : 3465 calls. qps=115.48602020937882
06:32:31 I periodic.go:533> T014 ended after 30.003642266s : 3437 calls. qps=114.55275894602948
06:32:31 I periodic.go:533> T025 ended after 30.003661318s : 3446 calls. qps=114.85264959755602
06:32:31 I periodic.go:533> T016 ended after 30.003672721s : 3485 calls. qps=116.15244681564596
06:32:31 I periodic.go:533> T013 ended after 30.004897613s : 3463 calls. qps=115.41449148287083
06:32:31 I periodic.go:533> T023 ended after 30.004958254s : 3510 calls. qps=116.98066600482862
06:32:31 I periodic.go:533> T010 ended after 30.00497496s : 3508 calls. qps=116.91394525996299
06:32:31 I periodic.go:533> T024 ended after 30.004986945s : 3494 calls. qps=116.44730945574487
06:32:31 I periodic.go:533> T015 ended after 30.004998323s : 3481 calls. qps=116.01400415115765
06:32:31 I periodic.go:533> T027 ended after 30.005024975s : 3513 calls. qps=117.08038913238731
06:32:31 I periodic.go:533> T012 ended after 30.005038943s : 3471 calls. qps=115.68056974009575
06:32:31 I periodic.go:533> T028 ended after 30.005053439s : 3480 calls. qps=115.98046332677954
Ended after 30.005074864s : 111370 calls. qps=3711.7
Aggregated Function Time : count 111370 avg 0.008618759 +/- 0.004337 min 0.000734562 max 0.064241538 sum 959.871191
# range, mid point, percentile, count
>= 0.000734562 <= 0.0008 , 0.000767281 , 0.00, 1
> 0.0008 <= 0.0009 , 0.00085 , 0.00, 2
> 0.0009 <= 0.001 , 0.00095 , 0.01, 4
> 0.001 <= 0.0011 , 0.00105 , 0.01, 3
> 0.0011 <= 0.0012 , 0.00115 , 0.02, 7
> 0.0012 <= 0.0014 , 0.0013 , 0.05, 42
> 0.0014 <= 0.0016 , 0.0015 , 0.14, 94
> 0.0016 <= 0.0018 , 0.0017 , 0.30, 185
> 0.0018 <= 0.002 , 0.0019 , 0.58, 303
> 0.002 <= 0.0025 , 0.00225 , 1.51, 1042
> 0.0025 <= 0.003 , 0.00275 , 2.93, 1585
> 0.003 <= 0.0035 , 0.00325 , 5.06, 2372
> 0.0035 <= 0.004 , 0.00375 , 8.00, 3265
> 0.004 <= 0.0045 , 0.00425 , 11.78, 4217
> 0.0045 <= 0.005 , 0.00475 , 16.21, 4926
> 0.005 <= 0.006 , 0.0055 , 27.72, 12819
> 0.006 <= 0.007 , 0.0065 , 40.27, 13985
> 0.007 <= 0.008 , 0.0075 , 51.80, 12835
> 0.008 <= 0.009 , 0.0085 , 62.26, 11654
> 0.009 <= 0.01 , 0.0095 , 71.63, 10433
> 0.01 <= 0.012 , 0.011 , 84.68, 14529
> 0.012 <= 0.014 , 0.013 , 91.62, 7729
> 0.014 <= 0.016 , 0.015 , 94.48, 3187
> 0.016 <= 0.018 , 0.017 , 96.02, 1718
> 0.018 <= 0.02 , 0.019 , 97.31, 1435
> 0.02 <= 0.025 , 0.0225 , 99.24, 2155
> 0.025 <= 0.03 , 0.0275 , 99.76, 576
> 0.03 <= 0.035 , 0.0325 , 99.88, 131
> 0.035 <= 0.04 , 0.0375 , 99.94, 64
> 0.04 <= 0.045 , 0.0425 , 99.96, 26
> 0.045 <= 0.05 , 0.0475 , 99.97, 17
> 0.05 <= 0.06 , 0.055 , 100.00, 25
> 0.06 <= 0.0642415 , 0.0621208 , 100.00, 4
# target 50% 0.00784402
# target 75% 0.0105167
# target 90% 0.0135345
# target 99% 0.0243719
# target 99.9% 0.0369242
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 111370 (100.0 %)
Response Header Sizes : count 111370 avg 209.11187 +/- 0.3152 min 209 max 210 sum 23288789
Response Body/Total Sizes : count 111370 avg 209.11187 +/- 0.3152 min 209 max 210 sum 23288789
All done 111370 calls (plus 32 warmup) 8.619 ms avg, 3711.7 qps
Successfully wrote 6040 bytes of Json data to /data/2018-12-08-063201_http_istio_0qps_30s_echo_0_4.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8079
06:32:31 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:33:01 I periodic.go:533> T010 ended after 30.000047934s : 14481 calls. qps=482.6992287431723
06:33:01 I periodic.go:533> T000 ended after 30.00058244s : 14586 calls. qps=486.19056077232614
06:33:01 I periodic.go:533> T001 ended after 30.002614168s : 14501 calls. qps=483.32455028090135
06:33:01 I periodic.go:533> T021 ended after 30.002677162s : 14388 calls. qps=479.55720492247184
06:33:01 I periodic.go:533> T026 ended after 30.002710102s : 14413 calls. qps=480.38993647574586
06:33:01 I periodic.go:533> T007 ended after 30.002742532s : 14402 calls. qps=480.02278407179847
06:33:01 I periodic.go:533> T031 ended after 30.00277324s : 14440 calls. qps=481.28884235102794
06:33:01 I periodic.go:533> T006 ended after 30.002969873s : 14424 calls. qps=480.752407546838
06:33:01 I periodic.go:533> T019 ended after 30.005495152s : 14427 calls. qps=480.811928845586
06:33:01 I periodic.go:533> T009 ended after 30.00553663s : 14403 calls. qps=480.0114118139003
06:33:01 I periodic.go:533> T004 ended after 30.005566696s : 14420 calls. qps=480.5774923731839
06:33:01 I periodic.go:533> T028 ended after 30.005597071s : 14602 calls. qps=486.6425409048978
06:33:01 I periodic.go:533> T008 ended after 30.005627839s : 14480 calls. qps=482.5761379730082
06:33:01 I periodic.go:533> T025 ended after 30.005667436s : 14480 calls. qps=482.5755011410705
06:33:01 I periodic.go:533> T023 ended after 30.005695757s : 14487 calls. qps=482.8083347015988
06:33:01 I periodic.go:533> T024 ended after 30.005722018s : 14397 calls. qps=479.8084842405541
06:33:01 I periodic.go:533> T013 ended after 30.005748795s : 14446 calls. qps=481.44107646489414
06:33:01 I periodic.go:533> T014 ended after 30.005774417s : 14444 calls. qps=481.37401152414986
06:33:01 I periodic.go:533> T015 ended after 30.00580041s : 14509 calls. qps=483.53984235543345
06:33:01 I periodic.go:533> T012 ended after 30.005825306s : 14441 calls. qps=481.27321454185636
06:33:01 I periodic.go:533> T018 ended after 30.005853215s : 14472 calls. qps=482.30589866264535
06:33:01 I periodic.go:533> T029 ended after 30.00587873s : 14419 calls. qps=480.5391679992303
06:33:01 I periodic.go:533> T005 ended after 30.005913561s : 14516 calls. qps=483.7713062956724
06:33:01 I periodic.go:533> T016 ended after 30.005942783s : 14445 calls. qps=481.40463722352627
06:33:01 I periodic.go:533> T020 ended after 30.005968426s : 14538 calls. qps=484.50360920205816
06:33:01 I periodic.go:533> T002 ended after 30.005995676s : 14620 calls. qps=487.235956369002
06:33:01 I periodic.go:533> T017 ended after 30.006020985s : 14553 calls. qps=485.0026602085975
06:33:01 I periodic.go:533> T030 ended after 30.006047462s : 14568 calls. qps=485.50213147696576
06:33:01 I periodic.go:533> T011 ended after 30.006072846s : 14494 calls. qps=483.03555331573966
06:33:01 I periodic.go:533> T003 ended after 30.006103257s : 14489 calls. qps=482.8684309956149
06:33:01 I periodic.go:533> T027 ended after 30.006129309s : 14416 calls. qps=480.4351754785008
06:33:01 I periodic.go:533> T022 ended after 30.006195249s : 14538 calls. qps=484.4999467396487
Ended after 30.006212162s : 463239 calls. qps=15438
Aggregated Function Time : count 463239 avg 0.0020719367 +/- 0.001141 min 0.000233964 max 0.038531229 sum 959.801871
# range, mid point, percentile, count
>= 0.000233964 <= 0.0003 , 0.000266982 , 0.00, 3
> 0.0003 <= 0.0004 , 0.00035 , 0.00, 5
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 19
> 0.0005 <= 0.0006 , 0.00055 , 0.05, 217
> 0.0006 <= 0.0007 , 0.00065 , 0.42, 1685
> 0.0007 <= 0.0008 , 0.00075 , 1.12, 3241
> 0.0008 <= 0.0009 , 0.00085 , 2.03, 4216
> 0.0009 <= 0.001 , 0.00095 , 3.18, 5363
> 0.001 <= 0.0011 , 0.00105 , 4.94, 8148
> 0.0011 <= 0.0012 , 0.00115 , 7.83, 13380
> 0.0012 <= 0.0014 , 0.0013 , 22.25, 66779
> 0.0014 <= 0.0016 , 0.0015 , 38.23, 74024
> 0.0016 <= 0.0018 , 0.0017 , 52.22, 64840
> 0.0018 <= 0.002 , 0.0019 , 64.11, 55055
> 0.002 <= 0.0025 , 0.00225 , 80.06, 73917
> 0.0025 <= 0.003 , 0.00275 , 87.06, 32405
> 0.003 <= 0.0035 , 0.00325 , 90.71, 16886
> 0.0035 <= 0.004 , 0.00375 , 93.44, 12645
> 0.004 <= 0.0045 , 0.00425 , 95.75, 10710
> 0.0045 <= 0.005 , 0.00475 , 97.55, 8356
> 0.005 <= 0.006 , 0.0055 , 99.10, 7164
> 0.006 <= 0.007 , 0.0065 , 99.56, 2136
> 0.007 <= 0.008 , 0.0075 , 99.72, 760
> 0.008 <= 0.009 , 0.0085 , 99.82, 468
> 0.009 <= 0.01 , 0.0095 , 99.89, 303
> 0.01 <= 0.012 , 0.011 , 99.95, 296
> 0.012 <= 0.014 , 0.013 , 99.98, 108
> 0.014 <= 0.016 , 0.015 , 99.98, 18
> 0.016 <= 0.018 , 0.017 , 99.99, 28
> 0.03 <= 0.035 , 0.0325 , 99.99, 3
> 0.035 <= 0.0385312 , 0.0367656 , 100.00, 61
# target 50% 0.00176823
# target 75% 0.00234129
# target 90% 0.00340324
# target 99% 0.00593699
# target 99.9% 0.010343
Ping SERVING : 463239
All done 463239 calls (plus 32 warmup) 2.072 ms avg, 15438.1 qps
Successfully wrote 5180 bytes of Json data to /data/2018-12-08-063231_grpc_baseline_0qps_30s_echo_0_4.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-linkerd:8079
06:33:01 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:33:31 I periodic.go:533> T003 ended after 30.000329787s : 7390 calls. qps=246.3306254454009
06:33:31 I periodic.go:533> T022 ended after 30.0047491s : 7400 calls. qps=246.6276246915859
06:33:31 I periodic.go:533> T019 ended after 30.005928506s : 7446 calls. qps=248.1509611845904
06:33:31 I periodic.go:533> T018 ended after 30.00597966s : 7358 calls. qps=245.21778936645455
06:33:31 I periodic.go:533> T017 ended after 30.006002258s : 7459 calls. qps=248.5835979036938
06:33:31 I periodic.go:533> T000 ended after 30.006021442s : 7474 calls. qps=249.08333863744093
06:33:31 I periodic.go:533> T029 ended after 30.006034335s : 7382 calls. qps=246.01718166366953
06:33:31 I periodic.go:533> T024 ended after 30.006046546s : 7340 calls. qps=244.61736366194063
06:33:31 I periodic.go:533> T023 ended after 30.006057331s : 7363 calls. qps=245.38378763920784
06:33:31 I periodic.go:533> T031 ended after 30.006069044s : 7354 calls. qps=245.08375253074018
06:33:31 I periodic.go:533> T013 ended after 30.006088071s : 7447 calls. qps=248.18296814896394
06:33:31 I periodic.go:533> T021 ended after 30.006103358s : 7376 calls. qps=245.81665643144785
06:33:31 I periodic.go:533> T020 ended after 30.006114385s : 7412 calls. qps=247.01632157028786
06:33:31 I periodic.go:533> T001 ended after 30.006129539s : 7342 calls. qps=244.6833401308006
06:33:31 I periodic.go:533> T009 ended after 30.010001818s : 7314 calls. qps=243.7187456487611
06:33:31 I periodic.go:533> T026 ended after 30.012151245s : 7359 calls. qps=245.200683547335
06:33:31 I periodic.go:533> T030 ended after 30.012204091s : 7435 calls. qps=247.73255497851264
06:33:31 I periodic.go:533> T015 ended after 30.012226751s : 7447 calls. qps=248.13220497715545
06:33:31 I periodic.go:533> T011 ended after 30.012240266s : 7398 calls. qps=246.49942604854397
06:33:31 I periodic.go:533> T027 ended after 30.012253084s : 7464 calls. qps=248.69842257791618
06:33:31 I periodic.go:533> T028 ended after 30.012273166s : 7443 calls. qps=247.99854242403572
06:33:31 I periodic.go:533> T006 ended after 30.012289983s : 7349 calls. qps=244.8663532227207
06:33:31 I periodic.go:533> T012 ended after 30.012301735s : 7353 calls. qps=244.9995360210915
06:33:31 I periodic.go:533> T016 ended after 30.012313901s : 7367 calls. qps=245.46591190206544
06:33:31 I periodic.go:533> T004 ended after 30.012331115s : 7346 calls. qps=244.7660587193945
06:33:31 I periodic.go:533> T002 ended after 30.012349772s : 7433 calls. qps=247.6647132419672
06:33:31 I periodic.go:533> T007 ended after 30.012361423s : 7458 calls. qps=248.49760719876426
06:33:31 I periodic.go:533> T005 ended after 30.012373446s : 7433 calls. qps=247.66451788206234
06:33:31 I periodic.go:533> T025 ended after 30.012385447s : 7439 calls. qps=247.86433631331337
06:33:31 I periodic.go:533> T010 ended after 30.012397274s : 7428 calls. qps=247.49772343027527
06:33:31 I periodic.go:533> T014 ended after 30.012408537s : 7354 calls. qps=245.03198371879475
06:33:31 I periodic.go:533> T008 ended after 30.012421675s : 7420 calls. qps=247.23096590971778
Ended after 30.012438031s : 236783 calls. qps=7889.5
Aggregated Function Time : count 236783 avg 0.0040542973 +/- 0.00134 min 0.000541174 max 0.01785304 sum 959.988681
# range, mid point, percentile, count
>= 0.000541174 <= 0.0006 , 0.000570587 , 0.00, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.00, 5
> 0.0007 <= 0.0008 , 0.00075 , 0.01, 9
> 0.0008 <= 0.0009 , 0.00085 , 0.02, 22
> 0.0009 <= 0.001 , 0.00095 , 0.03, 39
> 0.001 <= 0.0011 , 0.00105 , 0.05, 40
> 0.0011 <= 0.0012 , 0.00115 , 0.08, 77
> 0.0012 <= 0.0014 , 0.0013 , 0.20, 275
> 0.0014 <= 0.0016 , 0.0015 , 0.35, 363
> 0.0016 <= 0.0018 , 0.0017 , 0.72, 870
> 0.0018 <= 0.002 , 0.0019 , 1.52, 1907
> 0.002 <= 0.0025 , 0.00225 , 6.78, 12442
> 0.0025 <= 0.003 , 0.00275 , 16.65, 23375
> 0.003 <= 0.0035 , 0.00325 , 35.95, 45693
> 0.0035 <= 0.004 , 0.00375 , 58.20, 52701
> 0.004 <= 0.0045 , 0.00425 , 72.43, 33682
> 0.0045 <= 0.005 , 0.00475 , 82.62, 24136
> 0.005 <= 0.006 , 0.0055 , 92.72, 23909
> 0.006 <= 0.007 , 0.0065 , 96.26, 8378
> 0.007 <= 0.008 , 0.0075 , 98.30, 4840
> 0.008 <= 0.009 , 0.0085 , 99.22, 2181
> 0.009 <= 0.01 , 0.0095 , 99.55, 783
> 0.01 <= 0.012 , 0.011 , 99.84, 684
> 0.012 <= 0.014 , 0.013 , 99.95, 250
> 0.014 <= 0.016 , 0.015 , 99.99, 98
> 0.016 <= 0.017853 , 0.0169265 , 100.00, 23
# target 50% 0.00381568
# target 75% 0.00462608
# target 90% 0.00573059
# target 99% 0.00875707
# target 99.9% 0.0130737
Ping SERVING : 236783
All done 236783 calls (plus 32 warmup) 4.054 ms avg, 7889.5 qps
Successfully wrote 4493 bytes of Json data to /data/2018-12-08-063301_grpc_linkerd_0qps_30s_echo_0_4.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8079
06:33:31 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:34:02 I periodic.go:533> T026 ended after 30.000196474s : 2943 calls. qps=98.0993575342276
06:34:02 I periodic.go:533> T007 ended after 30.000623502s : 2902 calls. qps=96.7313229275564
06:34:02 I periodic.go:533> T008 ended after 30.002518272s : 2909 calls. qps=96.95852773514811
06:34:02 I periodic.go:533> T004 ended after 30.004362176s : 2945 calls. qps=98.15239473264515
06:34:02 I periodic.go:533> T028 ended after 30.004417193s : 2883 calls. qps=96.08585234152127
06:34:02 I periodic.go:533> T002 ended after 30.004435001s : 2925 calls. qps=97.4855883772687
06:34:02 I periodic.go:533> T027 ended after 30.004447514s : 2908 calls. qps=96.9189650515356
06:34:02 I periodic.go:533> T020 ended after 30.00446071s : 2900 calls. qps=96.65229540464551
06:34:02 I periodic.go:533> T012 ended after 30.004473387s : 2925 calls. qps=97.48546365980584
06:34:02 I periodic.go:533> T010 ended after 30.004501506s : 2866 calls. qps=95.51900068817628
06:34:02 I periodic.go:533> T000 ended after 30.004516173s : 2938 calls. qps=97.9185927565065
06:34:02 I periodic.go:533> T003 ended after 30.004528201s : 2941 calls. qps=98.01853841187817
06:34:02 I periodic.go:533> T031 ended after 30.004541233s : 2912 calls. qps=97.05197547887467
06:34:02 I periodic.go:533> T014 ended after 30.004553918s : 2927 calls. qps=97.55185856117883
06:34:02 I periodic.go:533> T021 ended after 30.004580065s : 2905 calls. qps=96.81855215793037
06:34:02 I periodic.go:533> T025 ended after 30.004594047s : 2928 calls. qps=97.58505632215861
06:34:02 I periodic.go:533> T006 ended after 30.004607279s : 2902 calls. qps=96.71847969931899
06:34:02 I periodic.go:533> T009 ended after 30.004620847s : 2866 calls. qps=95.51862076892586
06:34:02 I periodic.go:533> T005 ended after 30.004668453s : 2947 calls. qps=98.21804912179743
06:34:02 I periodic.go:533> T030 ended after 30.004683904s : 2926 calls. qps=97.51810781815728
06:34:02 I periodic.go:533> T018 ended after 30.004703632s : 2892 calls. qps=96.3848880318779
06:34:02 I periodic.go:533> T024 ended after 30.004717444s : 2942 calls. qps=98.05124829090192
06:34:02 I periodic.go:533> T015 ended after 30.00475442s : 2900 calls. qps=96.65134929639594
06:34:02 I periodic.go:533> T017 ended after 30.004767173s : 2888 calls. qps=96.25137176864305
06:34:02 I periodic.go:533> T029 ended after 30.004779425s : 2921 calls. qps=97.35115724817564
06:34:02 I periodic.go:533> T011 ended after 30.004791966s : 2863 calls. qps=95.41809199157971
06:34:02 I periodic.go:533> T013 ended after 30.004803182s : 2935 calls. qps=97.81767213059801
06:34:02 I periodic.go:533> T001 ended after 30.00482881s : 2909 calls. qps=96.95106139150808
06:34:02 I periodic.go:533> T016 ended after 30.004841516s : 2906 calls. qps=96.85103647191016
06:34:02 I periodic.go:533> T023 ended after 30.004853059s : 2937 calls. qps=97.88416541233627
06:34:02 I periodic.go:533> T019 ended after 30.005340011s : 2954 calls. qps=98.44914268317103
06:34:02 I periodic.go:533> T022 ended after 30.005632758s : 2877 calls. qps=95.88199733041604
Ended after 30.005669055s : 93222 calls. qps=3106.8
Aggregated Function Time : count 93222 avg 0.010297252 +/- 0.003827 min 0.000702276 max 0.065746818 sum 959.930407
# range, mid point, percentile, count
>= 0.000702276 <= 0.0008 , 0.000751138 , 0.00, 2
> 0.0008 <= 0.0009 , 0.00085 , 0.00, 2
> 0.0009 <= 0.001 , 0.00095 , 0.01, 5
> 0.001 <= 0.0011 , 0.00105 , 0.04, 30
> 0.0011 <= 0.0012 , 0.00115 , 0.09, 45
> 0.0012 <= 0.0014 , 0.0013 , 0.16, 64
> 0.0014 <= 0.0016 , 0.0015 , 0.21, 50
> 0.0016 <= 0.0018 , 0.0017 , 0.25, 38
> 0.0018 <= 0.002 , 0.0019 , 0.31, 54
> 0.002 <= 0.0025 , 0.00225 , 1.04, 684
> 0.0025 <= 0.003 , 0.00275 , 1.57, 488
> 0.003 <= 0.0035 , 0.00325 , 2.43, 799
> 0.0035 <= 0.004 , 0.00375 , 3.84, 1317
> 0.004 <= 0.0045 , 0.00425 , 4.60, 714
> 0.0045 <= 0.005 , 0.00475 , 5.22, 578
> 0.005 <= 0.006 , 0.0055 , 8.38, 2946
> 0.006 <= 0.007 , 0.0065 , 10.91, 2350
> 0.007 <= 0.008 , 0.0075 , 14.62, 3467
> 0.008 <= 0.009 , 0.0085 , 25.19, 9854
> 0.009 <= 0.01 , 0.0095 , 54.04, 26887
> 0.01 <= 0.012 , 0.011 , 82.50, 26532
> 0.012 <= 0.014 , 0.013 , 92.44, 9273
> 0.014 <= 0.016 , 0.015 , 94.94, 2329
> 0.016 <= 0.018 , 0.017 , 95.96, 947
> 0.018 <= 0.02 , 0.019 , 96.58, 578
> 0.02 <= 0.025 , 0.0225 , 99.25, 2492
> 0.025 <= 0.03 , 0.0275 , 99.85, 560
> 0.03 <= 0.035 , 0.0325 , 99.90, 40
> 0.035 <= 0.04 , 0.0375 , 99.90, 2
> 0.04 <= 0.045 , 0.0425 , 99.90, 1
> 0.045 <= 0.05 , 0.0475 , 99.93, 30
> 0.05 <= 0.06 , 0.055 , 99.97, 32
> 0.06 <= 0.0657468 , 0.0628734 , 100.00, 32
# target 50% 0.00986004
# target 75% 0.0114731
# target 90% 0.0135084
# target 99% 0.024528
# target 99.9% 0.0451297
Ping SERVING : 93222
All done 93222 calls (plus 32 warmup) 10.297 ms avg, 3106.8 qps
Successfully wrote 5402 bytes of Json data to /data/2018-12-08-063332_grpc_istio_0qps_30s_echo_0_4.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-baseline:8080/echo
06:34:02 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
06:34:02 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:34:32 I periodic.go:533> T005 ended after 30.000038509s : 29650 calls. qps=988.3320646773507
06:34:32 I periodic.go:533> T003 ended after 30.000534505s : 29562 calls. qps=985.3824436052327
06:34:32 I periodic.go:533> T029 ended after 30.004158024s : 29530 calls. qps=984.1969228524684
06:34:32 I periodic.go:533> T002 ended after 30.004279285s : 29332 calls. qps=977.5938865715035
06:34:32 I periodic.go:533> T017 ended after 30.00429309s : 29397 calls. qps=979.7597934342801
06:34:32 I periodic.go:533> T021 ended after 30.004304463s : 29689 calls. qps=989.4913590352071
06:34:32 I periodic.go:533> T026 ended after 30.004316377s : 29954 calls. qps=998.3230287146762
06:34:32 I periodic.go:533> T027 ended after 30.004328765s : 29217 calls. qps=973.7594941327793
06:34:32 I periodic.go:533> T008 ended after 30.004339523s : 29165 calls. qps=972.0260623515276
06:34:32 I periodic.go:533> T007 ended after 30.004384358s : 29699 calls. qps=989.8220088652286
06:34:32 I periodic.go:533> T028 ended after 30.004409214s : 29885 calls. qps=996.0202777815641
06:34:32 I periodic.go:533> T001 ended after 30.004423933s : 29762 calls. qps=991.9203936878996
06:34:32 I periodic.go:533> T000 ended after 30.004435626s : 29736 calls. qps=991.0534685822456
06:34:32 I periodic.go:533> T012 ended after 30.00446282s : 29736 calls. qps=991.0525703589317
06:34:32 I periodic.go:533> T018 ended after 30.004473241s : 29741 calls. qps=991.2188679706607
06:34:32 I periodic.go:533> T030 ended after 30.004484396s : 29392 calls. qps=979.5869048134134
06:34:32 I periodic.go:533> T019 ended after 30.004495037s : 29101 calls. qps=969.8880105835523
06:34:32 I periodic.go:533> T024 ended after 30.004506348s : 29328 calls. qps=977.4531751946289
06:34:32 I periodic.go:533> T022 ended after 30.004516879s : 29622 calls. qps=987.2513568359528
06:34:32 I periodic.go:533> T025 ended after 30.004542368s : 29300 calls. qps=976.5188097402413
06:34:32 I periodic.go:533> T004 ended after 30.004570715s : 29401 calls. qps=979.8840409771882
06:34:32 I periodic.go:533> T023 ended after 30.00458153s : 29746 calls. qps=991.3819317979337
06:34:32 I periodic.go:533> T013 ended after 30.004591523s : 29659 calls. qps=988.4820453984489
06:34:32 I periodic.go:533> T015 ended after 30.00461486s : 29760 calls. qps=991.8474254330089
06:34:32 I periodic.go:533> T009 ended after 30.004626391s : 29315 calls. qps=977.0159980659897
06:34:32 I periodic.go:533> T010 ended after 30.004637199s : 29934 calls. qps=997.6457905979162
06:34:32 I periodic.go:533> T020 ended after 30.004646917s : 29780 calls. qps=992.5129291598922
06:34:32 I periodic.go:533> T031 ended after 30.004657407s : 29699 calls. qps=989.8130012666403
06:34:32 I periodic.go:533> T016 ended after 30.00466722s : 29309 calls. qps=976.814699696576
06:34:32 I periodic.go:533> T014 ended after 30.004678937s : 29247 calls. qps=974.7479738546485
06:34:32 I periodic.go:533> T006 ended after 30.004705535s : 29266 calls. qps=975.3803437884663
06:34:32 I periodic.go:533> T011 ended after 30.004717066s : 29211 calls. qps=973.5469238302065
Ended after 30.004735202s : 945125 calls. qps=31499
Aggregated Function Time : count 945125 avg 0.0010153119 +/- 0.0006519 min 6.8522e-05 max 0.010036723 sum 959.59665
# range, mid point, percentile, count
>= 6.8522e-05 <= 0.0001 , 8.4261e-05 , 0.29, 2750
> 0.0001 <= 0.0002 , 0.00015 , 3.35, 28937
> 0.0002 <= 0.0003 , 0.00025 , 7.92, 43191
> 0.0003 <= 0.0004 , 0.00035 , 13.59, 53533
> 0.0004 <= 0.0005 , 0.00045 , 20.33, 63696
> 0.0005 <= 0.0006 , 0.00055 , 27.72, 69861
> 0.0006 <= 0.0007 , 0.00065 , 35.14, 70172
> 0.0007 <= 0.0008 , 0.00075 , 42.31, 67732
> 0.0008 <= 0.0009 , 0.00085 , 49.13, 64457
> 0.0009 <= 0.001 , 0.00095 , 55.80, 63067
> 0.001 <= 0.0011 , 0.00105 , 62.05, 59013
> 0.0011 <= 0.0012 , 0.00115 , 67.81, 54473
> 0.0012 <= 0.0014 , 0.0013 , 78.20, 98181
> 0.0014 <= 0.0016 , 0.0015 , 86.38, 77297
> 0.0016 <= 0.0018 , 0.0017 , 91.45, 47950
> 0.0018 <= 0.002 , 0.0019 , 94.22, 26195
> 0.002 <= 0.0025 , 0.00225 , 97.70, 32924
> 0.0025 <= 0.003 , 0.00275 , 98.75, 9916
> 0.003 <= 0.0035 , 0.00325 , 99.14, 3697
> 0.0035 <= 0.004 , 0.00375 , 99.37, 2138
> 0.004 <= 0.0045 , 0.00425 , 99.56, 1795
> 0.0045 <= 0.005 , 0.00475 , 99.74, 1700
> 0.005 <= 0.006 , 0.0055 , 99.94, 1898
> 0.006 <= 0.007 , 0.0065 , 99.98, 380
> 0.007 <= 0.008 , 0.0075 , 99.99, 86
> 0.008 <= 0.009 , 0.0085 , 100.00, 53
> 0.009 <= 0.01 , 0.0095 , 100.00, 31
> 0.01 <= 0.0100367 , 0.0100184 , 100.00, 2
# target 50% 0.000913055
# target 75% 0.00133844
# target 90% 0.00174287
# target 99% 0.00331495
# target 99.9% 0.00579287
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 945125 (100.0 %)
Response Header Sizes : count 945125 avg 75 +/- 0 min 75 max 75 sum 70884375
Response Body/Total Sizes : count 945125 avg 75 +/- 0 min 75 max 75 sum 70884375
All done 945125 calls (plus 32 warmup) 1.015 ms avg, 31499.2 qps
Successfully wrote 5335 bytes of Json data to /data/2018-12-08-063402_http_baseline_0qps_30s_echo_1_4.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-linkerd:8080/echo
06:34:32 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 32 threads at -1.0 qps
06:34:32 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:35:02 I periodic.go:533> T014 ended after 30.000192553s : 10183 calls. qps=339.4311547170955
06:35:02 I periodic.go:533> T005 ended after 30.00278898s : 10167 calls. qps=338.868496751331
06:35:02 I periodic.go:533> T003 ended after 30.002855685s : 10155 calls. qps=338.46778142112043
06:35:02 I periodic.go:533> T025 ended after 30.002939519s : 10140 calls. qps=337.9668846640386
06:35:02 I periodic.go:533> T007 ended after 30.002951625s : 10209 calls. qps=340.266522027564
06:35:02 I periodic.go:533> T028 ended after 30.002962617s : 10206 calls. qps=340.166407240636
06:35:02 I periodic.go:533> T017 ended after 30.00297374s : 10174 calls. qps=339.09972018660307
06:35:02 I periodic.go:533> T011 ended after 30.003006865s : 10187 calls. qps=339.5326357067112
06:35:02 I periodic.go:533> T027 ended after 30.003018021s : 10121 calls. qps=337.33273075781955
06:35:02 I periodic.go:533> T018 ended after 30.003029419s : 10153 calls. qps=338.39916157167835
06:35:02 I periodic.go:533> T015 ended after 30.00304132s : 10144 calls. qps=338.09905775245585
06:35:02 I periodic.go:533> T022 ended after 30.003053142s : 10219 calls. qps=340.5986701298361
06:35:02 I periodic.go:533> T009 ended after 30.004584521s : 10208 calls. qps=340.2146759557857
06:35:02 I periodic.go:533> T020 ended after 30.004618845s : 10134 calls. qps=337.7479998113271
06:35:02 I periodic.go:533> T001 ended after 30.004649999s : 10207 calls. qps=340.1806053508433
06:35:02 I periodic.go:533> T002 ended after 30.004679211s : 10170 calls. qps=338.9471331615364
06:35:02 I periodic.go:533> T024 ended after 30.004692229s : 10189 calls. qps=339.58022039473457
06:35:02 I periodic.go:533> T019 ended after 30.004718348s : 10220 calls. qps=340.6130956293821
06:35:02 I periodic.go:533> T016 ended after 30.004729391s : 10219 calls. qps=340.5796421901814
06:35:02 I periodic.go:533> T026 ended after 30.004740187s : 10198 calls. qps=339.8796302331735
06:35:02 I periodic.go:533> T031 ended after 30.004751114s : 10193 calls. qps=339.7128661815168
06:35:02 I periodic.go:533> T013 ended after 30.004769589s : 10191 calls. qps=339.64600093900094
06:35:02 I periodic.go:533> T004 ended after 30.004779998s : 10173 calls. qps=339.04597869666406
06:35:02 I periodic.go:533> T030 ended after 30.004819342s : 10124 calls. qps=337.41246313150356
06:35:02 I periodic.go:533> T012 ended after 30.004830206s : 10129 calls. qps=337.5789807993823
06:35:02 I periodic.go:533> T008 ended after 30.004841755s : 10156 calls. qps=338.4787056344867
06:35:02 I periodic.go:533> T029 ended after 30.004852863s : 10165 calls. qps=338.7785318065934
06:35:02 I periodic.go:533> T021 ended after 30.00489768s : 10212 calls. qps=340.34443672863745
06:35:02 I periodic.go:533> T023 ended after 30.004909805s : 10154 calls. qps=338.4112822198167
06:35:02 I periodic.go:533> T006 ended after 30.0049212s : 10139 calls. qps=337.9112357075612
06:35:02 I periodic.go:533> T010 ended after 30.004931642s : 10116 calls. qps=337.1445774547251
06:35:02 I periodic.go:533> T000 ended after 30.004943621s : 10180 calls. qps=339.2774246999476
Ended after 30.004974962s : 325535 calls. qps=10849
Aggregated Function Time : count 325535 avg 0.0029486787 +/- 0.0009403 min 0.000393529 max 0.055896801 sum 959.898129
# range, mid point, percentile, count
>= 0.000393529 <= 0.0004 , 0.000396765 , 0.00, 1
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 18
> 0.0005 <= 0.0006 , 0.00055 , 0.02, 60
> 0.0006 <= 0.0007 , 0.00065 , 0.04, 50
> 0.0007 <= 0.0008 , 0.00075 , 0.07, 89
> 0.0008 <= 0.0009 , 0.00085 , 0.13, 201
> 0.0009 <= 0.001 , 0.00095 , 0.21, 259
> 0.001 <= 0.0011 , 0.00105 , 0.28, 226
> 0.0011 <= 0.0012 , 0.00115 , 0.36, 255
> 0.0012 <= 0.0014 , 0.0013 , 0.81, 1482
> 0.0014 <= 0.0016 , 0.0015 , 1.60, 2555
> 0.0016 <= 0.0018 , 0.0017 , 2.84, 4056
> 0.0018 <= 0.002 , 0.0019 , 5.34, 8135
> 0.002 <= 0.0025 , 0.00225 , 23.37, 58675
> 0.0025 <= 0.003 , 0.00275 , 62.47, 127295
> 0.003 <= 0.0035 , 0.00325 , 88.18, 83685
> 0.0035 <= 0.004 , 0.00375 , 93.84, 18441
> 0.004 <= 0.0045 , 0.00425 , 96.18, 7630
> 0.0045 <= 0.005 , 0.00475 , 97.33, 3725
> 0.005 <= 0.006 , 0.0055 , 98.60, 4136
> 0.006 <= 0.007 , 0.0065 , 99.36, 2479
> 0.007 <= 0.008 , 0.0075 , 99.73, 1211
> 0.008 <= 0.009 , 0.0085 , 99.89, 529
> 0.009 <= 0.01 , 0.0095 , 99.94, 151
> 0.01 <= 0.012 , 0.011 , 99.97, 97
> 0.012 <= 0.014 , 0.013 , 99.98, 30
> 0.014 <= 0.016 , 0.015 , 99.99, 32
> 0.045 <= 0.05 , 0.0475 , 100.00, 23
> 0.05 <= 0.0558968 , 0.0529484 , 100.00, 9
# target 50% 0.00284057
# target 75% 0.00324374
# target 90% 0.00366104
# target 99% 0.00652668
# target 99.9% 0.00910904
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 325535 (100.0 %)
Response Header Sizes : count 325535 avg 75 +/- 0 min 75 max 75 sum 24415125
Response Body/Total Sizes : count 325535 avg 75 +/- 0 min 75 max 75 sum 24415125
All done 325535 calls (plus 32 warmup) 2.949 ms avg, 10849.4 qps
Successfully wrote 5428 bytes of Json data to /data/2018-12-08-063432_http_linkerd_0qps_30s_echo_1_4.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-istio:8080/echo
06:35:02 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 32 threads at -1.0 qps
06:35:02 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:35:32 I periodic.go:533> T007 ended after 30.001301197s : 3383 calls. qps=112.76177582385277
06:35:32 I periodic.go:533> T030 ended after 30.001950492s : 3400 calls. qps=113.32596528704384
06:35:32 I periodic.go:533> T022 ended after 30.003994329s : 3404 calls. qps=113.45156123796173
06:35:32 I periodic.go:533> T011 ended after 30.004011251s : 3403 calls. qps=113.41816837528954
06:35:32 I periodic.go:533> T004 ended after 30.004025181s : 3377 calls. qps=112.55156531925856
06:35:32 I periodic.go:533> T019 ended after 30.004037137s : 3399 calls. qps=113.28475513078418
06:35:32 I periodic.go:533> T009 ended after 30.004067254s : 3436 calls. qps=114.51780756630349
06:35:32 I periodic.go:533> T015 ended after 30.004080186s : 3401 calls. qps=113.35125019386255
06:35:32 I periodic.go:533> T006 ended after 30.004092982s : 3445 calls. qps=114.81766844499242
06:35:32 I periodic.go:533> T025 ended after 30.004104723s : 3400 calls. qps=113.31782872340429
06:35:32 I periodic.go:533> T018 ended after 30.004116581s : 3409 calls. qps=113.61774277862715
06:35:32 I periodic.go:533> T027 ended after 30.004154826s : 3428 calls. qps=114.2508435874847
06:35:32 I periodic.go:533> T010 ended after 30.00416578s : 3415 calls. qps=113.8175287071754
06:35:32 I periodic.go:533> T021 ended after 30.0041767s : 3415 calls. qps=113.81748728336213
06:35:32 I periodic.go:533> T017 ended after 30.004187679s : 3397 calls. qps=113.21752937765977
06:35:32 I periodic.go:533> T026 ended after 30.004198446s : 3437 calls. qps=114.550635511418
06:35:32 I periodic.go:533> T024 ended after 30.004209094s : 3429 calls. qps=114.28396560153635
06:35:32 I periodic.go:533> T008 ended after 30.005812244s : 3365 calls. qps=112.14493954160062
06:35:32 I periodic.go:533> T013 ended after 30.005845791s : 3365 calls. qps=112.14481416182254
06:35:32 I periodic.go:533> T003 ended after 30.005874268s : 3372 calls. qps=112.3779953845936
06:35:32 I periodic.go:533> T028 ended after 30.005887164s : 3410 calls. qps=113.64436523280662
06:35:32 I periodic.go:533> T031 ended after 30.005898341s : 3404 calls. qps=113.44436221557083
06:35:32 I periodic.go:533> T016 ended after 30.005913397s : 3395 calls. qps=113.14436441516335
06:35:32 I periodic.go:533> T020 ended after 30.005948339s : 3378 calls. qps=112.5776783268493
06:35:32 I periodic.go:533> T002 ended after 30.005981094s : 3435 calls. qps=114.47717670817514
06:35:32 I periodic.go:533> T029 ended after 30.005996013s : 3395 calls. qps=113.1440528929327
06:35:32 I periodic.go:533> T005 ended after 30.006008259s : 3412 calls. qps=113.71055991683282
06:35:32 I periodic.go:533> T023 ended after 30.006033713s : 3390 calls. qps=112.97727758438448
06:35:32 I periodic.go:533> T001 ended after 30.006044521s : 3408 calls. qps=113.57711602456901
06:35:32 I periodic.go:533> T012 ended after 30.006055151s : 3439 calls. qps=114.61020059764137
06:35:32 I periodic.go:533> T000 ended after 30.006070147s : 3425 calls. qps=114.1435710581524
06:35:32 I periodic.go:533> T014 ended after 30.006081842s : 3390 calls. qps=112.97709637167496
Ended after 30.006114388s : 108961 calls. qps=3631.3
Aggregated Function Time : count 108961 avg 0.008809642 +/- 0.004424 min 0.000845361 max 0.110561812 sum 959.907399
# range, mid point, percentile, count
>= 0.000845361 <= 0.0009 , 0.00087268 , 0.00, 1
> 0.0009 <= 0.001 , 0.00095 , 0.01, 7
> 0.001 <= 0.0011 , 0.00105 , 0.01, 5
> 0.0011 <= 0.0012 , 0.00115 , 0.02, 4
> 0.0012 <= 0.0014 , 0.0013 , 0.05, 41
> 0.0014 <= 0.0016 , 0.0015 , 0.17, 122
> 0.0016 <= 0.0018 , 0.0017 , 0.35, 198
> 0.0018 <= 0.002 , 0.0019 , 0.61, 283
> 0.002 <= 0.0025 , 0.00225 , 1.54, 1019
> 0.0025 <= 0.003 , 0.00275 , 2.93, 1510
> 0.003 <= 0.0035 , 0.00325 , 4.71, 1947
> 0.0035 <= 0.004 , 0.00375 , 7.60, 3144
> 0.004 <= 0.0045 , 0.00425 , 11.16, 3874
> 0.0045 <= 0.005 , 0.00475 , 15.13, 4334
> 0.005 <= 0.006 , 0.0055 , 26.36, 12238
> 0.006 <= 0.007 , 0.0065 , 38.82, 13567
> 0.007 <= 0.008 , 0.0075 , 49.91, 12090
> 0.008 <= 0.009 , 0.0085 , 60.18, 11190
> 0.009 <= 0.01 , 0.0095 , 69.42, 10065
> 0.01 <= 0.012 , 0.011 , 82.94, 14730
> 0.012 <= 0.014 , 0.013 , 90.68, 8440
> 0.014 <= 0.016 , 0.015 , 94.20, 3835
> 0.016 <= 0.018 , 0.017 , 95.78, 1721
> 0.018 <= 0.02 , 0.019 , 97.12, 1454
> 0.02 <= 0.025 , 0.0225 , 99.18, 2247
> 0.025 <= 0.03 , 0.0275 , 99.81, 685
> 0.03 <= 0.035 , 0.0325 , 99.90, 98
> 0.035 <= 0.04 , 0.0375 , 99.94, 44
> 0.04 <= 0.045 , 0.0425 , 99.96, 20
> 0.045 <= 0.05 , 0.0475 , 99.98, 26
> 0.05 <= 0.06 , 0.055 , 99.99, 11
> 0.06 <= 0.07 , 0.065 , 100.00, 8
> 0.07 <= 0.08 , 0.075 , 100.00, 2
> 0.1 <= 0.110562 , 0.105281 , 100.00, 1
# target 50% 0.00800862
# target 75% 0.0108258
# target 90% 0.0138237
# target 99% 0.024567
# target 99.9% 0.0353453
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 108961 (100.0 %)
Response Header Sizes : count 108961 avg 209.13284 +/- 0.3394 min 209 max 211 sum 22787323
Response Body/Total Sizes : count 108961 avg 209.13284 +/- 0.3394 min 209 max 211 sum 22787323
All done 108961 calls (plus 32 warmup) 8.810 ms avg, 3631.3 qps
Successfully wrote 6152 bytes of Json data to /data/2018-12-08-063502_http_istio_0qps_30s_echo_1_4.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-baseline:8079
06:35:32 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:36:02 I periodic.go:533> T022 ended after 30.000034317s : 13897 calls. qps=463.23280344132945
06:36:02 I periodic.go:533> T015 ended after 30.002612316s : 13987 calls. qps=466.19273857499786
06:36:02 I periodic.go:533> T028 ended after 30.002695318s : 13957 calls. qps=465.19153869574353
06:36:02 I periodic.go:533> T024 ended after 30.002727198s : 13993 calls. qps=466.39093531913267
06:36:02 I periodic.go:533> T023 ended after 30.002758808s : 13933 calls. qps=464.390627847359
06:36:02 I periodic.go:533> T026 ended after 30.002786668s : 13920 calls. qps=463.95690353811773
06:36:02 I periodic.go:533> T001 ended after 30.002813354s : 13980 calls. qps=465.9563033323398
06:36:02 I periodic.go:533> T013 ended after 30.002844095s : 13929 calls. qps=464.25598706228254
06:36:02 I periodic.go:533> T017 ended after 30.002868867s : 14018 calls. qps=467.2219867420187
06:36:02 I periodic.go:533> T025 ended after 30.002894539s : 13933 calls. qps=464.3885269765838
06:36:02 I periodic.go:533> T019 ended after 30.00292227s : 13959 calls. qps=465.2546800068752
06:36:02 I periodic.go:533> T002 ended after 30.002948399s : 13914 calls. qps=463.7544222308416
06:36:02 I periodic.go:533> T011 ended after 30.002973487s : 13915 calls. qps=463.7873644766988
06:36:02 I periodic.go:533> T003 ended after 30.002998434s : 13967 calls. qps=465.52013895292265
06:36:02 I periodic.go:533> T031 ended after 30.003023316s : 13967 calls. qps=465.5197528894258
06:36:02 I periodic.go:533> T021 ended after 30.003047816s : 13958 calls. qps=465.21940322864435
06:36:02 I periodic.go:533> T006 ended after 30.003075371s : 13921 calls. qps=463.9857690540479
06:36:02 I periodic.go:533> T009 ended after 30.003317483s : 13988 calls. qps=466.2151113097962
06:36:02 I periodic.go:533> T030 ended after 30.003348459s : 13923 calls. qps=464.048205120371
06:36:02 I periodic.go:533> T000 ended after 30.003395214s : 13966 calls. qps=465.48065311899336
06:36:02 I periodic.go:533> T012 ended after 30.003420891s : 13913 calls. qps=463.71378952236154
06:36:02 I periodic.go:533> T027 ended after 30.003455725s : 13925 calls. qps=464.11320507981253
06:36:02 I periodic.go:533> T018 ended after 30.005360871s : 13929 calls. qps=464.2170464099398
06:36:02 I periodic.go:533> T020 ended after 30.00543201s : 13939 calls. qps=464.5492187999329
06:36:02 I periodic.go:533> T005 ended after 30.00546156s : 13939 calls. qps=464.54876130224073
06:36:02 I periodic.go:533> T007 ended after 30.005490877s : 13925 calls. qps=464.0817261441265
06:36:02 I periodic.go:533> T029 ended after 30.005519837s : 13908 calls. qps=463.51471581072076
06:36:02 I periodic.go:533> T008 ended after 30.005574404s : 13922 calls. qps=463.980452850257
06:36:02 I periodic.go:533> T010 ended after 30.005613294s : 13912 calls. qps=463.6465805143826
06:36:02 I periodic.go:533> T016 ended after 30.005642112s : 13932 calls. qps=464.3126765292001
06:36:02 I periodic.go:533> T004 ended after 30.005668913s : 13932 calls. qps=464.31226180609957
06:36:02 I periodic.go:533> T014 ended after 30.005694737s : 13943 calls. qps=464.67845927949463
Ended after 30.005711072s : 446144 calls. qps=14869
Aggregated Function Time : count 446144 avg 0.0021512665 +/- 0.001235 min 0.000396755 max 0.076517788 sum 959.774641
# range, mid point, percentile, count
>= 0.000396755 <= 0.0004 , 0.000398378 , 0.00, 1
> 0.0004 <= 0.0005 , 0.00045 , 0.00, 17
> 0.0005 <= 0.0006 , 0.00055 , 0.03, 137
> 0.0006 <= 0.0007 , 0.00065 , 0.22, 847
> 0.0007 <= 0.0008 , 0.00075 , 0.76, 2398
> 0.0008 <= 0.0009 , 0.00085 , 1.59, 3687
> 0.0009 <= 0.001 , 0.00095 , 2.65, 4715
> 0.001 <= 0.0011 , 0.00105 , 4.04, 6201
> 0.0011 <= 0.0012 , 0.00115 , 6.20, 9651
> 0.0012 <= 0.0014 , 0.0013 , 15.95, 43498
> 0.0014 <= 0.0016 , 0.0015 , 30.62, 65472
> 0.0016 <= 0.0018 , 0.0017 , 45.84, 67884
> 0.0018 <= 0.002 , 0.0019 , 60.29, 64490
> 0.002 <= 0.0025 , 0.00225 , 79.32, 84877
> 0.0025 <= 0.003 , 0.00275 , 86.54, 32203
> 0.003 <= 0.0035 , 0.00325 , 90.08, 15790
> 0.0035 <= 0.004 , 0.00375 , 92.72, 11788
> 0.004 <= 0.0045 , 0.00425 , 95.14, 10818
> 0.0045 <= 0.005 , 0.00475 , 97.02, 8370
> 0.005 <= 0.006 , 0.0055 , 98.94, 8550
> 0.006 <= 0.007 , 0.0065 , 99.52, 2600
> 0.007 <= 0.008 , 0.0075 , 99.72, 903
> 0.008 <= 0.009 , 0.0085 , 99.85, 557
> 0.009 <= 0.01 , 0.0095 , 99.92, 350
> 0.01 <= 0.012 , 0.011 , 99.97, 204
> 0.012 <= 0.014 , 0.013 , 99.99, 100
> 0.014 <= 0.016 , 0.015 , 99.99, 4
> 0.07 <= 0.0765178 , 0.0732589 , 100.00, 32
# target 50% 0.00185757
# target 75% 0.0023865
# target 90% 0.00348928
# target 99% 0.00611098
# target 99.9% 0.00969673
Ping SERVING : 446144
All done 446144 calls (plus 32 warmup) 2.151 ms avg, 14868.6 qps
Successfully wrote 4747 bytes of Json data to /data/2018-12-08-063532_grpc_baseline_0qps_30s_echo_1_4.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-linkerd:8079
06:36:02 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:36:33 I periodic.go:533> T001 ended after 30.000001623s : 7445 calls. qps=248.16665324085074
06:36:33 I periodic.go:533> T003 ended after 30.000462132s : 7455 calls. qps=248.49617206556704
06:36:33 I periodic.go:533> T017 ended after 30.00246835s : 7355 calls. qps=245.14649642151858
06:36:33 I periodic.go:533> T011 ended after 30.002526949s : 7418 calls. qps=247.2458407456658
06:36:33 I periodic.go:533> T026 ended after 30.004823805s : 7491 calls. qps=249.65985631789314
06:36:33 I periodic.go:533> T030 ended after 30.004879613s : 7438 calls. qps=247.8930126011034
06:36:33 I periodic.go:533> T008 ended after 30.004895515s : 7454 calls. qps=248.4261275388747
06:36:33 I periodic.go:533> T028 ended after 30.004911002s : 7451 calls. qps=248.32601568134456
06:36:33 I periodic.go:533> T020 ended after 30.004923932s : 7443 calls. qps=248.05928576483083
06:36:33 I periodic.go:533> T015 ended after 30.004936856s : 7486 calls. qps=249.49227641860696
06:36:33 I periodic.go:533> T029 ended after 30.004949308s : 7320 calls. qps=243.95975226821403
06:36:33 I periodic.go:533> T021 ended after 30.00496202s : 7472 calls. qps=249.0254776866403
06:36:33 I periodic.go:533> T022 ended after 30.004974539s : 7314 calls. qps=243.75958028204212
06:36:33 I periodic.go:533> T007 ended after 30.004987416s : 7311 calls. qps=243.6594922916531
06:36:33 I periodic.go:533> T002 ended after 30.004999794s : 7322 calls. qps=244.02599734275472
06:36:33 I periodic.go:533> T019 ended after 30.005013134s : 7316 calls. qps=243.8259222659669
06:36:33 I periodic.go:533> T012 ended after 30.0050249s : 7374 calls. qps=245.75883621413027
06:36:33 I periodic.go:533> T016 ended after 30.00503779s : 7322 calls. qps=244.02568832758666
06:36:33 I periodic.go:533> T023 ended after 30.005049762s : 7439 calls. qps=247.92493460287966
06:36:33 I periodic.go:533> T004 ended after 30.005438942s : 7310 calls. qps=243.62249837871408
06:36:33 I periodic.go:533> T013 ended after 30.005871625s : 7419 calls. qps=247.2516077092961
06:36:33 I periodic.go:533> T005 ended after 30.005890377s : 7287 calls. qps=242.85231694326268
06:36:33 I periodic.go:533> T006 ended after 30.005911873s : 7487 calls. qps=249.51749614171774
06:36:33 I periodic.go:533> T000 ended after 30.005924708s : 7385 calls. qps=246.11806074521863
06:36:33 I periodic.go:533> T014 ended after 30.005935362s : 7366 calls. qps=245.48476530174833
06:36:33 I periodic.go:533> T025 ended after 30.005946248s : 7342 calls. qps=244.6848347763527
06:36:33 I periodic.go:533> T024 ended after 30.00595694s : 7325 calls. qps=244.11819341896316
06:36:33 I periodic.go:533> T010 ended after 30.005968998s : 7305 calls. qps=243.4515612705893
06:36:33 I periodic.go:533> T031 ended after 30.005982582s : 7347 calls. qps=244.85117192620515
06:36:33 I periodic.go:533> T027 ended after 30.006283344s : 7369 calls. qps=245.5818974819316
06:36:33 I periodic.go:533> T009 ended after 30.006298518s : 7442 calls. qps=248.01459585345847
06:36:33 I periodic.go:533> T018 ended after 30.006369749s : 7463 calls. qps=248.71385850495005
Ended after 30.006389519s : 236473 calls. qps=7880.8
Aggregated Function Time : count 236473 avg 0.0040589681 +/- 0.001364 min 0.000585269 max 0.018396271 sum 959.836365
# range, mid point, percentile, count
>= 0.000585269 <= 0.0006 , 0.000592635 , 0.00, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.00, 6
> 0.0007 <= 0.0008 , 0.00075 , 0.01, 19
> 0.0008 <= 0.0009 , 0.00085 , 0.02, 27
> 0.0009 <= 0.001 , 0.00095 , 0.03, 27
> 0.001 <= 0.0011 , 0.00105 , 0.06, 53
> 0.0011 <= 0.0012 , 0.00115 , 0.10, 96
> 0.0012 <= 0.0014 , 0.0013 , 0.21, 279
> 0.0014 <= 0.0016 , 0.0015 , 0.35, 322
> 0.0016 <= 0.0018 , 0.0017 , 0.72, 882
> 0.0018 <= 0.002 , 0.0019 , 1.53, 1905
> 0.002 <= 0.0025 , 0.00225 , 7.00, 12937
> 0.0025 <= 0.003 , 0.00275 , 16.70, 22942
> 0.003 <= 0.0035 , 0.00325 , 36.09, 45845
> 0.0035 <= 0.004 , 0.00375 , 57.99, 51792
> 0.004 <= 0.0045 , 0.00425 , 72.40, 34073
> 0.0045 <= 0.005 , 0.00475 , 82.96, 24972
> 0.005 <= 0.006 , 0.0055 , 92.57, 22732
> 0.006 <= 0.007 , 0.0065 , 96.07, 8277
> 0.007 <= 0.008 , 0.0075 , 98.07, 4733
> 0.008 <= 0.009 , 0.0085 , 99.03, 2261
> 0.009 <= 0.01 , 0.0095 , 99.49, 1078
> 0.01 <= 0.012 , 0.011 , 99.82, 791
> 0.012 <= 0.014 , 0.013 , 99.97, 352
> 0.014 <= 0.016 , 0.015 , 99.99, 46
> 0.016 <= 0.018 , 0.017 , 100.00, 24
> 0.018 <= 0.0183963 , 0.0181981 , 100.00, 1
# target 50% 0.00381757
# target 75% 0.00462311
# target 90% 0.00573235
# target 99% 0.00896783
# target 99.9% 0.0130598
Ping SERVING : 236473
All done 236473 calls (plus 32 warmup) 4.059 ms avg, 7880.8 qps
Successfully wrote 4645 bytes of Json data to /data/2018-12-08-063603_grpc_linkerd_0qps_30s_echo_1_4.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-istio:8079
06:36:33 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:37:03 I periodic.go:533> T013 ended after 30.00206505s : 2925 calls. qps=97.49328904944828
06:37:03 I periodic.go:533> T023 ended after 30.006848833s : 2900 calls. qps=96.64460324173487
06:37:03 I periodic.go:533> T020 ended after 30.007659245s : 2891 calls. qps=96.34206974946606
06:37:03 I periodic.go:533> T018 ended after 30.00769052s : 2930 calls. qps=97.64163616814054
06:37:03 I periodic.go:533> T022 ended after 30.007717753s : 2917 calls. qps=97.20832567176406
06:37:03 I periodic.go:533> T027 ended after 30.007731391s : 2897 calls. qps=96.54178659000114
06:37:03 I periodic.go:533> T030 ended after 30.007744192s : 2960 calls. qps=98.64120345271171
06:37:03 I periodic.go:533> T004 ended after 30.007786998s : 2967 calls. qps=98.87433552490054
06:37:03 I periodic.go:533> T017 ended after 30.007801993s : 2874 calls. qps=95.77509211339189
06:37:03 I periodic.go:533> T007 ended after 30.007815929s : 2936 calls. qps=97.84117601050085
06:37:03 I periodic.go:533> T010 ended after 30.007827853s : 2923 calls. qps=97.40791683819849
06:37:03 I periodic.go:533> T019 ended after 30.007839573s : 2920 calls. qps=97.30790491919697
06:37:03 I periodic.go:533> T000 ended after 30.007865475s : 2918 calls. qps=97.24117173315874
06:37:03 I periodic.go:533> T029 ended after 30.007877891s : 2958 calls. qps=98.57411479560729
06:37:03 I periodic.go:533> T015 ended after 30.007889477s : 2882 calls. qps=96.04140945030315
06:37:03 I periodic.go:533> T002 ended after 30.007902019s : 2940 calls. qps=97.97419353537246
06:37:03 I periodic.go:533> T009 ended after 30.00791841s : 2929 calls. qps=97.60757010802604
06:37:03 I periodic.go:533> T021 ended after 30.007946138s : 2952 calls. qps=98.37394356895989
06:37:03 I periodic.go:533> T024 ended after 30.007971207s : 2932 calls. qps=97.70737181046242
06:37:03 I periodic.go:533> T001 ended after 30.00798424s : 2919 calls. qps=97.27411133830961
06:37:03 I periodic.go:533> T006 ended after 30.008025371s : 2969 calls. qps=98.9401989398898
06:37:03 I periodic.go:533> T031 ended after 30.012624548s : 2866 calls. qps=95.493148072283
06:37:03 I periodic.go:533> T028 ended after 30.012672256s : 2913 calls. qps=97.0590014495509
06:37:03 I periodic.go:533> T012 ended after 30.012703237s : 2910 calls. qps=96.95894358534552
06:37:03 I periodic.go:533> T003 ended after 30.012716652s : 2916 calls. qps=97.15881550514962
06:37:03 I periodic.go:533> T016 ended after 30.012728715s : 2894 calls. qps=96.42575413523174
06:37:03 I periodic.go:533> T014 ended after 30.012741622s : 2964 calls. qps=98.75805540628527
06:37:03 I periodic.go:533> T025 ended after 30.01277939s : 2941 calls. qps=97.99159090810217
06:37:03 I periodic.go:533> T026 ended after 30.012793888s : 2921 calls. qps=97.32516109297981
06:37:03 I periodic.go:533> T005 ended after 30.012806903s : 2903 calls. qps=96.72537491686003
06:37:03 I periodic.go:533> T008 ended after 30.012820972s : 2913 calls. qps=97.0585205142042
06:37:03 I periodic.go:533> T011 ended after 30.012833216s : 2965 calls. qps=98.79107309400376
Ended after 30.012885813s : 93545 calls. qps=3116.8
Aggregated Function Time : count 93545 avg 0.010263244 +/- 0.003861 min 0.000797785 max 0.066543637 sum 960.075141
# range, mid point, percentile, count
>= 0.000797785 <= 0.0008 , 0.000798893 , 0.00, 1
> 0.0008 <= 0.0009 , 0.00085 , 0.00, 3
> 0.0009 <= 0.001 , 0.00095 , 0.01, 7
> 0.001 <= 0.0011 , 0.00105 , 0.03, 19
> 0.0011 <= 0.0012 , 0.00115 , 0.08, 48
> 0.0012 <= 0.0014 , 0.0013 , 0.15, 59
> 0.0014 <= 0.0016 , 0.0015 , 0.19, 44
> 0.0016 <= 0.0018 , 0.0017 , 0.25, 50
> 0.0018 <= 0.002 , 0.0019 , 0.33, 78
> 0.002 <= 0.0025 , 0.00225 , 1.04, 662
> 0.0025 <= 0.003 , 0.00275 , 1.55, 480
> 0.003 <= 0.0035 , 0.00325 , 2.43, 821
> 0.0035 <= 0.004 , 0.00375 , 3.82, 1297
> 0.004 <= 0.0045 , 0.00425 , 4.54, 674
> 0.0045 <= 0.005 , 0.00475 , 5.20, 625
> 0.005 <= 0.006 , 0.0055 , 8.65, 3227
> 0.006 <= 0.007 , 0.0065 , 11.47, 2635
> 0.007 <= 0.008 , 0.0075 , 15.96, 4196
> 0.008 <= 0.009 , 0.0085 , 26.10, 9493
> 0.009 <= 0.01 , 0.0095 , 54.52, 26579
> 0.01 <= 0.012 , 0.011 , 83.13, 26770
> 0.012 <= 0.014 , 0.013 , 92.32, 8594
> 0.014 <= 0.016 , 0.015 , 94.84, 2359
> 0.016 <= 0.018 , 0.017 , 95.86, 954
> 0.018 <= 0.02 , 0.019 , 96.38, 487
> 0.02 <= 0.025 , 0.0225 , 99.21, 2647
> 0.025 <= 0.03 , 0.0275 , 99.73, 485
> 0.03 <= 0.035 , 0.0325 , 99.86, 123
> 0.035 <= 0.04 , 0.0375 , 99.87, 5
> 0.04 <= 0.045 , 0.0425 , 99.93, 58
> 0.045 <= 0.05 , 0.0475 , 99.96, 31
> 0.05 <= 0.06 , 0.055 , 99.97, 9
> 0.06 <= 0.0665436 , 0.0632718 , 100.00, 25
# target 50% 0.00984102
# target 75% 0.0114315
# target 90% 0.0134946
# target 99% 0.0246233
# target 99.9% 0.0425392
Ping SERVING : 93545
All done 93545 calls (plus 32 warmup) 10.263 ms avg, 3116.8 qps
Successfully wrote 5403 bytes of Json data to /data/2018-12-08-063633_grpc_istio_0qps_30s_echo_1_4.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8080/echo
06:37:03 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
06:37:03 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:37:33 I periodic.go:533> T013 ended after 30.000075158s : 27212 calls. qps=907.0643942284753
06:37:33 I periodic.go:533> T022 ended after 30.002694193s : 27606 calls. qps=920.1173675409731
06:37:33 I periodic.go:533> T028 ended after 30.002761009s : 27140 calls. qps=904.5834145683708
06:37:33 I periodic.go:533> T021 ended after 30.002773592s : 27152 calls. qps=904.9829982132006
06:37:33 I periodic.go:533> T010 ended after 30.002820447s : 27738 calls. qps=924.5130819950475
06:37:33 I periodic.go:533> T016 ended after 30.002833016s : 27243 calls. qps=908.0142527031288
06:37:33 I periodic.go:533> T001 ended after 30.002843428s : 27130 calls. qps=904.2476278991967
06:37:33 I periodic.go:533> T026 ended after 30.002853376s : 27156 calls. qps=905.1139123228437
06:37:33 I periodic.go:533> T009 ended after 30.002863317s : 27078 calls. qps=902.5138605573444
06:37:33 I periodic.go:533> T018 ended after 30.002875704s : 27296 calls. qps=909.7794581191056
06:37:33 I periodic.go:533> T015 ended after 30.002900293s : 27352 calls. qps=911.645198727055
06:37:33 I periodic.go:533> T000 ended after 30.002909809s : 27661 calls. qps=921.9439106437105
06:37:33 I periodic.go:533> T019 ended after 30.002923124s : 27673 calls. qps=922.3434625229486
06:37:33 I periodic.go:533> T014 ended after 30.002933532s : 27724 calls. qps=924.0429763453172
06:37:33 I periodic.go:533> T012 ended after 30.002943115s : 27490 calls. qps=916.2434463389809
06:37:33 I periodic.go:533> T007 ended after 30.002952713s : 27650 calls. qps=921.5759616892478
06:37:33 I periodic.go:533> T023 ended after 30.005161134s : 27251 calls. qps=908.2104201440479
06:37:33 I periodic.go:533> T029 ended after 30.005231136s : 27718 calls. qps=923.7722540568668
06:37:33 I periodic.go:533> T003 ended after 30.005246426s : 27217 calls. qps=907.0747033230848
06:37:33 I periodic.go:533> T030 ended after 30.005258461s : 27166 calls. qps=905.3746374259568
06:37:33 I periodic.go:533> T011 ended after 30.005269554s : 27345 calls. qps=911.3399215023762
06:37:33 I periodic.go:533> T017 ended after 30.005281051s : 27638 calls. qps=921.1045200017846
06:37:33 I periodic.go:533> T020 ended after 30.005303045s : 27567 calls. qps=918.7375964394296
06:37:33 I periodic.go:533> T025 ended after 30.005314484s : 27590 calls. qps=919.503777062962
06:37:33 I periodic.go:533> T008 ended after 30.005324898s : 27502 calls. qps=916.5706451601576
06:37:33 I periodic.go:533> T027 ended after 30.005336069s : 27845 calls. qps=928.0016039803018
06:37:33 I periodic.go:533> T005 ended after 30.0053487s : 27671 calls. qps=922.2022472280084
06:37:33 I periodic.go:533> T002 ended after 30.005358726s : 27703 calls. qps=923.2684152512738
06:37:33 I periodic.go:533> T006 ended after 30.00539457s : 27192 calls. qps=906.2370413614594
06:37:33 I periodic.go:533> T004 ended after 30.005407514s : 27178 calls. qps=905.7700678559096
06:37:33 I periodic.go:533> T024 ended after 30.005425844s : 27291 calls. qps=909.535500075471
06:37:33 I periodic.go:533> T031 ended after 30.005439464s : 27590 calls. qps=919.4999471046575
Ended after 30.005457141s : 877765 calls. qps=29254
Aggregated Function Time : count 877765 avg 0.0010932178 +/- 0.0006984 min 7.2598e-05 max 0.013759155 sum 959.588318
# range, mid point, percentile, count
>= 7.2598e-05 <= 0.0001 , 8.6299e-05 , 0.20, 1768
> 0.0001 <= 0.0002 , 0.00015 , 2.71, 22003
> 0.0002 <= 0.0003 , 0.00025 , 6.61, 34207
> 0.0003 <= 0.0004 , 0.00035 , 11.57, 43539
> 0.0004 <= 0.0005 , 0.00045 , 17.69, 53748
> 0.0005 <= 0.0006 , 0.00055 , 24.39, 58797
> 0.0006 <= 0.0007 , 0.00065 , 31.27, 60456
> 0.0007 <= 0.0008 , 0.00075 , 38.02, 59206
> 0.0008 <= 0.0009 , 0.00085 , 44.64, 58085
> 0.0009 <= 0.001 , 0.00095 , 51.16, 57248
> 0.001 <= 0.0011 , 0.00105 , 57.30, 53896
> 0.0011 <= 0.0012 , 0.00115 , 62.94, 49504
> 0.0012 <= 0.0014 , 0.0013 , 73.64, 93969
> 0.0014 <= 0.0016 , 0.0015 , 82.47, 77442
> 0.0016 <= 0.0018 , 0.0017 , 88.57, 53545
> 0.0018 <= 0.002 , 0.0019 , 92.22, 32073
> 0.002 <= 0.0025 , 0.00225 , 96.83, 40414
> 0.0025 <= 0.003 , 0.00275 , 98.39, 13742
> 0.003 <= 0.0035 , 0.00325 , 98.97, 5122
> 0.0035 <= 0.004 , 0.00375 , 99.26, 2540
> 0.004 <= 0.0045 , 0.00425 , 99.47, 1812
> 0.0045 <= 0.005 , 0.00475 , 99.66, 1630
> 0.005 <= 0.006 , 0.0055 , 99.90, 2152
> 0.006 <= 0.007 , 0.0065 , 99.97, 629
> 0.007 <= 0.008 , 0.0075 , 99.98, 93
> 0.008 <= 0.009 , 0.0085 , 99.99, 74
> 0.009 <= 0.01 , 0.0095 , 100.00, 65
> 0.012 <= 0.0137592 , 0.0128796 , 100.00, 6
# target 50% 0.000982227
# target 75% 0.00143073
# target 90% 0.00187842
# target 99% 0.00354397
# target 99.9% 0.005995
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 877765 (100.0 %)
Response Header Sizes : count 877765 avg 75 +/- 0 min 75 max 75 sum 65832375
Response Body/Total Sizes : count 877765 avg 75 +/- 0 min 75 max 75 sum 65832375
All done 877765 calls (plus 32 warmup) 1.093 ms avg, 29253.5 qps
Successfully wrote 5342 bytes of Json data to /data/2018-12-08-063703_http_baseline_0qps_30s_echo_0_5.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-linkerd:8080/echo
06:37:33 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 32 threads at -1.0 qps
06:37:33 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:38:03 I periodic.go:533> T011 ended after 30.001035199s : 10290 calls. qps=342.98816463316535
06:38:03 I periodic.go:533> T010 ended after 30.001583006s : 10274 calls. qps=342.448596727223
06:38:03 I periodic.go:533> T030 ended after 30.00379599s : 10297 calls. qps=343.18990848464307
06:38:03 I periodic.go:533> T017 ended after 30.003851816s : 10322 calls. qps=344.0224962881479
06:38:03 I periodic.go:533> T025 ended after 30.003866629s : 10316 calls. qps=343.8223522174023
06:38:03 I periodic.go:533> T005 ended after 30.003879824s : 10224 calls. qps=340.75593089870523
06:38:03 I periodic.go:533> T029 ended after 30.00389263s : 10252 calls. qps=341.68899770522876
06:38:03 I periodic.go:533> T009 ended after 30.003903671s : 10301 calls. qps=343.32199279643527
06:38:03 I periodic.go:533> T006 ended after 30.003914283s : 10347 calls. qps=344.85500466392597
06:38:03 I periodic.go:533> T015 ended after 30.003945196s : 10257 calls. qps=341.8550438282836
06:38:03 I periodic.go:533> T021 ended after 30.003956273s : 10271 calls. qps=342.32152275340707
06:38:03 I periodic.go:533> T024 ended after 30.00396783s : 10299 calls. qps=343.25460080324314
06:38:03 I periodic.go:533> T003 ended after 30.003978655s : 10302 calls. qps=343.3544637015407
06:38:03 I periodic.go:533> T028 ended after 30.003991618s : 10252 calls. qps=341.6878704182019
06:38:03 I periodic.go:533> T004 ended after 30.004033384s : 10242 calls. qps=341.35410626031586
06:38:03 I periodic.go:533> T008 ended after 30.004045577s : 10312 calls. qps=343.6869862611061
06:38:03 I periodic.go:533> T016 ended after 30.004055745s : 10310 calls. qps=343.6202121347579
06:38:03 I periodic.go:533> T020 ended after 30.004067441s : 10224 calls. qps=340.75380013408096
06:38:03 I periodic.go:533> T018 ended after 30.004077556s : 10267 calls. qps=342.1868238021162
06:38:03 I periodic.go:533> T001 ended after 30.004088017s : 10290 calls. qps=342.95326670718316
06:38:03 I periodic.go:533> T027 ended after 30.006374097s : 10279 calls. qps=342.5605495276313
06:38:03 I periodic.go:533> T013 ended after 30.006433636s : 10285 calls. qps=342.75982693460264
06:38:03 I periodic.go:533> T014 ended after 30.006446827s : 10313 calls. qps=343.6928090639607
06:38:03 I periodic.go:533> T026 ended after 30.006459116s : 10258 calls. qps=341.85972961169034
06:38:03 I periodic.go:533> T000 ended after 30.006471536s : 10282 calls. qps=342.6594155752122
06:38:03 I periodic.go:533> T012 ended after 30.006497689s : 10283 calls. qps=342.6924430360834
06:38:03 I periodic.go:533> T022 ended after 30.006509927s : 10277 calls. qps=342.4923466608393
06:38:03 I periodic.go:533> T002 ended after 30.006521222s : 10235 calls. qps=341.09252199805036
06:38:03 I periodic.go:533> T019 ended after 30.006533218s : 10301 calls. qps=343.29190663787665
06:38:03 I periodic.go:533> T007 ended after 30.006544121s : 10250 calls. qps=341.5921526540127
06:38:03 I periodic.go:533> T023 ended after 30.006554558s : 10259 calls. qps=341.8919683087995
06:38:03 I periodic.go:533> T031 ended after 30.006580571s : 10234 calls. qps=341.05852133950566
Ended after 30.006599142s : 328905 calls. qps=10961
Aggregated Function Time : count 328905 avg 0.0029179721 +/- 0.0009221 min 0.00031098 max 0.038861087 sum 959.735617
# range, mid point, percentile, count
>= 0.00031098 <= 0.0004 , 0.00035549 , 0.00, 6
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 35
> 0.0005 <= 0.0006 , 0.00055 , 0.05, 135
> 0.0006 <= 0.0007 , 0.00065 , 0.09, 129
> 0.0007 <= 0.0008 , 0.00075 , 0.15, 184
> 0.0008 <= 0.0009 , 0.00085 , 0.25, 339
> 0.0009 <= 0.001 , 0.00095 , 0.36, 372
> 0.001 <= 0.0011 , 0.00105 , 0.47, 342
> 0.0011 <= 0.0012 , 0.00115 , 0.57, 343
> 0.0012 <= 0.0014 , 0.0013 , 1.03, 1516
> 0.0014 <= 0.0016 , 0.0015 , 1.91, 2872
> 0.0016 <= 0.0018 , 0.0017 , 3.09, 3899
> 0.0018 <= 0.002 , 0.0019 , 5.47, 7830
> 0.002 <= 0.0025 , 0.00225 , 24.42, 62325
> 0.0025 <= 0.003 , 0.00275 , 65.23, 134225
> 0.003 <= 0.0035 , 0.00325 , 88.98, 78117
> 0.0035 <= 0.004 , 0.00375 , 94.22, 17214
> 0.004 <= 0.0045 , 0.00425 , 96.20, 6537
> 0.0045 <= 0.005 , 0.00475 , 97.38, 3859
> 0.005 <= 0.006 , 0.0055 , 98.59, 4000
> 0.006 <= 0.007 , 0.0065 , 99.53, 3096
> 0.007 <= 0.008 , 0.0075 , 99.79, 840
> 0.008 <= 0.009 , 0.0085 , 99.89, 341
> 0.009 <= 0.01 , 0.0095 , 99.96, 201
> 0.01 <= 0.012 , 0.011 , 99.98, 84
> 0.03 <= 0.035 , 0.0325 , 99.99, 32
> 0.035 <= 0.0388611 , 0.0369305 , 100.00, 32
# target 50% 0.00281337
# target 75% 0.00320563
# target 90% 0.00359717
# target 99% 0.00643183
# target 99.9% 0.00909998
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 328905 (100.0 %)
Response Header Sizes : count 328905 avg 75 +/- 0 min 75 max 75 sum 24667875
Response Body/Total Sizes : count 328905 avg 75 +/- 0 min 75 max 75 sum 24667875
All done 328905 calls (plus 32 warmup) 2.918 ms avg, 10961.1 qps
Successfully wrote 5179 bytes of Json data to /data/2018-12-08-063733_http_linkerd_0qps_30s_echo_0_5.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8080/echo
06:38:03 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 32 threads at -1.0 qps
06:38:03 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:38:33 I periodic.go:533> T027 ended after 30.000560485s : 3350 calls. qps=111.66458045592077
06:38:33 I periodic.go:533> T005 ended after 30.000984146s : 3399 calls. qps=113.29628333053151
06:38:33 I periodic.go:533> T015 ended after 30.00336954s : 3314 calls. qps=110.45426066501729
06:38:33 I periodic.go:533> T017 ended after 30.003448976s : 3366 calls. qps=112.1871023125538
06:38:33 I periodic.go:533> T010 ended after 30.003465097s : 3355 calls. qps=111.82041771353474
06:38:33 I periodic.go:533> T014 ended after 30.003478073s : 3367 calls. qps=112.22032298415259
06:38:33 I periodic.go:533> T008 ended after 30.003491402s : 3375 calls. qps=112.48690876605868
06:38:33 I periodic.go:533> T031 ended after 30.003533614s : 3377 calls. qps=112.5534093232356
06:38:33 I periodic.go:533> T002 ended after 30.003546173s : 3342 calls. qps=111.38683343395736
06:38:33 I periodic.go:533> T006 ended after 30.003557404s : 3398 calls. qps=113.25323708271297
06:38:33 I periodic.go:533> T003 ended after 30.003567605s : 3377 calls. qps=112.55328181163475
06:38:33 I periodic.go:533> T007 ended after 30.003589967s : 3351 calls. qps=111.68663495553895
06:38:33 I periodic.go:533> T021 ended after 30.003617329s : 3364 calls. qps=112.11981419148835
06:38:33 I periodic.go:533> T009 ended after 30.003657964s : 3352 calls. qps=111.71971111062224
06:38:33 I periodic.go:533> T023 ended after 30.003669934s : 3361 calls. qps=112.0196298450588
06:38:33 I periodic.go:533> T011 ended after 30.003695393s : 3359 calls. qps=111.95287633748175
06:38:33 I periodic.go:533> T013 ended after 30.003706247s : 3369 calls. qps=112.28612799583246
06:38:33 I periodic.go:533> T029 ended after 30.003717585s : 3357 calls. qps=111.88613512607824
06:38:33 I periodic.go:533> T026 ended after 30.00372916s : 3377 calls. qps=112.55267576878768
06:38:33 I periodic.go:533> T028 ended after 30.003740313s : 3371 calls. qps=112.35265886298234
06:38:33 I periodic.go:533> T018 ended after 30.00375463s : 3357 calls. qps=111.8859969826383
06:38:33 I periodic.go:533> T016 ended after 30.006052351s : 3358 calls. qps=111.9107558941551
06:38:33 I periodic.go:533> T004 ended after 30.006097222s : 3341 calls. qps=111.34403702292983
06:38:33 I periodic.go:533> T022 ended after 30.006126434s : 3345 calls. qps=111.47723473596292
06:38:33 I periodic.go:533> T019 ended after 30.006140347s : 3382 calls. qps=112.71026399562018
06:38:33 I periodic.go:533> T020 ended after 30.006182845s : 3358 calls. qps=111.91026920505323
06:38:33 I periodic.go:533> T024 ended after 30.006196011s : 3311 calls. qps=110.34387693749042
06:38:33 I periodic.go:533> T000 ended after 30.006206782s : 3332 calls. qps=111.04369253359897
06:38:33 I periodic.go:533> T012 ended after 30.006218954s : 3362 calls. qps=112.04344023330624
06:38:33 I periodic.go:533> T030 ended after 30.006229886s : 3322 calls. qps=110.71034290615579
06:38:33 I periodic.go:533> T001 ended after 30.006256614s : 3408 calls. qps=113.57631322828624
06:38:33 I periodic.go:533> T025 ended after 30.006269557s : 3369 calls. qps=112.27653586195504
Ended after 30.006288143s : 107526 calls. qps=3583.4
Aggregated Function Time : count 107526 avg 0.0089270837 +/- 0.004491 min 0.000884955 max 0.073381242 sum 959.893605
# range, mid point, percentile, count
>= 0.000884955 <= 0.0009 , 0.000892477 , 0.00, 2
> 0.0009 <= 0.001 , 0.00095 , 0.00, 2
> 0.001 <= 0.0011 , 0.00105 , 0.01, 2
> 0.0011 <= 0.0012 , 0.00115 , 0.01, 4
> 0.0012 <= 0.0014 , 0.0013 , 0.05, 39
> 0.0014 <= 0.0016 , 0.0015 , 0.14, 104
> 0.0016 <= 0.0018 , 0.0017 , 0.32, 193
> 0.0018 <= 0.002 , 0.0019 , 0.59, 285
> 0.002 <= 0.0025 , 0.00225 , 1.39, 865
> 0.0025 <= 0.003 , 0.00275 , 2.66, 1365
> 0.003 <= 0.0035 , 0.00325 , 4.49, 1965
> 0.0035 <= 0.004 , 0.00375 , 7.16, 2868
> 0.004 <= 0.0045 , 0.00425 , 10.65, 3753
> 0.0045 <= 0.005 , 0.00475 , 14.59, 4245
> 0.005 <= 0.006 , 0.0055 , 25.41, 11630
> 0.006 <= 0.007 , 0.0065 , 37.55, 13052
> 0.007 <= 0.008 , 0.0075 , 48.82, 12125
> 0.008 <= 0.009 , 0.0085 , 59.44, 11412
> 0.009 <= 0.01 , 0.0095 , 68.50, 9748
> 0.01 <= 0.012 , 0.011 , 82.07, 14592
> 0.012 <= 0.014 , 0.013 , 89.99, 8514
> 0.014 <= 0.016 , 0.015 , 93.82, 4116
> 0.016 <= 0.018 , 0.017 , 95.66, 1983
> 0.018 <= 0.02 , 0.019 , 97.03, 1473
> 0.02 <= 0.025 , 0.0225 , 99.07, 2192
> 0.025 <= 0.03 , 0.0275 , 99.70, 675
> 0.03 <= 0.035 , 0.0325 , 99.86, 174
> 0.035 <= 0.04 , 0.0375 , 99.93, 71
> 0.04 <= 0.045 , 0.0425 , 99.94, 16
> 0.045 <= 0.05 , 0.0475 , 99.97, 30
> 0.05 <= 0.06 , 0.055 , 100.00, 27
> 0.06 <= 0.07 , 0.065 , 100.00, 3
> 0.07 <= 0.0733812 , 0.0716906 , 100.00, 1
# target 50% 0.00811076
# target 75% 0.0109574
# target 90% 0.0140041
# target 99% 0.0248215
# target 99.9% 0.0378503
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 107526 (100.0 %)
Response Header Sizes : count 107526 avg 209.13722 +/- 0.3441 min 209 max 210 sum 22487689
Response Body/Total Sizes : count 107526 avg 209.13722 +/- 0.3441 min 209 max 210 sum 22487689
All done 107526 calls (plus 32 warmup) 8.927 ms avg, 3583.4 qps
Successfully wrote 6037 bytes of Json data to /data/2018-12-08-063803_http_istio_0qps_30s_echo_0_5.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8079
06:38:34 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:39:04 I periodic.go:533> T018 ended after 30.000165572s : 13422 calls. qps=447.3975307832011
06:39:04 I periodic.go:533> T011 ended after 30.000694923s : 13523 calls. qps=450.75622530438807
06:39:04 I periodic.go:533> T025 ended after 30.003878917s : 13508 calls. qps=450.2084559588879
06:39:04 I periodic.go:533> T013 ended after 30.003937225s : 13499 calls. qps=449.9076204156403
06:39:04 I periodic.go:533> T030 ended after 30.00397003s : 13479 calls. qps=449.24055005130265
06:39:04 I periodic.go:533> T017 ended after 30.003999802s : 13481 calls. qps=449.3067620638161
06:39:04 I periodic.go:533> T006 ended after 30.004028005s : 13500 calls. qps=449.9395880363231
06:39:04 I periodic.go:533> T021 ended after 30.004058786s : 13496 calls. qps=449.805811149033
06:39:04 I periodic.go:533> T016 ended after 30.004085236s : 13429 calls. qps=447.5723853726223
06:39:04 I periodic.go:533> T012 ended after 30.004112953s : 13411 calls. qps=446.97205416496354
06:39:04 I periodic.go:533> T004 ended after 30.004160608s : 13489 calls. qps=449.57098371228665
06:39:04 I periodic.go:533> T008 ended after 30.004189376s : 13472 calls. qps=449.0039651188209
06:39:04 I periodic.go:533> T001 ended after 30.004214534s : 13463 calls. qps=448.70363077640565
06:39:04 I periodic.go:533> T015 ended after 30.004240571s : 13465 calls. qps=448.76989864607094
06:39:04 I periodic.go:533> T003 ended after 30.004265545s : 13489 calls. qps=449.5694113815043
06:39:04 I periodic.go:533> T000 ended after 30.004291523s : 13443 calls. qps=448.0359081198493
06:39:04 I periodic.go:533> T005 ended after 30.00431749s : 13501 calls. qps=449.9685755058313
06:39:04 I periodic.go:533> T026 ended after 30.004343054s : 13430 calls. qps=447.6018680305547
06:39:04 I periodic.go:533> T028 ended after 30.004370938s : 13607 calls. qps=453.5005925675641
06:39:04 I periodic.go:533> T023 ended after 30.00474276s : 13493 calls. qps=449.69557339407766
06:39:04 I periodic.go:533> T031 ended after 30.004870735s : 13461 calls. qps=448.62716186602495
06:39:04 I periodic.go:533> T029 ended after 30.004957268s : 13429 calls. qps=447.5593776073096
06:39:04 I periodic.go:533> T020 ended after 30.00498624s : 13447 calls. qps=448.15884574789925
06:39:04 I periodic.go:533> T007 ended after 30.005014217s : 13516 calls. qps=450.4580435206797
06:39:04 I periodic.go:533> T002 ended after 30.005039844s : 13495 calls. qps=449.75777636564436
06:39:04 I periodic.go:533> T019 ended after 30.005068378s : 13477 calls. qps=449.157450008728
06:39:04 I periodic.go:533> T024 ended after 30.005098092s : 13519 calls. qps=450.5567673382962
06:39:04 I periodic.go:533> T010 ended after 30.005127053s : 13390 calls. qps=446.2570672121593
06:39:04 I periodic.go:533> T022 ended after 30.005153601s : 13441 calls. qps=447.95638038500306
06:39:04 I periodic.go:533> T009 ended after 30.005187798s : 13427 calls. qps=447.4892838662712
06:39:04 I periodic.go:533> T014 ended after 30.005214119s : 13603 calls. qps=453.3545385162329
06:39:04 I periodic.go:533> T027 ended after 30.005245691s : 13414 calls. qps=447.0551628918505
Ended after 30.00526265s : 431219 calls. qps=14371
Aggregated Function Time : count 431219 avg 0.0022257359 +/- 0.001418 min 0.000330324 max 0.106915992 sum 959.779618
# range, mid point, percentile, count
>= 0.000330324 <= 0.0004 , 0.000365162 , 0.00, 1
> 0.0004 <= 0.0005 , 0.00045 , 0.00, 14
> 0.0005 <= 0.0006 , 0.00055 , 0.03, 101
> 0.0006 <= 0.0007 , 0.00065 , 0.20, 733
> 0.0007 <= 0.0008 , 0.00075 , 0.69, 2119
> 0.0008 <= 0.0009 , 0.00085 , 1.48, 3423
> 0.0009 <= 0.001 , 0.00095 , 2.52, 4470
> 0.001 <= 0.0011 , 0.00105 , 3.85, 5750
> 0.0011 <= 0.0012 , 0.00115 , 5.75, 8204
> 0.0012 <= 0.0014 , 0.0013 , 14.60, 38137
> 0.0014 <= 0.0016 , 0.0015 , 28.30, 59101
> 0.0016 <= 0.0018 , 0.0017 , 43.17, 64102
> 0.0018 <= 0.002 , 0.0019 , 57.03, 59779
> 0.002 <= 0.0025 , 0.00225 , 76.19, 82619
> 0.0025 <= 0.003 , 0.00275 , 84.28, 34888
> 0.003 <= 0.0035 , 0.00325 , 88.68, 18958
> 0.0035 <= 0.004 , 0.00375 , 92.05, 14547
> 0.004 <= 0.0045 , 0.00425 , 94.60, 10987
> 0.0045 <= 0.005 , 0.00475 , 96.57, 8475
> 0.005 <= 0.006 , 0.0055 , 98.75, 9402
> 0.006 <= 0.007 , 0.0065 , 99.47, 3132
> 0.007 <= 0.008 , 0.0075 , 99.71, 1039
> 0.008 <= 0.009 , 0.0085 , 99.83, 489
> 0.009 <= 0.01 , 0.0095 , 99.89, 281
> 0.01 <= 0.012 , 0.011 , 99.95, 252
> 0.012 <= 0.014 , 0.013 , 99.98, 129
> 0.014 <= 0.016 , 0.015 , 99.99, 33
> 0.016 <= 0.018 , 0.017 , 99.99, 22
> 0.1 <= 0.106916 , 0.103458 , 100.00, 32
# target 50% 0.00189854
# target 75% 0.0024689
# target 90% 0.00369585
# target 99% 0.00635019
# target 99.9% 0.0102919
Ping SERVING : 431219
All done 431219 calls (plus 32 warmup) 2.226 ms avg, 14371.4 qps
Successfully wrote 4887 bytes of Json data to /data/2018-12-08-063834_grpc_baseline_0qps_30s_echo_0_5.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-linkerd:8079
06:39:04 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:39:34 I periodic.go:533> T023 ended after 30.000535184s : 7516 calls. qps=250.52886403201438
06:39:34 I periodic.go:533> T008 ended after 30.005277145s : 7470 calls. qps=248.95620739983002
06:39:34 I periodic.go:533> T003 ended after 30.005377468s : 7505 calls. qps=250.12183259497064
06:39:34 I periodic.go:533> T019 ended after 30.005392818s : 7525 calls. qps=250.7882514867731
06:39:34 I periodic.go:533> T002 ended after 30.005404881s : 7397 calls. qps=246.5222525520368
06:39:34 I periodic.go:533> T009 ended after 30.005418479s : 7367 calls. qps=245.522321415246
06:39:34 I periodic.go:533> T012 ended after 30.005430389s : 7427 calls. qps=247.52186200011116
06:39:34 I periodic.go:533> T017 ended after 30.005467201s : 7408 calls. qps=246.88834039395033
06:39:34 I periodic.go:533> T016 ended after 30.005480614s : 7500 calls. qps=249.95433655878983
06:39:34 I periodic.go:533> T013 ended after 30.005492098s : 7536 calls. qps=251.15402125007333
06:39:34 I periodic.go:533> T020 ended after 30.00550355s : 7449 calls. qps=248.25445730604977
06:39:34 I periodic.go:533> T031 ended after 30.005514778s : 7539 calls. qps=251.2538130333156
06:39:34 I periodic.go:533> T029 ended after 30.005525664s : 7381 calls. qps=245.98802509417686
06:39:34 I periodic.go:533> T022 ended after 30.006305368s : 7466 calls. qps=248.8143711275451
06:39:34 I periodic.go:533> T018 ended after 30.006326706s : 7394 calls. qps=246.41470022125407
06:39:34 I periodic.go:533> T015 ended after 30.006338209s : 7413 calls. qps=247.0478053125646
06:39:34 I periodic.go:533> T007 ended after 30.00634937s : 7412 calls. qps=247.01438714202374
06:39:34 I periodic.go:533> T027 ended after 30.006376684s : 7400 calls. qps=246.61424729583655
06:39:34 I periodic.go:533> T001 ended after 30.006388306s : 7405 calls. qps=246.78078296145074
06:39:34 I periodic.go:533> T028 ended after 30.006399011s : 7553 calls. qps=251.7129761965492
06:39:34 I periodic.go:533> T006 ended after 30.006409333s : 7533 calls. qps=251.04636534153622
06:39:34 I periodic.go:533> T011 ended after 30.006419759s : 7510 calls. qps=250.2797754719632
06:39:34 I periodic.go:533> T000 ended after 30.006542889s : 7550 calls. qps=251.6117910659988
06:39:34 I periodic.go:533> T004 ended after 30.006560063s : 7383 calls. qps=246.0461973814756
06:39:34 I periodic.go:533> T010 ended after 30.006571419s : 7417 calls. qps=247.17918939927924
06:39:34 I periodic.go:533> T024 ended after 30.006605555s : 7395 calls. qps=246.44573630447752
06:39:34 I periodic.go:533> T025 ended after 30.006617499s : 7542 calls. qps=251.34455758805018
06:39:34 I periodic.go:533> T030 ended after 30.006628195s : 7398 calls. qps=246.54552827207448
06:39:34 I periodic.go:533> T021 ended after 30.006639467s : 7514 calls. qps=250.41124675969036
06:39:34 I periodic.go:533> T014 ended after 30.006651653s : 7569 calls. qps=252.24407199872525
06:39:34 I periodic.go:533> T026 ended after 30.006996631s : 7477 calls. qps=249.17522043094337
06:39:34 I periodic.go:533> T005 ended after 30.007011194s : 7481 calls. qps=249.30840168099948
Ended after 30.007027506s : 238832 calls. qps=7959.2
Aggregated Function Time : count 238832 avg 0.004018965 +/- 0.001377 min 0.000552567 max 0.028213362 sum 959.85746
# range, mid point, percentile, count
>= 0.000552567 <= 0.0006 , 0.000576284 , 0.00, 4
> 0.0006 <= 0.0007 , 0.00065 , 0.01, 9
> 0.0007 <= 0.0008 , 0.00075 , 0.01, 12
> 0.0008 <= 0.0009 , 0.00085 , 0.02, 23
> 0.0009 <= 0.001 , 0.00095 , 0.04, 49
> 0.001 <= 0.0011 , 0.00105 , 0.06, 42
> 0.0011 <= 0.0012 , 0.00115 , 0.10, 90
> 0.0012 <= 0.0014 , 0.0013 , 0.24, 352
> 0.0014 <= 0.0016 , 0.0015 , 0.41, 403
> 0.0016 <= 0.0018 , 0.0017 , 0.78, 873
> 0.0018 <= 0.002 , 0.0019 , 1.63, 2030
> 0.002 <= 0.0025 , 0.00225 , 7.64, 14357
> 0.0025 <= 0.003 , 0.00275 , 18.48, 25888
> 0.003 <= 0.0035 , 0.00325 , 37.75, 46023
> 0.0035 <= 0.004 , 0.00375 , 59.28, 51414
> 0.004 <= 0.0045 , 0.00425 , 73.22, 33295
> 0.0045 <= 0.005 , 0.00475 , 83.21, 23877
> 0.005 <= 0.006 , 0.0055 , 92.90, 23135
> 0.006 <= 0.007 , 0.0065 , 96.31, 8154
> 0.007 <= 0.008 , 0.0075 , 98.27, 4661
> 0.008 <= 0.009 , 0.0085 , 99.13, 2075
> 0.009 <= 0.01 , 0.0095 , 99.55, 993
> 0.01 <= 0.012 , 0.011 , 99.84, 685
> 0.012 <= 0.014 , 0.013 , 99.94, 242
> 0.014 <= 0.016 , 0.015 , 99.97, 83
> 0.016 <= 0.018 , 0.017 , 99.98, 26
> 0.018 <= 0.02 , 0.019 , 99.99, 5
> 0.025 <= 0.0282134 , 0.0266067 , 100.00, 32
# target 50% 0.00378456
# target 75% 0.00458921
# target 90% 0.00570057
# target 99% 0.00884467
# target 99.9% 0.0132328
Ping SERVING : 238832
All done 238832 calls (plus 32 warmup) 4.019 ms avg, 7959.2 qps
Successfully wrote 4763 bytes of Json data to /data/2018-12-08-063904_grpc_linkerd_0qps_30s_echo_0_5.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8079
06:39:34 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
