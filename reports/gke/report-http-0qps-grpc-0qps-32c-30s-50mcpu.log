1.3.1-pre unknown go1.11.2
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8080/echo
06:19:44 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
06:19:44 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:20:14 I periodic.go:533> T030 ended after 30.051304896s : 7336 calls. qps=244.11585538092433
06:20:14 I periodic.go:533> T014 ended after 30.051422165s : 7346 calls. qps=244.44766572663798
06:20:14 I periodic.go:533> T018 ended after 30.05146568s : 7360 calls. qps=244.91317922301087
06:20:14 I periodic.go:533> T020 ended after 30.051480577s : 7373 calls. qps=245.34564881448637
06:20:14 I periodic.go:533> T027 ended after 30.051510583s : 7389 calls. qps=245.87782299968387
06:20:14 I periodic.go:533> T019 ended after 30.051521755s : 7342 calls. qps=244.31375089277904
06:20:14 I periodic.go:533> T022 ended after 30.05166308s : 7346 calls. qps=244.44570606439794
06:20:14 I periodic.go:533> T029 ended after 30.051675638s : 7367 calls. qps=245.1444002238768
06:20:14 I periodic.go:533> T008 ended after 30.051699605s : 7273 calls. qps=242.01626182866272
06:20:14 I periodic.go:533> T005 ended after 30.051744152s : 7368 calls. qps=245.17711726590903
06:20:14 I periodic.go:533> T004 ended after 30.051756396s : 7379 calls. qps=245.543052551237
06:20:14 I periodic.go:533> T025 ended after 30.051767784s : 7257 calls. qps=241.48329815937595
06:20:14 I periodic.go:533> T011 ended after 30.051777931s : 7267 calls. qps=241.8159756366263
06:20:14 I periodic.go:533> T001 ended after 30.051788221s : 7197 calls. qps=239.48658053469117
06:20:14 I periodic.go:533> T023 ended after 30.051797571s : 7357 calls. qps=244.81064677141006
06:20:14 I periodic.go:533> T031 ended after 30.051823384s : 7370 calls. qps=245.24302255562597
06:20:14 I periodic.go:533> T012 ended after 30.051836926s : 7346 calls. qps=244.4442919775213
06:20:14 I periodic.go:533> T024 ended after 30.051846591s : 7405 calls. qps=246.4074870599688
06:20:14 I periodic.go:533> T003 ended after 30.051856341s : 7371 calls. qps=245.2760294193102
06:20:14 I periodic.go:533> T002 ended after 30.051990134s : 7364 calls. qps=245.04200777267565
06:20:14 I periodic.go:533> T015 ended after 30.052011919s : 7340 calls. qps=244.24321472331704
06:20:14 I periodic.go:533> T017 ended after 30.052032146s : 7308 calls. qps=243.1782304935646
06:20:14 I periodic.go:533> T006 ended after 30.05204248s : 7317 calls. qps=243.477627348276
06:20:14 I periodic.go:533> T000 ended after 30.052085645s : 7317 calls. qps=243.4772776317236
06:20:14 I periodic.go:533> T007 ended after 30.052096333s : 7481 calls. qps=248.9343810529838
06:20:14 I periodic.go:533> T026 ended after 30.052120776s : 7400 calls. qps=246.23886131556256
06:20:14 I periodic.go:533> T028 ended after 30.052154412s : 7471 calls. qps=248.6011451151331
06:20:14 I periodic.go:533> T010 ended after 30.052165711s : 7434 calls. qps=247.36985918052926
06:20:14 I periodic.go:533> T021 ended after 30.052175302s : 7400 calls. qps=246.2384145452367
06:20:14 I periodic.go:533> T016 ended after 30.052185762s : 7382 calls. qps=245.6393707420209
06:20:14 I periodic.go:533> T009 ended after 30.05219815s : 7258 calls. qps=241.51311540583598
06:20:14 I periodic.go:533> T013 ended after 30.052208423s : 7423 calls. qps=247.00347793138957
Ended after 30.052236306s : 235344 calls. qps=7831.2
Aggregated Function Time : count 235344 avg 0.0040853095 +/- 0.01467 min 7.3671e-05 max 0.082123836 sum 961.453086
# range, mid point, percentile, count
>= 7.3671e-05 <= 0.0001 , 8.68355e-05 , 0.41, 971
> 0.0001 <= 0.0002 , 0.00015 , 4.56, 9757
> 0.0002 <= 0.0003 , 0.00025 , 9.57, 11802
> 0.0003 <= 0.0004 , 0.00035 , 14.86, 12432
> 0.0004 <= 0.0005 , 0.00045 , 20.38, 13008
> 0.0005 <= 0.0006 , 0.00055 , 26.04, 13323
> 0.0006 <= 0.0007 , 0.00065 , 31.53, 12903
> 0.0007 <= 0.0008 , 0.00075 , 36.99, 12857
> 0.0008 <= 0.0009 , 0.00085 , 42.50, 12966
> 0.0009 <= 0.001 , 0.00095 , 48.06, 13096
> 0.001 <= 0.0011 , 0.00105 , 53.52, 12841
> 0.0011 <= 0.0012 , 0.00115 , 58.93, 12743
> 0.0012 <= 0.0014 , 0.0013 , 69.59, 25077
> 0.0014 <= 0.0016 , 0.0015 , 79.72, 23846
> 0.0016 <= 0.0018 , 0.0017 , 87.81, 19023
> 0.0018 <= 0.002 , 0.0019 , 90.65, 6696
> 0.002 <= 0.0025 , 0.00225 , 93.40, 6477
> 0.0025 <= 0.003 , 0.00275 , 94.46, 2478
> 0.003 <= 0.0035 , 0.00325 , 94.90, 1055
> 0.0035 <= 0.004 , 0.00375 , 95.12, 502
> 0.004 <= 0.0045 , 0.00425 , 95.36, 571
> 0.0045 <= 0.005 , 0.00475 , 95.58, 521
> 0.005 <= 0.006 , 0.0055 , 95.86, 644
> 0.006 <= 0.007 , 0.0065 , 95.90, 107
> 0.007 <= 0.008 , 0.0075 , 95.91, 16
> 0.025 <= 0.03 , 0.0275 , 95.92, 32
> 0.05 <= 0.06 , 0.055 , 95.97, 112
> 0.06 <= 0.07 , 0.065 , 96.15, 439
> 0.07 <= 0.08 , 0.075 , 99.98, 9007
> 0.08 <= 0.0821238 , 0.0810619 , 100.00, 42
# target 50% 0.00103549
# target 75% 0.00150679
# target 90% 0.00195426
# target 99% 0.0774337
# target 99.9% 0.0797853
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 235344 (100.0 %)
Response Header Sizes : count 235344 avg 75 +/- 0 min 75 max 75 sum 17650800
Response Body/Total Sizes : count 235344 avg 75 +/- 0 min 75 max 75 sum 17650800
All done 235344 calls (plus 32 warmup) 4.085 ms avg, 7831.2 qps
Successfully wrote 5584 bytes of Json data to /data/2018-12-14-061944_http_baseline_0qps_30s_echo_0_0.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-linkerd:8080/echo
06:20:14 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 32 threads at -1.0 qps
06:20:14 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:20:44 I periodic.go:533> T002 ended after 30.000565251s : 489 calls. qps=16.29969288607655
06:20:44 I periodic.go:533> T001 ended after 30.001001385s : 472 calls. qps=15.732808180062687
06:20:44 I periodic.go:533> T009 ended after 30.002993612s : 483 calls. qps=16.098393588525756
06:20:44 I periodic.go:533> T005 ended after 30.004246327s : 474 calls. qps=15.7977639176179
06:20:44 I periodic.go:533> T030 ended after 30.004283881s : 491 calls. qps=16.364329905268036
06:20:44 I periodic.go:533> T013 ended after 30.004307493s : 493 calls. qps=16.430974123132714
06:20:44 I periodic.go:533> T000 ended after 30.00431711s : 500 calls. qps=16.664268617310317
06:20:44 I periodic.go:533> T006 ended after 30.00437765s : 463 calls. qps=15.431081604187181
06:20:44 I periodic.go:533> T021 ended after 30.004388033s : 502 calls. qps=16.730886143982698
06:20:44 I periodic.go:533> T022 ended after 30.004397405s : 481 calls. qps=16.03098350909874
06:20:44 I periodic.go:533> T020 ended after 30.004406659s : 485 calls. qps=16.16429231585959
06:20:44 I periodic.go:533> T016 ended after 30.004415435s : 502 calls. qps=16.730870864240185
06:20:44 I periodic.go:533> T004 ended after 30.004424819s : 485 calls. qps=16.164282532517625
06:20:44 I periodic.go:533> T007 ended after 30.004434102s : 513 calls. qps=17.097472935368742
06:20:44 I periodic.go:533> T015 ended after 30.004442231s : 466 calls. qps=15.531033585371501
06:20:44 I periodic.go:533> T008 ended after 30.004450576s : 498 calls. qps=16.597537713233148
06:20:44 I periodic.go:533> T017 ended after 30.004460298s : 479 calls. qps=15.964293149839744
06:20:44 I periodic.go:533> T026 ended after 30.00446917s : 474 calls. qps=15.797646587726652
06:20:44 I periodic.go:533> T031 ended after 30.004478577s : 500 calls. qps=16.66417893971589
06:20:44 I periodic.go:533> T025 ended after 30.004488372s : 484 calls. qps=16.13091994768575
06:20:44 I periodic.go:533> T028 ended after 30.0044967s : 493 calls. qps=16.430870510152566
06:20:44 I periodic.go:533> T014 ended after 30.004505519s : 494 calls. qps=16.46419400870247
06:20:44 I periodic.go:533> T029 ended after 30.004514452s : 495 calls. qps=16.497517424982192
06:20:44 I periodic.go:533> T018 ended after 30.004523204s : 472 calls. qps=15.730961521730702
06:20:44 I periodic.go:533> T003 ended after 30.004531415s : 490 calls. qps=16.33086660220386
06:20:44 I periodic.go:533> T012 ended after 30.004539668s : 469 calls. qps=15.63096801982238
06:20:44 I periodic.go:533> T010 ended after 30.004548078s : 477 calls. qps=15.897589884039846
06:20:44 I periodic.go:533> T027 ended after 30.004556339s : 465 calls. qps=15.497646248999583
06:20:44 I periodic.go:533> T023 ended after 30.004565131s : 482 calls. qps=16.06422215738128
06:20:44 I periodic.go:533> T011 ended after 30.004573554s : 473 calls. qps=15.764263376339269
06:20:44 I periodic.go:533> T024 ended after 30.004582864s : 483 calls. qps=16.097540905309884
06:20:44 I periodic.go:533> T019 ended after 30.004592633s : 490 calls. qps=16.330833282538304
Ended after 30.005227576s : 15517 calls. qps=517.14
Aggregated Function Time : count 15517 avg 0.061867275 +/- 0.05094 min 0.000402081 max 0.196726847 sum 959.994505
# range, mid point, percentile, count
>= 0.000402081 <= 0.0005 , 0.00045104 , 0.92, 142
> 0.0005 <= 0.0006 , 0.00055 , 2.56, 256
> 0.0006 <= 0.0007 , 0.00065 , 3.34, 120
> 0.0007 <= 0.0008 , 0.00075 , 3.77, 67
> 0.0008 <= 0.0009 , 0.00085 , 3.91, 21
> 0.0009 <= 0.001 , 0.00095 , 4.01, 16
> 0.001 <= 0.0011 , 0.00105 , 4.07, 10
> 0.0011 <= 0.0012 , 0.00115 , 4.20, 20
> 0.0012 <= 0.0014 , 0.0013 , 4.36, 25
> 0.0014 <= 0.0016 , 0.0015 , 4.72, 56
> 0.0016 <= 0.0018 , 0.0017 , 6.01, 199
> 0.0018 <= 0.002 , 0.0019 , 7.97, 305
> 0.002 <= 0.0025 , 0.00225 , 12.44, 694
> 0.0025 <= 0.003 , 0.00275 , 16.74, 667
> 0.003 <= 0.0035 , 0.00325 , 21.14, 682
> 0.0035 <= 0.004 , 0.00375 , 25.85, 731
> 0.004 <= 0.0045 , 0.00425 , 31.09, 814
> 0.0045 <= 0.005 , 0.00475 , 35.70, 715
> 0.005 <= 0.006 , 0.0055 , 39.81, 638
> 0.006 <= 0.007 , 0.0065 , 40.28, 72
> 0.007 <= 0.008 , 0.0075 , 40.46, 28
> 0.008 <= 0.009 , 0.0085 , 40.64, 28
> 0.009 <= 0.01 , 0.0095 , 40.74, 16
> 0.01 <= 0.012 , 0.011 , 40.77, 4
> 0.08 <= 0.09 , 0.085 , 40.82, 8
> 0.09 <= 0.1 , 0.095 , 86.76, 7128
> 0.1 <= 0.196727 , 0.148363 , 100.00, 2055
# target 50% 0.0919985
# target 75% 0.0974407
# target 90% 0.12369
# target 99% 0.189423
# target 99.9% 0.195996
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 15517 (100.0 %)
Response Header Sizes : count 15517 avg 75 +/- 0 min 75 max 75 sum 1163775
Response Body/Total Sizes : count 15517 avg 75 +/- 0 min 75 max 75 sum 1163775
All done 15517 calls (plus 32 warmup) 61.867 ms avg, 517.1 qps
Successfully wrote 5138 bytes of Json data to /data/2018-12-14-062014_http_linkerd_0qps_30s_echo_0_0.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8080/echo
06:20:44 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 32 threads at -1.0 qps
06:20:44 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:21:15 I periodic.go:533> T017 ended after 30.00014419s : 175 calls. qps=5.833305296523643
06:21:15 I periodic.go:533> T008 ended after 30.000228496s : 174 calls. qps=5.799955824443131
06:21:15 I periodic.go:533> T011 ended after 30.000244697s : 169 calls. qps=5.633287385049225
06:21:15 I periodic.go:533> T021 ended after 30.00025718s : 177 calls. qps=5.899949421700258
06:21:15 I periodic.go:533> T018 ended after 30.000267769s : 185 calls. qps=6.166611625752386
06:21:15 I periodic.go:533> T010 ended after 30.000293431s : 173 calls. qps=5.766610263259461
06:21:15 I periodic.go:533> T003 ended after 30.000305658s : 174 calls. qps=5.799940906722078
06:21:15 I periodic.go:533> T016 ended after 30.000316069s : 166 calls. qps=5.533275036776414
06:21:15 I periodic.go:533> T002 ended after 30.000327196s : 181 calls. qps=6.033267531299894
06:21:15 I periodic.go:533> T027 ended after 30.000339318s : 183 calls. qps=6.099931006120362
06:21:15 I periodic.go:533> T029 ended after 30.000364285s : 176 calls. qps=5.866595429576131
06:21:15 I periodic.go:533> T005 ended after 30.000376182s : 183 calls. qps=6.0999235106191305
06:21:15 I periodic.go:533> T014 ended after 30.000387924s : 177 calls. qps=5.8999237092665
06:21:15 I periodic.go:533> T028 ended after 30.000398404s : 182 calls. qps=6.06658610159436
06:21:15 I periodic.go:533> T015 ended after 30.000409696s : 177 calls. qps=5.899919427553674
06:21:15 I periodic.go:533> T009 ended after 30.000420383s : 185 calls. qps=6.1665802558164104
06:21:15 I periodic.go:533> T026 ended after 30.000491982s : 176 calls. qps=5.866570458431091
06:21:15 I periodic.go:533> T030 ended after 30.000505739s : 180 calls. qps=5.999898853905117
06:21:15 I periodic.go:533> T000 ended after 30.00054829s : 174 calls. qps=5.799893999203972
06:21:15 I periodic.go:533> T012 ended after 30.000560834s : 185 calls. qps=6.166551386277328
06:21:15 I periodic.go:533> T007 ended after 30.000571299s : 184 calls. qps=6.133216536650861
06:21:15 I periodic.go:533> T031 ended after 30.000582076s : 186 calls. qps=6.199879706627329
06:21:15 I periodic.go:533> T019 ended after 30.000592656s : 179 calls. qps=5.966548796301886
06:21:15 I periodic.go:533> T023 ended after 30.000603444s : 189 calls. qps=6.299873279308962
06:21:15 I periodic.go:533> T013 ended after 30.000627815s : 182 calls. qps=6.066539711179041
06:21:15 I periodic.go:533> T004 ended after 30.000638721s : 182 calls. qps=6.066537505836591
06:21:15 I periodic.go:533> T006 ended after 30.000649483s : 183 calls. qps=6.0998679413156625
06:21:15 I periodic.go:533> T025 ended after 30.000660734s : 174 calls. qps=5.799872260906719
06:21:15 I periodic.go:533> T022 ended after 30.000671252s : 173 calls. qps=5.766537640002536
06:21:15 I periodic.go:533> T001 ended after 30.000681215s : 178 calls. qps=5.9331986072036935
06:21:15 I periodic.go:533> T024 ended after 30.098711871s : 178 calls. qps=5.913874346612898
06:21:15 I periodic.go:533> T020 ended after 30.098793724s : 178 calls. qps=5.913858263963164
Ended after 30.09881633s : 5718 calls. qps=189.97
Aggregated Function Time : count 5718 avg 0.16790304 +/- 0.07021 min 0.000751872 max 0.397614387 sum 960.069581
# range, mid point, percentile, count
>= 0.000751872 <= 0.0008 , 0.000775936 , 0.05, 3
> 0.0008 <= 0.0009 , 0.00085 , 0.07, 1
> 0.0009 <= 0.001 , 0.00095 , 0.14, 4
> 0.001 <= 0.0011 , 0.00105 , 0.23, 5
> 0.0011 <= 0.0012 , 0.00115 , 0.30, 4
> 0.0012 <= 0.0014 , 0.0013 , 0.56, 15
> 0.0014 <= 0.0016 , 0.0015 , 0.73, 10
> 0.0016 <= 0.0018 , 0.0017 , 0.84, 6
> 0.0018 <= 0.002 , 0.0019 , 0.87, 2
> 0.002 <= 0.0025 , 0.00225 , 1.05, 10
> 0.0025 <= 0.003 , 0.00275 , 1.14, 5
> 0.003 <= 0.0035 , 0.00325 , 1.28, 8
> 0.0035 <= 0.004 , 0.00375 , 1.35, 4
> 0.004 <= 0.0045 , 0.00425 , 1.45, 6
> 0.0045 <= 0.005 , 0.00475 , 1.56, 6
> 0.005 <= 0.006 , 0.0055 , 1.57, 1
> 0.006 <= 0.007 , 0.0065 , 1.63, 3
> 0.007 <= 0.008 , 0.0075 , 1.64, 1
> 0.008 <= 0.009 , 0.0085 , 1.68, 2
> 0.09 <= 0.1 , 0.095 , 15.62, 797
> 0.1 <= 0.2 , 0.15 , 67.80, 2984
> 0.2 <= 0.3 , 0.25 , 97.52, 1699
> 0.3 <= 0.397614 , 0.348807 , 100.00, 142
# target 50% 0.165885
# target 75% 0.22422
# target 90% 0.274703
# target 99% 0.358307
# target 99.9% 0.393684
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 5718 (100.0 %)
Response Header Sizes : count 5718 avg 210.12749 +/- 0.6158 min 209 max 211 sum 1201509
Response Body/Total Sizes : count 5718 avg 210.12749 +/- 0.6158 min 209 max 211 sum 1201509
All done 5718 calls (plus 32 warmup) 167.903 ms avg, 190.0 qps
Successfully wrote 4636 bytes of Json data to /data/2018-12-14-062045_http_istio_0qps_30s_echo_0_0.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8079
06:21:15 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:21:45 I periodic.go:533> T013 ended after 30.041487288s : 5104 calls. qps=169.89837923366667
06:21:45 I periodic.go:533> T019 ended after 30.04223437s : 5073 calls. qps=168.86227360857913
06:21:45 I periodic.go:533> T027 ended after 30.042300321s : 5079 calls. qps=169.0616213050006
06:21:45 I periodic.go:533> T005 ended after 30.042344429s : 5112 calls. qps=170.1598226490395
06:21:45 I periodic.go:533> T006 ended after 30.042385713s : 5082 calls. qps=169.1609996805582
06:21:45 I periodic.go:533> T001 ended after 30.042413332s : 5078 calls. qps=169.02769906940577
06:21:45 I periodic.go:533> T000 ended after 30.042451585s : 5112 calls. qps=170.1592157196781
06:21:45 I periodic.go:533> T008 ended after 30.042503349s : 5115 calls. qps=170.25878105361878
06:21:45 I periodic.go:533> T016 ended after 30.042545661s : 5086 calls. qps=169.29324356831842
06:21:45 I periodic.go:533> T010 ended after 30.042578033s : 5106 calls. qps=169.9587829776579
06:21:45 I periodic.go:533> T004 ended after 30.042618462s : 5098 calls. qps=169.69226588715316
06:21:45 I periodic.go:533> T025 ended after 30.042645866s : 5100 calls. qps=169.75868313156116
06:21:45 I periodic.go:533> T022 ended after 30.042670598s : 5098 calls. qps=169.6919714034805
06:21:45 I periodic.go:533> T029 ended after 30.042711053s : 5131 calls. qps=170.79017905368528
06:21:45 I periodic.go:533> T014 ended after 30.042963701s : 5112 calls. qps=170.1563151650662
06:21:45 I periodic.go:533> T003 ended after 30.043135636s : 5127 calls. qps=170.65462347600075
06:21:45 I periodic.go:533> T007 ended after 30.043236348s : 5091 calls. qps=169.45577836653112
06:21:45 I periodic.go:533> T009 ended after 30.043906869s : 5095 calls. qps=169.5851349232193
06:21:45 I periodic.go:533> T021 ended after 30.043982889s : 5114 calls. qps=170.21711198858353
06:21:45 I periodic.go:533> T023 ended after 30.044029065s : 5085 calls. qps=169.25160034290494
06:21:45 I periodic.go:533> T012 ended after 30.044057378s : 5108 calls. qps=170.01698325008437
06:21:45 I periodic.go:533> T018 ended after 30.044083693s : 5087 calls. qps=169.31786144588676
06:21:45 I periodic.go:533> T015 ended after 30.044123259s : 5105 calls. qps=169.91675729697818
06:21:45 I periodic.go:533> T030 ended after 30.044154185s : 5101 calls. qps=169.78344501196682
06:21:45 I periodic.go:533> T024 ended after 30.044195098s : 5136 calls. qps=170.94816430418854
06:21:45 I periodic.go:533> T028 ended after 30.044223232s : 5104 calls. qps=169.8829076254415
06:21:45 I periodic.go:533> T011 ended after 30.044260702s : 5121 calls. qps=170.44852761709336
06:21:45 I periodic.go:533> T026 ended after 30.044286663s : 5086 calls. qps=169.28343338780238
06:21:45 I periodic.go:533> T002 ended after 30.044311789s : 5107 calls. qps=169.98225939959138
06:21:45 I periodic.go:533> T020 ended after 30.044354436s : 5105 calls. qps=169.91544986844664
06:21:45 I periodic.go:533> T017 ended after 30.044382344s : 5105 calls. qps=169.91529203526767
06:21:45 I periodic.go:533> T031 ended after 30.044408955s : 5076 calls. qps=168.9499037109615
Ended after 30.04447512s : 163239 calls. qps=5433.2
Aggregated Function Time : count 163239 avg 0.0058883343 +/- 0.01595 min 0.000344697 max 0.078583058 sum 961.205807
# range, mid point, percentile, count
>= 0.000344697 <= 0.0004 , 0.000372349 , 0.00, 1
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 12
> 0.0005 <= 0.0006 , 0.00055 , 0.17, 270
> 0.0006 <= 0.0007 , 0.00065 , 0.60, 699
> 0.0007 <= 0.0008 , 0.00075 , 1.49, 1445
> 0.0008 <= 0.0009 , 0.00085 , 2.58, 1783
> 0.0009 <= 0.001 , 0.00095 , 4.12, 2512
> 0.001 <= 0.0011 , 0.00105 , 6.97, 4661
> 0.0011 <= 0.0012 , 0.00115 , 12.15, 8453
> 0.0012 <= 0.0014 , 0.0013 , 26.87, 24027
> 0.0014 <= 0.0016 , 0.0015 , 47.03, 32906
> 0.0016 <= 0.0018 , 0.0017 , 60.74, 22386
> 0.0018 <= 0.002 , 0.0019 , 69.04, 13544
> 0.002 <= 0.0025 , 0.00225 , 78.50, 15437
> 0.0025 <= 0.003 , 0.00275 , 83.12, 7551
> 0.003 <= 0.0035 , 0.00325 , 86.36, 5281
> 0.0035 <= 0.004 , 0.00375 , 89.06, 4420
> 0.004 <= 0.0045 , 0.00425 , 91.13, 3377
> 0.0045 <= 0.005 , 0.00475 , 92.52, 2269
> 0.005 <= 0.006 , 0.0055 , 93.44, 1495
> 0.006 <= 0.007 , 0.0065 , 93.74, 494
> 0.007 <= 0.008 , 0.0075 , 93.87, 204
> 0.008 <= 0.009 , 0.0085 , 93.99, 207
> 0.009 <= 0.01 , 0.0095 , 94.06, 108
> 0.01 <= 0.012 , 0.011 , 94.09, 48
> 0.012 <= 0.014 , 0.013 , 94.10, 17
> 0.02 <= 0.025 , 0.0225 , 94.11, 18
> 0.025 <= 0.03 , 0.0275 , 94.12, 14
> 0.045 <= 0.05 , 0.0475 , 94.20, 131
> 0.05 <= 0.06 , 0.055 , 94.45, 415
> 0.06 <= 0.07 , 0.065 , 96.60, 3511
> 0.07 <= 0.0785831 , 0.0742915 , 100.00, 5543
# target 50% 0.00164334
# target 75% 0.00231516
# target 90% 0.0042261
# target 99% 0.0760554
# target 99.9% 0.0783303
Ping SERVING : 163239
All done 163239 calls (plus 32 warmup) 5.888 ms avg, 5433.2 qps
Successfully wrote 5279 bytes of Json data to /data/2018-12-14-062115_grpc_baseline_0qps_30s_echo_0_0.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-linkerd:8079
06:21:45 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:22:16 I periodic.go:533> T021 ended after 30.092253868s : 358 calls. qps=11.89674929536255
06:22:16 I periodic.go:533> T009 ended after 30.093172767s : 378 calls. qps=12.56098859786937
06:22:16 I periodic.go:533> T004 ended after 30.093214814s : 362 calls. qps=12.029289733165696
06:22:16 I periodic.go:533> T012 ended after 30.093228754s : 374 calls. qps=12.428044961785227
06:22:16 I periodic.go:533> T008 ended after 30.093253498s : 369 calls. qps=12.261884545801063
06:22:16 I periodic.go:533> T020 ended after 30.093266817s : 368 calls. qps=12.228649094092802
06:22:16 I periodic.go:533> T014 ended after 30.093279343s : 359 calls. qps=11.929573906125556
06:22:16 I periodic.go:533> T000 ended after 30.093310185s : 357 calls. qps=11.863101726108766
06:22:16 I periodic.go:533> T001 ended after 30.095967616s : 383 calls. qps=12.72595734042406
06:22:16 I periodic.go:533> T025 ended after 30.096012359s : 370 calls. qps=12.293987508592783
06:22:16 I periodic.go:533> T006 ended after 30.09602626s : 383 calls. qps=12.725932543095809
06:22:16 I periodic.go:533> T024 ended after 30.096038217s : 357 calls. qps=11.862026404470258
06:22:16 I periodic.go:533> T022 ended after 30.096049927s : 352 calls. qps=11.69588703015179
06:22:16 I periodic.go:533> T029 ended after 30.096075928s : 365 calls. qps=12.127826925782735
06:22:16 I periodic.go:533> T005 ended after 30.09608883s : 370 calls. qps=12.293956270862058
06:22:16 I periodic.go:533> T010 ended after 30.09610074s : 361 calls. qps=11.994909344525274
06:22:16 I periodic.go:533> T016 ended after 30.096112256s : 353 calls. qps=11.72908969096583
06:22:16 I periodic.go:533> T011 ended after 30.096123518s : 379 calls. qps=12.592983936064932
06:22:16 I periodic.go:533> T019 ended after 30.096135439s : 365 calls. qps=12.127802944660319
06:22:16 I periodic.go:533> T018 ended after 30.096163793s : 374 calls. qps=12.426832953606793
06:22:16 I periodic.go:533> T031 ended after 30.096176432s : 358 calls. qps=11.895198740905627
06:22:16 I periodic.go:533> T027 ended after 30.096187463s : 373 calls. qps=12.393596380224674
06:22:16 I periodic.go:533> T002 ended after 30.096198273s : 358 calls. qps=11.895190108485235
06:22:16 I periodic.go:533> T023 ended after 30.096210773s : 369 calls. qps=12.26067968433549
06:22:16 I periodic.go:533> T013 ended after 30.096238056s : 361 calls. qps=11.994854616988613
06:22:16 I periodic.go:533> T015 ended after 30.096251055s : 363 calls. qps=12.061302895720411
06:22:16 I periodic.go:533> T007 ended after 30.096261894s : 364 calls. qps=12.094525269683645
06:22:16 I periodic.go:533> T003 ended after 30.09627446s : 366 calls. qps=12.160973627697306
06:22:16 I periodic.go:533> T030 ended after 30.096325603s : 375 calls. qps=12.459992789372933
06:22:16 I periodic.go:533> T028 ended after 30.09634947s : 368 calls. qps=12.227396560729796
06:22:16 I periodic.go:533> T017 ended after 30.096361239s : 363 calls. qps=12.061258738800985
06:22:16 I periodic.go:533> T026 ended after 30.096387397s : 355 calls. qps=11.79543562213006
Ended after 30.096403513s : 11710 calls. qps=389.08
Aggregated Function Time : count 11710 avg 0.082231039 +/- 0.03739 min 0.001074571 max 0.19917283 sum 962.925471
# range, mid point, percentile, count
>= 0.00107457 <= 0.0011 , 0.00108729 , 0.01, 1
> 0.0011 <= 0.0012 , 0.00115 , 0.02, 1
> 0.0012 <= 0.0014 , 0.0013 , 0.05, 4
> 0.0014 <= 0.0016 , 0.0015 , 0.09, 5
> 0.0016 <= 0.0018 , 0.0017 , 0.18, 10
> 0.0018 <= 0.002 , 0.0019 , 0.66, 56
> 0.002 <= 0.0025 , 0.00225 , 4.07, 400
> 0.0025 <= 0.003 , 0.00275 , 5.79, 201
> 0.003 <= 0.0035 , 0.00325 , 6.88, 128
> 0.0035 <= 0.004 , 0.00375 , 8.88, 234
> 0.004 <= 0.0045 , 0.00425 , 12.36, 407
> 0.0045 <= 0.005 , 0.00475 , 15.12, 324
> 0.005 <= 0.006 , 0.0055 , 17.28, 252
> 0.006 <= 0.007 , 0.0065 , 17.77, 58
> 0.007 <= 0.008 , 0.0075 , 18.07, 35
> 0.008 <= 0.009 , 0.0085 , 18.12, 6
> 0.009 <= 0.01 , 0.0095 , 18.13, 1
> 0.08 <= 0.09 , 0.085 , 18.41, 33
> 0.09 <= 0.1 , 0.095 , 78.60, 7048
> 0.1 <= 0.199173 , 0.149586 , 100.00, 2506
# target 50% 0.0952483
# target 75% 0.099402
# target 90% 0.152831
# target 99% 0.194539
# target 99.9% 0.198709
Ping SERVING : 11710
All done 11710 calls (plus 32 warmup) 82.231 ms avg, 389.1 qps
Successfully wrote 3670 bytes of Json data to /data/2018-12-14-062145_grpc_linkerd_0qps_30s_echo_0_0.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8079
06:22:16 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:22:46 I periodic.go:533> T020 ended after 30.000257528s : 145 calls. qps=4.833291843067275
06:22:46 I periodic.go:533> T018 ended after 30.000613303s : 145 calls. qps=4.833234525425528
06:22:46 I periodic.go:533> T028 ended after 30.003796467s : 151 calls. qps=5.0326964511334085
06:22:46 I periodic.go:533> T004 ended after 30.003831175s : 139 calls. qps=4.632741705193253
06:22:46 I periodic.go:533> T031 ended after 30.00384791s : 142 calls. qps=4.732726296505214
06:22:46 I periodic.go:533> T019 ended after 30.003996992s : 147 calls. qps=4.899347244941891
06:22:46 I periodic.go:533> T021 ended after 30.099686823s : 147 calls. qps=4.883771743687156
06:22:46 I periodic.go:533> T015 ended after 30.102731718s : 149 calls. qps=4.94971690263263
06:22:46 I periodic.go:533> T011 ended after 30.102775331s : 146 calls. qps=4.850051146269175
06:22:46 I periodic.go:533> T016 ended after 30.102790525s : 142 calls. qps=4.717170651739769
06:22:46 I periodic.go:533> T002 ended after 30.102843731s : 146 calls. qps=4.850040125931649
06:22:46 I periodic.go:533> T026 ended after 30.102860218s : 148 calls. qps=4.916476339065729
06:22:46 I periodic.go:533> T029 ended after 30.102872286s : 146 calls. qps=4.850035525277782
06:22:46 I periodic.go:533> T030 ended after 30.102884378s : 145 calls. qps=4.81681416900933
06:22:46 I periodic.go:533> T003 ended after 30.102897042s : 144 calls. qps=4.783592748534771
06:22:46 I periodic.go:533> T005 ended after 30.102924514s : 143 calls. qps=4.750369019245782
06:22:46 I periodic.go:533> T009 ended after 30.102936497s : 145 calls. qps=4.8168058293731715
06:22:46 I periodic.go:533> T008 ended after 30.102948373s : 145 calls. qps=4.8168039290813685
06:22:46 I periodic.go:533> T001 ended after 30.102960711s : 144 calls. qps=4.783582631039364
06:22:46 I periodic.go:533> T013 ended after 30.102972656s : 142 calls. qps=4.717142111601299
06:22:46 I periodic.go:533> T017 ended after 30.102996828s : 138 calls. qps=4.5842611879638735
06:22:46 I periodic.go:533> T006 ended after 30.103024652s : 149 calls. qps=4.94966873669622
06:22:46 I periodic.go:533> T023 ended after 30.10303597s : 148 calls. qps=4.916447634965903
06:22:46 I periodic.go:533> T000 ended after 30.10304708s : 144 calls. qps=4.783568906407198
06:22:46 I periodic.go:533> T022 ended after 30.103057803s : 145 calls. qps=4.816786419137449
06:22:46 I periodic.go:533> T014 ended after 30.103083158s : 141 calls. qps=4.6839056072742755
06:22:46 I periodic.go:533> T012 ended after 30.103094825s : 146 calls. qps=4.849999671088636
06:22:46 I periodic.go:533> T027 ended after 30.103105606s : 151 calls. qps=5.016093753792082
06:22:46 I periodic.go:533> T025 ended after 30.103116301s : 137 calls. qps=4.551023841855502
06:22:46 I periodic.go:533> T010 ended after 30.103126533s : 141 calls. qps=4.683898858327268
06:22:46 I periodic.go:533> T007 ended after 30.105090266s : 145 calls. qps=4.816461226949373
06:22:46 I periodic.go:533> T024 ended after 30.105132941s : 147 calls. qps=4.882888253245398
Ended after 30.105150384s : 4633 calls. qps=153.89
Aggregated Function Time : count 4633 avg 0.2077627 +/- 0.07335 min 0.001086015 max 0.50132914 sum 962.564612
# range, mid point, percentile, count
>= 0.00108602 <= 0.0011 , 0.00109301 , 0.02, 1
> 0.0011 <= 0.0012 , 0.00115 , 0.04, 1
> 0.0014 <= 0.0016 , 0.0015 , 0.06, 1
> 0.0016 <= 0.0018 , 0.0017 , 0.13, 3
> 0.0018 <= 0.002 , 0.0019 , 0.22, 4
> 0.002 <= 0.0025 , 0.00225 , 1.01, 37
> 0.0025 <= 0.003 , 0.00275 , 1.21, 9
> 0.003 <= 0.0035 , 0.00325 , 1.36, 7
> 0.0035 <= 0.004 , 0.00375 , 1.42, 3
> 0.004 <= 0.0045 , 0.00425 , 1.49, 3
> 0.0045 <= 0.005 , 0.00475 , 1.58, 4
> 0.005 <= 0.006 , 0.0055 , 1.62, 2
> 0.007 <= 0.008 , 0.0075 , 1.66, 2
> 0.07 <= 0.08 , 0.075 , 1.68, 1
> 0.09 <= 0.1 , 0.095 , 5.01, 154
> 0.1 <= 0.2 , 0.15 , 45.22, 1863
> 0.2 <= 0.3 , 0.25 , 93.85, 2253
> 0.3 <= 0.4 , 0.35 , 98.25, 204
> 0.4 <= 0.5 , 0.45 , 99.98, 80
> 0.5 <= 0.501329 , 0.500665 , 100.00, 1
# target 50% 0.209831
# target 75% 0.261241
# target 90% 0.292086
# target 99% 0.443338
# target 99.9% 0.495459
Ping SERVING : 4633
All done 4633 calls (plus 32 warmup) 207.763 ms avg, 153.9 qps
Successfully wrote 3581 bytes of Json data to /data/2018-12-14-062216_grpc_istio_0qps_30s_echo_0_0.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-baseline:8080/echo
06:22:46 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
06:22:46 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:23:16 I periodic.go:533> T018 ended after 30.055059867s : 8046 calls. qps=267.7086665475049
06:23:16 I periodic.go:533> T028 ended after 30.055213717s : 8133 calls. qps=270.60196864944487
06:23:16 I periodic.go:533> T027 ended after 30.05523796s : 8051 calls. qps=267.8734405867935
06:23:16 I periodic.go:533> T013 ended after 30.055250299s : 8063 calls. qps=268.2725952965453
06:23:16 I periodic.go:533> T030 ended after 30.055316926s : 8083 calls. qps=268.9374402506342
06:23:16 I periodic.go:533> T000 ended after 30.055505806s : 8058 calls. qps=268.10395579472754
06:23:16 I periodic.go:533> T016 ended after 30.055538119s : 8020 calls. qps=266.83934149660263
06:23:16 I periodic.go:533> T007 ended after 30.055549392s : 8003 calls. qps=266.2736220729403
06:23:16 I periodic.go:533> T024 ended after 30.055595188s : 7988 calls. qps=265.7741412217745
06:23:16 I periodic.go:533> T002 ended after 30.055621297s : 8021 calls. qps=266.87187467326174
06:23:16 I periodic.go:533> T004 ended after 30.055631972s : 8192 calls. qps=272.56122937729987
06:23:16 I periodic.go:533> T011 ended after 30.055642458s : 8071 calls. qps=268.535267921106
06:23:16 I periodic.go:533> T008 ended after 30.055668119s : 8035 calls. qps=267.33726125091835
06:23:16 I periodic.go:533> T029 ended after 30.055679496s : 7969 calls. qps=265.14123565433164
06:23:16 I periodic.go:533> T023 ended after 30.055689368s : 7954 calls. qps=264.64207500322874
06:23:16 I periodic.go:533> T031 ended after 30.055699024s : 7995 calls. qps=266.0061239505976
06:23:16 I periodic.go:533> T010 ended after 30.055709274s : 7877 calls. qps=262.07999046670574
06:23:16 I periodic.go:533> T005 ended after 30.055719686s : 7946 calls. qps=264.3756357529931
06:23:16 I periodic.go:533> T003 ended after 30.05574264s : 7939 calls. qps=264.1425332619896
06:23:16 I periodic.go:533> T006 ended after 30.055763389s : 8112 calls. qps=269.89831850249664
06:23:16 I periodic.go:533> T017 ended after 30.055779897s : 7965 calls. qps=265.0072640701971
06:23:16 I periodic.go:533> T026 ended after 30.055790845s : 8074 calls. qps=268.63375652426623
06:23:16 I periodic.go:533> T022 ended after 30.055800983s : 8164 calls. qps=271.6280961741022
06:23:16 I periodic.go:533> T025 ended after 30.055824734s : 7868 calls. qps=261.77954089210186
06:23:16 I periodic.go:533> T001 ended after 30.055835494s : 7958 calls. qps=264.77387399823385
06:23:16 I periodic.go:533> T015 ended after 30.055845545s : 7886 calls. qps=262.37824479743813
06:23:16 I periodic.go:533> T019 ended after 30.055905358s : 7908 calls. qps=263.10969194927685
06:23:16 I periodic.go:533> T020 ended after 30.055915829s : 7964 calls. qps=264.9727942182946
06:23:16 I periodic.go:533> T021 ended after 30.055925949s : 8035 calls. qps=267.334967940568
06:23:16 I periodic.go:533> T012 ended after 30.055936332s : 7954 calls. qps=264.63990048886023
06:23:16 I periodic.go:533> T009 ended after 30.055946351s : 8025 calls. qps=267.0020736090713
06:23:16 I periodic.go:533> T014 ended after 30.055956807s : 7905 calls. qps=263.00942774042494
Ended after 30.055984956s : 256262 calls. qps=8526.2
Aggregated Function Time : count 256262 avg 0.0037522747 +/- 0.01411 min 7.4534e-05 max 0.080118902 sum 961.565414
# range, mid point, percentile, count
>= 7.4534e-05 <= 0.0001 , 8.7267e-05 , 0.57, 1467
> 0.0001 <= 0.0002 , 0.00015 , 5.08, 11554
> 0.0002 <= 0.0003 , 0.00025 , 10.52, 13946
> 0.0003 <= 0.0004 , 0.00035 , 16.21, 14573
> 0.0004 <= 0.0005 , 0.00045 , 22.33, 15686
> 0.0005 <= 0.0006 , 0.00055 , 28.56, 15974
> 0.0006 <= 0.0007 , 0.00065 , 34.65, 15583
> 0.0007 <= 0.0008 , 0.00075 , 40.67, 15441
> 0.0008 <= 0.0009 , 0.00085 , 46.90, 15959
> 0.0009 <= 0.001 , 0.00095 , 53.18, 16108
> 0.001 <= 0.0011 , 0.00105 , 59.29, 15646
> 0.0011 <= 0.0012 , 0.00115 , 65.25, 15286
> 0.0012 <= 0.0014 , 0.0013 , 76.69, 29308
> 0.0014 <= 0.0016 , 0.0015 , 86.63, 25466
> 0.0016 <= 0.0018 , 0.0017 , 91.15, 11585
> 0.0018 <= 0.002 , 0.0019 , 92.79, 4212
> 0.002 <= 0.0025 , 0.00225 , 94.76, 5028
> 0.0025 <= 0.003 , 0.00275 , 95.40, 1654
> 0.003 <= 0.0035 , 0.00325 , 95.59, 476
> 0.0035 <= 0.004 , 0.00375 , 95.74, 391
> 0.004 <= 0.0045 , 0.00425 , 95.92, 468
> 0.0045 <= 0.005 , 0.00475 , 96.06, 350
> 0.005 <= 0.006 , 0.0055 , 96.20, 356
> 0.006 <= 0.007 , 0.0065 , 96.22, 67
> 0.007 <= 0.008 , 0.0075 , 96.23, 19
> 0.008 <= 0.009 , 0.0085 , 96.24, 27
> 0.025 <= 0.03 , 0.0275 , 96.24, 9
> 0.03 <= 0.035 , 0.0325 , 96.25, 23
> 0.045 <= 0.05 , 0.0475 , 96.26, 7
> 0.05 <= 0.06 , 0.055 , 96.32, 153
> 0.06 <= 0.07 , 0.065 , 96.40, 223
> 0.07 <= 0.08 , 0.075 , 100.00, 9216
> 0.08 <= 0.0801189 , 0.0800595 , 100.00, 1
# target 50% 0.000949342
# target 75% 0.00137042
# target 90% 0.00174914
# target 99% 0.0772205
# target 99.9% 0.079723
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 256262 (100.0 %)
Response Header Sizes : count 256262 avg 75 +/- 0 min 75 max 75 sum 19219650
Response Body/Total Sizes : count 256262 avg 75 +/- 0 min 75 max 75 sum 19219650
All done 256262 calls (plus 32 warmup) 3.752 ms avg, 8526.2 qps
Successfully wrote 5985 bytes of Json data to /data/2018-12-14-062246_http_baseline_0qps_30s_echo_1_0.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-linkerd:8080/echo
06:23:16 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 32 threads at -1.0 qps
06:23:16 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:23:47 I periodic.go:533> T007 ended after 30.000805948s : 496 calls. qps=16.53288917836775
06:23:47 I periodic.go:533> T012 ended after 30.000957696s : 474 calls. qps=15.799495629541118
06:23:47 I periodic.go:533> T002 ended after 30.000998823s : 494 calls. qps=16.466118442072645
06:23:47 I periodic.go:533> T005 ended after 30.001012608s : 512 calls. qps=17.066090624670156
06:23:47 I periodic.go:533> T008 ended after 30.00135861s : 507 calls. qps=16.89923468435885
06:23:47 I periodic.go:533> T003 ended after 30.001380471s : 512 calls. qps=17.06588136818939
06:23:47 I periodic.go:533> T022 ended after 30.001393564s : 512 calls. qps=17.065873920415864
06:23:47 I periodic.go:533> T019 ended after 30.001427178s : 480 calls. qps=15.999238874608714
06:23:47 I periodic.go:533> T001 ended after 30.001440554s : 478 calls. qps=15.932568275834667
06:23:47 I periodic.go:533> T031 ended after 30.001450826s : 483 calls. qps=16.0992214276991
06:23:47 I periodic.go:533> T021 ended after 30.002079413s : 509 calls. qps=16.965490724601196
06:23:47 I periodic.go:533> T015 ended after 30.002110792s : 491 calls. qps=16.365515193381796
06:23:47 I periodic.go:533> T025 ended after 30.002121789s : 500 calls. qps=16.66548797836426
06:23:47 I periodic.go:533> T027 ended after 30.002131678s : 516 calls. qps=17.198777924782362
06:23:47 I periodic.go:533> T013 ended after 30.002142919s : 469 calls. qps=15.632216714193035
06:23:47 I periodic.go:533> T010 ended after 30.002172552s : 496 calls. qps=16.53213610248821
06:23:47 I periodic.go:533> T030 ended after 30.002186248s : 486 calls. qps=16.198819512107978
06:23:47 I periodic.go:533> T026 ended after 30.002195297s : 503 calls. qps=16.7654398293413
06:23:47 I periodic.go:533> T029 ended after 30.002285746s : 500 calls. qps=16.665396904522904
06:23:47 I periodic.go:533> T020 ended after 30.002323825s : 488 calls. qps=16.26540673470649
06:23:47 I periodic.go:533> T000 ended after 30.002336388s : 494 calls. qps=16.46538434911971
06:23:47 I periodic.go:533> T014 ended after 30.002792528s : 486 calls. qps=16.19849217523476
06:23:47 I periodic.go:533> T006 ended after 30.002813759s : 498 calls. qps=16.598443199368727
06:23:47 I periodic.go:533> T017 ended after 30.0028237s : 508 calls. qps=16.931739661557256
06:23:47 I periodic.go:533> T009 ended after 30.002833677s : 505 calls. qps=16.83174347585475
06:23:47 I periodic.go:533> T011 ended after 30.002842724s : 484 calls. qps=16.13180472438489
06:23:47 I periodic.go:533> T028 ended after 30.002874311s : 500 calls. qps=16.665069980201338
06:23:47 I periodic.go:533> T024 ended after 30.002885484s : 478 calls. qps=15.931800968107177
06:23:47 I periodic.go:533> T018 ended after 30.00427437s : 512 calls. qps=17.064235371475174
06:23:47 I periodic.go:533> T023 ended after 30.004298702s : 493 calls. qps=16.430978937266016
06:23:47 I periodic.go:533> T016 ended after 30.004311097s : 508 calls. qps=16.9309003082158
06:23:47 I periodic.go:533> T004 ended after 30.004322922s : 500 calls. qps=16.66426538935115
Ended after 30.00433915s : 15872 calls. qps=528.99
Aggregated Function Time : count 15872 avg 0.060479347 +/- 0.05016 min 0.000368384 max 0.197283118 sum 959.92819
# range, mid point, percentile, count
>= 0.000368384 <= 0.0004 , 0.000384192 , 0.02, 3
> 0.0004 <= 0.0005 , 0.00045 , 1.05, 164
> 0.0005 <= 0.0006 , 0.00055 , 2.44, 220
> 0.0006 <= 0.0007 , 0.00065 , 3.45, 160
> 0.0007 <= 0.0008 , 0.00075 , 3.85, 64
> 0.0008 <= 0.0009 , 0.00085 , 4.02, 27
> 0.0009 <= 0.001 , 0.00095 , 4.16, 22
> 0.001 <= 0.0011 , 0.00105 , 4.21, 8
> 0.0011 <= 0.0012 , 0.00115 , 4.31, 16
> 0.0012 <= 0.0014 , 0.0013 , 4.59, 44
> 0.0014 <= 0.0016 , 0.0015 , 5.37, 125
> 0.0016 <= 0.0018 , 0.0017 , 7.49, 336
> 0.0018 <= 0.002 , 0.0019 , 9.51, 320
> 0.002 <= 0.0025 , 0.00225 , 13.84, 688
> 0.0025 <= 0.003 , 0.00275 , 18.43, 728
> 0.003 <= 0.0035 , 0.00325 , 22.76, 687
> 0.0035 <= 0.004 , 0.00375 , 26.88, 655
> 0.004 <= 0.0045 , 0.00425 , 31.50, 732
> 0.0045 <= 0.005 , 0.00475 , 36.20, 747
> 0.005 <= 0.006 , 0.0055 , 39.79, 570
> 0.006 <= 0.007 , 0.0065 , 40.58, 125
> 0.007 <= 0.008 , 0.0075 , 41.14, 88
> 0.008 <= 0.009 , 0.0085 , 41.22, 14
> 0.009 <= 0.01 , 0.0095 , 41.38, 25
> 0.01 <= 0.012 , 0.011 , 41.59, 33
> 0.08 <= 0.09 , 0.085 , 41.80, 34
> 0.09 <= 0.1 , 0.095 , 88.26, 7374
> 0.1 <= 0.197283 , 0.148642 , 100.00, 1863
# target 50% 0.0917643
# target 75% 0.0971454
# target 90% 0.114402
# target 99% 0.188995
# target 99.9% 0.196454
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 15872 (100.0 %)
Response Header Sizes : count 15872 avg 75 +/- 0 min 75 max 75 sum 1190400
Response Body/Total Sizes : count 15872 avg 75 +/- 0 min 75 max 75 sum 1190400
All done 15872 calls (plus 32 warmup) 60.479 ms avg, 529.0 qps
Successfully wrote 5265 bytes of Json data to /data/2018-12-14-062317_http_linkerd_0qps_30s_echo_1_0.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-istio:8080/echo
06:23:47 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 32 threads at -1.0 qps
06:23:47 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:24:17 I periodic.go:533> T010 ended after 30.078696107s : 173 calls. qps=5.751579103847488
06:24:17 I periodic.go:533> T014 ended after 30.078772144s : 174 calls. qps=5.784810602207672
06:24:17 I periodic.go:533> T030 ended after 30.078786429s : 176 calls. qps=5.851299899197804
06:24:17 I periodic.go:533> T031 ended after 30.078797046s : 186 calls. qps=6.1837579380434375
06:24:17 I periodic.go:533> T017 ended after 30.078808523s : 180 calls. qps=5.9842795921374865
06:24:17 I periodic.go:533> T026 ended after 30.078838738s : 176 calls. qps=5.8512897234177785
06:24:17 I periodic.go:533> T028 ended after 30.078851621s : 174 calls. qps=5.784795317069862
06:24:17 I periodic.go:533> T012 ended after 30.079005434s : 175 calls. qps=5.818011515839138
06:24:17 I periodic.go:533> T029 ended after 30.07960671s : 172 calls. qps=5.718159870182691
06:24:17 I periodic.go:533> T013 ended after 30.079642123s : 178 calls. qps=5.917623596455447
06:24:17 I periodic.go:533> T009 ended after 30.079656043s : 175 calls. qps=5.817885674950236
06:24:17 I periodic.go:533> T004 ended after 30.080163543s : 180 calls. qps=5.9840100185189335
06:24:17 I periodic.go:533> T024 ended after 30.080236747s : 171 calls. qps=5.684795682901478
06:24:17 I periodic.go:533> T019 ended after 30.080829421s : 174 calls. qps=5.784414969572857
06:24:17 I periodic.go:533> T016 ended after 30.08085519s : 179 calls. qps=5.950628692880589
06:24:17 I periodic.go:533> T022 ended after 30.080869377s : 177 calls. qps=5.884138446322139
06:24:17 I periodic.go:533> T007 ended after 30.081399504s : 185 calls. qps=6.149979823093007
06:24:17 I periodic.go:533> T023 ended after 30.081446081s : 181 calls. qps=6.01699796986565
06:24:17 I periodic.go:533> T021 ended after 30.081460661s : 180 calls. qps=5.983751986929488
06:24:17 I periodic.go:533> T020 ended after 30.081797525s : 174 calls. qps=5.784228813301276
06:24:17 I periodic.go:533> T005 ended after 30.081824709s : 185 calls. qps=6.149892893453733
06:24:17 I periodic.go:533> T006 ended after 30.177693533s : 185 calls. qps=6.130355847033116
06:24:17 I periodic.go:533> T002 ended after 30.178049924s : 174 calls. qps=5.765780109655836
06:24:17 I periodic.go:533> T000 ended after 30.179892423s : 172 calls. qps=5.699158817044668
06:24:17 I periodic.go:533> T001 ended after 30.179930553s : 177 calls. qps=5.864824628710272
06:24:17 I periodic.go:533> T025 ended after 30.179959238s : 174 calls. qps=5.765415341612331
06:24:17 I periodic.go:533> T008 ended after 30.179973749s : 178 calls. qps=5.897950789499873
06:24:17 I periodic.go:533> T011 ended after 30.179985776s : 176 calls. qps=5.8316793555270765
06:24:17 I periodic.go:533> T015 ended after 30.179997364s : 165 calls. qps=5.467197296604774
06:24:17 I periodic.go:533> T003 ended after 30.180007655s : 178 calls. qps=5.897944163394215
06:24:17 I periodic.go:533> T018 ended after 30.180034521s : 177 calls. qps=5.864804424820624
06:24:17 I periodic.go:533> T027 ended after 30.180048241s : 181 calls. qps=5.997339651502249
Ended after 30.180064111s : 5662 calls. qps=187.61
Aggregated Function Time : count 5662 avg 0.17017346 +/- 0.07531 min 0.000852859 max 0.698663236 sum 963.522146
# range, mid point, percentile, count
>= 0.000852859 <= 0.0009 , 0.00087643 , 0.04, 2
> 0.0009 <= 0.001 , 0.00095 , 0.07, 2
> 0.001 <= 0.0011 , 0.00105 , 0.18, 6
> 0.0011 <= 0.0012 , 0.00115 , 0.35, 10
> 0.0012 <= 0.0014 , 0.0013 , 0.64, 16
> 0.0014 <= 0.0016 , 0.0015 , 0.83, 11
> 0.0016 <= 0.0018 , 0.0017 , 0.90, 4
> 0.0018 <= 0.002 , 0.0019 , 0.95, 3
> 0.002 <= 0.0025 , 0.00225 , 1.08, 7
> 0.0025 <= 0.003 , 0.00275 , 1.13, 3
> 0.003 <= 0.0035 , 0.00325 , 1.24, 6
> 0.0035 <= 0.004 , 0.00375 , 1.29, 3
> 0.004 <= 0.0045 , 0.00425 , 1.31, 1
> 0.0045 <= 0.005 , 0.00475 , 1.45, 8
> 0.005 <= 0.006 , 0.0055 , 1.55, 6
> 0.07 <= 0.08 , 0.075 , 1.61, 3
> 0.09 <= 0.1 , 0.095 , 15.90, 809
> 0.1 <= 0.2 , 0.15 , 67.40, 2916
> 0.2 <= 0.3 , 0.25 , 97.00, 1676
> 0.3 <= 0.4 , 0.35 , 99.40, 136
> 0.4 <= 0.5 , 0.45 , 99.45, 3
> 0.5 <= 0.698663 , 0.599332 , 100.00, 31
# target 50% 0.166221
# target 75% 0.225686
# target 90% 0.27636
# target 99% 0.383368
# target 99.9% 0.662378
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 5662 (100.0 %)
Response Header Sizes : count 5662 avg 210.10685 +/- 0.6592 min 209 max 211 sum 1189625
Response Body/Total Sizes : count 5662 avg 210.10685 +/- 0.6592 min 209 max 211 sum 1189625
All done 5662 calls (plus 32 warmup) 170.173 ms avg, 187.6 qps
Successfully wrote 4487 bytes of Json data to /data/2018-12-14-062347_http_istio_0qps_30s_echo_1_0.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-baseline:8079
06:24:17 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:24:47 I periodic.go:533> T004 ended after 30.021778029s : 5008 calls. qps=166.81223860766823
06:24:47 I periodic.go:533> T006 ended after 30.025256655s : 5027 calls. qps=167.425712884385
06:24:47 I periodic.go:533> T025 ended after 30.025340454s : 5023 calls. qps=167.29202480469567
06:24:47 I periodic.go:533> T015 ended after 30.025376649s : 5001 calls. qps=166.5591095979327
06:24:47 I periodic.go:533> T029 ended after 30.025427891s : 5017 calls. qps=167.09170700957188
06:24:47 I periodic.go:533> T028 ended after 30.025458813s : 5040 calls. qps=167.8575515328296
06:24:47 I periodic.go:533> T019 ended after 30.025507707s : 5022 calls. qps=167.2577879117493
06:24:47 I periodic.go:533> T001 ended after 30.025534811s : 5005 calls. qps=166.6914521757792
06:24:47 I periodic.go:533> T021 ended after 30.025578611s : 5013 calls. qps=166.95764850851086
06:24:47 I periodic.go:533> T012 ended after 30.025605838s : 5009 calls. qps=166.82427748587432
06:24:47 I periodic.go:533> T008 ended after 30.025649115s : 5012 calls. qps=166.92395161229473
06:24:47 I periodic.go:533> T022 ended after 30.025680376s : 5002 calls. qps=166.59072958087495
06:24:47 I periodic.go:533> T030 ended after 30.026044402s : 5057 calls. qps=168.4204530005677
06:24:47 I periodic.go:533> T005 ended after 30.026192159s : 5021 calls. qps=167.2206709865811
06:24:47 I periodic.go:533> T027 ended after 30.026221754s : 5001 calls. qps=166.55442169755446
06:24:47 I periodic.go:533> T014 ended after 30.02626456s : 5020 calls. qps=167.18696359877805
06:24:47 I periodic.go:533> T002 ended after 30.02629124s : 5019 calls. qps=167.15351089760495
06:24:47 I periodic.go:533> T020 ended after 30.02632843s : 5017 calls. qps=167.0866956543178
06:24:47 I periodic.go:533> T013 ended after 30.026353164s : 5043 calls. qps=167.95246403903252
06:24:47 I periodic.go:533> T011 ended after 30.02639415s : 5039 calls. qps=167.81901865495894
06:24:47 I periodic.go:533> T000 ended after 30.026428547s : 5035 calls. qps=167.6856104321157
06:24:47 I periodic.go:533> T007 ended after 30.026524535s : 5034 calls. qps=167.65177049152618
06:24:47 I periodic.go:533> T031 ended after 30.026824599s : 4998 calls. qps=166.45116713961326
06:24:47 I periodic.go:533> T018 ended after 30.026859235s : 5019 calls. qps=167.15034898321093
06:24:47 I periodic.go:533> T026 ended after 30.026914494s : 5016 calls. qps=167.05013100837587
06:24:47 I periodic.go:533> T003 ended after 30.027033878s : 5041 calls. qps=167.8820499048161
06:24:47 I periodic.go:533> T024 ended after 30.028034752s : 5013 calls. qps=166.94399221934137
06:24:47 I periodic.go:533> T010 ended after 30.028092841s : 5042 calls. qps=167.90943156788543
06:24:47 I periodic.go:533> T023 ended after 30.028122035s : 5034 calls. qps=167.6428513955185
06:24:47 I periodic.go:533> T009 ended after 30.028163401s : 5007 calls. qps=166.74346456477775
06:24:47 I periodic.go:533> T016 ended after 30.028193513s : 5024 calls. qps=167.30943197848305
06:24:47 I periodic.go:533> T017 ended after 30.028219416s : 5006 calls. qps=166.70985151162984
Ended after 30.028250705s : 160665 calls. qps=5350.5
Aggregated Function Time : count 160665 avg 0.0059792842 +/- 0.01583 min 0.000269503 max 0.080317243 sum 960.661689
# range, mid point, percentile, count
>= 0.000269503 <= 0.0003 , 0.000284752 , 0.00, 1
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 9
> 0.0005 <= 0.0006 , 0.00055 , 0.08, 124
> 0.0006 <= 0.0007 , 0.00065 , 0.39, 500
> 0.0007 <= 0.0008 , 0.00075 , 1.11, 1153
> 0.0008 <= 0.0009 , 0.00085 , 2.02, 1453
> 0.0009 <= 0.001 , 0.00095 , 3.23, 1943
> 0.001 <= 0.0011 , 0.00105 , 5.14, 3073
> 0.0011 <= 0.0012 , 0.00115 , 8.57, 5508
> 0.0012 <= 0.0014 , 0.0013 , 20.71, 19506
> 0.0014 <= 0.0016 , 0.0015 , 39.55, 30281
> 0.0016 <= 0.0018 , 0.0017 , 55.21, 25149
> 0.0018 <= 0.002 , 0.0019 , 64.98, 15696
> 0.002 <= 0.0025 , 0.00225 , 76.76, 18923
> 0.0025 <= 0.003 , 0.00275 , 82.11, 8601
> 0.003 <= 0.0035 , 0.00325 , 85.80, 5932
> 0.0035 <= 0.004 , 0.00375 , 88.28, 3986
> 0.004 <= 0.0045 , 0.00425 , 90.60, 3728
> 0.0045 <= 0.005 , 0.00475 , 92.09, 2386
> 0.005 <= 0.006 , 0.0055 , 93.25, 1865
> 0.006 <= 0.007 , 0.0065 , 93.52, 433
> 0.007 <= 0.008 , 0.0075 , 93.64, 196
> 0.008 <= 0.009 , 0.0085 , 93.79, 246
> 0.009 <= 0.01 , 0.0095 , 93.88, 142
> 0.01 <= 0.012 , 0.011 , 93.98, 158
> 0.012 <= 0.014 , 0.013 , 94.00, 40
> 0.014 <= 0.016 , 0.015 , 94.00, 1
> 0.03 <= 0.035 , 0.0325 , 94.03, 33
> 0.035 <= 0.04 , 0.0375 , 94.06, 53
> 0.04 <= 0.045 , 0.0425 , 94.08, 35
> 0.045 <= 0.05 , 0.0475 , 94.17, 150
> 0.05 <= 0.06 , 0.055 , 94.52, 554
> 0.06 <= 0.07 , 0.065 , 97.15, 4226
> 0.07 <= 0.08 , 0.075 , 100.00, 4576
> 0.08 <= 0.0803172 , 0.0801586 , 100.00, 5
# target 50% 0.00173346
# target 75% 0.00242548
# target 90% 0.00437024
# target 99% 0.0764999
# target 99.9% 0.0796598
Ping SERVING : 160665
All done 160665 calls (plus 32 warmup) 5.979 ms avg, 5350.5 qps
Successfully wrote 5669 bytes of Json data to /data/2018-12-14-062417_grpc_baseline_0qps_30s_echo_1_0.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-linkerd:8079
06:24:47 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:25:18 I periodic.go:533> T012 ended after 30.000470423s : 371 calls. qps=12.36647275089297
06:25:18 I periodic.go:533> T008 ended after 30.004641224s : 379 calls. qps=12.631379164662262
06:25:18 I periodic.go:533> T030 ended after 30.005056114s : 364 calls. qps=12.131288760701967
06:25:18 I periodic.go:533> T013 ended after 30.005100405s : 385 calls. qps=12.831151864295853
06:25:18 I periodic.go:533> T010 ended after 30.005114182s : 367 calls. qps=12.23124823901395
06:25:18 I periodic.go:533> T023 ended after 30.005127774s : 356 calls. qps=11.864638693806215
06:25:18 I periodic.go:533> T029 ended after 30.005139145s : 372 calls. qps=12.397876183886632
06:25:18 I periodic.go:533> T022 ended after 30.005150513s : 369 calls. qps=12.297888652154152
06:25:18 I periodic.go:533> T005 ended after 30.005178592s : 366 calls. qps=12.197894402720975
06:25:18 I periodic.go:533> T016 ended after 30.005191661s : 368 calls. qps=12.26454422146942
06:25:18 I periodic.go:533> T002 ended after 30.005202514s : 374 calls. qps=12.464505107922433
06:25:18 I periodic.go:533> T004 ended after 30.005256898s : 357 calls. qps=11.897915129125119
06:25:18 I periodic.go:533> T021 ended after 30.005270784s : 373 calls. qps=12.431149269910884
06:25:18 I periodic.go:533> T003 ended after 30.006074465s : 373 calls. qps=12.430816314712494
06:25:18 I periodic.go:533> T020 ended after 30.006185416s : 378 calls. qps=12.59740266080078
06:25:18 I periodic.go:533> T015 ended after 30.006204259s : 367 calls. qps=12.230803897494724
06:25:18 I periodic.go:533> T006 ended after 30.006217279s : 363 calls. qps=12.097492883718047
06:25:18 I periodic.go:533> T007 ended after 30.006472364s : 371 calls. qps=12.363999189891578
06:25:18 I periodic.go:533> T028 ended after 30.006486713s : 381 calls. qps=12.697254551794485
06:25:18 I periodic.go:533> T000 ended after 30.006516192s : 359 calls. qps=11.96406799452822
06:25:18 I periodic.go:533> T019 ended after 30.006528046s : 369 calls. qps=12.29732408342355
06:25:18 I periodic.go:533> T009 ended after 30.006541022s : 369 calls. qps=12.297318765580444
06:25:18 I periodic.go:533> T014 ended after 30.006553079s : 376 calls. qps=12.530596200439382
06:25:18 I periodic.go:533> T027 ended after 30.00656534s : 368 calls. qps=12.26398275944767
06:25:18 I periodic.go:533> T001 ended after 30.00659152s : 368 calls. qps=12.263972059429694
06:25:18 I periodic.go:533> T017 ended after 30.006605417s : 368 calls. qps=12.263966379599626
06:25:18 I periodic.go:533> T025 ended after 30.006618324s : 364 calls. qps=12.130657179348471
06:25:18 I periodic.go:533> T024 ended after 30.006630713s : 365 calls. qps=12.163978138400866
06:25:18 I periodic.go:533> T011 ended after 30.006641767s : 367 calls. qps=12.23062556782381
06:25:18 I periodic.go:533> T026 ended after 30.007381272s : 370 calls. qps=12.33029955683765
06:25:18 I periodic.go:533> T018 ended after 30.007424577s : 388 calls. qps=12.93013330765457
06:25:18 I periodic.go:533> T031 ended after 30.007440258s : 383 calls. qps=12.763501208600823
Ended after 30.007456542s : 11848 calls. qps=394.84
Aggregated Function Time : count 11848 avg 0.081030124 +/- 0.0378 min 0.000971298 max 0.198169574 sum 960.044907
# range, mid point, percentile, count
>= 0.000971298 <= 0.001 , 0.000985649 , 0.01, 1
> 0.001 <= 0.0011 , 0.00105 , 0.03, 3
> 0.0011 <= 0.0012 , 0.00115 , 0.04, 1
> 0.0012 <= 0.0014 , 0.0013 , 0.07, 3
> 0.0014 <= 0.0016 , 0.0015 , 0.08, 2
> 0.0016 <= 0.0018 , 0.0017 , 0.16, 9
> 0.0018 <= 0.002 , 0.0019 , 0.52, 43
> 0.002 <= 0.0025 , 0.00225 , 3.26, 324
> 0.0025 <= 0.003 , 0.00275 , 4.76, 178
> 0.003 <= 0.0035 , 0.00325 , 5.96, 142
> 0.0035 <= 0.004 , 0.00375 , 8.00, 242
> 0.004 <= 0.0045 , 0.00425 , 12.41, 522
> 0.0045 <= 0.005 , 0.00475 , 15.61, 380
> 0.005 <= 0.006 , 0.0055 , 17.78, 257
> 0.006 <= 0.007 , 0.0065 , 18.26, 56
> 0.007 <= 0.008 , 0.0075 , 18.60, 41
> 0.008 <= 0.009 , 0.0085 , 18.96, 42
> 0.009 <= 0.01 , 0.0095 , 19.18, 26
> 0.01 <= 0.012 , 0.011 , 19.20, 3
> 0.09 <= 0.1 , 0.095 , 78.14, 6983
> 0.1 <= 0.19817 , 0.149085 , 100.00, 2590
# target 50% 0.0952255
# target 75% 0.0994673
# target 90% 0.153262
# target 99% 0.193679
# target 99.9% 0.19772
Ping SERVING : 11848
All done 11848 calls (plus 32 warmup) 81.030 ms avg, 394.8 qps
Successfully wrote 3784 bytes of Json data to /data/2018-12-14-062448_grpc_linkerd_0qps_30s_echo_1_0.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-istio:8079
06:25:18 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:25:48 I periodic.go:533> T003 ended after 30.000371516s : 154 calls. qps=5.133269763605017
06:25:48 I periodic.go:533> T010 ended after 30.098510026s : 154 calls. qps=5.116532342198008
06:25:48 I periodic.go:533> T022 ended after 30.098579038s : 156 calls. qps=5.182968930295585
06:25:48 I periodic.go:533> T001 ended after 30.099579625s : 153 calls. qps=5.083127469093349
06:25:48 I periodic.go:533> T018 ended after 30.099603213s : 158 calls. qps=5.249238632214258
06:25:48 I periodic.go:533> T027 ended after 30.09961905s : 148 calls. qps=4.9170057519382455
06:25:48 I periodic.go:533> T019 ended after 30.099632678s : 156 calls. qps=5.18278750006213
06:25:48 I periodic.go:533> T000 ended after 30.099685762s : 159 calls. qps=5.282447174273593
06:25:48 I periodic.go:533> T028 ended after 30.09969793s : 149 calls. qps=4.9502157910858475
06:25:48 I periodic.go:533> T031 ended after 30.099735215s : 145 calls. qps=4.817318124703643
06:25:48 I periodic.go:533> T006 ended after 30.099748573s : 147 calls. qps=4.88376172457007
06:25:48 I periodic.go:533> T026 ended after 30.099760927s : 151 calls. qps=5.016651141057749
06:25:48 I periodic.go:533> T007 ended after 30.099787709s : 161 calls. qps=5.348874934153111
06:25:48 I periodic.go:533> T021 ended after 30.099816831s : 151 calls. qps=5.016641823696552
06:25:48 I periodic.go:533> T004 ended after 30.099828663s : 148 calls. qps=4.916971510270686
06:25:48 I periodic.go:533> T016 ended after 30.099847012s : 150 calls. qps=4.98341403330718
06:25:48 I periodic.go:533> T015 ended after 30.099858866s : 145 calls. qps=4.817298335035987
06:25:48 I periodic.go:533> T012 ended after 30.099869874s : 151 calls. qps=5.016632983202112
06:25:48 I periodic.go:533> T025 ended after 30.099897496s : 149 calls. qps=4.950182970550007
06:25:48 I periodic.go:533> T024 ended after 30.09991051s : 157 calls. qps=5.215962351377768
06:25:48 I periodic.go:533> T017 ended after 30.099923559s : 154 calls. qps=5.116292062939587
06:25:48 I periodic.go:533> T029 ended after 30.09993485s : 151 calls. qps=5.016622153918051
06:25:48 I periodic.go:533> T030 ended after 30.099947341s : 150 calls. qps=4.983397422615444
06:25:48 I periodic.go:533> T023 ended after 30.099984484s : 158 calls. qps=5.249172141068271
06:25:48 I periodic.go:533> T002 ended after 30.099997825s : 153 calls. qps=5.083056845702613
06:25:48 I periodic.go:533> T020 ended after 30.10001017s : 147 calls. qps=4.883719280151991
06:25:48 I periodic.go:533> T008 ended after 30.100021813s : 150 calls. qps=4.983385092937573
06:25:48 I periodic.go:533> T014 ended after 30.100032945s : 148 calls. qps=4.916938139916046
06:25:48 I periodic.go:533> T005 ended after 30.100058331s : 158 calls. qps=5.249159262833589
06:25:48 I periodic.go:533> T011 ended after 30.100084958s : 155 calls. qps=5.1494871265738436
06:25:48 I periodic.go:533> T009 ended after 30.100097374s : 152 calls. qps=5.049817550799529
06:25:48 I periodic.go:533> T013 ended after 30.100109892s : 153 calls. qps=5.083037920757369
Ended after 30.100140965s : 4871 calls. qps=161.83
Aggregated Function Time : count 4871 avg 0.19769079 +/- 0.06543 min 0.001208327 max 0.504675605 sum 962.951849
# range, mid point, percentile, count
>= 0.00120833 <= 0.0014 , 0.00130416 , 0.12, 6
> 0.0014 <= 0.0016 , 0.0015 , 0.16, 2
> 0.0016 <= 0.0018 , 0.0017 , 0.25, 4
> 0.0018 <= 0.002 , 0.0019 , 0.39, 7
> 0.002 <= 0.0025 , 0.00225 , 1.48, 53
> 0.0025 <= 0.003 , 0.00275 , 1.68, 10
> 0.003 <= 0.0035 , 0.00325 , 1.81, 6
> 0.0035 <= 0.004 , 0.00375 , 1.87, 3
> 0.004 <= 0.0045 , 0.00425 , 1.97, 5
> 0.0045 <= 0.005 , 0.00475 , 2.03, 3
> 0.005 <= 0.006 , 0.0055 , 2.11, 4
> 0.08 <= 0.09 , 0.085 , 2.14, 1
> 0.09 <= 0.1 , 0.095 , 6.55, 215
> 0.1 <= 0.2 , 0.15 , 52.95, 2260
> 0.2 <= 0.3 , 0.25 , 94.85, 2041
> 0.3 <= 0.4 , 0.35 , 99.08, 206
> 0.4 <= 0.5 , 0.45 , 99.77, 34
> 0.5 <= 0.504676 , 0.502338 , 100.00, 11
# target 50% 0.19365
# target 75% 0.252634
# target 90% 0.288432
# target 99% 0.398199
# target 99.9% 0.502605
Ping SERVING : 4871
All done 4871 calls (plus 32 warmup) 197.691 ms avg, 161.8 qps
Successfully wrote 3331 bytes of Json data to /data/2018-12-14-062518_grpc_istio_0qps_30s_echo_1_0.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8080/echo
06:25:48 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
06:25:48 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:26:18 I periodic.go:533> T011 ended after 30.059176625s : 7867 calls. qps=261.71708221232757
06:26:18 I periodic.go:533> T023 ended after 30.059331533s : 8072 calls. qps=268.53557908093615
06:26:18 I periodic.go:533> T001 ended after 30.059366294s : 8017 calls. qps=266.70555598506525
06:26:18 I periodic.go:533> T008 ended after 30.059424672s : 8031 calls. qps=267.1707821301311
06:26:18 I periodic.go:533> T031 ended after 30.059532795s : 7943 calls. qps=264.2422972495837
06:26:18 I periodic.go:533> T002 ended after 30.059554452s : 7996 calls. qps=266.0052733904707
06:26:18 I periodic.go:533> T024 ended after 30.059574125s : 8043 calls. qps=267.5686610380412
06:26:18 I periodic.go:533> T000 ended after 30.059617042s : 8086 calls. qps=268.9987696350906
06:26:18 I periodic.go:533> T025 ended after 30.05963632s : 7942 calls. qps=264.20812000030213
06:26:18 I periodic.go:533> T029 ended after 30.059657962s : 7945 calls. qps=264.3077313136328
06:26:18 I periodic.go:533> T027 ended after 30.059694147s : 8063 calls. qps=268.23293545735226
06:26:18 I periodic.go:533> T005 ended after 30.059793056s : 7996 calls. qps=266.00316193474197
06:26:18 I periodic.go:533> T018 ended after 30.059804402s : 7936 calls. qps=264.00704056051626
06:26:18 I periodic.go:533> T017 ended after 30.059814645s : 8067 calls. qps=268.36492823623666
06:26:18 I periodic.go:533> T021 ended after 30.059825421s : 8049 calls. qps=267.76602615851897
06:26:18 I periodic.go:533> T020 ended after 30.059836624s : 7972 calls. qps=265.2043688632391
06:26:18 I periodic.go:533> T012 ended after 30.059846435s : 8029 calls. qps=267.10049957711965
06:26:18 I periodic.go:533> T030 ended after 30.059878924s : 8091 calls. qps=269.16276078344725
06:26:18 I periodic.go:533> T007 ended after 30.059890791s : 7913 calls. qps=263.24114265808214
06:26:18 I periodic.go:533> T014 ended after 30.059911752s : 8105 calls. qps=269.62820339819336
06:26:18 I periodic.go:533> T026 ended after 30.059922068s : 8062 calls. qps=268.19763476972963
06:26:18 I periodic.go:533> T010 ended after 30.059932171s : 8004 calls. qps=266.2680658914385
06:26:18 I periodic.go:533> T003 ended after 30.059955232s : 7935 calls. qps=263.9724490192481
06:26:18 I periodic.go:533> T019 ended after 30.059965382s : 8142 calls. qps=270.8585953620377
06:26:18 I periodic.go:533> T015 ended after 30.059975263s : 7961 calls. qps=264.83721062135993
06:26:18 I periodic.go:533> T009 ended after 30.059985629s : 7999 calls. qps=266.1012582881298
06:26:18 I periodic.go:533> T006 ended after 30.05999571s : 8032 calls. qps=267.19897359559536
06:26:18 I periodic.go:533> T028 ended after 30.060006s : 8020 calls. qps=266.79968061217284
06:26:18 I periodic.go:533> T022 ended after 30.060016163s : 8001 calls. qps=266.1675215547022
06:26:18 I periodic.go:533> T004 ended after 30.060041149s : 8134 calls. qps=270.5917786233833
06:26:18 I periodic.go:533> T016 ended after 30.060050911s : 7918 calls. qps=263.40607417609306
06:26:18 I periodic.go:533> T013 ended after 30.060061435s : 7917 calls. qps=263.3727152261224
Ended after 30.060078078s : 256288 calls. qps=8525.9
Aggregated Function Time : count 256288 avg 0.0037523937 +/- 0.01411 min 7.3239e-05 max 0.080640457 sum 961.693464
# range, mid point, percentile, count
>= 7.3239e-05 <= 0.0001 , 8.66195e-05 , 0.58, 1489
> 0.0001 <= 0.0002 , 0.00015 , 5.04, 11437
> 0.0002 <= 0.0003 , 0.00025 , 10.39, 13711
> 0.0003 <= 0.0004 , 0.00035 , 16.07, 14536
> 0.0004 <= 0.0005 , 0.00045 , 22.27, 15903
> 0.0005 <= 0.0006 , 0.00055 , 28.55, 16082
> 0.0006 <= 0.0007 , 0.00065 , 34.75, 15893
> 0.0007 <= 0.0008 , 0.00075 , 40.96, 15930
> 0.0008 <= 0.0009 , 0.00085 , 47.08, 15681
> 0.0009 <= 0.001 , 0.00095 , 53.42, 16258
> 0.001 <= 0.0011 , 0.00105 , 59.63, 15905
> 0.0011 <= 0.0012 , 0.00115 , 65.65, 15421
> 0.0012 <= 0.0014 , 0.0013 , 77.00, 29098
> 0.0014 <= 0.0016 , 0.0015 , 86.93, 25435
> 0.0016 <= 0.0018 , 0.0017 , 91.19, 10934
> 0.0018 <= 0.002 , 0.0019 , 92.65, 3736
> 0.002 <= 0.0025 , 0.00225 , 94.62, 5051
> 0.0025 <= 0.003 , 0.00275 , 95.32, 1790
> 0.003 <= 0.0035 , 0.00325 , 95.51, 499
> 0.0035 <= 0.004 , 0.00375 , 95.66, 387
> 0.004 <= 0.0045 , 0.00425 , 95.82, 394
> 0.0045 <= 0.005 , 0.00475 , 95.97, 402
> 0.005 <= 0.006 , 0.0055 , 96.24, 669
> 0.006 <= 0.007 , 0.0065 , 96.24, 13
> 0.007 <= 0.008 , 0.0075 , 96.24, 2
> 0.03 <= 0.035 , 0.0325 , 96.25, 29
> 0.035 <= 0.04 , 0.0375 , 96.25, 3
> 0.05 <= 0.06 , 0.055 , 96.29, 96
> 0.06 <= 0.07 , 0.065 , 96.43, 356
> 0.07 <= 0.08 , 0.075 , 99.99, 9121
> 0.08 <= 0.0806405 , 0.0803202 , 100.00, 27
# target 50% 0.00094602
# target 75% 0.00136475
# target 90% 0.00174414
# target 99% 0.0772197
# target 99.9% 0.0797486
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 256288 (100.0 %)
Response Header Sizes : count 256288 avg 75 +/- 0 min 75 max 75 sum 19221600
Response Body/Total Sizes : count 256288 avg 75 +/- 0 min 75 max 75 sum 19221600
All done 256288 calls (plus 32 warmup) 3.752 ms avg, 8525.9 qps
Successfully wrote 5703 bytes of Json data to /data/2018-12-14-062548_http_baseline_0qps_30s_echo_0_1.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-linkerd:8080/echo
06:26:19 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 32 threads at -1.0 qps
06:26:19 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:26:49 I periodic.go:533> T009 ended after 30.065720879s : 507 calls. qps=16.863058166489008
06:26:49 I periodic.go:533> T027 ended after 30.06680318s : 468 calls. qps=15.565339527393014
06:26:49 I periodic.go:533> T007 ended after 30.06683656s : 474 calls. qps=15.764877660278872
06:26:49 I periodic.go:533> T026 ended after 30.066849756s : 454 calls. qps=15.099686321790392
06:26:49 I periodic.go:533> T017 ended after 30.066861722s : 494 calls. qps=16.430048621886566
06:26:49 I periodic.go:533> T001 ended after 30.066873537s : 495 calls. qps=16.463301360244785
06:26:49 I periodic.go:533> T006 ended after 30.066885854s : 493 calls. qps=16.396776253913668
06:26:49 I periodic.go:533> T008 ended after 30.066895571s : 499 calls. qps=16.596325976576495
06:26:49 I periodic.go:533> T015 ended after 30.067122422s : 471 calls. qps=15.664951018238149
06:26:49 I periodic.go:533> T024 ended after 30.067140617s : 488 calls. qps=16.23034282561888
06:26:49 I periodic.go:533> T031 ended after 30.067183631s : 485 calls. qps=16.130543051593072
06:26:49 I periodic.go:533> T025 ended after 30.06719572s : 506 calls. qps=16.828972169939366
06:26:49 I periodic.go:533> T022 ended after 30.067383027s : 480 calls. qps=15.964142924210202
06:26:49 I periodic.go:533> T023 ended after 30.067416488s : 481 calls. qps=15.997383752340964
06:26:49 I periodic.go:533> T002 ended after 30.067545097s : 476 calls. qps=15.831023067044242
06:26:49 I periodic.go:533> T010 ended after 30.06756231s : 497 calls. qps=16.52944109255926
06:26:49 I periodic.go:533> T014 ended after 30.067697953s : 480 calls. qps=15.96397571740633
06:26:49 I periodic.go:533> T018 ended after 30.06771272s : 481 calls. qps=15.997226143512256
06:26:49 I periodic.go:533> T028 ended after 30.067926522s : 476 calls. qps=15.830822243486656
06:26:49 I periodic.go:533> T016 ended after 30.067949868s : 517 calls. qps=17.194388119897074
06:26:49 I periodic.go:533> T030 ended after 30.067960865s : 514 calls. qps=17.09460785544361
06:26:49 I periodic.go:533> T003 ended after 30.068101174s : 492 calls. qps=16.36285567727949
06:26:49 I periodic.go:533> T011 ended after 30.068118282s : 460 calls. qps=15.298596197001617
06:26:49 I periodic.go:533> T004 ended after 30.068305277s : 495 calls. qps=16.462517439539166
06:26:49 I periodic.go:533> T019 ended after 30.068321794s : 458 calls. qps=15.231977465779014
06:26:49 I periodic.go:533> T021 ended after 30.068464713s : 478 calls. qps=15.89705375922763
06:26:49 I periodic.go:533> T029 ended after 30.068480557s : 486 calls. qps=16.163104719531905
06:26:49 I periodic.go:533> T012 ended after 30.068616854s : 470 calls. qps=15.630915192478378
06:26:49 I periodic.go:533> T000 ended after 30.0686331s : 490 calls. qps=16.296051715101076
06:26:49 I periodic.go:533> T013 ended after 30.068790438s : 494 calls. qps=16.428994741860258
06:26:49 I periodic.go:533> T005 ended after 30.068818718s : 485 calls. qps=16.12966590236104
06:26:49 I periodic.go:533> T020 ended after 30.068918935s : 480 calls. qps=15.96332748236198
Ended after 30.068941097s : 15524 calls. qps=516.28
Aggregated Function Time : count 15524 avg 0.061968911 +/- 0.05179 min 0.000371369 max 0.196956392 sum 962.005373
# range, mid point, percentile, count
>= 0.000371369 <= 0.0004 , 0.000385685 , 0.01, 2
> 0.0004 <= 0.0005 , 0.00045 , 1.20, 185
> 0.0005 <= 0.0006 , 0.00055 , 2.60, 217
> 0.0006 <= 0.0007 , 0.00065 , 3.48, 136
> 0.0007 <= 0.0008 , 0.00075 , 3.89, 64
> 0.0008 <= 0.0009 , 0.00085 , 4.08, 29
> 0.0009 <= 0.001 , 0.00095 , 4.20, 19
> 0.001 <= 0.0011 , 0.00105 , 4.28, 13
> 0.0011 <= 0.0012 , 0.00115 , 4.41, 19
> 0.0012 <= 0.0014 , 0.0013 , 4.70, 45
> 0.0014 <= 0.0016 , 0.0015 , 5.39, 108
> 0.0016 <= 0.0018 , 0.0017 , 7.12, 269
> 0.0018 <= 0.002 , 0.0019 , 9.25, 330
> 0.002 <= 0.0025 , 0.00225 , 13.33, 634
> 0.0025 <= 0.003 , 0.00275 , 17.72, 681
> 0.003 <= 0.0035 , 0.00325 , 22.40, 727
> 0.0035 <= 0.004 , 0.00375 , 27.04, 719
> 0.004 <= 0.0045 , 0.00425 , 31.20, 646
> 0.0045 <= 0.005 , 0.00475 , 35.38, 649
> 0.005 <= 0.006 , 0.0055 , 39.80, 686
> 0.006 <= 0.007 , 0.0065 , 40.59, 123
> 0.007 <= 0.008 , 0.0075 , 40.78, 29
> 0.008 <= 0.009 , 0.0085 , 41.01, 36
> 0.009 <= 0.01 , 0.0095 , 41.05, 6
> 0.01 <= 0.012 , 0.011 , 41.06, 2
> 0.045 <= 0.05 , 0.0475 , 41.19, 20
> 0.05 <= 0.06 , 0.055 , 41.23, 6
> 0.06 <= 0.07 , 0.065 , 41.38, 24
> 0.08 <= 0.09 , 0.085 , 41.39, 2
> 0.09 <= 0.1 , 0.095 , 86.75, 7041
> 0.1 <= 0.196956 , 0.148478 , 100.00, 2057
# target 50% 0.0918975
# target 75% 0.0974095
# target 90% 0.123784
# target 99% 0.189639
# target 99.9% 0.196225
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 15524 (100.0 %)
Response Header Sizes : count 15524 avg 75 +/- 0 min 75 max 75 sum 1164300
Response Body/Total Sizes : count 15524 avg 75 +/- 0 min 75 max 75 sum 1164300
All done 15524 calls (plus 32 warmup) 61.969 ms avg, 516.3 qps
Successfully wrote 5654 bytes of Json data to /data/2018-12-14-062619_http_linkerd_0qps_30s_echo_0_1.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8080/echo
06:26:49 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 32 threads at -1.0 qps
06:26:49 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:27:19 I periodic.go:533> T031 ended after 30.178316974s : 179 calls. qps=5.931410958212702
06:27:19 I periodic.go:533> T029 ended after 30.178433245s : 187 calls. qps=6.196478076971818
06:27:19 I periodic.go:533> T022 ended after 30.178449585s : 184 calls. qps=6.097066036535423
06:27:19 I periodic.go:533> T025 ended after 30.178472642s : 179 calls. qps=5.93138036253306
06:27:19 I periodic.go:533> T015 ended after 30.178486614s : 183 calls. qps=6.063922367634734
06:27:19 I periodic.go:533> T009 ended after 30.17851268s : 173 calls. qps=5.732555538253915
06:27:19 I periodic.go:533> T023 ended after 30.178525703s : 178 calls. qps=5.8982337888793985
06:27:19 I periodic.go:533> T024 ended after 30.178536796s : 182 calls. qps=6.030776151616572
06:27:19 I periodic.go:533> T016 ended after 30.178567337s : 181 calls. qps=5.997633949246078
06:27:19 I periodic.go:533> T028 ended after 30.178593695s : 188 calls. qps=6.229581202491484
06:27:19 I periodic.go:533> T018 ended after 30.178605705s : 191 calls. qps=6.3289868944593115
06:27:19 I periodic.go:533> T003 ended after 30.178617131s : 189 calls. qps=6.262712409239452
06:27:19 I periodic.go:533> T012 ended after 30.178628517s : 180 calls. qps=5.964485758476524
06:27:19 I periodic.go:533> T001 ended after 30.178639816s : 170 calls. qps=5.633123329497111
06:27:19 I periodic.go:533> T006 ended after 30.178663302s : 183 calls. qps=6.063886864991539
06:27:19 I periodic.go:533> T014 ended after 30.178680159s : 178 calls. qps=5.8982036014227806
06:27:19 I periodic.go:533> T013 ended after 30.178756714s : 178 calls. qps=5.898188639342633
06:27:19 I periodic.go:533> T019 ended after 30.178767939s : 182 calls. qps=6.030729961139385
06:27:19 I periodic.go:533> T000 ended after 30.178778957s : 181 calls. qps=5.997591892564523
06:27:19 I periodic.go:533> T007 ended after 30.17879s : 184 calls. qps=6.096997261984328
06:27:19 I periodic.go:533> T011 ended after 30.178800235s : 174 calls. qps=5.765636759747749
06:27:19 I periodic.go:533> T004 ended after 30.178824656s : 177 calls. qps=5.86503954403704
06:27:19 I periodic.go:533> T021 ended after 30.178836406s : 187 calls. qps=6.19639529782605
06:27:19 I periodic.go:533> T026 ended after 30.178847956s : 183 calls. qps=6.063849762151603
06:27:19 I periodic.go:533> T020 ended after 30.178860858s : 178 calls. qps=5.898168285328591
06:27:19 I periodic.go:533> T002 ended after 30.178872491s : 178 calls. qps=5.898166011771431
06:27:19 I periodic.go:533> T005 ended after 30.17888338s : 185 calls. qps=6.130114148709766
06:27:19 I periodic.go:533> T030 ended after 30.178911286s : 188 calls. qps=6.2295156448275595
06:27:19 I periodic.go:533> T027 ended after 30.178951672s : 178 calls. qps=5.898150536658575
06:27:19 I periodic.go:533> T008 ended after 30.178964362s : 180 calls. qps=5.96441938301395
06:27:19 I periodic.go:533> T010 ended after 30.178975549s : 179 calls. qps=5.931281521116156
06:27:19 I periodic.go:533> T017 ended after 30.180582924s : 182 calls. qps=6.0303672880775006
Ended after 30.180624485s : 5799 calls. qps=192.14
Aggregated Function Time : count 5799 avg 0.16650148 +/- 0.07113 min 0.000710798 max 0.501722949 sum 965.542093
# range, mid point, percentile, count
>= 0.000710798 <= 0.0008 , 0.000755399 , 0.03, 2
> 0.0008 <= 0.0009 , 0.00085 , 0.12, 5
> 0.0009 <= 0.001 , 0.00095 , 0.19, 4
> 0.001 <= 0.0011 , 0.00105 , 0.40, 12
> 0.0011 <= 0.0012 , 0.00115 , 0.43, 2
> 0.0012 <= 0.0014 , 0.0013 , 0.74, 18
> 0.0014 <= 0.0016 , 0.0015 , 0.88, 8
> 0.0016 <= 0.0018 , 0.0017 , 1.09, 12
> 0.0018 <= 0.002 , 0.0019 , 1.12, 2
> 0.002 <= 0.0025 , 0.00225 , 1.22, 6
> 0.0025 <= 0.003 , 0.00275 , 1.33, 6
> 0.003 <= 0.0035 , 0.00325 , 1.52, 11
> 0.0035 <= 0.004 , 0.00375 , 1.66, 8
> 0.004 <= 0.0045 , 0.00425 , 1.72, 4
> 0.0045 <= 0.005 , 0.00475 , 1.81, 5
> 0.005 <= 0.006 , 0.0055 , 1.88, 4
> 0.07 <= 0.08 , 0.075 , 1.97, 5
> 0.09 <= 0.1 , 0.095 , 16.30, 831
> 0.1 <= 0.2 , 0.15 , 68.93, 3052
> 0.2 <= 0.3 , 0.25 , 98.71, 1727
> 0.3 <= 0.4 , 0.35 , 99.62, 53
> 0.4 <= 0.5 , 0.45 , 99.93, 18
> 0.5 <= 0.501723 , 0.500861 , 100.00, 4
# target 50% 0.16404
# target 75% 0.220397
# target 90% 0.270764
# target 99% 0.332094
# target 99.9% 0.490006
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 5799 (100.0 %)
Response Header Sizes : count 5799 avg 210.12399 +/- 0.6273 min 209 max 211 sum 1218509
Response Body/Total Sizes : count 5799 avg 210.12399 +/- 0.6273 min 209 max 211 sum 1218509
All done 5799 calls (plus 32 warmup) 166.501 ms avg, 192.1 qps
Successfully wrote 4606 bytes of Json data to /data/2018-12-14-062649_http_istio_0qps_30s_echo_0_1.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8079
06:27:19 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:27:49 I periodic.go:533> T003 ended after 30.033179578s : 5120 calls. qps=170.4781202637139
06:27:49 I periodic.go:533> T011 ended after 30.033307895s : 5139 calls. qps=171.1100228441886
06:27:49 I periodic.go:533> T005 ended after 30.03336278s : 5102 calls. qps=169.87774687014252
06:27:49 I periodic.go:533> T030 ended after 30.033422281s : 5122 calls. qps=170.54333509106365
06:27:49 I periodic.go:533> T015 ended after 30.033461522s : 5118 calls. qps=170.40992748208467
06:27:49 I periodic.go:533> T028 ended after 30.03351089s : 5128 calls. qps=170.74260877396875
06:27:49 I periodic.go:533> T018 ended after 30.033541672s : 5118 calls. qps=170.40947271202003
06:27:49 I periodic.go:533> T017 ended after 30.033586745s : 5133 calls. qps=170.90865781638763
06:27:49 I periodic.go:533> T012 ended after 30.03374397s : 5151 calls. qps=171.50708899780236
06:27:49 I periodic.go:533> T006 ended after 30.033803538s : 5109 calls. qps=170.1083245595545
06:27:49 I periodic.go:533> T031 ended after 30.033857483s : 5129 calls. qps=170.77393414759183
06:27:49 I periodic.go:533> T001 ended after 30.033890942s : 5124 calls. qps=170.6072653022288
06:27:49 I periodic.go:533> T004 ended after 30.033944286s : 5123 calls. qps=170.57366662253654
06:27:49 I periodic.go:533> T002 ended after 30.033976887s : 5091 calls. qps=169.50802150359263
06:27:49 I periodic.go:533> T010 ended after 30.03415383s : 5098 calls. qps=169.74009085975305
06:27:49 I periodic.go:533> T022 ended after 30.034280876s : 5144 calls. qps=171.27095605310473
06:27:49 I periodic.go:533> T024 ended after 30.034592754s : 5118 calls. qps=170.40350911095294
06:27:49 I periodic.go:533> T025 ended after 30.034633655s : 5173 calls. qps=172.23449632916788
06:27:49 I periodic.go:533> T000 ended after 30.034684726s : 5125 calls. qps=170.63605117730646
06:27:49 I periodic.go:533> T020 ended after 30.03471657s : 5117 calls. qps=170.3695118305556
06:27:49 I periodic.go:533> T027 ended after 30.034760264s : 5117 calls. qps=170.36926398021873
06:27:49 I periodic.go:533> T007 ended after 30.034789692s : 5101 calls. qps=169.83638148658957
06:27:49 I periodic.go:533> T009 ended after 30.03483061s : 5145 calls. qps=171.30111592129268
06:27:49 I periodic.go:533> T019 ended after 30.034858611s : 5083 calls. qps=169.23668813737635
06:27:49 I periodic.go:533> T026 ended after 30.034888369s : 5122 calls. qps=170.53501038767254
06:27:49 I periodic.go:533> T016 ended after 30.034929463s : 5125 calls. qps=170.6346607643438
06:27:49 I periodic.go:533> T013 ended after 30.034958827s : 5131 calls. qps=170.83426115395486
06:27:49 I periodic.go:533> T008 ended after 30.034999648s : 5131 calls. qps=170.83402897065352
06:27:49 I periodic.go:533> T023 ended after 30.035027213s : 5130 calls. qps=170.80057772611548
06:27:49 I periodic.go:533> T014 ended after 30.035054906s : 5115 calls. qps=170.30100381065705
06:27:49 I periodic.go:533> T021 ended after 30.035100877s : 5118 calls. qps=170.40062628586722
06:27:49 I periodic.go:533> T029 ended after 30.035129542s : 5124 calls. qps=170.6002297354766
Ended after 30.03515805s : 163924 calls. qps=5457.7
Aggregated Function Time : count 163924 avg 0.0058625138 +/- 0.01581 min 0.000296051 max 0.081243911 sum 961.006715
# range, mid point, percentile, count
>= 0.000296051 <= 0.0003 , 0.000298026 , 0.00, 1
> 0.0003 <= 0.0004 , 0.00035 , 0.00, 2
> 0.0004 <= 0.0005 , 0.00045 , 0.00, 5
> 0.0005 <= 0.0006 , 0.00055 , 0.12, 182
> 0.0006 <= 0.0007 , 0.00065 , 0.49, 609
> 0.0007 <= 0.0008 , 0.00075 , 1.35, 1407
> 0.0008 <= 0.0009 , 0.00085 , 2.40, 1732
> 0.0009 <= 0.001 , 0.00095 , 3.78, 2264
> 0.001 <= 0.0011 , 0.00105 , 5.94, 3535
> 0.0011 <= 0.0012 , 0.00115 , 9.93, 6533
> 0.0012 <= 0.0014 , 0.0013 , 23.62, 22446
> 0.0014 <= 0.0016 , 0.0015 , 45.17, 35332
> 0.0016 <= 0.0018 , 0.0017 , 59.84, 24048
> 0.0018 <= 0.002 , 0.0019 , 68.26, 13791
> 0.002 <= 0.0025 , 0.00225 , 78.51, 16815
> 0.0025 <= 0.003 , 0.00275 , 83.31, 7859
> 0.003 <= 0.0035 , 0.00325 , 86.10, 4582
> 0.0035 <= 0.004 , 0.00375 , 88.92, 4623
> 0.004 <= 0.0045 , 0.00425 , 90.93, 3293
> 0.0045 <= 0.005 , 0.00475 , 92.36, 2336
> 0.005 <= 0.006 , 0.0055 , 93.37, 1663
> 0.006 <= 0.007 , 0.0065 , 93.76, 635
> 0.007 <= 0.008 , 0.0075 , 93.92, 259
> 0.008 <= 0.009 , 0.0085 , 93.99, 128
> 0.009 <= 0.01 , 0.0095 , 94.07, 124
> 0.01 <= 0.012 , 0.011 , 94.11, 60
> 0.012 <= 0.014 , 0.013 , 94.12, 23
> 0.014 <= 0.016 , 0.015 , 94.12, 4
> 0.016 <= 0.018 , 0.017 , 94.12, 1
> 0.018 <= 0.02 , 0.019 , 94.12, 1
> 0.02 <= 0.025 , 0.0225 , 94.13, 3
> 0.025 <= 0.03 , 0.0275 , 94.14, 29
> 0.03 <= 0.035 , 0.0325 , 94.18, 63
> 0.035 <= 0.04 , 0.0375 , 94.20, 31
> 0.04 <= 0.045 , 0.0425 , 94.22, 33
> 0.045 <= 0.05 , 0.0475 , 94.26, 56
> 0.05 <= 0.06 , 0.055 , 94.64, 625
> 0.06 <= 0.07 , 0.065 , 96.84, 3617
> 0.07 <= 0.08 , 0.075 , 100.00, 5169
> 0.08 <= 0.0812439 , 0.080622 , 100.00, 5
# target 50% 0.00166582
# target 75% 0.00232875
# target 90% 0.00426808
# target 99% 0.0768384
# target 99.9% 0.0796925
Ping SERVING : 163924
All done 163924 calls (plus 32 warmup) 5.863 ms avg, 5457.7 qps
Successfully wrote 6332 bytes of Json data to /data/2018-12-14-062719_grpc_baseline_0qps_30s_echo_0_1.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-linkerd:8079
06:27:49 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:28:20 I periodic.go:533> T001 ended after 30.096461138s : 357 calls. qps=11.861859717096419
06:28:20 I periodic.go:533> T004 ended after 30.096755344s : 371 calls. qps=12.326910185484877
06:28:20 I periodic.go:533> T019 ended after 30.096778811s : 367 calls. qps=12.193995985572585
06:28:20 I periodic.go:533> T022 ended after 30.09679213s : 362 calls. qps=12.027859927276575
06:28:20 I periodic.go:533> T012 ended after 30.09680385s : 366 calls. qps=12.160759721334994
06:28:20 I periodic.go:533> T000 ended after 30.096815917s : 363 calls. qps=12.061076527200397
06:28:20 I periodic.go:533> T011 ended after 30.096841868s : 362 calls. qps=12.027840050051594
06:28:20 I periodic.go:533> T030 ended after 30.097122327s : 364 calls. qps=12.094179504778008
06:28:20 I periodic.go:533> T002 ended after 30.097953469s : 355 calls. qps=11.794821876033515
06:28:20 I periodic.go:533> T005 ended after 30.097992741s : 369 calls. qps=12.25995378413863
06:28:20 I periodic.go:533> T017 ended after 30.098006296s : 372 calls. qps=12.359622638840317
06:28:20 I periodic.go:533> T021 ended after 30.098024921s : 370 calls. qps=12.293165447605285
06:28:20 I periodic.go:533> T024 ended after 30.098036073s : 372 calls. qps=12.359610411049692
06:28:20 I periodic.go:533> T026 ended after 30.098047606s : 362 calls. qps=12.027358210697887
06:28:20 I periodic.go:533> T028 ended after 30.098635287s : 369 calls. qps=12.259692058509243
06:28:20 I periodic.go:533> T020 ended after 30.098659379s : 361 calls. qps=11.993889676424315
06:28:20 I periodic.go:533> T010 ended after 30.098675138s : 356 calls. qps=11.827763128036988
06:28:20 I periodic.go:533> T007 ended after 30.09870335s : 363 calls. qps=12.06032019980688
06:28:20 I periodic.go:533> T003 ended after 30.098715967s : 370 calls. qps=12.292883204906985
06:28:20 I periodic.go:533> T027 ended after 30.098727474s : 367 calls. qps=12.193206517352714
06:28:20 I periodic.go:533> T023 ended after 30.098738108s : 359 calls. qps=11.927410335670542
06:28:20 I periodic.go:533> T016 ended after 30.101033246s : 351 calls. qps=11.660729288973592
06:28:20 I periodic.go:533> T018 ended after 30.101057437s : 363 calls. qps=12.059377008922054
06:28:20 I periodic.go:533> T014 ended after 30.101090216s : 350 calls. qps=11.62748583152514
06:28:20 I periodic.go:533> T031 ended after 30.101102958s : 363 calls. qps=12.05935877188597
06:28:20 I periodic.go:533> T015 ended after 30.101114847s : 362 calls. qps=12.026132647910162
06:28:20 I periodic.go:533> T029 ended after 30.101126618s : 362 calls. qps=12.026127945109195
06:28:20 I periodic.go:533> T013 ended after 30.101138382s : 364 calls. qps=12.09256591497105
06:28:20 I periodic.go:533> T025 ended after 30.101163305s : 343 calls. qps=11.39490844671194
06:28:20 I periodic.go:533> T006 ended after 30.10117627s : 364 calls. qps=12.092550694199167
06:28:20 I periodic.go:533> T008 ended after 30.101186717s : 370 calls. qps=12.29187418684188
06:28:20 I periodic.go:533> T009 ended after 30.101197268s : 361 calls. qps=11.992878448850675
Ended after 30.101213586s : 11610 calls. qps=385.7
Aggregated Function Time : count 11610 avg 0.082946688 +/- 0.03683 min 0.001117563 max 0.196252248 sum 963.011051
# range, mid point, percentile, count
>= 0.00111756 <= 0.0012 , 0.00115878 , 0.01, 1
> 0.0012 <= 0.0014 , 0.0013 , 0.05, 5
> 0.0014 <= 0.0016 , 0.0015 , 0.06, 1
> 0.0016 <= 0.0018 , 0.0017 , 0.11, 6
> 0.0018 <= 0.002 , 0.0019 , 0.49, 44
> 0.002 <= 0.0025 , 0.00225 , 3.15, 309
> 0.0025 <= 0.003 , 0.00275 , 4.59, 167
> 0.003 <= 0.0035 , 0.00325 , 5.69, 128
> 0.0035 <= 0.004 , 0.00375 , 7.66, 228
> 0.004 <= 0.0045 , 0.00425 , 11.56, 453
> 0.0045 <= 0.005 , 0.00475 , 14.79, 375
> 0.005 <= 0.006 , 0.0055 , 16.49, 198
> 0.006 <= 0.007 , 0.0065 , 16.91, 48
> 0.007 <= 0.008 , 0.0075 , 17.22, 36
> 0.008 <= 0.009 , 0.0085 , 17.43, 25
> 0.009 <= 0.01 , 0.0095 , 17.44, 1
> 0.08 <= 0.09 , 0.085 , 17.72, 32
> 0.09 <= 0.1 , 0.095 , 75.00, 6650
> 0.1 <= 0.196252 , 0.148126 , 100.00, 2903
# target 50% 0.0956361
# target 75% 0.100017
# target 90% 0.157758
# target 99% 0.192403
# target 99.9% 0.195867
Ping SERVING : 11610
All done 11610 calls (plus 32 warmup) 82.947 ms avg, 385.7 qps
Successfully wrote 3555 bytes of Json data to /data/2018-12-14-062750_grpc_linkerd_0qps_30s_echo_0_1.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8079
06:28:20 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:28:50 I periodic.go:533> T011 ended after 30.097483174s : 142 calls. qps=4.718002471471371
06:28:50 I periodic.go:533> T005 ended after 30.098633875s : 153 calls. qps=5.083287189558533
06:28:50 I periodic.go:533> T017 ended after 30.098660648s : 150 calls. qps=4.983610458758643
06:28:50 I periodic.go:533> T016 ended after 30.098673325s : 146 calls. qps=4.850712136828044
06:28:50 I periodic.go:533> T023 ended after 30.098685489s : 140 calls. qps=4.651365922646855
06:28:50 I periodic.go:533> T031 ended after 30.098714232s : 137 calls. qps=4.551689449057792
06:28:50 I periodic.go:533> T012 ended after 30.098739937s : 140 calls. qps=4.651357508421798
06:28:50 I periodic.go:533> T015 ended after 30.098762484s : 154 calls. qps=5.116489426495984
06:28:50 I periodic.go:533> T025 ended after 30.09880157s : 146 calls. qps=4.850691468909538
06:28:50 I periodic.go:533> T028 ended after 30.098815552s : 141 calls. qps=4.684569721901593
06:28:50 I periodic.go:533> T013 ended after 30.098826596s : 146 calls. qps=4.850687435748832
06:28:50 I periodic.go:533> T019 ended after 30.098838968s : 142 calls. qps=4.717789950335602
06:28:50 I periodic.go:533> T008 ended after 30.098865206s : 142 calls. qps=4.717785837709698
06:28:50 I periodic.go:533> T010 ended after 30.098887746s : 141 calls. qps=4.684558485678203
06:28:50 I periodic.go:533> T024 ended after 30.098900836s : 149 calls. qps=4.950346885152282
06:28:50 I periodic.go:533> T002 ended after 30.098913986s : 149 calls. qps=4.950344722381174
06:28:50 I periodic.go:533> T003 ended after 30.098925562s : 142 calls. qps=4.717776377349346
06:28:50 I periodic.go:533> T006 ended after 30.098952553s : 142 calls. qps=4.717772146720325
06:28:50 I periodic.go:533> T014 ended after 30.09896492s : 149 calls. qps=4.950336345320409
06:28:50 I periodic.go:533> T030 ended after 30.098977771s : 141 calls. qps=4.684544474326028
06:28:50 I periodic.go:533> T018 ended after 30.099001772s : 155 calls. qps=5.149672443429364
06:28:50 I periodic.go:533> T020 ended after 30.099029377s : 146 calls. qps=4.85065475604888
06:28:50 I periodic.go:533> T001 ended after 30.099042011s : 151 calls. qps=5.016770963833849
06:28:50 I periodic.go:533> T029 ended after 30.099053525s : 144 calls. qps=4.78420359232874
06:28:50 I periodic.go:533> T027 ended after 30.099065445s : 148 calls. qps=4.917096189263427
06:28:50 I periodic.go:533> T009 ended after 30.099077342s : 162 calls. qps=5.3822247824835
06:28:50 I periodic.go:533> T022 ended after 30.099089288s : 146 calls. qps=4.850645101019975
06:28:50 I periodic.go:533> T000 ended after 30.099113938s : 145 calls. qps=4.817417559157386
06:28:50 I periodic.go:533> T026 ended after 30.099126764s : 152 calls. qps=5.0499803928464555
06:28:50 I periodic.go:533> T021 ended after 30.099139112s : 144 calls. qps=4.784189988430258
06:28:50 I periodic.go:533> T004 ended after 30.099151389s : 141 calls. qps=4.684517452924925
06:28:50 I periodic.go:533> T007 ended after 30.100376291s : 155 calls. qps=5.149437286149308
Ended after 30.100403196s : 4681 calls. qps=155.51
Aggregated Function Time : count 4681 avg 0.2057269 +/- 0.07092 min 0.001060587 max 0.603606073 sum 963.007608
# range, mid point, percentile, count
>= 0.00106059 <= 0.0011 , 0.00108029 , 0.02, 1
> 0.0012 <= 0.0014 , 0.0013 , 0.06, 2
> 0.0014 <= 0.0016 , 0.0015 , 0.15, 4
> 0.0016 <= 0.0018 , 0.0017 , 0.19, 2
> 0.0018 <= 0.002 , 0.0019 , 0.28, 4
> 0.002 <= 0.0025 , 0.00225 , 1.11, 39
> 0.0025 <= 0.003 , 0.00275 , 1.52, 19
> 0.003 <= 0.0035 , 0.00325 , 1.56, 2
> 0.0035 <= 0.004 , 0.00375 , 1.67, 5
> 0.004 <= 0.0045 , 0.00425 , 1.79, 6
> 0.0045 <= 0.005 , 0.00475 , 1.84, 2
> 0.09 <= 0.1 , 0.095 , 5.28, 161
> 0.1 <= 0.2 , 0.15 , 44.07, 1816
> 0.2 <= 0.3 , 0.25 , 94.92, 2380
> 0.3 <= 0.4 , 0.35 , 98.63, 174
> 0.4 <= 0.5 , 0.45 , 99.83, 56
> 0.5 <= 0.603606 , 0.551803 , 100.00, 8
# target 50% 0.21166
# target 75% 0.26083
# target 90% 0.290332
# target 99% 0.430696
# target 99.9% 0.542984
Ping SERVING : 4681
All done 4681 calls (plus 32 warmup) 205.727 ms avg, 155.5 qps
Successfully wrote 3221 bytes of Json data to /data/2018-12-14-062820_grpc_istio_0qps_30s_echo_0_1.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-baseline:8080/echo
06:28:50 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
06:28:50 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:29:20 I periodic.go:533> T000 ended after 30.041232966s : 7942 calls. qps=264.3699747273549
06:29:20 I periodic.go:533> T014 ended after 30.041386157s : 8096 calls. qps=269.4948880750476
06:29:20 I periodic.go:533> T025 ended after 30.041442927s : 8062 calls. qps=268.3626089329488
06:29:20 I periodic.go:533> T022 ended after 30.04148958s : 8023 calls. qps=267.0639875774096
06:29:20 I periodic.go:533> T018 ended after 30.041616892s : 7998 calls. qps=266.230676889094
06:29:20 I periodic.go:533> T004 ended after 30.041649813s : 7981 calls. qps=265.6645041027794
06:29:20 I periodic.go:533> T019 ended after 30.041718755s : 7913 calls. qps=263.4003754756208
06:29:20 I periodic.go:533> T002 ended after 30.041731765s : 7982 calls. qps=265.6970664154387
06:29:20 I periodic.go:533> T010 ended after 30.041750996s : 8049 calls. qps=267.92712585467166
06:29:20 I periodic.go:533> T026 ended after 30.041763356s : 7956 calls. qps=264.83132516956636
06:29:20 I periodic.go:533> T031 ended after 30.041787481s : 7931 calls. qps=263.99893831270793
06:29:20 I periodic.go:533> T017 ended after 30.041849202s : 7901 calls. qps=262.9997889568662
06:29:20 I periodic.go:533> T006 ended after 30.041874513s : 7971 calls. qps=265.32964833971045
06:29:20 I periodic.go:533> T012 ended after 30.041885914s : 8128 calls. qps=270.55558440198394
06:29:20 I periodic.go:533> T029 ended after 30.041896805s : 8015 calls. qps=266.79407269204216
06:29:20 I periodic.go:533> T024 ended after 30.041906581s : 7975 calls. qps=265.46251245730815
06:29:20 I periodic.go:533> T030 ended after 30.041916261s : 7947 calls. qps=264.53039582953255
06:29:20 I periodic.go:533> T016 ended after 30.041926971s : 8150 calls. qps=271.28752452754907
06:29:20 I periodic.go:533> T027 ended after 30.041952135s : 8054 calls. qps=268.09176593477054
06:29:20 I periodic.go:533> T021 ended after 30.041963036s : 7927 calls. qps=263.8642485013675
06:29:20 I periodic.go:533> T020 ended after 30.041973284s : 8098 calls. qps=269.5561947095166
06:29:20 I periodic.go:533> T003 ended after 30.04198352s : 8001 calls. qps=266.32728809911816
06:29:20 I periodic.go:533> T023 ended after 30.041994185s : 7959 calls. qps=264.9291505413425
06:29:20 I periodic.go:533> T009 ended after 30.042004668s : 7936 calls. qps=264.16346338076534
06:29:20 I periodic.go:533> T001 ended after 30.042015159s : 8082 calls. qps=269.02323153840734
06:29:20 I periodic.go:533> T013 ended after 30.042041891s : 8011 calls. qps=266.65963748622346
06:29:20 I periodic.go:533> T028 ended after 30.042053429s : 8011 calls. qps=266.65953507248855
06:29:20 I periodic.go:533> T005 ended after 30.042068838s : 8158 calls. qps=271.55253667753414
06:29:20 I periodic.go:533> T007 ended after 30.042079465s : 8064 calls. qps=268.4234960963612
06:29:20 I periodic.go:533> T008 ended after 30.042089986s : 8119 calls. qps=270.2541668633427
06:29:20 I periodic.go:533> T011 ended after 30.042112448s : 8087 calls. qps=269.188793364575
06:29:20 I periodic.go:533> T015 ended after 30.042123885s : 7975 calls. qps=265.46059228461905
Ended after 30.042140385s : 256502 calls. qps=8538.1
Aggregated Function Time : count 256502 avg 0.0037469757 +/- 0.01408 min 7.4515e-05 max 0.082012053 sum 961.106761
# range, mid point, percentile, count
>= 7.4515e-05 <= 0.0001 , 8.72575e-05 , 0.62, 1589
> 0.0001 <= 0.0002 , 0.00015 , 5.22, 11795
> 0.0002 <= 0.0003 , 0.00025 , 10.63, 13890
> 0.0003 <= 0.0004 , 0.00035 , 16.32, 14599
> 0.0004 <= 0.0005 , 0.00045 , 22.42, 15641
> 0.0005 <= 0.0006 , 0.00055 , 28.65, 15962
> 0.0006 <= 0.0007 , 0.00065 , 34.79, 15762
> 0.0007 <= 0.0008 , 0.00075 , 40.83, 15482
> 0.0008 <= 0.0009 , 0.00085 , 46.92, 15640
> 0.0009 <= 0.001 , 0.00095 , 53.17, 16020
> 0.001 <= 0.0011 , 0.00105 , 59.28, 15680
> 0.0011 <= 0.0012 , 0.00115 , 65.35, 15560
> 0.0012 <= 0.0014 , 0.0013 , 76.67, 29042
> 0.0014 <= 0.0016 , 0.0015 , 86.49, 25195
> 0.0016 <= 0.0018 , 0.0017 , 90.99, 11529
> 0.0018 <= 0.002 , 0.0019 , 92.56, 4028
> 0.002 <= 0.0025 , 0.00225 , 94.50, 4971
> 0.0025 <= 0.003 , 0.00275 , 95.26, 1949
> 0.003 <= 0.0035 , 0.00325 , 95.48, 574
> 0.0035 <= 0.004 , 0.00375 , 95.66, 451
> 0.004 <= 0.0045 , 0.00425 , 95.84, 484
> 0.0045 <= 0.005 , 0.00475 , 95.98, 358
> 0.005 <= 0.006 , 0.0055 , 96.21, 582
> 0.006 <= 0.007 , 0.0065 , 96.24, 67
> 0.007 <= 0.008 , 0.0075 , 96.24, 20
> 0.014 <= 0.016 , 0.015 , 96.25, 9
> 0.016 <= 0.018 , 0.017 , 96.26, 23
> 0.05 <= 0.06 , 0.055 , 96.31, 128
> 0.06 <= 0.07 , 0.065 , 96.47, 419
> 0.07 <= 0.08 , 0.075 , 100.00, 9041
> 0.08 <= 0.0820121 , 0.081006 , 100.00, 12
# target 50% 0.000949257
# target 75% 0.00137049
# target 90% 0.00175604
# target 99% 0.0771762
# target 99.9% 0.0797296
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 256502 (100.0 %)
Response Header Sizes : count 256502 avg 75 +/- 0 min 75 max 75 sum 19237650
Response Body/Total Sizes : count 256502 avg 75 +/- 0 min 75 max 75 sum 19237650
All done 256502 calls (plus 32 warmup) 3.747 ms avg, 8538.1 qps
Successfully wrote 5711 bytes of Json data to /data/2018-12-14-062850_http_baseline_0qps_30s_echo_1_1.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-linkerd:8080/echo
06:29:21 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 32 threads at -1.0 qps
06:29:21 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:29:51 I periodic.go:533> T027 ended after 30.072735297s : 495 calls. qps=16.460092343159097
06:29:51 I periodic.go:533> T016 ended after 30.072918673s : 485 calls. qps=16.127466883865903
06:29:51 I periodic.go:533> T004 ended after 30.072936491s : 480 calls. qps=15.96119488177188
06:29:51 I periodic.go:533> T025 ended after 30.073049666s : 471 calls. qps=15.661863536656988
06:29:51 I periodic.go:533> T026 ended after 30.073063768s : 481 calls. qps=15.994379678462296
06:29:51 I periodic.go:533> T021 ended after 30.073074958s : 485 calls. qps=16.12738307197884
06:29:51 I periodic.go:533> T013 ended after 30.073087731s : 459 calls. qps=15.262815847368167
06:29:51 I periodic.go:533> T010 ended after 30.073098075s : 488 calls. qps=16.2271276069717
06:29:51 I periodic.go:533> T022 ended after 30.073127936s : 474 calls. qps=15.761579607174255
06:29:51 I periodic.go:533> T029 ended after 30.073142014s : 477 calls. qps=15.861329015037452
06:29:51 I periodic.go:533> T002 ended after 30.073170066s : 479 calls. qps=15.927818681860408
06:29:51 I periodic.go:533> T001 ended after 30.073181119s : 485 calls. qps=16.127326140884403
06:29:51 I periodic.go:533> T012 ended after 30.073192251s : 479 calls. qps=15.92780693190535
06:29:51 I periodic.go:533> T020 ended after 30.07321849s : 471 calls. qps=15.661775614625943
06:29:51 I periodic.go:533> T008 ended after 30.07322981s : 486 calls. qps=16.160552194443525
06:29:51 I periodic.go:533> T007 ended after 30.073241005s : 502 calls. qps=16.69258062064335
06:29:51 I periodic.go:533> T006 ended after 30.073250688s : 479 calls. qps=15.927775981701016
06:29:51 I periodic.go:533> T019 ended after 30.073260176s : 499 calls. qps=16.592813585213733
06:29:51 I periodic.go:533> T028 ended after 30.073270697s : 485 calls. qps=16.127278103089125
06:29:51 I periodic.go:533> T000 ended after 30.073293587s : 492 calls. qps=16.360030489400085
06:29:51 I periodic.go:533> T017 ended after 30.073304929s : 489 calls. qps=16.26026807344517
06:29:51 I periodic.go:533> T009 ended after 30.073320831s : 492 calls. qps=16.36001566853367
06:29:51 I periodic.go:533> T023 ended after 30.073337288s : 506 calls. qps=16.825535362246157
06:29:51 I periodic.go:533> T014 ended after 30.073349893s : 477 calls. qps=15.86121937519932
06:29:51 I periodic.go:533> T031 ended after 30.073372992s : 473 calls. qps=15.728199165614898
06:29:51 I periodic.go:533> T003 ended after 30.073384617s : 492 calls. qps=16.35998096874937
06:29:51 I periodic.go:533> T005 ended after 30.073432259s : 504 calls. qps=16.758978345385543
06:29:51 I periodic.go:533> T015 ended after 30.073444402s : 487 calls. qps=16.19368880697991
06:29:51 I periodic.go:533> T011 ended after 30.073454464s : 493 calls. qps=16.39319488854049
06:29:51 I periodic.go:533> T018 ended after 30.073464731s : 497 calls. qps=16.526196912977834
06:29:51 I periodic.go:533> T030 ended after 30.073490529s : 471 calls. qps=15.661633941221842
06:29:51 I periodic.go:533> T024 ended after 30.073517562s : 487 calls. qps=16.193649412510318
Ended after 30.073533319s : 15520 calls. qps=516.07
Aggregated Function Time : count 15520 avg 0.06199635 +/- 0.05095 min 0.000376515 max 0.197819344 sum 962.183351
# range, mid point, percentile, count
>= 0.000376515 <= 0.0004 , 0.000388257 , 0.03, 4
> 0.0004 <= 0.0005 , 0.00045 , 0.94, 142
> 0.0005 <= 0.0006 , 0.00055 , 2.26, 204
> 0.0006 <= 0.0007 , 0.00065 , 3.15, 139
> 0.0007 <= 0.0008 , 0.00075 , 3.60, 70
> 0.0008 <= 0.0009 , 0.00085 , 3.82, 34
> 0.0009 <= 0.001 , 0.00095 , 3.95, 20
> 0.001 <= 0.0011 , 0.00105 , 4.09, 21
> 0.0011 <= 0.0012 , 0.00115 , 4.18, 15
> 0.0012 <= 0.0014 , 0.0013 , 4.39, 33
> 0.0014 <= 0.0016 , 0.0015 , 4.90, 78
> 0.0016 <= 0.0018 , 0.0017 , 6.46, 242
> 0.0018 <= 0.002 , 0.0019 , 8.10, 255
> 0.002 <= 0.0025 , 0.00225 , 12.29, 651
> 0.0025 <= 0.003 , 0.00275 , 16.45, 645
> 0.003 <= 0.0035 , 0.00325 , 21.16, 731
> 0.0035 <= 0.004 , 0.00375 , 26.29, 796
> 0.004 <= 0.0045 , 0.00425 , 30.93, 721
> 0.0045 <= 0.005 , 0.00475 , 34.87, 611
> 0.005 <= 0.006 , 0.0055 , 39.43, 707
> 0.006 <= 0.007 , 0.0065 , 39.79, 57
> 0.007 <= 0.008 , 0.0075 , 40.04, 38
> 0.008 <= 0.009 , 0.0085 , 40.23, 30
> 0.009 <= 0.01 , 0.0095 , 40.41, 27
> 0.01 <= 0.012 , 0.011 , 40.63, 35
> 0.06 <= 0.07 , 0.065 , 40.70, 11
> 0.07 <= 0.08 , 0.075 , 40.84, 21
> 0.08 <= 0.09 , 0.085 , 40.91, 11
> 0.09 <= 0.1 , 0.095 , 87.29, 7199
> 0.1 <= 0.197819 , 0.14891 , 100.00, 1972
# target 50% 0.09196
# target 75% 0.0973496
# target 90% 0.120834
# target 99% 0.190121
# target 99.9% 0.197049
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 15520 (100.0 %)
Response Header Sizes : count 15520 avg 75 +/- 0 min 75 max 75 sum 1164000
Response Body/Total Sizes : count 15520 avg 75 +/- 0 min 75 max 75 sum 1164000
All done 15520 calls (plus 32 warmup) 61.996 ms avg, 516.1 qps
Successfully wrote 5519 bytes of Json data to /data/2018-12-14-062921_http_linkerd_0qps_30s_echo_1_1.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-istio:8080/echo
06:29:51 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 32 threads at -1.0 qps
06:29:51 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:30:21 I periodic.go:533> T031 ended after 30.08219313s : 178 calls. qps=5.917121774691565
06:30:21 I periodic.go:533> T009 ended after 30.08228526s : 180 calls. qps=5.983587963622681
06:30:21 I periodic.go:533> T016 ended after 30.082301215s : 178 calls. qps=5.9171005146123425
06:30:21 I periodic.go:533> T008 ended after 30.082314369s : 189 calls. qps=6.282761282315619
06:30:21 I periodic.go:533> T025 ended after 30.082351025s : 188 calls. qps=6.2495115439535365
06:30:21 I periodic.go:533> T023 ended after 30.082365921s : 180 calls. qps=5.983571919599083
06:30:21 I periodic.go:533> T014 ended after 30.082378212s : 182 calls. qps=6.050053580118854
06:30:21 I periodic.go:533> T012 ended after 30.082388933s : 182 calls. qps=6.050051423952846
06:30:21 I periodic.go:533> T020 ended after 30.082399583s : 180 calls. qps=5.9835652240229065
06:30:21 I periodic.go:533> T000 ended after 30.08241089s : 191 calls. qps=6.349225156800589
06:30:21 I periodic.go:533> T017 ended after 30.082434021s : 186 calls. qps=6.183010319914831
06:30:21 I periodic.go:533> T026 ended after 30.082446027s : 187 calls. qps=6.216249829956023
06:30:21 I periodic.go:533> T007 ended after 30.082455839s : 177 calls. qps=5.883828133823127
06:30:21 I periodic.go:533> T006 ended after 30.082481848s : 173 calls. qps=5.7508552942583
06:30:21 I periodic.go:533> T022 ended after 30.082494818s : 181 calls. qps=6.016788205069275
06:30:21 I periodic.go:533> T029 ended after 30.082525704s : 184 calls. qps=6.116507696544043
06:30:21 I periodic.go:533> T013 ended after 30.082536849s : 186 calls. qps=6.182989185175152
06:30:21 I periodic.go:533> T015 ended after 30.082546779s : 185 calls. qps=6.149745277854754
06:30:21 I periodic.go:533> T027 ended after 30.082557094s : 187 calls. qps=6.216226879107207
06:30:21 I periodic.go:533> T004 ended after 30.082568627s : 180 calls. qps=5.98353160037154
06:30:21 I periodic.go:533> T002 ended after 30.08258062s : 197 calls. qps=6.548640307441815
06:30:21 I periodic.go:533> T028 ended after 30.082605209s : 177 calls. qps=5.88379891868693
06:30:21 I periodic.go:533> T005 ended after 30.082615853s : 180 calls. qps=5.98352220696424
06:30:21 I periodic.go:533> T019 ended after 30.082625704s : 185 calls. qps=6.149729143337414
06:30:21 I periodic.go:533> T010 ended after 30.082635864s : 184 calls. qps=6.116485298424048
06:30:21 I periodic.go:533> T021 ended after 30.082646429s : 183 calls. qps=6.083241394067843
06:30:21 I periodic.go:533> T030 ended after 30.082657247s : 193 calls. qps=6.4156566494552925
06:30:21 I periodic.go:533> T018 ended after 30.082695157s : 185 calls. qps=6.149714945236614
06:30:21 I periodic.go:533> T024 ended after 30.082706654s : 181 calls. qps=6.0167458361308395
06:30:21 I periodic.go:533> T011 ended after 30.082717194s : 188 calls. qps=6.249435474448984
06:30:21 I periodic.go:533> T001 ended after 30.082732046s : 188 calls. qps=6.249432389070451
06:30:21 I periodic.go:533> T003 ended after 30.082762826s : 186 calls. qps=6.182942739529346
Ended after 30.082778738s : 5881 calls. qps=195.49
Aggregated Function Time : count 5881 avg 0.16366306 +/- 0.06417 min 0.00070588 max 0.400658082 sum 962.502445
# range, mid point, percentile, count
>= 0.00070588 <= 0.0008 , 0.00075294 , 0.02, 1
> 0.0008 <= 0.0009 , 0.00085 , 0.07, 3
> 0.0009 <= 0.001 , 0.00095 , 0.09, 1
> 0.001 <= 0.0011 , 0.00105 , 0.19, 6
> 0.0011 <= 0.0012 , 0.00115 , 0.22, 2
> 0.0012 <= 0.0014 , 0.0013 , 0.53, 18
> 0.0014 <= 0.0016 , 0.0015 , 0.63, 6
> 0.0016 <= 0.0018 , 0.0017 , 0.70, 4
> 0.0018 <= 0.002 , 0.0019 , 0.78, 5
> 0.002 <= 0.0025 , 0.00225 , 0.95, 10
> 0.0025 <= 0.003 , 0.00275 , 1.05, 6
> 0.003 <= 0.0035 , 0.00325 , 1.14, 5
> 0.0035 <= 0.004 , 0.00375 , 1.21, 4
> 0.004 <= 0.0045 , 0.00425 , 1.22, 1
> 0.0045 <= 0.005 , 0.00475 , 1.29, 4
> 0.07 <= 0.08 , 0.075 , 1.45, 9
> 0.09 <= 0.1 , 0.095 , 15.54, 829
> 0.1 <= 0.2 , 0.15 , 72.76, 3365
> 0.2 <= 0.3 , 0.25 , 98.30, 1502
> 0.3 <= 0.4 , 0.35 , 99.95, 97
> 0.4 <= 0.400658 , 0.400329 , 100.00, 3
# target 50% 0.160223
# target 75% 0.208772
# target 90% 0.267503
# target 99% 0.342464
# target 99.9% 0.39703
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 5881 (100.0 %)
Response Header Sizes : count 5881 avg 210.13926 +/- 0.62 min 209 max 211 sum 1235829
Response Body/Total Sizes : count 5881 avg 210.13926 +/- 0.62 min 209 max 211 sum 1235829
All done 5881 calls (plus 32 warmup) 163.663 ms avg, 195.5 qps
Successfully wrote 4373 bytes of Json data to /data/2018-12-14-062951_http_istio_0qps_30s_echo_1_1.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-baseline:8079
06:30:21 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:30:51 I periodic.go:533> T025 ended after 30.02863953s : 5035 calls. qps=167.67326388429294
06:30:51 I periodic.go:533> T028 ended after 30.029830866s : 5039 calls. qps=167.79981287557612
06:30:51 I periodic.go:533> T030 ended after 30.029895819s : 5044 calls. qps=167.96595067801223
06:30:51 I periodic.go:533> T031 ended after 30.029939459s : 5024 calls. qps=167.2997045784687
06:30:51 I periodic.go:533> T002 ended after 30.029970894s : 5075 calls. qps=168.99783279556846
06:30:51 I periodic.go:533> T009 ended after 30.030015575s : 5059 calls. qps=168.46478109094355
06:30:51 I periodic.go:533> T006 ended after 30.030047559s : 5068 calls. qps=168.7643014897964
06:30:51 I periodic.go:533> T012 ended after 30.030073664s : 5051 calls. qps=168.1980556063414
06:30:51 I periodic.go:533> T015 ended after 30.030117029s : 5058 calls. qps=168.4309120445819
06:30:51 I periodic.go:533> T007 ended after 30.030145563s : 5035 calls. qps=167.66485495173887
06:30:51 I periodic.go:533> T018 ended after 30.030187231s : 5050 calls. qps=168.1641196957611
06:30:51 I periodic.go:533> T016 ended after 30.030227803s : 5074 calls. qps=168.96308723615846
06:30:51 I periodic.go:533> T008 ended after 30.030268823s : 5017 calls. qps=167.06477153336405
06:30:51 I periodic.go:533> T029 ended after 30.03029519s : 5046 calls. qps=168.03031632137612
06:30:51 I periodic.go:533> T024 ended after 30.030515143s : 5021 calls. qps=167.19659906234997
06:30:51 I periodic.go:533> T005 ended after 30.030543462s : 5032 calls. qps=167.56273513222908
06:30:51 I periodic.go:533> T011 ended after 30.030600705s : 5031 calls. qps=167.5291163643741
06:30:51 I periodic.go:533> T010 ended after 30.030653138s : 5018 calls. qps=167.0959328437101
06:30:51 I periodic.go:533> T000 ended after 30.030858081s : 5077 calls. qps=169.05943833859777
06:30:51 I periodic.go:533> T023 ended after 30.030887666s : 5061 calls. qps=168.52648700524094
06:30:51 I periodic.go:533> T004 ended after 30.030928432s : 5042 calls. qps=167.89357716384836
06:30:51 I periodic.go:533> T021 ended after 30.030955964s : 5038 calls. qps=167.76022734805272
06:30:51 I periodic.go:533> T019 ended after 30.030993715s : 5025 calls. qps=167.32713035366834
06:30:51 I periodic.go:533> T022 ended after 30.031019343s : 5031 calls. qps=167.52678097730598
06:30:51 I periodic.go:533> T014 ended after 30.031044303s : 5060 calls. qps=168.49230912341343
06:30:51 I periodic.go:533> T003 ended after 30.031085061s : 5049 calls. qps=168.125793315304
06:30:51 I periodic.go:533> T026 ended after 30.031110953s : 5019 calls. qps=167.12668431930322
06:30:51 I periodic.go:533> T001 ended after 30.031138624s : 5035 calls. qps=167.65931065884317
06:30:51 I periodic.go:533> T013 ended after 30.031178916s : 5013 calls. qps=166.92651374166252
06:30:51 I periodic.go:533> T027 ended after 30.031205441s : 5082 calls. qps=169.22397637298357
06:30:51 I periodic.go:533> T020 ended after 30.031252065s : 5063 calls. qps=168.591039395946
06:30:51 I periodic.go:533> T017 ended after 30.031279437s : 5028 calls. qps=167.4254342226012
Ended after 30.03129581s : 161400 calls. qps=5374.4
Aggregated Function Time : count 161400 avg 0.0059528458 +/- 0.01587 min 0.000384014 max 0.077985721 sum 960.789311
# range, mid point, percentile, count
>= 0.000384014 <= 0.0004 , 0.000392007 , 0.00, 1
> 0.0004 <= 0.0005 , 0.00045 , 0.00, 7
> 0.0005 <= 0.0006 , 0.00055 , 0.12, 186
> 0.0006 <= 0.0007 , 0.00065 , 0.51, 623
> 0.0007 <= 0.0008 , 0.00075 , 1.23, 1170
> 0.0008 <= 0.0009 , 0.00085 , 2.22, 1589
> 0.0009 <= 0.001 , 0.00095 , 3.47, 2024
> 0.001 <= 0.0011 , 0.00105 , 5.60, 3441
> 0.0011 <= 0.0012 , 0.00115 , 9.43, 6175
> 0.0012 <= 0.0014 , 0.0013 , 22.30, 20774
> 0.0014 <= 0.0016 , 0.0015 , 42.42, 32479
> 0.0016 <= 0.0018 , 0.0017 , 57.09, 23673
> 0.0018 <= 0.002 , 0.0019 , 66.69, 15497
> 0.002 <= 0.0025 , 0.00225 , 77.73, 17814
> 0.0025 <= 0.003 , 0.00275 , 82.49, 7690
> 0.003 <= 0.0035 , 0.00325 , 85.64, 5086
> 0.0035 <= 0.004 , 0.00375 , 88.37, 4395
> 0.004 <= 0.0045 , 0.00425 , 90.49, 3433
> 0.0045 <= 0.005 , 0.00475 , 91.79, 2090
> 0.005 <= 0.006 , 0.0055 , 93.12, 2141
> 0.006 <= 0.007 , 0.0065 , 93.48, 581
> 0.007 <= 0.008 , 0.0075 , 93.65, 289
> 0.008 <= 0.009 , 0.0085 , 93.81, 257
> 0.009 <= 0.01 , 0.0095 , 93.91, 149
> 0.01 <= 0.012 , 0.011 , 94.01, 162
> 0.012 <= 0.014 , 0.013 , 94.03, 41
> 0.014 <= 0.016 , 0.015 , 94.04, 20
> 0.016 <= 0.018 , 0.017 , 94.05, 13
> 0.025 <= 0.03 , 0.0275 , 94.05, 1
> 0.03 <= 0.035 , 0.0325 , 94.08, 42
> 0.035 <= 0.04 , 0.0375 , 94.10, 32
> 0.04 <= 0.045 , 0.0425 , 94.11, 22
> 0.045 <= 0.05 , 0.0475 , 94.23, 193
> 0.05 <= 0.06 , 0.055 , 94.52, 473
> 0.06 <= 0.07 , 0.065 , 97.02, 4029
> 0.07 <= 0.0779857 , 0.0739929 , 100.00, 4808
# target 50% 0.00170333
# target 75% 0.00237642
# target 90% 0.00438392
# target 99% 0.075305
# target 99.9% 0.0777176
Ping SERVING : 161400
All done 161400 calls (plus 32 warmup) 5.953 ms avg, 5374.4 qps
Successfully wrote 5812 bytes of Json data to /data/2018-12-14-063021_grpc_baseline_0qps_30s_echo_1_1.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-linkerd:8079
06:30:51 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:31:22 I periodic.go:533> T021 ended after 30.0932524s : 366 calls. qps=12.162194871299453
06:31:22 I periodic.go:533> T007 ended after 30.09370033s : 374 calls. qps=12.427850211134205
06:31:22 I periodic.go:533> T018 ended after 30.093737802s : 382 calls. qps=12.693670773412954
06:31:22 I periodic.go:533> T028 ended after 30.093757773s : 362 calls. qps=12.02907269775345
06:31:22 I periodic.go:533> T025 ended after 30.093769056s : 377 calls. qps=12.527510239693122
06:31:22 I periodic.go:533> T009 ended after 30.093783517s : 365 calls. qps=12.128750769866183
06:31:22 I periodic.go:533> T006 ended after 30.093809814s : 373 calls. qps=12.394575572364916
06:31:22 I periodic.go:533> T001 ended after 30.093821903s : 379 calls. qps=12.593947064005791
06:31:22 I periodic.go:533> T005 ended after 30.093832595s : 377 calls. qps=12.527483789573463
06:31:22 I periodic.go:533> T020 ended after 30.093843612s : 375 calls. qps=12.461020427794997
06:31:22 I periodic.go:533> T016 ended after 30.093867706s : 380 calls. qps=12.62715725716562
06:31:22 I periodic.go:533> T012 ended after 30.094042859s : 372 calls. qps=12.361250422315681
06:31:22 I periodic.go:533> T000 ended after 30.095422662s : 370 calls. qps=12.294228399961323
06:31:22 I periodic.go:533> T031 ended after 30.095486564s : 364 calls. qps=12.094836852892557
06:31:22 I periodic.go:533> T011 ended after 30.095507041s : 374 calls. qps=12.427104135194956
06:31:22 I periodic.go:533> T014 ended after 30.095526647s : 372 calls. qps=12.360640980412347
06:31:22 I periodic.go:533> T010 ended after 30.096244343s : 373 calls. qps=12.393572957110678
06:31:22 I periodic.go:533> T022 ended after 30.096276838s : 370 calls. qps=12.293879471923004
06:31:22 I periodic.go:533> T003 ended after 30.096290826s : 377 calls. qps=12.52646055886435
06:31:22 I periodic.go:533> T013 ended after 30.096319401s : 367 calls. qps=12.194182122741754
06:31:22 I periodic.go:533> T029 ended after 30.096332543s : 370 calls. qps=12.293856717304813
06:31:22 I periodic.go:533> T004 ended after 30.096343801s : 389 calls. qps=12.925158038202463
06:31:22 I periodic.go:533> T030 ended after 30.09635528s : 373 calls. qps=12.393527273645342
06:31:22 I periodic.go:533> T008 ended after 30.096366242s : 368 calls. qps=12.227389746688079
06:31:22 I periodic.go:533> T026 ended after 30.09639682s : 377 calls. qps=12.526416442963422
06:31:22 I periodic.go:533> T017 ended after 30.096409713s : 365 calls. qps=12.127692421808705
06:31:22 I periodic.go:533> T027 ended after 30.096421344s : 381 calls. qps=12.659312402800206
06:31:22 I periodic.go:533> T002 ended after 30.096432429s : 373 calls. qps=12.393495504157784
06:31:22 I periodic.go:533> T015 ended after 30.096473147s : 369 calls. qps=12.260572798603205
06:31:22 I periodic.go:533> T019 ended after 30.096486415s : 373 calls. qps=12.393473273149183
06:31:22 I periodic.go:533> T023 ended after 30.096498209s : 381 calls. qps=12.659280071528936
06:31:22 I periodic.go:533> T024 ended after 30.096510383s : 370 calls. qps=12.293784073019786
Ended after 30.096525474s : 11938 calls. qps=396.66
Aggregated Function Time : count 11938 avg 0.080659953 +/- 0.03813 min 0.000967024 max 0.196531304 sum 962.918519
# range, mid point, percentile, count
>= 0.000967024 <= 0.001 , 0.000983512 , 0.01, 1
> 0.001 <= 0.0011 , 0.00105 , 0.02, 1
> 0.0011 <= 0.0012 , 0.00115 , 0.03, 1
> 0.0012 <= 0.0014 , 0.0013 , 0.04, 2
> 0.0014 <= 0.0016 , 0.0015 , 0.10, 7
> 0.0016 <= 0.0018 , 0.0017 , 0.13, 4
> 0.0018 <= 0.002 , 0.0019 , 0.72, 70
> 0.002 <= 0.0025 , 0.00225 , 4.27, 424
> 0.0025 <= 0.003 , 0.00275 , 5.82, 185
> 0.003 <= 0.0035 , 0.00325 , 6.98, 138
> 0.0035 <= 0.004 , 0.00375 , 8.97, 238
> 0.004 <= 0.0045 , 0.00425 , 13.91, 589
> 0.0045 <= 0.005 , 0.00475 , 17.02, 372
> 0.005 <= 0.006 , 0.0055 , 18.78, 210
> 0.006 <= 0.007 , 0.0065 , 19.25, 56
> 0.007 <= 0.008 , 0.0075 , 19.43, 22
> 0.008 <= 0.009 , 0.0085 , 19.44, 1
> 0.009 <= 0.01 , 0.0095 , 19.45, 1
> 0.045 <= 0.05 , 0.0475 , 19.53, 9
> 0.05 <= 0.06 , 0.055 , 19.72, 23
> 0.08 <= 0.09 , 0.085 , 19.99, 32
> 0.09 <= 0.1 , 0.095 , 79.12, 7059
> 0.1 <= 0.196531 , 0.148266 , 100.00, 2493
# target 50% 0.0950758
# target 75% 0.0993037
# target 90% 0.150306
# target 99% 0.191909
# target 99.9% 0.196069
Ping SERVING : 11938
All done 11938 calls (plus 32 warmup) 80.660 ms avg, 396.7 qps
Successfully wrote 4070 bytes of Json data to /data/2018-12-14-063052_grpc_linkerd_0qps_30s_echo_1_1.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-istio:8079
06:31:22 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*32 threads at -1.0 qps
06:33:02 E grpcrunner.go:201> Error in first grpc call (ping = true) for fortio-echo-1.benchmark-istio:8079: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: Error while dialing dial tcp 172.16.2.103:8079: connect: connection refused"
Aborting because rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: Error while dialing dial tcp 172.16.2.103:8079: connect: connection refused"
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8080/echo
06:33:02 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
06:33:02 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:33:32 I periodic.go:533> T005 ended after 30.018372441s : 7956 calls. qps=265.03768702441226
06:33:32 I periodic.go:533> T022 ended after 30.019804243s : 7793 calls. qps=259.5952970551821
06:33:32 I periodic.go:533> T011 ended after 30.019985352s : 8028 calls. qps=267.4218493402815
06:33:32 I periodic.go:533> T004 ended after 30.020055258s : 7728 calls. qps=257.42790723013667
06:33:32 I periodic.go:533> T026 ended after 30.020079622s : 7737 calls. qps=257.7274976422779
06:33:32 I periodic.go:533> T016 ended after 30.020089845s : 7768 calls. qps=258.7600516889792
06:33:32 I periodic.go:533> T023 ended after 30.020120848s : 7734 calls. qps=257.6272107350712
06:33:32 I periodic.go:533> T019 ended after 30.020130082s : 7623 calls. qps=253.92961253591412
06:33:32 I periodic.go:533> T013 ended after 30.020148403s : 7717 calls. qps=257.0606879221429
06:33:32 I periodic.go:533> T024 ended after 30.020157384s : 7835 calls. qps=260.99130326931135
06:33:32 I periodic.go:533> T029 ended after 30.020197305s : 7869 calls. qps=262.12352703922375
06:33:32 I periodic.go:533> T003 ended after 30.020206265s : 7799 calls. qps=259.79168601158847
06:33:32 I periodic.go:533> T014 ended after 30.020214918s : 7734 calls. qps=257.62640344599015
06:33:32 I periodic.go:533> T009 ended after 30.02022377s : 7861 calls. qps=261.85680893743717
06:33:32 I periodic.go:533> T001 ended after 30.020232459s : 7850 calls. qps=261.49031359837414
06:33:32 I periodic.go:533> T006 ended after 30.020241747s : 7851 calls. qps=261.5235435532284
06:33:32 I periodic.go:533> T028 ended after 30.020251061s : 7751 calls. qps=258.19237768032866
06:33:32 I periodic.go:533> T018 ended after 30.020259767s : 7844 calls. qps=261.2902107070565
06:33:32 I periodic.go:533> T002 ended after 30.020268478s : 7783 calls. qps=259.2581743798754
06:33:32 I periodic.go:533> T021 ended after 30.020276885s : 7636 calls. qps=254.36141143039958
06:33:32 I periodic.go:533> T017 ended after 30.020291206s : 7732 calls. qps=257.55912715645627
06:33:32 I periodic.go:533> T027 ended after 30.020300061s : 7766 calls. qps=258.6916181457151
06:33:32 I periodic.go:533> T000 ended after 30.020308657s : 7815 calls. qps=260.3237724598722
06:33:32 I periodic.go:533> T031 ended after 30.020318285s : 7760 calls. qps=258.49159646909453
06:33:32 I periodic.go:533> T010 ended after 30.020327945s : 7735 calls. qps=257.6587442406103
06:33:32 I periodic.go:533> T008 ended after 30.020339265s : 7697 calls. qps=256.3928386037179
06:33:32 I periodic.go:533> T025 ended after 30.02034856s : 7808 calls. qps=260.0902512638914
06:33:32 I periodic.go:533> T007 ended after 30.020357625s : 7784 calls. qps=259.2907152284466
06:33:32 I periodic.go:533> T030 ended after 30.020369296s : 7856 calls. qps=261.68898598615027
06:33:32 I periodic.go:533> T012 ended after 30.020380464s : 7672 calls. qps=255.55971914480398
06:33:32 I periodic.go:533> T015 ended after 30.020389484s : 7843 calls. qps=261.2557709879178
06:33:32 I periodic.go:533> T020 ended after 30.020398514s : 7825 calls. qps=260.65610009643325
Ended after 30.021464603s : 249190 calls. qps=8300.4
Aggregated Function Time : count 249190 avg 0.0038542188 +/- 0.01427 min 7.3723e-05 max 0.080731801 sum 960.432783
# range, mid point, percentile, count
>= 7.3723e-05 <= 0.0001 , 8.68615e-05 , 0.52, 1303
> 0.0001 <= 0.0002 , 0.00015 , 4.83, 10745
> 0.0002 <= 0.0003 , 0.00025 , 10.00, 12863
> 0.0003 <= 0.0004 , 0.00035 , 15.60, 13964
> 0.0004 <= 0.0005 , 0.00045 , 21.57, 14869
> 0.0005 <= 0.0006 , 0.00055 , 27.59, 14998
> 0.0006 <= 0.0007 , 0.00065 , 33.69, 15211
> 0.0007 <= 0.0008 , 0.00075 , 39.61, 14755
> 0.0008 <= 0.0009 , 0.00085 , 45.63, 15000
> 0.0009 <= 0.001 , 0.00095 , 51.73, 15207
> 0.001 <= 0.0011 , 0.00105 , 57.79, 15082
> 0.0011 <= 0.0012 , 0.00115 , 63.54, 14339
> 0.0012 <= 0.0014 , 0.0013 , 74.68, 27766
> 0.0014 <= 0.0016 , 0.0015 , 84.61, 24726
> 0.0016 <= 0.0018 , 0.0017 , 89.98, 13399
> 0.0018 <= 0.002 , 0.0019 , 91.98, 4977
> 0.002 <= 0.0025 , 0.00225 , 94.13, 5371
> 0.0025 <= 0.003 , 0.00275 , 95.02, 2193
> 0.003 <= 0.0035 , 0.00325 , 95.30, 699
> 0.0035 <= 0.004 , 0.00375 , 95.49, 484
> 0.004 <= 0.0045 , 0.00425 , 95.69, 495
> 0.0045 <= 0.005 , 0.00475 , 95.89, 495
> 0.005 <= 0.006 , 0.0055 , 96.09, 514
> 0.006 <= 0.007 , 0.0065 , 96.12, 77
> 0.007 <= 0.008 , 0.0075 , 96.14, 38
> 0.008 <= 0.009 , 0.0085 , 96.14, 8
> 0.009 <= 0.01 , 0.0095 , 96.15, 12
> 0.05 <= 0.06 , 0.055 , 96.22, 186
> 0.06 <= 0.07 , 0.065 , 96.36, 336
> 0.07 <= 0.08 , 0.075 , 100.00, 9071
> 0.08 <= 0.0807318 , 0.0803659 , 100.00, 7
# target 50% 0.000971592
# target 75% 0.00140639
# target 90% 0.00180177
# target 99% 0.0772606
# target 99.9% 0.079733
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 249190 (100.0 %)
Response Header Sizes : count 249190 avg 75 +/- 0 min 75 max 75 sum 18689250
Response Body/Total Sizes : count 249190 avg 75 +/- 0 min 75 max 75 sum 18689250
All done 249190 calls (plus 32 warmup) 3.854 ms avg, 8300.4 qps
Successfully wrote 5719 bytes of Json data to /data/2018-12-14-063302_http_baseline_0qps_30s_echo_0_2.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-linkerd:8080/echo
06:33:32 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 32 threads at -1.0 qps
06:33:32 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:34:02 I periodic.go:533> T004 ended after 30.061749617s : 488 calls. qps=16.233253427273397
06:34:02 I periodic.go:533> T018 ended after 30.061839884s : 498 calls. qps=16.565852320471365
06:34:02 I periodic.go:533> T030 ended after 30.061872073s : 466 calls. qps=15.501363283976476
06:34:02 I periodic.go:533> T014 ended after 30.061886834s : 496 calls. qps=16.49929702479699
06:34:02 I periodic.go:533> T005 ended after 30.061899209s : 492 calls. qps=16.366231440650427
06:34:02 I periodic.go:533> T028 ended after 30.06191215s : 455 calls. qps=15.135431097319602
06:34:02 I periodic.go:533> T012 ended after 30.061922711s : 502 calls. qps=16.698865366196703
06:34:02 I periodic.go:533> T006 ended after 30.061951001s : 479 calls. qps=15.93376291459148
06:34:02 I periodic.go:533> T021 ended after 30.061966159s : 489 calls. qps=16.266401120061218
06:34:02 I periodic.go:533> T010 ended after 30.06198399s : 496 calls. qps=16.49924370144673
06:34:02 I periodic.go:533> T027 ended after 30.061998142s : 467 calls. qps=15.534562865518522
06:34:02 I periodic.go:533> T003 ended after 30.062008678s : 517 calls. qps=17.197786266968624
06:34:02 I periodic.go:533> T022 ended after 30.062035235s : 472 calls. qps=15.700866435365949
06:34:02 I periodic.go:533> T001 ended after 30.062094756s : 481 calls. qps=16.000215683705765
06:34:02 I periodic.go:533> T002 ended after 30.0621227s : 492 calls. qps=16.36610976908826
06:34:02 I periodic.go:533> T009 ended after 30.062270039s : 489 calls. qps=16.266236693556966
06:34:02 I periodic.go:533> T029 ended after 30.062282695s : 469 calls. qps=15.60094437133361
06:34:02 I periodic.go:533> T016 ended after 30.062293212s : 493 calls. qps=16.399281203311816
06:34:02 I periodic.go:533> T008 ended after 30.062303311s : 496 calls. qps=16.49906844691139
06:34:02 I periodic.go:533> T026 ended after 30.062313854s : 469 calls. qps=15.600928201260073
06:34:02 I periodic.go:533> T025 ended after 30.062324167s : 479 calls. qps=15.933565127536202
06:34:02 I periodic.go:533> T000 ended after 30.062347183s : 468 calls. qps=15.567646702738168
06:34:02 I periodic.go:533> T023 ended after 30.062357892s : 467 calls. qps=15.53437696662759
06:34:02 I periodic.go:533> T020 ended after 30.062367767s : 479 calls. qps=15.933542018796233
06:34:02 I periodic.go:533> T007 ended after 30.062377974s : 493 calls. qps=16.399234964924602
06:34:02 I periodic.go:533> T013 ended after 30.062388077s : 486 calls. qps=16.16638035392227
06:34:02 I periodic.go:533> T019 ended after 30.062398294s : 476 calls. qps=15.833733401602972
06:34:02 I periodic.go:533> T017 ended after 30.062407961s : 487 calls. qps=16.199633796194426
06:34:02 I periodic.go:533> T024 ended after 30.062429364s : 484 calls. qps=16.099829928568376
06:34:02 I periodic.go:533> T011 ended after 30.062439623s : 490 calls. qps=16.29940903482476
06:34:02 I periodic.go:533> T015 ended after 30.062450893s : 481 calls. qps=16.000026135992798
06:34:02 I periodic.go:533> T031 ended after 30.062549621s : 486 calls. qps=16.166293482323532
Ended after 30.062585258s : 15482 calls. qps=514.99
Aggregated Function Time : count 15482 avg 0.062132838 +/- 0.05126 min 0.000388251 max 0.199728261 sum 961.940601
# range, mid point, percentile, count
>= 0.000388251 <= 0.0004 , 0.000394126 , 0.02, 3
> 0.0004 <= 0.0005 , 0.00045 , 1.11, 169
> 0.0005 <= 0.0006 , 0.00055 , 2.68, 243
> 0.0006 <= 0.0007 , 0.00065 , 3.58, 140
> 0.0007 <= 0.0008 , 0.00075 , 4.00, 64
> 0.0008 <= 0.0009 , 0.00085 , 4.13, 21
> 0.0009 <= 0.001 , 0.00095 , 4.24, 17
> 0.001 <= 0.0011 , 0.00105 , 4.37, 19
> 0.0011 <= 0.0012 , 0.00115 , 4.48, 18
> 0.0012 <= 0.0014 , 0.0013 , 4.70, 33
> 0.0014 <= 0.0016 , 0.0015 , 5.14, 69
> 0.0016 <= 0.0018 , 0.0017 , 6.74, 247
> 0.0018 <= 0.002 , 0.0019 , 8.90, 335
> 0.002 <= 0.0025 , 0.00225 , 13.03, 640
> 0.0025 <= 0.003 , 0.00275 , 17.34, 666
> 0.003 <= 0.0035 , 0.00325 , 21.95, 714
> 0.0035 <= 0.004 , 0.00375 , 27.09, 796
> 0.004 <= 0.0045 , 0.00425 , 31.97, 756
> 0.0045 <= 0.005 , 0.00475 , 35.73, 581
> 0.005 <= 0.006 , 0.0055 , 39.28, 551
> 0.006 <= 0.007 , 0.0065 , 40.10, 126
> 0.007 <= 0.008 , 0.0075 , 40.51, 64
> 0.008 <= 0.009 , 0.0085 , 40.55, 6
> 0.01 <= 0.012 , 0.011 , 40.61, 10
> 0.06 <= 0.07 , 0.065 , 40.82, 31
> 0.09 <= 0.1 , 0.095 , 86.34, 7048
> 0.1 <= 0.199728 , 0.149864 , 100.00, 2115
# target 50% 0.0920176
# target 75% 0.0975092
# target 90% 0.126726
# target 99% 0.192428
# target 99.9% 0.198998
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 15482 (100.0 %)
Response Header Sizes : count 15482 avg 75 +/- 0 min 75 max 75 sum 1161150
Response Body/Total Sizes : count 15482 avg 75 +/- 0 min 75 max 75 sum 1161150
All done 15482 calls (plus 32 warmup) 62.133 ms avg, 515.0 qps
Successfully wrote 5130 bytes of Json data to /data/2018-12-14-063332_http_linkerd_0qps_30s_echo_0_2.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8080/echo
06:34:02 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 32 threads at -1.0 qps
06:34:02 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:34:33 I periodic.go:533> T003 ended after 30.002306746s : 237 calls. qps=7.899392603590308
06:34:33 I periodic.go:533> T015 ended after 30.002386627s : 245 calls. qps=8.166017025442821
06:34:33 I periodic.go:533> T028 ended after 30.002402168s : 244 calls. qps=8.13268213104102
06:34:33 I periodic.go:533> T011 ended after 30.002414656s : 241 calls. qps=8.032686794154547
06:34:33 I periodic.go:533> T022 ended after 30.002427105s : 245 calls. qps=8.166006008199583
06:34:33 I periodic.go:533> T031 ended after 30.002438637s : 248 calls. qps=8.265994741312735
06:34:33 I periodic.go:533> T001 ended after 30.002467133s : 243 calls. qps=8.099333928866203
06:34:33 I periodic.go:533> T014 ended after 30.002477764s : 240 calls. qps=7.99933931750051
06:34:33 I periodic.go:533> T023 ended after 30.0024897s : 250 calls. qps=8.332641807389738
06:34:33 I periodic.go:533> T026 ended after 30.00250097s : 241 calls. qps=8.032663684970126
06:34:33 I periodic.go:533> T000 ended after 30.002511504s : 234 calls. qps=7.799347063621744
06:34:33 I periodic.go:533> T002 ended after 30.002522662s : 243 calls. qps=8.099318938529596
06:34:33 I periodic.go:533> T009 ended after 30.002547948s : 248 calls. qps=8.265964625065516
06:34:33 I periodic.go:533> T030 ended after 30.002558562s : 233 calls. qps=7.766004339880138
06:34:33 I periodic.go:533> T016 ended after 30.002568891s : 241 calls. qps=8.032645500308936
06:34:33 I periodic.go:533> T008 ended after 30.002579471s : 239 calls. qps=7.965981732704465
06:34:33 I periodic.go:533> T025 ended after 30.002590063s : 244 calls. qps=8.13263119909462
06:34:33 I periodic.go:533> T007 ended after 30.002600585s : 235 calls. qps=7.832654350552859
06:34:33 I periodic.go:533> T013 ended after 30.002687285s : 243 calls. qps=8.099274498037685
06:34:33 I periodic.go:533> T006 ended after 30.002698787s : 244 calls. qps=8.132601728006009
06:34:33 I periodic.go:533> T012 ended after 30.002709712s : 247 calls. qps=8.232589735093457
06:34:33 I periodic.go:533> T024 ended after 30.002720233s : 247 calls. qps=8.232586848186006
06:34:33 I periodic.go:533> T018 ended after 30.002730494s : 236 calls. qps=7.865950735623736
06:34:33 I periodic.go:533> T027 ended after 30.002740658s : 238 calls. qps=7.9326086477549556
06:34:33 I periodic.go:533> T004 ended after 30.002816483s : 243 calls. qps=8.099239620976487
06:34:33 I periodic.go:533> T020 ended after 30.002843398s : 247 calls. qps=8.232553052503855
06:34:33 I periodic.go:533> T017 ended after 30.002857454s : 244 calls. qps=8.132558719585216
06:34:33 I periodic.go:533> T021 ended after 30.002867736s : 241 calls. qps=8.032565490758993
06:34:33 I periodic.go:533> T005 ended after 30.097561398s : 237 calls. qps=7.874392109911894
06:34:33 I periodic.go:533> T010 ended after 30.098193206s : 254 calls. qps=8.43904477127769
06:34:33 I periodic.go:533> T019 ended after 30.09822562s : 249 calls. qps=8.272912933264136
06:34:33 I periodic.go:533> T029 ended after 30.098723689s : 243 calls. qps=8.073432033558545
Ended after 30.098759254s : 7764 calls. qps=257.95
Aggregated Function Time : count 7764 avg 0.12369925 +/- 0.06159 min 0.000630756 max 0.600062961 sum 960.400988
# range, mid point, percentile, count
>= 0.000630756 <= 0.0007 , 0.000665378 , 0.04, 3
> 0.0007 <= 0.0008 , 0.00075 , 0.08, 3
> 0.0008 <= 0.0009 , 0.00085 , 0.17, 7
> 0.0009 <= 0.001 , 0.00095 , 0.22, 4
> 0.001 <= 0.0011 , 0.00105 , 0.32, 8
> 0.0011 <= 0.0012 , 0.00115 , 0.36, 3
> 0.0012 <= 0.0014 , 0.0013 , 0.55, 15
> 0.0014 <= 0.0016 , 0.0015 , 0.66, 8
> 0.0016 <= 0.0018 , 0.0017 , 0.80, 11
> 0.0018 <= 0.002 , 0.0019 , 1.07, 21
> 0.002 <= 0.0025 , 0.00225 , 2.46, 108
> 0.0025 <= 0.003 , 0.00275 , 3.50, 81
> 0.003 <= 0.0035 , 0.00325 , 3.84, 26
> 0.0035 <= 0.004 , 0.00375 , 4.37, 41
> 0.004 <= 0.0045 , 0.00425 , 4.46, 7
> 0.0045 <= 0.005 , 0.00475 , 4.57, 9
> 0.005 <= 0.006 , 0.0055 , 4.80, 18
> 0.007 <= 0.008 , 0.0075 , 4.95, 11
> 0.09 <= 0.1 , 0.095 , 39.32, 2669
> 0.1 <= 0.2 , 0.15 , 89.71, 3912
> 0.2 <= 0.3 , 0.25 , 99.09, 728
> 0.3 <= 0.4 , 0.35 , 99.59, 39
> 0.4 <= 0.5 , 0.45 , 99.97, 30
> 0.5 <= 0.600063 , 0.550031 , 100.00, 2
# target 50% 0.121191
# target 75% 0.170808
# target 90% 0.203104
# target 99% 0.299088
# target 99.9% 0.480787
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 7764 (100.0 %)
Response Header Sizes : count 7764 avg 209.9383 +/- 0.5247 min 209 max 211 sum 1629961
Response Body/Total Sizes : count 7764 avg 209.9383 +/- 0.5247 min 209 max 211 sum 1629961
All done 7764 calls (plus 32 warmup) 123.699 ms avg, 258.0 qps
Successfully wrote 4732 bytes of Json data to /data/2018-12-14-063403_http_istio_0qps_30s_echo_0_2.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8079
06:34:33 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:35:03 I periodic.go:533> T005 ended after 30.038198284s : 5031 calls. qps=167.48674312732624
06:35:03 I periodic.go:533> T000 ended after 30.038315071s : 5021 calls. qps=167.1531837964987
06:35:03 I periodic.go:533> T030 ended after 30.038350165s : 5068 calls. qps=168.71765500307396
06:35:03 I periodic.go:533> T002 ended after 30.038396188s : 4984 calls. qps=165.92097556763207
06:35:03 I periodic.go:533> T007 ended after 30.038424742s : 5020 calls. qps=167.11928282247737
06:35:03 I periodic.go:533> T017 ended after 30.038471198s : 5014 calls. qps=166.91928051031567
06:35:03 I periodic.go:533> T018 ended after 30.038501837s : 5020 calls. qps=167.11885390424507
06:35:03 I periodic.go:533> T015 ended after 30.038555559s : 4999 calls. qps=166.4194534980636
06:35:03 I periodic.go:533> T006 ended after 30.038583961s : 5015 calls. qps=166.95194442291705
06:35:03 I periodic.go:533> T029 ended after 30.038632182s : 5012 calls. qps=166.85180502337695
06:35:03 I periodic.go:533> T013 ended after 30.038659416s : 4975 calls. qps=165.61990770300758
06:35:03 I periodic.go:533> T001 ended after 30.038712197s : 5047 calls. qps=168.01652370783225
06:35:03 I periodic.go:533> T012 ended after 30.038740674s : 5045 calls. qps=167.94978373932614
06:35:03 I periodic.go:533> T019 ended after 30.038781084s : 5036 calls. qps=167.64994511319898
06:35:03 I periodic.go:533> T004 ended after 30.038806873s : 5016 calls. qps=166.98399577609615
06:35:03 I periodic.go:533> T027 ended after 30.038834241s : 5020 calls. qps=167.1170045989402
06:35:03 I periodic.go:533> T011 ended after 30.038875096s : 4999 calls. qps=166.41768321962465
06:35:03 I periodic.go:533> T020 ended after 30.038900785s : 5033 calls. qps=167.54940655196148
06:35:03 I periodic.go:533> T028 ended after 30.038942296s : 5074 calls. qps=168.91406994299052
06:35:03 I periodic.go:533> T021 ended after 30.038970493s : 5011 calls. qps=166.816635782099
06:35:03 I periodic.go:533> T031 ended after 30.038995826s : 5015 calls. qps=166.94965534298282
06:35:03 I periodic.go:533> T009 ended after 30.039084342s : 5001 calls. qps=166.48310391431306
06:35:03 I periodic.go:533> T025 ended after 30.039108975s : 4993 calls. qps=166.216647909078
06:35:03 I periodic.go:533> T003 ended after 30.039150344s : 5002 calls. qps=166.51602800739988
06:35:03 I periodic.go:533> T016 ended after 30.039846089s : 5014 calls. qps=166.91164079685575
06:35:03 I periodic.go:533> T014 ended after 30.03993079s : 5060 calls. qps=168.4424653096879
06:35:03 I periodic.go:533> T008 ended after 30.039958881s : 5014 calls. qps=166.91101408834848
06:35:03 I periodic.go:533> T023 ended after 30.03998593s : 5034 calls. qps=167.57664306935314
06:35:03 I periodic.go:533> T010 ended after 30.040031907s : 5002 calls. qps=166.5111413824571
06:35:03 I periodic.go:533> T026 ended after 30.040058134s : 5027 calls. qps=167.34321809818107
06:35:03 I periodic.go:533> T024 ended after 30.040100861s : 5032 calls. qps=167.50942426204927
06:35:03 I periodic.go:533> T022 ended after 30.040128605s : 4983 calls. qps=165.8781180840421
Ended after 30.040143783s : 160617 calls. qps=5346.7
Aggregated Function Time : count 160617 avg 0.0059835847 +/- 0.01589 min 0.000373684 max 0.079344783 sum 961.065419
# range, mid point, percentile, count
>= 0.000373684 <= 0.0004 , 0.000386842 , 0.00, 1
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 13
> 0.0005 <= 0.0006 , 0.00055 , 0.11, 160
> 0.0006 <= 0.0007 , 0.00065 , 0.44, 534
> 0.0007 <= 0.0008 , 0.00075 , 1.14, 1123
> 0.0008 <= 0.0009 , 0.00085 , 2.12, 1578
> 0.0009 <= 0.001 , 0.00095 , 3.44, 2122
> 0.001 <= 0.0011 , 0.00105 , 5.52, 3337
> 0.0011 <= 0.0012 , 0.00115 , 9.25, 5996
> 0.0012 <= 0.0014 , 0.0013 , 21.69, 19971
> 0.0014 <= 0.0016 , 0.0015 , 40.02, 29446
> 0.0016 <= 0.0018 , 0.0017 , 55.34, 24602
> 0.0018 <= 0.002 , 0.0019 , 65.44, 16219
> 0.002 <= 0.0025 , 0.00225 , 77.33, 19109
> 0.0025 <= 0.003 , 0.00275 , 82.51, 8322
> 0.003 <= 0.0035 , 0.00325 , 85.75, 5197
> 0.0035 <= 0.004 , 0.00375 , 88.37, 4207
> 0.004 <= 0.0045 , 0.00425 , 90.62, 3612
> 0.0045 <= 0.005 , 0.00475 , 91.97, 2175
> 0.005 <= 0.006 , 0.0055 , 93.33, 2186
> 0.006 <= 0.007 , 0.0065 , 93.67, 535
> 0.007 <= 0.008 , 0.0075 , 93.81, 223
> 0.008 <= 0.009 , 0.0085 , 93.89, 132
> 0.009 <= 0.01 , 0.0095 , 93.93, 64
> 0.01 <= 0.012 , 0.011 , 93.97, 69
> 0.012 <= 0.014 , 0.013 , 93.98, 20
> 0.016 <= 0.018 , 0.017 , 93.99, 4
> 0.018 <= 0.02 , 0.019 , 94.00, 27
> 0.02 <= 0.025 , 0.0225 , 94.00, 1
> 0.03 <= 0.035 , 0.0325 , 94.04, 64
> 0.045 <= 0.05 , 0.0475 , 94.08, 54
> 0.05 <= 0.06 , 0.055 , 94.50, 680
> 0.06 <= 0.07 , 0.065 , 97.14, 4242
> 0.07 <= 0.0793448 , 0.0746724 , 100.00, 4592
# target 50% 0.00173029
# target 75% 0.00240192
# target 90% 0.00436244
# target 99% 0.0760762
# target 99.9% 0.0790179
Ping SERVING : 160617
All done 160617 calls (plus 32 warmup) 5.984 ms avg, 5346.7 qps
Successfully wrote 5548 bytes of Json data to /data/2018-12-14-063433_grpc_baseline_0qps_30s_echo_0_2.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-linkerd:8079
06:35:03 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:35:33 I periodic.go:533> T028 ended after 30.000239214s : 354 calls. qps=11.799905909910255
06:35:33 I periodic.go:533> T022 ended after 30.003737444s : 384 calls. qps=12.798405555864855
06:35:33 I periodic.go:533> T015 ended after 30.003769732s : 373 calls. qps=12.431771185144889
06:35:33 I periodic.go:533> T017 ended after 30.003782888s : 371 calls. qps=12.365107472777417
06:35:33 I periodic.go:533> T029 ended after 30.003795951s : 361 calls. qps=12.031810927842555
06:35:33 I periodic.go:533> T002 ended after 30.096292599s : 370 calls. qps=12.293873033793334
06:35:33 I periodic.go:533> T021 ended after 30.096622372s : 362 calls. qps=12.027927769621817
06:35:33 I periodic.go:533> T027 ended after 30.096644643s : 369 calls. qps=12.260502935692651
06:35:33 I periodic.go:533> T016 ended after 30.096657262s : 374 calls. qps=12.426629201516405
06:35:33 I periodic.go:533> T004 ended after 30.096700857s : 374 calls. qps=12.426611201573403
06:35:33 I periodic.go:533> T024 ended after 30.09671325s : 360 calls. qps=11.961439011949253
06:35:33 I periodic.go:533> T007 ended after 30.096724531s : 369 calls. qps=12.260470391717393
06:35:33 I periodic.go:533> T031 ended after 30.097094018s : 367 calls. qps=12.193868277798195
06:35:33 I periodic.go:533> T030 ended after 30.09714604s : 356 calls. qps=11.828364042453243
06:35:33 I periodic.go:533> T005 ended after 30.097847214s : 362 calls. qps=12.027438289061944
06:35:33 I periodic.go:533> T000 ended after 30.097881264s : 360 calls. qps=11.960974822191059
06:35:33 I periodic.go:533> T012 ended after 30.097892808s : 374 calls. qps=12.42611907703356
06:35:33 I periodic.go:533> T006 ended after 30.097903995s : 364 calls. qps=12.093865408716479
06:35:33 I periodic.go:533> T013 ended after 30.097915545s : 379 calls. qps=12.592234151011205
06:35:33 I periodic.go:533> T025 ended after 30.097926656s : 373 calls. qps=12.392880222719352
06:35:33 I periodic.go:533> T026 ended after 30.097964466s : 372 calls. qps=12.359639816181847
06:35:33 I periodic.go:533> T001 ended after 30.097976417s : 366 calls. qps=12.16028595840334
06:35:33 I periodic.go:533> T011 ended after 30.097988142s : 359 calls. qps=11.92770753667207
06:35:33 I periodic.go:533> T020 ended after 30.0979999s : 356 calls. qps=11.828028479726322
06:35:33 I periodic.go:533> T023 ended after 30.098026238s : 368 calls. qps=12.226715369640578
06:35:33 I periodic.go:533> T003 ended after 30.098038034s : 364 calls. qps=12.093811549736579
06:35:33 I periodic.go:533> T019 ended after 30.098049189s : 375 calls. qps=12.45927925910401
06:35:33 I periodic.go:533> T014 ended after 30.098060571s : 371 calls. qps=12.326375618948182
06:35:33 I periodic.go:533> T009 ended after 30.098073529s : 381 calls. qps=12.658617490348679
06:35:33 I periodic.go:533> T010 ended after 30.098085592s : 364 calls. qps=12.09379244029894
06:35:33 I periodic.go:533> T008 ended after 30.098110608s : 364 calls. qps=12.093782388561285
06:35:33 I periodic.go:533> T018 ended after 30.098134115s : 373 calls. qps=12.392794801658754
Ended after 30.098156997s : 11769 calls. qps=391.02
Aggregated Function Time : count 11769 avg 0.081783114 +/- 0.03764 min 0.001101184 max 0.197037469 sum 962.505465
# range, mid point, percentile, count
>= 0.00110118 <= 0.0012 , 0.00115059 , 0.02, 2
> 0.0012 <= 0.0014 , 0.0013 , 0.03, 1
> 0.0014 <= 0.0016 , 0.0015 , 0.08, 7
> 0.0016 <= 0.0018 , 0.0017 , 0.10, 2
> 0.0018 <= 0.002 , 0.0019 , 0.38, 33
> 0.002 <= 0.0025 , 0.00225 , 3.14, 325
> 0.0025 <= 0.003 , 0.00275 , 4.78, 193
> 0.003 <= 0.0035 , 0.00325 , 5.85, 125
> 0.0035 <= 0.004 , 0.00375 , 7.78, 228
> 0.004 <= 0.0045 , 0.00425 , 11.40, 426
> 0.0045 <= 0.005 , 0.00475 , 14.44, 358
> 0.005 <= 0.006 , 0.0055 , 17.07, 309
> 0.006 <= 0.007 , 0.0065 , 18.06, 116
> 0.007 <= 0.008 , 0.0075 , 18.41, 42
> 0.008 <= 0.009 , 0.0085 , 18.51, 11
> 0.009 <= 0.01 , 0.0095 , 18.59, 10
> 0.08 <= 0.09 , 0.085 , 18.79, 23
> 0.09 <= 0.1 , 0.095 , 78.22, 6995
> 0.1 <= 0.197037 , 0.148519 , 100.00, 2563
# target 50% 0.0952516
# target 75% 0.0994578
# target 90% 0.152479
# target 99% 0.192582
# target 99.9% 0.196592
Ping SERVING : 11769
All done 11769 calls (plus 32 warmup) 81.783 ms avg, 391.0 qps
Successfully wrote 3552 bytes of Json data to /data/2018-12-14-063503_grpc_linkerd_0qps_30s_echo_0_2.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8079
06:35:33 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:36:04 I periodic.go:533> T024 ended after 30.090608936s : 135 calls. qps=4.486449585886839
06:36:04 I periodic.go:533> T010 ended after 30.096385765s : 139 calls. qps=4.618494761641689
06:36:04 I periodic.go:533> T019 ended after 30.096572786s : 133 calls. qps=4.419107814889392
06:36:04 I periodic.go:533> T004 ended after 30.096589631s : 144 calls. qps=4.784595256988106
06:36:04 I periodic.go:533> T029 ended after 30.09660238s : 137 calls. qps=4.552008837085218
06:36:04 I periodic.go:533> T005 ended after 30.096680711s : 136 calls. qps=4.518770734418348
06:36:04 I periodic.go:533> T021 ended after 30.097042658s : 140 calls. qps=4.6516198149716566
06:36:04 I periodic.go:533> T011 ended after 30.097063432s : 139 calls. qps=4.618390771380423
06:36:04 I periodic.go:533> T020 ended after 30.09707469s : 138 calls. qps=4.585163223383023
06:36:04 I periodic.go:533> T007 ended after 30.097086127s : 132 calls. qps=4.385806634004453
06:36:04 I periodic.go:533> T022 ended after 30.097096741s : 139 calls. qps=4.618385660124027
06:36:04 I periodic.go:533> T027 ended after 30.097121117s : 140 calls. qps=4.651607688847113
06:36:04 I periodic.go:533> T030 ended after 30.097132417s : 138 calls. qps=4.585154428933315
06:36:04 I periodic.go:533> T014 ended after 30.097143535s : 137 calls. qps=4.551926990702043
06:36:04 I periodic.go:533> T017 ended after 30.097154697s : 138 calls. qps=4.5851510346842
06:36:04 I periodic.go:533> T018 ended after 30.097166404s : 139 calls. qps=4.618374970393442
06:36:04 I periodic.go:533> T028 ended after 30.189893919s : 139 calls. qps=4.604189745513494
06:36:04 I periodic.go:533> T006 ended after 30.190896831s : 134 calls. qps=4.4384239643523555
06:36:04 I periodic.go:533> T026 ended after 30.190951546s : 139 calls. qps=4.604028454956602
06:36:04 I periodic.go:533> T003 ended after 30.190965485s : 141 calls. qps=4.67027131245783
06:36:04 I periodic.go:533> T012 ended after 30.190980129s : 139 calls. qps=4.6040240961400025
06:36:04 I periodic.go:533> T013 ended after 30.191035196s : 145 calls. qps=4.802750189208848
06:36:04 I periodic.go:533> T023 ended after 30.191058487s : 136 calls. qps=4.504644978199767
06:36:04 I periodic.go:533> T031 ended after 30.191084738s : 136 calls. qps=4.504641061433067
06:36:04 I periodic.go:533> T001 ended after 30.191097193s : 144 calls. qps=4.769617979746272
06:36:04 I periodic.go:533> T025 ended after 30.191109586s : 133 calls. qps=4.405270353550496
06:36:04 I periodic.go:533> T002 ended after 30.191135017s : 135 calls. qps=4.471511254014938
06:36:04 I periodic.go:533> T009 ended after 30.191162255s : 136 calls. qps=4.5046294955894535
06:36:04 I periodic.go:533> T015 ended after 30.19122171s : 137 calls. qps=4.537742835183863
06:36:04 I periodic.go:533> T008 ended after 30.191248917s : 136 calls. qps=4.504616565345911
06:36:04 I periodic.go:533> T000 ended after 30.191262153s : 133 calls. qps=4.4052480921796855
06:36:04 I periodic.go:533> T016 ended after 30.191274337s : 137 calls. qps=4.537734925355695
Ended after 30.191292567s : 4404 calls. qps=145.87
Aggregated Function Time : count 4404 avg 0.21900025 +/- 0.07457 min 0.001348477 max 0.598512845 sum 964.477113
# range, mid point, percentile, count
>= 0.00134848 <= 0.0014 , 0.00137424 , 0.09, 4
> 0.0014 <= 0.0016 , 0.0015 , 0.11, 1
> 0.0016 <= 0.0018 , 0.0017 , 0.25, 6
> 0.0018 <= 0.002 , 0.0019 , 0.36, 5
> 0.002 <= 0.0025 , 0.00225 , 0.84, 21
> 0.0025 <= 0.003 , 0.00275 , 1.04, 9
> 0.003 <= 0.0035 , 0.00325 , 1.09, 2
> 0.0035 <= 0.004 , 0.00375 , 1.14, 2
> 0.004 <= 0.0045 , 0.00425 , 1.16, 1
> 0.0045 <= 0.005 , 0.00475 , 1.23, 3
> 0.005 <= 0.006 , 0.0055 , 1.27, 2
> 0.08 <= 0.09 , 0.085 , 1.29, 1
> 0.09 <= 0.1 , 0.095 , 3.16, 82
> 0.1 <= 0.2 , 0.15 , 38.19, 1543
> 0.2 <= 0.3 , 0.25 , 91.87, 2364
> 0.3 <= 0.4 , 0.35 , 98.55, 294
> 0.4 <= 0.5 , 0.45 , 99.30, 33
> 0.5 <= 0.598513 , 0.549256 , 100.00, 31
# target 50% 0.221997
# target 75% 0.26857
# target 90% 0.296514
# target 99% 0.460485
# target 99.9% 0.584518
Ping SERVING : 4404
All done 4404 calls (plus 32 warmup) 219.000 ms avg, 145.9 qps
Successfully wrote 3338 bytes of Json data to /data/2018-12-14-063534_grpc_istio_0qps_30s_echo_0_2.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-baseline:8080/echo
06:36:04 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
06:36:04 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:36:34 I periodic.go:533> T016 ended after 30.06025944s : 8085 calls. qps=268.9597545269889
06:36:34 I periodic.go:533> T022 ended after 30.06044473s : 8056 calls. qps=267.99337376270415
06:36:34 I periodic.go:533> T004 ended after 30.060475072s : 8086 calls. qps=268.99109147918125
06:36:34 I periodic.go:533> T012 ended after 30.060542508s : 7943 calls. qps=264.23342153210086
06:36:34 I periodic.go:533> T027 ended after 30.060555185s : 8015 calls. qps=266.62847544477245
06:36:34 I periodic.go:533> T021 ended after 30.060583556s : 7926 calls. qps=263.6675361020393
06:36:34 I periodic.go:533> T005 ended after 30.060622609s : 8148 calls. qps=271.0522701402908
06:36:34 I periodic.go:533> T030 ended after 30.060645769s : 7925 calls. qps=263.6337243351121
06:36:34 I periodic.go:533> T006 ended after 30.060714666s : 8009 calls. qps=266.42746484861635
06:36:34 I periodic.go:533> T013 ended after 30.060737152s : 7973 calls. qps=265.22969013318226
06:36:34 I periodic.go:533> T023 ended after 30.060756893s : 8049 calls. qps=267.7577290768186
06:36:34 I periodic.go:533> T010 ended after 30.060768047s : 8077 calls. qps=268.68907631939453
06:36:34 I periodic.go:533> T024 ended after 30.060778139s : 7870 calls. qps=261.8029368238371
06:36:34 I periodic.go:533> T002 ended after 30.060805761s : 7938 calls. qps=264.0647780073323
06:36:34 I periodic.go:533> T025 ended after 30.060815429s : 8101 calls. qps=269.48703434654254
06:36:34 I periodic.go:533> T008 ended after 30.060825998s : 8155 calls. qps=271.28329742311695
06:36:34 I periodic.go:533> T003 ended after 30.060835945s : 8107 calls. qps=269.6864456741241
06:36:34 I periodic.go:533> T009 ended after 30.06084636s : 7953 calls. qps=264.5634093184594
06:36:34 I periodic.go:533> T000 ended after 30.060856446s : 7957 calls. qps=264.6963839601046
06:36:34 I periodic.go:533> T015 ended after 30.060974627s : 7888 calls. qps=262.4000085784045
06:36:34 I periodic.go:533> T017 ended after 30.061003697s : 7875 calls. qps=261.9673008717903
06:36:34 I periodic.go:533> T018 ended after 30.061014563s : 7957 calls. qps=264.6949916917879
06:36:34 I periodic.go:533> T029 ended after 30.06102548s : 7999 calls. qps=266.09205349038547
06:36:34 I periodic.go:533> T001 ended after 30.061035326s : 8066 calls. qps=268.3207651542081
06:36:34 I periodic.go:533> T014 ended after 30.061045694s : 8163 calls. qps=271.54743993583975
06:36:34 I periodic.go:533> T031 ended after 30.061056603s : 7936 calls. qps=263.99604327973
06:36:34 I periodic.go:533> T007 ended after 30.061066969s : 7914 calls. qps=263.26410862798673
06:36:34 I periodic.go:533> T028 ended after 30.061437816s : 8029 calls. qps=267.0863599121203
06:36:34 I periodic.go:533> T020 ended after 30.061458338s : 8091 calls. qps=269.1486191064906
06:36:34 I periodic.go:533> T011 ended after 30.061500768s : 7872 calls. qps=261.8631737900332
06:36:34 I periodic.go:533> T026 ended after 30.061512154s : 7934 calls. qps=263.92551244113974
06:36:34 I periodic.go:533> T019 ended after 30.061522568s : 7978 calls. qps=265.38908606353993
Ended after 30.061584763s : 256075 calls. qps=8518.3
Aggregated Function Time : count 256075 avg 0.0037556365 +/- 0.01412 min 7.2069e-05 max 0.080232252 sum 961.724615
# range, mid point, percentile, count
>= 7.2069e-05 <= 0.0001 , 8.60345e-05 , 0.59, 1500
> 0.0001 <= 0.0002 , 0.00015 , 5.02, 11353
> 0.0002 <= 0.0003 , 0.00025 , 10.38, 13732
> 0.0003 <= 0.0004 , 0.00035 , 16.15, 14765
> 0.0004 <= 0.0005 , 0.00045 , 22.23, 15587
> 0.0005 <= 0.0006 , 0.00055 , 28.53, 16121
> 0.0006 <= 0.0007 , 0.00065 , 34.79, 16032
> 0.0007 <= 0.0008 , 0.00075 , 40.93, 15730
> 0.0008 <= 0.0009 , 0.00085 , 47.10, 15791
> 0.0009 <= 0.001 , 0.00095 , 53.48, 16333
> 0.001 <= 0.0011 , 0.00105 , 59.61, 15706
> 0.0011 <= 0.0012 , 0.00115 , 65.59, 15317
> 0.0012 <= 0.0014 , 0.0013 , 77.07, 29393
> 0.0014 <= 0.0016 , 0.0015 , 86.80, 24903
> 0.0016 <= 0.0018 , 0.0017 , 91.10, 11012
> 0.0018 <= 0.002 , 0.0019 , 92.67, 4019
> 0.002 <= 0.0025 , 0.00225 , 94.63, 5041
> 0.0025 <= 0.003 , 0.00275 , 95.35, 1837
> 0.003 <= 0.0035 , 0.00325 , 95.55, 515
> 0.0035 <= 0.004 , 0.00375 , 95.67, 293
> 0.004 <= 0.0045 , 0.00425 , 95.84, 449
> 0.0045 <= 0.005 , 0.00475 , 96.03, 479
> 0.005 <= 0.006 , 0.0055 , 96.20, 427
> 0.006 <= 0.007 , 0.0065 , 96.22, 69
> 0.007 <= 0.008 , 0.0075 , 96.23, 17
> 0.008 <= 0.009 , 0.0085 , 96.23, 6
> 0.01 <= 0.012 , 0.011 , 96.24, 16
> 0.03 <= 0.035 , 0.0325 , 96.24, 4
> 0.035 <= 0.04 , 0.0375 , 96.25, 28
> 0.05 <= 0.06 , 0.055 , 96.31, 158
> 0.06 <= 0.07 , 0.065 , 96.42, 287
> 0.07 <= 0.08 , 0.075 , 100.00, 9147
> 0.08 <= 0.0802323 , 0.0801161 , 100.00, 8
# target 50% 0.000945469
# target 75% 0.00136391
# target 90% 0.00174901
# target 99% 0.0772092
# target 99.9% 0.0797288
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 256075 (100.0 %)
Response Header Sizes : count 256075 avg 75 +/- 0 min 75 max 75 sum 19205625
Response Body/Total Sizes : count 256075 avg 75 +/- 0 min 75 max 75 sum 19205625
All done 256075 calls (plus 32 warmup) 3.756 ms avg, 8518.3 qps
Successfully wrote 5956 bytes of Json data to /data/2018-12-14-063604_http_baseline_0qps_30s_echo_1_2.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-linkerd:8080/echo
06:36:34 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 32 threads at -1.0 qps
06:36:34 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:37:04 I periodic.go:533> T002 ended after 30.067074023s : 471 calls. qps=15.664976234125927
06:37:04 I periodic.go:533> T014 ended after 30.067224143s : 496 calls. qps=16.496368192854096
06:37:04 I periodic.go:533> T024 ended after 30.067250606s : 487 calls. qps=16.197024675838428
06:37:04 I periodic.go:533> T008 ended after 30.067261942s : 485 calls. qps=16.13050103915578
06:37:04 I periodic.go:533> T017 ended after 30.067323796s : 464 calls. qps=15.432035226950532
06:37:04 I periodic.go:533> T027 ended after 30.067337534s : 476 calls. qps=15.831132352897608
06:37:04 I periodic.go:533> T016 ended after 30.067349646s : 475 calls. qps=15.79786730764251
06:37:04 I periodic.go:533> T020 ended after 30.067362326s : 472 calls. qps=15.698084683399374
06:37:04 I periodic.go:533> T000 ended after 30.067563953s : 480 calls. qps=15.964046862935428
06:37:04 I periodic.go:533> T031 ended after 30.067577526s : 494 calls. qps=16.42965747981622
06:37:04 I periodic.go:533> T015 ended after 30.067589721s : 491 calls. qps=16.32987560878791
06:37:04 I periodic.go:533> T006 ended after 30.067601692s : 507 calls. qps=16.862003334801926
06:37:04 I periodic.go:533> T010 ended after 30.067612076s : 475 calls. qps=15.797729423918753
06:37:04 I periodic.go:533> T021 ended after 30.067622186s : 464 calls. qps=15.431882079988565
06:37:04 I periodic.go:533> T004 ended after 30.067648341s : 467 calls. qps=15.531643669092757
06:37:04 I periodic.go:533> T013 ended after 30.067658414s : 462 calls. qps=15.365346833423022
06:37:04 I periodic.go:533> T007 ended after 30.067668479s : 487 calls. qps=16.196799573606206
06:37:04 I periodic.go:533> T023 ended after 30.06767848s : 472 calls. qps=15.6979196220273
06:37:04 I periodic.go:533> T012 ended after 30.067689776s : 488 calls. qps=16.23004639317255
06:37:04 I periodic.go:533> T003 ended after 30.067699859s : 478 calls. qps=15.897458144172703
06:37:04 I periodic.go:533> T029 ended after 30.067722311s : 495 calls. qps=16.46283662194488
06:37:04 I periodic.go:533> T011 ended after 30.067732703s : 478 calls. qps=15.897440778842219
06:37:04 I periodic.go:533> T022 ended after 30.067742243s : 489 calls. qps=16.263276306149756
06:37:04 I periodic.go:533> T025 ended after 30.067751674s : 486 calls. qps=16.16349653506853
06:37:04 I periodic.go:533> T001 ended after 30.067761174s : 480 calls. qps=15.963942151272057
06:37:04 I periodic.go:533> T030 ended after 30.067770874s : 478 calls. qps=15.897420597059721
06:37:04 I periodic.go:533> T028 ended after 30.067784172s : 473 calls. qps=15.731122629264828
06:37:04 I periodic.go:533> T018 ended after 30.067816606s : 500 calls. qps=16.629075750722304
06:37:04 I periodic.go:533> T019 ended after 30.067831031s : 498 calls. qps=16.56255150185462
06:37:04 I periodic.go:533> T026 ended after 30.067841401s : 485 calls. qps=16.13019017666728
06:37:04 I periodic.go:533> T009 ended after 30.068166734s : 479 calls. qps=15.93046906509149
06:37:04 I periodic.go:533> T005 ended after 30.06818974s : 467 calls. qps=15.531364010875102
Ended after 30.068207048s : 15399 calls. qps=512.14
Aggregated Function Time : count 15399 avg 0.062472925 +/- 0.05146 min 0.00034051 max 0.197074955 sum 962.020573
# range, mid point, percentile, count
>= 0.00034051 <= 0.0004 , 0.000370255 , 0.05, 8
> 0.0004 <= 0.0005 , 0.00045 , 1.16, 171
> 0.0005 <= 0.0006 , 0.00055 , 2.69, 235
> 0.0006 <= 0.0007 , 0.00065 , 3.83, 176
> 0.0007 <= 0.0008 , 0.00075 , 4.25, 65
> 0.0008 <= 0.0009 , 0.00085 , 4.44, 29
> 0.0009 <= 0.001 , 0.00095 , 4.53, 13
> 0.001 <= 0.0011 , 0.00105 , 4.60, 11
> 0.0011 <= 0.0012 , 0.00115 , 4.68, 13
> 0.0012 <= 0.0014 , 0.0013 , 4.90, 33
> 0.0014 <= 0.0016 , 0.0015 , 5.47, 89
> 0.0016 <= 0.0018 , 0.0017 , 7.20, 266
> 0.0018 <= 0.002 , 0.0019 , 9.22, 311
> 0.002 <= 0.0025 , 0.00225 , 13.56, 668
> 0.0025 <= 0.003 , 0.00275 , 17.97, 679
> 0.003 <= 0.0035 , 0.00325 , 22.33, 672
> 0.0035 <= 0.004 , 0.00375 , 27.07, 730
> 0.004 <= 0.0045 , 0.00425 , 31.63, 702
> 0.0045 <= 0.005 , 0.00475 , 35.17, 545
> 0.005 <= 0.006 , 0.0055 , 39.23, 625
> 0.006 <= 0.007 , 0.0065 , 40.00, 118
> 0.007 <= 0.008 , 0.0075 , 40.28, 44
> 0.008 <= 0.009 , 0.0085 , 40.35, 10
> 0.009 <= 0.01 , 0.0095 , 40.42, 11
> 0.01 <= 0.012 , 0.011 , 40.44, 4
> 0.06 <= 0.07 , 0.065 , 40.57, 20
> 0.08 <= 0.09 , 0.085 , 40.59, 2
> 0.09 <= 0.1 , 0.095 , 86.10, 7009
> 0.1 <= 0.197075 , 0.148537 , 100.00, 2140
# target 50% 0.0920681
# target 75% 0.0975606
# target 90% 0.127222
# target 99% 0.19009
# target 99.9% 0.196376
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 15399 (100.0 %)
Response Header Sizes : count 15399 avg 75 +/- 0 min 75 max 75 sum 1154925
Response Body/Total Sizes : count 15399 avg 75 +/- 0 min 75 max 75 sum 1154925
All done 15399 calls (plus 32 warmup) 62.473 ms avg, 512.1 qps
Successfully wrote 5398 bytes of Json data to /data/2018-12-14-063634_http_linkerd_0qps_30s_echo_1_2.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-istio:8080/echo
06:37:04 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 32 threads at -1.0 qps
06:37:04 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:37:35 I periodic.go:533> T027 ended after 30.086373988s : 173 calls. qps=5.750111331761061
06:37:35 I periodic.go:533> T022 ended after 30.086450616s : 164 calls. qps=5.450958708727996
06:37:35 I periodic.go:533> T026 ended after 30.086466233s : 171 calls. qps=5.683618630241147
06:37:35 I periodic.go:533> T006 ended after 30.087011411s : 180 calls. qps=5.982648045069404
06:37:35 I periodic.go:533> T001 ended after 30.08703735s : 176 calls. qps=5.84969526752025
06:37:35 I periodic.go:533> T007 ended after 30.087302462s : 179 calls. qps=5.949353559564718
06:37:35 I periodic.go:533> T005 ended after 30.087575923s : 175 calls. qps=5.816354246944297
06:37:35 I periodic.go:533> T011 ended after 30.087855669s : 170 calls. qps=5.6501201637693885
06:37:35 I periodic.go:533> T028 ended after 30.088255454s : 178 calls. qps=5.915929565013591
06:37:35 I periodic.go:533> T000 ended after 30.088278005s : 179 calls. qps=5.9491606655008376
06:37:35 I periodic.go:533> T012 ended after 30.088859605s : 165 calls. qps=5.483757183425497
06:37:35 I periodic.go:533> T009 ended after 30.088883236s : 174 calls. qps=5.782866669900756
06:37:35 I periodic.go:533> T023 ended after 30.088894779s : 176 calls. qps=5.849334157758298
06:37:35 I periodic.go:533> T019 ended after 30.186675746s : 171 calls. qps=5.664750946372722
06:37:35 I periodic.go:533> T016 ended after 30.186743016s : 176 calls. qps=5.830373946162857
06:37:35 I periodic.go:533> T025 ended after 30.186758759s : 171 calls. qps=5.664735368417697
06:37:35 I periodic.go:533> T017 ended after 30.18676944s : 167 calls. qps=5.532224981276433
06:37:35 I periodic.go:533> T021 ended after 30.186780995s : 166 calls. qps=5.499095780616538
06:37:35 I periodic.go:533> T014 ended after 30.186792749s : 168 calls. qps=5.565347779636688
06:37:35 I periodic.go:533> T015 ended after 30.186802967s : 171 calls. qps=5.664727072520266
06:37:35 I periodic.go:533> T002 ended after 30.186841349s : 169 calls. qps=5.598465836360135
06:37:35 I periodic.go:533> T020 ended after 30.186852659s : 173 calls. qps=5.730971756289447
06:37:35 I periodic.go:533> T003 ended after 30.186862747s : 176 calls. qps=5.830350820987221
06:37:35 I periodic.go:533> T031 ended after 30.186872984s : 177 calls. qps=5.863475825860321
06:37:35 I periodic.go:533> T008 ended after 30.186884082s : 179 calls. qps=5.929727609970024
06:37:35 I periodic.go:533> T010 ended after 30.186910919s : 169 calls. qps=5.598452933904854
06:37:35 I periodic.go:533> T013 ended after 30.186922908s : 166 calls. qps=5.49906992858843
06:37:35 I periodic.go:533> T030 ended after 30.186946595s : 169 calls. qps=5.598446317455381
06:37:35 I periodic.go:533> T018 ended after 30.186956942s : 172 calls. qps=5.697825068305953
06:37:35 I periodic.go:533> T004 ended after 30.186966202s : 173 calls. qps=5.730950200240331
06:37:35 I periodic.go:533> T029 ended after 30.186990101s : 171 calls. qps=5.664691955967326
06:37:35 I periodic.go:533> T024 ended after 30.187003786s : 173 calls. qps=5.730943064983257
Ended after 30.187029956s : 5517 calls. qps=182.76
Aggregated Function Time : count 5517 avg 0.17483264 +/- 0.07103 min 0.000714682 max 0.499571251 sum 964.551696
# range, mid point, percentile, count
>= 0.000714682 <= 0.0008 , 0.000757341 , 0.04, 2
> 0.0008 <= 0.0009 , 0.00085 , 0.13, 5
> 0.0009 <= 0.001 , 0.00095 , 0.22, 5
> 0.001 <= 0.0011 , 0.00105 , 0.25, 2
> 0.0011 <= 0.0012 , 0.00115 , 0.33, 4
> 0.0012 <= 0.0014 , 0.0013 , 0.56, 13
> 0.0014 <= 0.0016 , 0.0015 , 0.76, 11
> 0.0016 <= 0.0018 , 0.0017 , 0.85, 5
> 0.0018 <= 0.002 , 0.0019 , 0.94, 5
> 0.002 <= 0.0025 , 0.00225 , 1.05, 6
> 0.0025 <= 0.003 , 0.00275 , 1.16, 6
> 0.003 <= 0.0035 , 0.00325 , 1.25, 5
> 0.0035 <= 0.004 , 0.00375 , 1.29, 2
> 0.004 <= 0.0045 , 0.00425 , 1.32, 2
> 0.0045 <= 0.005 , 0.00475 , 1.40, 4
> 0.006 <= 0.007 , 0.0065 , 1.41, 1
> 0.007 <= 0.008 , 0.0075 , 1.43, 1
> 0.08 <= 0.09 , 0.085 , 1.56, 7
> 0.09 <= 0.1 , 0.095 , 12.89, 625
> 0.1 <= 0.2 , 0.15 , 64.22, 2832
> 0.2 <= 0.3 , 0.25 , 98.02, 1865
> 0.3 <= 0.4 , 0.35 , 98.89, 48
> 0.4 <= 0.499571 , 0.449786 , 100.00, 61
# target 50% 0.172299
# target 75% 0.23189
# target 90% 0.276263
# target 99% 0.409516
# target 99.9% 0.490566
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 5517 (100.0 %)
Response Header Sizes : count 5517 avg 210.16658 +/- 0.6352 min 209 max 211 sum 1159489
Response Body/Total Sizes : count 5517 avg 210.16658 +/- 0.6352 min 209 max 211 sum 1159489
All done 5517 calls (plus 32 warmup) 174.833 ms avg, 182.8 qps
Successfully wrote 4625 bytes of Json data to /data/2018-12-14-063705_http_istio_0qps_30s_echo_1_2.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-baseline:8079
06:37:35 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:38:05 I periodic.go:533> T019 ended after 30.03990235s : 5146 calls. qps=171.30548362118762
06:38:05 I periodic.go:533> T006 ended after 30.040012793s : 5160 calls. qps=171.77089888598172
06:38:05 I periodic.go:533> T030 ended after 30.040062632s : 5133 calls. qps=170.87181417964493
06:38:05 I periodic.go:533> T005 ended after 30.040091787s : 5137 calls. qps=171.00480372776565
06:38:05 I periodic.go:533> T008 ended after 30.040138349s : 5153 calls. qps=171.53715938766763
06:38:05 I periodic.go:533> T001 ended after 30.040188192s : 5173 calls. qps=172.20264956188328
06:38:05 I periodic.go:533> T026 ended after 30.04023815s : 5147 calls. qps=171.33685739438786
06:38:05 I periodic.go:533> T023 ended after 30.040275534s : 5168 calls. qps=172.03570566956972
06:38:05 I periodic.go:533> T027 ended after 30.040326389s : 5153 calls. qps=171.53608563610337
06:38:05 I periodic.go:533> T007 ended after 30.040354108s : 5127 calls. qps=170.67042490802854
06:38:05 I periodic.go:533> T012 ended after 30.040395899s : 5169 calls. qps=172.06830487117742
06:38:05 I periodic.go:533> T017 ended after 30.040424621s : 5122 calls. qps=170.5035819107372
06:38:05 I periodic.go:533> T013 ended after 30.040463259s : 5163 calls. qps=171.86818843258638
06:38:05 I periodic.go:533> T029 ended after 30.040491966s : 5157 calls. qps=171.66829377617123
06:38:05 I periodic.go:533> T021 ended after 30.040559275s : 5148 calls. qps=171.36831418062872
06:38:05 I periodic.go:533> T022 ended after 30.040593369s : 5166 calls. qps=171.96730891910366
06:38:05 I periodic.go:533> T025 ended after 30.040650861s : 5154 calls. qps=171.56752108494206
06:38:05 I periodic.go:533> T000 ended after 30.040678149s : 5174 calls. qps=172.2331291702958
06:38:05 I periodic.go:533> T028 ended after 30.040719897s : 5142 calls. qps=171.16766900494628
06:38:05 I periodic.go:533> T016 ended after 30.040754321s : 5153 calls. qps=171.53364209625698
06:38:05 I periodic.go:533> T014 ended after 30.040780174s : 5176 calls. qps=172.29912039633967
06:38:05 I periodic.go:533> T003 ended after 30.040823687s : 5154 calls. qps=171.56653405047496
06:38:05 I periodic.go:533> T002 ended after 30.040849531s : 5146 calls. qps=171.30008239912448
06:38:05 I periodic.go:533> T020 ended after 30.040890182s : 5155 calls. qps=171.59944225250655
06:38:05 I periodic.go:533> T024 ended after 30.040915947s : 5140 calls. qps=171.09997608156485
06:38:05 I periodic.go:533> T009 ended after 30.040941367s : 5151 calls. qps=171.46599825458128
06:38:05 I periodic.go:533> T031 ended after 30.040980644s : 5141 calls. qps=171.13289545781845
06:38:05 I periodic.go:533> T018 ended after 30.041006268s : 5146 calls. qps=171.29918865206503
06:38:05 I periodic.go:533> T011 ended after 30.041046635s : 5122 calls. qps=170.50005155387956
06:38:05 I periodic.go:533> T010 ended after 30.041074037s : 5153 calls. qps=171.5318165273759
06:38:05 I periodic.go:533> T004 ended after 30.041098474s : 5142 calls. qps=171.16551195524036
06:38:05 I periodic.go:533> T015 ended after 30.041140894s : 5152 calls. qps=171.49814709696957
Ended after 30.041157468s : 164823 calls. qps=5486.6
Aggregated Function Time : count 164823 avg 0.0058311991 +/- 0.01589 min 0.0003647 max 0.078564399 sum 961.115722
# range, mid point, percentile, count
>= 0.0003647 <= 0.0004 , 0.00038235 , 0.00, 3
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 15
> 0.0005 <= 0.0006 , 0.00055 , 0.14, 213
> 0.0006 <= 0.0007 , 0.00065 , 0.57, 704
> 0.0007 <= 0.0008 , 0.00075 , 1.48, 1498
> 0.0008 <= 0.0009 , 0.00085 , 2.52, 1713
> 0.0009 <= 0.001 , 0.00095 , 3.90, 2288
> 0.001 <= 0.0011 , 0.00105 , 6.36, 4044
> 0.0011 <= 0.0012 , 0.00115 , 11.07, 7775
> 0.0012 <= 0.0014 , 0.0013 , 25.80, 24265
> 0.0014 <= 0.0016 , 0.0015 , 47.51, 35793
> 0.0016 <= 0.0018 , 0.0017 , 61.46, 22986
> 0.0018 <= 0.002 , 0.0019 , 69.71, 13607
> 0.002 <= 0.0025 , 0.00225 , 79.39, 15951
> 0.0025 <= 0.003 , 0.00275 , 83.70, 7097
> 0.003 <= 0.0035 , 0.00325 , 86.84, 5179
> 0.0035 <= 0.004 , 0.00375 , 89.57, 4504
> 0.004 <= 0.0045 , 0.00425 , 91.58, 3311
> 0.0045 <= 0.005 , 0.00475 , 92.74, 1914
> 0.005 <= 0.006 , 0.0055 , 93.67, 1527
> 0.006 <= 0.007 , 0.0065 , 93.92, 413
> 0.007 <= 0.008 , 0.0075 , 94.02, 162
> 0.008 <= 0.009 , 0.0085 , 94.10, 141
> 0.009 <= 0.01 , 0.0095 , 94.14, 65
> 0.01 <= 0.012 , 0.011 , 94.16, 23
> 0.016 <= 0.018 , 0.017 , 94.16, 1
> 0.02 <= 0.025 , 0.0225 , 94.18, 31
> 0.04 <= 0.045 , 0.0425 , 94.18, 1
> 0.045 <= 0.05 , 0.0475 , 94.27, 151
> 0.05 <= 0.06 , 0.055 , 94.52, 417
> 0.06 <= 0.07 , 0.065 , 96.64, 3486
> 0.07 <= 0.0785644 , 0.0742822 , 100.00, 5545
# target 50% 0.00163568
# target 75% 0.00227313
# target 90% 0.00410657
# target 99% 0.0760187
# target 99.9% 0.0783098
Ping SERVING : 164823
All done 164823 calls (plus 32 warmup) 5.831 ms avg, 5486.6 qps
Successfully wrote 5289 bytes of Json data to /data/2018-12-14-063735_grpc_baseline_0qps_30s_echo_1_2.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-linkerd:8079
06:38:05 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:38:36 I periodic.go:533> T028 ended after 30.088327948s : 356 calls. qps=11.831830622667209
06:38:36 I periodic.go:533> T023 ended after 30.088855337s : 363 calls. qps=12.064267514810446
06:38:36 I periodic.go:533> T015 ended after 30.08889154s : 360 calls. qps=11.964548428825239
06:38:36 I periodic.go:533> T022 ended after 30.088904167s : 354 calls. qps=11.765134351029289
06:38:36 I periodic.go:533> T006 ended after 30.088915792s : 370 calls. qps=12.296887084857177
06:38:36 I periodic.go:533> T017 ended after 30.088927364s : 380 calls. qps=12.629230527328545
06:38:36 I periodic.go:533> T026 ended after 30.088938086s : 361 calls. qps=11.997764725634127
06:38:36 I periodic.go:533> T014 ended after 30.088962705s : 372 calls. qps=12.363337468532384
06:38:36 I periodic.go:533> T002 ended after 30.088977007s : 349 calls. qps=11.598932058035986
06:38:36 I periodic.go:533> T000 ended after 30.089074738s : 353 calls. qps=11.731833001637312
06:38:36 I periodic.go:533> T005 ended after 30.089087392s : 371 calls. qps=12.330051595338196
06:38:36 I periodic.go:533> T008 ended after 30.089099232s : 356 calls. qps=11.831527333373646
06:38:36 I periodic.go:533> T012 ended after 30.089961702s : 370 calls. qps=12.296459652037612
06:38:36 I periodic.go:533> T016 ended after 30.089981661s : 365 calls. qps=12.13028323221217
06:38:36 I periodic.go:533> T013 ended after 30.089999347s : 361 calls. qps=11.99734156976617
06:38:36 I periodic.go:533> T003 ended after 30.090025678s : 372 calls. qps=12.362900716033081
06:38:36 I periodic.go:533> T031 ended after 30.090037458s : 368 calls. qps=12.229961511801319
06:38:36 I periodic.go:533> T007 ended after 30.090048341s : 359 calls. qps=11.930854877053653
06:38:36 I periodic.go:533> T029 ended after 30.090059044s : 358 calls. qps=11.897617066038483
06:38:36 I periodic.go:533> T027 ended after 30.090069598s : 361 calls. qps=11.997313559686637
06:38:36 I periodic.go:533> T001 ended after 30.090079817s : 364 calls. qps=12.097010118077215
06:38:36 I periodic.go:533> T025 ended after 30.09010499s : 359 calls. qps=11.930832415483705
06:38:36 I periodic.go:533> T010 ended after 30.090116731s : 367 calls. qps=12.19669578821881
06:38:36 I periodic.go:533> T030 ended after 30.090128129s : 367 calls. qps=12.196691168167408
06:38:36 I periodic.go:533> T011 ended after 30.090138592s : 367 calls. qps=12.196686927110848
06:38:36 I periodic.go:533> T021 ended after 30.090149847s : 375 calls. qps=12.462550100506983
06:38:36 I periodic.go:533> T009 ended after 30.090159876s : 379 calls. qps=12.595479770191966
06:38:36 I periodic.go:533> T004 ended after 30.090185833s : 369 calls. qps=12.263134632931266
06:38:36 I periodic.go:533> T018 ended after 30.090196461s : 363 calls. qps=12.063729808826121
06:38:36 I periodic.go:533> T024 ended after 30.09020804s : 368 calls. qps=12.229892179901325
06:38:36 I periodic.go:533> T019 ended after 30.090218327s : 366 calls. qps=12.163421216242478
06:38:36 I periodic.go:533> T020 ended after 30.090229378s : 354 calls. qps=11.764616199929057
Ended after 30.090243766s : 11657 calls. qps=387.4
Aggregated Function Time : count 11657 avg 0.082587995 +/- 0.03771 min 0.000882104 max 0.196291719 sum 962.728254
# range, mid point, percentile, count
>= 0.000882104 <= 0.0009 , 0.000891052 , 0.01, 1
> 0.0012 <= 0.0014 , 0.0013 , 0.03, 3
> 0.0014 <= 0.0016 , 0.0015 , 0.06, 3
> 0.0016 <= 0.0018 , 0.0017 , 0.17, 13
> 0.0018 <= 0.002 , 0.0019 , 0.70, 62
> 0.002 <= 0.0025 , 0.00225 , 3.29, 302
> 0.0025 <= 0.003 , 0.00275 , 4.69, 163
> 0.003 <= 0.0035 , 0.00325 , 5.96, 148
> 0.0035 <= 0.004 , 0.00375 , 7.78, 212
> 0.004 <= 0.0045 , 0.00425 , 11.24, 403
> 0.0045 <= 0.005 , 0.00475 , 14.10, 334
> 0.005 <= 0.006 , 0.0055 , 16.91, 327
> 0.006 <= 0.007 , 0.0065 , 17.44, 62
> 0.007 <= 0.008 , 0.0075 , 17.73, 34
> 0.008 <= 0.009 , 0.0085 , 17.91, 21
> 0.009 <= 0.01 , 0.0095 , 18.01, 11
> 0.01 <= 0.012 , 0.011 , 18.05, 5
> 0.08 <= 0.09 , 0.085 , 18.32, 32
> 0.09 <= 0.1 , 0.095 , 76.51, 6783
> 0.1 <= 0.196292 , 0.148146 , 100.00, 2738
# target 50% 0.0954438
# target 75% 0.0997402
# target 90% 0.155296
# target 99% 0.192192
# target 99.9% 0.195882
Ping SERVING : 11657
All done 11657 calls (plus 32 warmup) 82.588 ms avg, 387.4 qps
Successfully wrote 3675 bytes of Json data to /data/2018-12-14-063806_grpc_linkerd_0qps_30s_echo_1_2.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-istio:8079
06:38:36 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:39:06 I periodic.go:533> T009 ended after 30.002790809s : 142 calls. qps=4.732893046649646
06:39:06 I periodic.go:533> T030 ended after 30.100910969s : 147 calls. qps=4.883573130108612
06:39:06 I periodic.go:533> T020 ended after 30.101536206s : 151 calls. qps=5.016355277240033
06:39:06 I periodic.go:533> T021 ended after 30.101579006s : 142 calls. qps=4.7173605069586495
06:39:06 I periodic.go:533> T026 ended after 30.101607596s : 155 calls. qps=5.149226648632444
06:39:06 I periodic.go:533> T031 ended after 30.101621714s : 147 calls. qps=4.883457821530977
06:39:06 I periodic.go:533> T024 ended after 30.10164827s : 143 calls. qps=4.7505704244945655
06:39:06 I periodic.go:533> T011 ended after 30.10166293s : 145 calls. qps=4.817009622929826
06:39:06 I periodic.go:533> T028 ended after 30.101674358s : 145 calls. qps=4.817007794168232
06:39:06 I periodic.go:533> T012 ended after 30.101686267s : 155 calls. qps=5.14921319108704
06:39:06 I periodic.go:533> T007 ended after 30.10169772s : 145 calls. qps=4.817004055676897
06:39:06 I periodic.go:533> T010 ended after 30.101708853s : 154 calls. qps=5.115988622175914
06:39:06 I periodic.go:533> T001 ended after 30.101735703s : 148 calls. qps=4.916660004600666
06:39:06 I periodic.go:533> T022 ended after 30.10174797s : 147 calls. qps=4.8834373388051455
06:39:06 I periodic.go:533> T017 ended after 30.101777463s : 141 calls. qps=4.684108776410696
06:39:06 I periodic.go:533> T027 ended after 30.10179092s : 150 calls. qps=4.983092215298663
06:39:06 I periodic.go:533> T006 ended after 30.10181615s : 144 calls. qps=4.783764517145255
06:39:06 I periodic.go:533> T004 ended after 30.101838802s : 150 calls. qps=4.983084288858588
06:39:06 I periodic.go:533> T005 ended after 30.102660849s : 143 calls. qps=4.750410627064232
06:39:06 I periodic.go:533> T025 ended after 30.102696848s : 146 calls. qps=4.850063791201489
06:39:06 I periodic.go:533> T000 ended after 30.102710171s : 147 calls. qps=4.883281244943027
06:39:06 I periodic.go:533> T015 ended after 30.102722224s : 141 calls. qps=4.6839617676698
06:39:06 I periodic.go:533> T016 ended after 30.102735001s : 156 calls. qps=5.182253373150903
06:39:06 I periodic.go:533> T018 ended after 30.102747967s : 144 calls. qps=4.783616437870036
06:39:06 I periodic.go:533> T002 ended after 30.10279023s : 148 calls. qps=4.916487769711971
06:39:06 I periodic.go:533> T014 ended after 30.102801627s : 152 calls. qps=5.049363905838823
06:39:06 I periodic.go:533> T029 ended after 30.102812872s : 147 calls. qps=4.883264584776773
06:39:06 I periodic.go:533> T019 ended after 30.102824568s : 151 calls. qps=5.0161405837150745
06:39:06 I periodic.go:533> T023 ended after 30.102873059s : 150 calls. qps=4.982913082947536
06:39:06 I periodic.go:533> T008 ended after 30.102887068s : 146 calls. qps=4.850033143671494
06:39:06 I periodic.go:533> T013 ended after 30.102901298s : 147 calls. qps=4.88325024039349
06:39:06 I periodic.go:533> T003 ended after 30.102913418s : 146 calls. qps=4.850028898289276
Ended after 30.102943351s : 4715 calls. qps=156.63
Aggregated Function Time : count 4715 avg 0.20424914 +/- 0.07557 min 0.001167662 max 0.602530164 sum 963.034705
# range, mid point, percentile, count
>= 0.00116766 <= 0.0012 , 0.00118383 , 0.02, 1
> 0.0012 <= 0.0014 , 0.0013 , 0.04, 1
> 0.0014 <= 0.0016 , 0.0015 , 0.08, 2
> 0.0016 <= 0.0018 , 0.0017 , 0.15, 3
> 0.0018 <= 0.002 , 0.0019 , 0.28, 6
> 0.002 <= 0.0025 , 0.00225 , 0.81, 25
> 0.0025 <= 0.003 , 0.00275 , 1.04, 11
> 0.003 <= 0.0035 , 0.00325 , 1.15, 5
> 0.0035 <= 0.004 , 0.00375 , 1.29, 7
> 0.004 <= 0.0045 , 0.00425 , 1.40, 5
> 0.0045 <= 0.005 , 0.00475 , 1.51, 5
> 0.005 <= 0.006 , 0.0055 , 1.63, 6
> 0.006 <= 0.007 , 0.0065 , 1.68, 2
> 0.008 <= 0.009 , 0.0085 , 1.70, 1
> 0.09 <= 0.1 , 0.095 , 4.86, 149
> 0.1 <= 0.2 , 0.15 , 49.52, 2106
> 0.2 <= 0.3 , 0.25 , 95.19, 2153
> 0.3 <= 0.4 , 0.35 , 98.37, 150
> 0.4 <= 0.5 , 0.45 , 99.47, 52
> 0.5 <= 0.60253 , 0.551265 , 100.00, 25
# target 50% 0.201045
# target 75% 0.255794
# target 90% 0.288644
# target 99% 0.457404
# target 99.9% 0.583193
Ping SERVING : 4715
All done 4715 calls (plus 32 warmup) 204.249 ms avg, 156.6 qps
Successfully wrote 3616 bytes of Json data to /data/2018-12-14-063836_grpc_istio_0qps_30s_echo_1_2.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8080/echo
06:39:06 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
06:39:06 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:39:36 I periodic.go:533> T018 ended after 30.042055508s : 7887 calls. qps=262.5319694885639
06:39:36 I periodic.go:533> T011 ended after 30.042213763s : 8032 calls. qps=267.3571283182937
06:39:36 I periodic.go:533> T028 ended after 30.042230121s : 7970 calls. qps=265.2932211723138
06:39:36 I periodic.go:533> T012 ended after 30.042326724s : 8064 calls. qps=268.4212868758228
06:39:36 I periodic.go:533> T008 ended after 30.04237254s : 8047 calls. qps=267.855010095684
06:39:36 I periodic.go:533> T002 ended after 30.042411888s : 7997 calls. qps=266.19034549600474
06:39:36 I periodic.go:533> T019 ended after 30.042492845s : 8212 calls. qps=273.3461581356998
06:39:36 I periodic.go:533> T029 ended after 30.042514641s : 8070 calls. qps=268.61932486126204
06:39:36 I periodic.go:533> T031 ended after 30.042534352s : 7984 calls. qps=265.7565405918721
06:39:36 I periodic.go:533> T013 ended after 30.042555405s : 7907 calls. qps=263.1933233843361
06:39:36 I periodic.go:533> T003 ended after 30.042599861s : 7969 calls. qps=265.25667009082696
06:39:36 I periodic.go:533> T023 ended after 30.0426107s : 7906 calls. qps=263.1595529079635
06:39:36 I periodic.go:533> T000 ended after 30.04262139s : 7988 calls. qps=265.8889148288135
06:39:36 I periodic.go:533> T015 ended after 30.04263262s : 8112 calls. qps=270.016283280037
06:39:36 I periodic.go:533> T020 ended after 30.042642548s : 8048 calls. qps=267.88588877098533
06:39:36 I periodic.go:533> T007 ended after 30.042666516s : 8059 calls. qps=268.2518209796048
06:39:36 I periodic.go:533> T001 ended after 30.04267763s : 8167 calls. qps=271.84660770199133
06:39:36 I periodic.go:533> T027 ended after 30.042687987s : 7965 calls. qps=265.12274811916285
06:39:36 I periodic.go:533> T004 ended after 30.042698128s : 7906 calls. qps=263.15878708082994
06:39:36 I periodic.go:533> T017 ended after 30.042709345s : 7997 calls. qps=266.1877099087582
06:39:36 I periodic.go:533> T014 ended after 30.042719262s : 7987 calls. qps=265.8547626912881
06:39:36 I periodic.go:533> T005 ended after 30.042729054s : 8055 calls. qps=268.1181188806657
06:39:36 I periodic.go:533> T024 ended after 30.042795863s : 8099 calls. qps=269.5821000459727
06:39:36 I periodic.go:533> T030 ended after 30.042827899s : 8155 calls. qps=271.44581819714267
06:39:36 I periodic.go:533> T026 ended after 30.0428392s : 8058 calls. qps=268.2169932860407
06:39:36 I periodic.go:533> T006 ended after 30.042848955s : 7978 calls. qps=265.55404289220144
06:39:36 I periodic.go:533> T009 ended after 30.042858527s : 7970 calls. qps=265.28767203817284
06:39:36 I periodic.go:533> T016 ended after 30.0428683s : 8193 calls. qps=272.7103124171403
06:39:36 I periodic.go:533> T021 ended after 30.042878775s : 8089 calls. qps=269.2484984738284
06:39:36 I periodic.go:533> T010 ended after 30.042888482s : 8039 calls. qps=267.58412410366316
06:39:36 I periodic.go:533> T022 ended after 30.042911658s : 7916 calls. qps=263.48977389786654
06:39:36 I periodic.go:533> T025 ended after 30.042922033s : 8040 calls. qps=267.61711098436547
Ended after 30.042938301s : 256866 calls. qps=8550
Aggregated Function Time : count 256866 avg 0.0037418248 +/- 0.0141 min 7.2436e-05 max 0.079948187 sum 961.147564
# range, mid point, percentile, count
>= 7.2436e-05 <= 0.0001 , 8.6218e-05 , 0.66, 1702
> 0.0001 <= 0.0002 , 0.00015 , 5.24, 11745
> 0.0002 <= 0.0003 , 0.00025 , 10.63, 13859
> 0.0003 <= 0.0004 , 0.00035 , 16.38, 14756
> 0.0004 <= 0.0005 , 0.00045 , 22.49, 15718
> 0.0005 <= 0.0006 , 0.00055 , 28.72, 15990
> 0.0006 <= 0.0007 , 0.00065 , 34.88, 15834
> 0.0007 <= 0.0008 , 0.00075 , 40.84, 15299
> 0.0008 <= 0.0009 , 0.00085 , 47.10, 16078
> 0.0009 <= 0.001 , 0.00095 , 53.41, 16212
> 0.001 <= 0.0011 , 0.00105 , 59.55, 15781
> 0.0011 <= 0.0012 , 0.00115 , 65.52, 15313
> 0.0012 <= 0.0014 , 0.0013 , 77.08, 29718
> 0.0014 <= 0.0016 , 0.0015 , 86.97, 25379
> 0.0016 <= 0.0018 , 0.0017 , 91.30, 11128
> 0.0018 <= 0.002 , 0.0019 , 92.87, 4048
> 0.002 <= 0.0025 , 0.00225 , 94.76, 4834
> 0.0025 <= 0.003 , 0.00275 , 95.39, 1633
> 0.003 <= 0.0035 , 0.00325 , 95.59, 503
> 0.0035 <= 0.004 , 0.00375 , 95.74, 385
> 0.004 <= 0.0045 , 0.00425 , 95.90, 414
> 0.0045 <= 0.005 , 0.00475 , 96.06, 423
> 0.005 <= 0.006 , 0.0055 , 96.24, 446
> 0.006 <= 0.007 , 0.0065 , 96.25, 28
> 0.007 <= 0.008 , 0.0075 , 96.25, 8
> 0.016 <= 0.018 , 0.017 , 96.26, 32
> 0.045 <= 0.05 , 0.0475 , 96.27, 13
> 0.05 <= 0.06 , 0.055 , 96.30, 83
> 0.06 <= 0.07 , 0.065 , 96.45, 394
> 0.07 <= 0.0799482 , 0.0749741 , 100.00, 9110
# target 50% 0.000945966
# target 75% 0.00136396
# target 90% 0.0017401
# target 99% 0.0771432
# target 99.9% 0.0796677
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 256866 (100.0 %)
Response Header Sizes : count 256866 avg 75 +/- 0 min 75 max 75 sum 19264950
Response Body/Total Sizes : count 256866 avg 75 +/- 0 min 75 max 75 sum 19264950
All done 256866 calls (plus 32 warmup) 3.742 ms avg, 8550.0 qps
Successfully wrote 5596 bytes of Json data to /data/2018-12-14-063906_http_baseline_0qps_30s_echo_0_3.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-linkerd:8080/echo
06:39:37 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 32 threads at -1.0 qps
06:39:37 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:40:07 I periodic.go:533> T007 ended after 30.094163513s : 508 calls. qps=16.880349566139476
06:40:07 I periodic.go:533> T031 ended after 30.09432748s : 481 calls. qps=15.983078549260208
06:40:07 I periodic.go:533> T027 ended after 30.094353656s : 473 calls. qps=15.717234050171953
06:40:07 I periodic.go:533> T025 ended after 30.094381759s : 456 calls. qps=15.152329881760373
06:40:07 I periodic.go:533> T016 ended after 30.09442601s : 477 calls. qps=15.850111241247761
06:40:07 I periodic.go:533> T022 ended after 30.094445747s : 492 calls. qps=16.348531690404883
06:40:07 I periodic.go:533> T028 ended after 30.094457392s : 468 calls. qps=15.55103632220358
06:40:07 I periodic.go:533> T006 ended after 30.094482082s : 473 calls. qps=15.717166978025816
06:40:07 I periodic.go:533> T011 ended after 30.094494391s : 487 calls. qps=16.182361918851218
06:40:07 I periodic.go:533> T019 ended after 30.094505509s : 477 calls. qps=15.850069370880654
06:40:07 I periodic.go:533> T029 ended after 30.094516612s : 498 calls. qps=16.547865061950375
06:40:07 I periodic.go:533> T021 ended after 30.094570896s : 482 calls. qps=16.01617785698565
06:40:07 I periodic.go:533> T002 ended after 30.094584306s : 477 calls. qps=15.85002787045973
06:40:07 I periodic.go:533> T013 ended after 30.094595223s : 488 calls. qps=16.215536257721208
06:40:07 I periodic.go:533> T001 ended after 30.094605867s : 500 calls. qps=16.614273076367848
06:40:07 I periodic.go:533> T005 ended after 30.094616432s : 506 calls. qps=16.81363845069524
06:40:07 I periodic.go:533> T010 ended after 30.094626411s : 477 calls. qps=15.850005694892094
06:40:07 I periodic.go:533> T012 ended after 30.094651817s : 474 calls. qps=15.750306828014033
06:40:07 I periodic.go:533> T009 ended after 30.094664467s : 486 calls. qps=16.149041984931195
06:40:07 I periodic.go:533> T008 ended after 30.094675522s : 481 calls. qps=15.98289370650886
06:40:07 I periodic.go:533> T004 ended after 30.094686033s : 498 calls. qps=16.547771904113688
06:40:07 I periodic.go:533> T023 ended after 30.09469643s : 502 calls. qps=16.680679971889653
06:40:07 I periodic.go:533> T015 ended after 30.094706725s : 464 calls. qps=15.417993743549264
06:40:07 I periodic.go:533> T017 ended after 30.094730611s : 484 calls. qps=16.082549674762397
06:40:07 I periodic.go:533> T020 ended after 30.094741063s : 506 calls. qps=16.813568820570516
06:40:07 I periodic.go:533> T014 ended after 30.094751452s : 483 calls. qps=16.049310151983374
06:40:07 I periodic.go:533> T018 ended after 30.094761891s : 484 calls. qps=16.082532958825063
06:40:07 I periodic.go:533> T030 ended after 30.094772501s : 479 calls. qps=15.916385478045518
06:40:07 I periodic.go:533> T024 ended after 30.094782313s : 483 calls. qps=16.049293694055372
06:40:07 I periodic.go:533> T000 ended after 30.094792023s : 489 calls. qps=16.248658559470385
06:40:07 I periodic.go:533> T026 ended after 30.094815663s : 469 calls. qps=15.584079505647578
06:40:07 I periodic.go:533> T003 ended after 30.094870273s : 473 calls. qps=15.716964243715582
Ended after 30.094890712s : 15475 calls. qps=514.21
Aggregated Function Time : count 15475 avg 0.062221985 +/- 0.05072 min 0.000368647 max 0.196995299 sum 962.885222
# range, mid point, percentile, count
>= 0.000368647 <= 0.0004 , 0.000384324 , 0.01, 2
> 0.0004 <= 0.0005 , 0.00045 , 1.08, 165
> 0.0005 <= 0.0006 , 0.00055 , 2.59, 234
> 0.0006 <= 0.0007 , 0.00065 , 3.50, 141
> 0.0007 <= 0.0008 , 0.00075 , 4.05, 84
> 0.0008 <= 0.0009 , 0.00085 , 4.28, 37
> 0.0009 <= 0.001 , 0.00095 , 4.37, 13
> 0.001 <= 0.0011 , 0.00105 , 4.46, 14
> 0.0011 <= 0.0012 , 0.00115 , 4.61, 23
> 0.0012 <= 0.0014 , 0.0013 , 4.92, 49
> 0.0014 <= 0.0016 , 0.0015 , 5.45, 81
> 0.0016 <= 0.0018 , 0.0017 , 6.77, 205
> 0.0018 <= 0.002 , 0.0019 , 8.79, 312
> 0.002 <= 0.0025 , 0.00225 , 12.80, 621
> 0.0025 <= 0.003 , 0.00275 , 17.33, 701
> 0.003 <= 0.0035 , 0.00325 , 22.02, 726
> 0.0035 <= 0.004 , 0.00375 , 26.44, 683
> 0.004 <= 0.0045 , 0.00425 , 30.89, 689
> 0.0045 <= 0.005 , 0.00475 , 34.60, 575
> 0.005 <= 0.006 , 0.0055 , 38.84, 655
> 0.006 <= 0.007 , 0.0065 , 39.66, 127
> 0.007 <= 0.008 , 0.0075 , 40.00, 53
> 0.008 <= 0.009 , 0.0085 , 40.05, 8
> 0.009 <= 0.01 , 0.0095 , 40.17, 18
> 0.01 <= 0.012 , 0.011 , 40.29, 19
> 0.08 <= 0.09 , 0.085 , 40.36, 11
> 0.09 <= 0.1 , 0.095 , 86.95, 7210
> 0.1 <= 0.196995 , 0.148498 , 100.00, 2019
# target 50% 0.0920687
# target 75% 0.0974345
# target 90% 0.122651
# target 99% 0.189561
# target 99.9% 0.196252
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 15475 (100.0 %)
Response Header Sizes : count 15475 avg 75 +/- 0 min 75 max 75 sum 1160625
Response Body/Total Sizes : count 15475 avg 75 +/- 0 min 75 max 75 sum 1160625
All done 15475 calls (plus 32 warmup) 62.222 ms avg, 514.2 qps
Successfully wrote 5252 bytes of Json data to /data/2018-12-14-063937_http_linkerd_0qps_30s_echo_0_3.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8080/echo
06:40:07 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 32 threads at -1.0 qps
06:40:07 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:40:37 I periodic.go:533> T017 ended after 30.076087835s : 192 calls. qps=6.3838089931552435
06:40:37 I periodic.go:533> T016 ended after 30.076837159s : 190 calls. qps=6.317153595491859
06:40:37 I periodic.go:533> T008 ended after 30.077096303s : 200 calls. qps=6.649578070475216
06:40:37 I periodic.go:533> T002 ended after 30.077396682s : 194 calls. qps=6.450026312154219
06:40:37 I periodic.go:533> T020 ended after 30.07785343s : 192 calls. qps=6.383434258260497
06:40:37 I periodic.go:533> T027 ended after 30.077885563s : 201 calls. qps=6.682650599856596
06:40:37 I periodic.go:533> T007 ended after 30.078486909s : 200 calls. qps=6.649270643336669
06:40:37 I periodic.go:533> T026 ended after 30.078513273s : 196 calls. qps=6.51627951890626
06:40:37 I periodic.go:533> T023 ended after 30.078527448s : 204 calls. qps=6.782246915267938
06:40:37 I periodic.go:533> T012 ended after 30.078851466s : 199 calls. qps=6.615944103615196
06:40:37 I periodic.go:533> T028 ended after 30.079114872s : 201 calls. qps=6.68237748535302
06:40:37 I periodic.go:533> T005 ended after 30.275311735s : 186 calls. qps=6.143619647191719
06:40:37 I periodic.go:533> T006 ended after 30.275391322s : 187 calls. qps=6.176633623365062
06:40:37 I periodic.go:533> T014 ended after 30.275406207s : 189 calls. qps=6.242690806781022
06:40:37 I periodic.go:533> T021 ended after 30.275421273s : 192 calls. qps=6.341777981178019
06:40:37 I periodic.go:533> T030 ended after 30.27543317s : 201 calls. qps=6.639046215172617
06:40:37 I periodic.go:533> T013 ended after 30.275476172s : 187 calls. qps=6.176616312741771
06:40:37 I periodic.go:533> T025 ended after 30.275487907s : 193 calls. qps=6.374794044371996
06:40:37 I periodic.go:533> T010 ended after 30.275499552s : 194 calls. qps=6.407821600657432
06:40:37 I periodic.go:533> T011 ended after 30.275509875s : 194 calls. qps=6.407819415791094
06:40:37 I periodic.go:533> T031 ended after 30.275545586s : 193 calls. qps=6.374781899529069
06:40:37 I periodic.go:533> T009 ended after 30.275560553s : 193 calls. qps=6.3747787480973885
06:40:37 I periodic.go:533> T018 ended after 30.275572103s : 182 calls. qps=6.011447096055557
06:40:37 I periodic.go:533> T019 ended after 30.275584161s : 187 calls. qps=6.176594281569211
06:40:37 I periodic.go:533> T004 ended after 30.27559604s : 193 calls. qps=6.374771276014158
06:40:37 I periodic.go:533> T022 ended after 30.275623394s : 204 calls. qps=6.73809412097617
06:40:37 I periodic.go:533> T000 ended after 30.275634785s : 200 calls. qps=6.60597214295535
06:40:37 I periodic.go:533> T001 ended after 30.275644587s : 198 calls. qps=6.539910304172974
06:40:37 I periodic.go:533> T029 ended after 30.275654918s : 193 calls. qps=6.374758878799822
06:40:37 I periodic.go:533> T024 ended after 30.275669993s : 197 calls. qps=6.5068749938663
06:40:37 I periodic.go:533> T015 ended after 30.275681121s : 194 calls. qps=6.40778317173636
06:40:37 I periodic.go:533> T003 ended after 30.275707469s : 192 calls. qps=6.341718032405791
Ended after 30.275725172s : 6218 calls. qps=205.38
Aggregated Function Time : count 6218 avg 0.15543651 +/- 0.06966 min 0.000720557 max 0.40099283 sum 966.50419
# range, mid point, percentile, count
>= 0.000720557 <= 0.0008 , 0.000760279 , 0.08, 5
> 0.0008 <= 0.0009 , 0.00085 , 0.13, 3
> 0.0009 <= 0.001 , 0.00095 , 0.26, 8
> 0.001 <= 0.0011 , 0.00105 , 0.32, 4
> 0.0011 <= 0.0012 , 0.00115 , 0.43, 7
> 0.0012 <= 0.0014 , 0.0013 , 0.61, 11
> 0.0014 <= 0.0016 , 0.0015 , 0.84, 14
> 0.0016 <= 0.0018 , 0.0017 , 0.93, 6
> 0.0018 <= 0.002 , 0.0019 , 0.98, 3
> 0.002 <= 0.0025 , 0.00225 , 1.16, 11
> 0.0025 <= 0.003 , 0.00275 , 1.37, 13
> 0.003 <= 0.0035 , 0.00325 , 1.45, 5
> 0.0035 <= 0.004 , 0.00375 , 1.51, 4
> 0.004 <= 0.0045 , 0.00425 , 1.62, 7
> 0.0045 <= 0.005 , 0.00475 , 1.67, 3
> 0.005 <= 0.006 , 0.0055 , 1.72, 3
> 0.05 <= 0.06 , 0.055 , 1.75, 2
> 0.06 <= 0.07 , 0.065 , 1.79, 2
> 0.07 <= 0.08 , 0.075 , 1.91, 8
> 0.09 <= 0.1 , 0.095 , 22.42, 1275
> 0.1 <= 0.2 , 0.15 , 74.72, 3252
> 0.2 <= 0.3 , 0.25 , 98.28, 1465
> 0.3 <= 0.4 , 0.35 , 99.52, 77
> 0.4 <= 0.400993 , 0.400496 , 100.00, 30
# target 50% 0.152737
# target 75% 0.201195
# target 90% 0.26486
# target 99% 0.358208
# target 99.9% 0.400787
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 6218 (100.0 %)
Response Header Sizes : count 6218 avg 210.09842 +/- 0.5844 min 209 max 211 sum 1306392
Response Body/Total Sizes : count 6218 avg 210.09842 +/- 0.5844 min 209 max 211 sum 1306392
All done 6218 calls (plus 32 warmup) 155.437 ms avg, 205.4 qps
Successfully wrote 4754 bytes of Json data to /data/2018-12-14-064007_http_istio_0qps_30s_echo_0_3.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8079
06:40:37 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:41:08 I periodic.go:533> T013 ended after 30.048007587s : 5022 calls. qps=167.1325456591246
06:41:08 I periodic.go:533> T027 ended after 30.048410235s : 5001 calls. qps=166.43143383921523
06:41:08 I periodic.go:533> T011 ended after 30.048472682s : 4995 calls. qps=166.23141058986886
06:41:08 I periodic.go:533> T024 ended after 30.048574638s : 5025 calls. qps=167.22923002295386
06:41:08 I periodic.go:533> T019 ended after 30.048605333s : 5001 calls. qps=166.43035324197885
06:41:08 I periodic.go:533> T025 ended after 30.048648479s : 4993 calls. qps=166.16387933352283
06:41:08 I periodic.go:533> T007 ended after 30.048675262s : 5010 calls. qps=166.72947996265646
06:41:08 I periodic.go:533> T012 ended after 30.048716819s : 4995 calls. qps=166.2300600084736
06:41:08 I periodic.go:533> T028 ended after 30.048743818s : 5012 calls. qps=166.79565809329037
06:41:08 I periodic.go:533> T005 ended after 30.04877389s : 4974 calls. qps=165.53088050142733
06:41:08 I periodic.go:533> T022 ended after 30.048813698s : 5031 calls. qps=167.42757469772775
06:41:08 I periodic.go:533> T029 ended after 30.048839798s : 5032 calls. qps=167.460708427582
06:41:08 I periodic.go:533> T006 ended after 30.048878565s : 5008 calls. qps=166.6617936894711
06:41:08 I periodic.go:533> T020 ended after 30.048904731s : 5010 calls. qps=166.7282067299919
06:41:08 I periodic.go:533> T008 ended after 30.048933582s : 5004 calls. qps=166.52837234122381
06:41:08 I periodic.go:533> T004 ended after 30.048973995s : 5017 calls. qps=166.96077546057992
06:41:08 I periodic.go:533> T002 ended after 30.049012727s : 4999 calls. qps=166.36153891033626
06:41:08 I periodic.go:533> T026 ended after 30.049069952s : 5030 calls. qps=167.3928680000698
06:41:08 I periodic.go:533> T003 ended after 30.049099196s : 5002 calls. qps=166.46089679340017
06:41:08 I periodic.go:533> T000 ended after 30.049152277s : 5033 calls. qps=167.4922458245959
06:41:08 I periodic.go:533> T030 ended after 30.049178674s : 5013 calls. qps=166.82652309354097
06:41:08 I periodic.go:533> T018 ended after 30.049219894s : 4979 calls. qps=165.69481728855692
06:41:08 I periodic.go:533> T009 ended after 30.049244159s : 4997 calls. qps=166.29370021952303
06:41:08 I periodic.go:533> T016 ended after 30.049311274s : 5021 calls. qps=167.09201599387046
06:41:08 I periodic.go:533> T015 ended after 30.049337672s : 5029 calls. qps=167.3580980350867
06:41:08 I periodic.go:533> T001 ended after 30.049378589s : 5018 calls. qps=166.9918060081585
06:41:08 I periodic.go:533> T014 ended after 30.049403953s : 5002 calls. qps=166.45920856944727
06:41:08 I periodic.go:533> T021 ended after 30.049452028s : 4995 calls. qps=166.2259929181295
06:41:08 I periodic.go:533> T023 ended after 30.049484282s : 5009 calls. qps=166.69171267609576
06:41:08 I periodic.go:533> T031 ended after 30.049526339s : 5015 calls. qps=166.89114974472145
06:41:08 I periodic.go:533> T010 ended after 30.049551879s : 5034 calls. qps=167.5232968621402
06:41:08 I periodic.go:533> T017 ended after 30.049578s : 5003 calls. qps=166.49152277612683
Ended after 30.049608401s : 160309 calls. qps=5334.8
Aggregated Function Time : count 160309 avg 0.0059970171 +/- 0.01609 min 0.000295832 max 0.082959926 sum 961.375815
# range, mid point, percentile, count
>= 0.000295832 <= 0.0003 , 0.000297916 , 0.00, 1
> 0.0003 <= 0.0004 , 0.00035 , 0.00, 1
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 14
> 0.0005 <= 0.0006 , 0.00055 , 0.12, 172
> 0.0006 <= 0.0007 , 0.00065 , 0.50, 616
> 0.0007 <= 0.0008 , 0.00075 , 1.30, 1279
> 0.0008 <= 0.0009 , 0.00085 , 2.29, 1587
> 0.0009 <= 0.001 , 0.00095 , 3.71, 2281
> 0.001 <= 0.0011 , 0.00105 , 5.97, 3615
> 0.0011 <= 0.0012 , 0.00115 , 9.84, 6216
> 0.0012 <= 0.0014 , 0.0013 , 23.36, 21659
> 0.0014 <= 0.0016 , 0.0015 , 43.18, 31777
> 0.0016 <= 0.0018 , 0.0017 , 57.23, 22526
> 0.0018 <= 0.002 , 0.0019 , 66.97, 15612
> 0.002 <= 0.0025 , 0.00225 , 77.94, 17587
> 0.0025 <= 0.003 , 0.00275 , 83.09, 8253
> 0.003 <= 0.0035 , 0.00325 , 86.14, 4900
> 0.0035 <= 0.004 , 0.00375 , 88.79, 4238
> 0.004 <= 0.0045 , 0.00425 , 91.06, 3640
> 0.0045 <= 0.005 , 0.00475 , 92.28, 1955
> 0.005 <= 0.006 , 0.0055 , 93.26, 1574
> 0.006 <= 0.007 , 0.0065 , 93.66, 637
> 0.007 <= 0.008 , 0.0075 , 93.84, 299
> 0.008 <= 0.009 , 0.0085 , 93.91, 113
> 0.009 <= 0.01 , 0.0095 , 93.94, 48
> 0.01 <= 0.012 , 0.011 , 93.98, 59
> 0.012 <= 0.014 , 0.013 , 93.99, 13
> 0.014 <= 0.016 , 0.015 , 93.99, 5
> 0.025 <= 0.03 , 0.0275 , 94.01, 32
> 0.035 <= 0.04 , 0.0375 , 94.03, 25
> 0.04 <= 0.045 , 0.0425 , 94.05, 40
> 0.045 <= 0.05 , 0.0475 , 94.12, 114
> 0.05 <= 0.06 , 0.055 , 94.40, 436
> 0.06 <= 0.07 , 0.065 , 96.60, 3536
> 0.07 <= 0.08 , 0.075 , 99.98, 5417
> 0.08 <= 0.0829599 , 0.08148 , 100.00, 32
# target 50% 0.0016971
# target 75% 0.00236606
# target 90% 0.00426705
# target 99% 0.0770997
# target 99.9% 0.0797631
Ping SERVING : 160309
All done 160309 calls (plus 32 warmup) 5.997 ms avg, 5334.8 qps
Successfully wrote 5810 bytes of Json data to /data/2018-12-14-064038_grpc_baseline_0qps_30s_echo_0_3.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-linkerd:8079
06:41:08 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:41:38 I periodic.go:533> T016 ended after 30.000024879s : 365 calls. qps=12.166656576858367
06:41:38 I periodic.go:533> T000 ended after 30.000443843s : 374 calls. qps=12.46648222797095
06:41:38 I periodic.go:533> T004 ended after 30.004157483s : 371 calls. qps=12.364953097256745
06:41:38 I periodic.go:533> T021 ended after 30.004186307s : 359 calls. qps=11.96499702830618
06:41:38 I periodic.go:533> T005 ended after 30.004199787s : 377 calls. qps=12.564907668803878
06:41:38 I periodic.go:533> T028 ended after 30.004212359s : 359 calls. qps=11.964986639361493
06:41:38 I periodic.go:533> T015 ended after 30.004253563s : 361 calls. qps=12.031627423825341
06:41:38 I periodic.go:533> T019 ended after 30.004269454s : 368 calls. qps=12.264921182773218
06:41:38 I periodic.go:533> T031 ended after 30.004282027s : 359 calls. qps=11.964958857437287
06:41:38 I periodic.go:533> T024 ended after 30.004293713s : 351 calls. qps=11.69832569156333
06:41:38 I periodic.go:533> T029 ended after 30.004305259s : 368 calls. qps=12.26490654669019
06:41:38 I periodic.go:533> T030 ended after 30.004343899s : 372 calls. qps=12.398204781688236
06:41:38 I periodic.go:533> T012 ended after 30.004356416s : 366 calls. qps=12.198228648051533
06:41:38 I periodic.go:533> T011 ended after 30.004368501s : 360 calls. qps=11.998252854013634
06:41:38 I periodic.go:533> T025 ended after 30.004380142s : 366 calls. qps=12.19821900228743
06:41:38 I periodic.go:533> T022 ended after 30.004392583s : 356 calls. qps=11.864929410425852
06:41:38 I periodic.go:533> T013 ended after 30.004403602s : 359 calls. qps=11.964910376557865
06:41:38 I periodic.go:533> T020 ended after 30.004429068s : 356 calls. qps=11.864914982824228
06:41:38 I periodic.go:533> T006 ended after 30.004440968s : 362 calls. qps=12.064880675033278
06:41:38 I periodic.go:533> T027 ended after 30.004453155s : 363 calls. qps=12.09820416072169
06:41:38 I periodic.go:533> T026 ended after 30.004941628s : 378 calls. qps=12.597924858059317
06:41:38 I periodic.go:533> T003 ended after 30.004957196s : 360 calls. qps=11.99801744919643
06:41:38 I periodic.go:533> T017 ended after 30.004967981s : 364 calls. qps=12.131324393696909
06:41:38 I periodic.go:533> T002 ended after 30.004979036s : 362 calls. qps=12.064664320067415
06:41:38 I periodic.go:533> T010 ended after 30.005003658s : 374 calls. qps=12.464587715532016
06:41:38 I periodic.go:533> T001 ended after 30.005015818s : 360 calls. qps=11.99799400818966
06:41:38 I periodic.go:533> T009 ended after 30.095076456s : 357 calls. qps=11.862405484230813
06:41:38 I periodic.go:533> T023 ended after 30.096133639s : 367 calls. qps=12.194257388743914
06:41:38 I periodic.go:533> T007 ended after 30.096162203s : 359 calls. qps=11.928431192606169
06:41:38 I periodic.go:533> T014 ended after 30.096176646s : 361 calls. qps=11.99487909199189
06:41:38 I periodic.go:533> T008 ended after 30.097659105s : 361 calls. qps=11.99428828470014
06:41:38 I periodic.go:533> T018 ended after 30.09768343s : 351 calls. qps=11.662027106383183
Ended after 30.097700053s : 11626 calls. qps=386.28
Aggregated Function Time : count 11626 avg 0.082621676 +/- 0.03725 min 0.00114317 max 0.196670192 sum 960.559608
# range, mid point, percentile, count
>= 0.00114317 <= 0.0012 , 0.00117159 , 0.03, 3
> 0.0012 <= 0.0014 , 0.0013 , 0.03, 1
> 0.0016 <= 0.0018 , 0.0017 , 0.12, 10
> 0.0018 <= 0.002 , 0.0019 , 0.67, 64
> 0.002 <= 0.0025 , 0.00225 , 3.60, 340
> 0.0025 <= 0.003 , 0.00275 , 4.93, 155
> 0.003 <= 0.0035 , 0.00325 , 5.73, 93
> 0.0035 <= 0.004 , 0.00375 , 7.64, 222
> 0.004 <= 0.0045 , 0.00425 , 11.53, 453
> 0.0045 <= 0.005 , 0.00475 , 14.46, 340
> 0.005 <= 0.006 , 0.0055 , 16.66, 256
> 0.006 <= 0.007 , 0.0065 , 17.19, 61
> 0.007 <= 0.008 , 0.0075 , 17.49, 35
> 0.008 <= 0.009 , 0.0085 , 17.74, 29
> 0.009 <= 0.01 , 0.0095 , 17.80, 8
> 0.01 <= 0.012 , 0.011 , 17.82, 2
> 0.06 <= 0.07 , 0.065 , 17.87, 6
> 0.07 <= 0.08 , 0.075 , 18.10, 26
> 0.08 <= 0.09 , 0.085 , 18.21, 13
> 0.09 <= 0.1 , 0.095 , 75.74, 6689
> 0.1 <= 0.19667 , 0.148335 , 100.00, 2820
# target 50% 0.0955255
# target 75% 0.0998707
# target 90% 0.156816
# target 99% 0.192685
# target 99.9% 0.196272
Ping SERVING : 11626
All done 11626 calls (plus 32 warmup) 82.622 ms avg, 386.3 qps
Successfully wrote 3797 bytes of Json data to /data/2018-12-14-064108_grpc_linkerd_0qps_30s_echo_0_3.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8079
06:41:38 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:42:09 I periodic.go:533> T012 ended after 30.003227698s : 136 calls. qps=4.5328456447726015
06:42:09 I periodic.go:533> T026 ended after 30.00768043s : 135 calls. qps=4.498848230369534
06:42:09 I periodic.go:533> T005 ended after 30.007745529s : 139 calls. qps=4.632137388184261
06:42:09 I periodic.go:533> T015 ended after 30.007760651s : 138 calls. qps=4.598810341264208
06:42:09 I periodic.go:533> T028 ended after 30.007860202s : 135 calls. qps=4.4988212785329615
06:42:09 I periodic.go:533> T025 ended after 30.007879589s : 141 calls. qps=4.698765855208457
06:42:09 I periodic.go:533> T003 ended after 30.008045992s : 133 calls. qps=4.432144633324581
06:42:09 I periodic.go:533> T024 ended after 30.008086409s : 141 calls. qps=4.698733470645812
06:42:09 I periodic.go:533> T014 ended after 30.008098737s : 138 calls. qps=4.598758528804956
06:42:09 I periodic.go:533> T022 ended after 30.00811063s : 141 calls. qps=4.698729678070372
06:42:09 I periodic.go:533> T023 ended after 30.008124476s : 137 calls. qps=4.565430275709844
06:42:09 I periodic.go:533> T020 ended after 30.008135748s : 139 calls. qps=4.632077152918909
06:42:09 I periodic.go:533> T004 ended after 30.008158289s : 137 calls. qps=4.5654251314123355
06:42:09 I periodic.go:533> T018 ended after 30.008171632s : 142 calls. qps=4.7320443824899545
06:42:09 I periodic.go:533> T021 ended after 30.008769996s : 135 calls. qps=4.498684885051761
06:42:09 I periodic.go:533> T002 ended after 30.00879619s : 134 calls. qps=4.46535739559768
06:42:09 I periodic.go:533> T013 ended after 30.00881092s : 138 calls. qps=4.598649388937535
06:42:09 I periodic.go:533> T027 ended after 30.008839781s : 141 calls. qps=4.698615508929929
06:42:09 I periodic.go:533> T009 ended after 30.008851734s : 136 calls. qps=4.531996132524862
06:42:09 I periodic.go:533> T019 ended after 30.00886444s : 143 calls. qps=4.76525862169545
06:42:09 I periodic.go:533> T006 ended after 30.008875353s : 144 calls. qps=4.798580363512499
06:42:09 I periodic.go:533> T000 ended after 30.008886879s : 134 calls. qps=4.465343900968624
06:42:09 I periodic.go:533> T029 ended after 30.00889775s : 132 calls. qps=4.398695383605018
06:42:09 I periodic.go:533> T030 ended after 30.008928458s : 138 calls. qps=4.598631377096404
06:42:09 I periodic.go:533> T017 ended after 30.008945246s : 140 calls. qps=4.6652755987370504
06:42:09 I periodic.go:533> T008 ended after 30.008959464s : 134 calls. qps=4.4653331002946635
06:42:09 I periodic.go:533> T010 ended after 30.008971192s : 140 calls. qps=4.665271565101911
06:42:09 I periodic.go:533> T016 ended after 30.008982062s : 136 calls. qps=4.531976450218053
06:42:09 I periodic.go:533> T007 ended after 30.009007282s : 144 calls. qps=4.7985592674494795
06:42:09 I periodic.go:533> T031 ended after 30.0090192s : 132 calls. qps=4.398677581571876
06:42:09 I periodic.go:533> T011 ended after 30.009031278s : 140 calls. qps=4.665262223997073
06:42:09 I periodic.go:533> T001 ended after 30.097404148s : 140 calls. qps=4.651563945899405
Ended after 30.097466205s : 4413 calls. qps=146.62
Aggregated Function Time : count 4413 avg 0.2175905 +/- 0.08222 min 0.001400325 max 0.696227064 sum 960.22689
# range, mid point, percentile, count
>= 0.00140033 <= 0.0016 , 0.00150016 , 0.07, 3
> 0.0016 <= 0.0018 , 0.0017 , 0.11, 2
> 0.0018 <= 0.002 , 0.0019 , 0.14, 1
> 0.002 <= 0.0025 , 0.00225 , 0.54, 18
> 0.0025 <= 0.003 , 0.00275 , 0.75, 9
> 0.0035 <= 0.004 , 0.00375 , 0.82, 3
> 0.004 <= 0.0045 , 0.00425 , 0.86, 2
> 0.0045 <= 0.005 , 0.00475 , 0.93, 3
> 0.005 <= 0.006 , 0.0055 , 1.04, 5
> 0.006 <= 0.007 , 0.0065 , 1.07, 1
> 0.008 <= 0.009 , 0.0085 , 1.09, 1
> 0.09 <= 0.1 , 0.095 , 4.15, 135
> 0.1 <= 0.2 , 0.15 , 37.19, 1458
> 0.2 <= 0.3 , 0.25 , 92.66, 2448
> 0.3 <= 0.4 , 0.35 , 98.26, 247
> 0.4 <= 0.5 , 0.45 , 98.93, 30
> 0.5 <= 0.696227 , 0.598114 , 100.00, 47
# target 50% 0.2231
# target 75% 0.268168
# target 90% 0.295208
# target 99% 0.511982
# target 99.9% 0.677803
Ping SERVING : 4413
All done 4413 calls (plus 32 warmup) 217.591 ms avg, 146.6 qps
Successfully wrote 3215 bytes of Json data to /data/2018-12-14-064139_grpc_istio_0qps_30s_echo_0_3.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-baseline:8080/echo
06:42:09 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
06:42:09 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:42:39 I periodic.go:533> T029 ended after 30.04619891s : 8086 calls. qps=269.11890000531184
06:42:39 I periodic.go:533> T028 ended after 30.046352474s : 7998 calls. qps=266.1887164813402
06:42:39 I periodic.go:533> T005 ended after 30.046373588s : 7977 calls. qps=265.4896098072173
06:42:39 I periodic.go:533> T030 ended after 30.046436658s : 7907 calls. qps=263.1593253469784
06:42:39 I periodic.go:533> T031 ended after 30.046450435s : 8124 calls. qps=270.38135561386156
06:42:39 I periodic.go:533> T014 ended after 30.046462671s : 7981 calls. qps=265.6219498244975
06:42:39 I periodic.go:533> T023 ended after 30.046493129s : 7952 calls. qps=264.65650969180695
06:42:39 I periodic.go:533> T009 ended after 30.046505079s : 7947 calls. qps=264.48999572846463
06:42:39 I periodic.go:533> T019 ended after 30.046517145s : 8058 calls. qps=268.18416128276357
06:42:39 I periodic.go:533> T016 ended after 30.046529778s : 8010 calls. qps=266.58652627049474
06:42:39 I periodic.go:533> T013 ended after 30.046541538s : 8047 calls. qps=267.8178448532229
06:42:39 I periodic.go:533> T006 ended after 30.046552042s : 7986 calls. qps=265.78756819873786
06:42:39 I periodic.go:533> T018 ended after 30.046588648s : 7976 calls. qps=265.4544279032791
06:42:39 I periodic.go:533> T000 ended after 30.046603343s : 8096 calls. qps=269.44809393525463
06:42:39 I periodic.go:533> T002 ended after 30.046738528s : 8102 calls. qps=269.6465705404231
06:42:39 I periodic.go:533> T021 ended after 30.046759076s : 8003 calls. qps=266.3515216319099
06:42:39 I periodic.go:533> T015 ended after 30.046777719s : 8018 calls. qps=266.85057795498113
06:42:39 I periodic.go:533> T001 ended after 30.046809402s : 8020 calls. qps=266.9168593809553
06:42:39 I periodic.go:533> T008 ended after 30.046820782s : 7988 calls. qps=265.8517537664195
06:42:39 I periodic.go:533> T004 ended after 30.04683077s : 8166 calls. qps=271.7757510769912
06:42:39 I periodic.go:533> T027 ended after 30.046847204s : 7990 calls. qps=265.91808271106487
06:42:39 I periodic.go:533> T003 ended after 30.046858062s : 8013 calls. qps=266.6834576668757
06:42:39 I periodic.go:533> T012 ended after 30.046870631s : 8092 calls. qps=269.3125716610005
06:42:39 I periodic.go:533> T017 ended after 30.046898474s : 8068 calls. qps=268.513570776077
06:42:39 I periodic.go:533> T024 ended after 30.046908935s : 8081 calls. qps=268.946134109219
06:42:39 I periodic.go:533> T025 ended after 30.046918931s : 7877 calls. qps=262.15666298727035
06:42:39 I periodic.go:533> T007 ended after 30.04693224s : 7844 calls. qps=261.0582650283901
06:42:39 I periodic.go:533> T020 ended after 30.046942452s : 7982 calls. qps=265.6509897055665
06:42:39 I periodic.go:533> T026 ended after 30.046951653s : 7950 calls. qps=264.5859084745538
06:42:39 I periodic.go:533> T022 ended after 30.046975011s : 8077 calls. qps=268.81241779057837
06:42:39 I periodic.go:533> T011 ended after 30.047001437s : 8026 calls. qps=267.1148406215587
06:42:39 I periodic.go:533> T010 ended after 30.047012408s : 8025 calls. qps=267.08146191144607
Ended after 30.047028476s : 256467 calls. qps=8535.5
Aggregated Function Time : count 256467 avg 0.0037481519 +/- 0.0141 min 7.2283e-05 max 0.080297122 sum 961.277269
# range, mid point, percentile, count
>= 7.2283e-05 <= 0.0001 , 8.61415e-05 , 0.57, 1474
> 0.0001 <= 0.0002 , 0.00015 , 5.00, 11354
> 0.0002 <= 0.0003 , 0.00025 , 10.36, 13751
> 0.0003 <= 0.0004 , 0.00035 , 16.09, 14682
> 0.0004 <= 0.0005 , 0.00045 , 22.21, 15695
> 0.0005 <= 0.0006 , 0.00055 , 28.54, 16230
> 0.0006 <= 0.0007 , 0.00065 , 34.72, 15860
> 0.0007 <= 0.0008 , 0.00075 , 40.88, 15799
> 0.0008 <= 0.0009 , 0.00085 , 46.97, 15614
> 0.0009 <= 0.001 , 0.00095 , 53.28, 16174
> 0.001 <= 0.0011 , 0.00105 , 59.43, 15789
> 0.0011 <= 0.0012 , 0.00115 , 65.39, 15282
> 0.0012 <= 0.0014 , 0.0013 , 76.78, 29215
> 0.0014 <= 0.0016 , 0.0015 , 86.66, 25329
> 0.0016 <= 0.0018 , 0.0017 , 90.93, 10970
> 0.0018 <= 0.002 , 0.0019 , 92.60, 4267
> 0.002 <= 0.0025 , 0.00225 , 94.68, 5337
> 0.0025 <= 0.003 , 0.00275 , 95.39, 1818
> 0.003 <= 0.0035 , 0.00325 , 95.61, 572
> 0.0035 <= 0.004 , 0.00375 , 95.78, 430
> 0.004 <= 0.0045 , 0.00425 , 95.92, 367
> 0.0045 <= 0.005 , 0.00475 , 96.05, 317
> 0.005 <= 0.006 , 0.0055 , 96.23, 470
> 0.006 <= 0.007 , 0.0065 , 96.24, 39
> 0.02 <= 0.025 , 0.0225 , 96.26, 32
> 0.05 <= 0.06 , 0.055 , 96.29, 96
> 0.06 <= 0.07 , 0.065 , 96.48, 474
> 0.07 <= 0.08 , 0.075 , 99.99, 9000
> 0.08 <= 0.0802971 , 0.0801486 , 100.00, 30
# target 50% 0.000948068
# target 75% 0.00136872
# target 90% 0.00175629
# target 99% 0.0771837
# target 99.9% 0.0797484
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 256467 (100.0 %)
Response Header Sizes : count 256467 avg 75 +/- 0 min 75 max 75 sum 19235025
Response Body/Total Sizes : count 256467 avg 75 +/- 0 min 75 max 75 sum 19235025
All done 256467 calls (plus 32 warmup) 3.748 ms avg, 8535.5 qps
Successfully wrote 5429 bytes of Json data to /data/2018-12-14-064209_http_baseline_0qps_30s_echo_1_3.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-linkerd:8080/echo
06:42:39 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 32 threads at -1.0 qps
06:42:39 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:43:09 I periodic.go:533> T029 ended after 30.068718148s : 502 calls. qps=16.695091474439533
06:43:09 I periodic.go:533> T007 ended after 30.06886377s : 475 calls. qps=15.797071802690201
06:43:09 I periodic.go:533> T019 ended after 30.068879686s : 475 calls. qps=15.79706344101536
06:43:09 I periodic.go:533> T011 ended after 30.068893425s : 476 calls. qps=15.830313183532128
06:43:09 I periodic.go:533> T031 ended after 30.068938006s : 526 calls. qps=17.49313527119053
06:43:09 I periodic.go:533> T014 ended after 30.068950303s : 471 calls. qps=15.663998751330139
06:43:09 I periodic.go:533> T002 ended after 30.069021316s : 491 calls. qps=16.329098138579404
06:43:09 I periodic.go:533> T004 ended after 30.069034566s : 496 calls. qps=16.49537496494293
06:43:09 I periodic.go:533> T013 ended after 30.069046588s : 491 calls. qps=16.32908441453375
06:43:09 I periodic.go:533> T000 ended after 30.069057977s : 485 calls. qps=16.12953755887462
06:43:09 I periodic.go:533> T022 ended after 30.069068259s : 497 calls. qps=16.528613248641065
06:43:09 I periodic.go:533> T010 ended after 30.06907828s : 501 calls. qps=16.66163476428317
06:43:09 I periodic.go:533> T024 ended after 30.069107326s : 511 calls. qps=16.994185908477274
06:43:09 I periodic.go:533> T020 ended after 30.069119669s : 491 calls. qps=16.32904472777766
06:43:09 I periodic.go:533> T026 ended after 30.069130647s : 485 calls. qps=16.129498577584865
06:43:09 I periodic.go:533> T025 ended after 30.069141007s : 487 calls. qps=16.19600639361889
06:43:09 I periodic.go:533> T008 ended after 30.069151123s : 472 calls. qps=15.69715081311243
06:43:09 I periodic.go:533> T018 ended after 30.069162239s : 474 calls. qps=15.76365833648725
06:43:09 I periodic.go:533> T027 ended after 30.06918778s : 487 calls. qps=16.195981200527125
06:43:09 I periodic.go:533> T015 ended after 30.069315541s : 492 calls. qps=16.36219485372555
06:43:09 I periodic.go:533> T005 ended after 30.069328483s : 503 calls. qps=16.728009083554234
06:43:09 I periodic.go:533> T009 ended after 30.069338634s : 514 calls. qps=17.09382458511442
06:43:09 I periodic.go:533> T003 ended after 30.069348103s : 494 calls. qps=16.428690050341128
06:43:09 I periodic.go:533> T021 ended after 30.069357949s : 479 calls. qps=15.929837970349142
06:43:09 I periodic.go:533> T017 ended after 30.069368207s : 464 calls. qps=15.430986005618273
06:43:09 I periodic.go:533> T006 ended after 30.069377743s : 494 calls. qps=16.428673856245684
06:43:09 I periodic.go:533> T001 ended after 30.069402952s : 486 calls. qps=16.162608907659564
06:43:09 I periodic.go:533> T030 ended after 30.069413179s : 499 calls. qps=16.594936423584535
06:43:09 I periodic.go:533> T023 ended after 30.069423147s : 475 calls. qps=15.796777932116411
06:43:09 I periodic.go:533> T012 ended after 30.069433704s : 480 calls. qps=15.96305420065652
06:43:09 I periodic.go:533> T016 ended after 30.06944338s : 485 calls. qps=16.12933082501243
06:43:09 I periodic.go:533> T028 ended after 30.069456646s : 480 calls. qps=15.963042021374608
Ended after 30.069497247s : 15638 calls. qps=520.06
Aggregated Function Time : count 15638 avg 0.061521595 +/- 0.05122 min 0.000380943 max 0.196638584 sum 962.074706
# range, mid point, percentile, count
>= 0.000380943 <= 0.0004 , 0.000390472 , 0.03, 5
> 0.0004 <= 0.0005 , 0.00045 , 1.13, 172
> 0.0005 <= 0.0006 , 0.00055 , 2.67, 241
> 0.0006 <= 0.0007 , 0.00065 , 3.48, 126
> 0.0007 <= 0.0008 , 0.00075 , 3.83, 55
> 0.0008 <= 0.0009 , 0.00085 , 4.00, 26
> 0.0009 <= 0.001 , 0.00095 , 4.09, 15
> 0.001 <= 0.0011 , 0.00105 , 4.16, 11
> 0.0011 <= 0.0012 , 0.00115 , 4.28, 19
> 0.0012 <= 0.0014 , 0.0013 , 4.44, 25
> 0.0014 <= 0.0016 , 0.0015 , 4.99, 85
> 0.0016 <= 0.0018 , 0.0017 , 6.63, 257
> 0.0018 <= 0.002 , 0.0019 , 8.66, 318
> 0.002 <= 0.0025 , 0.00225 , 13.19, 708
> 0.0025 <= 0.003 , 0.00275 , 17.58, 686
> 0.003 <= 0.0035 , 0.00325 , 22.53, 774
> 0.0035 <= 0.004 , 0.00375 , 27.58, 790
> 0.004 <= 0.0045 , 0.00425 , 33.00, 848
> 0.0045 <= 0.005 , 0.00475 , 36.33, 520
> 0.005 <= 0.006 , 0.0055 , 40.11, 591
> 0.006 <= 0.007 , 0.0065 , 40.77, 103
> 0.007 <= 0.008 , 0.0075 , 41.00, 37
> 0.008 <= 0.009 , 0.0085 , 41.11, 17
> 0.009 <= 0.01 , 0.0095 , 41.14, 5
> 0.01 <= 0.012 , 0.011 , 41.18, 6
> 0.06 <= 0.07 , 0.065 , 41.26, 12
> 0.07 <= 0.08 , 0.075 , 41.28, 3
> 0.09 <= 0.1 , 0.095 , 87.03, 7155
> 0.1 <= 0.196639 , 0.148319 , 100.00, 2028
# target 50% 0.0919064
# target 75% 0.0973704
# target 90% 0.12212
# target 99% 0.189187
# target 99.9% 0.195893
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 15638 (100.0 %)
Response Header Sizes : count 15638 avg 75 +/- 0 min 75 max 75 sum 1172850
Response Body/Total Sizes : count 15638 avg 75 +/- 0 min 75 max 75 sum 1172850
All done 15638 calls (plus 32 warmup) 61.522 ms avg, 520.1 qps
Successfully wrote 5379 bytes of Json data to /data/2018-12-14-064239_http_linkerd_0qps_30s_echo_1_3.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-istio:8080/echo
06:43:09 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 32 threads at -1.0 qps
06:43:09 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:43:40 I periodic.go:533> T031 ended after 30.000505174s : 176 calls. qps=5.866567878747947
06:43:40 I periodic.go:533> T006 ended after 30.000596901s : 166 calls. qps=5.533223240450485
06:43:40 I periodic.go:533> T021 ended after 30.000805677s : 168 calls. qps=5.599849610998832
06:43:40 I periodic.go:533> T030 ended after 30.096575455s : 164 calls. qps=5.449124942643745
06:43:40 I periodic.go:533> T016 ended after 30.100283313s : 164 calls. qps=5.448453700406538
06:43:40 I periodic.go:533> T026 ended after 30.100334014s : 169 calls. qps=5.614555636538658
06:43:40 I periodic.go:533> T015 ended after 30.100385869s : 164 calls. qps=5.448435136803395
06:43:40 I periodic.go:533> T029 ended after 30.100398866s : 173 calls. qps=5.7474321443432
06:43:40 I periodic.go:533> T013 ended after 30.100413755s : 166 calls. qps=5.514874358576736
06:43:40 I periodic.go:533> T012 ended after 30.100436508s : 168 calls. qps=5.5813144090235856
06:43:40 I periodic.go:533> T014 ended after 30.100448285s : 163 calls. qps=5.415201742401559
06:43:40 I periodic.go:533> T028 ended after 30.100458854s : 164 calls. qps=5.448421925907163
06:43:40 I periodic.go:533> T022 ended after 30.100470662s : 168 calls. qps=5.581308076092302
06:43:40 I periodic.go:533> T017 ended after 30.100481503s : 176 calls. qps=5.847082545256253
06:43:40 I periodic.go:533> T005 ended after 30.100492049s : 170 calls. qps=5.6477482070147005
06:43:40 I periodic.go:533> T009 ended after 30.100503539s : 169 calls. qps=5.614524015554542
06:43:40 I periodic.go:533> T024 ended after 30.100529297s : 167 calls. qps=5.548075196692445
06:43:40 I periodic.go:533> T019 ended after 30.100539536s : 170 calls. qps=5.647739297054174
06:43:40 I periodic.go:533> T020 ended after 30.100550108s : 173 calls. qps=5.747403266029373
06:43:40 I periodic.go:533> T003 ended after 30.100560909s : 168 calls. qps=5.581291342307458
06:43:40 I periodic.go:533> T007 ended after 30.10057087s : 171 calls. qps=5.680955379169525
06:43:40 I periodic.go:533> T001 ended after 30.100582594s : 169 calls. qps=5.614509269786926
06:43:40 I periodic.go:533> T025 ended after 30.100609079s : 161 calls. qps=5.3487289767941375
06:43:40 I periodic.go:533> T002 ended after 30.100620684s : 163 calls. qps=5.41517072724825
06:43:40 I periodic.go:533> T004 ended after 30.100631356s : 170 calls. qps=5.647722068996193
06:43:40 I periodic.go:533> T027 ended after 30.100641668s : 159 calls. qps=5.282279419612271
06:43:40 I periodic.go:533> T010 ended after 30.100651523s : 174 calls. qps=5.780605774165588
06:43:40 I periodic.go:533> T000 ended after 30.100662194s : 171 calls. qps=5.680938143416846
06:43:40 I periodic.go:533> T023 ended after 30.100687748s : 168 calls. qps=5.581267823728132
06:43:40 I periodic.go:533> T018 ended after 30.100697692s : 170 calls. qps=5.647709622530832
06:43:40 I periodic.go:533> T011 ended after 30.100708866s : 166 calls. qps=5.514820290079743
06:43:40 I periodic.go:533> T008 ended after 30.10072081s : 171 calls. qps=5.680927080762489
Ended after 30.100738769s : 5379 calls. qps=178.7
Aggregated Function Time : count 5379 avg 0.17898877 +/- 0.07516 min 0.000666034 max 0.598077304 sum 962.780574
# range, mid point, percentile, count
>= 0.000666034 <= 0.0007 , 0.000683017 , 0.02, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.04, 1
> 0.0008 <= 0.0009 , 0.00085 , 0.06, 1
> 0.0009 <= 0.001 , 0.00095 , 0.09, 2
> 0.001 <= 0.0011 , 0.00105 , 0.11, 1
> 0.0011 <= 0.0012 , 0.00115 , 0.22, 6
> 0.0012 <= 0.0014 , 0.0013 , 0.39, 9
> 0.0014 <= 0.0016 , 0.0015 , 0.71, 17
> 0.0016 <= 0.0018 , 0.0017 , 0.80, 5
> 0.0018 <= 0.002 , 0.0019 , 0.86, 3
> 0.002 <= 0.0025 , 0.00225 , 1.00, 8
> 0.0025 <= 0.003 , 0.00275 , 1.08, 4
> 0.003 <= 0.0035 , 0.00325 , 1.13, 3
> 0.0035 <= 0.004 , 0.00375 , 1.32, 10
> 0.004 <= 0.0045 , 0.00425 , 1.56, 13
> 0.0045 <= 0.005 , 0.00475 , 1.62, 3
> 0.005 <= 0.006 , 0.0055 , 1.69, 4
> 0.09 <= 0.1 , 0.095 , 11.77, 542
> 0.1 <= 0.2 , 0.15 , 63.13, 2763
> 0.2 <= 0.3 , 0.25 , 96.97, 1820
> 0.3 <= 0.4 , 0.35 , 99.46, 134
> 0.4 <= 0.5 , 0.45 , 99.93, 25
> 0.5 <= 0.598077 , 0.549039 , 100.00, 4
# target 50% 0.17443
# target 75% 0.235069
# target 90% 0.279401
# target 99% 0.3815
# target 99.9% 0.494484
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 5379 (100.0 %)
Response Header Sizes : count 5379 avg 210.16025 +/- 0.6337 min 209 max 211 sum 1130452
Response Body/Total Sizes : count 5379 avg 210.16025 +/- 0.6337 min 209 max 211 sum 1130452
All done 5379 calls (plus 32 warmup) 178.989 ms avg, 178.7 qps
Successfully wrote 4616 bytes of Json data to /data/2018-12-14-064310_http_istio_0qps_30s_echo_1_3.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-baseline:8079
06:43:40 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:44:10 I periodic.go:533> T010 ended after 30.035650784s : 5231 calls. qps=174.1597023356842
06:44:10 I periodic.go:533> T019 ended after 30.036832889s : 5219 calls. qps=173.75333875201227
06:44:10 I periodic.go:533> T021 ended after 30.036914583s : 5238 calls. qps=174.385421163216
06:44:10 I periodic.go:533> T020 ended after 30.036960369s : 5242 calls. qps=174.5183246108374
06:44:10 I periodic.go:533> T026 ended after 30.036990108s : 5202 calls. qps=173.18646047076828
06:44:10 I periodic.go:533> T017 ended after 30.037037251s : 5221 calls. qps=173.81874105530102
06:44:10 I periodic.go:533> T004 ended after 30.037065882s : 5217 calls. qps=173.6854065738271
06:44:10 I periodic.go:533> T007 ended after 30.037108511s : 5232 calls. qps=174.18454236645215
06:44:10 I periodic.go:533> T008 ended after 30.037136466s : 5234 calls. qps=174.25096449938005
06:44:10 I periodic.go:533> T025 ended after 30.037163693s : 5215 calls. qps=173.61825681348628
06:44:10 I periodic.go:533> T023 ended after 30.037211388s : 5220 calls. qps=173.7844413241841
06:44:10 I periodic.go:533> T030 ended after 30.037241936s : 5250 calls. qps=174.78302472597562
06:44:10 I periodic.go:533> T011 ended after 30.037460363s : 5225 calls. qps=173.94945966990372
06:44:10 I periodic.go:533> T009 ended after 30.037512473s : 5192 calls. qps=172.8505316366315
06:44:10 I periodic.go:533> T024 ended after 30.037610099s : 5225 calls. qps=173.94859254045477
06:44:10 I periodic.go:533> T029 ended after 30.037817405s : 5241 calls. qps=174.480053904569
06:44:10 I periodic.go:533> T014 ended after 30.037861815s : 5222 calls. qps=173.84726090564448
06:44:10 I periodic.go:533> T001 ended after 30.037901547s : 5202 calls. qps=173.18120548003273
06:44:10 I periodic.go:533> T028 ended after 30.037927908s : 5228 calls. qps=174.04662585289802
06:44:10 I periodic.go:533> T006 ended after 30.037953949s : 5209 calls. qps=173.41394186981282
06:44:10 I periodic.go:533> T018 ended after 30.037994972s : 5221 calls. qps=173.81319907892552
06:44:10 I periodic.go:533> T031 ended after 30.038021717s : 5235 calls. qps=174.2791202869813
06:44:10 I periodic.go:533> T013 ended after 30.038063551s : 5214 calls. qps=173.57976459259538
06:44:10 I periodic.go:533> T000 ended after 30.038094041s : 5220 calls. qps=173.77933476321923
06:44:10 I periodic.go:533> T022 ended after 30.038134901s : 5208 calls. qps=173.37960619607645
06:44:10 I periodic.go:533> T003 ended after 30.038162088s : 5259 calls. qps=175.07728950237365
06:44:10 I periodic.go:533> T012 ended after 30.038190797s : 5213 calls. qps=173.54573833123922
06:44:10 I periodic.go:533> T015 ended after 30.038231202s : 5245 calls. qps=174.6108139566746
06:44:10 I periodic.go:533> T016 ended after 30.038257876s : 5253 calls. qps=174.8769859318988
06:44:10 I periodic.go:533> T027 ended after 30.038349824s : 5231 calls. qps=174.14405353987
06:44:10 I periodic.go:533> T005 ended after 30.038386282s : 5224 calls. qps=173.9108070239577
06:44:10 I periodic.go:533> T002 ended after 30.040170655s : 5220 calls. qps=173.7673217622405
Ended after 30.040225059s : 167208 calls. qps=5566.1
Aggregated Function Time : count 167208 avg 0.0057474268 +/- 0.0157 min 0.000390126 max 0.077841579 sum 961.015735
# range, mid point, percentile, count
>= 0.000390126 <= 0.0004 , 0.000395063 , 0.00, 2
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 16
> 0.0005 <= 0.0006 , 0.00055 , 0.18, 289
> 0.0006 <= 0.0007 , 0.00065 , 0.65, 784
> 0.0007 <= 0.0008 , 0.00075 , 1.58, 1546
> 0.0008 <= 0.0009 , 0.00085 , 2.70, 1871
> 0.0009 <= 0.001 , 0.00095 , 4.15, 2425
> 0.001 <= 0.0011 , 0.00105 , 6.93, 4657
> 0.0011 <= 0.0012 , 0.00115 , 12.39, 9120
> 0.0012 <= 0.0014 , 0.0013 , 28.09, 26263
> 0.0014 <= 0.0016 , 0.0015 , 48.68, 34428
> 0.0016 <= 0.0018 , 0.0017 , 61.82, 21970
> 0.0018 <= 0.002 , 0.0019 , 70.15, 13921
> 0.002 <= 0.0025 , 0.00225 , 79.29, 15279
> 0.0025 <= 0.003 , 0.00275 , 83.65, 7294
> 0.003 <= 0.0035 , 0.00325 , 86.89, 5419
> 0.0035 <= 0.004 , 0.00375 , 89.68, 4670
> 0.004 <= 0.0045 , 0.00425 , 91.61, 3222
> 0.0045 <= 0.005 , 0.00475 , 92.69, 1817
> 0.005 <= 0.006 , 0.0055 , 93.54, 1409
> 0.006 <= 0.007 , 0.0065 , 93.84, 503
> 0.007 <= 0.008 , 0.0075 , 94.05, 352
> 0.008 <= 0.009 , 0.0085 , 94.13, 142
> 0.009 <= 0.01 , 0.0095 , 94.17, 66
> 0.01 <= 0.012 , 0.011 , 94.22, 83
> 0.012 <= 0.014 , 0.013 , 94.25, 40
> 0.016 <= 0.018 , 0.017 , 94.26, 20
> 0.04 <= 0.045 , 0.0425 , 94.32, 104
> 0.045 <= 0.05 , 0.0475 , 94.36, 59
> 0.05 <= 0.06 , 0.055 , 94.71, 594
> 0.06 <= 0.07 , 0.065 , 96.77, 3436
> 0.07 <= 0.0778416 , 0.0739208 , 100.00, 5407
# target 50% 0.00162005
# target 75% 0.00226553
# target 90% 0.00408274
# target 99% 0.0754166
# target 99.9% 0.0775991
Ping SERVING : 167208
All done 167208 calls (plus 32 warmup) 5.747 ms avg, 5566.1 qps
Successfully wrote 5299 bytes of Json data to /data/2018-12-14-064340_grpc_baseline_0qps_30s_echo_1_3.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-linkerd:8079
06:44:10 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:44:40 I periodic.go:533> T027 ended after 30.094672261s : 365 calls. qps=12.128392588378752
06:44:40 I periodic.go:533> T003 ended after 30.094874169s : 371 calls. qps=12.327680717873148
06:44:40 I periodic.go:533> T024 ended after 30.095421626s : 376 calls. qps=12.493594695984141
06:44:40 I periodic.go:533> T015 ended after 30.095463042s : 366 calls. qps=12.161301505453673
06:44:40 I periodic.go:533> T005 ended after 30.095480719s : 375 calls. qps=12.460342584368606
06:44:40 I periodic.go:533> T000 ended after 30.095506593s : 379 calls. qps=12.593242078475352
06:44:40 I periodic.go:533> T013 ended after 30.095519642s : 364 calls. qps=12.094823559451601
06:44:40 I periodic.go:533> T029 ended after 30.095547474s : 366 calls. qps=12.161267387350005
06:44:40 I periodic.go:533> T011 ended after 30.095560677s : 365 calls. qps=12.12803456022485
06:44:40 I periodic.go:533> T010 ended after 30.095572716s : 380 calls. qps=12.626441888509964
06:44:40 I periodic.go:533> T012 ended after 30.095583497s : 372 calls. qps=12.360617631390395
06:44:40 I periodic.go:533> T030 ended after 30.098161617s : 368 calls. qps=12.226660374902991
06:44:40 I periodic.go:533> T017 ended after 30.098215751s : 380 calls. qps=12.625333114218728
06:44:40 I periodic.go:533> T023 ended after 30.098744757s : 364 calls. qps=12.093527585244077
06:44:40 I periodic.go:533> T008 ended after 30.098762113s : 364 calls. qps=12.093520611692673
06:44:40 I periodic.go:533> T006 ended after 30.098790135s : 383 calls. qps=12.724763961679418
06:44:40 I periodic.go:533> T026 ended after 30.098801719s : 388 calls. qps=12.890878634383418
06:44:40 I periodic.go:533> T009 ended after 30.098813204s : 373 calls. qps=12.392515195596813
06:44:40 I periodic.go:533> T007 ended after 30.098826678s : 369 calls. qps=12.259614102157395
06:44:40 I periodic.go:533> T018 ended after 30.098838645s : 357 calls. qps=11.86092274890163
06:44:40 I periodic.go:533> T001 ended after 30.098892527s : 371 calls. qps=12.326034908666392
06:44:40 I periodic.go:533> T016 ended after 30.09891869s : 365 calls. qps=12.126681485114839
06:44:40 I periodic.go:533> T031 ended after 30.098931369s : 361 calls. qps=11.99378129323911
06:44:40 I periodic.go:533> T021 ended after 30.098943648s : 375 calls. qps=12.458909003104427
06:44:40 I periodic.go:533> T014 ended after 30.09896981s : 363 calls. qps=12.060213432268299
06:44:40 I periodic.go:533> T025 ended after 30.09898315s : 363 calls. qps=12.060208087129348
06:44:40 I periodic.go:533> T019 ended after 30.098994898s : 369 calls. qps=12.259545584511166
06:44:40 I periodic.go:533> T020 ended after 30.099006599s : 386 calls. qps=12.824343512148483
06:44:40 I periodic.go:533> T022 ended after 30.099018139s : 383 calls. qps=12.724667569927735
06:44:40 I periodic.go:533> T004 ended after 30.099030689s : 364 calls. qps=12.093412700264382
06:44:40 I periodic.go:533> T028 ended after 30.099054516s : 377 calls. qps=12.525310381413975
06:44:40 I periodic.go:533> T002 ended after 30.099065968s : 380 calls. qps=12.624976482791832
Ended after 30.099082811s : 11882 calls. qps=394.76
Aggregated Function Time : count 11882 avg 0.081045718 +/- 0.03857 min 0.000968469 max 0.198209813 sum 962.985227
# range, mid point, percentile, count
>= 0.000968469 <= 0.001 , 0.000984235 , 0.02, 2
> 0.001 <= 0.0011 , 0.00105 , 0.04, 3
> 0.0011 <= 0.0012 , 0.00115 , 0.05, 1
> 0.0012 <= 0.0014 , 0.0013 , 0.06, 1
> 0.0014 <= 0.0016 , 0.0015 , 0.08, 3
> 0.0016 <= 0.0018 , 0.0017 , 0.15, 8
> 0.0018 <= 0.002 , 0.0019 , 0.78, 75
> 0.002 <= 0.0025 , 0.00225 , 4.36, 425
> 0.0025 <= 0.003 , 0.00275 , 5.77, 167
> 0.003 <= 0.0035 , 0.00325 , 7.06, 154
> 0.0035 <= 0.004 , 0.00375 , 9.40, 278
> 0.004 <= 0.0045 , 0.00425 , 13.14, 444
> 0.0045 <= 0.005 , 0.00475 , 15.84, 321
> 0.005 <= 0.006 , 0.0055 , 18.52, 318
> 0.006 <= 0.007 , 0.0065 , 18.87, 42
> 0.007 <= 0.008 , 0.0075 , 19.16, 35
> 0.008 <= 0.009 , 0.0085 , 19.36, 23
> 0.01 <= 0.012 , 0.011 , 19.37, 1
> 0.012 <= 0.014 , 0.013 , 19.45, 10
> 0.014 <= 0.016 , 0.015 , 19.46, 1
> 0.08 <= 0.09 , 0.085 , 19.87, 49
> 0.09 <= 0.1 , 0.095 , 78.33, 6946
> 0.1 <= 0.19821 , 0.149105 , 100.00, 2575
# target 50% 0.095154
# target 75% 0.0994306
# target 90% 0.152892
# target 99% 0.193678
# target 99.9% 0.197757
Ping SERVING : 11882
All done 11882 calls (plus 32 warmup) 81.046 ms avg, 394.8 qps
Successfully wrote 4026 bytes of Json data to /data/2018-12-14-064410_grpc_linkerd_0qps_30s_echo_1_3.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-istio:8079
06:44:40 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:45:11 I periodic.go:533> T028 ended after 30.00015838s : 139 calls. qps=4.633308872551359
06:45:11 I periodic.go:533> T010 ended after 30.000518321s : 145 calls. qps=4.833249827503872
06:45:11 I periodic.go:533> T029 ended after 30.00362081s : 144 calls. qps=4.799420740312976
06:45:11 I periodic.go:533> T026 ended after 30.00366566s : 143 calls. qps=4.766084305180196
06:45:11 I periodic.go:533> T016 ended after 30.003679912s : 150 calls. qps=4.9993867565560635
06:45:11 I periodic.go:533> T008 ended after 30.003693372s : 144 calls. qps=4.799409133223027
06:45:11 I periodic.go:533> T003 ended after 30.003706078s : 143 calls. qps=4.76607788478683
06:45:11 I periodic.go:533> T009 ended after 30.003717934s : 145 calls. qps=4.832734407081165
06:45:11 I periodic.go:533> T025 ended after 30.003729939s : 147 calls. qps=4.899390852366118
06:45:11 I periodic.go:533> T004 ended after 30.003760698s : 144 calls. qps=4.799398363739076
06:45:11 I periodic.go:533> T015 ended after 30.003773025s : 143 calls. qps=4.766067250303764
06:45:11 I periodic.go:533> T000 ended after 30.003785936s : 142 calls. qps=4.732736072137533
06:45:11 I periodic.go:533> T018 ended after 30.003797823s : 145 calls. qps=4.8327215392995155
06:45:11 I periodic.go:533> T001 ended after 30.00380935s : 145 calls. qps=4.832719682642564
06:45:11 I periodic.go:533> T027 ended after 30.003834411s : 140 calls. qps=4.666070278959853
06:45:11 I periodic.go:533> T023 ended after 30.003846944s : 143 calls. qps=4.766055508378613
06:45:11 I periodic.go:533> T024 ended after 30.003858599s : 149 calls. qps=4.966027936319032
06:45:11 I periodic.go:533> T017 ended after 30.095242297s : 147 calls. qps=4.884492988935114
06:45:11 I periodic.go:533> T022 ended after 30.096892343s : 147 calls. qps=4.884225199223586
06:45:11 I periodic.go:533> T013 ended after 30.098627021s : 147 calls. qps=4.883943706051348
06:45:11 I periodic.go:533> T006 ended after 30.099013667s : 142 calls. qps=4.71776256760487
06:45:11 I periodic.go:533> T012 ended after 30.099043017s : 147 calls. qps=4.883876205531655
06:45:11 I periodic.go:533> T030 ended after 30.099068583s : 145 calls. qps=4.817424818318006
06:45:11 I periodic.go:533> T031 ended after 30.099082082s : 147 calls. qps=4.8838698668458616
06:45:11 I periodic.go:533> T020 ended after 30.099111472s : 146 calls. qps=4.850641525940657
06:45:11 I periodic.go:533> T021 ended after 30.09912333s : 140 calls. qps=4.651298260918485
06:45:11 I periodic.go:533> T011 ended after 30.099135502s : 146 calls. qps=4.850637653373757
06:45:11 I periodic.go:533> T002 ended after 30.099152738s : 140 calls. qps=4.651293716425806
06:45:11 I periodic.go:533> T014 ended after 30.099164214s : 148 calls. qps=4.917080054042194
06:45:11 I periodic.go:533> T007 ended after 30.099175186s : 144 calls. qps=4.7841842545565365
06:45:11 I periodic.go:533> T019 ended after 30.099186496s : 141 calls. qps=4.684511989011332
06:45:11 I periodic.go:533> T005 ended after 30.099198305s : 142 calls. qps=4.717733627357488
Ended after 30.099214084s : 4620 calls. qps=153.49
Aggregated Function Time : count 4620 avg 0.20811667 +/- 0.07254 min 0.001336078 max 0.597090742 sum 961.499005
# range, mid point, percentile, count
>= 0.00133608 <= 0.0014 , 0.00136804 , 0.06, 3
> 0.0014 <= 0.0016 , 0.0015 , 0.11, 2
> 0.0016 <= 0.0018 , 0.0017 , 0.15, 2
> 0.0018 <= 0.002 , 0.0019 , 0.19, 2
> 0.002 <= 0.0025 , 0.00225 , 0.71, 24
> 0.0025 <= 0.003 , 0.00275 , 1.10, 18
> 0.003 <= 0.0035 , 0.00325 , 1.23, 6
> 0.0035 <= 0.004 , 0.00375 , 1.30, 3
> 0.004 <= 0.0045 , 0.00425 , 1.34, 2
> 0.0045 <= 0.005 , 0.00475 , 1.56, 10
> 0.005 <= 0.006 , 0.0055 , 1.82, 12
> 0.006 <= 0.007 , 0.0065 , 1.86, 2
> 0.09 <= 0.1 , 0.095 , 4.09, 103
> 0.1 <= 0.2 , 0.15 , 44.16, 1851
> 0.2 <= 0.3 , 0.25 , 95.58, 2376
> 0.3 <= 0.4 , 0.35 , 98.64, 141
> 0.4 <= 0.5 , 0.45 , 99.35, 33
> 0.5 <= 0.597091 , 0.548545 , 100.00, 30
# target 50% 0.211364
# target 75% 0.259975
# target 90% 0.289141
# target 99% 0.450909
# target 99.9% 0.582139
Ping SERVING : 4620
All done 4620 calls (plus 32 warmup) 208.117 ms avg, 153.5 qps
Successfully wrote 3329 bytes of Json data to /data/2018-12-14-064441_grpc_istio_0qps_30s_echo_1_3.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8080/echo
06:45:11 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
06:45:11 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:45:41 I periodic.go:533> T031 ended after 30.050877589s : 7901 calls. qps=262.92077416375116
06:45:41 I periodic.go:533> T017 ended after 30.051014886s : 7973 calls. qps=265.31549866937826
06:45:41 I periodic.go:533> T029 ended after 30.051047472s : 7995 calls. qps=266.0472985991362
06:45:41 I periodic.go:533> T019 ended after 30.051068533s : 7874 calls. qps=262.02063302186144
06:45:41 I periodic.go:533> T022 ended after 30.051100039s : 7991 calls. qps=265.9137266066588
06:45:41 I periodic.go:533> T013 ended after 30.051148937s : 7893 calls. qps=262.6521873272495
06:45:41 I periodic.go:533> T016 ended after 30.051161407s : 7830 calls. qps=260.55565353877176
06:45:41 I periodic.go:533> T000 ended after 30.051182748s : 7900 calls. qps=262.88482773696387
06:45:41 I periodic.go:533> T011 ended after 30.051245766s : 7867 calls. qps=261.78615226995777
06:45:41 I periodic.go:533> T010 ended after 30.051277967s : 7953 calls. qps=264.6476468898718
06:45:41 I periodic.go:533> T021 ended after 30.051296987s : 7824 calls. qps=260.35481940711617
06:45:41 I periodic.go:533> T015 ended after 30.051331945s : 7901 calls. qps=262.9167989778431
06:45:41 I periodic.go:533> T027 ended after 30.05134317s : 7881 calls. qps=262.251173114536
06:45:41 I periodic.go:533> T008 ended after 30.051364221s : 7936 calls. qps=264.08118918123176
06:45:41 I periodic.go:533> T003 ended after 30.051408155s : 8025 calls. qps=267.04239477259864
06:45:41 I periodic.go:533> T020 ended after 30.05142035s : 7969 calls. qps=265.1788137528082
06:45:41 I periodic.go:533> T001 ended after 30.051440792s : 7888 calls. qps=262.4832551156704
06:45:41 I periodic.go:533> T025 ended after 30.051458836s : 7873 calls. qps=261.98395368974826
06:45:41 I periodic.go:533> T026 ended after 30.051497657s : 7960 calls. qps=264.8786456786073
06:45:41 I periodic.go:533> T007 ended after 30.051509089s : 7896 calls. qps=262.7488681721557
06:45:41 I periodic.go:533> T002 ended after 30.051519069s : 7817 calls. qps=260.1199620575493
06:45:41 I periodic.go:533> T024 ended after 30.05152955s : 7876 calls. qps=262.0831657468829
06:45:41 I periodic.go:533> T005 ended after 30.051540091s : 7739 calls. qps=257.5242392424912
06:45:41 I periodic.go:533> T018 ended after 30.051587189s : 7861 calls. qps=261.58352138144033
06:45:41 I periodic.go:533> T004 ended after 30.051601052s : 7887 calls. qps=262.4485792405095
06:45:41 I periodic.go:533> T030 ended after 30.051611408s : 7830 calls. qps=260.5517519075728
06:45:41 I periodic.go:533> T012 ended after 30.051632067s : 7769 calls. qps=258.52173295210866
06:45:41 I periodic.go:533> T014 ended after 30.052100623s : 7841 calls. qps=260.91354139813404
06:45:41 I periodic.go:533> T023 ended after 30.052164493s : 7739 calls. qps=257.5188885912904
06:45:41 I periodic.go:533> T009 ended after 30.052176971s : 7809 calls. qps=259.84806383695906
06:45:41 I periodic.go:533> T006 ended after 30.052188717s : 7925 calls. qps=263.70791407671965
06:45:41 I periodic.go:533> T028 ended after 30.05220101s : 7803 calls. qps=259.64820338462124
Ended after 30.052242877s : 252226 calls. qps=8392.9
Aggregated Function Time : count 252226 avg 0.0038117712 +/- 0.01417 min 7.3291e-05 max 0.079998909 sum 961.427807
# range, mid point, percentile, count
>= 7.3291e-05 <= 0.0001 , 8.66455e-05 , 0.43, 1087
> 0.0001 <= 0.0002 , 0.00015 , 4.32, 9816
> 0.0002 <= 0.0003 , 0.00025 , 9.38, 12767
> 0.0003 <= 0.0004 , 0.00035 , 15.00, 14152
> 0.0004 <= 0.0005 , 0.00045 , 21.14, 15492
> 0.0005 <= 0.0006 , 0.00055 , 27.49, 16028
> 0.0006 <= 0.0007 , 0.00065 , 33.73, 15723
> 0.0007 <= 0.0008 , 0.00075 , 39.93, 15649
> 0.0008 <= 0.0009 , 0.00085 , 46.21, 15842
> 0.0009 <= 0.001 , 0.00095 , 52.54, 15970
> 0.001 <= 0.0011 , 0.00105 , 58.74, 15637
> 0.0011 <= 0.0012 , 0.00115 , 64.68, 14988
> 0.0012 <= 0.0014 , 0.0013 , 75.73, 27857
> 0.0014 <= 0.0016 , 0.0015 , 84.92, 23194
> 0.0016 <= 0.0018 , 0.0017 , 89.66, 11932
> 0.0018 <= 0.002 , 0.0019 , 91.84, 5519
> 0.002 <= 0.0025 , 0.00225 , 94.31, 6232
> 0.0025 <= 0.003 , 0.00275 , 95.19, 2203
> 0.003 <= 0.0035 , 0.00325 , 95.44, 634
> 0.0035 <= 0.004 , 0.00375 , 95.58, 365
> 0.004 <= 0.0045 , 0.00425 , 95.72, 350
> 0.0045 <= 0.005 , 0.00475 , 95.89, 433
> 0.005 <= 0.006 , 0.0055 , 96.13, 606
> 0.006 <= 0.007 , 0.0065 , 96.18, 107
> 0.007 <= 0.008 , 0.0075 , 96.18, 11
> 0.02 <= 0.025 , 0.0225 , 96.19, 10
> 0.025 <= 0.03 , 0.0275 , 96.19, 22
> 0.05 <= 0.06 , 0.055 , 96.26, 155
> 0.06 <= 0.07 , 0.065 , 96.40, 367
> 0.07 <= 0.0799989 , 0.0749995 , 100.00, 9078
# target 50% 0.000959843
# target 75% 0.0013868
# target 90% 0.00183151
# target 99% 0.0772208
# target 99.9% 0.0797211
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 252226 (100.0 %)
Response Header Sizes : count 252226 avg 75 +/- 0 min 75 max 75 sum 18916950
Response Body/Total Sizes : count 252226 avg 75 +/- 0 min 75 max 75 sum 18916950
All done 252226 calls (plus 32 warmup) 3.812 ms avg, 8392.9 qps
Successfully wrote 5586 bytes of Json data to /data/2018-12-14-064511_http_baseline_0qps_30s_echo_0_4.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-linkerd:8080/echo
06:45:41 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 32 threads at -1.0 qps
06:45:41 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:46:12 I periodic.go:533> T006 ended after 30.075410396s : 491 calls. qps=16.32562926108242
06:46:12 I periodic.go:533> T022 ended after 30.07555523s : 480 calls. qps=15.959805108475798
06:46:12 I periodic.go:533> T012 ended after 30.075571363s : 453 calls. qps=15.062057991599659
06:46:12 I periodic.go:533> T010 ended after 30.075615338s : 489 calls. qps=16.259018959527566
06:46:12 I periodic.go:533> T025 ended after 30.075630847s : 482 calls. qps=16.026264002641156
06:46:12 I periodic.go:533> T007 ended after 30.075641271s : 480 calls. qps=15.959759450344057
06:46:12 I periodic.go:533> T029 ended after 30.075654528s : 456 calls. qps=15.161764794693681
06:46:12 I periodic.go:533> T000 ended after 30.075667884s : 479 calls. qps=15.926495858628094
06:46:12 I periodic.go:533> T031 ended after 30.075697537s : 479 calls. qps=15.926480155970456
06:46:12 I periodic.go:533> T016 ended after 30.075710689s : 484 calls. qps=16.092720301935206
06:46:12 I periodic.go:533> T027 ended after 30.075723681s : 475 calls. qps=15.79346868052508
06:46:12 I periodic.go:533> T028 ended after 30.075734246s : 465 calls. qps=15.460969171911202
06:46:12 I periodic.go:533> T015 ended after 30.075744267s : 485 calls. qps=16.125951720242426
06:46:12 I periodic.go:533> T017 ended after 30.075754703s : 485 calls. qps=16.125946124691
06:46:12 I periodic.go:533> T020 ended after 30.075781776s : 499 calls. qps=16.591422418093025
06:46:12 I periodic.go:533> T005 ended after 30.075796026s : 492 calls. qps=16.35866926264145
06:46:12 I periodic.go:533> T011 ended after 30.075930863s : 472 calls. qps=15.693612349025036
06:46:12 I periodic.go:533> T013 ended after 30.075943854s : 503 calls. qps=16.724329664989142
06:46:12 I periodic.go:533> T018 ended after 30.075954477s : 492 calls. qps=16.358583079258462
06:46:12 I periodic.go:533> T023 ended after 30.075965881s : 477 calls. qps=15.85983977662832
06:46:12 I periodic.go:533> T021 ended after 30.075977567s : 505 calls. qps=16.790809172370732
06:46:12 I periodic.go:533> T004 ended after 30.075987703s : 469 calls. qps=15.59383534237908
06:46:12 I periodic.go:533> T014 ended after 30.076013454s : 493 calls. qps=16.3918000885996
06:46:12 I periodic.go:533> T030 ended after 30.076024937s : 506 calls. qps=16.824031801407067
06:46:12 I periodic.go:533> T026 ended after 30.076035381s : 484 calls. qps=16.092546569677143
06:46:12 I periodic.go:533> T001 ended after 30.076046008s : 491 calls. qps=16.32528424346065
06:46:12 I periodic.go:533> T009 ended after 30.076057978s : 478 calls. qps=15.893040249810891
06:46:12 I periodic.go:533> T019 ended after 30.076068353s : 490 calls. qps=16.29202308788888
06:46:12 I periodic.go:533> T003 ended after 30.076092167s : 489 calls. qps=16.258761187616624
06:46:12 I periodic.go:533> T002 ended after 30.076103308s : 460 calls. qps=15.294534510979808
06:46:12 I periodic.go:533> T024 ended after 30.076114895s : 464 calls. qps=15.42752451970243
06:46:12 I periodic.go:533> T008 ended after 30.076126012s : 464 calls. qps=15.42751881724627
Ended after 30.076142986s : 15411 calls. qps=512.4
Aggregated Function Time : count 15411 avg 0.062441289 +/- 0.05087 min 0.000372644 max 0.196759032 sum 962.282709
# range, mid point, percentile, count
>= 0.000372644 <= 0.0004 , 0.000386322 , 0.01, 1
> 0.0004 <= 0.0005 , 0.00045 , 1.15, 176
> 0.0005 <= 0.0006 , 0.00055 , 2.78, 252
> 0.0006 <= 0.0007 , 0.00065 , 3.65, 134
> 0.0007 <= 0.0008 , 0.00075 , 4.06, 63
> 0.0008 <= 0.0009 , 0.00085 , 4.22, 24
> 0.0009 <= 0.001 , 0.00095 , 4.31, 14
> 0.001 <= 0.0011 , 0.00105 , 4.35, 7
> 0.0011 <= 0.0012 , 0.00115 , 4.46, 16
> 0.0012 <= 0.0014 , 0.0013 , 4.70, 37
> 0.0014 <= 0.0016 , 0.0015 , 4.92, 34
> 0.0016 <= 0.0018 , 0.0017 , 6.18, 195
> 0.0018 <= 0.002 , 0.0019 , 8.12, 298
> 0.002 <= 0.0025 , 0.00225 , 12.04, 605
> 0.0025 <= 0.003 , 0.00275 , 16.72, 720
> 0.003 <= 0.0035 , 0.00325 , 21.34, 712
> 0.0035 <= 0.004 , 0.00375 , 26.55, 804
> 0.004 <= 0.0045 , 0.00425 , 31.15, 708
> 0.0045 <= 0.005 , 0.00475 , 35.06, 603
> 0.005 <= 0.006 , 0.0055 , 39.31, 655
> 0.006 <= 0.007 , 0.0065 , 39.86, 85
> 0.007 <= 0.008 , 0.0075 , 40.03, 26
> 0.008 <= 0.009 , 0.0085 , 40.10, 11
> 0.009 <= 0.01 , 0.0095 , 40.15, 8
> 0.01 <= 0.012 , 0.011 , 40.17, 3
> 0.07 <= 0.08 , 0.075 , 40.28, 16
> 0.09 <= 0.1 , 0.095 , 86.47, 7119
> 0.1 <= 0.196759 , 0.14838 , 100.00, 2085
# target 50% 0.0921049
# target 75% 0.0975169
# target 90% 0.125241
# target 99% 0.189607
# target 99.9% 0.196044
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 15411 (100.0 %)
Response Header Sizes : count 15411 avg 75 +/- 0 min 75 max 75 sum 1155825
Response Body/Total Sizes : count 15411 avg 75 +/- 0 min 75 max 75 sum 1155825
All done 15411 calls (plus 32 warmup) 62.441 ms avg, 512.4 qps
Successfully wrote 5244 bytes of Json data to /data/2018-12-14-064541_http_linkerd_0qps_30s_echo_0_4.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8080/echo
06:46:12 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 32 threads at -1.0 qps
06:46:12 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:46:42 I periodic.go:533> T025 ended after 30.081024864s : 163 calls. qps=5.418698356752903
06:46:42 I periodic.go:533> T005 ended after 30.081590349s : 164 calls. qps=5.451839417308329
06:46:42 I periodic.go:533> T008 ended after 30.081626371s : 158 calls. qps=5.252375588053939
06:46:42 I periodic.go:533> T010 ended after 30.081847838s : 165 calls. qps=5.485035390398081
06:46:42 I periodic.go:533> T023 ended after 30.082260856s : 168 calls. qps=5.584686629911058
06:46:42 I periodic.go:533> T012 ended after 30.082289595s : 162 calls. qps=5.385228391223458
06:46:42 I periodic.go:533> T015 ended after 30.082863717s : 158 calls. qps=5.2521595512435635
06:46:42 I periodic.go:533> T016 ended after 30.08289115s : 163 calls. qps=5.418362190896004
06:46:42 I periodic.go:533> T030 ended after 30.082906355s : 163 calls. qps=5.418359452257784
06:46:42 I periodic.go:533> T029 ended after 30.083516997s : 171 calls. qps=5.684175823493394
06:46:42 I periodic.go:533> T004 ended after 30.083557395s : 152 calls. qps=5.052593947059697
06:46:42 I periodic.go:533> T013 ended after 30.083604156s : 156 calls. qps=5.185548885401309
06:46:42 I periodic.go:533> T014 ended after 30.084186185s : 166 calls. qps=5.517849111130942
06:46:42 I periodic.go:533> T026 ended after 30.084219106s : 160 calls. qps=5.318402961906682
06:46:42 I periodic.go:533> T000 ended after 30.084232093s : 172 calls. qps=5.717280715967517
06:46:42 I periodic.go:533> T024 ended after 30.180738274s : 163 calls. qps=5.400795650529884
06:46:42 I periodic.go:533> T002 ended after 30.180807519s : 161 calls. qps=5.33451598001956
06:46:42 I periodic.go:533> T022 ended after 30.180821837s : 171 calls. qps=5.665849688372752
06:46:42 I periodic.go:533> T011 ended after 30.180834906s : 151 calls. qps=5.0031750437089775
06:46:42 I periodic.go:533> T006 ended after 30.180845588s : 165 calls. qps=5.467043642594445
06:46:42 I periodic.go:533> T017 ended after 30.180857089s : 165 calls. qps=5.467041559271604
06:46:42 I periodic.go:533> T019 ended after 30.180880257s : 162 calls. qps=5.367636683241754
06:46:42 I periodic.go:533> T007 ended after 30.180892473s : 160 calls. qps=5.301367417916382
06:46:42 I periodic.go:533> T027 ended after 30.180903277s : 163 calls. qps=5.400766123663954
06:46:42 I periodic.go:533> T003 ended after 30.180913163s : 159 calls. qps=5.26823026000832
06:46:42 I periodic.go:533> T020 ended after 30.18092351s : 163 calls. qps=5.400762503042439
06:46:42 I periodic.go:533> T018 ended after 30.180934747s : 168 calls. qps=5.5664279919858775
06:46:42 I periodic.go:533> T009 ended after 30.180944882s : 174 calls. qps=5.765227055690165
06:46:42 I periodic.go:533> T028 ended after 30.180970323s : 169 calls. qps=5.599554891421441
06:46:42 I periodic.go:533> T021 ended after 30.180979762s : 164 calls. qps=5.433885887511434
06:46:42 I periodic.go:533> T031 ended after 30.18099158s : 162 calls. qps=5.367616884640475
06:46:42 I periodic.go:533> T001 ended after 30.181001632s : 163 calls. qps=5.400748523441185
Ended after 30.181018682s : 5224 calls. qps=173.09
Aggregated Function Time : count 5224 avg 0.18456645 +/- 0.07614 min 0.000884629 max 0.497134758 sum 964.175138
# range, mid point, percentile, count
>= 0.000884629 <= 0.0009 , 0.000892315 , 0.06, 3
> 0.0009 <= 0.001 , 0.00095 , 0.15, 5
> 0.001 <= 0.0011 , 0.00105 , 0.33, 9
> 0.0011 <= 0.0012 , 0.00115 , 0.44, 6
> 0.0012 <= 0.0014 , 0.0013 , 0.77, 17
> 0.0014 <= 0.0016 , 0.0015 , 1.01, 13
> 0.0016 <= 0.0018 , 0.0017 , 1.19, 9
> 0.0018 <= 0.002 , 0.0019 , 1.23, 2
> 0.002 <= 0.0025 , 0.00225 , 1.38, 8
> 0.0025 <= 0.003 , 0.00275 , 1.45, 4
> 0.003 <= 0.0035 , 0.00325 , 1.51, 3
> 0.0035 <= 0.004 , 0.00375 , 1.63, 6
> 0.004 <= 0.0045 , 0.00425 , 1.80, 9
> 0.0045 <= 0.005 , 0.00475 , 2.01, 11
> 0.005 <= 0.006 , 0.0055 , 2.30, 15
> 0.006 <= 0.007 , 0.0065 , 2.34, 2
> 0.007 <= 0.008 , 0.0075 , 2.35, 1
> 0.008 <= 0.009 , 0.0085 , 2.37, 1
> 0.07 <= 0.08 , 0.075 , 2.55, 9
> 0.09 <= 0.1 , 0.095 , 10.89, 436
> 0.1 <= 0.2 , 0.15 , 59.09, 2518
> 0.2 <= 0.3 , 0.25 , 95.98, 1927
> 0.3 <= 0.4 , 0.35 , 99.87, 203
> 0.4 <= 0.497135 , 0.448567 , 100.00, 7
# target 50% 0.181136
# target 75% 0.243124
# target 90% 0.283788
# target 99% 0.377714
# target 99.9% 0.424644
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 5224 (100.0 %)
Response Header Sizes : count 5224 avg 210.19085 +/- 0.638 min 209 max 211 sum 1098037
Response Body/Total Sizes : count 5224 avg 210.19085 +/- 0.638 min 209 max 211 sum 1098037
All done 5224 calls (plus 32 warmup) 184.566 ms avg, 173.1 qps
Successfully wrote 4745 bytes of Json data to /data/2018-12-14-064612_http_istio_0qps_30s_echo_0_4.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8079
06:46:42 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:47:12 I periodic.go:533> T029 ended after 30.046040088s : 5188 calls. qps=172.66834447418645
06:47:12 I periodic.go:533> T018 ended after 30.047380159s : 5162 calls. qps=171.79534364342385
06:47:12 I periodic.go:533> T013 ended after 30.047448745s : 5167 calls. qps=171.96135498391712
06:47:12 I periodic.go:533> T026 ended after 30.047479467s : 5172 calls. qps=172.1275824709427
06:47:12 I periodic.go:533> T015 ended after 30.047520302s : 5208 calls. qps=173.32545074121637
06:47:12 I periodic.go:533> T025 ended after 30.047549407s : 5195 calls. qps=172.89263525729493
06:47:12 I periodic.go:533> T002 ended after 30.047598304s : 5200 calls. qps=173.0587565565187
06:47:12 I periodic.go:533> T023 ended after 30.047626776s : 5167 calls. qps=171.96033611969142
06:47:12 I periodic.go:533> T016 ended after 30.04765537s : 5184 calls. qps=172.52594041582952
06:47:12 I periodic.go:533> T011 ended after 30.047696568s : 5193 calls. qps=172.82522765922786
06:47:12 I periodic.go:533> T027 ended after 30.047723388s : 5193 calls. qps=172.82507339886857
06:47:12 I periodic.go:533> T003 ended after 30.047776207s : 5199 calls. qps=173.0244515994774
06:47:12 I periodic.go:533> T010 ended after 30.047808702s : 5182 calls. qps=172.45849943310785
06:47:12 I periodic.go:533> T030 ended after 30.047869849s : 5204 calls. qps=173.1903135281049
06:47:12 I periodic.go:533> T005 ended after 30.047895655s : 5184 calls. qps=172.52456077194134
06:47:12 I periodic.go:533> T024 ended after 30.047936819s : 5170 calls. qps=172.05840225046302
06:47:12 I periodic.go:533> T022 ended after 30.047962889s : 5179 calls. qps=172.35777410707385
06:47:12 I periodic.go:533> T006 ended after 30.048001207s : 5204 calls. qps=173.18955640842006
06:47:12 I periodic.go:533> T000 ended after 30.048036411s : 5194 calls. qps=172.85655305245098
06:47:12 I periodic.go:533> T014 ended after 30.04849859s : 5174 calls. qps=172.18830366858606
06:47:12 I periodic.go:533> T028 ended after 30.048549752s : 5204 calls. qps=173.18639478278405
06:47:12 I periodic.go:533> T008 ended after 30.048667665s : 5188 calls. qps=172.65324565597507
06:47:12 I periodic.go:533> T007 ended after 30.048694864s : 5187 calls. qps=172.61981006084602
06:47:12 I periodic.go:533> T012 ended after 30.0487195s : 5186 calls. qps=172.58638924696942
06:47:12 I periodic.go:533> T020 ended after 30.048756561s : 5186 calls. qps=172.58617638544354
06:47:12 I periodic.go:533> T009 ended after 30.048799022s : 5195 calls. qps=172.88544531169183
06:47:12 I periodic.go:533> T004 ended after 30.048824236s : 5221 calls. qps=173.7505587238578
06:47:12 I periodic.go:533> T001 ended after 30.048875972s : 5213 calls. qps=173.48402665236304
06:47:12 I periodic.go:533> T021 ended after 30.048904244s : 5203 calls. qps=173.15107258990673
06:47:12 I periodic.go:533> T019 ended after 30.048933016s : 5188 calls. qps=172.65172101909818
06:47:12 I periodic.go:533> T031 ended after 30.048973023s : 5159 calls. qps=171.68639993290995
06:47:12 I periodic.go:533> T017 ended after 30.048998164s : 5160 calls. qps=171.71953526829734
Ended after 30.049013363s : 166009 calls. qps=5524.6
Aggregated Function Time : count 166009 avg 0.0057909634 +/- 0.01586 min 0.000445876 max 0.080212127 sum 961.352036
# range, mid point, percentile, count
>= 0.000445876 <= 0.0005 , 0.000472938 , 0.01, 10
> 0.0005 <= 0.0006 , 0.00055 , 0.14, 230
> 0.0006 <= 0.0007 , 0.00065 , 0.63, 798
> 0.0007 <= 0.0008 , 0.00075 , 1.51, 1465
> 0.0008 <= 0.0009 , 0.00085 , 2.55, 1732
> 0.0009 <= 0.001 , 0.00095 , 3.97, 2356
> 0.001 <= 0.0011 , 0.00105 , 6.56, 4296
> 0.0011 <= 0.0012 , 0.00115 , 11.57, 8315
> 0.0012 <= 0.0014 , 0.0013 , 26.94, 25522
> 0.0014 <= 0.0016 , 0.0015 , 48.06, 35059
> 0.0016 <= 0.0018 , 0.0017 , 61.79, 22792
> 0.0018 <= 0.002 , 0.0019 , 70.35, 14218
> 0.002 <= 0.0025 , 0.00225 , 79.85, 15764
> 0.0025 <= 0.003 , 0.00275 , 84.22, 7261
> 0.003 <= 0.0035 , 0.00325 , 87.50, 5446
> 0.0035 <= 0.004 , 0.00375 , 90.19, 4464
> 0.004 <= 0.0045 , 0.00425 , 91.94, 2896
> 0.0045 <= 0.005 , 0.00475 , 92.91, 1618
> 0.005 <= 0.006 , 0.0055 , 93.77, 1417
> 0.006 <= 0.007 , 0.0065 , 93.98, 351
> 0.007 <= 0.008 , 0.0075 , 94.07, 162
> 0.008 <= 0.009 , 0.0085 , 94.13, 84
> 0.009 <= 0.01 , 0.0095 , 94.15, 39
> 0.01 <= 0.012 , 0.011 , 94.18, 46
> 0.012 <= 0.014 , 0.013 , 94.20, 36
> 0.018 <= 0.02 , 0.019 , 94.20, 1
> 0.02 <= 0.025 , 0.0225 , 94.22, 31
> 0.035 <= 0.04 , 0.0375 , 94.22, 1
> 0.04 <= 0.045 , 0.0425 , 94.24, 33
> 0.045 <= 0.05 , 0.0475 , 94.28, 69
> 0.05 <= 0.06 , 0.055 , 94.52, 406
> 0.06 <= 0.07 , 0.065 , 96.58, 3413
> 0.07 <= 0.08 , 0.075 , 100.00, 5677
> 0.08 <= 0.0802121 , 0.0801061 , 100.00, 1
# target 50% 0.00162827
# target 75% 0.00224466
# target 90% 0.00396417
# target 99% 0.0770775
# target 99.9% 0.0797093
Ping SERVING : 166009
All done 166009 calls (plus 32 warmup) 5.791 ms avg, 5524.6 qps
Successfully wrote 5521 bytes of Json data to /data/2018-12-14-064642_grpc_baseline_0qps_30s_echo_0_4.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-linkerd:8079
06:47:12 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:47:43 I periodic.go:533> T030 ended after 30.071578175s : 364 calls. qps=12.104452845198903
06:47:43 I periodic.go:533> T015 ended after 30.071781571s : 354 calls. qps=11.771833310381025
06:47:43 I periodic.go:533> T006 ended after 30.071833283s : 363 calls. qps=12.07109645041856
06:47:43 I periodic.go:533> T016 ended after 30.071847509s : 353 calls. qps=11.738553804994954
06:47:43 I periodic.go:533> T026 ended after 30.072206663s : 354 calls. qps=11.771666907156224
06:47:43 I periodic.go:533> T004 ended after 30.072241184s : 364 calls. qps=12.104185975791754
06:47:43 I periodic.go:533> T025 ended after 30.072254156s : 370 calls. qps=12.303700217503575
06:47:43 I periodic.go:533> T024 ended after 30.072265339s : 367 calls. qps=12.203935947720124
06:47:43 I periodic.go:533> T009 ended after 30.072276956s : 360 calls. qps=11.971158702971877
06:47:43 I periodic.go:533> T029 ended after 30.072289484s : 359 calls. qps=11.937900511067054
06:47:43 I periodic.go:533> T021 ended after 30.072303534s : 349 calls. qps=11.605363041292053
06:47:43 I periodic.go:533> T005 ended after 30.072327139s : 349 calls. qps=11.605353931767763
06:47:43 I periodic.go:533> T008 ended after 30.072356217s : 347 calls. qps=11.538836448200883
06:47:43 I periodic.go:533> T020 ended after 30.072370868s : 361 calls. qps=12.004374433415224
06:47:43 I periodic.go:533> T013 ended after 30.073995261s : 358 calls. qps=11.903972082626977
06:47:43 I periodic.go:533> T010 ended after 30.074514865s : 359 calls. qps=11.937017159262496
06:47:43 I periodic.go:533> T017 ended after 30.074552196s : 365 calls. qps=12.136506559474094
06:47:43 I periodic.go:533> T022 ended after 30.074565286s : 359 calls. qps=11.936997146459769
06:47:43 I periodic.go:533> T007 ended after 30.074577439s : 356 calls. qps=11.837240297792103
06:47:43 I periodic.go:533> T018 ended after 30.074600684s : 370 calls. qps=12.302740238770447
06:47:43 I periodic.go:533> T028 ended after 30.074629974s : 360 calls. qps=11.970222087893543
06:47:43 I periodic.go:533> T003 ended after 30.074649678s : 365 calls. qps=12.136467220996503
06:47:43 I periodic.go:533> T027 ended after 30.074661519s : 364 calls. qps=12.103211860590317
06:47:43 I periodic.go:533> T012 ended after 30.074672619s : 369 calls. qps=12.269460242332954
06:47:43 I periodic.go:533> T000 ended after 30.074684369s : 376 calls. qps=12.50220934612928
06:47:43 I periodic.go:533> T011 ended after 30.074713407s : 379 calls. qps=12.601948848888659
06:47:43 I periodic.go:533> T019 ended after 30.074725199s : 352 calls. qps=11.704180093778685
06:47:43 I periodic.go:533> T031 ended after 30.074736456s : 355 calls. qps=11.803927210446973
06:47:43 I periodic.go:533> T001 ended after 30.074747605s : 356 calls. qps=11.837173321474996
06:47:43 I periodic.go:533> T002 ended after 30.075008629s : 355 calls. qps=11.803820387193147
06:47:43 I periodic.go:533> T014 ended after 30.075093461s : 361 calls. qps=12.0032877193924
06:47:43 I periodic.go:533> T023 ended after 30.075139421s : 366 calls. qps=12.169519644668384
Ended after 30.075181134s : 11539 calls. qps=383.67
Aggregated Function Time : count 11539 avg 0.083388719 +/- 0.03707 min 0.001208755 max 0.198981647 sum 962.22243
# range, mid point, percentile, count
>= 0.00120875 <= 0.0014 , 0.00130438 , 0.02, 2
> 0.0016 <= 0.0018 , 0.0017 , 0.17, 18
> 0.0018 <= 0.002 , 0.0019 , 0.84, 77
> 0.002 <= 0.0025 , 0.00225 , 3.95, 359
> 0.0025 <= 0.003 , 0.00275 , 5.42, 169
> 0.003 <= 0.0035 , 0.00325 , 6.42, 116
> 0.0035 <= 0.004 , 0.00375 , 8.28, 215
> 0.004 <= 0.0045 , 0.00425 , 11.88, 415
> 0.0045 <= 0.005 , 0.00475 , 14.65, 319
> 0.005 <= 0.006 , 0.0055 , 16.21, 180
> 0.006 <= 0.007 , 0.0065 , 16.70, 57
> 0.007 <= 0.008 , 0.0075 , 16.98, 32
> 0.008 <= 0.009 , 0.0085 , 17.09, 13
> 0.01 <= 0.012 , 0.011 , 17.19, 11
> 0.012 <= 0.014 , 0.013 , 17.19, 1
> 0.06 <= 0.07 , 0.065 , 17.40, 24
> 0.09 <= 0.1 , 0.095 , 75.24, 6674
> 0.1 <= 0.198982 , 0.149491 , 100.00, 2857
# target 50% 0.0956361
# target 75% 0.0999584
# target 90% 0.159004
# target 99% 0.194984
# target 99.9% 0.198582
Ping SERVING : 11539
All done 11539 calls (plus 32 warmup) 83.389 ms avg, 383.7 qps
Successfully wrote 3381 bytes of Json data to /data/2018-12-14-064713_grpc_linkerd_0qps_30s_echo_0_4.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8079
06:47:43 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:48:13 I periodic.go:533> T013 ended after 30.000034356s : 153 calls. qps=5.099994159486688
06:48:13 I periodic.go:533> T022 ended after 30.000650425s : 159 calls. qps=5.29988509407459
06:48:13 I periodic.go:533> T030 ended after 30.000675986s : 145 calls. qps=4.833224426931751
06:48:13 I periodic.go:533> T026 ended after 30.000688699s : 144 calls. qps=4.799889810689575
06:48:13 I periodic.go:533> T002 ended after 30.00070161s : 155 calls. qps=5.166545836659185
06:48:13 I periodic.go:533> T009 ended after 30.000761964s : 150 calls. qps=4.999873009225413
06:48:13 I periodic.go:533> T012 ended after 30.000777147s : 143 calls. qps=4.766543189841988
06:48:13 I periodic.go:533> T003 ended after 30.001422162s : 151 calls. qps=5.033094737464066
06:48:13 I periodic.go:533> T027 ended after 30.098395338s : 153 calls. qps=5.083327475828373
06:48:13 I periodic.go:533> T025 ended after 30.098439841s : 153 calls. qps=5.083319959713788
06:48:13 I periodic.go:533> T019 ended after 30.098453423s : 149 calls. qps=4.950420471974827
06:48:13 I periodic.go:533> T018 ended after 30.098481139s : 146 calls. qps=4.850743109785065
06:48:13 I periodic.go:533> T024 ended after 30.098493056s : 154 calls. qps=5.116535226978773
06:48:13 I periodic.go:533> T007 ended after 30.098504542s : 143 calls. qps=4.751066611979184
06:48:13 I periodic.go:533> T010 ended after 30.098516783s : 147 calls. qps=4.88396159384928
06:48:13 I periodic.go:533> T008 ended after 30.098531916s : 151 calls. qps=5.016855985581486
06:48:13 I periodic.go:533> T016 ended after 30.098556126s : 155 calls. qps=5.1497486906392345
06:48:13 I periodic.go:533> T015 ended after 30.098568607s : 146 calls. qps=4.850729013274235
06:48:13 I periodic.go:533> T004 ended after 30.098579679s : 151 calls. qps=5.0168480244054106
06:48:13 I periodic.go:533> T020 ended after 30.098592798s : 149 calls. qps=4.9503975484827585
06:48:13 I periodic.go:533> T011 ended after 30.098603419s : 145 calls. qps=4.8174992700314965
06:48:13 I periodic.go:533> T005 ended after 30.098618413s : 149 calls. qps=4.950393335517516
06:48:13 I periodic.go:533> T001 ended after 30.098645933s : 152 calls. qps=5.050061067144153
06:48:13 I periodic.go:533> T023 ended after 30.09865761s : 156 calls. qps=5.182955400249161
06:48:13 I periodic.go:533> T021 ended after 30.098669526s : 145 calls. qps=4.817488689151038
06:48:13 I periodic.go:533> T006 ended after 30.098680641s : 159 calls. qps=5.282623577307652
06:48:13 I periodic.go:533> T028 ended after 30.098691558s : 143 calls. qps=4.751037091577215
06:48:13 I periodic.go:533> T000 ended after 30.098702006s : 146 calls. qps=4.850707514593013
06:48:13 I periodic.go:533> T029 ended after 30.098771439s : 145 calls. qps=4.8174723773648305
06:48:13 I periodic.go:533> T014 ended after 30.098782378s : 144 calls. qps=4.784246691163608
06:48:13 I periodic.go:533> T017 ended after 30.098814898s : 150 calls. qps=4.983584918819085
06:48:13 I periodic.go:533> T031 ended after 30.098841433s : 150 calls. qps=4.98358052531357
Ended after 30.098857922s : 4781 calls. qps=158.84
Aggregated Function Time : count 4781 avg 0.20126251 +/- 0.07273 min 0.001051843 max 0.499308487 sum 962.236038
# range, mid point, percentile, count
>= 0.00105184 <= 0.0011 , 0.00107592 , 0.04, 2
> 0.0012 <= 0.0014 , 0.0013 , 0.10, 3
> 0.0014 <= 0.0016 , 0.0015 , 0.15, 2
> 0.0016 <= 0.0018 , 0.0017 , 0.19, 2
> 0.0018 <= 0.002 , 0.0019 , 0.27, 4
> 0.002 <= 0.0025 , 0.00225 , 0.98, 34
> 0.0025 <= 0.003 , 0.00275 , 1.19, 10
> 0.003 <= 0.0035 , 0.00325 , 1.28, 4
> 0.0035 <= 0.004 , 0.00375 , 1.36, 4
> 0.004 <= 0.0045 , 0.00425 , 1.42, 3
> 0.0045 <= 0.005 , 0.00475 , 1.44, 1
> 0.005 <= 0.006 , 0.0055 , 1.59, 7
> 0.006 <= 0.007 , 0.0065 , 1.65, 3
> 0.007 <= 0.008 , 0.0075 , 1.67, 1
> 0.09 <= 0.1 , 0.095 , 4.85, 152
> 0.1 <= 0.2 , 0.15 , 50.64, 2189
> 0.2 <= 0.3 , 0.25 , 95.29, 2135
> 0.3 <= 0.4 , 0.35 , 99.31, 192
> 0.4 <= 0.499308 , 0.449654 , 100.00, 33
# target 50% 0.198607
# target 75% 0.254555
# target 90% 0.288145
# target 99% 0.392286
# target 99.9% 0.484921
Ping SERVING : 4781
All done 4781 calls (plus 32 warmup) 201.263 ms avg, 158.8 qps
Successfully wrote 3468 bytes of Json data to /data/2018-12-14-064743_grpc_istio_0qps_30s_echo_0_4.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-baseline:8080/echo
06:48:13 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
06:48:13 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:48:44 I periodic.go:533> T015 ended after 30.053191203s : 7872 calls. qps=261.93557771709095
06:48:44 I periodic.go:533> T006 ended after 30.054336285s : 7862 calls. qps=261.5928671804971
06:48:44 I periodic.go:533> T020 ended after 30.054413882s : 7890 calls. qps=262.5238353001264
06:48:44 I periodic.go:533> T013 ended after 30.054429284s : 7958 calls. qps=264.7862624440711
06:48:44 I periodic.go:533> T024 ended after 30.054451147s : 7968 calls. qps=265.11879924299853
06:48:44 I periodic.go:533> T011 ended after 30.054463035s : 7984 calls. qps=265.65106123181147
06:48:44 I periodic.go:533> T007 ended after 30.054475622s : 7756 calls. qps=258.06472545215786
06:48:44 I periodic.go:533> T004 ended after 30.054510189s : 7904 calls. qps=262.98881433419194
06:48:44 I periodic.go:533> T026 ended after 30.054522427s : 7910 calls. qps=263.18834442346406
06:48:44 I periodic.go:533> T010 ended after 30.05455828s : 7747 calls. qps=257.7645602981725
06:48:44 I periodic.go:533> T023 ended after 30.05471627s : 7840 calls. qps=260.85756157431194
06:48:44 I periodic.go:533> T027 ended after 30.05473073s : 7990 calls. qps=265.8483308926987
06:48:44 I periodic.go:533> T008 ended after 30.054764654s : 7979 calls. qps=265.4820322786348
06:48:44 I periodic.go:533> T002 ended after 30.054777405s : 7838 calls. qps=260.7904857979766
06:48:44 I periodic.go:533> T016 ended after 30.054812471s : 7863 calls. qps=261.6219950660826
06:48:44 I periodic.go:533> T001 ended after 30.054826172s : 7868 calls. qps=261.78823843373516
06:48:44 I periodic.go:533> T003 ended after 30.054837726s : 7770 calls. qps=258.52743145168563
06:48:44 I periodic.go:533> T014 ended after 30.054849031s : 7802 calls. qps=259.59205424564425
06:48:44 I periodic.go:533> T005 ended after 30.054928743s : 7719 calls. qps=256.8297554788849
06:48:44 I periodic.go:533> T019 ended after 30.054949025s : 7808 calls. qps=259.7908249155648
06:48:44 I periodic.go:533> T012 ended after 30.054960175s : 7769 calls. qps=258.4931057889848
06:48:44 I periodic.go:533> T025 ended after 30.054977973s : 7794 calls. qps=259.3247616751464
06:48:44 I periodic.go:533> T021 ended after 30.054988179s : 7885 calls. qps=262.35245720407244
06:48:44 I periodic.go:533> T028 ended after 30.055022129s : 7797 calls. qps=259.4241976111107
06:48:44 I periodic.go:533> T022 ended after 30.055034576s : 7914 calls. qps=263.3169487790111
06:48:44 I periodic.go:533> T017 ended after 30.055050058s : 7952 calls. qps=264.581159727044
06:48:44 I periodic.go:533> T030 ended after 30.05509573s : 7830 calls. qps=260.5215458417041
06:48:44 I periodic.go:533> T029 ended after 30.055119339s : 7959 calls. qps=264.8134552462839
06:48:44 I periodic.go:533> T031 ended after 30.055165455s : 7916 calls. qps=263.382346434
06:48:44 I periodic.go:533> T000 ended after 30.055178067s : 7757 calls. qps=258.0919661400055
06:48:44 I periodic.go:533> T009 ended after 30.055204487s : 7946 calls. qps=264.3801676157932
06:48:44 I periodic.go:533> T018 ended after 30.055216118s : 7952 calls. qps=264.5796978727285
Ended after 30.055255487s : 251799 calls. qps=8377.9
Aggregated Function Time : count 251799 avg 0.0038186675 +/- 0.01421 min 7.5089e-05 max 0.079229599 sum 961.536668
# range, mid point, percentile, count
>= 7.5089e-05 <= 0.0001 , 8.75445e-05 , 0.57, 1424
> 0.0001 <= 0.0002 , 0.00015 , 5.01, 11183
> 0.0002 <= 0.0003 , 0.00025 , 10.26, 13223
> 0.0003 <= 0.0004 , 0.00035 , 15.93, 14286
> 0.0004 <= 0.0005 , 0.00045 , 21.99, 15267
> 0.0005 <= 0.0006 , 0.00055 , 27.99, 15086
> 0.0006 <= 0.0007 , 0.00065 , 34.00, 15132
> 0.0007 <= 0.0008 , 0.00075 , 40.02, 15157
> 0.0008 <= 0.0009 , 0.00085 , 46.00, 15069
> 0.0009 <= 0.001 , 0.00095 , 52.18, 15558
> 0.001 <= 0.0011 , 0.00105 , 58.06, 14804
> 0.0011 <= 0.0012 , 0.00115 , 63.89, 14687
> 0.0012 <= 0.0014 , 0.0013 , 75.26, 28635
> 0.0014 <= 0.0016 , 0.0015 , 85.24, 25134
> 0.0016 <= 0.0018 , 0.0017 , 90.34, 12842
> 0.0018 <= 0.002 , 0.0019 , 92.23, 4752
> 0.002 <= 0.0025 , 0.00225 , 94.40, 5454
> 0.0025 <= 0.003 , 0.00275 , 95.19, 2004
> 0.003 <= 0.0035 , 0.00325 , 95.42, 581
> 0.0035 <= 0.004 , 0.00375 , 95.60, 430
> 0.004 <= 0.0045 , 0.00425 , 95.80, 504
> 0.0045 <= 0.005 , 0.00475 , 95.95, 398
> 0.005 <= 0.006 , 0.0055 , 96.14, 471
> 0.006 <= 0.007 , 0.0065 , 96.17, 82
> 0.007 <= 0.008 , 0.0075 , 96.17, 4
> 0.025 <= 0.03 , 0.0275 , 96.18, 24
> 0.03 <= 0.035 , 0.0325 , 96.19, 8
> 0.05 <= 0.06 , 0.055 , 96.23, 118
> 0.06 <= 0.07 , 0.065 , 96.38, 371
> 0.07 <= 0.0792296 , 0.0746148 , 100.00, 9111
# target 50% 0.000964742
# target 75% 0.00139538
# target 90% 0.00178648
# target 99% 0.0766788
# target 99.9% 0.0789745
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 251799 (100.0 %)
Response Header Sizes : count 251799 avg 75 +/- 0 min 75 max 75 sum 18884925
Response Body/Total Sizes : count 251799 avg 75 +/- 0 min 75 max 75 sum 18884925
All done 251799 calls (plus 32 warmup) 3.819 ms avg, 8377.9 qps
Successfully wrote 5603 bytes of Json data to /data/2018-12-14-064814_http_baseline_0qps_30s_echo_1_4.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-linkerd:8080/echo
06:48:44 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 32 threads at -1.0 qps
06:48:44 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:49:14 I periodic.go:533> T012 ended after 30.082015815s : 470 calls. qps=15.623952958818695
06:49:14 I periodic.go:533> T031 ended after 30.08210105s : 491 calls. qps=16.32199822691574
06:49:14 I periodic.go:533> T023 ended after 30.082118022s : 473 calls. qps=15.723626895356245
06:49:14 I periodic.go:533> T016 ended after 30.082144901s : 476 calls. qps=15.823339777350007
06:49:14 I periodic.go:533> T013 ended after 30.082157355s : 468 calls. qps=15.557394852939728
06:49:14 I periodic.go:533> T000 ended after 30.082179392s : 489 calls. qps=16.25547117540439
06:49:14 I periodic.go:533> T015 ended after 30.082193148s : 491 calls. qps=16.321948256377173
06:49:14 I periodic.go:533> T019 ended after 30.08222715s : 467 calls. qps=15.524116538027005
06:49:14 I periodic.go:533> T006 ended after 30.08223835s : 475 calls. qps=15.79004841572901
06:49:14 I periodic.go:533> T004 ended after 30.082248814s : 489 calls. qps=16.255433662008137
06:49:14 I periodic.go:533> T005 ended after 30.08226097s : 500 calls. qps=16.621091097462145
06:49:14 I periodic.go:533> T018 ended after 30.082273222s : 471 calls. qps=15.657061436951002
06:49:14 I periodic.go:533> T028 ended after 30.082283519s : 489 calls. qps=16.25541490861713
06:49:14 I periodic.go:533> T021 ended after 30.082307438s : 481 calls. qps=15.989464936868517
06:49:14 I periodic.go:533> T030 ended after 30.082473731s : 492 calls. qps=16.35503796660824
06:49:14 I periodic.go:533> T026 ended after 30.082487258s : 483 calls. qps=16.055853223092555
06:49:14 I periodic.go:533> T009 ended after 30.082497346s : 468 calls. qps=15.557219023979366
06:49:14 I periodic.go:533> T008 ended after 30.082507698s : 489 calls. qps=16.25529377102131
06:49:14 I periodic.go:533> T007 ended after 30.082517592s : 486 calls. qps=16.155562728873615
06:49:14 I periodic.go:533> T017 ended after 30.082527142s : 494 calls. qps=16.421492704657027
06:49:14 I periodic.go:533> T027 ended after 30.082550475s : 497 calls. qps=16.521205554463545
06:49:14 I periodic.go:533> T011 ended after 30.082560714s : 509 calls. qps=16.920102142871055
06:49:14 I periodic.go:533> T020 ended after 30.082570745s : 483 calls. qps=16.055808663901473
06:49:14 I periodic.go:533> T014 ended after 30.082580415s : 474 calls. qps=15.756627040001216
06:49:14 I periodic.go:533> T022 ended after 30.082701187s : 497 calls. qps=16.521122784504957
06:49:14 I periodic.go:533> T025 ended after 30.082715214s : 481 calls. qps=15.98924819712253
06:49:14 I periodic.go:533> T001 ended after 30.082731918s : 483 calls. qps=16.05572264236404
06:49:14 I periodic.go:533> T002 ended after 30.082747548s : 498 calls. qps=16.55433896805442
06:49:14 I periodic.go:533> T029 ended after 30.08278665s : 502 calls. qps=16.687283855732826
06:49:14 I periodic.go:533> T024 ended after 30.082798434s : 490 calls. qps=16.28837825959021
06:49:14 I periodic.go:533> T010 ended after 30.082810195s : 484 calls. qps=16.088922439847213
06:49:14 I periodic.go:533> T003 ended after 30.082908395s : 480 calls. qps=15.955904053471755
Ended after 30.082931144s : 15520 calls. qps=515.91
Aggregated Function Time : count 15520 avg 0.062016014 +/- 0.05032 min 0.000385842 max 0.197824922 sum 962.488531
# range, mid point, percentile, count
>= 0.000385842 <= 0.0004 , 0.000392921 , 0.02, 3
> 0.0004 <= 0.0005 , 0.00045 , 1.20, 183
> 0.0005 <= 0.0006 , 0.00055 , 2.78, 245
> 0.0006 <= 0.0007 , 0.00065 , 3.67, 139
> 0.0007 <= 0.0008 , 0.00075 , 4.15, 74
> 0.0008 <= 0.0009 , 0.00085 , 4.28, 20
> 0.0009 <= 0.001 , 0.00095 , 4.40, 19
> 0.001 <= 0.0011 , 0.00105 , 4.45, 8
> 0.0011 <= 0.0012 , 0.00115 , 4.53, 12
> 0.0012 <= 0.0014 , 0.0013 , 4.72, 30
> 0.0014 <= 0.0016 , 0.0015 , 5.08, 56
> 0.0016 <= 0.0018 , 0.0017 , 6.62, 238
> 0.0018 <= 0.002 , 0.0019 , 8.54, 299
> 0.002 <= 0.0025 , 0.00225 , 12.40, 599
> 0.0025 <= 0.003 , 0.00275 , 16.76, 676
> 0.003 <= 0.0035 , 0.00325 , 21.03, 663
> 0.0035 <= 0.004 , 0.00375 , 25.97, 766
> 0.004 <= 0.0045 , 0.00425 , 30.91, 768
> 0.0045 <= 0.005 , 0.00475 , 34.88, 615
> 0.005 <= 0.006 , 0.0055 , 38.63, 583
> 0.006 <= 0.007 , 0.0065 , 39.55, 142
> 0.007 <= 0.008 , 0.0075 , 40.05, 78
> 0.008 <= 0.009 , 0.0085 , 40.09, 6
> 0.009 <= 0.01 , 0.0095 , 40.15, 10
> 0.01 <= 0.012 , 0.011 , 40.18, 4
> 0.012 <= 0.014 , 0.013 , 40.26, 12
> 0.07 <= 0.08 , 0.075 , 40.46, 32
> 0.09 <= 0.1 , 0.095 , 87.24, 7260
> 0.1 <= 0.197825 , 0.148912 , 100.00, 1980
# target 50% 0.0920386
# target 75% 0.0973829
# target 90% 0.121146
# target 99% 0.190157
# target 99.9% 0.197058
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 15520 (100.0 %)
Response Header Sizes : count 15520 avg 75 +/- 0 min 75 max 75 sum 1164000
Response Body/Total Sizes : count 15520 avg 75 +/- 0 min 75 max 75 sum 1164000
All done 15520 calls (plus 32 warmup) 62.016 ms avg, 515.9 qps
Successfully wrote 5365 bytes of Json data to /data/2018-12-14-064844_http_linkerd_0qps_30s_echo_1_4.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-istio:8080/echo
06:49:14 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 32 threads at -1.0 qps
06:49:14 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:49:44 I periodic.go:533> T020 ended after 30.090267156s : 175 calls. qps=5.815834040047896
06:49:44 I periodic.go:533> T021 ended after 30.090338936s : 183 calls. qps=6.081686231226173
06:49:44 I periodic.go:533> T009 ended after 30.090356577s : 175 calls. qps=5.815816756846403
06:49:44 I periodic.go:533> T013 ended after 30.091992888s : 176 calls. qps=5.848731941917506
06:49:44 I periodic.go:533> T027 ended after 30.092039526s : 176 calls. qps=5.8487228772889654
06:49:44 I periodic.go:533> T019 ended after 30.092151558s : 185 calls. qps=6.147782409091906
06:49:44 I periodic.go:533> T001 ended after 30.092489047s : 178 calls. qps=5.915097276333321
06:49:44 I periodic.go:533> T002 ended after 30.092513521s : 173 calls. qps=5.748938182889651
06:49:44 I periodic.go:533> T010 ended after 30.185550556s : 182 calls. qps=6.029374871342996
06:49:44 I periodic.go:533> T005 ended after 30.185629067s : 175 calls. qps=5.797460758944931
06:49:44 I periodic.go:533> T007 ended after 30.185646558s : 180 calls. qps=5.963099039609447
06:49:44 I periodic.go:533> T030 ended after 30.190339744s : 183 calls. qps=6.061541590845106
06:49:44 I periodic.go:533> T006 ended after 30.190384984s : 179 calls. qps=5.929039993854488
06:49:44 I periodic.go:533> T000 ended after 30.190416607s : 180 calls. qps=5.96215687723451
06:49:44 I periodic.go:533> T024 ended after 30.190438803s : 181 calls. qps=5.995275563269195
06:49:44 I periodic.go:533> T008 ended after 30.190455164s : 176 calls. qps=5.82965705697169
06:49:44 I periodic.go:533> T003 ended after 30.190466406s : 181 calls. qps=5.995270081817232
06:49:44 I periodic.go:533> T014 ended after 30.190489541s : 182 calls. qps=6.028388501380081
06:49:44 I periodic.go:533> T015 ended after 30.190501294s : 170 calls. qps=5.6309101443699925
06:49:44 I periodic.go:533> T026 ended after 30.190511639s : 173 calls. qps=5.730277183395567
06:49:44 I periodic.go:533> T004 ended after 30.19054227s : 189 calls. qps=6.260238663808538
06:49:44 I periodic.go:533> T017 ended after 30.19055416s : 178 calls. qps=5.895883826996304
06:49:44 I periodic.go:533> T023 ended after 30.190565758s : 174 calls. qps=5.763389841539914
06:49:44 I periodic.go:533> T028 ended after 30.190576474s : 173 calls. qps=5.730264877485427
06:49:44 I periodic.go:533> T022 ended after 30.190595729s : 173 calls. qps=5.730261222829148
06:49:44 I periodic.go:533> T029 ended after 30.190606226s : 170 calls. qps=5.630890573293518
06:49:44 I periodic.go:533> T025 ended after 30.190642821s : 178 calls. qps=5.89586651252708
06:49:44 I periodic.go:533> T018 ended after 30.190652992s : 178 calls. qps=5.895864526254762
06:49:44 I periodic.go:533> T031 ended after 30.190664023s : 181 calls. qps=5.995230838980874
06:49:44 I periodic.go:533> T011 ended after 30.190675432s : 175 calls. qps=5.796491714607758
06:49:44 I periodic.go:533> T016 ended after 30.190685986s : 184 calls. qps=6.09459487225048
06:49:44 I periodic.go:533> T012 ended after 30.190697229s : 175 calls. qps=5.79648752967195
Ended after 30.190727259s : 5691 calls. qps=188.5
Aggregated Function Time : count 5691 avg 0.1695945 +/- 0.0684 min 0.000632848 max 0.399545373 sum 965.162318
# range, mid point, percentile, count
>= 0.000632848 <= 0.0007 , 0.000666424 , 0.02, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.07, 3
> 0.0008 <= 0.0009 , 0.00085 , 0.14, 4
> 0.0009 <= 0.001 , 0.00095 , 0.18, 2
> 0.001 <= 0.0011 , 0.00105 , 0.26, 5
> 0.0011 <= 0.0012 , 0.00115 , 0.44, 10
> 0.0012 <= 0.0014 , 0.0013 , 0.72, 16
> 0.0014 <= 0.0016 , 0.0015 , 0.90, 10
> 0.0016 <= 0.0018 , 0.0017 , 1.09, 11
> 0.0018 <= 0.002 , 0.0019 , 1.14, 3
> 0.002 <= 0.0025 , 0.00225 , 1.23, 5
> 0.0025 <= 0.003 , 0.00275 , 1.32, 5
> 0.003 <= 0.0035 , 0.00325 , 1.42, 6
> 0.0035 <= 0.004 , 0.00375 , 1.53, 6
> 0.004 <= 0.0045 , 0.00425 , 1.63, 6
> 0.0045 <= 0.005 , 0.00475 , 1.67, 2
> 0.007 <= 0.008 , 0.0075 , 1.69, 1
> 0.07 <= 0.08 , 0.075 , 1.92, 13
> 0.08 <= 0.09 , 0.085 , 2.21, 17
> 0.09 <= 0.1 , 0.095 , 16.08, 789
> 0.1 <= 0.2 , 0.15 , 69.46, 3038
> 0.2 <= 0.3 , 0.25 , 98.52, 1654
> 0.3 <= 0.399545 , 0.349773 , 100.00, 84
# target 50% 0.163545
# target 75% 0.21906
# target 90% 0.270671
# target 99% 0.332103
# target 99.9% 0.392801
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 5691 (100.0 %)
Response Header Sizes : count 5691 avg 210.08944 +/- 0.62 min 209 max 211 sum 1195619
Response Body/Total Sizes : count 5691 avg 210.08944 +/- 0.62 min 209 max 211 sum 1195619
All done 5691 calls (plus 32 warmup) 169.595 ms avg, 188.5 qps
Successfully wrote 4633 bytes of Json data to /data/2018-12-14-064914_http_istio_0qps_30s_echo_1_4.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-baseline:8079
06:49:44 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:50:15 I periodic.go:533> T020 ended after 30.034916598s : 5149 calls. qps=171.4338038262729
06:50:15 I periodic.go:533> T016 ended after 30.035845903s : 5118 calls. qps=170.3963995729786
06:50:15 I periodic.go:533> T030 ended after 30.035916766s : 5117 calls. qps=170.36270408740552
06:50:15 I periodic.go:533> T008 ended after 30.035968452s : 5124 calls. qps=170.59546484038236
06:50:15 I periodic.go:533> T019 ended after 30.036002671s : 5120 calls. qps=170.4620969734898
06:50:15 I periodic.go:533> T026 ended after 30.036054678s : 5123 calls. qps=170.5616817828061
06:50:15 I periodic.go:533> T025 ended after 30.036086477s : 5132 calls. qps=170.8611407791027
06:50:15 I periodic.go:533> T017 ended after 30.036131717s : 5091 calls. qps=169.4958607841825
06:50:15 I periodic.go:533> T023 ended after 30.036161635s : 5120 calls. qps=170.46119481637953
06:50:15 I periodic.go:533> T004 ended after 30.036189715s : 5142 calls. qps=171.19348521866934
06:50:15 I periodic.go:533> T001 ended after 30.036234978s : 5120 calls. qps=170.46077858127484
06:50:15 I periodic.go:533> T029 ended after 30.036261995s : 5135 calls. qps=170.9600216183625
06:50:15 I periodic.go:533> T002 ended after 30.036305401s : 5119 calls. qps=170.42708587686596
06:50:15 I periodic.go:533> T013 ended after 30.03633309s : 5099 calls. qps=169.76106852729006
06:50:15 I periodic.go:533> T006 ended after 30.036375587s : 5133 calls. qps=170.89278914935417
06:50:15 I periodic.go:533> T014 ended after 30.03640506s : 5100 calls. qps=169.79395469638803
06:50:15 I periodic.go:533> T015 ended after 30.036689025s : 5114 calls. qps=170.25844612046083
06:50:15 I periodic.go:533> T022 ended after 30.036753125s : 5128 calls. qps=170.7241784309868
06:50:15 I periodic.go:533> T007 ended after 30.036962647s : 5121 calls. qps=170.48994134936177
06:50:15 I periodic.go:533> T024 ended after 30.037015297s : 5103 calls. qps=169.89038190188194
06:50:15 I periodic.go:533> T021 ended after 30.037058283s : 5112 calls. qps=170.18976864632666
06:50:15 I periodic.go:533> T028 ended after 30.03708725s : 5115 calls. qps=170.28948104813327
06:50:15 I periodic.go:533> T018 ended after 30.037138618s : 5148 calls. qps=171.38782976202063
06:50:15 I periodic.go:533> T011 ended after 30.037168647s : 5119 calls. qps=170.42218792853055
06:50:15 I periodic.go:533> T009 ended after 30.037214126s : 5095 calls. qps=169.62292104146252
06:50:15 I periodic.go:533> T031 ended after 30.037243898s : 5138 calls. qps=171.05430902540658
06:50:15 I periodic.go:533> T012 ended after 30.03729763s : 5121 calls. qps=170.48804000548168
06:50:15 I periodic.go:533> T010 ended after 30.037325746s : 5110 calls. qps=170.12166939263847
06:50:15 I periodic.go:533> T003 ended after 30.037370343s : 5116 calls. qps=170.32116798440873
06:50:15 I periodic.go:533> T005 ended after 30.037399209s : 5130 calls. qps=170.78708993097231
06:50:15 I periodic.go:533> T027 ended after 30.03742778s : 5119 calls. qps=170.42071769568813
06:50:15 I periodic.go:533> T000 ended after 30.037472438s : 5141 calls. qps=171.15288280701643
Ended after 30.037489277s : 163872 calls. qps=5455.6
Aggregated Function Time : count 163872 avg 0.0058642443 +/- 0.01585 min 0.000374031 max 0.079566997 sum 960.985445
# range, mid point, percentile, count
>= 0.000374031 <= 0.0004 , 0.000387016 , 0.00, 1
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 17
> 0.0005 <= 0.0006 , 0.00055 , 0.14, 212
> 0.0006 <= 0.0007 , 0.00065 , 0.53, 640
> 0.0007 <= 0.0008 , 0.00075 , 1.33, 1317
> 0.0008 <= 0.0009 , 0.00085 , 2.36, 1673
> 0.0009 <= 0.001 , 0.00095 , 3.76, 2296
> 0.001 <= 0.0011 , 0.00105 , 6.35, 4254
> 0.0011 <= 0.0012 , 0.00115 , 11.19, 7925
> 0.0012 <= 0.0014 , 0.0013 , 24.98, 22593
> 0.0014 <= 0.0016 , 0.0015 , 44.95, 32730
> 0.0016 <= 0.0018 , 0.0017 , 59.13, 23234
> 0.0018 <= 0.002 , 0.0019 , 68.18, 14842
> 0.002 <= 0.0025 , 0.00225 , 78.75, 17311
> 0.0025 <= 0.003 , 0.00275 , 83.40, 7617
> 0.003 <= 0.0035 , 0.00325 , 86.63, 5303
> 0.0035 <= 0.004 , 0.00375 , 89.05, 3971
> 0.004 <= 0.0045 , 0.00425 , 91.17, 3466
> 0.0045 <= 0.005 , 0.00475 , 92.45, 2096
> 0.005 <= 0.006 , 0.0055 , 93.52, 1760
> 0.006 <= 0.007 , 0.0065 , 93.85, 537
> 0.007 <= 0.008 , 0.0075 , 93.97, 199
> 0.008 <= 0.009 , 0.0085 , 94.02, 71
> 0.009 <= 0.01 , 0.0095 , 94.07, 84
> 0.01 <= 0.012 , 0.011 , 94.10, 60
> 0.012 <= 0.014 , 0.013 , 94.14, 63
> 0.03 <= 0.035 , 0.0325 , 94.16, 32
> 0.045 <= 0.05 , 0.0475 , 94.22, 93
> 0.05 <= 0.06 , 0.055 , 94.50, 468
> 0.06 <= 0.07 , 0.065 , 96.77, 3720
> 0.07 <= 0.079567 , 0.0747835 , 100.00, 5287
# target 50% 0.00167126
# target 75% 0.00232263
# target 90% 0.00422343
# target 99% 0.0766017
# target 99.9% 0.0792705
Ping SERVING : 163872
All done 163872 calls (plus 32 warmup) 5.864 ms avg, 5455.6 qps
Successfully wrote 5154 bytes of Json data to /data/2018-12-14-064945_grpc_baseline_0qps_30s_echo_1_4.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-linkerd:8079
06:50:15 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:50:45 I periodic.go:533> T003 ended after 30.001360838s : 375 calls. qps=12.499433009886056
06:50:45 I periodic.go:533> T027 ended after 30.005407475s : 365 calls. qps=12.164474030359756
06:50:45 I periodic.go:533> T017 ended after 30.005447932s : 368 calls. qps=12.264439472257902
06:50:45 I periodic.go:533> T023 ended after 30.005461661s : 363 calls. qps=12.09779753103463
06:50:45 I periodic.go:533> T011 ended after 30.005490297s : 364 calls. qps=12.13111321951614
06:50:45 I periodic.go:533> T007 ended after 30.005510859s : 363 calls. qps=12.097777695096966
06:50:45 I periodic.go:533> T006 ended after 30.005523234s : 360 calls. qps=11.997791113073312
06:50:45 I periodic.go:533> T012 ended after 30.005535682s : 369 calls. qps=12.297730789100997
06:50:45 I periodic.go:533> T015 ended after 30.005547077s : 369 calls. qps=12.297726118876456
06:50:45 I periodic.go:533> T028 ended after 30.005573558s : 359 calls. qps=11.96444384927561
06:50:45 I periodic.go:533> T016 ended after 30.005726294s : 379 calls. qps=12.630922387497268
06:50:45 I periodic.go:533> T025 ended after 30.006777934s : 363 calls. qps=12.097266850790167
06:50:45 I periodic.go:533> T005 ended after 30.006806675s : 354 calls. qps=11.79732331514413
06:50:45 I periodic.go:533> T030 ended after 30.006820674s : 373 calls. qps=12.430507185427784
06:50:45 I periodic.go:533> T031 ended after 30.006849636s : 363 calls. qps=12.097237944115914
06:50:45 I periodic.go:533> T013 ended after 30.006866934s : 361 calls. qps=12.030579560139293
06:50:45 I periodic.go:533> T026 ended after 30.006879122s : 359 calls. qps=11.963923290402889
06:50:45 I periodic.go:533> T010 ended after 30.00689148s : 365 calls. qps=12.16387243054741
06:50:45 I periodic.go:533> T008 ended after 30.006904065s : 361 calls. qps=12.030564673316958
06:50:45 I periodic.go:533> T019 ended after 30.006965769s : 354 calls. qps=11.797260766888837
06:50:45 I periodic.go:533> T000 ended after 30.00698282s : 361 calls. qps=12.030533098428988
06:50:45 I periodic.go:533> T021 ended after 30.006995829s : 370 calls. qps=12.330457940825143
06:50:45 I periodic.go:533> T014 ended after 30.007758414s : 370 calls. qps=12.330144587786936
06:50:45 I periodic.go:533> T022 ended after 30.007773601s : 363 calls. qps=12.096865459818822
06:50:45 I periodic.go:533> T004 ended after 30.007801437s : 375 calls. qps=12.496750246341614
06:50:45 I periodic.go:533> T024 ended after 30.007816147s : 368 calls. qps=12.263471563450992
06:50:45 I periodic.go:533> T018 ended after 30.007827992s : 373 calls. qps=12.430089911853692
06:50:45 I periodic.go:533> T002 ended after 30.007840613s : 373 calls. qps=12.430084683881216
06:50:45 I periodic.go:533> T001 ended after 30.007854038s : 366 calls. qps=12.196806860514627
06:50:45 I periodic.go:533> T009 ended after 30.007880077s : 370 calls. qps=12.330094596838654
06:50:45 I periodic.go:533> T020 ended after 30.00789321s : 364 calls. qps=12.130141808112628
06:50:45 I periodic.go:533> T029 ended after 30.007906961s : 362 calls. qps=12.063487149252895
Ended after 30.007922973s : 11702 calls. qps=389.96
Aggregated Function Time : count 11702 avg 0.082045613 +/- 0.03711 min 0.001192992 max 0.196593905 sum 960.097767
# range, mid point, percentile, count
>= 0.00119299 <= 0.0012 , 0.0011965 , 0.01, 1
> 0.0012 <= 0.0014 , 0.0013 , 0.02, 1
> 0.0014 <= 0.0016 , 0.0015 , 0.03, 2
> 0.0016 <= 0.0018 , 0.0017 , 0.12, 10
> 0.0018 <= 0.002 , 0.0019 , 0.37, 29
> 0.002 <= 0.0025 , 0.00225 , 3.32, 345
> 0.0025 <= 0.003 , 0.00275 , 4.93, 189
> 0.003 <= 0.0035 , 0.00325 , 6.35, 166
> 0.0035 <= 0.004 , 0.00375 , 8.36, 235
> 0.004 <= 0.0045 , 0.00425 , 12.38, 471
> 0.0045 <= 0.005 , 0.00475 , 15.50, 365
> 0.005 <= 0.006 , 0.0055 , 17.36, 218
> 0.006 <= 0.007 , 0.0065 , 17.62, 30
> 0.007 <= 0.008 , 0.0075 , 17.87, 29
> 0.008 <= 0.009 , 0.0085 , 18.13, 30
> 0.009 <= 0.01 , 0.0095 , 18.17, 5
> 0.01 <= 0.012 , 0.011 , 18.18, 1
> 0.08 <= 0.09 , 0.085 , 18.36, 22
> 0.09 <= 0.1 , 0.095 , 77.19, 6884
> 0.1 <= 0.196594 , 0.148297 , 100.00, 2669
# target 50% 0.0953777
# target 75% 0.0996274
# target 90% 0.154243
# target 99% 0.192359
# target 99.9% 0.19617
Ping SERVING : 11702
All done 11702 calls (plus 32 warmup) 82.046 ms avg, 390.0 qps
Successfully wrote 3672 bytes of Json data to /data/2018-12-14-065015_grpc_linkerd_0qps_30s_echo_1_4.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-istio:8079
06:50:45 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:51:16 I periodic.go:533> T002 ended after 30.094280649s : 146 calls. qps=4.851420165274873
06:51:16 I periodic.go:533> T010 ended after 30.096579191s : 146 calls. qps=4.851049651638132
06:51:16 I periodic.go:533> T005 ended after 30.097074426s : 146 calls. qps=4.850969829608249
06:51:16 I periodic.go:533> T017 ended after 30.097094001s : 145 calls. qps=4.817740875420805
06:51:16 I periodic.go:533> T030 ended after 30.097107206s : 147 calls. qps=4.88419033078019
06:51:16 I periodic.go:533> T021 ended after 30.09713596s : 145 calls. qps=4.817734158914967
06:51:16 I periodic.go:533> T001 ended after 30.097148129s : 152 calls. qps=5.050312386692244
06:51:16 I periodic.go:533> T009 ended after 30.09716064s : 143 calls. qps=4.751278757171161
06:51:16 I periodic.go:533> T000 ended after 30.097172552s : 148 calls. qps=4.917405438809739
06:51:16 I periodic.go:533> T008 ended after 30.097184018s : 144 calls. qps=4.784500766379971
06:51:16 I periodic.go:533> T029 ended after 30.097194194s : 147 calls. qps=4.8841762143165175
06:51:16 I periodic.go:533> T006 ended after 30.097226341s : 147 calls. qps=4.884170997503149
06:51:16 I periodic.go:533> T007 ended after 30.097236653s : 143 calls. qps=4.751266757433235
06:51:16 I periodic.go:533> T016 ended after 30.097248781s : 139 calls. qps=4.618362329773772
06:51:16 I periodic.go:533> T022 ended after 30.097259699s : 149 calls. qps=4.950616816618379
06:51:16 I periodic.go:533> T003 ended after 30.098646154s : 154 calls. qps=5.116509201512174
06:51:16 I periodic.go:533> T015 ended after 30.196268474s : 138 calls. qps=4.570101107652511
06:51:16 I periodic.go:533> T013 ended after 30.196313614s : 146 calls. qps=4.835027277379634
06:51:16 I periodic.go:533> T011 ended after 30.196342646s : 146 calls. qps=4.835022628786473
06:51:16 I periodic.go:533> T025 ended after 30.196355469s : 145 calls. qps=4.8019039962905135
06:51:16 I periodic.go:533> T027 ended after 30.196367111s : 144 calls. qps=4.768785578432823
06:51:16 I periodic.go:533> T018 ended after 30.19639132s : 139 calls. qps=4.603199055376396
06:51:16 I periodic.go:533> T004 ended after 30.196417344s : 148 calls. qps=4.901243691063485
06:51:16 I periodic.go:533> T014 ended after 30.196429629s : 145 calls. qps=4.801892203200908
06:51:16 I periodic.go:533> T023 ended after 30.196440957s : 140 calls. qps=4.636307974153684
06:51:16 I periodic.go:533> T024 ended after 30.19645227s : 145 calls. qps=4.801888602789827
06:51:16 I periodic.go:533> T020 ended after 30.196463018s : 147 calls. qps=4.868119816296824
06:51:16 I periodic.go:533> T026 ended after 30.19647597s : 142 calls. qps=4.7025354925878124
06:51:16 I periodic.go:533> T019 ended after 30.196519586s : 143 calls. qps=4.73564509951998
06:51:16 I periodic.go:533> T028 ended after 30.196530873s : 141 calls. qps=4.66941055557061
06:51:16 I periodic.go:533> T012 ended after 30.196543268s : 152 calls. qps=5.0336887454624
06:51:16 I periodic.go:533> T031 ended after 30.196554742s : 151 calls. qps=5.0005704720338855
Ended after 30.19657094s : 4653 calls. qps=154.09
Aggregated Function Time : count 4653 avg 0.20729704 +/- 0.06555 min 0.001146873 max 0.503124833 sum 964.553125
# range, mid point, percentile, count
>= 0.00114687 <= 0.0012 , 0.00117344 , 0.02, 1
> 0.0014 <= 0.0016 , 0.0015 , 0.09, 3
> 0.0016 <= 0.0018 , 0.0017 , 0.19, 5
> 0.0018 <= 0.002 , 0.0019 , 0.34, 7
> 0.002 <= 0.0025 , 0.00225 , 0.82, 22
> 0.0025 <= 0.003 , 0.00275 , 1.05, 11
> 0.003 <= 0.0035 , 0.00325 , 1.10, 2
> 0.0035 <= 0.004 , 0.00375 , 1.16, 3
> 0.004 <= 0.0045 , 0.00425 , 1.23, 3
> 0.0045 <= 0.005 , 0.00475 , 1.38, 7
> 0.005 <= 0.006 , 0.0055 , 1.57, 9
> 0.006 <= 0.007 , 0.0065 , 1.59, 1
> 0.08 <= 0.09 , 0.085 , 1.61, 1
> 0.09 <= 0.1 , 0.095 , 3.72, 98
> 0.1 <= 0.2 , 0.15 , 41.97, 1780
> 0.2 <= 0.3 , 0.25 , 96.05, 2516
> 0.3 <= 0.4 , 0.35 , 99.03, 139
> 0.4 <= 0.5 , 0.45 , 99.98, 44
> 0.5 <= 0.503125 , 0.501562 , 100.00, 1
# target 50% 0.214845
# target 75% 0.261079
# target 90% 0.28882
# target 99% 0.398899
# target 99.9% 0.491698
Ping SERVING : 4653
All done 4653 calls (plus 32 warmup) 207.297 ms avg, 154.1 qps
Successfully wrote 3474 bytes of Json data to /data/2018-12-14-065045_grpc_istio_0qps_30s_echo_1_4.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8080/echo
06:51:16 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
06:51:16 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:51:46 I periodic.go:533> T010 ended after 30.043872885s : 7877 calls. qps=262.18324215892784
06:51:46 I periodic.go:533> T025 ended after 30.044189151s : 7794 calls. qps=259.4178847972198
06:51:46 I periodic.go:533> T001 ended after 30.044245066s : 7848 calls. qps=261.21475120309486
06:51:46 I periodic.go:533> T005 ended after 30.044275153s : 7782 calls. qps=259.0177316766767
06:51:46 I periodic.go:533> T015 ended after 30.044312991s : 7945 calls. qps=264.4427250634749
06:51:46 I periodic.go:533> T026 ended after 30.044333204s : 7916 calls. qps=263.4773068934707
06:51:46 I periodic.go:533> T017 ended after 30.044407388s : 7819 calls. qps=260.24810205186395
06:51:46 I periodic.go:533> T012 ended after 30.044419621s : 7751 calls. qps=257.9846806087851
06:51:46 I periodic.go:533> T008 ended after 30.044429505s : 8004 calls. qps=266.4054579125216
06:51:46 I periodic.go:533> T028 ended after 30.044440809s : 7795 calls. qps=259.44899589094564
06:51:46 I periodic.go:533> T004 ended after 30.044491971s : 7931 calls. qps=263.97517414024776
06:51:46 I periodic.go:533> T018 ended after 30.04450393s : 7756 calls. qps=258.1503764572225
06:51:46 I periodic.go:533> T013 ended after 30.044513709s : 7911 calls. qps=263.30930420851564
06:51:46 I periodic.go:533> T019 ended after 30.044524261s : 7756 calls. qps=258.150201767976
06:51:46 I periodic.go:533> T007 ended after 30.044550144s : 7827 calls. qps=260.5131367414759
06:51:46 I periodic.go:533> T020 ended after 30.04457687s : 8010 calls. qps=266.6038544878998
06:51:46 I periodic.go:533> T027 ended after 30.044633044s : 7837 calls. qps=260.8452560736158
06:51:46 I periodic.go:533> T016 ended after 30.04466135s : 7822 calls. qps=260.34575357262264
06:51:46 I periodic.go:533> T011 ended after 30.044672022s : 7848 calls. qps=261.21103915707107
06:51:46 I periodic.go:533> T022 ended after 30.044682799s : 7836 calls. qps=260.81154034552867
06:51:46 I periodic.go:533> T009 ended after 30.044692704s : 7845 calls. qps=261.111008100128
06:51:46 I periodic.go:533> T021 ended after 30.044703263s : 7829 calls. qps=260.5783765433756
06:51:46 I periodic.go:533> T002 ended after 30.044713278s : 7794 calls. qps=259.4133592783225
06:51:46 I periodic.go:533> T014 ended after 30.044736221s : 7752 calls. qps=258.0152457648032
06:51:46 I periodic.go:533> T006 ended after 30.044747971s : 7758 calls. qps=258.2148469838466
06:51:46 I periodic.go:533> T029 ended after 30.044759044s : 7845 calls. qps=261.1104315568363
06:51:46 I periodic.go:533> T031 ended after 30.044769214s : 7924 calls. qps=263.7397526191562
06:51:46 I periodic.go:533> T030 ended after 30.04478031s : 7651 calls. qps=254.65321833135414
06:51:46 I periodic.go:533> T023 ended after 30.044790774s : 7816 calls. qps=260.1449302407447
06:51:46 I periodic.go:533> T003 ended after 30.044819438s : 7873 calls. qps=262.0418477217543
06:51:46 I periodic.go:533> T024 ended after 30.04483001s : 7852 calls. qps=261.3427999887692
06:51:46 I periodic.go:533> T000 ended after 30.044841604s : 7799 calls. qps=259.57866920362414
Ended after 30.044858327s : 250803 calls. qps=8347.6
Aggregated Function Time : count 250803 avg 0.0038325085 +/- 0.01423 min 7.1565e-05 max 0.080064963 sum 961.204627
# range, mid point, percentile, count
>= 7.1565e-05 <= 0.0001 , 8.57825e-05 , 0.50, 1252
> 0.0001 <= 0.0002 , 0.00015 , 4.92, 11093
> 0.0002 <= 0.0003 , 0.00025 , 10.05, 12869
> 0.0003 <= 0.0004 , 0.00035 , 15.67, 14091
> 0.0004 <= 0.0005 , 0.00045 , 21.61, 14895
> 0.0005 <= 0.0006 , 0.00055 , 27.79, 15489
> 0.0006 <= 0.0007 , 0.00065 , 33.88, 15272
> 0.0007 <= 0.0008 , 0.00075 , 39.81, 14880
> 0.0008 <= 0.0009 , 0.00085 , 45.82, 15065
> 0.0009 <= 0.001 , 0.00095 , 51.90, 15271
> 0.001 <= 0.0011 , 0.00105 , 57.90, 15050
> 0.0011 <= 0.0012 , 0.00115 , 63.80, 14794
> 0.0012 <= 0.0014 , 0.0013 , 75.06, 28220
> 0.0014 <= 0.0016 , 0.0015 , 85.08, 25130
> 0.0016 <= 0.0018 , 0.0017 , 90.18, 12807
> 0.0018 <= 0.002 , 0.0019 , 92.07, 4725
> 0.002 <= 0.0025 , 0.00225 , 94.25, 5482
> 0.0025 <= 0.003 , 0.00275 , 95.07, 2048
> 0.003 <= 0.0035 , 0.00325 , 95.32, 635
> 0.0035 <= 0.004 , 0.00375 , 95.52, 491
> 0.004 <= 0.0045 , 0.00425 , 95.74, 549
> 0.0045 <= 0.005 , 0.00475 , 95.93, 476
> 0.005 <= 0.006 , 0.0055 , 96.12, 494
> 0.006 <= 0.007 , 0.0065 , 96.15, 61
> 0.007 <= 0.008 , 0.0075 , 96.16, 31
> 0.008 <= 0.009 , 0.0085 , 96.16, 1
> 0.018 <= 0.02 , 0.019 , 96.17, 30
> 0.02 <= 0.025 , 0.0225 , 96.17, 2
> 0.045 <= 0.05 , 0.0475 , 96.17, 1
> 0.05 <= 0.06 , 0.055 , 96.24, 157
> 0.06 <= 0.07 , 0.065 , 96.36, 323
> 0.07 <= 0.08 , 0.075 , 100.00, 9118
> 0.08 <= 0.080065 , 0.0800325 , 100.00, 1
# target 50% 0.000968728
# target 75% 0.00139902
# target 90% 0.00179289
# target 99% 0.0772505
# target 99.9% 0.079726
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 250803 (100.0 %)
Response Header Sizes : count 250803 avg 75 +/- 0 min 75 max 75 sum 18810225
Response Body/Total Sizes : count 250803 avg 75 +/- 0 min 75 max 75 sum 18810225
All done 250803 calls (plus 32 warmup) 3.833 ms avg, 8347.6 qps
Successfully wrote 5970 bytes of Json data to /data/2018-12-14-065116_http_baseline_0qps_30s_echo_0_5.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-linkerd:8080/echo
06:51:46 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 32 threads at -1.0 qps
06:51:46 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:52:16 I periodic.go:533> T017 ended after 30.095095406s : 486 calls. qps=16.14881074286633
06:52:16 I periodic.go:533> T002 ended after 30.095204747s : 489 calls. qps=16.248435726251216
06:52:16 I periodic.go:533> T028 ended after 30.095237643s : 483 calls. qps=16.049050874078855
06:52:16 I periodic.go:533> T006 ended after 30.095249879s : 479 calls. qps=15.916133008559559
06:52:16 I periodic.go:533> T015 ended after 30.095263778s : 483 calls. qps=16.049036936937526
06:52:16 I periodic.go:533> T008 ended after 30.095276066s : 493 calls. qps=16.381308445844912
06:52:16 I periodic.go:533> T000 ended after 30.095313285s : 479 calls. qps=15.916099475819097
06:52:16 I periodic.go:533> T012 ended after 30.095326319s : 479 calls. qps=15.916092582707575
06:52:16 I periodic.go:533> T022 ended after 30.095338595s : 474 calls. qps=15.749947404770177
06:52:16 I periodic.go:533> T001 ended after 30.095352265s : 473 calls. qps=15.716712528734377
06:52:16 I periodic.go:533> T025 ended after 30.095363536s : 501 calls. qps=16.647082511587044
06:52:16 I periodic.go:533> T027 ended after 30.095375014s : 489 calls. qps=16.24834379942178
06:52:16 I periodic.go:533> T004 ended after 30.095401877s : 507 calls. qps=16.846427307138498
06:52:16 I periodic.go:533> T024 ended after 30.095412635s : 471 calls. qps=15.650225690949394
06:52:16 I periodic.go:533> T021 ended after 30.095425638s : 476 calls. qps=15.81635713432072
06:52:16 I periodic.go:533> T018 ended after 30.095574613s : 495 calls. qps=16.44760089698308
06:52:16 I periodic.go:533> T019 ended after 30.095589346s : 474 calls. qps=15.749816179060778
06:52:16 I periodic.go:533> T023 ended after 30.095600308s : 469 calls. qps=15.583673201405809
06:52:16 I periodic.go:533> T010 ended after 30.095610585s : 462 calls. qps=15.351075822009278
06:52:16 I periodic.go:533> T007 ended after 30.09562124s : 476 calls. qps=15.816254338267317
06:52:16 I periodic.go:533> T013 ended after 30.095631434s : 469 calls. qps=15.583657084202448
06:52:16 I periodic.go:533> T016 ended after 30.095659018s : 457 calls. qps=15.184914200638422
06:52:16 I periodic.go:533> T031 ended after 30.095669558s : 485 calls. qps=16.11527529119477
06:52:16 I periodic.go:533> T005 ended after 30.095679823s : 507 calls. qps=16.846271723443035
06:52:16 I periodic.go:533> T026 ended after 30.095689868s : 504 calls. qps=16.746584052751377
06:52:16 I periodic.go:533> T014 ended after 30.095699693s : 489 calls. qps=16.248168508730075
06:52:16 I periodic.go:533> T009 ended after 30.095710273s : 485 calls. qps=16.11525348963476
06:52:16 I periodic.go:533> T030 ended after 30.095731939s : 478 calls. qps=15.8826507681834
06:52:16 I periodic.go:533> T011 ended after 30.095743357s : 493 calls. qps=16.381054096320657
06:52:16 I periodic.go:533> T029 ended after 30.095753911s : 478 calls. qps=15.882639172740278
06:52:16 I periodic.go:533> T020 ended after 30.09590125s : 475 calls. qps=15.782880069092464
06:52:16 I periodic.go:533> T003 ended after 30.096030659s : 488 calls. qps=16.21476285458485
Ended after 30.096052365s : 15446 calls. qps=513.22
Aggregated Function Time : count 15446 avg 0.06234102 +/- 0.05032 min 0.000389387 max 0.198132167 sum 962.919402
# range, mid point, percentile, count
>= 0.000389387 <= 0.0004 , 0.000394694 , 0.03, 4
> 0.0004 <= 0.0005 , 0.00045 , 1.17, 176
> 0.0005 <= 0.0006 , 0.00055 , 2.67, 233
> 0.0006 <= 0.0007 , 0.00065 , 3.52, 131
> 0.0007 <= 0.0008 , 0.00075 , 3.94, 65
> 0.0008 <= 0.0009 , 0.00085 , 4.12, 27
> 0.0009 <= 0.001 , 0.00095 , 4.21, 14
> 0.001 <= 0.0011 , 0.00105 , 4.31, 15
> 0.0011 <= 0.0012 , 0.00115 , 4.38, 11
> 0.0012 <= 0.0014 , 0.0013 , 4.58, 31
> 0.0014 <= 0.0016 , 0.0015 , 4.97, 60
> 0.0016 <= 0.0018 , 0.0017 , 6.29, 205
> 0.0018 <= 0.002 , 0.0019 , 8.29, 308
> 0.002 <= 0.0025 , 0.00225 , 12.29, 618
> 0.0025 <= 0.003 , 0.00275 , 16.90, 713
> 0.003 <= 0.0035 , 0.00325 , 21.37, 690
> 0.0035 <= 0.004 , 0.00375 , 25.50, 637
> 0.004 <= 0.0045 , 0.00425 , 30.10, 712
> 0.0045 <= 0.005 , 0.00475 , 33.75, 563
> 0.005 <= 0.006 , 0.0055 , 38.68, 762
> 0.006 <= 0.007 , 0.0065 , 39.43, 116
> 0.007 <= 0.008 , 0.0075 , 39.73, 46
> 0.008 <= 0.009 , 0.0085 , 39.74, 2
> 0.009 <= 0.01 , 0.0095 , 39.87, 20
> 0.01 <= 0.012 , 0.011 , 39.92, 7
> 0.012 <= 0.014 , 0.013 , 39.98, 9
> 0.08 <= 0.09 , 0.085 , 40.19, 32
> 0.09 <= 0.1 , 0.095 , 87.30, 7278
> 0.1 <= 0.198132 , 0.149066 , 100.00, 1961
# target 50% 0.092083
# target 75% 0.0973887
# target 90% 0.120837
# target 99% 0.190403
# target 99.9% 0.197359
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 15446 (100.0 %)
Response Header Sizes : count 15446 avg 75 +/- 0 min 75 max 75 sum 1158450
Response Body/Total Sizes : count 15446 avg 75 +/- 0 min 75 max 75 sum 1158450
All done 15446 calls (plus 32 warmup) 62.341 ms avg, 513.2 qps
Successfully wrote 5388 bytes of Json data to /data/2018-12-14-065146_http_linkerd_0qps_30s_echo_0_5.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8080/echo
06:52:16 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 32 threads at -1.0 qps
06:52:16 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:52:47 I periodic.go:533> T029 ended after 30.081117918s : 164 calls. qps=5.451925039722854
06:52:47 I periodic.go:533> T022 ended after 30.081561502s : 169 calls. qps=5.618059421176121
06:52:47 I periodic.go:533> T018 ended after 30.081588034s : 163 calls. qps=5.418596911033012
06:52:47 I periodic.go:533> T005 ended after 30.083094897s : 158 calls. qps=5.252119189896129
06:52:47 I periodic.go:533> T011 ended after 30.08314074s : 164 calls. qps=5.451558446553343
06:52:47 I periodic.go:533> T024 ended after 30.084774978s : 164 calls. qps=5.451262311914507
06:52:47 I periodic.go:533> T014 ended after 30.084805595s : 168 calls. qps=5.584214246274573
06:52:47 I periodic.go:533> T021 ended after 30.084819801s : 167 calls. qps=5.550972254600277
06:52:47 I periodic.go:533> T003 ended after 30.180187255s : 163 calls. qps=5.400894256313652
06:52:47 I periodic.go:533> T012 ended after 30.180244825s : 172 calls. qps=5.69909227036895
06:52:47 I periodic.go:533> T020 ended after 30.180262878s : 166 calls. qps=5.500283435934093
06:52:47 I periodic.go:533> T009 ended after 30.180275238s : 161 calls. qps=5.334610063372941
06:52:47 I periodic.go:533> T016 ended after 30.180286038s : 168 calls. qps=5.566547639358726
06:52:47 I periodic.go:533> T004 ended after 30.180297021s : 164 calls. qps=5.434008813295834
06:52:47 I periodic.go:533> T023 ended after 30.180355287s : 165 calls. qps=5.467132458545732
06:52:47 I periodic.go:533> T010 ended after 30.180367498s : 168 calls. qps=5.566532614658621
06:52:47 I periodic.go:533> T027 ended after 30.180379395s : 157 calls. qps=5.202055214256527
06:52:47 I periodic.go:533> T025 ended after 30.180389692s : 170 calls. qps=5.632796717832387
06:52:47 I periodic.go:533> T008 ended after 30.180401017s : 168 calls. qps=5.566526432348233
06:52:47 I periodic.go:533> T015 ended after 30.180412076s : 171 calls. qps=5.665926613904064
06:52:47 I periodic.go:533> T028 ended after 30.180423078s : 170 calls. qps=5.632790486755018
06:52:47 I periodic.go:533> T013 ended after 30.180433413s : 167 calls. qps=5.533386406838876
06:52:47 I periodic.go:533> T017 ended after 30.180443491s : 157 calls. qps=5.202044166342963
06:52:47 I periodic.go:533> T019 ended after 30.180454136s : 168 calls. qps=5.566516635003361
06:52:47 I periodic.go:533> T031 ended after 30.180465378s : 169 calls. qps=5.599648576764236
06:52:47 I periodic.go:533> T006 ended after 30.180475907s : 169 calls. qps=5.599646623226457
06:52:47 I periodic.go:533> T026 ended after 30.180487603s : 162 calls. qps=5.36770651723655
06:52:47 I periodic.go:533> T002 ended after 30.180497773s : 167 calls. qps=5.533374606876137
06:52:47 I periodic.go:533> T030 ended after 30.180508687s : 164 calls. qps=5.433970702774855
06:52:47 I periodic.go:533> T007 ended after 30.180518558s : 157 calls. qps=5.2020312274715295
06:52:47 I periodic.go:533> T000 ended after 30.180529882s : 171 calls. qps=5.665904497653843
06:52:47 I periodic.go:533> T001 ended after 30.180543132s : 169 calls. qps=5.599634150414334
Ended after 30.180560671s : 5300 calls. qps=175.61
Aggregated Function Time : count 5300 avg 0.18204891 +/- 0.07314 min 0.000691262 max 0.496836978 sum 964.859245
# range, mid point, percentile, count
>= 0.000691262 <= 0.0007 , 0.000695631 , 0.02, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.08, 3
> 0.0008 <= 0.0009 , 0.00085 , 0.13, 3
> 0.0009 <= 0.001 , 0.00095 , 0.25, 6
> 0.001 <= 0.0011 , 0.00105 , 0.38, 7
> 0.0011 <= 0.0012 , 0.00115 , 0.47, 5
> 0.0012 <= 0.0014 , 0.0013 , 0.74, 14
> 0.0014 <= 0.0016 , 0.0015 , 0.98, 13
> 0.0016 <= 0.0018 , 0.0017 , 1.11, 7
> 0.0018 <= 0.002 , 0.0019 , 1.15, 2
> 0.002 <= 0.0025 , 0.00225 , 1.23, 4
> 0.0025 <= 0.003 , 0.00275 , 1.26, 2
> 0.003 <= 0.0035 , 0.00325 , 1.36, 5
> 0.0035 <= 0.004 , 0.00375 , 1.47, 6
> 0.004 <= 0.0045 , 0.00425 , 1.60, 7
> 0.0045 <= 0.005 , 0.00475 , 1.62, 1
> 0.005 <= 0.006 , 0.0055 , 1.75, 7
> 0.007 <= 0.008 , 0.0075 , 1.79, 2
> 0.008 <= 0.009 , 0.0085 , 1.81, 1
> 0.07 <= 0.08 , 0.075 , 2.00, 10
> 0.09 <= 0.1 , 0.095 , 10.83, 468
> 0.1 <= 0.2 , 0.15 , 61.60, 2691
> 0.2 <= 0.3 , 0.25 , 97.30, 1892
> 0.3 <= 0.4 , 0.35 , 99.47, 115
> 0.4 <= 0.496837 , 0.448418 , 100.00, 28
# target 50% 0.177146
# target 75% 0.237526
# target 90% 0.279545
# target 99% 0.378261
# target 99.9% 0.478507
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 5300 (100.0 %)
Response Header Sizes : count 5300 avg 210.14321 +/- 0.6256 min 209 max 211 sum 1113759
Response Body/Total Sizes : count 5300 avg 210.14321 +/- 0.6256 min 209 max 211 sum 1113759
All done 5300 calls (plus 32 warmup) 182.049 ms avg, 175.6 qps
Successfully wrote 4856 bytes of Json data to /data/2018-12-14-065217_http_istio_0qps_30s_echo_0_5.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8079
06:52:47 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:53:17 I periodic.go:533> T014 ended after 30.036799135s : 5137 calls. qps=171.02354937727623
06:53:17 I periodic.go:533> T004 ended after 30.03697427s : 5118 calls. qps=170.3899984730386
06:53:17 I periodic.go:533> T030 ended after 30.037013604s : 5134 calls. qps=170.9224514688874
06:53:17 I periodic.go:533> T005 ended after 30.037081902s : 5132 calls. qps=170.855478463049
06:53:17 I periodic.go:533> T029 ended after 30.037112021s : 5108 calls. qps=170.0562955729172
06:53:17 I periodic.go:533> T031 ended after 30.037160022s : 5105 calls. qps=169.95614752729503
06:53:17 I periodic.go:533> T021 ended after 30.037188613s : 5119 calls. qps=170.42207464730947
06:53:17 I periodic.go:533> T011 ended after 30.037231042s : 5119 calls. qps=170.4218339181226
06:53:17 I periodic.go:533> T003 ended after 30.037257959s : 5124 calls. qps=170.58814113439095
06:53:17 I periodic.go:533> T022 ended after 30.037283546s : 5125 calls. qps=170.62128777895046
06:53:17 I periodic.go:533> T025 ended after 30.037343207s : 5114 calls. qps=170.25473806911847
06:53:17 I periodic.go:533> T007 ended after 30.037368301s : 5130 calls. qps=170.78726566831799
06:53:17 I periodic.go:533> T002 ended after 30.037408762s : 5131 calls. qps=170.8203274342084
06:53:17 I periodic.go:533> T024 ended after 30.037443001s : 5133 calls. qps=170.8867162837101
06:53:17 I periodic.go:533> T001 ended after 30.037482559s : 5141 calls. qps=171.15282513779187
06:53:17 I periodic.go:533> T017 ended after 30.037510821s : 5124 calls. qps=170.58670508801544
06:53:17 I periodic.go:533> T000 ended after 30.03755568s : 5103 calls. qps=169.88732553220854
06:53:17 I periodic.go:533> T019 ended after 30.03758205s : 5110 calls. qps=170.1202177823098
06:53:17 I periodic.go:533> T020 ended after 30.037609838s : 5130 calls. qps=170.78589234187788
06:53:17 I periodic.go:533> T027 ended after 30.037668295s : 5109 calls. qps=170.08643779618646
06:53:17 I periodic.go:533> T009 ended after 30.037695184s : 5146 calls. qps=171.3180711262124
06:53:17 I periodic.go:533> T028 ended after 30.037842522s : 5142 calls. qps=171.1840654412497
06:53:17 I periodic.go:533> T012 ended after 30.038254064s : 5130 calls. qps=170.78222952206002
06:53:17 I periodic.go:533> T010 ended after 30.038303591s : 5143 calls. qps=171.21472870195416
06:53:17 I periodic.go:533> T023 ended after 30.038331003s : 5132 calls. qps=170.84837368252767
06:53:17 I periodic.go:533> T015 ended after 30.038370756s : 5122 calls. qps=170.5152400443326
06:53:17 I periodic.go:533> T026 ended after 30.038398322s : 5146 calls. qps=171.31406091752538
06:53:17 I periodic.go:533> T016 ended after 30.038446247s : 5122 calls. qps=170.51481151464498
06:53:17 I periodic.go:533> T013 ended after 30.038472168s : 5132 calls. qps=170.84757078514542
06:53:17 I periodic.go:533> T006 ended after 30.038497736s : 5120 calls. qps=170.44793800935904
06:53:17 I periodic.go:533> T018 ended after 30.038536437s : 5098 calls. qps=169.71532586789192
06:53:17 I periodic.go:533> T008 ended after 30.038565648s : 5129 calls. qps=170.7471674947134
Ended after 30.038582254s : 164008 calls. qps=5459.9
Aggregated Function Time : count 164008 avg 0.0058595067 +/- 0.01601 min 0.000367505 max 0.081196986 sum 961.005978
# range, mid point, percentile, count
>= 0.000367505 <= 0.0004 , 0.000383753 , 0.00, 1
> 0.0004 <= 0.0005 , 0.00045 , 0.00, 7
> 0.0005 <= 0.0006 , 0.00055 , 0.13, 208
> 0.0006 <= 0.0007 , 0.00065 , 0.60, 771
> 0.0007 <= 0.0008 , 0.00075 , 1.49, 1462
> 0.0008 <= 0.0009 , 0.00085 , 2.57, 1772
> 0.0009 <= 0.001 , 0.00095 , 4.03, 2395
> 0.001 <= 0.0011 , 0.00105 , 6.54, 4118
> 0.0011 <= 0.0012 , 0.00115 , 11.16, 7573
> 0.0012 <= 0.0014 , 0.0013 , 26.29, 24804
> 0.0014 <= 0.0016 , 0.0015 , 46.97, 33926
> 0.0016 <= 0.0018 , 0.0017 , 61.76, 24258
> 0.0018 <= 0.002 , 0.0019 , 70.46, 14271
> 0.002 <= 0.0025 , 0.00225 , 79.83, 15358
> 0.0025 <= 0.003 , 0.00275 , 84.29, 7324
> 0.003 <= 0.0035 , 0.00325 , 87.22, 4792
> 0.0035 <= 0.004 , 0.00375 , 89.84, 4305
> 0.004 <= 0.0045 , 0.00425 , 91.80, 3220
> 0.0045 <= 0.005 , 0.00475 , 92.87, 1751
> 0.005 <= 0.006 , 0.0055 , 93.64, 1258
> 0.006 <= 0.007 , 0.0065 , 93.81, 289
> 0.007 <= 0.008 , 0.0075 , 93.95, 217
> 0.008 <= 0.009 , 0.0085 , 94.05, 170
> 0.009 <= 0.01 , 0.0095 , 94.09, 68
> 0.01 <= 0.012 , 0.011 , 94.12, 43
> 0.012 <= 0.014 , 0.013 , 94.13, 15
> 0.018 <= 0.02 , 0.019 , 94.15, 32
> 0.04 <= 0.045 , 0.0425 , 94.15, 4
> 0.045 <= 0.05 , 0.0475 , 94.26, 175
> 0.05 <= 0.06 , 0.055 , 94.41, 249
> 0.06 <= 0.07 , 0.065 , 96.47, 3382
> 0.07 <= 0.08 , 0.075 , 99.98, 5760
> 0.08 <= 0.081197 , 0.0805985 , 100.00, 30
# target 50% 0.00164095
# target 75% 0.00224222
# target 90% 0.00404071
# target 99% 0.0772047
# target 99.9% 0.0797673
Ping SERVING : 164008
All done 164008 calls (plus 32 warmup) 5.860 ms avg, 5459.9 qps
Successfully wrote 5407 bytes of Json data to /data/2018-12-14-065247_grpc_baseline_0qps_30s_echo_0_5.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-linkerd:8079
06:53:17 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:53:47 I periodic.go:533> T006 ended after 30.090968255s : 355 calls. qps=11.797559885465374
06:53:47 I periodic.go:533> T011 ended after 30.091129251s : 346 calls. qps=11.498405297916879
06:53:47 I periodic.go:533> T031 ended after 30.092123218s : 345 calls. qps=11.464794208792608
06:53:47 I periodic.go:533> T024 ended after 30.092171013s : 357 calls. qps=11.863550816781343
06:53:47 I periodic.go:533> T017 ended after 30.092185493s : 362 calls. qps=12.029701202134618
06:53:47 I periodic.go:533> T030 ended after 30.092200549s : 351 calls. qps=11.66415195952375
06:53:47 I periodic.go:533> T019 ended after 30.092212726s : 351 calls. qps=11.664147239552516
06:53:47 I periodic.go:533> T007 ended after 30.092241943s : 355 calls. qps=11.797060540468618
06:53:47 I periodic.go:533> T004 ended after 30.092254639s : 362 calls. qps=12.029673560280283
06:53:47 I periodic.go:533> T023 ended after 30.092267792s : 351 calls. qps=11.664125895267787
06:53:47 I periodic.go:533> T008 ended after 30.092356074s : 364 calls. qps=12.096095071615162
06:53:47 I periodic.go:533> T021 ended after 30.095235715s : 367 calls. qps=12.194621217639463
06:53:47 I periodic.go:533> T005 ended after 30.095305665s : 345 calls. qps=11.463581856928117
06:53:47 I periodic.go:533> T022 ended after 30.095320215s : 349 calls. qps=11.596487344436119
06:53:47 I periodic.go:533> T012 ended after 30.095333516s : 358 calls. qps=11.8955319039635
06:53:47 I periodic.go:533> T001 ended after 30.095345977s : 365 calls. qps=12.128121081543531
06:53:47 I periodic.go:533> T000 ended after 30.095372126s : 346 calls. qps=11.496784241490857
06:53:47 I periodic.go:533> T028 ended after 30.09538736s : 346 calls. qps=11.496778421927578
06:53:47 I periodic.go:533> T010 ended after 30.095402151s : 357 calls. qps=11.862277108270431
06:53:47 I periodic.go:533> T025 ended after 30.095414421s : 358 calls. qps=11.895499925403735
06:53:47 I periodic.go:533> T026 ended after 30.09542597s : 350 calls. qps=11.629674235177472
06:53:47 I periodic.go:533> T020 ended after 30.095454599s : 346 calls. qps=11.496752735926334
06:53:47 I periodic.go:533> T002 ended after 30.095466882s : 345 calls. qps=11.46352044820223
06:53:47 I periodic.go:533> T013 ended after 30.09547886s : 357 calls. qps=11.862246873050752
06:53:47 I periodic.go:533> T018 ended after 30.095490083s : 347 calls. qps=11.529966750599932
06:53:47 I periodic.go:533> T014 ended after 30.095501889s : 353 calls. qps=11.729327568683033
06:53:47 I periodic.go:533> T029 ended after 30.095513034s : 343 calls. qps=11.397047779597589
06:53:47 I periodic.go:533> T027 ended after 30.09553869s : 363 calls. qps=12.061588388202397
06:53:47 I periodic.go:533> T016 ended after 30.095551356s : 358 calls. qps=11.895445800783687
06:53:47 I periodic.go:533> T009 ended after 30.095561899s : 349 calls. qps=11.596394218231772
06:53:47 I periodic.go:533> T015 ended after 30.095573607s : 356 calls. qps=11.8289820506095
06:53:47 I periodic.go:533> T003 ended after 30.095585132s : 364 calls. qps=12.094797240309061
Ended after 30.095613184s : 11321 calls. qps=376.17
Aggregated Function Time : count 11321 avg 0.085051843 +/- 0.03761 min 0.001622194 max 0.197316294 sum 962.871917
# range, mid point, percentile, count
>= 0.00162219 <= 0.0018 , 0.0017111 , 0.07, 8
> 0.0018 <= 0.002 , 0.0019 , 0.58, 58
> 0.002 <= 0.0025 , 0.00225 , 2.24, 188
> 0.0025 <= 0.003 , 0.00275 , 3.46, 138
> 0.003 <= 0.0035 , 0.00325 , 4.54, 122
> 0.0035 <= 0.004 , 0.00375 , 6.26, 195
> 0.004 <= 0.0045 , 0.00425 , 10.09, 433
> 0.0045 <= 0.005 , 0.00475 , 13.01, 331
> 0.005 <= 0.006 , 0.0055 , 15.29, 258
> 0.006 <= 0.007 , 0.0065 , 15.80, 58
> 0.007 <= 0.008 , 0.0075 , 16.03, 26
> 0.008 <= 0.009 , 0.0085 , 16.16, 14
> 0.009 <= 0.01 , 0.0095 , 16.33, 20
> 0.01 <= 0.012 , 0.011 , 16.36, 3
> 0.08 <= 0.09 , 0.085 , 16.64, 32
> 0.09 <= 0.1 , 0.095 , 72.86, 6364
> 0.1 <= 0.197316 , 0.148658 , 100.00, 3073
# target 50% 0.0959342
# target 75% 0.107687
# target 90% 0.161465
# target 99% 0.193731
# target 99.9% 0.196958
Ping SERVING : 11321
All done 11321 calls (plus 32 warmup) 85.052 ms avg, 376.2 qps
Successfully wrote 3273 bytes of Json data to /data/2018-12-14-065317_grpc_linkerd_0qps_30s_echo_0_5.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8079
06:53:47 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:54:18 I periodic.go:533> T014 ended after 30.093940739s : 136 calls. qps=4.519182156285431
06:54:18 I periodic.go:533> T027 ended after 30.094252823s : 135 calls. qps=4.485906355409633
06:54:18 I periodic.go:533> T020 ended after 30.094269775s : 142 calls. qps=4.718506249251565
06:54:18 I periodic.go:533> T006 ended after 30.094297521s : 131 calls. qps=4.3529841462020284
06:54:18 I periodic.go:533> T009 ended after 30.094323769s : 142 calls. qps=4.7184977835014
06:54:18 I periodic.go:533> T021 ended after 30.094336416s : 140 calls. qps=4.652038113243374
06:54:18 I periodic.go:533> T011 ended after 30.09434817s : 133 calls. qps=4.419434481474599
06:54:18 I periodic.go:533> T016 ended after 30.09565418s : 143 calls. qps=4.751516585907288
06:54:18 I periodic.go:533> T031 ended after 30.194883702s : 133 calls. qps=4.404719730422097
06:54:18 I periodic.go:533> T004 ended after 30.19573909s : 136 calls. qps=4.5039467189276206
06:54:18 I periodic.go:533> T005 ended after 30.195762065s : 134 calls. qps=4.4377088318403395
06:54:18 I periodic.go:533> T026 ended after 30.195776698s : 130 calls. qps=4.305237825149584
06:54:18 I periodic.go:533> T024 ended after 30.195788254s : 130 calls. qps=4.305236177524826
06:54:18 I periodic.go:533> T023 ended after 30.195812746s : 139 calls. qps=4.6032872560588105
06:54:18 I periodic.go:533> T025 ended after 30.195827806s : 135 calls. qps=4.470816328247014
06:54:18 I periodic.go:533> T029 ended after 30.195839671s : 133 calls. qps=4.40458028155888
06:54:18 I periodic.go:533> T010 ended after 30.195852329s : 131 calls. qps=4.33834417299054
06:54:18 I periodic.go:533> T022 ended after 30.195863137s : 142 calls. qps=4.702630931784912
06:54:18 I periodic.go:533> T008 ended after 30.195875109s : 139 calls. qps=4.603277748972094
06:54:18 I periodic.go:533> T003 ended after 30.195898582s : 142 calls. qps=4.702625411672539
06:54:18 I periodic.go:533> T028 ended after 30.195920911s : 135 calls. qps=4.470802543095189
06:54:18 I periodic.go:533> T019 ended after 30.195932934s : 139 calls. qps=4.603268933727458
06:54:18 I periodic.go:533> T007 ended after 30.195944501s : 135 calls. qps=4.4707990503668205
06:54:18 I periodic.go:533> T001 ended after 30.195993293s : 140 calls. qps=4.6363767087090535
06:54:18 I periodic.go:533> T017 ended after 30.196005711s : 131 calls. qps=4.338322136171754
06:54:18 I periodic.go:533> T015 ended after 30.196017826s : 140 calls. qps=4.636372941847131
06:54:18 I periodic.go:533> T012 ended after 30.196029439s : 137 calls. qps=4.537020348213604
06:54:18 I periodic.go:533> T002 ended after 30.19604213s : 136 calls. qps=4.503901518433866
06:54:18 I periodic.go:533> T018 ended after 30.196079616s : 137 calls. qps=4.537012809020672
06:54:18 I periodic.go:533> T013 ended after 30.196091286s : 139 calls. qps=4.603244793621531
06:54:18 I periodic.go:533> T000 ended after 30.196102303s : 135 calls. qps=4.470775686390083
06:54:18 I periodic.go:533> T030 ended after 30.19648218s : 136 calls. qps=4.503835883574435
Ended after 30.196534987s : 4366 calls. qps=144.59
Aggregated Function Time : count 4366 avg 0.22109747 +/- 0.07722 min 0.001404015 max 0.601157118 sum 965.31157
# range, mid point, percentile, count
>= 0.00140401 <= 0.0016 , 0.00150201 , 0.05, 2
> 0.0016 <= 0.0018 , 0.0017 , 0.18, 6
> 0.0018 <= 0.002 , 0.0019 , 0.27, 4
> 0.002 <= 0.0025 , 0.00225 , 0.66, 17
> 0.0025 <= 0.003 , 0.00275 , 0.96, 13
> 0.003 <= 0.0035 , 0.00325 , 1.03, 3
> 0.0035 <= 0.004 , 0.00375 , 1.08, 2
> 0.004 <= 0.0045 , 0.00425 , 1.17, 4
> 0.0045 <= 0.005 , 0.00475 , 1.21, 2
> 0.005 <= 0.006 , 0.0055 , 1.37, 7
> 0.006 <= 0.007 , 0.0065 , 1.42, 2
> 0.08 <= 0.09 , 0.085 , 1.44, 1
> 0.09 <= 0.1 , 0.095 , 3.60, 94
> 0.1 <= 0.2 , 0.15 , 36.10, 1419
> 0.2 <= 0.3 , 0.25 , 93.08, 2488
> 0.3 <= 0.4 , 0.35 , 98.05, 217
> 0.4 <= 0.5 , 0.45 , 98.76, 31
> 0.5 <= 0.601157 , 0.550579 , 100.00, 54
# target 50% 0.224397
# target 75% 0.268268
# target 90% 0.29459
# target 99% 0.51937
# target 99.9% 0.592978
Ping SERVING : 4366
All done 4366 calls (plus 32 warmup) 221.097 ms avg, 144.6 qps
Successfully wrote 3330 bytes of Json data to /data/2018-12-14-065348_grpc_istio_0qps_30s_echo_0_5.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-baseline:8080/echo
06:54:18 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
06:54:18 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:54:48 I periodic.go:533> T003 ended after 30.060424964s : 7818 calls. qps=260.07616357262884
06:54:48 I periodic.go:533> T027 ended after 30.060548048s : 7795 calls. qps=259.30997623706395
06:54:48 I periodic.go:533> T005 ended after 30.060613212s : 7791 calls. qps=259.17634963247804
06:54:48 I periodic.go:533> T020 ended after 30.060666694s : 7848 calls. qps=261.0720540528275
06:54:48 I periodic.go:533> T031 ended after 30.060688439s : 7900 calls. qps=262.8016991703601
06:54:48 I periodic.go:533> T018 ended after 30.060698997s : 7931 calls. qps=263.8328536801988
06:54:48 I periodic.go:533> T017 ended after 30.060717729s : 7907 calls. qps=263.0343051447506
06:54:48 I periodic.go:533> T009 ended after 30.060774631s : 7928 calls. qps=263.7323920397013
06:54:48 I periodic.go:533> T016 ended after 30.060785562s : 7891 calls. qps=262.50145671426014
06:54:48 I periodic.go:533> T002 ended after 30.060805191s : 7871 calls. qps=261.8359671335924
06:54:48 I periodic.go:533> T004 ended after 30.060857113s : 7920 calls. qps=263.46554159212405
06:54:48 I periodic.go:533> T006 ended after 30.060881776s : 7778 calls. qps=258.741578439319
06:54:48 I periodic.go:533> T025 ended after 30.060892953s : 7725 calls. qps=256.9783942239502
06:54:48 I periodic.go:533> T021 ended after 30.060903196s : 7911 calls. qps=263.1657455007095
06:54:48 I periodic.go:533> T007 ended after 30.060936797s : 7885 calls. qps=262.3005415049774
06:54:48 I periodic.go:533> T023 ended after 30.060957272s : 7889 calls. qps=262.4334258093682
06:54:48 I periodic.go:533> T008 ended after 30.060967407s : 7790 calls. qps=259.14003014374117
06:54:48 I periodic.go:533> T012 ended after 30.06098844s : 7918 calls. qps=263.3978591823044
06:54:48 I periodic.go:533> T022 ended after 30.061028775s : 7795 calls. qps=259.305829429319
06:54:48 I periodic.go:533> T011 ended after 30.061039874s : 7800 calls. qps=259.4720619344334
06:54:48 I periodic.go:533> T026 ended after 30.061049351s : 7857 calls. qps=261.3681215269563
06:54:48 I periodic.go:533> T010 ended after 30.06105862s : 7971 calls. qps=265.1603225542028
06:54:48 I periodic.go:533> T030 ended after 30.061069123s : 7901 calls. qps=262.8316367482377
06:54:48 I periodic.go:533> T015 ended after 30.061165052s : 7856 calls. qps=261.3338500490796
06:54:48 I periodic.go:533> T029 ended after 30.061176383s : 7696 calls. qps=256.0112718793065
06:54:48 I periodic.go:533> T013 ended after 30.061194801s : 7906 calls. qps=262.99686530546694
06:54:48 I periodic.go:533> T014 ended after 30.061229194s : 7925 calls. qps=263.62860776104833
06:54:48 I periodic.go:533> T001 ended after 30.061251357s : 7890 calls. qps=262.46412387496144
06:54:48 I periodic.go:533> T000 ended after 30.061261477s : 7999 calls. qps=266.0899645252768
06:54:48 I periodic.go:533> T019 ended after 30.061283084s : 7962 calls. qps=264.8589542153556
06:54:48 I periodic.go:533> T028 ended after 30.061734644s : 7866 calls. qps=261.66154725106554
06:54:48 I periodic.go:533> T024 ended after 30.061770035s : 7714 calls. qps=256.60498337319547
Ended after 30.061800848s : 251634 calls. qps=8370.6
Aggregated Function Time : count 251634 avg 0.0038219753 +/- 0.01417 min 7.1903e-05 max 0.082013341 sum 961.738923
# range, mid point, percentile, count
>= 7.1903e-05 <= 0.0001 , 8.59515e-05 , 0.58, 1459
> 0.0001 <= 0.0002 , 0.00015 , 4.98, 11070
> 0.0002 <= 0.0003 , 0.00025 , 10.14, 12982
> 0.0003 <= 0.0004 , 0.00035 , 15.77, 14171
> 0.0004 <= 0.0005 , 0.00045 , 21.70, 14932
> 0.0005 <= 0.0006 , 0.00055 , 27.78, 15290
> 0.0006 <= 0.0007 , 0.00065 , 33.81, 15172
> 0.0007 <= 0.0008 , 0.00075 , 39.73, 14908
> 0.0008 <= 0.0009 , 0.00085 , 45.67, 14930
> 0.0009 <= 0.001 , 0.00095 , 51.85, 15559
> 0.001 <= 0.0011 , 0.00105 , 57.70, 14715
> 0.0011 <= 0.0012 , 0.00115 , 63.49, 14573
> 0.0012 <= 0.0014 , 0.0013 , 74.59, 27936
> 0.0014 <= 0.0016 , 0.0015 , 84.66, 25327
> 0.0016 <= 0.0018 , 0.0017 , 89.80, 12941
> 0.0018 <= 0.002 , 0.0019 , 91.80, 5040
> 0.002 <= 0.0025 , 0.00225 , 94.27, 6211
> 0.0025 <= 0.003 , 0.00275 , 95.11, 2119
> 0.003 <= 0.0035 , 0.00325 , 95.38, 686
> 0.0035 <= 0.004 , 0.00375 , 95.56, 444
> 0.004 <= 0.0045 , 0.00425 , 95.73, 419
> 0.0045 <= 0.005 , 0.00475 , 95.91, 466
> 0.005 <= 0.006 , 0.0055 , 96.10, 460
> 0.006 <= 0.007 , 0.0065 , 96.15, 136
> 0.007 <= 0.008 , 0.0075 , 96.16, 28
> 0.008 <= 0.009 , 0.0085 , 96.17, 12
> 0.014 <= 0.016 , 0.015 , 96.17, 2
> 0.018 <= 0.02 , 0.019 , 96.17, 1
> 0.02 <= 0.025 , 0.0225 , 96.17, 2
> 0.025 <= 0.03 , 0.0275 , 96.17, 1
> 0.03 <= 0.035 , 0.0325 , 96.17, 16
> 0.035 <= 0.04 , 0.0375 , 96.18, 26
> 0.04 <= 0.045 , 0.0425 , 96.19, 10
> 0.045 <= 0.05 , 0.0475 , 96.19, 5
> 0.05 <= 0.06 , 0.055 , 96.25, 159
> 0.06 <= 0.07 , 0.065 , 96.43, 454
> 0.07 <= 0.08 , 0.075 , 99.97, 8907
> 0.08 <= 0.0820133 , 0.0810067 , 100.00, 65
# target 50% 0.000970075
# target 75% 0.00140812
# target 90% 0.00182006
# target 99% 0.0772479
# target 99.9% 0.0797905
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 251634 (100.0 %)
Response Header Sizes : count 251634 avg 75 +/- 0 min 75 max 75 sum 18872550
Response Body/Total Sizes : count 251634 avg 75 +/- 0 min 75 max 75 sum 18872550
All done 251634 calls (plus 32 warmup) 3.822 ms avg, 8370.6 qps
Successfully wrote 6613 bytes of Json data to /data/2018-12-14-065418_http_baseline_0qps_30s_echo_1_5.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-linkerd:8080/echo
06:54:48 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 32 threads at -1.0 qps
06:54:48 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:55:19 I periodic.go:533> T017 ended after 30.067165825s : 489 calls. qps=16.26358808961669
06:55:19 I periodic.go:533> T027 ended after 30.06726189s : 480 calls. qps=15.964207241619233
06:55:19 I periodic.go:533> T013 ended after 30.067277429s : 480 calls. qps=15.964198991194268
06:55:19 I periodic.go:533> T007 ended after 30.067360639s : 468 calls. qps=15.565050940752112
06:55:19 I periodic.go:533> T008 ended after 30.067383256s : 478 calls. qps=15.897625540946077
06:55:19 I periodic.go:533> T002 ended after 30.06743708s : 482 calls. qps=16.03063136766694
06:55:19 I periodic.go:533> T016 ended after 30.067460185s : 473 calls. qps=15.731292137404054
06:55:19 I periodic.go:533> T029 ended after 30.067479858s : 489 calls. qps=16.263418228245445
06:55:19 I periodic.go:533> T028 ended after 30.067490355s : 469 calls. qps=15.598242302986513
06:55:19 I periodic.go:533> T012 ended after 30.067533336s : 468 calls. qps=15.564961540748053
06:55:19 I periodic.go:533> T010 ended after 30.067545336s : 464 calls. qps=15.43192152252119
06:55:19 I periodic.go:533> T005 ended after 30.067555326s : 456 calls. qps=15.165848871181353
06:55:19 I periodic.go:533> T000 ended after 30.067565279s : 475 calls. qps=15.797754011421498
06:55:19 I periodic.go:533> T024 ended after 30.067575823s : 482 calls. qps=16.030557396359743
06:55:19 I periodic.go:533> T030 ended after 30.06758647s : 505 calls. qps=16.795495059234796
06:55:19 I periodic.go:533> T018 ended after 30.067609879s : 476 calls. qps=15.830988958402402
06:55:19 I periodic.go:533> T031 ended after 30.067621068s : 462 calls. qps=15.36536591821332
06:55:19 I periodic.go:533> T021 ended after 30.067631998s : 482 calls. qps=16.03052744665962
06:55:19 I periodic.go:533> T015 ended after 30.067642376s : 474 calls. qps=15.76445515988799
06:55:19 I periodic.go:533> T020 ended after 30.067652459s : 463 calls. qps=15.39860820964799
06:55:19 I periodic.go:533> T019 ended after 30.067662741s : 469 calls. qps=15.598152874066788
06:55:19 I periodic.go:533> T023 ended after 30.067672229s : 503 calls. qps=16.728930532735454
06:55:19 I periodic.go:533> T001 ended after 30.067695985s : 478 calls. qps=15.897460192442477
06:55:19 I periodic.go:533> T006 ended after 30.067705927s : 447 calls. qps=14.866448444229524
06:55:19 I periodic.go:533> T025 ended after 30.067716243s : 480 calls. qps=15.963966006621728
06:55:19 I periodic.go:533> T022 ended after 30.067726433s : 490 calls. qps=16.2965431088336
06:55:19 I periodic.go:533> T009 ended after 30.067736743s : 455 calls. qps=15.132499126523964
06:55:19 I periodic.go:533> T026 ended after 30.067746769s : 456 calls. qps=15.16575230938616
06:55:19 I periodic.go:533> T004 ended after 30.067767922s : 479 calls. qps=15.930680363191343
06:55:19 I periodic.go:533> T014 ended after 30.067780056s : 490 calls. qps=16.29651404551301
06:55:19 I periodic.go:533> T003 ended after 30.068303012s : 485 calls. qps=16.12994254469368
06:55:19 I periodic.go:533> T011 ended after 30.068328007s : 471 calls. qps=15.664322934429533
Ended after 30.06836176s : 15218 calls. qps=506.11
Aggregated Function Time : count 15218 avg 0.063215781 +/- 0.05122 min 0.000334743 max 0.196678328 sum 962.017753
# range, mid point, percentile, count
>= 0.000334743 <= 0.0004 , 0.000367371 , 0.01, 2
> 0.0004 <= 0.0005 , 0.00045 , 1.15, 173
> 0.0005 <= 0.0006 , 0.00055 , 2.62, 224
> 0.0006 <= 0.0007 , 0.00065 , 3.54, 140
> 0.0007 <= 0.0008 , 0.00075 , 4.00, 69
> 0.0008 <= 0.0009 , 0.00085 , 4.10, 16
> 0.0009 <= 0.001 , 0.00095 , 4.25, 23
> 0.001 <= 0.0011 , 0.00105 , 4.37, 18
> 0.0011 <= 0.0012 , 0.00115 , 4.43, 9
> 0.0012 <= 0.0014 , 0.0013 , 4.68, 38
> 0.0014 <= 0.0016 , 0.0015 , 4.95, 42
> 0.0016 <= 0.0018 , 0.0017 , 5.95, 152
> 0.0018 <= 0.002 , 0.0019 , 8.01, 313
> 0.002 <= 0.0025 , 0.00225 , 12.35, 661
> 0.0025 <= 0.003 , 0.00275 , 16.79, 675
> 0.003 <= 0.0035 , 0.00325 , 20.78, 607
> 0.0035 <= 0.004 , 0.00375 , 25.04, 648
> 0.004 <= 0.0045 , 0.00425 , 30.04, 761
> 0.0045 <= 0.005 , 0.00475 , 34.41, 666
> 0.005 <= 0.006 , 0.0055 , 38.17, 572
> 0.006 <= 0.007 , 0.0065 , 39.24, 163
> 0.007 <= 0.008 , 0.0075 , 39.67, 65
> 0.008 <= 0.009 , 0.0085 , 39.69, 3
> 0.06 <= 0.07 , 0.065 , 39.80, 17
> 0.08 <= 0.09 , 0.085 , 39.83, 5
> 0.09 <= 0.1 , 0.095 , 85.35, 6927
> 0.1 <= 0.196678 , 0.148339 , 100.00, 2229
# target 50% 0.0922333
# target 75% 0.0977256
# target 90% 0.130673
# target 99% 0.190078
# target 99.9% 0.196018
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 15218 (100.0 %)
Response Header Sizes : count 15218 avg 75 +/- 0 min 75 max 75 sum 1141350
Response Body/Total Sizes : count 15218 avg 75 +/- 0 min 75 max 75 sum 1141350
All done 15218 calls (plus 32 warmup) 63.216 ms avg, 506.1 qps
Successfully wrote 5138 bytes of Json data to /data/2018-12-14-065449_http_linkerd_0qps_30s_echo_1_5.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-istio:8080/echo
06:55:19 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 32 threads at -1.0 qps
06:55:19 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:55:49 I periodic.go:533> T025 ended after 30.18692292s : 167 calls. qps=5.532196853669907
06:55:49 I periodic.go:533> T030 ended after 30.187004889s : 165 calls. qps=5.465928157056919
06:55:49 I periodic.go:533> T027 ended after 30.187018733s : 176 calls. qps=5.830320693696043
06:55:49 I periodic.go:533> T010 ended after 30.187058919s : 176 calls. qps=5.8303129321824745
06:55:49 I periodic.go:533> T015 ended after 30.187078237s : 162 calls. qps=5.366534605572997
06:55:49 I periodic.go:533> T026 ended after 30.187095014s : 163 calls. qps=5.3996583614423574
06:55:49 I periodic.go:533> T023 ended after 30.187122237s : 170 calls. qps=5.631540451763667
06:55:49 I periodic.go:533> T000 ended after 30.187133117s : 169 calls. qps=5.598411725452226
06:55:49 I periodic.go:533> T018 ended after 30.187143781s : 168 calls. qps=5.565283062842811
06:55:49 I periodic.go:533> T006 ended after 30.187203005s : 169 calls. qps=5.598398764271337
06:55:49 I periodic.go:533> T003 ended after 30.187216948s : 173 calls. qps=5.730902596884202
06:55:49 I periodic.go:533> T021 ended after 30.187228575s : 165 calls. qps=5.465887654776205
06:55:49 I periodic.go:533> T024 ended after 30.18723961s : 182 calls. qps=6.029037512251025
06:55:49 I periodic.go:533> T005 ended after 30.187250722s : 165 calls. qps=5.465883644705364
06:55:49 I periodic.go:533> T019 ended after 30.18726119s : 172 calls. qps=5.697767641702377
06:55:49 I periodic.go:533> T007 ended after 30.18728564s : 164 calls. qps=5.43275079302559
06:55:49 I periodic.go:533> T001 ended after 30.187296331s : 175 calls. qps=5.797140561418502
06:55:49 I periodic.go:533> T031 ended after 30.187307506s : 181 calls. qps=5.995897446767143
06:55:49 I periodic.go:533> T016 ended after 30.187320143s : 166 calls. qps=5.498997566317359
06:55:49 I periodic.go:533> T014 ended after 30.187342047s : 176 calls. qps=5.830258249500001
06:55:49 I periodic.go:533> T022 ended after 30.187366211s : 168 calls. qps=5.565242056088429
06:55:49 I periodic.go:533> T012 ended after 30.187376453s : 181 calls. qps=5.995883752329605
06:55:49 I periodic.go:533> T002 ended after 30.187387356s : 177 calls. qps=5.863375916326848
06:55:49 I periodic.go:533> T029 ended after 30.187397746s : 183 calls. qps=6.06213233547925
06:55:49 I periodic.go:533> T008 ended after 30.187408651s : 175 calls. qps=5.797118991669492
06:55:49 I periodic.go:533> T009 ended after 30.187418599s : 170 calls. qps=5.631485164671599
06:55:49 I periodic.go:533> T017 ended after 30.187440813s : 170 calls. qps=5.631481020636594
06:55:49 I periodic.go:533> T020 ended after 30.187452142s : 175 calls. qps=5.797110639772124
06:55:49 I periodic.go:533> T004 ended after 30.187462162s : 166 calls. qps=5.498971695903637
06:55:49 I periodic.go:533> T011 ended after 30.187471871s : 176 calls. qps=5.830233175938021
06:55:49 I periodic.go:533> T028 ended after 30.187482339s : 173 calls. qps=5.730852214081357
06:55:49 I periodic.go:533> T013 ended after 30.18754102s : 179 calls. qps=5.929598567879643
Ended after 30.187565204s : 5497 calls. qps=182.09
Aggregated Function Time : count 5497 avg 0.17570623 +/- 0.06938 min 0.000797467 max 0.595925841 sum 965.857141
# range, mid point, percentile, count
>= 0.000797467 <= 0.0008 , 0.000798733 , 0.02, 1
> 0.0008 <= 0.0009 , 0.00085 , 0.09, 4
> 0.0009 <= 0.001 , 0.00095 , 0.18, 5
> 0.001 <= 0.0011 , 0.00105 , 0.27, 5
> 0.0011 <= 0.0012 , 0.00115 , 0.44, 9
> 0.0012 <= 0.0014 , 0.0013 , 0.80, 20
> 0.0014 <= 0.0016 , 0.0015 , 1.06, 14
> 0.0016 <= 0.0018 , 0.0017 , 1.15, 5
> 0.0018 <= 0.002 , 0.0019 , 1.26, 6
> 0.002 <= 0.0025 , 0.00225 , 1.35, 5
> 0.0025 <= 0.003 , 0.00275 , 1.42, 4
> 0.003 <= 0.0035 , 0.00325 , 1.51, 5
> 0.0035 <= 0.004 , 0.00375 , 1.53, 1
> 0.004 <= 0.0045 , 0.00425 , 1.55, 1
> 0.0045 <= 0.005 , 0.00475 , 1.58, 2
> 0.005 <= 0.006 , 0.0055 , 1.66, 4
> 0.08 <= 0.09 , 0.085 , 1.86, 11
> 0.09 <= 0.1 , 0.095 , 12.86, 605
> 0.1 <= 0.2 , 0.15 , 64.22, 2823
> 0.2 <= 0.3 , 0.25 , 97.93, 1853
> 0.3 <= 0.4 , 0.35 , 99.00, 59
> 0.4 <= 0.5 , 0.45 , 99.80, 44
> 0.5 <= 0.595926 , 0.547963 , 100.00, 11
# target 50% 0.172317
# target 75% 0.231989
# target 90% 0.276487
# target 99% 0.400068
# target 99.9% 0.547989
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 5497 (100.0 %)
Response Header Sizes : count 5497 avg 210.14826 +/- 0.6438 min 209 max 211 sum 1155185
Response Body/Total Sizes : count 5497 avg 210.14826 +/- 0.6438 min 209 max 211 sum 1155185
All done 5497 calls (plus 32 warmup) 175.706 ms avg, 182.1 qps
Successfully wrote 4626 bytes of Json data to /data/2018-12-14-065519_http_istio_0qps_30s_echo_1_5.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-baseline:8079
06:55:49 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:56:19 I periodic.go:533> T018 ended after 30.030658521s : 5095 calls. qps=169.65994922945632
06:56:19 I periodic.go:533> T017 ended after 30.031093362s : 5105 calls. qps=169.9904808147824
06:56:19 I periodic.go:533> T009 ended after 30.031389664s : 5089 calls. qps=169.4560277408813
06:56:19 I periodic.go:533> T016 ended after 30.031427297s : 5083 calls. qps=169.2560246881029
06:56:19 I periodic.go:533> T019 ended after 30.031477791s : 5121 calls. qps=170.52107910369597
06:56:19 I periodic.go:533> T005 ended after 30.031510814s : 5104 calls. qps=169.95481950980076
06:56:19 I periodic.go:533> T031 ended after 30.031552935s : 5106 calls. qps=170.0211777609828
06:56:19 I periodic.go:533> T027 ended after 30.031579793s : 5087 calls. qps=169.38835835688266
06:56:19 I periodic.go:533> T029 ended after 30.03162037s : 5080 calls. qps=169.15504183299583
06:56:19 I periodic.go:533> T006 ended after 30.031675061s : 5076 calls. qps=169.02154107920006
06:56:19 I periodic.go:533> T007 ended after 30.031705677s : 5088 calls. qps=169.42094647313627
06:56:19 I periodic.go:533> T022 ended after 30.031734923s : 5093 calls. qps=169.58727203267543
06:56:19 I periodic.go:533> T001 ended after 30.031784961s : 5074 calls. qps=168.95432644410644
06:56:19 I periodic.go:533> T011 ended after 30.031810224s : 5081 calls. qps=169.1872705009139
06:56:19 I periodic.go:533> T010 ended after 30.031849143s : 5105 calls. qps=169.98620283726032
06:56:19 I periodic.go:533> T024 ended after 30.031875375s : 5089 calls. qps=169.45328709762603
06:56:19 I periodic.go:533> T002 ended after 30.031898167s : 5111 calls. qps=170.18571292360494
06:56:19 I periodic.go:533> T026 ended after 30.031937309s : 5096 calls. qps=169.68602283519104
06:56:19 I periodic.go:533> T003 ended after 30.031961644s : 5086 calls. qps=169.35290675612984
06:56:19 I periodic.go:533> T013 ended after 30.032074167s : 5102 calls. qps=169.8850359661873
06:56:19 I periodic.go:533> T012 ended after 30.032102791s : 5099 calls. qps=169.78498094139664
06:56:19 I periodic.go:533> T000 ended after 30.032399331s : 5087 calls. qps=169.3837360090342
06:56:19 I periodic.go:533> T021 ended after 30.032438752s : 5081 calls. qps=169.18372969832936
06:56:19 I periodic.go:533> T020 ended after 30.032545105s : 5077 calls. qps=169.0499417298719
06:56:19 I periodic.go:533> T008 ended after 30.032584104s : 5078 calls. qps=169.0830193770661
06:56:19 I periodic.go:533> T030 ended after 30.032711274s : 5125 calls. qps=170.64726368667317
06:56:19 I periodic.go:533> T023 ended after 30.032831464s : 5098 calls. qps=169.74756463142384
06:56:19 I periodic.go:533> T014 ended after 30.032858638s : 5072 calls. qps=168.88169258661563
06:56:19 I periodic.go:533> T028 ended after 30.032899532s : 5118 calls. qps=170.41311627426384
06:56:19 I periodic.go:533> T015 ended after 30.032927644s : 5080 calls. qps=169.1476788482486
06:56:19 I periodic.go:533> T004 ended after 30.032952298s : 5093 calls. qps=169.58039787314416
06:56:19 I periodic.go:533> T025 ended after 30.03299274s : 5084 calls. qps=169.28049908355553
Ended after 30.033009001s : 162963 calls. qps=5426.1
Aggregated Function Time : count 162963 avg 0.005896669 +/- 0.01592 min 0.000343898 max 0.079289839 sum 960.938878
# range, mid point, percentile, count
>= 0.000343898 <= 0.0004 , 0.000371949 , 0.00, 5
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 18
> 0.0005 <= 0.0006 , 0.00055 , 0.13, 193
> 0.0006 <= 0.0007 , 0.00065 , 0.56, 692
> 0.0007 <= 0.0008 , 0.00075 , 1.35, 1294
> 0.0008 <= 0.0009 , 0.00085 , 2.36, 1638
> 0.0009 <= 0.001 , 0.00095 , 3.73, 2240
> 0.001 <= 0.0011 , 0.00105 , 6.06, 3800
> 0.0011 <= 0.0012 , 0.00115 , 10.37, 7018
> 0.0012 <= 0.0014 , 0.0013 , 24.42, 22903
> 0.0014 <= 0.0016 , 0.0015 , 43.66, 31348
> 0.0016 <= 0.0018 , 0.0017 , 58.62, 24381
> 0.0018 <= 0.002 , 0.0019 , 67.70, 14802
> 0.002 <= 0.0025 , 0.00225 , 78.86, 18185
> 0.0025 <= 0.003 , 0.00275 , 83.52, 7589
> 0.003 <= 0.0035 , 0.00325 , 86.90, 5505
> 0.0035 <= 0.004 , 0.00375 , 89.45, 4166
> 0.004 <= 0.0045 , 0.00425 , 91.40, 3172
> 0.0045 <= 0.005 , 0.00475 , 92.56, 1897
> 0.005 <= 0.006 , 0.0055 , 93.51, 1547
> 0.006 <= 0.007 , 0.0065 , 93.79, 446
> 0.007 <= 0.008 , 0.0075 , 93.92, 219
> 0.008 <= 0.009 , 0.0085 , 93.95, 53
> 0.009 <= 0.01 , 0.0095 , 94.01, 83
> 0.01 <= 0.012 , 0.011 , 94.08, 123
> 0.012 <= 0.014 , 0.013 , 94.09, 14
> 0.03 <= 0.035 , 0.0325 , 94.11, 32
> 0.035 <= 0.04 , 0.0375 , 94.12, 13
> 0.04 <= 0.045 , 0.0425 , 94.13, 19
> 0.045 <= 0.05 , 0.0475 , 94.18, 82
> 0.05 <= 0.06 , 0.055 , 94.44, 433
> 0.06 <= 0.07 , 0.065 , 96.86, 3937
> 0.07 <= 0.0792898 , 0.0746449 , 100.00, 5116
# target 50% 0.00168476
# target 75% 0.00232692
# target 90% 0.00414024
# target 99% 0.0763307
# target 99.9% 0.0789939
Ping SERVING : 162963
All done 162963 calls (plus 32 warmup) 5.897 ms avg, 5426.1 qps
Successfully wrote 5414 bytes of Json data to /data/2018-12-14-065549_grpc_baseline_0qps_30s_echo_1_5.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-linkerd:8079
06:56:19 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:56:50 I periodic.go:533> T002 ended after 30.091627978s : 374 calls. qps=12.428706093051249
06:56:50 I periodic.go:533> T029 ended after 30.093737186s : 358 calls. qps=11.896162905501358
06:56:50 I periodic.go:533> T021 ended after 30.094004037s : 359 calls. qps=11.929286629941844
06:56:50 I periodic.go:533> T031 ended after 30.094019568s : 353 calls. qps=11.729905312328466
06:56:50 I periodic.go:533> T015 ended after 30.094031105s : 354 calls. qps=11.76312999627306
06:56:50 I periodic.go:533> T016 ended after 30.09404304s : 371 calls. qps=12.32802118036713
06:56:50 I periodic.go:533> T006 ended after 30.09407778s : 367 calls. qps=12.195090432174725
06:56:50 I periodic.go:533> T026 ended after 30.094089039s : 359 calls. qps=11.929252935178038
06:56:50 I periodic.go:533> T001 ended after 30.09410992s : 359 calls. qps=11.929244657985883
06:56:50 I periodic.go:533> T022 ended after 30.094121938s : 361 calls. qps=11.995698055046539
06:56:50 I periodic.go:533> T000 ended after 30.094246804s : 364 calls. qps=12.095335110750094
06:56:50 I periodic.go:533> T010 ended after 30.094429687s : 351 calls. qps=11.663287978892077
06:56:50 I periodic.go:533> T012 ended after 30.094457736s : 350 calls. qps=11.630048398623188
06:56:50 I periodic.go:533> T017 ended after 30.094502779s : 365 calls. qps=12.128460891359126
06:56:50 I periodic.go:533> T009 ended after 30.094522356s : 369 calls. qps=12.261367555030553
06:56:50 I periodic.go:533> T004 ended after 30.094754014s : 376 calls. qps=12.49387184972789
06:56:50 I periodic.go:533> T014 ended after 30.095221915s : 368 calls. qps=12.22785467538228
06:56:50 I periodic.go:533> T003 ended after 30.095236755s : 370 calls. qps=12.294304344973412
06:56:50 I periodic.go:533> T020 ended after 30.095247521s : 369 calls. qps=12.261072109226465
06:56:50 I periodic.go:533> T023 ended after 30.095274737s : 374 calls. qps=12.42720005942307
06:56:50 I periodic.go:533> T018 ended after 30.095286137s : 359 calls. qps=11.928778426154759
06:56:50 I periodic.go:533> T005 ended after 30.095297246s : 367 calls. qps=12.194596285264415
06:56:50 I periodic.go:533> T013 ended after 30.095307989s : 366 calls. qps=12.161364161276403
06:56:50 I periodic.go:533> T028 ended after 30.095318797s : 354 calls. qps=11.762626685824902
06:56:50 I periodic.go:533> T008 ended after 30.095346516s : 353 calls. qps=11.729388123586808
06:56:50 I periodic.go:533> T030 ended after 30.095358456s : 354 calls. qps=11.762611185294732
06:56:50 I periodic.go:533> T024 ended after 30.09538658s : 366 calls. qps=12.161332403127417
06:56:50 I periodic.go:533> T025 ended after 30.095399206s : 359 calls. qps=11.928733609502265
06:56:50 I periodic.go:533> T027 ended after 30.095410338s : 371 calls. qps=12.327461092349902
06:56:50 I periodic.go:533> T007 ended after 30.095436328s : 355 calls. qps=11.795808378751344
06:56:50 I periodic.go:533> T019 ended after 30.096537019s : 369 calls. qps=12.26054677875563
06:56:50 I periodic.go:533> T011 ended after 30.096560518s : 363 calls. qps=12.061178877330477
Ended after 30.096592007s : 11607 calls. qps=385.66
Aggregated Function Time : count 11607 avg 0.082958829 +/- 0.03834 min 0.000967142 max 0.198103684 sum 962.903134
# range, mid point, percentile, count
>= 0.000967142 <= 0.001 , 0.000983571 , 0.01, 1
> 0.0012 <= 0.0014 , 0.0013 , 0.03, 3
> 0.0014 <= 0.0016 , 0.0015 , 0.06, 3
> 0.0016 <= 0.0018 , 0.0017 , 0.21, 17
> 0.0018 <= 0.002 , 0.0019 , 0.85, 75
> 0.002 <= 0.0025 , 0.00225 , 3.58, 317
> 0.0025 <= 0.003 , 0.00275 , 5.07, 172
> 0.003 <= 0.0035 , 0.00325 , 6.15, 126
> 0.0035 <= 0.004 , 0.00375 , 8.09, 225
> 0.004 <= 0.0045 , 0.00425 , 11.89, 441
> 0.0045 <= 0.005 , 0.00475 , 14.74, 331
> 0.005 <= 0.006 , 0.0055 , 16.87, 247
> 0.006 <= 0.007 , 0.0065 , 17.15, 33
> 0.007 <= 0.008 , 0.0075 , 17.64, 57
> 0.008 <= 0.009 , 0.0085 , 17.97, 38
> 0.009 <= 0.01 , 0.0095 , 18.02, 6
> 0.01 <= 0.012 , 0.011 , 18.05, 3
> 0.08 <= 0.09 , 0.085 , 18.33, 32
> 0.09 <= 0.1 , 0.095 , 75.87, 6679
> 0.1 <= 0.198104 , 0.149052 , 100.00, 2801
# target 50% 0.0955046
# target 75% 0.0998492
# target 90% 0.157451
# target 99% 0.194038
# target 99.9% 0.197697
Ping SERVING : 11607
All done 11607 calls (plus 32 warmup) 82.959 ms avg, 385.7 qps
Successfully wrote 3657 bytes of Json data to /data/2018-12-14-065620_grpc_linkerd_0qps_30s_echo_1_5.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-istio:8079
06:56:50 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:57:20 I periodic.go:533> T014 ended after 30.000363792s : 143 calls. qps=4.7666088648609275
06:57:20 I periodic.go:533> T026 ended after 30.003844812s : 142 calls. qps=4.732726785175455
06:57:20 I periodic.go:533> T010 ended after 30.00402016s : 146 calls. qps=4.866014594758891
06:57:20 I periodic.go:533> T018 ended after 30.004253559s : 143 calls. qps=4.7659909192143886
06:57:20 I periodic.go:533> T021 ended after 30.004268358s : 147 calls. qps=4.899302934037569
06:57:20 I periodic.go:533> T016 ended after 30.004281407s : 149 calls. qps=4.965957957094693
06:57:20 I periodic.go:533> T009 ended after 30.099944154s : 152 calls. qps=5.049843256264003
06:57:20 I periodic.go:533> T001 ended after 30.199602001s : 145 calls. qps=4.8013877797197
06:57:20 I periodic.go:533> T012 ended after 30.200193474s : 151 calls. qps=4.999967968086005
06:57:20 I periodic.go:533> T025 ended after 30.200217427s : 147 calls. qps=4.867514624864161
06:57:20 I periodic.go:533> T008 ended after 30.200264406s : 142 calls. qps=4.701945588654791
06:57:20 I periodic.go:533> T011 ended after 30.200277368s : 143 calls. qps=4.735055849239378
06:57:20 I periodic.go:533> T028 ended after 30.20028903s : 148 calls. qps=4.9006153501703755
06:57:20 I periodic.go:533> T019 ended after 30.200335084s : 143 calls. qps=4.735046800052253
06:57:20 I periodic.go:533> T022 ended after 30.200346359s : 142 calls. qps=4.701932829246596
06:57:20 I periodic.go:533> T023 ended after 30.200357735s : 145 calls. qps=4.8012676297524655
06:57:20 I periodic.go:533> T024 ended after 30.200369411s : 142 calls. qps=4.701929240252233
06:57:20 I periodic.go:533> T030 ended after 30.200381007s : 150 calls. qps=4.966824755132468
06:57:20 I periodic.go:533> T006 ended after 30.200405774s : 150 calls. qps=4.966820681897504
06:57:20 I periodic.go:533> T027 ended after 30.200418436s : 149 calls. qps=4.933706475483352
06:57:20 I periodic.go:533> T002 ended after 30.200442008s : 144 calls. qps=4.768142133875221
06:57:20 I periodic.go:533> T004 ended after 30.200453668s : 143 calls. qps=4.735028207590169
06:57:20 I periodic.go:533> T007 ended after 30.200463699s : 145 calls. qps=4.801250783603076
06:57:20 I periodic.go:533> T031 ended after 30.201157976s : 142 calls. qps=4.701806470892386
06:57:20 I periodic.go:533> T000 ended after 30.2011911s : 148 calls. qps=4.900468975212041
06:57:20 I periodic.go:533> T029 ended after 30.201205131s : 146 calls. qps=4.834244175578889
06:57:20 I periodic.go:533> T015 ended after 30.201215967s : 142 calls. qps=4.701797442697649
06:57:20 I periodic.go:533> T013 ended after 30.201227093s : 145 calls. qps=4.801129422771298
06:57:20 I periodic.go:533> T005 ended after 30.201237332s : 146 calls. qps=4.834239021237198
06:57:20 I periodic.go:533> T017 ended after 30.201334489s : 150 calls. qps=4.966667948220412
06:57:20 I periodic.go:533> T003 ended after 30.201345707s : 142 calls. qps=4.70177724455131
06:57:20 I periodic.go:533> T020 ended after 30.201357012s : 149 calls. qps=4.933553149310389
Ended after 30.20137155s : 4661 calls. qps=154.33
Aggregated Function Time : count 4661 avg 0.20703932 +/- 0.07006 min 0.001638044 max 0.599997901 sum 965.010277
# range, mid point, percentile, count
>= 0.00163804 <= 0.0018 , 0.00171902 , 0.02, 1
> 0.0018 <= 0.002 , 0.0019 , 0.11, 4
> 0.002 <= 0.0025 , 0.00225 , 0.73, 29
> 0.0025 <= 0.003 , 0.00275 , 0.92, 9
> 0.003 <= 0.0035 , 0.00325 , 1.03, 5
> 0.0035 <= 0.004 , 0.00375 , 1.07, 2
> 0.004 <= 0.0045 , 0.00425 , 1.20, 6
> 0.0045 <= 0.005 , 0.00475 , 1.31, 5
> 0.005 <= 0.006 , 0.0055 , 1.33, 1
> 0.006 <= 0.007 , 0.0065 , 1.35, 1
> 0.09 <= 0.1 , 0.095 , 4.38, 141
> 0.1 <= 0.2 , 0.15 , 44.30, 1861
> 0.2 <= 0.3 , 0.25 , 96.35, 2426
> 0.3 <= 0.4 , 0.35 , 98.82, 115
> 0.4 <= 0.5 , 0.45 , 99.68, 40
> 0.5 <= 0.599998 , 0.549999 , 100.00, 15
# target 50% 0.210944
# target 75% 0.258976
# target 90% 0.287795
# target 99% 0.420975
# target 99.9% 0.568925
Ping SERVING : 4661
All done 4661 calls (plus 32 warmup) 207.039 ms avg, 154.3 qps
Successfully wrote 3071 bytes of Json data to /data/2018-12-14-065650_grpc_istio_0qps_30s_echo_1_5.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8080/echo
06:57:20 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
06:57:20 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:57:51 I periodic.go:533> T002 ended after 30.052946057s : 7807 calls. qps=259.7748648399672
06:57:51 I periodic.go:533> T030 ended after 30.05305956s : 7770 calls. qps=258.54272788723677
06:57:51 I periodic.go:533> T016 ended after 30.053126617s : 7691 calls. qps=255.9134727649093
06:57:51 I periodic.go:533> T005 ended after 30.053150093s : 7851 calls. qps=261.23717399690025
06:57:51 I periodic.go:533> T011 ended after 30.05316455s : 7692 calls. qps=255.94642411792205
06:57:51 I periodic.go:533> T026 ended after 30.053252903s : 7664 calls. qps=255.0139921537398
06:57:51 I periodic.go:533> T017 ended after 30.053264037s : 7713 calls. qps=256.64433621932574
06:57:51 I periodic.go:533> T027 ended after 30.053297389s : 7685 calls. qps=255.71237327231972
06:57:51 I periodic.go:533> T012 ended after 30.053316731s : 7723 calls. qps=256.9766282080182
06:57:51 I periodic.go:533> T029 ended after 30.053336546s : 7689 calls. qps=255.84513680306756
06:57:51 I periodic.go:533> T024 ended after 30.053348296s : 7612 calls. qps=253.28292624929023
06:57:51 I periodic.go:533> T003 ended after 30.053382147s : 7750 calls. qps=257.874470237408
06:57:51 I periodic.go:533> T019 ended after 30.053402177s : 7865 calls. qps=261.7008202159261
06:57:51 I periodic.go:533> T010 ended after 30.053412948s : 7754 calls. qps=258.0073023125986
06:57:51 I periodic.go:533> T009 ended after 30.053422771s : 7771 calls. qps=258.57287734622406
06:57:51 I periodic.go:533> T013 ended after 30.05344336s : 7690 calls. qps=255.877501552288
06:57:51 I periodic.go:533> T028 ended after 30.053543245s : 7758 calls. qps=258.13927951043496
06:57:51 I periodic.go:533> T021 ended after 30.05357222s : 7829 calls. qps=260.5014785826349
06:57:51 I periodic.go:533> T004 ended after 30.053622887s : 7733 calls. qps=257.30674897584436
06:57:51 I periodic.go:533> T015 ended after 30.053642447s : 7706 calls. qps=256.4081879123182
06:57:51 I periodic.go:533> T008 ended after 30.053653078s : 7675 calls. qps=255.37660862992678
06:57:51 I periodic.go:533> T000 ended after 30.053672453s : 7822 calls. qps=260.26769314906795
06:57:51 I periodic.go:533> T020 ended after 30.053682607s : 7633 calls. qps=253.97885842522834
06:57:51 I periodic.go:533> T022 ended after 30.053707117s : 7695 calls. qps=256.0416247500892
06:57:51 I periodic.go:533> T031 ended after 30.05371691s : 7698 calls. qps=256.1413625826291
06:57:51 I periodic.go:533> T018 ended after 30.053727319s : 7886 calls. qps=262.3967375592199
06:57:51 I periodic.go:533> T014 ended after 30.05373744s : 7836 calls. qps=260.73296260220474
06:57:51 I periodic.go:533> T001 ended after 30.053748811s : 7703 calls. qps=256.30745929375104
06:57:51 I periodic.go:533> T023 ended after 30.053761651s : 7814 calls. qps=260.00073104792193
06:57:51 I periodic.go:533> T025 ended after 30.053785594s : 7807 calls. qps=259.7676081630996
06:57:51 I periodic.go:533> T007 ended after 30.053795853s : 7736 calls. qps=257.4050891221378
06:57:51 I periodic.go:533> T006 ended after 30.053805996s : 7637 calls. qps=254.1109103125389
Ended after 30.053821121s : 247695 calls. qps=8241.7
Aggregated Function Time : count 247695 avg 0.0038817963 +/- 0.0143 min 7.4006e-05 max 0.081943629 sum 961.501537
# range, mid point, percentile, count
>= 7.4006e-05 <= 0.0001 , 8.7003e-05 , 0.51, 1271
> 0.0001 <= 0.0002 , 0.00015 , 4.86, 10772
> 0.0002 <= 0.0003 , 0.00025 , 10.01, 12751
> 0.0003 <= 0.0004 , 0.00035 , 15.59, 13831
> 0.0004 <= 0.0005 , 0.00045 , 21.48, 14584
> 0.0005 <= 0.0006 , 0.00055 , 27.51, 14920
> 0.0006 <= 0.0007 , 0.00065 , 33.29, 14320
> 0.0007 <= 0.0008 , 0.00075 , 39.09, 14377
> 0.0008 <= 0.0009 , 0.00085 , 44.91, 14424
> 0.0009 <= 0.001 , 0.00095 , 50.96, 14966
> 0.001 <= 0.0011 , 0.00105 , 56.89, 14692
> 0.0011 <= 0.0012 , 0.00115 , 62.62, 14190
> 0.0012 <= 0.0014 , 0.0013 , 73.69, 27430
> 0.0014 <= 0.0016 , 0.0015 , 83.77, 24962
> 0.0016 <= 0.0018 , 0.0017 , 89.49, 14161
> 0.0018 <= 0.002 , 0.0019 , 91.89, 5949
> 0.002 <= 0.0025 , 0.00225 , 94.08, 5424
> 0.0025 <= 0.003 , 0.00275 , 94.98, 2225
> 0.003 <= 0.0035 , 0.00325 , 95.27, 737
> 0.0035 <= 0.004 , 0.00375 , 95.50, 561
> 0.004 <= 0.0045 , 0.00425 , 95.68, 444
> 0.0045 <= 0.005 , 0.00475 , 95.86, 442
> 0.005 <= 0.006 , 0.0055 , 96.05, 486
> 0.006 <= 0.007 , 0.0065 , 96.09, 97
> 0.007 <= 0.008 , 0.0075 , 96.10, 21
> 0.008 <= 0.009 , 0.0085 , 96.11, 19
> 0.009 <= 0.01 , 0.0095 , 96.11, 7
> 0.025 <= 0.03 , 0.0275 , 96.12, 32
> 0.05 <= 0.06 , 0.055 , 96.18, 128
> 0.06 <= 0.07 , 0.065 , 96.34, 411
> 0.07 <= 0.08 , 0.075 , 99.98, 9014
> 0.08 <= 0.0819436 , 0.0809718 , 100.00, 47
# target 50% 0.000984174
# target 75% 0.00142599
# target 90% 0.00184285
# target 99% 0.0773042
# target 99.9% 0.0797774
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 247695 (100.0 %)
Response Header Sizes : count 247695 avg 75 +/- 0 min 75 max 75 sum 18577125
Response Body/Total Sizes : count 247695 avg 75 +/- 0 min 75 max 75 sum 18577125
All done 247695 calls (plus 32 warmup) 3.882 ms avg, 8241.7 qps
Successfully wrote 5858 bytes of Json data to /data/2018-12-14-065721_http_baseline_0qps_30s_echo_0_6.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-linkerd:8080/echo
06:57:51 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 32 threads at -1.0 qps
06:57:51 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:58:21 I periodic.go:533> T029 ended after 30.000005009s : 480 calls. qps=15.99999732853378
06:58:21 I periodic.go:533> T019 ended after 30.00006652s : 502 calls. qps=16.733296230037826
06:58:21 I periodic.go:533> T031 ended after 30.000079012s : 499 calls. qps=16.633289525684265
06:58:21 I periodic.go:533> T025 ended after 30.000089843s : 489 calls. qps=16.299951185449522
06:58:21 I periodic.go:533> T020 ended after 30.000098876s : 492 calls. qps=16.399945947964817
06:58:21 I periodic.go:533> T023 ended after 30.000108007s : 491 calls. qps=16.366607743059916
06:58:21 I periodic.go:533> T015 ended after 30.000118799s : 498 calls. qps=16.599934264813644
06:58:21 I periodic.go:533> T004 ended after 30.000128062s : 491 calls. qps=16.366596802029342
06:58:21 I periodic.go:533> T024 ended after 30.000137834s : 489 calls. qps=16.299925110537412
06:58:21 I periodic.go:533> T001 ended after 30.00014773s : 514 calls. qps=17.133248963504354
06:58:21 I periodic.go:533> T017 ended after 30.000158188s : 516 calls. qps=17.19990930602489
06:58:21 I periodic.go:533> T000 ended after 30.000168792s : 500 calls. qps=16.666572893860938
06:58:21 I periodic.go:533> T022 ended after 30.00017882s : 500 calls. qps=16.66656732281438
06:58:21 I periodic.go:533> T008 ended after 30.000189967s : 480 calls. qps=15.999898684908217
06:58:21 I periodic.go:533> T005 ended after 30.093926837s : 506 calls. qps=16.81402373112309
06:58:21 I periodic.go:533> T016 ended after 30.094522498s : 511 calls. qps=16.9798341221051
06:58:21 I periodic.go:533> T028 ended after 30.094578426s : 494 calls. qps=16.414916766975285
06:58:21 I periodic.go:533> T026 ended after 30.094770014s : 493 calls. qps=16.381583902141728
06:58:21 I periodic.go:533> T003 ended after 30.094791292s : 515 calls. qps=17.112595831056677
06:58:21 I periodic.go:533> T021 ended after 30.094969674s : 534 calls. qps=17.74382914435496
06:58:21 I periodic.go:533> T002 ended after 30.0950035s : 474 calls. qps=15.750122773702286
06:58:21 I periodic.go:533> T027 ended after 30.095015224s : 507 calls. qps=16.84664374569515
06:58:21 I periodic.go:533> T012 ended after 30.095120541s : 511 calls. qps=16.979496702923672
06:58:21 I periodic.go:533> T007 ended after 30.095298729s : 480 calls. qps=15.949334955013066
06:58:21 I periodic.go:533> T013 ended after 30.095314897s : 483 calls. qps=16.049009676524335
06:58:21 I periodic.go:533> T014 ended after 30.095326146s : 468 calls. qps=15.55058741445812
06:58:21 I periodic.go:533> T006 ended after 30.095488692s : 501 calls. qps=16.647013282531482
06:58:21 I periodic.go:533> T009 ended after 30.095505922s : 502 calls. qps=16.680231304336868
06:58:21 I periodic.go:533> T011 ended after 30.095773554s : 493 calls. qps=16.38103766016926
06:58:21 I periodic.go:533> T010 ended after 30.095805672s : 522 calls. qps=17.344609600720844
06:58:21 I periodic.go:533> T018 ended after 30.095850019s : 463 calls. qps=15.38418086572403
06:58:21 I periodic.go:533> T030 ended after 30.095864073s : 513 calls. qps=17.04553153070057
Ended after 30.095880465s : 15911 calls. qps=528.68
Aggregated Function Time : count 15911 avg 0.060434326 +/- 0.04998 min 0.000347347 max 0.198473898 sum 961.570564
# range, mid point, percentile, count
>= 0.000347347 <= 0.0004 , 0.000373673 , 0.05, 8
> 0.0004 <= 0.0005 , 0.00045 , 1.29, 197
> 0.0005 <= 0.0006 , 0.00055 , 2.83, 246
> 0.0006 <= 0.0007 , 0.00065 , 3.70, 137
> 0.0007 <= 0.0008 , 0.00075 , 4.12, 67
> 0.0008 <= 0.0009 , 0.00085 , 4.34, 36
> 0.0009 <= 0.001 , 0.00095 , 4.44, 15
> 0.001 <= 0.0011 , 0.00105 , 4.52, 13
> 0.0011 <= 0.0012 , 0.00115 , 4.64, 19
> 0.0012 <= 0.0014 , 0.0013 , 4.89, 40
> 0.0014 <= 0.0016 , 0.0015 , 5.67, 124
> 0.0016 <= 0.0018 , 0.0017 , 7.42, 278
> 0.0018 <= 0.002 , 0.0019 , 9.45, 324
> 0.002 <= 0.0025 , 0.00225 , 13.76, 685
> 0.0025 <= 0.003 , 0.00275 , 18.33, 728
> 0.003 <= 0.0035 , 0.00325 , 23.22, 777
> 0.0035 <= 0.004 , 0.00375 , 27.91, 746
> 0.004 <= 0.0045 , 0.00425 , 32.24, 689
> 0.0045 <= 0.005 , 0.00475 , 35.81, 569
> 0.005 <= 0.006 , 0.0055 , 40.09, 680
> 0.006 <= 0.007 , 0.0065 , 40.53, 70
> 0.007 <= 0.008 , 0.0075 , 40.97, 70
> 0.008 <= 0.009 , 0.0085 , 41.02, 8
> 0.009 <= 0.01 , 0.0095 , 41.31, 47
> 0.01 <= 0.012 , 0.011 , 41.45, 22
> 0.012 <= 0.014 , 0.013 , 41.52, 11
> 0.08 <= 0.09 , 0.085 , 41.61, 15
> 0.09 <= 0.1 , 0.095 , 87.61, 7319
> 0.1 <= 0.198474 , 0.149237 , 100.00, 1971
# target 50% 0.0918233
# target 75% 0.0972582
# target 90% 0.11898
# target 99% 0.190525
# target 99.9% 0.197679
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 15911 (100.0 %)
Response Header Sizes : count 15911 avg 75 +/- 0 min 75 max 75 sum 1193325
Response Body/Total Sizes : count 15911 avg 75 +/- 0 min 75 max 75 sum 1193325
All done 15911 calls (plus 32 warmup) 60.434 ms avg, 528.7 qps
Successfully wrote 5384 bytes of Json data to /data/2018-12-14-065751_http_linkerd_0qps_30s_echo_0_6.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8080/echo
06:58:21 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 32 threads at -1.0 qps
06:58:21 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:58:52 I periodic.go:533> T005 ended after 30.180561881s : 160 calls. qps=5.301425488063133
06:58:52 I periodic.go:533> T024 ended after 30.180953121s : 171 calls. qps=5.665825042517218
06:58:52 I periodic.go:533> T007 ended after 30.182556769s : 163 calls. qps=5.4004702533158015
06:58:52 I periodic.go:533> T013 ended after 30.182654314s : 158 calls. qps=5.2347947386029885
06:58:52 I periodic.go:533> T020 ended after 30.182668602s : 171 calls. qps=5.665503016147121
06:58:52 I periodic.go:533> T021 ended after 30.182680633s : 160 calls. qps=5.3010533406719755
06:58:52 I periodic.go:533> T027 ended after 30.182707914s : 163 calls. qps=5.400443209550254
06:58:52 I periodic.go:533> T029 ended after 30.182719808s : 166 calls. qps=5.499835702546638
06:58:52 I periodic.go:533> T008 ended after 30.182730957s : 166 calls. qps=5.499833670998587
06:58:52 I periodic.go:533> T026 ended after 30.182741836s : 163 calls. qps=5.400437140060757
06:58:52 I periodic.go:533> T012 ended after 30.182753391s : 156 calls. qps=5.168514547997355
06:58:52 I periodic.go:533> T018 ended after 30.182763399s : 163 calls. qps=5.400433281910842
06:58:52 I periodic.go:533> T004 ended after 30.182804244s : 167 calls. qps=5.532951764519949
06:58:52 I periodic.go:533> T030 ended after 30.182816573s : 162 calls. qps=5.367292333642477
06:58:52 I periodic.go:533> T014 ended after 30.182827763s : 157 calls. qps=5.201633234393645
06:58:52 I periodic.go:533> T011 ended after 30.182838005s : 164 calls. qps=5.433551343741508
06:58:52 I periodic.go:533> T003 ended after 30.182862102s : 165 calls. qps=5.4666783899551605
06:58:52 I periodic.go:533> T025 ended after 30.182873554s : 159 calls. qps=5.267888086120562
06:58:52 I periodic.go:533> T015 ended after 30.182884637s : 166 calls. qps=5.499805667895215
06:58:52 I periodic.go:533> T028 ended after 30.182898386s : 160 calls. qps=5.30101509648968
06:58:52 I periodic.go:533> T019 ended after 30.182920541s : 170 calls. qps=5.632324405753734
06:58:52 I periodic.go:533> T010 ended after 30.18294506s : 166 calls. qps=5.499794657877564
06:58:52 I periodic.go:533> T031 ended after 30.18295611s : 168 calls. qps=5.56605520637985
06:58:52 I periodic.go:533> T016 ended after 30.182966622s : 169 calls. qps=5.599184537308468
06:58:52 I periodic.go:533> T023 ended after 30.182977282s : 176 calls. qps=5.831101364044687
06:58:52 I periodic.go:533> T017 ended after 30.182988129s : 165 calls. qps=5.466655564213902
06:58:52 I periodic.go:533> T006 ended after 30.183001509s : 163 calls. qps=5.4003906785544995
06:58:52 I periodic.go:533> T000 ended after 30.183026322s : 171 calls. qps=5.665435870337508
06:58:52 I periodic.go:533> T002 ended after 30.183037603s : 158 calls. qps=5.234728262880202
06:58:52 I periodic.go:533> T001 ended after 30.183049472s : 162 calls. qps=5.367250918442917
06:58:52 I periodic.go:533> T009 ended after 30.185196187s : 159 calls. qps=5.267482742698796
06:58:52 I periodic.go:533> T022 ended after 30.185226942s : 160 calls. qps=5.300606164314589
Ended after 30.185251691s : 5247 calls. qps=173.83
Aggregated Function Time : count 5247 avg 0.1840507 +/- 0.07653 min 0.000716415 max 0.498379914 sum 965.714018
# range, mid point, percentile, count
>= 0.000716415 <= 0.0008 , 0.000758208 , 0.04, 2
> 0.0008 <= 0.0009 , 0.00085 , 0.06, 1
> 0.0009 <= 0.001 , 0.00095 , 0.13, 4
> 0.001 <= 0.0011 , 0.00105 , 0.17, 2
> 0.0011 <= 0.0012 , 0.00115 , 0.25, 4
> 0.0012 <= 0.0014 , 0.0013 , 0.57, 17
> 0.0014 <= 0.0016 , 0.0015 , 0.86, 15
> 0.0016 <= 0.0018 , 0.0017 , 1.03, 9
> 0.0018 <= 0.002 , 0.0019 , 1.12, 5
> 0.002 <= 0.0025 , 0.00225 , 1.32, 10
> 0.0025 <= 0.003 , 0.00275 , 1.37, 3
> 0.003 <= 0.0035 , 0.00325 , 1.43, 3
> 0.0035 <= 0.004 , 0.00375 , 1.60, 9
> 0.004 <= 0.0045 , 0.00425 , 1.72, 6
> 0.0045 <= 0.005 , 0.00475 , 1.73, 1
> 0.005 <= 0.006 , 0.0055 , 1.81, 4
> 0.006 <= 0.007 , 0.0065 , 1.85, 2
> 0.07 <= 0.08 , 0.075 , 1.96, 6
> 0.08 <= 0.09 , 0.085 , 2.00, 2
> 0.09 <= 0.1 , 0.095 , 11.05, 475
> 0.1 <= 0.2 , 0.15 , 58.95, 2513
> 0.2 <= 0.3 , 0.25 , 95.96, 1942
> 0.3 <= 0.4 , 0.35 , 98.95, 157
> 0.4 <= 0.49838 , 0.44919 , 100.00, 55
# target 50% 0.181317
# target 75% 0.24337
# target 90% 0.283898
# target 99% 0.404525
# target 99.9% 0.488994
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 5247 (100.0 %)
Response Header Sizes : count 5247 avg 210.17496 +/- 0.6271 min 209 max 211 sum 1102788
Response Body/Total Sizes : count 5247 avg 210.17496 +/- 0.6271 min 209 max 211 sum 1102788
All done 5247 calls (plus 32 warmup) 184.051 ms avg, 173.8 qps
Successfully wrote 4748 bytes of Json data to /data/2018-12-14-065821_http_istio_0qps_30s_echo_0_6.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8079
06:58:52 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:59:22 I periodic.go:533> T028 ended after 30.050383451s : 5164 calls. qps=171.84472898392102
06:59:22 I periodic.go:533> T026 ended after 30.050680917s : 5113 calls. qps=170.14589500058614
06:59:22 I periodic.go:533> T004 ended after 30.050738465s : 5170 calls. qps=172.04236115599898
06:59:22 I periodic.go:533> T011 ended after 30.050786013s : 5165 calls. qps=171.87570394217363
06:59:22 I periodic.go:533> T023 ended after 30.050832076s : 5163 calls. qps=171.8088865873173
06:59:22 I periodic.go:533> T015 ended after 30.050859434s : 5140 calls. qps=171.04336104891982
06:59:22 I periodic.go:533> T030 ended after 30.050899989s : 5117 calls. qps=170.27776212602802
06:59:22 I periodic.go:533> T025 ended after 30.050929288s : 5157 calls. qps=171.60866975449255
06:59:22 I periodic.go:533> T020 ended after 30.05097552s : 5148 calls. qps=171.3089146331979
06:59:22 I periodic.go:533> T022 ended after 30.051032015s : 5176 calls. qps=172.24034094457704
06:59:22 I periodic.go:533> T002 ended after 30.051081946s : 5146 calls. qps=171.24175459795606
06:59:22 I periodic.go:533> T018 ended after 30.051109356s : 5164 calls. qps=171.84057795753074
06:59:22 I periodic.go:533> T005 ended after 30.051154375s : 5144 calls. qps=171.17478868896197
06:59:22 I periodic.go:533> T009 ended after 30.051190486s : 5152 calls. qps=171.44079541208762
06:59:22 I periodic.go:533> T027 ended after 30.051229872s : 5161 calls. qps=171.74005929150746
06:59:22 I periodic.go:533> T019 ended after 30.051255848s : 5132 calls. qps=170.7748929348505
06:59:22 I periodic.go:533> T031 ended after 30.051280977s : 5173 calls. qps=172.13908465197204
06:59:22 I periodic.go:533> T000 ended after 30.051336497s : 5172 calls. qps=172.10549023389746
06:59:22 I periodic.go:533> T003 ended after 30.05136526s : 5146 calls. qps=171.2401401892248
06:59:22 I periodic.go:533> T001 ended after 30.051405918s : 5156 calls. qps=171.57267164368147
06:59:22 I periodic.go:533> T012 ended after 30.05143071s : 5151 calls. qps=171.40614866918594
06:59:22 I periodic.go:533> T021 ended after 30.05145599s : 5138 calls. qps=170.97341312546502
06:59:22 I periodic.go:533> T029 ended after 30.051495181s : 5148 calls. qps=171.3059522993323
06:59:22 I periodic.go:533> T007 ended after 30.051520247s : 5152 calls. qps=171.43891415990234
06:59:22 I periodic.go:533> T008 ended after 30.051616086s : 5148 calls. qps=171.30526309359695
06:59:22 I periodic.go:533> T017 ended after 30.051644975s : 5156 calls. qps=171.571306804978
06:59:22 I periodic.go:533> T010 ended after 30.051686146s : 5145 calls. qps=171.20503571759883
06:59:22 I periodic.go:533> T013 ended after 30.051712213s : 5159 calls. qps=171.67075085220205
06:59:22 I periodic.go:533> T014 ended after 30.051736396s : 5150 calls. qps=171.37112917992602
06:59:22 I periodic.go:533> T016 ended after 30.051774442s : 5177 calls. qps=172.26936166420467
06:59:22 I periodic.go:533> T024 ended after 30.051798585s : 5157 calls. qps=171.60370569547393
06:59:22 I periodic.go:533> T006 ended after 30.051824799s : 5161 calls. qps=171.73665940484707
Ended after 30.051856519s : 164901 calls. qps=5487.2
Aggregated Function Time : count 164901 avg 0.0058304896 +/- 0.01587 min 0.000335928 max 0.083880584 sum 961.453558
# range, mid point, percentile, count
>= 0.000335928 <= 0.0004 , 0.000367964 , 0.00, 2
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 9
> 0.0005 <= 0.0006 , 0.00055 , 0.16, 245
> 0.0006 <= 0.0007 , 0.00065 , 0.62, 773
> 0.0007 <= 0.0008 , 0.00075 , 1.49, 1429
> 0.0008 <= 0.0009 , 0.00085 , 2.55, 1749
> 0.0009 <= 0.001 , 0.00095 , 4.00, 2384
> 0.001 <= 0.0011 , 0.00105 , 6.53, 4171
> 0.0011 <= 0.0012 , 0.00115 , 11.55, 8287
> 0.0012 <= 0.0014 , 0.0013 , 26.31, 24331
> 0.0014 <= 0.0016 , 0.0015 , 46.86, 33885
> 0.0016 <= 0.0018 , 0.0017 , 61.05, 23411
> 0.0018 <= 0.002 , 0.0019 , 69.52, 13961
> 0.002 <= 0.0025 , 0.00225 , 79.82, 16980
> 0.0025 <= 0.003 , 0.00275 , 83.79, 6557
> 0.003 <= 0.0035 , 0.00325 , 87.04, 5348
> 0.0035 <= 0.004 , 0.00375 , 89.56, 4166
> 0.004 <= 0.0045 , 0.00425 , 91.42, 3069
> 0.0045 <= 0.005 , 0.00475 , 92.69, 2090
> 0.005 <= 0.006 , 0.0055 , 93.61, 1513
> 0.006 <= 0.007 , 0.0065 , 93.91, 496
> 0.007 <= 0.008 , 0.0075 , 94.00, 145
> 0.008 <= 0.009 , 0.0085 , 94.04, 77
> 0.009 <= 0.01 , 0.0095 , 94.09, 80
> 0.01 <= 0.012 , 0.011 , 94.14, 74
> 0.012 <= 0.014 , 0.013 , 94.14, 2
> 0.014 <= 0.016 , 0.015 , 94.14, 1
> 0.018 <= 0.02 , 0.019 , 94.14, 2
> 0.02 <= 0.025 , 0.0225 , 94.14, 2
> 0.025 <= 0.03 , 0.0275 , 94.16, 29
> 0.03 <= 0.035 , 0.0325 , 94.16, 3
> 0.035 <= 0.04 , 0.0375 , 94.22, 93
> 0.04 <= 0.045 , 0.0425 , 94.22, 8
> 0.045 <= 0.05 , 0.0475 , 94.25, 55
> 0.05 <= 0.06 , 0.055 , 94.49, 383
> 0.06 <= 0.07 , 0.065 , 96.80, 3819
> 0.07 <= 0.08 , 0.075 , 99.97, 5220
> 0.08 <= 0.0838806 , 0.0819403 , 100.00, 52
# target 50% 0.0016443
# target 75% 0.00226616
# target 90% 0.00411777
# target 99% 0.0769406
# target 99.9% 0.0797837
Ping SERVING : 164901
All done 164901 calls (plus 32 warmup) 5.830 ms avg, 5487.2 qps
Successfully wrote 6042 bytes of Json data to /data/2018-12-14-065852_grpc_baseline_0qps_30s_echo_0_6.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-linkerd:8079
06:59:22 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
06:59:52 I periodic.go:533> T000 ended after 30.000943641s : 356 calls. qps=11.866293415967156
06:59:52 I periodic.go:533> T031 ended after 30.004375848s : 373 calls. qps=12.431520051928128
06:59:52 I periodic.go:533> T023 ended after 30.004432532s : 371 calls. qps=12.364839748404679
06:59:52 I periodic.go:533> T027 ended after 30.004521089s : 360 calls. qps=11.998191836895543
06:59:52 I periodic.go:533> T013 ended after 30.00586685s : 366 calls. qps=12.197614614156699
06:59:52 I periodic.go:533> T006 ended after 30.005911936s : 368 calls. qps=12.264249817999598
06:59:52 I periodic.go:533> T003 ended after 30.005926182s : 386 calls. qps=12.864125495034854
06:59:52 I periodic.go:533> T026 ended after 30.005937613s : 365 calls. qps=12.164259111232193
06:59:52 I periodic.go:533> T015 ended after 30.005948763s : 374 calls. qps=12.464195115242456
06:59:52 I periodic.go:533> T014 ended after 30.005959776s : 372 calls. qps=12.397537115194725
06:59:52 I periodic.go:533> T017 ended after 30.005970937s : 372 calls. qps=12.397532503815475
06:59:52 I periodic.go:533> T008 ended after 30.005997673s : 379 calls. qps=12.630808151432733
06:59:52 I periodic.go:533> T021 ended after 30.00600891s : 365 calls. qps=12.164230207848727
06:59:52 I periodic.go:533> T004 ended after 30.00603226s : 363 calls. qps=12.09756747758692
06:59:52 I periodic.go:533> T022 ended after 30.006044798s : 367 calls. qps=12.230868895605386
06:59:52 I periodic.go:533> T011 ended after 30.006071539s : 370 calls. qps=12.33083776125433
06:59:52 I periodic.go:533> T010 ended after 30.006084282s : 359 calls. qps=11.964240206288974
06:59:52 I periodic.go:533> T030 ended after 30.00609671s : 364 calls. qps=12.13086805384758
06:59:52 I periodic.go:533> T007 ended after 30.006108524s : 359 calls. qps=11.964230540353425
06:59:52 I periodic.go:533> T028 ended after 30.006120759s : 364 calls. qps=12.130858331323028
06:59:52 I periodic.go:533> T029 ended after 30.006132487s : 369 calls. qps=12.297486194192714
06:59:52 I periodic.go:533> T005 ended after 30.006159699s : 356 calls. qps=11.864230663674839
06:59:52 I periodic.go:533> T009 ended after 30.006171262s : 377 calls. qps=12.564082125247186
06:59:52 I periodic.go:533> T002 ended after 30.00618594s : 369 calls. qps=12.297464287458855
06:59:52 I periodic.go:533> T019 ended after 30.006199963s : 366 calls. qps=12.197479202675005
06:59:52 I periodic.go:533> T001 ended after 30.006211879s : 356 calls. qps=11.864210032095002
06:59:52 I periodic.go:533> T020 ended after 30.006631856s : 389 calls. qps=12.963800864648434
06:59:52 I periodic.go:533> T018 ended after 30.006651539s : 362 calls. qps=12.063991862920936
06:59:52 I periodic.go:533> T024 ended after 30.00667899s : 377 calls. qps=12.563869534700547
06:59:52 I periodic.go:533> T012 ended after 30.006701407s : 361 calls. qps=12.030645924839492
06:59:52 I periodic.go:533> T016 ended after 30.006712407s : 376 calls. qps=12.530529666165172
06:59:52 I periodic.go:533> T025 ended after 30.006723278s : 377 calls. qps=12.563850991234512
Ended after 30.006738231s : 11788 calls. qps=392.85
Aggregated Function Time : count 11788 avg 0.081443501 +/- 0.03948 min 0.001133249 max 0.200441895 sum 960.05599
# range, mid point, percentile, count
>= 0.00113325 <= 0.0012 , 0.00116662 , 0.02, 2
> 0.0012 <= 0.0014 , 0.0013 , 0.03, 1
> 0.0014 <= 0.0016 , 0.0015 , 0.04, 2
> 0.0016 <= 0.0018 , 0.0017 , 0.08, 4
> 0.0018 <= 0.002 , 0.0019 , 0.62, 64
> 0.002 <= 0.0025 , 0.00225 , 3.56, 347
> 0.0025 <= 0.003 , 0.00275 , 4.93, 161
> 0.003 <= 0.0035 , 0.00325 , 6.04, 131
> 0.0035 <= 0.004 , 0.00375 , 8.42, 281
> 0.004 <= 0.0045 , 0.00425 , 12.91, 529
> 0.0045 <= 0.005 , 0.00475 , 15.85, 346
> 0.005 <= 0.006 , 0.0055 , 18.20, 277
> 0.006 <= 0.007 , 0.0065 , 18.74, 64
> 0.007 <= 0.008 , 0.0075 , 18.96, 26
> 0.008 <= 0.009 , 0.0085 , 19.25, 34
> 0.009 <= 0.01 , 0.0095 , 19.36, 13
> 0.01 <= 0.012 , 0.011 , 19.53, 20
> 0.012 <= 0.014 , 0.013 , 19.62, 11
> 0.08 <= 0.09 , 0.085 , 19.73, 13
> 0.09 <= 0.1 , 0.095 , 78.10, 6881
> 0.1 <= 0.2 , 0.15 , 99.97, 2577
> 0.2 <= 0.200442 , 0.200221 , 100.00, 4
# target 50% 0.0951853
# target 75% 0.0994681
# target 90% 0.154412
# target 99% 0.195581
# target 99.9% 0.199698
Ping SERVING : 11788
All done 11788 calls (plus 32 warmup) 81.444 ms avg, 392.8 qps
Successfully wrote 3915 bytes of Json data to /data/2018-12-14-065922_grpc_linkerd_0qps_30s_echo_0_6.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8079
06:59:52 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
07:00:23 I periodic.go:533> T001 ended after 30.002106753s : 141 calls. qps=4.699669965206726
07:00:23 I periodic.go:533> T003 ended after 30.004468781s : 140 calls. qps=4.6659716264883
07:00:23 I periodic.go:533> T005 ended after 30.10301475s : 138 calls. qps=4.584258458698061
07:00:23 I periodic.go:533> T026 ended after 30.104061699s : 137 calls. qps=4.550880919983993
07:00:23 I periodic.go:533> T020 ended after 30.104086766s : 137 calls. qps=4.550877130567196
07:00:23 I periodic.go:533> T000 ended after 30.104115074s : 138 calls. qps=4.584090901219892
07:00:23 I periodic.go:533> T029 ended after 30.10412804s : 143 calls. qps=4.750179105337077
07:00:23 I periodic.go:533> T015 ended after 30.104156841s : 142 calls. qps=4.716956556863429
07:00:23 I periodic.go:533> T011 ended after 30.104209279s : 144 calls. qps=4.783384232598033
07:00:23 I periodic.go:533> T008 ended after 30.104224504s : 142 calls. qps=4.716945954915139
07:00:23 I periodic.go:533> T021 ended after 30.104236148s : 137 calls. qps=4.550854548392244
07:00:23 I periodic.go:533> T002 ended after 30.104247567s : 145 calls. qps=4.816596052676223
07:00:23 I periodic.go:533> T004 ended after 30.104258517s : 140 calls. qps=4.650504842062175
07:00:23 I periodic.go:533> T025 ended after 30.104268974s : 140 calls. qps=4.650503226665729
07:00:23 I periodic.go:533> T028 ended after 30.104294416s : 136 calls. qps=4.517627887924122
07:00:23 I periodic.go:533> T006 ended after 30.104307213s : 134 calls. qps=4.451190291538565
07:00:23 I periodic.go:533> T018 ended after 30.104317708s : 136 calls. qps=4.517624392591997
07:00:23 I periodic.go:533> T017 ended after 30.104328404s : 136 calls. qps=4.517622787490237
07:00:23 I periodic.go:533> T010 ended after 30.104338869s : 135 calls. qps=4.484403413988158
07:00:23 I periodic.go:533> T007 ended after 30.104350073s : 137 calls. qps=4.550837326425878
07:00:23 I periodic.go:533> T022 ended after 30.104374058s : 139 calls. qps=4.617269229122598
07:00:23 I periodic.go:533> T014 ended after 30.104399564s : 137 calls. qps=4.550829844944985
07:00:23 I periodic.go:533> T013 ended after 30.104410083s : 147 calls. qps=4.883005499682954
07:00:23 I periodic.go:533> T023 ended after 30.104425757s : 135 calls. qps=4.484390471012697
07:00:23 I periodic.go:533> T027 ended after 30.104437298s : 138 calls. qps=4.584041835226998
07:00:23 I periodic.go:533> T012 ended after 30.104481813s : 140 calls. qps=4.650470347559475
07:00:23 I periodic.go:533> T024 ended after 30.104492667s : 137 calls. qps=4.550815770769555
07:00:23 I periodic.go:533> T031 ended after 30.104506207s : 138 calls. qps=4.584031342387931
07:00:23 I periodic.go:533> T019 ended after 30.104517724s : 135 calls. qps=4.484376771542663
07:00:23 I periodic.go:533> T016 ended after 30.104543814s : 139 calls. qps=4.617243192881687
07:00:23 I periodic.go:533> T030 ended after 30.104554265s : 139 calls. qps=4.617241589974427
07:00:23 I periodic.go:533> T009 ended after 30.104566054s : 141 calls. qps=4.683674886629542
Ended after 30.104591812s : 4443 calls. qps=147.59
Aggregated Function Time : count 4443 avg 0.21674561 +/- 0.07724 min 0.001266289 max 0.601338498 sum 963.000744
# range, mid point, percentile, count
>= 0.00126629 <= 0.0014 , 0.00133314 , 0.07, 3
> 0.0014 <= 0.0016 , 0.0015 , 0.09, 1
> 0.0016 <= 0.0018 , 0.0017 , 0.20, 5
> 0.0018 <= 0.002 , 0.0019 , 0.29, 4
> 0.002 <= 0.0025 , 0.00225 , 0.70, 18
> 0.0025 <= 0.003 , 0.00275 , 0.86, 7
> 0.003 <= 0.0035 , 0.00325 , 0.99, 6
> 0.0035 <= 0.004 , 0.00375 , 1.01, 1
> 0.004 <= 0.0045 , 0.00425 , 1.10, 4
> 0.0045 <= 0.005 , 0.00475 , 1.15, 2
> 0.005 <= 0.006 , 0.0055 , 1.19, 2
> 0.006 <= 0.007 , 0.0065 , 1.22, 1
> 0.007 <= 0.008 , 0.0075 , 1.24, 1
> 0.09 <= 0.1 , 0.095 , 4.05, 125
> 0.1 <= 0.2 , 0.15 , 39.50, 1575
> 0.2 <= 0.3 , 0.25 , 92.78, 2367
> 0.3 <= 0.4 , 0.35 , 98.60, 259
> 0.4 <= 0.5 , 0.45 , 98.85, 11
> 0.5 <= 0.601338 , 0.550669 , 100.00, 51
# target 50% 0.219708
# target 75% 0.266635
# target 90% 0.294791
# target 99% 0.513055
# target 99.9% 0.59251
Ping SERVING : 4443
All done 4443 calls (plus 32 warmup) 216.746 ms avg, 147.6 qps
Successfully wrote 3440 bytes of Json data to /data/2018-12-14-065953_grpc_istio_0qps_30s_echo_0_6.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-baseline:8080/echo
07:00:23 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
07:00:23 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
07:00:53 I periodic.go:533> T012 ended after 30.056486293s : 7941 calls. qps=264.20253926519075
07:00:53 I periodic.go:533> T002 ended after 30.056654238s : 7844 calls. qps=260.9738242283466
07:00:53 I periodic.go:533> T030 ended after 30.056741016s : 8019 calls. qps=266.79539194656115
07:00:53 I periodic.go:533> T016 ended after 30.056754975s : 7959 calls. qps=264.79904456152957
07:00:53 I periodic.go:533> T001 ended after 30.056806853s : 7927 calls. qps=263.73393683397205
07:00:53 I periodic.go:533> T026 ended after 30.056828487s : 8021 calls. qps=266.86115614191283
07:00:53 I periodic.go:533> T024 ended after 30.056848185s : 8056 calls. qps=268.0254413375379
07:00:53 I periodic.go:533> T008 ended after 30.056901106s : 7868 calls. qps=261.77016626738606
07:00:53 I periodic.go:533> T013 ended after 30.056920301s : 7775 calls. qps=258.6758697211345
07:00:53 I periodic.go:533> T020 ended after 30.056941108s : 7950 calls. qps=264.49797307830556
07:00:53 I periodic.go:533> T010 ended after 30.056995972s : 7937 calls. qps=264.0649786623327
07:00:53 I periodic.go:533> T004 ended after 30.057018845s : 7799 calls. qps=259.47350401642933
07:00:53 I periodic.go:533> T021 ended after 30.057029871s : 7952 calls. qps=264.56373214947456
07:00:53 I periodic.go:533> T007 ended after 30.057049251s : 7921 calls. qps=263.5321895324262
07:00:53 I periodic.go:533> T029 ended after 30.057075009s : 7949 calls. qps=264.4635247315259
07:00:53 I periodic.go:533> T006 ended after 30.057085786s : 7929 calls. qps=263.7980294048724
07:00:53 I periodic.go:533> T028 ended after 30.057096573s : 7994 calls. qps=265.9604855906453
07:00:53 I periodic.go:533> T027 ended after 30.057107251s : 7844 calls. qps=260.9698908979017
07:00:53 I periodic.go:533> T003 ended after 30.057116942s : 7921 calls. qps=263.53159603713266
07:00:53 I periodic.go:533> T009 ended after 30.057127707s : 7813 calls. qps=259.9383439482952
07:00:53 I periodic.go:533> T014 ended after 30.057160705s : 7955 calls. qps=264.6623903726438
07:00:53 I periodic.go:533> T022 ended after 30.05718013s : 7820 calls. qps=260.170780032518
07:00:53 I periodic.go:533> T000 ended after 30.057193125s : 7742 calls. qps=257.5756148554207
07:00:53 I periodic.go:533> T005 ended after 30.05720991s : 7944 calls. qps=264.29598834311764
07:00:53 I periodic.go:533> T031 ended after 30.057260761s : 7749 calls. qps=257.8079240691989
07:00:53 I periodic.go:533> T017 ended after 30.057272906s : 7986 calls. qps=265.6927667714606
07:00:53 I periodic.go:533> T019 ended after 30.057283223s : 7985 calls. qps=265.65940576724626
07:00:53 I periodic.go:533> T018 ended after 30.057294488s : 7784 calls. qps=258.97207758029134
07:00:53 I periodic.go:533> T025 ended after 30.057304767s : 7869 calls. qps=261.7999205517388
07:00:53 I periodic.go:533> T015 ended after 30.05733336s : 7814 calls. qps=259.96983519498747
07:00:53 I periodic.go:533> T011 ended after 30.057344141s : 7980 calls. qps=265.49251865253143
07:00:53 I periodic.go:533> T023 ended after 30.057355102s : 7910 calls. qps=263.16354094221924
Ended after 30.057373378s : 252957 calls. qps=8415.8
Aggregated Function Time : count 252957 avg 0.0038014899 +/- 0.01419 min 7.458e-05 max 0.079450433 sum 961.613483
# range, mid point, percentile, count
>= 7.458e-05 <= 0.0001 , 8.729e-05 , 0.50, 1256
> 0.0001 <= 0.0002 , 0.00015 , 4.94, 11230
> 0.0002 <= 0.0003 , 0.00025 , 10.27, 13489
> 0.0003 <= 0.0004 , 0.00035 , 15.94, 14334
> 0.0004 <= 0.0005 , 0.00045 , 22.05, 15466
> 0.0005 <= 0.0006 , 0.00055 , 28.18, 15516
> 0.0006 <= 0.0007 , 0.00065 , 34.21, 15234
> 0.0007 <= 0.0008 , 0.00075 , 40.26, 15309
> 0.0008 <= 0.0009 , 0.00085 , 46.35, 15424
> 0.0009 <= 0.001 , 0.00095 , 52.53, 15624
> 0.001 <= 0.0011 , 0.00105 , 58.51, 15120
> 0.0011 <= 0.0012 , 0.00115 , 64.42, 14959
> 0.0012 <= 0.0014 , 0.0013 , 75.81, 28812
> 0.0014 <= 0.0016 , 0.0015 , 85.85, 25394
> 0.0016 <= 0.0018 , 0.0017 , 90.65, 12127
> 0.0018 <= 0.002 , 0.0019 , 92.39, 4405
> 0.002 <= 0.0025 , 0.00225 , 94.43, 5158
> 0.0025 <= 0.003 , 0.00275 , 95.19, 1939
> 0.003 <= 0.0035 , 0.00325 , 95.45, 663
> 0.0035 <= 0.004 , 0.00375 , 95.63, 440
> 0.004 <= 0.0045 , 0.00425 , 95.82, 490
> 0.0045 <= 0.005 , 0.00475 , 95.98, 389
> 0.005 <= 0.006 , 0.0055 , 96.15, 438
> 0.006 <= 0.007 , 0.0065 , 96.17, 61
> 0.007 <= 0.008 , 0.0075 , 96.18, 15
> 0.008 <= 0.009 , 0.0085 , 96.18, 2
> 0.009 <= 0.01 , 0.0095 , 96.19, 21
> 0.01 <= 0.012 , 0.011 , 96.19, 10
> 0.03 <= 0.035 , 0.0325 , 96.20, 32
> 0.045 <= 0.05 , 0.0475 , 96.21, 2
> 0.05 <= 0.06 , 0.055 , 96.26, 143
> 0.06 <= 0.07 , 0.065 , 96.37, 279
> 0.07 <= 0.0794504 , 0.0747252 , 100.00, 9176
# target 50% 0.000959015
# target 75% 0.00138573
# target 90% 0.00177307
# target 99% 0.0768452
# target 99.9% 0.0791899
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 252957 (100.0 %)
Response Header Sizes : count 252957 avg 75 +/- 0 min 75 max 75 sum 18971775
Response Body/Total Sizes : count 252957 avg 75 +/- 0 min 75 max 75 sum 18971775
All done 252957 calls (plus 32 warmup) 3.801 ms avg, 8415.8 qps
Successfully wrote 5978 bytes of Json data to /data/2018-12-14-070023_http_baseline_0qps_30s_echo_1_6.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-linkerd:8080/echo
07:00:53 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 32 threads at -1.0 qps
07:00:53 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
07:01:23 I periodic.go:533> T025 ended after 30.070641941s : 448 calls. qps=14.898251952153094
07:01:23 I periodic.go:533> T005 ended after 30.070734261s : 455 calls. qps=15.13099068518951
07:01:23 I periodic.go:533> T001 ended after 30.070749143s : 491 calls. qps=16.328159889368674
07:01:23 I periodic.go:533> T016 ended after 30.070763112s : 463 calls. qps=15.397015309373236
07:01:23 I periodic.go:533> T018 ended after 30.070774802s : 481 calls. qps=15.995597159272691
07:01:23 I periodic.go:533> T027 ended after 30.07078681s : 458 calls. qps=15.23072884304087
07:01:23 I periodic.go:533> T028 ended after 30.070818752s : 475 calls. qps=15.796044794038336
07:01:23 I periodic.go:533> T010 ended after 30.070830828s : 440 calls. qps=14.632119827906473
07:01:23 I periodic.go:533> T008 ended after 30.070842708s : 468 calls. qps=15.563248577516386
07:01:23 I periodic.go:533> T006 ended after 30.070856565s : 467 calls. qps=15.52998661646205
07:01:23 I periodic.go:533> T026 ended after 30.070896547s : 467 calls. qps=15.529965967928213
07:01:23 I periodic.go:533> T024 ended after 30.070909007s : 481 calls. qps=15.995525771702853
07:01:23 I periodic.go:533> T000 ended after 30.070922213s : 466 calls. qps=15.496697996130726
07:01:23 I periodic.go:533> T004 ended after 30.070933368s : 478 calls. qps=15.895748700260297
07:01:23 I periodic.go:533> T029 ended after 30.070944982s : 465 calls. qps=15.46343157085159
07:01:23 I periodic.go:533> T015 ended after 30.070969583s : 493 calls. qps=16.3945495218986
07:01:23 I periodic.go:533> T009 ended after 30.070981119s : 489 calls. qps=16.26152462617959
07:01:23 I periodic.go:533> T021 ended after 30.070992335s : 466 calls. qps=15.49666185966257
07:01:23 I periodic.go:533> T013 ended after 30.071181012s : 487 calls. qps=16.19490766942812
07:01:23 I periodic.go:533> T014 ended after 30.071195867s : 467 calls. qps=15.529811387131556
07:01:23 I periodic.go:533> T017 ended after 30.071206919s : 463 calls. qps=15.396788071963318
07:01:23 I periodic.go:533> T030 ended after 30.071241239s : 484 calls. qps=16.09511214230461
07:01:23 I periodic.go:533> T023 ended after 30.071252979s : 490 calls. qps=16.29463196436102
07:01:23 I periodic.go:533> T019 ended after 30.071266658s : 466 calls. qps=15.496520492462457
07:01:23 I periodic.go:533> T031 ended after 30.071278805s : 467 calls. qps=15.529768555182002
07:01:23 I periodic.go:533> T002 ended after 30.071289718s : 487 calls. qps=16.19484912575907
07:01:23 I periodic.go:533> T022 ended after 30.071326559s : 472 calls. qps=15.696015241427249
07:01:23 I periodic.go:533> T012 ended after 30.071338033s : 470 calls. qps=15.62950073868434
07:01:23 I periodic.go:533> T011 ended after 30.071359972s : 491 calls. qps=16.3278282211772
07:01:23 I periodic.go:533> T003 ended after 30.071371524s : 465 calls. qps=15.46321223256754
07:01:23 I periodic.go:533> T007 ended after 30.071398841s : 453 calls. qps=15.06414790995256
07:01:23 I periodic.go:533> T020 ended after 30.071411751s : 468 calls. qps=15.562954073296444
Ended after 30.071429952s : 15081 calls. qps=501.51
Aggregated Function Time : count 15081 avg 0.063797187 +/- 0.0516 min 0.000354405 max 0.196281017 sum 962.12537
# range, mid point, percentile, count
>= 0.000354405 <= 0.0004 , 0.000377203 , 0.03, 5
> 0.0004 <= 0.0005 , 0.00045 , 1.10, 161
> 0.0005 <= 0.0006 , 0.00055 , 2.49, 210
> 0.0006 <= 0.0007 , 0.00065 , 3.52, 155
> 0.0007 <= 0.0008 , 0.00075 , 4.05, 80
> 0.0008 <= 0.0009 , 0.00085 , 4.37, 48
> 0.0009 <= 0.001 , 0.00095 , 4.55, 27
> 0.001 <= 0.0011 , 0.00105 , 4.68, 20
> 0.0011 <= 0.0012 , 0.00115 , 4.82, 21
> 0.0012 <= 0.0014 , 0.0013 , 5.02, 30
> 0.0014 <= 0.0016 , 0.0015 , 5.32, 45
> 0.0016 <= 0.0018 , 0.0017 , 6.32, 151
> 0.0018 <= 0.002 , 0.0019 , 8.16, 278
> 0.002 <= 0.0025 , 0.00225 , 12.11, 595
> 0.0025 <= 0.003 , 0.00275 , 16.58, 674
> 0.003 <= 0.0035 , 0.00325 , 20.80, 637
> 0.0035 <= 0.004 , 0.00375 , 25.13, 653
> 0.004 <= 0.0045 , 0.00425 , 29.60, 674
> 0.0045 <= 0.005 , 0.00475 , 33.60, 603
> 0.005 <= 0.006 , 0.0055 , 37.88, 645
> 0.006 <= 0.007 , 0.0065 , 38.74, 130
> 0.007 <= 0.008 , 0.0075 , 39.21, 71
> 0.008 <= 0.009 , 0.0085 , 39.24, 5
> 0.009 <= 0.01 , 0.0095 , 39.36, 18
> 0.01 <= 0.012 , 0.011 , 39.39, 5
> 0.06 <= 0.07 , 0.065 , 39.45, 8
> 0.07 <= 0.08 , 0.075 , 39.49, 7
> 0.08 <= 0.09 , 0.085 , 39.50, 1
> 0.09 <= 0.1 , 0.095 , 85.13, 6881
> 0.1 <= 0.196281 , 0.148141 , 100.00, 2243
# target 50% 0.0923013
# target 75% 0.0977805
# target 90% 0.131546
# target 99% 0.189807
# target 99.9% 0.195634
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 15081 (100.0 %)
Response Header Sizes : count 15081 avg 75 +/- 0 min 75 max 75 sum 1131075
Response Body/Total Sizes : count 15081 avg 75 +/- 0 min 75 max 75 sum 1131075
All done 15081 calls (plus 32 warmup) 63.797 ms avg, 501.5 qps
Successfully wrote 5515 bytes of Json data to /data/2018-12-14-070053_http_linkerd_0qps_30s_echo_1_6.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-istio:8080/echo
07:01:23 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 32 threads at -1.0 qps
07:01:23 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
07:01:54 I periodic.go:533> T019 ended after 30.08529769s : 167 calls. qps=5.550884080349613
07:01:54 I periodic.go:533> T031 ended after 30.085899017s : 169 calls. qps=5.61724945977206
07:01:54 I periodic.go:533> T007 ended after 30.0859338s : 166 calls. qps=5.517528593378744
07:01:54 I periodic.go:533> T014 ended after 30.086165104s : 172 calls. qps=5.7169133854527825
07:01:54 I periodic.go:533> T005 ended after 30.086485455s : 173 calls. qps=5.75009002825385
07:01:54 I periodic.go:533> T023 ended after 30.086765253s : 168 calls. qps=5.583850526545005
07:01:54 I periodic.go:533> T011 ended after 30.087049176s : 171 calls. qps=5.683508508916993
07:01:54 I periodic.go:533> T016 ended after 30.087344026s : 168 calls. qps=5.583743113211411
07:01:54 I periodic.go:533> T013 ended after 30.087612821s : 166 calls. qps=5.517220691039283
07:01:54 I periodic.go:533> T018 ended after 30.088032917s : 174 calls. qps=5.7830300997074655
07:01:54 I periodic.go:533> T008 ended after 30.088054434s : 163 calls. qps=5.417432368634886
07:01:54 I periodic.go:533> T021 ended after 30.18581165s : 177 calls. qps=5.863681985837872
07:01:54 I periodic.go:533> T030 ended after 30.185881291s : 158 calls. qps=5.234235120612765
07:01:54 I periodic.go:533> T020 ended after 30.185896451s : 168 calls. qps=5.565513029328453
07:01:54 I periodic.go:533> T003 ended after 30.185909405s : 178 calls. qps=5.896791036234808
07:01:54 I periodic.go:533> T022 ended after 30.185920902s : 169 calls. qps=5.5986365481002345
07:01:54 I periodic.go:533> T015 ended after 30.185932414s : 176 calls. qps=5.830530512894562
07:01:54 I periodic.go:533> T024 ended after 30.185962643s : 170 calls. qps=5.631756787435841
07:01:54 I periodic.go:533> T001 ended after 30.185973882s : 176 calls. qps=5.83052250319972
07:01:54 I periodic.go:533> T026 ended after 30.185984042s : 175 calls. qps=5.797392583144201
07:01:54 I periodic.go:533> T025 ended after 30.185993986s : 166 calls. qps=5.499239152998882
07:01:54 I periodic.go:533> T029 ended after 30.18600386s : 174 calls. qps=5.7642608411168474
07:01:54 I periodic.go:533> T000 ended after 30.186081015s : 175 calls. qps=5.797373958979286
07:01:54 I periodic.go:533> T002 ended after 30.18609596s : 171 calls. qps=5.664859749554709
07:01:54 I periodic.go:533> T017 ended after 30.18612246s : 175 calls. qps=5.7973659992897275
07:01:54 I periodic.go:533> T006 ended after 30.18613417s : 165 calls. qps=5.466085821747344
07:01:54 I periodic.go:533> T009 ended after 30.186145575s : 171 calls. qps=5.664850438593964
07:01:54 I periodic.go:533> T027 ended after 30.186155755s : 179 calls. qps=5.929870681540846
07:01:54 I periodic.go:533> T028 ended after 30.186169857s : 169 calls. qps=5.598590374353501
07:01:54 I periodic.go:533> T012 ended after 30.186179728s : 164 calls. qps=5.43294982928487
07:01:54 I periodic.go:533> T010 ended after 30.18620294s : 173 calls. qps=5.731095108048724
07:01:54 I periodic.go:533> T004 ended after 30.186216603s : 163 calls. qps=5.399815490086975
Ended after 30.186232175s : 5449 calls. qps=180.51
Aggregated Function Time : count 5449 avg 0.17704135 +/- 0.06766 min 0.000702543 max 0.40266393 sum 964.698325
# range, mid point, percentile, count
>= 0.000702543 <= 0.0008 , 0.000751272 , 0.04, 2
> 0.0008 <= 0.0009 , 0.00085 , 0.09, 3
> 0.0009 <= 0.001 , 0.00095 , 0.15, 3
> 0.001 <= 0.0011 , 0.00105 , 0.26, 6
> 0.0011 <= 0.0012 , 0.00115 , 0.31, 3
> 0.0012 <= 0.0014 , 0.0013 , 0.53, 12
> 0.0014 <= 0.0016 , 0.0015 , 0.81, 15
> 0.0016 <= 0.0018 , 0.0017 , 0.92, 6
> 0.0018 <= 0.002 , 0.0019 , 1.05, 7
> 0.002 <= 0.0025 , 0.00225 , 1.12, 4
> 0.0025 <= 0.003 , 0.00275 , 1.23, 6
> 0.003 <= 0.0035 , 0.00325 , 1.28, 3
> 0.0035 <= 0.004 , 0.00375 , 1.30, 1
> 0.004 <= 0.0045 , 0.00425 , 1.36, 3
> 0.0045 <= 0.005 , 0.00475 , 1.41, 3
> 0.005 <= 0.006 , 0.0055 , 1.54, 7
> 0.006 <= 0.007 , 0.0065 , 1.58, 2
> 0.07 <= 0.08 , 0.075 , 1.69, 6
> 0.08 <= 0.09 , 0.085 , 1.87, 10
> 0.09 <= 0.1 , 0.095 , 12.04, 554
> 0.1 <= 0.2 , 0.15 , 63.06, 2780
> 0.2 <= 0.3 , 0.25 , 96.49, 1822
> 0.3 <= 0.4 , 0.35 , 99.87, 184
> 0.4 <= 0.402664 , 0.401332 , 100.00, 7
# target 50% 0.174406
# target 75% 0.235716
# target 90% 0.280576
# target 99% 0.37419
# target 99.9% 0.40059
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 5449 (100.0 %)
Response Header Sizes : count 5449 avg 210.16388 +/- 0.6262 min 209 max 211 sum 1145183
Response Body/Total Sizes : count 5449 avg 210.16388 +/- 0.6262 min 209 max 211 sum 1145183
All done 5449 calls (plus 32 warmup) 177.041 ms avg, 180.5 qps
Successfully wrote 4735 bytes of Json data to /data/2018-12-14-070124_http_istio_0qps_30s_echo_1_6.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-baseline:8079
07:01:54 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
07:02:24 I periodic.go:533> T028 ended after 30.043307585s : 5019 calls. qps=167.05883617507823
07:02:24 I periodic.go:533> T015 ended after 30.043569224s : 4999 calls. qps=166.39168145196942
07:02:24 I periodic.go:533> T013 ended after 30.043607576s : 5006 calls. qps=166.6244637011897
07:02:24 I periodic.go:533> T010 ended after 30.043650638s : 5000 calls. qps=166.4245154573815
07:02:24 I periodic.go:533> T021 ended after 30.04368299s : 5007 calls. qps=166.65733031687805
07:02:24 I periodic.go:533> T023 ended after 30.043729326s : 5008 calls. qps=166.69035809965345
07:02:24 I periodic.go:533> T009 ended after 30.043756212s : 5027 calls. qps=167.3226198657586
07:02:24 I periodic.go:533> T017 ended after 30.043803064s : 5013 calls. qps=166.85637265432717
07:02:24 I periodic.go:533> T003 ended after 30.04383262s : 5006 calls. qps=166.62321559691873
07:02:24 I periodic.go:533> T008 ended after 30.044040237s : 5006 calls. qps=166.62206416016522
07:02:24 I periodic.go:533> T027 ended after 30.044086806s : 4992 calls. qps=166.15582401403077
07:02:24 I periodic.go:533> T016 ended after 30.044114445s : 5011 calls. qps=166.78807455527917
07:02:24 I periodic.go:533> T011 ended after 30.044200325s : 4983 calls. qps=165.8556375638865
07:02:24 I periodic.go:533> T001 ended after 30.044228508s : 5002 calls. qps=166.48788297786035
07:02:24 I periodic.go:533> T019 ended after 30.044323958s : 5016 calls. qps=166.9533322504457
07:02:24 I periodic.go:533> T018 ended after 30.044736906s : 5004 calls. qps=166.5516331747505
07:02:24 I periodic.go:533> T026 ended after 30.044789537s : 5020 calls. qps=167.08387967963284
07:02:24 I periodic.go:533> T031 ended after 30.044819701s : 4998 calls. qps=166.35147255796807
07:02:24 I periodic.go:533> T006 ended after 30.044867995s : 4990 calls. qps=166.0849367296413
07:02:24 I periodic.go:533> T004 ended after 30.044895533s : 5033 calls. qps=167.51597603233378
07:02:24 I periodic.go:533> T000 ended after 30.044921189s : 4999 calls. qps=166.38419413894906
07:02:24 I periodic.go:533> T024 ended after 30.044961055s : 4977 calls. qps=165.6517374374077
07:02:24 I periodic.go:533> T007 ended after 30.044986697s : 5011 calls. qps=166.78323244191517
07:02:24 I periodic.go:533> T002 ended after 30.045650059s : 5024 calls. qps=167.2122250686698
07:02:24 I periodic.go:533> T020 ended after 30.045708353s : 5016 calls. qps=166.94563965902182
07:02:24 I periodic.go:533> T029 ended after 30.045757263s : 5015 calls. qps=166.91208532712696
07:02:24 I periodic.go:533> T030 ended after 30.04578643s : 5021 calls. qps=167.1116185192161
07:02:24 I periodic.go:533> T005 ended after 30.045827225s : 4989 calls. qps=166.04635188239521
07:02:24 I periodic.go:533> T014 ended after 30.04586715s : 4981 calls. qps=165.77987165865505
07:02:24 I periodic.go:533> T012 ended after 30.045908488s : 5020 calls. qps=167.07765724590863
07:02:24 I periodic.go:533> T022 ended after 30.045934101s : 5002 calls. qps=166.4784320961924
07:02:24 I periodic.go:533> T025 ended after 30.045973765s : 4976 calls. qps=165.61287175842676
Ended after 30.045990563s : 160171 calls. qps=5330.9
Aggregated Function Time : count 160171 avg 0.0060014095 +/- 0.01622 min 0.000369116 max 0.080153622 sum 961.251761
# range, mid point, percentile, count
>= 0.000369116 <= 0.0004 , 0.000384558 , 0.00, 1
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 16
> 0.0005 <= 0.0006 , 0.00055 , 0.12, 174
> 0.0006 <= 0.0007 , 0.00065 , 0.54, 676
> 0.0007 <= 0.0008 , 0.00075 , 1.39, 1355
> 0.0008 <= 0.0009 , 0.00085 , 2.42, 1660
> 0.0009 <= 0.001 , 0.00095 , 3.73, 2097
> 0.001 <= 0.0011 , 0.00105 , 6.07, 3740
> 0.0011 <= 0.0012 , 0.00115 , 10.45, 7017
> 0.0012 <= 0.0014 , 0.0013 , 24.25, 22112
> 0.0014 <= 0.0016 , 0.0015 , 45.41, 33893
> 0.0016 <= 0.0018 , 0.0017 , 59.80, 23049
> 0.0018 <= 0.002 , 0.0019 , 68.95, 14646
> 0.002 <= 0.0025 , 0.00225 , 79.17, 16379
> 0.0025 <= 0.003 , 0.00275 , 83.56, 7018
> 0.003 <= 0.0035 , 0.00325 , 86.66, 4969
> 0.0035 <= 0.004 , 0.00375 , 89.22, 4104
> 0.004 <= 0.0045 , 0.00425 , 91.07, 2960
> 0.0045 <= 0.005 , 0.00475 , 92.27, 1919
> 0.005 <= 0.006 , 0.0055 , 93.43, 1856
> 0.006 <= 0.007 , 0.0065 , 93.69, 431
> 0.007 <= 0.008 , 0.0075 , 93.85, 242
> 0.008 <= 0.009 , 0.0085 , 93.91, 109
> 0.009 <= 0.01 , 0.0095 , 93.96, 69
> 0.01 <= 0.012 , 0.011 , 93.98, 37
> 0.012 <= 0.014 , 0.013 , 93.99, 10
> 0.02 <= 0.025 , 0.0225 , 93.99, 1
> 0.025 <= 0.03 , 0.0275 , 94.01, 31
> 0.045 <= 0.05 , 0.0475 , 94.03, 36
> 0.05 <= 0.06 , 0.055 , 94.25, 352
> 0.06 <= 0.07 , 0.065 , 96.13, 3018
> 0.07 <= 0.08 , 0.075 , 100.00, 6191
> 0.08 <= 0.0801536 , 0.0800768 , 100.00, 3
# target 50% 0.00166373
# target 75% 0.00229587
# target 90% 0.00421079
# target 99% 0.0774177
# target 99.9% 0.0797461
Ping SERVING : 160171
All done 160171 calls (plus 32 warmup) 6.001 ms avg, 5330.9 qps
Successfully wrote 5391 bytes of Json data to /data/2018-12-14-070154_grpc_baseline_0qps_30s_echo_1_6.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-linkerd:8079
07:02:24 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
07:02:55 I periodic.go:533> T020 ended after 30.092172437s : 364 calls. qps=12.09616888784147
07:02:55 I periodic.go:533> T030 ended after 30.094462338s : 360 calls. qps=11.962333666464323
07:02:55 I periodic.go:533> T002 ended after 30.094560179s : 365 calls. qps=12.128437758485575
07:02:55 I periodic.go:533> T022 ended after 30.094637291s : 349 calls. qps=11.596750498281324
07:02:55 I periodic.go:533> T015 ended after 30.094776926s : 353 calls. qps=11.729610120320583
07:02:55 I periodic.go:533> T029 ended after 30.094799307s : 371 calls. qps=12.32771138346505
07:02:55 I periodic.go:533> T017 ended after 30.095419851s : 351 calls. qps=11.662904247150323
07:02:55 I periodic.go:533> T018 ended after 30.095590074s : 350 calls. qps=11.629610821366478
07:02:55 I periodic.go:533> T014 ended after 30.095723025s : 359 calls. qps=11.928605260680557
07:02:55 I periodic.go:533> T000 ended after 30.096493829s : 364 calls. qps=12.094432064683279
07:02:55 I periodic.go:533> T005 ended after 30.096573253s : 358 calls. qps=11.895041903626517
07:02:55 I periodic.go:533> T012 ended after 30.096637586s : 358 calls. qps=11.89501647740644
07:02:55 I periodic.go:533> T013 ended after 30.096676881s : 355 calls. qps=11.795322168079995
07:02:55 I periodic.go:533> T008 ended after 30.096742028s : 357 calls. qps=11.861749011500017
07:02:55 I periodic.go:533> T031 ended after 30.09677869s : 357 calls. qps=11.861734562264543
07:02:55 I periodic.go:533> T027 ended after 30.096850513s : 364 calls. qps=12.094288731067532
07:02:55 I periodic.go:533> T023 ended after 30.096913355s : 367 calls. qps=12.193941474035917
07:02:55 I periodic.go:533> T016 ended after 30.096953479s : 364 calls. qps=12.094247354768953
07:02:55 I periodic.go:533> T028 ended after 30.09701663s : 351 calls. qps=11.662285478824883
07:02:55 I periodic.go:533> T001 ended after 30.09712017s : 353 calls. qps=11.728696898777077
07:02:55 I periodic.go:533> T006 ended after 30.097155998s : 373 calls. qps=12.393197550784745
07:02:55 I periodic.go:533> T011 ended after 30.097242371s : 361 calls. qps=11.994454360637345
07:02:55 I periodic.go:533> T024 ended after 30.097306822s : 359 calls. qps=11.927977547066918
07:02:55 I periodic.go:533> T007 ended after 30.097364595s : 365 calls. qps=12.127307653396223
07:02:55 I periodic.go:533> T019 ended after 30.097402192s : 342 calls. qps=11.363106949174
07:02:55 I periodic.go:533> T009 ended after 30.098006036s : 374 calls. qps=12.426072330262057
07:02:55 I periodic.go:533> T004 ended after 30.098102978s : 357 calls. qps=11.861212657187952
07:02:55 I periodic.go:533> T026 ended after 30.098166621s : 360 calls. qps=11.960861421666193
07:02:55 I periodic.go:533> T025 ended after 30.098260345s : 354 calls. qps=11.761477106726117
07:02:55 I periodic.go:533> T021 ended after 30.098303353s : 353 calls. qps=11.72823583641685
07:02:55 I periodic.go:533> T003 ended after 30.098392788s : 360 calls. qps=11.960771544702853
07:02:55 I periodic.go:533> T010 ended after 30.098452756s : 354 calls. qps=11.761401918888724
Ended after 30.098494288s : 11482 calls. qps=381.48
Aggregated Function Time : count 11482 avg 0.083866991 +/- 0.03845 min 0.001291937 max 0.197448901 sum 962.960793
# range, mid point, percentile, count
>= 0.00129194 <= 0.0014 , 0.00134597 , 0.02, 2
> 0.0014 <= 0.0016 , 0.0015 , 0.04, 3
> 0.0016 <= 0.0018 , 0.0017 , 0.10, 7
> 0.0018 <= 0.002 , 0.0019 , 0.50, 45
> 0.002 <= 0.0025 , 0.00225 , 2.51, 231
> 0.0025 <= 0.003 , 0.00275 , 3.74, 142
> 0.003 <= 0.0035 , 0.00325 , 4.70, 110
> 0.0035 <= 0.004 , 0.00375 , 6.36, 190
> 0.004 <= 0.0045 , 0.00425 , 9.90, 407
> 0.0045 <= 0.005 , 0.00475 , 12.90, 344
> 0.005 <= 0.006 , 0.0055 , 15.51, 300
> 0.006 <= 0.007 , 0.0065 , 16.43, 105
> 0.007 <= 0.008 , 0.0075 , 17.38, 110
> 0.008 <= 0.009 , 0.0085 , 17.51, 15
> 0.009 <= 0.01 , 0.0095 , 17.55, 4
> 0.08 <= 0.09 , 0.085 , 17.83, 32
> 0.09 <= 0.1 , 0.095 , 75.54, 6627
> 0.1 <= 0.197449 , 0.148724 , 100.00, 2808
# target 50% 0.0955742
# target 75% 0.0999057
# target 90% 0.157602
# target 99% 0.193464
# target 99.9% 0.19705
Ping SERVING : 11482
All done 11482 calls (plus 32 warmup) 83.867 ms avg, 381.5 qps
Successfully wrote 3404 bytes of Json data to /data/2018-12-14-070224_grpc_linkerd_0qps_30s_echo_1_6.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-istio:8079
07:02:55 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
07:03:25 I periodic.go:533> T030 ended after 30.094658809s : 153 calls. qps=5.0839586177413105
07:03:25 I periodic.go:533> T013 ended after 30.098479097s : 145 calls. qps=4.81751916874938
07:03:25 I periodic.go:533> T008 ended after 30.098875504s : 140 calls. qps=4.65133655845032
07:03:25 I periodic.go:533> T020 ended after 30.098895377s : 141 calls. qps=4.68455729799788
07:03:25 I periodic.go:533> T028 ended after 30.098908704s : 147 calls. qps=4.883897999280765
07:03:25 I periodic.go:533> T002 ended after 30.098922589s : 141 calls. qps=4.684553062757471
07:03:25 I periodic.go:533> T009 ended after 30.098934944s : 147 calls. qps=4.883893741539295
07:03:25 I periodic.go:533> T012 ended after 30.098963801s : 142 calls. qps=4.717770383686173
07:03:25 I periodic.go:533> T005 ended after 30.098975903s : 142 calls. qps=4.717768486795815
07:03:25 I periodic.go:533> T022 ended after 30.098987764s : 150 calls. qps=4.9835562968469
07:03:25 I periodic.go:533> T000 ended after 30.098998583s : 143 calls. qps=4.750988628597325
07:03:25 I periodic.go:533> T001 ended after 30.099015094s : 148 calls. qps=4.917104414805341
07:03:25 I periodic.go:533> T029 ended after 30.099040566s : 141 calls. qps=4.684534701058683
07:03:25 I periodic.go:533> T016 ended after 30.099052809s : 141 calls. qps=4.684532795591468
07:03:25 I periodic.go:533> T027 ended after 30.09906408s : 149 calls. qps=4.950320036662084
07:03:25 I periodic.go:533> T021 ended after 30.099169158s : 141 calls. qps=4.684514687426975
07:03:25 I periodic.go:533> T019 ended after 30.099611572s : 143 calls. qps=4.750891873070714
07:03:25 I periodic.go:533> T031 ended after 30.099628974s : 139 calls. qps=4.617997122823937
07:03:25 I periodic.go:533> T003 ended after 30.099643976s : 149 calls. qps=4.9502246644114924
07:03:25 I periodic.go:533> T025 ended after 30.09967095s : 147 calls. qps=4.88377431913421
07:03:25 I periodic.go:533> T007 ended after 30.09968331s : 143 calls. qps=4.750880550045229
07:03:25 I periodic.go:533> T023 ended after 30.09969656s : 149 calls. qps=4.9502160163969435
07:03:25 I periodic.go:533> T011 ended after 30.099708222s : 137 calls. qps=4.551539137507856
07:03:25 I periodic.go:533> T004 ended after 30.099719646s : 143 calls. qps=4.750874814842453
07:03:25 I periodic.go:533> T024 ended after 30.09973021s : 152 calls. qps=5.049879149730757
07:03:25 I periodic.go:533> T018 ended after 30.10003129s : 147 calls. qps=4.883715853439567
07:03:25 I periodic.go:533> T015 ended after 30.100045047s : 148 calls. qps=4.916936163015836
07:03:25 I periodic.go:533> T017 ended after 30.100084983s : 141 calls. qps=4.684372156411994
07:03:25 I periodic.go:533> T010 ended after 30.100096448s : 143 calls. qps=4.750815341972157
07:03:25 I periodic.go:533> T026 ended after 30.100107514s : 146 calls. qps=4.850481013467918
07:03:25 I periodic.go:533> T014 ended after 30.100145408s : 139 calls. qps=4.617917890956655
07:03:25 I periodic.go:533> T006 ended after 30.100168774s : 144 calls. qps=4.784026331586044
Ended after 30.10018477s : 4621 calls. qps=153.52
Aggregated Function Time : count 4621 avg 0.20840383 +/- 0.07322 min 0.001250199 max 0.598196764 sum 963.034076
# range, mid point, percentile, count
>= 0.0012502 <= 0.0014 , 0.0013251 , 0.04, 2
> 0.0014 <= 0.0016 , 0.0015 , 0.06, 1
> 0.0016 <= 0.0018 , 0.0017 , 0.15, 4
> 0.0018 <= 0.002 , 0.0019 , 0.30, 7
> 0.002 <= 0.0025 , 0.00225 , 0.76, 21
> 0.0025 <= 0.003 , 0.00275 , 1.06, 14
> 0.003 <= 0.0035 , 0.00325 , 1.13, 3
> 0.0035 <= 0.004 , 0.00375 , 1.19, 3
> 0.004 <= 0.0045 , 0.00425 , 1.34, 7
> 0.0045 <= 0.005 , 0.00475 , 1.49, 7
> 0.005 <= 0.006 , 0.0055 , 1.54, 2
> 0.09 <= 0.1 , 0.095 , 3.74, 102
> 0.1 <= 0.2 , 0.15 , 45.75, 1941
> 0.2 <= 0.3 , 0.25 , 95.61, 2304
> 0.3 <= 0.4 , 0.35 , 98.42, 130
> 0.4 <= 0.5 , 0.45 , 99.42, 46
> 0.5 <= 0.598197 , 0.549098 , 100.00, 27
# target 50% 0.208529
# target 75% 0.25867
# target 90% 0.288754
# target 99% 0.458239
# target 99.9% 0.581391
Ping SERVING : 4621
All done 4621 calls (plus 32 warmup) 208.404 ms avg, 153.5 qps
Successfully wrote 3203 bytes of Json data to /data/2018-12-14-070255_grpc_istio_0qps_30s_echo_1_6.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8080/echo
07:03:25 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
07:03:25 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
07:03:55 I periodic.go:533> T029 ended after 30.045972581s : 7495 calls. qps=249.4510696831152
07:03:55 I periodic.go:533> T001 ended after 30.046100332s : 7511 calls. qps=249.98252408817788
07:03:55 I periodic.go:533> T013 ended after 30.046117209s : 7583 calls. qps=252.37869995822928
07:03:55 I periodic.go:533> T025 ended after 30.046129007s : 7433 calls. qps=247.38627722287606
07:03:55 I periodic.go:533> T016 ended after 30.046164986s : 7429 calls. qps=247.2528525175023
07:03:55 I periodic.go:533> T009 ended after 30.046198472s : 7370 calls. qps=245.2889342013796
07:03:55 I periodic.go:533> T031 ended after 30.046211565s : 7346 calls. qps=244.49005772685007
07:03:55 I periodic.go:533> T020 ended after 30.046361684s : 7602 calls. qps=253.00900255248354
07:03:55 I periodic.go:533> T007 ended after 30.046383264s : 7398 calls. qps=246.21931814548526
07:03:55 I periodic.go:533> T011 ended after 30.046404962s : 7512 calls. qps=250.01327145462176
07:03:55 I periodic.go:533> T008 ended after 30.046415845s : 7467 calls. qps=248.5154981053282
07:03:55 I periodic.go:533> T018 ended after 30.046440165s : 7461 calls. qps=248.31560607605843
07:03:55 I periodic.go:533> T021 ended after 30.046459383s : 7382 calls. qps=245.68618571333784
07:03:55 I periodic.go:533> T000 ended after 30.046470445s : 7462 calls. qps=248.34863760983757
07:03:55 I periodic.go:533> T003 ended after 30.046484639s : 7414 calls. qps=246.75099563483414
07:03:55 I periodic.go:533> T024 ended after 30.046495225s : 7495 calls. qps=249.44673060450097
07:03:55 I periodic.go:533> T015 ended after 30.04650568s : 7592 calls. qps=252.67497261931192
07:03:55 I periodic.go:533> T030 ended after 30.046530392s : 7591 calls. qps=252.64148309187578
07:03:55 I periodic.go:533> T023 ended after 30.046543865s : 7508 calls. qps=249.8789888691912
07:03:55 I periodic.go:533> T010 ended after 30.046562211s : 7566 calls. qps=251.80917360423012
07:03:55 I periodic.go:533> T019 ended after 30.046636606s : 7526 calls. qps=250.47728631620407
07:03:55 I periodic.go:533> T014 ended after 30.046733056s : 7490 calls. qps=249.27834869902202
07:03:55 I periodic.go:533> T028 ended after 30.04674774s : 7407 calls. qps=246.51586468173278
07:03:55 I periodic.go:533> T022 ended after 30.046758058s : 7578 calls. qps=252.20690982275022
07:03:55 I periodic.go:533> T006 ended after 30.046853934s : 7558 calls. qps=251.54047796823158
07:03:55 I periodic.go:533> T026 ended after 30.046866542s : 7456 calls. qps=248.14567567562767
07:03:55 I periodic.go:533> T004 ended after 30.046876537s : 7457 calls. qps=248.17887446029147
07:03:55 I periodic.go:533> T002 ended after 30.046886321s : 7414 calls. qps=246.74769694250477
07:03:55 I periodic.go:533> T012 ended after 30.046895695s : 7520 calls. qps=250.27543864544307
07:03:55 I periodic.go:533> T017 ended after 30.04690531s : 7531 calls. qps=250.64145283186903
07:03:55 I periodic.go:533> T005 ended after 30.046929436s : 7404 calls. qps=246.41453016923177
07:03:55 I periodic.go:533> T027 ended after 30.046941511s : 7423 calls. qps=247.0467750364038
Ended after 30.04695885s : 239381 calls. qps=7966.9
Aggregated Function Time : count 239381 avg 0.0040154915 +/- 0.01457 min 7.2305e-05 max 0.079232433 sum 961.232361
# range, mid point, percentile, count
>= 7.2305e-05 <= 0.0001 , 8.61525e-05 , 0.52, 1233
> 0.0001 <= 0.0002 , 0.00015 , 4.74, 10124
> 0.0002 <= 0.0003 , 0.00025 , 9.81, 12130
> 0.0003 <= 0.0004 , 0.00035 , 15.17, 12837
> 0.0004 <= 0.0005 , 0.00045 , 20.84, 13561
> 0.0005 <= 0.0006 , 0.00055 , 26.60, 13780
> 0.0006 <= 0.0007 , 0.00065 , 32.20, 13410
> 0.0007 <= 0.0008 , 0.00075 , 37.85, 13533
> 0.0008 <= 0.0009 , 0.00085 , 43.55, 13634
> 0.0009 <= 0.001 , 0.00095 , 49.22, 13590
> 0.001 <= 0.0011 , 0.00105 , 54.80, 13351
> 0.0011 <= 0.0012 , 0.00115 , 60.40, 13412
> 0.0012 <= 0.0014 , 0.0013 , 71.38, 26280
> 0.0014 <= 0.0016 , 0.0015 , 81.56, 24361
> 0.0016 <= 0.0018 , 0.0017 , 88.75, 17217
> 0.0018 <= 0.002 , 0.0019 , 91.30, 6113
> 0.002 <= 0.0025 , 0.00225 , 93.68, 5694
> 0.0025 <= 0.003 , 0.00275 , 94.71, 2452
> 0.003 <= 0.0035 , 0.00325 , 95.04, 803
> 0.0035 <= 0.004 , 0.00375 , 95.24, 472
> 0.004 <= 0.0045 , 0.00425 , 95.42, 442
> 0.0045 <= 0.005 , 0.00475 , 95.65, 549
> 0.005 <= 0.006 , 0.0055 , 95.90, 598
> 0.006 <= 0.007 , 0.0065 , 95.96, 134
> 0.007 <= 0.008 , 0.0075 , 95.98, 39
> 0.014 <= 0.016 , 0.015 , 95.99, 32
> 0.05 <= 0.06 , 0.055 , 96.02, 65
> 0.06 <= 0.07 , 0.065 , 96.21, 456
> 0.07 <= 0.0792324 , 0.0746162 , 100.00, 9079
# target 50% 0.00101392
# target 75% 0.0014711
# target 90% 0.00189782
# target 99% 0.0767982
# target 99.9% 0.078989
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 239381 (100.0 %)
Response Header Sizes : count 239381 avg 75 +/- 0 min 75 max 75 sum 17953575
Response Body/Total Sizes : count 239381 avg 75 +/- 0 min 75 max 75 sum 17953575
All done 239381 calls (plus 32 warmup) 4.015 ms avg, 7966.9 qps
Successfully wrote 5451 bytes of Json data to /data/2018-12-14-070325_http_baseline_0qps_30s_echo_0_7.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-linkerd:8080/echo
07:03:55 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 32 threads at -1.0 qps
07:03:55 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
07:04:26 I periodic.go:533> T024 ended after 30.076771575s : 462 calls. qps=15.360691184821755
07:04:26 I periodic.go:533> T018 ended after 30.076887684s : 482 calls. qps=16.0255943056372
07:04:26 I periodic.go:533> T001 ended after 30.076905997s : 483 calls. qps=16.05883264881622
07:04:26 I periodic.go:533> T009 ended after 30.076920192s : 464 calls. qps=15.427111454164676
07:04:26 I periodic.go:533> T002 ended after 30.076942639s : 468 calls. qps=15.56009218148245
07:04:26 I periodic.go:533> T017 ended after 30.076968859s : 474 calls. qps=15.759566804158322
07:04:26 I periodic.go:533> T014 ended after 30.076983366s : 482 calls. qps=16.025543324430217
07:04:26 I periodic.go:533> T006 ended after 30.076996694s : 459 calls. qps=15.260832212398553
07:04:26 I periodic.go:533> T013 ended after 30.077007558s : 474 calls. qps=15.759546526892555
07:04:26 I periodic.go:533> T012 ended after 30.077017726s : 491 calls. qps=16.324756811761837
07:04:26 I periodic.go:533> T022 ended after 30.077029146s : 476 calls. qps=15.826031144545542
07:04:26 I periodic.go:533> T016 ended after 30.077055293s : 488 calls. qps=16.224992614671788
07:04:26 I periodic.go:533> T031 ended after 30.077068231s : 486 calls. qps=16.15848979253526
07:04:26 I periodic.go:533> T020 ended after 30.077080562s : 469 calls. qps=15.593268736080198
07:04:26 I periodic.go:533> T029 ended after 30.077093744s : 465 calls. qps=15.460270329235572
07:04:26 I periodic.go:533> T030 ended after 30.077228919s : 477 calls. qps=15.859173771779078
07:04:26 I periodic.go:533> T028 ended after 30.077242029s : 481 calls. qps=15.992157776176
07:04:26 I periodic.go:533> T007 ended after 30.077252196s : 474 calls. qps=15.759418344174328
07:04:26 I periodic.go:533> T015 ended after 30.077262889s : 470 calls. qps=15.626421916599686
07:04:26 I periodic.go:533> T010 ended after 30.077273015s : 488 calls. qps=16.224875165930996
07:04:26 I periodic.go:533> T026 ended after 30.077284089s : 504 calls. qps=16.75683211651165
07:04:26 I periodic.go:533> T000 ended after 30.077315606s : 466 calls. qps=15.493403936189026
07:04:26 I periodic.go:533> T008 ended after 30.077326464s : 477 calls. qps=15.859122338247996
07:04:26 I periodic.go:533> T027 ended after 30.077337051s : 503 calls. qps=16.72355498583863
07:04:26 I periodic.go:533> T003 ended after 30.07734673s : 465 calls. qps=15.460140290107299
07:04:26 I periodic.go:533> T021 ended after 30.077356535s : 476 calls. qps=15.825858879788685
07:04:26 I periodic.go:533> T005 ended after 30.077367158s : 464 calls. qps=15.426882198915637
07:04:26 I periodic.go:533> T004 ended after 30.077391461s : 478 calls. qps=15.892335630894092
07:04:26 I periodic.go:533> T011 ended after 30.07740256s : 494 calls. qps=16.424290595391092
07:04:26 I periodic.go:533> T025 ended after 30.077422622s : 463 calls. qps=15.393606221476592
07:04:26 I periodic.go:533> T023 ended after 30.077435982s : 475 calls. qps=15.792569562254783
07:04:26 I periodic.go:533> T019 ended after 30.077448261s : 466 calls. qps=15.493335603347711
Ended after 30.077488841s : 15244 calls. qps=506.82
Aggregated Function Time : count 15244 avg 0.063127427 +/- 0.05015 min 0.000357915 max 0.19723328 sum 962.314504
# range, mid point, percentile, count
>= 0.000357915 <= 0.0004 , 0.000378958 , 0.04, 6
> 0.0004 <= 0.0005 , 0.00045 , 1.32, 195
> 0.0005 <= 0.0006 , 0.00055 , 2.90, 241
> 0.0006 <= 0.0007 , 0.00065 , 3.80, 138
> 0.0007 <= 0.0008 , 0.00075 , 4.14, 51
> 0.0008 <= 0.0009 , 0.00085 , 4.36, 33
> 0.0009 <= 0.001 , 0.00095 , 4.46, 16
> 0.001 <= 0.0011 , 0.00105 , 4.51, 7
> 0.0011 <= 0.0012 , 0.00115 , 4.58, 11
> 0.0012 <= 0.0014 , 0.0013 , 4.76, 28
> 0.0014 <= 0.0016 , 0.0015 , 5.02, 40
> 0.0016 <= 0.0018 , 0.0017 , 6.22, 182
> 0.0018 <= 0.002 , 0.0019 , 8.41, 334
> 0.002 <= 0.0025 , 0.00225 , 12.51, 625
> 0.0025 <= 0.003 , 0.00275 , 16.91, 670
> 0.003 <= 0.0035 , 0.00325 , 21.45, 693
> 0.0035 <= 0.004 , 0.00375 , 26.31, 740
> 0.004 <= 0.0045 , 0.00425 , 31.24, 752
> 0.0045 <= 0.005 , 0.00475 , 35.40, 634
> 0.005 <= 0.006 , 0.0055 , 38.31, 444
> 0.006 <= 0.007 , 0.0065 , 38.82, 77
> 0.007 <= 0.008 , 0.0075 , 38.95, 20
> 0.008 <= 0.009 , 0.0085 , 39.10, 23
> 0.009 <= 0.01 , 0.0095 , 39.10, 1
> 0.07 <= 0.08 , 0.075 , 39.27, 26
> 0.09 <= 0.1 , 0.095 , 85.67, 7073
> 0.1 <= 0.197233 , 0.148617 , 100.00, 2184
# target 50% 0.0923116
# target 75% 0.0976997
# target 90% 0.129366
# target 99% 0.190447
# target 99.9% 0.196555
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 15244 (100.0 %)
Response Header Sizes : count 15244 avg 75 +/- 0 min 75 max 75 sum 1143300
Response Body/Total Sizes : count 15244 avg 75 +/- 0 min 75 max 75 sum 1143300
All done 15244 calls (plus 32 warmup) 63.127 ms avg, 506.8 qps
Successfully wrote 5123 bytes of Json data to /data/2018-12-14-070355_http_linkerd_0qps_30s_echo_0_7.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8080/echo
07:04:26 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 32 threads at -1.0 qps
07:04:26 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
07:04:56 I periodic.go:533> T005 ended after 30.084033195s : 167 calls. qps=5.551117395647456
07:04:56 I periodic.go:533> T002 ended after 30.084135372s : 162 calls. qps=5.384897986823219
07:04:56 I periodic.go:533> T016 ended after 30.084151807s : 161 calls. qps=5.351654952177791
07:04:56 I periodic.go:533> T027 ended after 30.084165277s : 169 calls. qps=5.617573179908176
07:04:56 I periodic.go:533> T024 ended after 30.084177333s : 158 calls. qps=5.251930217373314
07:04:56 I periodic.go:533> T007 ended after 30.084188612s : 172 calls. qps=5.717288979214568
07:04:56 I periodic.go:533> T014 ended after 30.084215758s : 160 calls. qps=5.318403553778954
07:04:56 I periodic.go:533> T015 ended after 30.084226832s : 165 calls. qps=5.484601645952647
07:04:56 I periodic.go:533> T022 ended after 30.084237771s : 167 calls. qps=5.551079647461812
07:04:56 I periodic.go:533> T012 ended after 30.084249553s : 159 calls. qps=5.285157594504282
07:04:56 I periodic.go:533> T030 ended after 30.084261932s : 161 calls. qps=5.351635362167475
07:04:56 I periodic.go:533> T009 ended after 30.084273252s : 160 calls. qps=5.318393389787577
07:04:56 I periodic.go:533> T010 ended after 30.084298841s : 156 calls. qps=5.1854291444345515
07:04:56 I periodic.go:533> T020 ended after 30.084312809s : 163 calls. qps=5.418106141724369
07:04:56 I periodic.go:533> T025 ended after 30.08432422s : 158 calls. qps=5.251904574773925
07:04:56 I periodic.go:533> T018 ended after 30.084335835s : 159 calls. qps=5.285142436650371
07:04:56 I periodic.go:533> T013 ended after 30.084346685s : 168 calls. qps=5.584299428505273
07:04:56 I periodic.go:533> T023 ended after 30.084357268s : 160 calls. qps=5.318378537213694
07:04:56 I periodic.go:533> T006 ended after 30.08438232s : 165 calls. qps=5.484573299359666
07:04:56 I periodic.go:533> T004 ended after 30.084393546s : 159 calls. qps=5.2851322981426865
07:04:56 I periodic.go:533> T003 ended after 30.084405821s : 165 calls. qps=5.484569014981976
07:04:56 I periodic.go:533> T026 ended after 30.08471529s : 168 calls. qps=5.584231008356669
07:04:56 I periodic.go:533> T031 ended after 30.084785589s : 162 calls. qps=5.384781604002277
07:04:56 I periodic.go:533> T017 ended after 30.084800509s : 175 calls. qps=5.816890823246376
07:04:56 I periodic.go:533> T028 ended after 30.084815532s : 166 calls. qps=5.51773368274213
07:04:56 I periodic.go:533> T001 ended after 30.084827714s : 161 calls. qps=5.351534718115687
07:04:56 I periodic.go:533> T029 ended after 30.084838294s : 152 calls. qps=5.052378826656824
07:04:56 I periodic.go:533> T021 ended after 30.084862879s : 163 calls. qps=5.418007077365746
07:04:56 I periodic.go:533> T000 ended after 30.084874323s : 165 calls. qps=5.484483605565766
07:04:56 I periodic.go:533> T011 ended after 30.084886389s : 166 calls. qps=5.517720687178493
07:04:56 I periodic.go:533> T008 ended after 30.084908525s : 161 calls. qps=5.351520343371228
07:04:56 I periodic.go:533> T019 ended after 30.084920504s : 171 calls. qps=5.683910648102406
Ended after 30.084956486s : 5224 calls. qps=173.64
Aggregated Function Time : count 5224 avg 0.18425736 +/- 0.07509 min 0.000716492 max 0.497305325 sum 962.560474
# range, mid point, percentile, count
>= 0.000716492 <= 0.0008 , 0.000758246 , 0.04, 2
> 0.0008 <= 0.0009 , 0.00085 , 0.08, 2
> 0.0009 <= 0.001 , 0.00095 , 0.11, 2
> 0.001 <= 0.0011 , 0.00105 , 0.17, 3
> 0.0011 <= 0.0012 , 0.00115 , 0.27, 5
> 0.0012 <= 0.0014 , 0.0013 , 0.50, 12
> 0.0014 <= 0.0016 , 0.0015 , 0.71, 11
> 0.0016 <= 0.0018 , 0.0017 , 0.90, 10
> 0.0018 <= 0.002 , 0.0019 , 0.92, 1
> 0.002 <= 0.0025 , 0.00225 , 0.98, 3
> 0.0025 <= 0.003 , 0.00275 , 1.01, 2
> 0.003 <= 0.0035 , 0.00325 , 1.05, 2
> 0.0035 <= 0.004 , 0.00375 , 1.17, 6
> 0.004 <= 0.0045 , 0.00425 , 1.30, 7
> 0.0045 <= 0.005 , 0.00475 , 1.40, 5
> 0.005 <= 0.006 , 0.0055 , 1.57, 9
> 0.006 <= 0.007 , 0.0065 , 1.63, 3
> 0.007 <= 0.008 , 0.0075 , 1.65, 1
> 0.008 <= 0.009 , 0.0085 , 1.67, 1
> 0.009 <= 0.01 , 0.0095 , 1.68, 1
> 0.08 <= 0.09 , 0.085 , 1.82, 7
> 0.09 <= 0.1 , 0.095 , 10.18, 437
> 0.1 <= 0.2 , 0.15 , 60.93, 2651
> 0.2 <= 0.3 , 0.25 , 97.09, 1889
> 0.3 <= 0.4 , 0.35 , 98.91, 95
> 0.4 <= 0.497305 , 0.448653 , 100.00, 57
# target 50% 0.178461
# target 75% 0.238909
# target 90% 0.280392
# target 99% 0.408126
# target 99.9% 0.488387
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 5224 (100.0 %)
Response Header Sizes : count 5224 avg 210.17592 +/- 0.6254 min 209 max 211 sum 1097959
Response Body/Total Sizes : count 5224 avg 210.17592 +/- 0.6254 min 209 max 211 sum 1097959
All done 5224 calls (plus 32 warmup) 184.257 ms avg, 173.6 qps
Successfully wrote 5023 bytes of Json data to /data/2018-12-14-070426_http_istio_0qps_30s_echo_0_7.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8079
07:04:56 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
07:05:26 I periodic.go:533> T031 ended after 30.019971565s : 4971 calls. qps=165.58976377564733
07:05:26 I periodic.go:533> T025 ended after 30.020159239s : 4956 calls. qps=165.0890643365251
07:05:26 I periodic.go:533> T009 ended after 30.020240885s : 4980 calls. qps=165.8880759510601
07:05:26 I periodic.go:533> T019 ended after 30.020290588s : 4946 calls. qps=164.75523398088166
07:05:26 I periodic.go:533> T011 ended after 30.020319009s : 4954 calls. qps=165.02156417840882
07:05:26 I periodic.go:533> T004 ended after 30.020375018s : 4939 calls. qps=164.52159565090747
07:05:26 I periodic.go:533> T008 ended after 30.020406966s : 4961 calls. qps=165.2542554009559
07:05:26 I periodic.go:533> T029 ended after 30.020451472s : 4945 calls. qps=164.72104040847583
07:05:26 I periodic.go:533> T013 ended after 30.020482067s : 4961 calls. qps=165.25384199121095
07:05:26 I periodic.go:533> T030 ended after 30.020534182s : 4953 calls. qps=164.98707084865157
07:05:26 I periodic.go:533> T010 ended after 30.020563512s : 4922 calls. qps=163.95428413702322
07:05:26 I periodic.go:533> T014 ended after 30.020608179s : 4935 calls. qps=164.38707605704434
07:05:26 I periodic.go:533> T017 ended after 30.020636378s : 4926 calls. qps=164.08712786681355
07:05:26 I periodic.go:533> T001 ended after 30.020689432s : 4969 calls. qps=165.5191834036758
07:05:26 I periodic.go:533> T020 ended after 30.020719357s : 4923 calls. qps=163.98674333738418
07:05:26 I periodic.go:533> T018 ended after 30.020853009s : 4952 calls. qps=164.95200847608933
07:05:26 I periodic.go:533> T007 ended after 30.021290651s : 4930 calls. qps=164.2167905874421
07:05:26 I periodic.go:533> T000 ended after 30.021354231s : 4957 calls. qps=165.11580263362703
07:05:26 I periodic.go:533> T006 ended after 30.021384148s : 4938 calls. qps=164.48275588016037
07:05:26 I periodic.go:533> T024 ended after 30.021426226s : 4954 calls. qps=165.01547803580357
07:05:26 I periodic.go:533> T022 ended after 30.021453051s : 4940 calls. qps=164.54899739889342
07:05:26 I periodic.go:533> T026 ended after 30.021493992s : 4960 calls. qps=165.21496236402226
07:05:26 I periodic.go:533> T016 ended after 30.02153986s : 4935 calls. qps=164.38197450941811
07:05:26 I periodic.go:533> T021 ended after 30.021570848s : 4945 calls. qps=164.7148986652519
07:05:26 I periodic.go:533> T002 ended after 30.021642242s : 4919 calls. qps=163.8484650622598
07:05:26 I periodic.go:533> T028 ended after 30.022628742s : 4947 calls. qps=164.77571109818976
07:05:26 I periodic.go:533> T003 ended after 30.022698351s : 4968 calls. qps=165.47479983039318
07:05:26 I periodic.go:533> T023 ended after 30.022732245s : 4963 calls. qps=165.30807254647985
07:05:26 I periodic.go:533> T005 ended after 30.02276034s : 4927 calls. qps=164.10882757624543
07:05:26 I periodic.go:533> T027 ended after 30.022805579s : 4938 calls. qps=164.47496843712617
07:05:26 I periodic.go:533> T012 ended after 30.02284265s : 4924 calls. qps=164.0084537431368
07:05:26 I periodic.go:533> T015 ended after 30.022889102s : 4946 calls. qps=164.74097423457218
Ended after 30.022906091s : 158284 calls. qps=5272.1
Aggregated Function Time : count 158284 avg 0.0060682022 +/- 0.01607 min 0.000375465 max 0.085652485 sum 960.499314
# range, mid point, percentile, count
>= 0.000375465 <= 0.0004 , 0.000387733 , 0.00, 3
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 14
> 0.0005 <= 0.0006 , 0.00055 , 0.11, 158
> 0.0006 <= 0.0007 , 0.00065 , 0.47, 576
> 0.0007 <= 0.0008 , 0.00075 , 1.18, 1109
> 0.0008 <= 0.0009 , 0.00085 , 2.12, 1501
> 0.0009 <= 0.001 , 0.00095 , 3.46, 2114
> 0.001 <= 0.0011 , 0.00105 , 5.82, 3737
> 0.0011 <= 0.0012 , 0.00115 , 9.65, 6058
> 0.0012 <= 0.0014 , 0.0013 , 21.83, 19278
> 0.0014 <= 0.0016 , 0.0015 , 40.49, 29543
> 0.0016 <= 0.0018 , 0.0017 , 54.86, 22736
> 0.0018 <= 0.002 , 0.0019 , 64.31, 14962
> 0.002 <= 0.0025 , 0.00225 , 76.64, 19522
> 0.0025 <= 0.003 , 0.00275 , 82.21, 8820
> 0.003 <= 0.0035 , 0.00325 , 85.73, 5562
> 0.0035 <= 0.004 , 0.00375 , 88.27, 4017
> 0.004 <= 0.0045 , 0.00425 , 90.50, 3542
> 0.0045 <= 0.005 , 0.00475 , 91.89, 2195
> 0.005 <= 0.006 , 0.0055 , 93.12, 1949
> 0.006 <= 0.007 , 0.0065 , 93.54, 664
> 0.007 <= 0.008 , 0.0075 , 93.67, 199
> 0.008 <= 0.009 , 0.0085 , 93.74, 110
> 0.009 <= 0.01 , 0.0095 , 93.79, 93
> 0.01 <= 0.012 , 0.011 , 93.89, 146
> 0.012 <= 0.014 , 0.013 , 93.89, 10
> 0.014 <= 0.016 , 0.015 , 93.91, 23
> 0.016 <= 0.018 , 0.017 , 93.91, 11
> 0.018 <= 0.02 , 0.019 , 93.92, 5
> 0.02 <= 0.025 , 0.0225 , 93.93, 27
> 0.025 <= 0.03 , 0.0275 , 93.96, 32
> 0.04 <= 0.045 , 0.0425 , 93.96, 2
> 0.045 <= 0.05 , 0.0475 , 94.00, 66
> 0.05 <= 0.06 , 0.055 , 94.35, 563
> 0.06 <= 0.07 , 0.065 , 96.82, 3910
> 0.07 <= 0.08 , 0.075 , 99.99, 5013
> 0.08 <= 0.0856525 , 0.0828262 , 100.00, 14
# target 50% 0.0017324
# target 75% 0.00243346
# target 90% 0.00438758
# target 99% 0.0768705
# target 99.9% 0.0797122
Ping SERVING : 158284
All done 158284 calls (plus 32 warmup) 6.068 ms avg, 5272.1 qps
Successfully wrote 5922 bytes of Json data to /data/2018-12-14-070456_grpc_baseline_0qps_30s_echo_0_7.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-linkerd:8079
07:05:26 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
07:05:57 I periodic.go:533> T016 ended after 30.085129874s : 363 calls. qps=12.065761441625346
07:05:57 I periodic.go:533> T000 ended after 30.085311354s : 350 calls. qps=11.633584106267381
07:05:57 I periodic.go:533> T020 ended after 30.085328378s : 352 calls. qps=11.70005510916747
07:05:57 I periodic.go:533> T015 ended after 30.085345171s : 358 calls. qps=11.899481224668978
07:05:57 I periodic.go:533> T025 ended after 30.085572936s : 357 calls. qps=11.866152616054007
07:05:57 I periodic.go:533> T013 ended after 30.086344529s : 363 calls. qps=12.065274319055511
07:05:57 I periodic.go:533> T023 ended after 30.086386969s : 358 calls. qps=11.899069182646329
07:05:57 I periodic.go:533> T002 ended after 30.086400353s : 352 calls. qps=11.699638237543466
07:05:57 I periodic.go:533> T022 ended after 30.086428596s : 356 calls. qps=11.832577564468064
07:05:57 I periodic.go:533> T021 ended after 30.086455218s : 359 calls. qps=11.932279738465798
07:05:57 I periodic.go:533> T005 ended after 30.08646757s : 370 calls. qps=12.297887717763738
07:05:57 I periodic.go:533> T009 ended after 30.086478917s : 345 calls. qps=11.466945033739457
07:05:57 I periodic.go:533> T017 ended after 30.086490139s : 352 calls. qps=11.699603322745697
07:05:57 I periodic.go:533> T006 ended after 30.086511997s : 367 calls. qps=12.198157102311976
07:05:57 I periodic.go:533> T026 ended after 30.086539959s : 362 calls. qps=12.0319584935094
07:05:57 I periodic.go:533> T008 ended after 30.086552383s : 359 calls. qps=11.93224120297838
07:05:57 I periodic.go:533> T018 ended after 30.086563356s : 364 calls. qps=12.098423993892592
07:05:57 I periodic.go:533> T014 ended after 30.08657537s : 368 calls. qps=12.231368823948673
07:05:57 I periodic.go:533> T019 ended after 30.086588042s : 358 calls. qps=11.898989659453656
07:05:57 I periodic.go:533> T004 ended after 30.086599545s : 367 calls. qps=12.198121607298443
07:05:57 I periodic.go:533> T003 ended after 30.086630139s : 354 calls. qps=11.766023591360106
07:05:57 I periodic.go:533> T030 ended after 30.086641973s : 360 calls. qps=11.96544301364928
07:05:57 I periodic.go:533> T031 ended after 30.086653895s : 355 calls. qps=11.799251629606982
07:05:57 I periodic.go:533> T024 ended after 30.087412748s : 359 calls. qps=11.931899994420883
07:05:57 I periodic.go:533> T011 ended after 30.08743069s : 351 calls. qps=11.6660011157636
07:05:57 I periodic.go:533> T007 ended after 30.087459144s : 349 calls. qps=11.599517205147484
07:05:57 I periodic.go:533> T010 ended after 30.087471756s : 351 calls. qps=11.665985192989973
07:05:57 I periodic.go:533> T028 ended after 30.08748358s : 363 calls. qps=12.06481755228265
07:05:57 I periodic.go:533> T029 ended after 30.087505026s : 360 calls. qps=11.96509978773273
07:05:57 I periodic.go:533> T027 ended after 30.08751733s : 358 calls. qps=11.898622145305467
07:05:57 I periodic.go:533> T012 ended after 30.087561862s : 352 calls. qps=11.69918658130186
07:05:57 I periodic.go:533> T001 ended after 30.087574538s : 376 calls. qps=12.496853128693362
Ended after 30.087591331s : 11468 calls. qps=381.15
Aggregated Function Time : count 11468 avg 0.083940341 +/- 0.03745 min 0.001345418 max 0.196752291 sum 962.627834
# range, mid point, percentile, count
>= 0.00134542 <= 0.0014 , 0.00137271 , 0.02, 2
> 0.0014 <= 0.0016 , 0.0015 , 0.03, 2
> 0.0016 <= 0.0018 , 0.0017 , 0.11, 9
> 0.0018 <= 0.002 , 0.0019 , 0.51, 45
> 0.002 <= 0.0025 , 0.00225 , 3.07, 294
> 0.0025 <= 0.003 , 0.00275 , 4.56, 171
> 0.003 <= 0.0035 , 0.00325 , 5.62, 122
> 0.0035 <= 0.004 , 0.00375 , 7.18, 178
> 0.004 <= 0.0045 , 0.00425 , 10.93, 431
> 0.0045 <= 0.005 , 0.00475 , 14.04, 356
> 0.005 <= 0.006 , 0.0055 , 15.94, 218
> 0.006 <= 0.007 , 0.0065 , 16.37, 49
> 0.007 <= 0.008 , 0.0075 , 16.72, 41
> 0.008 <= 0.009 , 0.0085 , 16.84, 13
> 0.009 <= 0.01 , 0.0095 , 16.93, 10
> 0.01 <= 0.012 , 0.011 , 17.01, 10
> 0.07 <= 0.08 , 0.075 , 17.19, 20
> 0.08 <= 0.09 , 0.085 , 17.29, 12
> 0.09 <= 0.1 , 0.095 , 74.22, 6529
> 0.1 <= 0.196752 , 0.148376 , 100.00, 2956
# target 50% 0.0957451
# target 75% 0.102913
# target 90% 0.159217
# target 99% 0.192999
# target 99.9% 0.196377
Ping SERVING : 11468
All done 11468 calls (plus 32 warmup) 83.940 ms avg, 381.2 qps
Successfully wrote 3638 bytes of Json data to /data/2018-12-14-070526_grpc_linkerd_0qps_30s_echo_0_7.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8079
07:05:57 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
07:06:27 I periodic.go:533> T011 ended after 30.096069525s : 137 calls. qps=4.552089431020145
07:06:27 I periodic.go:533> T021 ended after 30.103801688s : 138 calls. qps=4.584138622432184
07:06:27 I periodic.go:533> T020 ended after 30.104036807s : 140 calls. qps=4.650539092067753
07:06:27 I periodic.go:533> T024 ended after 30.104496725s : 134 calls. qps=4.451162270675694
07:06:27 I periodic.go:533> T018 ended after 30.10454071s : 134 calls. qps=4.45115576719257
07:06:27 I periodic.go:533> T029 ended after 30.104567053s : 133 calls. qps=4.417934320923782
07:06:27 I periodic.go:533> T004 ended after 30.104611573s : 133 calls. qps=4.41792778749167
07:06:27 I periodic.go:533> T012 ended after 30.104630826s : 140 calls. qps=4.650447328491681
07:06:27 I periodic.go:533> T008 ended after 30.104648144s : 137 calls. qps=4.5507922678480055
07:06:27 I periodic.go:533> T014 ended after 30.104660904s : 137 calls. qps=4.550790338973618
07:06:27 I periodic.go:533> T007 ended after 30.104678709s : 140 calls. qps=4.650439931722175
07:06:27 I periodic.go:533> T017 ended after 30.104862132s : 135 calls. qps=4.484325469024539
07:06:27 I periodic.go:533> T010 ended after 30.104879248s : 136 calls. qps=4.5175401262914905
07:06:27 I periodic.go:533> T028 ended after 30.105054906s : 143 calls. qps=4.750032858152994
07:06:27 I periodic.go:533> T026 ended after 30.1974324s : 137 calls. qps=4.536809560007493
07:06:27 I periodic.go:533> T025 ended after 30.198234031s : 143 calls. qps=4.735376242637345
07:06:27 I periodic.go:533> T022 ended after 30.198290768s : 137 calls. qps=4.536680603962321
07:06:27 I periodic.go:533> T016 ended after 30.198304863s : 137 calls. qps=4.5366784864754806
07:06:27 I periodic.go:533> T019 ended after 30.198328104s : 136 calls. qps=4.503560578970786
07:06:27 I periodic.go:533> T023 ended after 30.198356311s : 135 calls. qps=4.470441987295352
07:06:27 I periodic.go:533> T005 ended after 30.198370279s : 139 calls. qps=4.60289739862753
07:06:27 I periodic.go:533> T009 ended after 30.198382287s : 142 calls. qps=4.702238638164704
07:06:27 I periodic.go:533> T000 ended after 30.198406635s : 138 calls. qps=4.569777527270521
07:06:27 I periodic.go:533> T013 ended after 30.198432462s : 145 calls. qps=4.801573730108667
07:06:27 I periodic.go:533> T015 ended after 30.198444161s : 142 calls. qps=4.702229003684465
07:06:27 I periodic.go:533> T003 ended after 30.198456737s : 139 calls. qps=4.602884220559963
07:06:27 I periodic.go:533> T006 ended after 30.198469731s : 148 calls. qps=4.900910586474909
07:06:27 I periodic.go:533> T002 ended after 30.198508621s : 137 calls. qps=4.536647876204403
07:06:27 I periodic.go:533> T030 ended after 30.198523087s : 138 calls. qps=4.569759905225527
07:06:27 I periodic.go:533> T031 ended after 30.198534611s : 134 calls. qps=4.437301403068402
07:06:27 I periodic.go:533> T027 ended after 30.198551498s : 141 calls. qps=4.669098119137873
07:06:27 I periodic.go:533> T001 ended after 30.198952006s : 136 calls. qps=4.503467536654226
Ended after 30.198974895s : 4421 calls. qps=146.4
Aggregated Function Time : count 4421 avg 0.21824952 +/- 0.07611 min 0.001145591 max 0.500112527 sum 964.881132
# range, mid point, percentile, count
>= 0.00114559 <= 0.0012 , 0.0011728 , 0.02, 1
> 0.0014 <= 0.0016 , 0.0015 , 0.18, 7
> 0.0016 <= 0.0018 , 0.0017 , 0.20, 1
> 0.0018 <= 0.002 , 0.0019 , 0.23, 1
> 0.002 <= 0.0025 , 0.00225 , 0.63, 18
> 0.0025 <= 0.003 , 0.00275 , 0.95, 14
> 0.003 <= 0.0035 , 0.00325 , 1.02, 3
> 0.0035 <= 0.004 , 0.00375 , 1.13, 5
> 0.004 <= 0.0045 , 0.00425 , 1.20, 3
> 0.0045 <= 0.005 , 0.00475 , 1.24, 2
> 0.005 <= 0.006 , 0.0055 , 1.31, 3
> 0.006 <= 0.007 , 0.0065 , 1.33, 1
> 0.008 <= 0.009 , 0.0085 , 1.36, 1
> 0.09 <= 0.1 , 0.095 , 4.34, 132
> 0.1 <= 0.2 , 0.15 , 41.60, 1647
> 0.2 <= 0.3 , 0.25 , 91.34, 2199
> 0.3 <= 0.4 , 0.35 , 97.87, 289
> 0.4 <= 0.5 , 0.45 , 99.98, 93
> 0.5 <= 0.500113 , 0.500056 , 100.00, 1
# target 50% 0.216894
# target 75% 0.267156
# target 90% 0.297312
# target 99% 0.453538
# target 99.9% 0.496322
Ping SERVING : 4421
All done 4421 calls (plus 32 warmup) 218.250 ms avg, 146.4 qps
Successfully wrote 3473 bytes of Json data to /data/2018-12-14-070557_grpc_istio_0qps_30s_echo_0_7.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-baseline:8080/echo
07:06:27 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
07:06:27 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
07:06:57 I periodic.go:533> T003 ended after 30.049567893s : 7955 calls. qps=264.72926427182017
07:06:57 I periodic.go:533> T024 ended after 30.049712289s : 8016 calls. qps=266.7579617038243
07:06:57 I periodic.go:533> T018 ended after 30.049788195s : 7898 calls. qps=262.83047150775434
07:06:57 I periodic.go:533> T008 ended after 30.049810033s : 8088 calls. qps=269.1531158139751
07:06:57 I periodic.go:533> T009 ended after 30.049878471s : 7953 calls. qps=264.6599721751001
07:06:57 I periodic.go:533> T002 ended after 30.049900649s : 7837 calls. qps=260.7995311379107
07:06:57 I periodic.go:533> T012 ended after 30.049950865s : 7937 calls. qps=264.1268877828496
07:06:57 I periodic.go:533> T021 ended after 30.049994115s : 7891 calls. qps=262.59572530368865
07:06:57 I periodic.go:533> T014 ended after 30.050043749s : 7890 calls. qps=262.56201374956606
07:06:57 I periodic.go:533> T027 ended after 30.050068498s : 7934 calls. qps=264.02602045742594
07:06:57 I periodic.go:533> T019 ended after 30.050091286s : 8004 calls. qps=266.35526407631824
07:06:57 I periodic.go:533> T015 ended after 30.050123675s : 8009 calls. qps=266.521365656243
07:06:57 I periodic.go:533> T000 ended after 30.050134035s : 7918 calls. qps=263.49300108870546
07:06:57 I periodic.go:533> T011 ended after 30.050210162s : 7793 calls. qps=259.3326288897187
07:06:57 I periodic.go:533> T030 ended after 30.050221706s : 7931 calls. qps=263.92484147351405
07:06:57 I periodic.go:533> T017 ended after 30.050239745s : 8066 calls. qps=268.4171596781382
07:06:57 I periodic.go:533> T010 ended after 30.050250178s : 7936 calls. qps=264.09097937593884
07:06:57 I periodic.go:533> T007 ended after 30.050261975s : 7801 calls. qps=259.5984023863073
07:06:57 I periodic.go:533> T001 ended after 30.050287224s : 7968 calls. qps=265.1555354730941
07:06:57 I periodic.go:533> T006 ended after 30.050298764s : 8029 calls. qps=267.1853635484873
07:06:57 I periodic.go:533> T029 ended after 30.050308813s : 7892 calls. qps=262.62625283191295
07:06:57 I periodic.go:533> T022 ended after 30.050318531s : 7946 calls. qps=264.42315384453855
07:06:57 I periodic.go:533> T005 ended after 30.050329041s : 8010 calls. qps=266.5528217368713
07:06:57 I periodic.go:533> T025 ended after 30.050338613s : 7811 calls. qps=259.9305152794818
07:06:57 I periodic.go:533> T016 ended after 30.050362524s : 7841 calls. qps=260.92863251608736
07:06:57 I periodic.go:533> T023 ended after 30.050379821s : 7785 calls. qps=259.0649451478692
07:06:57 I periodic.go:533> T004 ended after 30.050389777s : 7922 calls. qps=263.62386840197826
07:06:57 I periodic.go:533> T028 ended after 30.050399685s : 8006 calls. qps=266.4190854005941
07:06:57 I periodic.go:533> T020 ended after 30.050409149s : 7694 calls. qps=256.0364473525325
07:06:57 I periodic.go:533> T013 ended after 30.050418832s : 7988 calls. qps=265.8199223331211
07:06:57 I periodic.go:533> T031 ended after 30.050529066s : 7885 calls. qps=262.3913869430441
07:06:57 I periodic.go:533> T026 ended after 30.050545563s : 7866 calls. qps=261.7589748415444
Ended after 30.050561265s : 253500 calls. qps=8435.8
Aggregated Function Time : count 253500 avg 0.0037924527 +/- 0.01411 min 7.4738e-05 max 0.079369359 sum 961.386753
# range, mid point, percentile, count
>= 7.4738e-05 <= 0.0001 , 8.7369e-05 , 0.49, 1240
> 0.0001 <= 0.0002 , 0.00015 , 4.78, 10878
> 0.0002 <= 0.0003 , 0.00025 , 10.04, 13321
> 0.0003 <= 0.0004 , 0.00035 , 15.73, 14427
> 0.0004 <= 0.0005 , 0.00045 , 21.79, 15366
> 0.0005 <= 0.0006 , 0.00055 , 27.91, 15525
> 0.0006 <= 0.0007 , 0.00065 , 33.98, 15373
> 0.0007 <= 0.0008 , 0.00075 , 40.01, 15306
> 0.0008 <= 0.0009 , 0.00085 , 46.06, 15332
> 0.0009 <= 0.001 , 0.00095 , 52.21, 15589
> 0.001 <= 0.0011 , 0.00105 , 58.29, 15408
> 0.0011 <= 0.0012 , 0.00115 , 64.15, 14860
> 0.0012 <= 0.0014 , 0.0013 , 75.41, 28538
> 0.0014 <= 0.0016 , 0.0015 , 85.51, 25610
> 0.0016 <= 0.0018 , 0.0017 , 90.15, 11764
> 0.0018 <= 0.002 , 0.0019 , 92.02, 4744
> 0.002 <= 0.0025 , 0.00225 , 94.23, 5582
> 0.0025 <= 0.003 , 0.00275 , 94.99, 1949
> 0.003 <= 0.0035 , 0.00325 , 95.24, 626
> 0.0035 <= 0.004 , 0.00375 , 95.46, 564
> 0.004 <= 0.0045 , 0.00425 , 95.64, 456
> 0.0045 <= 0.005 , 0.00475 , 95.87, 574
> 0.005 <= 0.006 , 0.0055 , 96.15, 710
> 0.006 <= 0.007 , 0.0065 , 96.18, 67
> 0.007 <= 0.008 , 0.0075 , 96.20, 59
> 0.02 <= 0.025 , 0.0225 , 96.20, 3
> 0.025 <= 0.03 , 0.0275 , 96.21, 29
> 0.04 <= 0.045 , 0.0425 , 96.22, 10
> 0.045 <= 0.05 , 0.0475 , 96.23, 22
> 0.05 <= 0.06 , 0.055 , 96.29, 162
> 0.06 <= 0.07 , 0.065 , 96.46, 424
> 0.07 <= 0.0793694 , 0.0746847 , 100.00, 8982
# target 50% 0.000964032
# target 75% 0.00139273
# target 90% 0.00179342
# target 99% 0.076725
# target 99.9% 0.0791049
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 253500 (100.0 %)
Response Header Sizes : count 253500 avg 75 +/- 0 min 75 max 75 sum 19012500
Response Body/Total Sizes : count 253500 avg 75 +/- 0 min 75 max 75 sum 19012500
All done 253500 calls (plus 32 warmup) 3.792 ms avg, 8435.8 qps
Successfully wrote 5858 bytes of Json data to /data/2018-12-14-070627_http_baseline_0qps_30s_echo_1_7.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-linkerd:8080/echo
07:06:58 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 32 threads at -1.0 qps
07:06:58 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
07:07:28 I periodic.go:533> T009 ended after 30.071880532s : 490 calls. qps=16.294291920938655
07:07:28 I periodic.go:533> T000 ended after 30.071986038s : 493 calls. qps=16.3939953742007
07:07:28 I periodic.go:533> T026 ended after 30.072021902s : 470 calls. qps=15.629145307610385
07:07:28 I periodic.go:533> T003 ended after 30.072036184s : 473 calls. qps=15.728898339503274
07:07:28 I periodic.go:533> T019 ended after 30.072049495s : 488 calls. qps=16.22769342944645
07:07:28 I periodic.go:533> T006 ended after 30.072060752s : 459 calls. qps=15.263337081728706
07:07:28 I periodic.go:533> T016 ended after 30.072076786s : 483 calls. qps=16.06141150267546
07:07:28 I periodic.go:533> T029 ended after 30.072114579s : 486 calls. qps=16.161151512085027
07:07:28 I periodic.go:533> T027 ended after 30.072126267s : 480 calls. qps=15.96162491931053
07:07:28 I periodic.go:533> T021 ended after 30.072138604s : 478 calls. qps=15.895111627891325
07:07:28 I periodic.go:533> T030 ended after 30.0721508s : 477 calls. qps=15.861851823382052
07:07:28 I periodic.go:533> T031 ended after 30.072178027s : 487 calls. qps=16.194370742376957
07:07:28 I periodic.go:533> T011 ended after 30.07219089s : 475 calls. qps=15.795324049966483
07:07:28 I periodic.go:533> T005 ended after 30.072350042s : 481 calls. qps=15.994759283136174
07:07:28 I periodic.go:533> T018 ended after 30.072363405s : 484 calls. qps=16.094511544760312
07:07:28 I periodic.go:533> T022 ended after 30.07237428s : 479 calls. qps=15.928240169535428
07:07:28 I periodic.go:533> T020 ended after 30.072384136s : 492 calls. qps=16.36052525050786
07:07:28 I periodic.go:533> T013 ended after 30.072395807s : 485 calls. qps=16.12774729066002
07:07:28 I periodic.go:533> T004 ended after 30.072406076s : 492 calls. qps=16.360513314318816
07:07:28 I periodic.go:533> T025 ended after 30.072512413s : 484 calls. qps=16.094431797150822
07:07:28 I periodic.go:533> T010 ended after 30.072524159s : 456 calls. qps=15.16334304327194
07:07:28 I periodic.go:533> T017 ended after 30.072534725s : 487 calls. qps=16.194178656817563
07:07:28 I periodic.go:533> T001 ended after 30.072545294s : 473 calls. qps=15.728632058769291
07:07:28 I periodic.go:533> T015 ended after 30.07255543s : 487 calls. qps=16.194167507101007
07:07:28 I periodic.go:533> T023 ended after 30.072565646s : 467 calls. qps=15.529104017838145
07:07:28 I periodic.go:533> T012 ended after 30.072596658s : 511 calls. qps=16.992214068220886
07:07:28 I periodic.go:533> T024 ended after 30.072607065s : 493 calls. qps=16.39365682311521
07:07:28 I periodic.go:533> T028 ended after 30.072617582s : 477 calls. qps=15.861605618445031
07:07:28 I periodic.go:533> T014 ended after 30.072627932s : 493 calls. qps=16.3936454477729
07:07:28 I periodic.go:533> T007 ended after 30.072637957s : 471 calls. qps=15.662077955165401
07:07:28 I periodic.go:533> T008 ended after 30.072648347s : 479 calls. qps=15.92809500756139
07:07:28 I periodic.go:533> T002 ended after 30.072672487s : 491 calls. qps=16.327115596801466
Ended after 30.072689614s : 15421 calls. qps=512.79
Aggregated Function Time : count 15421 avg 0.062393238 +/- 0.05128 min 0.000380547 max 0.196585004 sum 962.166124
# range, mid point, percentile, count
>= 0.000380547 <= 0.0004 , 0.000390274 , 0.02, 3
> 0.0004 <= 0.0005 , 0.00045 , 1.25, 190
> 0.0005 <= 0.0006 , 0.00055 , 2.92, 257
> 0.0006 <= 0.0007 , 0.00065 , 3.74, 126
> 0.0007 <= 0.0008 , 0.00075 , 4.12, 59
> 0.0008 <= 0.0009 , 0.00085 , 4.31, 29
> 0.0009 <= 0.001 , 0.00095 , 4.41, 16
> 0.001 <= 0.0011 , 0.00105 , 4.47, 9
> 0.0011 <= 0.0012 , 0.00115 , 4.55, 13
> 0.0012 <= 0.0014 , 0.0013 , 4.69, 21
> 0.0014 <= 0.0016 , 0.0015 , 5.15, 71
> 0.0016 <= 0.0018 , 0.0017 , 6.86, 264
> 0.0018 <= 0.002 , 0.0019 , 9.08, 342
> 0.002 <= 0.0025 , 0.00225 , 13.20, 635
> 0.0025 <= 0.003 , 0.00275 , 18.01, 742
> 0.003 <= 0.0035 , 0.00325 , 22.55, 701
> 0.0035 <= 0.004 , 0.00375 , 26.46, 602
> 0.004 <= 0.0045 , 0.00425 , 31.14, 722
> 0.0045 <= 0.005 , 0.00475 , 35.07, 606
> 0.005 <= 0.006 , 0.0055 , 39.65, 707
> 0.006 <= 0.007 , 0.0065 , 40.00, 53
> 0.007 <= 0.008 , 0.0075 , 40.13, 21
> 0.008 <= 0.009 , 0.0085 , 40.16, 4
> 0.009 <= 0.01 , 0.0095 , 40.28, 19
> 0.01 <= 0.012 , 0.011 , 40.41, 20
> 0.06 <= 0.07 , 0.065 , 40.42, 1
> 0.07 <= 0.08 , 0.075 , 40.73, 48
> 0.09 <= 0.1 , 0.095 , 86.75, 7096
> 0.1 <= 0.196585 , 0.148293 , 100.00, 2044
# target 50% 0.0920145
# target 75% 0.0974475
# target 90% 0.123716
# target 99% 0.189298
# target 99.9% 0.195856
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 15421 (100.0 %)
Response Header Sizes : count 15421 avg 75 +/- 0 min 75 max 75 sum 1156575
Response Body/Total Sizes : count 15421 avg 75 +/- 0 min 75 max 75 sum 1156575
All done 15421 calls (plus 32 warmup) 62.393 ms avg, 512.8 qps
Successfully wrote 5379 bytes of Json data to /data/2018-12-14-070658_http_linkerd_0qps_30s_echo_1_7.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-istio:8080/echo
07:07:28 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 32 threads at -1.0 qps
07:07:28 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
07:07:58 I periodic.go:533> T020 ended after 30.073796036s : 166 calls. qps=5.519755464235003
07:07:58 I periodic.go:533> T002 ended after 30.07385957s : 174 calls. qps=5.785755552758272
07:07:58 I periodic.go:533> T014 ended after 30.073876353s : 173 calls. qps=5.752500873827079
07:07:58 I periodic.go:533> T017 ended after 30.073887951s : 167 calls. qps=5.5529900314883305
07:07:58 I periodic.go:533> T006 ended after 30.07389883s : 167 calls. qps=5.55298802273719
07:07:58 I periodic.go:533> T005 ended after 30.073909564s : 174 calls. qps=5.785745934685088
07:07:58 I periodic.go:533> T025 ended after 30.073922436s : 169 calls. qps=5.61948646238771
07:07:58 I periodic.go:533> T012 ended after 30.073933963s : 165 calls. qps=5.486478762738513
07:07:58 I periodic.go:533> T015 ended after 30.073944019s : 177 calls. qps=5.8854934320611765
07:07:58 I periodic.go:533> T018 ended after 30.073953826s : 171 calls. qps=5.685983325949128
07:07:58 I periodic.go:533> T030 ended after 30.073966054s : 166 calls. qps=5.519724259245851
07:07:58 I periodic.go:533> T031 ended after 30.073976296s : 166 calls. qps=5.519722379447339
07:07:58 I periodic.go:533> T016 ended after 30.073986047s : 166 calls. qps=5.519720589767287
07:07:58 I periodic.go:533> T001 ended after 30.07399622s : 172 calls. qps=5.719226628272815
07:07:58 I periodic.go:533> T003 ended after 30.074007134s : 175 calls. qps=5.818978469355843
07:07:58 I periodic.go:533> T026 ended after 30.07401725s : 169 calls. qps=5.61946874589892
07:07:58 I periodic.go:533> T024 ended after 30.074027463s : 168 calls. qps=5.586215554490996
07:07:58 I periodic.go:533> T011 ended after 30.074037006s : 171 calls. qps=5.685967599424187
07:07:58 I periodic.go:533> T022 ended after 30.07404737s : 169 calls. qps=5.619463117843723
07:07:58 I periodic.go:533> T004 ended after 30.074056993s : 170 calls. qps=5.652712570158692
07:07:58 I periodic.go:533> T010 ended after 30.074093904s : 175 calls. qps=5.818961680395769
07:07:58 I periodic.go:533> T028 ended after 30.07410545s : 175 calls. qps=5.818959446389784
07:07:58 I periodic.go:533> T009 ended after 30.074116188s : 169 calls. qps=5.619450258938396
07:07:58 I periodic.go:533> T029 ended after 30.074128729s : 171 calls. qps=5.685950257807716
07:07:58 I periodic.go:533> T013 ended after 30.07413883s : 170 calls. qps=5.652697188137573
07:07:58 I periodic.go:533> T000 ended after 30.074149039s : 162 calls. qps=5.386686080125467
07:07:58 I periodic.go:533> T021 ended after 30.074159976s : 174 calls. qps=5.785697759766416
07:07:58 I periodic.go:533> T023 ended after 30.074169859s : 163 calls. qps=5.419933476608352
07:07:58 I periodic.go:533> T019 ended after 30.074179722s : 164 calls. qps=5.453182813828501
07:07:58 I periodic.go:533> T007 ended after 30.074189243s : 168 calls. qps=5.586185504206179
07:07:58 I periodic.go:533> T027 ended after 30.074201157s : 170 calls. qps=5.652685473257573
07:07:58 I periodic.go:533> T008 ended after 30.074213991s : 173 calls. qps=5.752436291494498
Ended after 30.07422981s : 5429 calls. qps=180.52
Aggregated Function Time : count 5429 avg 0.17723723 +/- 0.07289 min 0.000812299 max 0.397055499 sum 962.220915
# range, mid point, percentile, count
>= 0.000812299 <= 0.0009 , 0.00085615 , 0.04, 2
> 0.0009 <= 0.001 , 0.00095 , 0.09, 3
> 0.001 <= 0.0011 , 0.00105 , 0.15, 3
> 0.0011 <= 0.0012 , 0.00115 , 0.24, 5
> 0.0012 <= 0.0014 , 0.0013 , 0.53, 16
> 0.0014 <= 0.0016 , 0.0015 , 0.74, 11
> 0.0016 <= 0.0018 , 0.0017 , 0.83, 5
> 0.0018 <= 0.002 , 0.0019 , 0.94, 6
> 0.002 <= 0.0025 , 0.00225 , 0.99, 3
> 0.0025 <= 0.003 , 0.00275 , 1.07, 4
> 0.003 <= 0.0035 , 0.00325 , 1.12, 3
> 0.0035 <= 0.004 , 0.00375 , 1.31, 10
> 0.004 <= 0.0045 , 0.00425 , 1.40, 5
> 0.0045 <= 0.005 , 0.00475 , 1.51, 6
> 0.005 <= 0.006 , 0.0055 , 1.64, 7
> 0.006 <= 0.007 , 0.0065 , 1.68, 2
> 0.06 <= 0.07 , 0.065 , 1.90, 12
> 0.09 <= 0.1 , 0.095 , 11.07, 498
> 0.1 <= 0.2 , 0.15 , 64.36, 2893
> 0.2 <= 0.3 , 0.25 , 97.53, 1801
> 0.3 <= 0.397055 , 0.348528 , 100.00, 134
# target 50% 0.173056
# target 75% 0.232079
# target 90% 0.277296
# target 99% 0.357734
# target 99.9% 0.393123
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 5429 (100.0 %)
Response Header Sizes : count 5429 avg 210.15767 +/- 0.6212 min 209 max 211 sum 1140946
Response Body/Total Sizes : count 5429 avg 210.15767 +/- 0.6212 min 209 max 211 sum 1140946
All done 5429 calls (plus 32 warmup) 177.237 ms avg, 180.5 qps
Successfully wrote 4387 bytes of Json data to /data/2018-12-14-070728_http_istio_0qps_30s_echo_1_7.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-baseline:8079
07:07:58 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
07:08:28 I periodic.go:533> T026 ended after 30.04825053s : 5121 calls. qps=170.42589534080273
07:08:28 I periodic.go:533> T024 ended after 30.048795428s : 5121 calls. qps=170.42280487650302
07:08:28 I periodic.go:533> T013 ended after 30.049385782s : 5142 calls. qps=171.11830628764895
07:08:28 I periodic.go:533> T030 ended after 30.050565012s : 5113 calls. qps=170.14655125313755
07:08:28 I periodic.go:533> T002 ended after 30.052477902s : 5132 calls. qps=170.7679485443849
07:08:28 I periodic.go:533> T007 ended after 30.052772526s : 5145 calls. qps=171.19884681351215
07:08:28 I periodic.go:533> T003 ended after 30.052936908s : 5105 calls. qps=169.86692567278058
07:08:28 I periodic.go:533> T019 ended after 30.053098609s : 5155 calls. qps=171.52973365802063
07:08:28 I periodic.go:533> T031 ended after 30.053201812s : 5131 calls. qps=170.7305608266748
07:08:28 I periodic.go:533> T006 ended after 30.055636025s : 5135 calls. qps=170.8498198384075
07:08:28 I periodic.go:533> T001 ended after 30.055836903s : 5147 calls. qps=171.24793485575032
07:08:28 I periodic.go:533> T015 ended after 30.056313434s : 5133 calls. qps=170.77942746609435
07:08:28 I periodic.go:533> T004 ended after 30.056355029s : 5147 calls. qps=171.2449828009383
07:08:28 I periodic.go:533> T018 ended after 30.056382946s : 5122 calls. qps=170.41305366658074
07:08:28 I periodic.go:533> T017 ended after 30.056428812s : 5134 calls. qps=170.81204264527446
07:08:28 I periodic.go:533> T029 ended after 30.056456266s : 5161 calls. qps=171.71019611643794
07:08:28 I periodic.go:533> T027 ended after 30.056483395s : 5148 calls. qps=171.27752213542013
07:08:28 I periodic.go:533> T005 ended after 30.056509564s : 5175 calls. qps=172.17568091134325
07:08:28 I periodic.go:533> T023 ended after 30.056560639s : 5155 calls. qps=171.50997620503227
07:08:28 I periodic.go:533> T025 ended after 30.056586383s : 5118 calls. qps=170.27881791974687
07:08:28 I periodic.go:533> T028 ended after 30.056610712s : 5154 calls. qps=171.4764199258928
07:08:28 I periodic.go:533> T009 ended after 30.056635956s : 5129 calls. qps=170.64451282932524
07:08:28 I periodic.go:533> T016 ended after 30.056661732s : 5145 calls. qps=171.1766944005743
07:08:28 I periodic.go:533> T008 ended after 30.056689614s : 5146 calls. qps=171.2098060726908
07:08:28 I periodic.go:533> T014 ended after 30.056714033s : 5146 calls. qps=171.2096669765724
07:08:28 I periodic.go:533> T012 ended after 30.056739194s : 5151 calls. qps=171.3758756980616
07:08:28 I periodic.go:533> T021 ended after 30.056764758s : 5151 calls. qps=171.3757299387651
07:08:28 I periodic.go:533> T011 ended after 30.05679012s : 5113 calls. qps=170.11131193938684
07:08:28 I periodic.go:533> T020 ended after 30.056814436s : 5135 calls. qps=170.84312148028727
07:08:28 I periodic.go:533> T022 ended after 30.056841449s : 5110 calls. qps=170.01121054820652
07:08:28 I periodic.go:533> T000 ended after 30.056866663s : 5101 calls. qps=169.71163552052252
07:08:28 I periodic.go:533> T010 ended after 30.056893358s : 5152 calls. qps=171.40826693683343
Ended after 30.0569224s : 164373 calls. qps=5468.7
Aggregated Function Time : count 164373 avg 0.0058499925 +/- 0.01598 min 0.000380589 max 0.091054132 sum 961.580823
# range, mid point, percentile, count
>= 0.000380589 <= 0.0004 , 0.000390295 , 0.00, 2
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 15
> 0.0005 <= 0.0006 , 0.00055 , 0.14, 209
> 0.0006 <= 0.0007 , 0.00065 , 0.55, 679
> 0.0007 <= 0.0008 , 0.00075 , 1.45, 1475
> 0.0008 <= 0.0009 , 0.00085 , 2.51, 1753
> 0.0009 <= 0.001 , 0.00095 , 3.98, 2402
> 0.001 <= 0.0011 , 0.00105 , 6.40, 3989
> 0.0011 <= 0.0012 , 0.00115 , 11.06, 7653
> 0.0012 <= 0.0014 , 0.0013 , 25.67, 24013
> 0.0014 <= 0.0016 , 0.0015 , 46.48, 34206
> 0.0016 <= 0.0018 , 0.0017 , 61.25, 24288
> 0.0018 <= 0.002 , 0.0019 , 70.09, 14523
> 0.002 <= 0.0025 , 0.00225 , 80.32, 16818
> 0.0025 <= 0.003 , 0.00275 , 84.58, 6995
> 0.003 <= 0.0035 , 0.00325 , 87.30, 4480
> 0.0035 <= 0.004 , 0.00375 , 89.68, 3909
> 0.004 <= 0.0045 , 0.00425 , 91.53, 3041
> 0.0045 <= 0.005 , 0.00475 , 92.55, 1685
> 0.005 <= 0.006 , 0.0055 , 93.56, 1646
> 0.006 <= 0.007 , 0.0065 , 93.84, 472
> 0.007 <= 0.008 , 0.0075 , 94.03, 311
> 0.008 <= 0.009 , 0.0085 , 94.10, 109
> 0.009 <= 0.01 , 0.0095 , 94.11, 15
> 0.01 <= 0.012 , 0.011 , 94.13, 44
> 0.012 <= 0.014 , 0.013 , 94.14, 9
> 0.02 <= 0.025 , 0.0225 , 94.16, 32
> 0.035 <= 0.04 , 0.0375 , 94.18, 32
> 0.04 <= 0.045 , 0.0425 , 94.18, 1
> 0.045 <= 0.05 , 0.0475 , 94.21, 43
> 0.05 <= 0.06 , 0.055 , 94.37, 263
> 0.06 <= 0.07 , 0.065 , 96.70, 3834
> 0.07 <= 0.08 , 0.075 , 99.96, 5363
> 0.08 <= 0.09 , 0.085 , 99.99, 40
> 0.09 <= 0.0910541 , 0.0905271 , 100.00, 24
# target 50% 0.00164768
# target 75% 0.00224
# target 90% 0.0040866
# target 99% 0.0770544
# target 99.9% 0.0798128
Ping SERVING : 164373
All done 164373 calls (plus 32 warmup) 5.850 ms avg, 5468.7 qps
Successfully wrote 5666 bytes of Json data to /data/2018-12-14-070758_grpc_baseline_0qps_30s_echo_1_7.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-linkerd:8079
07:08:28 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
07:08:59 I periodic.go:533> T015 ended after 30.000329315s : 354 calls. qps=11.799870470855197
07:08:59 I periodic.go:533> T003 ended after 30.002661141s : 352 calls. qps=11.732292623835823
07:08:59 I periodic.go:533> T021 ended after 30.002777803s : 356 calls. qps=11.865567992987746
07:08:59 I periodic.go:533> T012 ended after 30.005443218s : 354 calls. qps=11.797859389313688
07:08:59 I periodic.go:533> T013 ended after 30.005488899s : 354 calls. qps=11.797841427999456
07:08:59 I periodic.go:533> T019 ended after 30.005504668s : 351 calls. qps=11.69785357332554
07:08:59 I periodic.go:533> T026 ended after 30.005518493s : 340 calls. qps=11.331248952732436
07:08:59 I periodic.go:533> T001 ended after 30.005545445s : 347 calls. qps=11.564528984685484
07:08:59 I periodic.go:533> T027 ended after 30.005558669s : 362 calls. qps=12.064431260664957
07:08:59 I periodic.go:533> T024 ended after 30.005570565s : 364 calls. qps=12.131080767535474
07:08:59 I periodic.go:533> T009 ended after 30.005583364s : 346 calls. qps=11.531187239476328
07:08:59 I periodic.go:533> T002 ended after 30.005595812s : 353 calls. qps=11.764472274162486
07:08:59 I periodic.go:533> T000 ended after 30.005621266s : 357 calls. qps=11.89777064887919
07:08:59 I periodic.go:533> T014 ended after 30.005635905s : 355 calls. qps=11.831110699468445
07:08:59 I periodic.go:533> T011 ended after 30.005648304s : 347 calls. qps=11.564489341619792
07:08:59 I periodic.go:533> T031 ended after 30.005674455s : 360 calls. qps=11.99773064724467
07:08:59 I periodic.go:533> T025 ended after 30.005720265s : 338 calls. qps=11.264518798912425
07:08:59 I periodic.go:533> T008 ended after 30.005734287s : 355 calls. qps=11.831071907938743
07:08:59 I periodic.go:533> T010 ended after 30.005746653s : 359 calls. qps=11.964374829649737
07:08:59 I periodic.go:533> T029 ended after 30.005758019s : 360 calls. qps=11.99769723437894
07:08:59 I periodic.go:533> T023 ended after 30.005800276s : 354 calls. qps=11.797718999121155
07:08:59 I periodic.go:533> T006 ended after 30.005814084s : 340 calls. qps=11.331137327192138
07:08:59 I periodic.go:533> T005 ended after 30.00582587s : 352 calls. qps=11.731055213245494
07:08:59 I periodic.go:533> T020 ended after 30.005837635s : 374 calls. qps=12.464241276962438
07:08:59 I periodic.go:533> T030 ended after 30.005849023s : 359 calls. qps=11.964334011172966
07:08:59 I periodic.go:533> T017 ended after 30.005877973s : 352 calls. qps=11.731034843131
07:08:59 I periodic.go:533> T016 ended after 30.00588947s : 364 calls. qps=12.130951837436067
07:08:59 I periodic.go:533> T018 ended after 30.005901412s : 364 calls. qps=12.130947009458234
07:08:59 I periodic.go:533> T004 ended after 30.005913615s : 363 calls. qps=12.097615312020887
07:08:59 I periodic.go:533> T007 ended after 30.005925501s : 357 calls. qps=11.897650015431196
07:08:59 I periodic.go:533> T022 ended after 30.005951031s : 354 calls. qps=11.797659725374896
07:08:59 I periodic.go:533> T028 ended after 30.005966018s : 350 calls. qps=11.664347009859364
Ended after 30.005981234s : 11347 calls. qps=378.16
Aggregated Function Time : count 11347 avg 0.084607203 +/- 0.03875 min 0.001027703 max 0.197415261 sum 960.037933
# range, mid point, percentile, count
>= 0.0010277 <= 0.0011 , 0.00106385 , 0.01, 1
> 0.0012 <= 0.0014 , 0.0013 , 0.05, 5
> 0.0016 <= 0.0018 , 0.0017 , 0.13, 9
> 0.0018 <= 0.002 , 0.0019 , 0.59, 52
> 0.002 <= 0.0025 , 0.00225 , 2.56, 224
> 0.0025 <= 0.003 , 0.00275 , 3.62, 120
> 0.003 <= 0.0035 , 0.00325 , 4.88, 143
> 0.0035 <= 0.004 , 0.00375 , 6.27, 157
> 0.004 <= 0.0045 , 0.00425 , 10.43, 473
> 0.0045 <= 0.005 , 0.00475 , 13.29, 324
> 0.005 <= 0.006 , 0.0055 , 15.84, 289
> 0.006 <= 0.007 , 0.0065 , 16.74, 102
> 0.007 <= 0.008 , 0.0075 , 16.96, 25
> 0.008 <= 0.009 , 0.0085 , 17.11, 18
> 0.009 <= 0.01 , 0.0095 , 17.16, 5
> 0.08 <= 0.09 , 0.085 , 17.19, 4
> 0.09 <= 0.1 , 0.095 , 70.79, 6081
> 0.1 <= 0.197415 , 0.148708 , 100.00, 3315
# target 50% 0.0961215
# target 75% 0.114054
# target 90% 0.164071
# target 99% 0.194081
# target 99.9% 0.197082
Ping SERVING : 11347
All done 11347 calls (plus 32 warmup) 84.607 ms avg, 378.2 qps
Successfully wrote 3420 bytes of Json data to /data/2018-12-14-070829_grpc_linkerd_0qps_30s_echo_1_7.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-istio:8079
07:08:59 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
07:09:29 I periodic.go:533> T027 ended after 30.092516767s : 146 calls. qps=4.851704532739722
07:09:29 I periodic.go:533> T004 ended after 30.092905202s : 145 calls. qps=4.8184114835932546
07:09:29 I periodic.go:533> T029 ended after 30.092922712s : 142 calls. qps=4.718717465863673
07:09:29 I periodic.go:533> T008 ended after 30.092934412s : 141 calls. qps=4.685485239477814
07:09:29 I periodic.go:533> T014 ended after 30.092945382s : 141 calls. qps=4.685483531443841
07:09:29 I periodic.go:533> T005 ended after 30.092972961s : 146 calls. qps=4.851630983393153
07:09:29 I periodic.go:533> T031 ended after 30.092983458s : 141 calls. qps=4.685477603003041
07:09:29 I periodic.go:533> T002 ended after 30.092997302s : 141 calls. qps=4.6854754474931966
07:09:29 I periodic.go:533> T024 ended after 30.093007854s : 146 calls. qps=4.851625357901653
07:09:29 I periodic.go:533> T023 ended after 30.093019311s : 138 calls. qps=4.5857811266401045
07:09:29 I periodic.go:533> T019 ended after 30.10050297s : 140 calls. qps=4.651085071220655
07:09:29 I periodic.go:533> T011 ended after 30.102639924s : 143 calls. qps=4.750413929178021
07:09:29 I periodic.go:533> T009 ended after 30.102686578s : 144 calls. qps=4.783626193192995
07:09:29 I periodic.go:533> T006 ended after 30.102701097s : 140 calls. qps=4.650745444698723
07:09:29 I periodic.go:533> T003 ended after 30.102712982s : 140 calls. qps=4.650743608515066
07:09:29 I periodic.go:533> T012 ended after 30.102724931s : 147 calls. qps=4.88327885056739
07:09:29 I periodic.go:533> T016 ended after 30.193055294s : 139 calls. qps=4.603707662126603
07:09:29 I periodic.go:533> T021 ended after 30.200057338s : 135 calls. qps=4.470190188352151
07:09:29 I periodic.go:533> T020 ended after 30.200378499s : 135 calls. qps=4.470142650843603
07:09:29 I periodic.go:533> T028 ended after 30.200397062s : 141 calls. qps=4.668812787809829
07:09:29 I periodic.go:533> T030 ended after 30.200447636s : 143 calls. qps=4.73502915332748
07:09:29 I periodic.go:533> T022 ended after 30.200462971s : 149 calls. qps=4.933699200011512
07:09:29 I periodic.go:533> T015 ended after 30.20047999s : 140 calls. qps=4.63568791113111
07:09:29 I periodic.go:533> T017 ended after 30.200495056s : 140 calls. qps=4.63568559854405
07:09:29 I periodic.go:533> T018 ended after 30.200506307s : 144 calls. qps=4.768131982165579
07:09:29 I periodic.go:533> T007 ended after 30.200531966s : 146 calls. qps=4.834351930104011
07:09:29 I periodic.go:533> T026 ended after 30.200780364s : 141 calls. qps=4.668753532212536
07:09:29 I periodic.go:533> T001 ended after 30.20079539s : 138 calls. qps=4.569416077223389
07:09:29 I periodic.go:533> T000 ended after 30.200806298s : 149 calls. qps=4.933643113027326
07:09:29 I periodic.go:533> T010 ended after 30.200818169s : 145 calls. qps=4.801194430846149
07:09:29 I periodic.go:533> T013 ended after 30.200829188s : 139 calls. qps=4.602522637200646
07:09:29 I periodic.go:533> T025 ended after 30.200854132s : 136 calls. qps=4.503183896905026
Ended after 30.200871431s : 4541 calls. qps=150.36
Aggregated Function Time : count 4541 avg 0.21242283 +/- 0.0715 min 0.001223657 max 0.501020031 sum 964.612063
# range, mid point, percentile, count
>= 0.00122366 <= 0.0014 , 0.00131183 , 0.02, 1
> 0.0014 <= 0.0016 , 0.0015 , 0.11, 4
> 0.0016 <= 0.0018 , 0.0017 , 0.15, 2
> 0.0018 <= 0.002 , 0.0019 , 0.29, 6
> 0.002 <= 0.0025 , 0.00225 , 0.73, 20
> 0.0025 <= 0.003 , 0.00275 , 0.88, 7
> 0.003 <= 0.0035 , 0.00325 , 1.04, 7
> 0.0035 <= 0.004 , 0.00375 , 1.10, 3
> 0.004 <= 0.0045 , 0.00425 , 1.28, 8
> 0.0045 <= 0.005 , 0.00475 , 1.32, 2
> 0.005 <= 0.006 , 0.0055 , 1.34, 1
> 0.006 <= 0.007 , 0.0065 , 1.37, 1
> 0.09 <= 0.1 , 0.095 , 3.61, 102
> 0.1 <= 0.2 , 0.15 , 39.59, 1634
> 0.2 <= 0.3 , 0.25 , 93.92, 2467
> 0.3 <= 0.4 , 0.35 , 98.46, 206
> 0.4 <= 0.5 , 0.45 , 99.80, 61
> 0.5 <= 0.50102 , 0.50051 , 100.00, 9
# target 50% 0.219153
# target 75% 0.26517
# target 90% 0.292781
# target 99% 0.440311
# target 99.9% 0.500505
Ping SERVING : 4541
All done 4541 calls (plus 32 warmup) 212.423 ms avg, 150.4 qps
Successfully wrote 3326 bytes of Json data to /data/2018-12-14-070859_grpc_istio_0qps_30s_echo_1_7.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8080/echo
07:09:29 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
07:09:29 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
07:10:00 I periodic.go:533> T023 ended after 30.050786409s : 7981 calls. qps=265.58373186565746
07:10:00 I periodic.go:533> T029 ended after 30.050926916s : 7938 calls. qps=264.1515858126018
07:10:00 I periodic.go:533> T013 ended after 30.051016861s : 7947 calls. qps=264.4502858841213
07:10:00 I periodic.go:533> T026 ended after 30.05104049s : 7986 calls. qps=265.74786995004314
07:10:00 I periodic.go:533> T019 ended after 30.051076457s : 7947 calls. qps=264.4497614377089
07:10:00 I periodic.go:533> T028 ended after 30.051125687s : 7947 calls. qps=264.4493282139458
07:10:00 I periodic.go:533> T008 ended after 30.051186977s : 8007 calls. qps=266.44538221163253
07:10:00 I periodic.go:533> T015 ended after 30.051207583s : 7990 calls. qps=265.87949845050326
07:10:00 I periodic.go:533> T006 ended after 30.051254938s : 7910 calls. qps=263.216961032724
07:10:00 I periodic.go:533> T005 ended after 30.051276759s : 8025 calls. qps=267.0435623869661
07:10:00 I periodic.go:533> T000 ended after 30.051297207s : 7832 calls. qps=260.62102897094417
07:10:00 I periodic.go:533> T003 ended after 30.051311452s : 7961 calls. qps=264.9135633470057
07:10:00 I periodic.go:533> T020 ended after 30.051347775s : 7853 calls. qps=261.3193943511906
07:10:00 I periodic.go:533> T021 ended after 30.051360044s : 8031 calls. qps=267.2424804814601
07:10:00 I periodic.go:533> T007 ended after 30.051369872s : 7865 calls. qps=261.7185184402565
07:10:00 I periodic.go:533> T018 ended after 30.051379514s : 7956 calls. qps=264.7465816434
07:10:00 I periodic.go:533> T011 ended after 30.051390005s : 7945 calls. qps=264.3804495791409
07:10:00 I periodic.go:533> T024 ended after 30.051399716s : 7989 calls. qps=265.8445222352318
07:10:00 I periodic.go:533> T002 ended after 30.051409032s : 7880 calls. qps=262.21732204333733
07:10:00 I periodic.go:533> T027 ended after 30.051444899s : 7993 calls. qps=265.9772276129717
07:10:00 I periodic.go:533> T014 ended after 30.051455414s : 7943 calls. qps=264.3133216203437
07:10:00 I periodic.go:533> T017 ended after 30.051466038s : 7997 calls. qps=266.1101455046424
07:10:00 I periodic.go:533> T031 ended after 30.051485786s : 8067 calls. qps=268.43930637726237
07:10:00 I periodic.go:533> T012 ended after 30.05150336s : 8069 calls. qps=268.50570180592786
07:10:00 I periodic.go:533> T016 ended after 30.051529319s : 7952 calls. qps=264.61215719136027
07:10:00 I periodic.go:533> T010 ended after 30.051540067s : 8011 calls. qps=266.5753562758997
07:10:00 I periodic.go:533> T022 ended after 30.051550293s : 7934 calls. qps=264.0130017468048
07:10:00 I periodic.go:533> T001 ended after 30.051560806s : 8075 calls. qps=268.7048453865255
07:10:00 I periodic.go:533> T030 ended after 30.051571399s : 7966 calls. qps=265.0776524872532
07:10:00 I periodic.go:533> T025 ended after 30.051581918s : 7886 calls. qps=262.4154702244317
07:10:00 I periodic.go:533> T004 ended after 30.051605558s : 7933 calls. qps=263.9792401337494
07:10:00 I periodic.go:533> T009 ended after 30.051616289s : 7850 calls. qps=261.217231196759
Ended after 30.051632542s : 254666 calls. qps=8474.3
Aggregated Function Time : count 254666 avg 0.0037752239 +/- 0.01409 min 7.1503e-05 max 0.081395367 sum 961.42118
# range, mid point, percentile, count
>= 7.1503e-05 <= 0.0001 , 8.57515e-05 , 0.59, 1501
> 0.0001 <= 0.0002 , 0.00015 , 5.06, 11387
> 0.0002 <= 0.0003 , 0.00025 , 10.39, 13580
> 0.0003 <= 0.0004 , 0.00035 , 16.00, 14281
> 0.0004 <= 0.0005 , 0.00045 , 22.04, 15378
> 0.0005 <= 0.0006 , 0.00055 , 28.26, 15837
> 0.0006 <= 0.0007 , 0.00065 , 34.16, 15028
> 0.0007 <= 0.0008 , 0.00075 , 40.09, 15103
> 0.0008 <= 0.0009 , 0.00085 , 46.04, 15162
> 0.0009 <= 0.001 , 0.00095 , 52.26, 15831
> 0.001 <= 0.0011 , 0.00105 , 58.33, 15461
> 0.0011 <= 0.0012 , 0.00115 , 64.19, 14925
> 0.0012 <= 0.0014 , 0.0013 , 75.46, 28685
> 0.0014 <= 0.0016 , 0.0015 , 85.49, 25558
> 0.0016 <= 0.0018 , 0.0017 , 90.23, 12059
> 0.0018 <= 0.002 , 0.0019 , 92.16, 4927
> 0.002 <= 0.0025 , 0.00225 , 94.41, 5732
> 0.0025 <= 0.003 , 0.00275 , 95.23, 2073
> 0.003 <= 0.0035 , 0.00325 , 95.45, 568
> 0.0035 <= 0.004 , 0.00375 , 95.63, 456
> 0.004 <= 0.0045 , 0.00425 , 95.81, 463
> 0.0045 <= 0.005 , 0.00475 , 95.96, 380
> 0.005 <= 0.006 , 0.0055 , 96.16, 523
> 0.006 <= 0.007 , 0.0065 , 96.21, 120
> 0.007 <= 0.008 , 0.0075 , 96.22, 16
> 0.025 <= 0.03 , 0.0275 , 96.23, 32
> 0.05 <= 0.06 , 0.055 , 96.29, 159
> 0.06 <= 0.07 , 0.065 , 96.50, 540
> 0.07 <= 0.08 , 0.075 , 99.99, 8869
> 0.08 <= 0.0813954 , 0.0806977 , 100.00, 32
# target 50% 0.000963647
# target 75% 0.00139192
# target 90% 0.00179044
# target 99% 0.0771647
# target 99.9% 0.0797489
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 254666 (100.0 %)
Response Header Sizes : count 254666 avg 75 +/- 0 min 75 max 75 sum 19099950
Response Body/Total Sizes : count 254666 avg 75 +/- 0 min 75 max 75 sum 19099950
All done 254666 calls (plus 32 warmup) 3.775 ms avg, 8474.3 qps
Successfully wrote 5581 bytes of Json data to /data/2018-12-14-070930_http_baseline_0qps_30s_echo_0_8.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-linkerd:8080/echo
07:10:00 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 32 threads at -1.0 qps
07:10:00 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
07:10:30 I periodic.go:533> T012 ended after 30.072182482s : 467 calls. qps=15.529301881548752
07:10:30 I periodic.go:533> T005 ended after 30.072298032s : 482 calls. qps=16.02804014136541
07:10:30 I periodic.go:533> T007 ended after 30.072320175s : 456 calls. qps=15.16344589796853
07:10:30 I periodic.go:533> T004 ended after 30.072331709s : 466 calls. qps=15.495971662900228
07:10:30 I periodic.go:533> T029 ended after 30.072359541s : 469 calls. qps=15.595716703259537
07:10:30 I periodic.go:533> T003 ended after 30.072379569s : 474 calls. qps=15.761971842381943
07:10:30 I periodic.go:533> T010 ended after 30.072413593s : 458 calls. qps=15.229904928768649
07:10:30 I periodic.go:533> T019 ended after 30.072426553s : 469 calls. qps=15.59568195048806
07:10:30 I periodic.go:533> T028 ended after 30.072437682s : 493 calls. qps=16.39374916038441
07:10:30 I periodic.go:533> T021 ended after 30.072448387s : 461 calls. qps=15.329646394847098
07:10:30 I periodic.go:533> T015 ended after 30.072459669s : 481 calls. qps=15.994700975385653
07:10:30 I periodic.go:533> T025 ended after 30.072471511s : 475 calls. qps=15.795176656040827
07:10:30 I periodic.go:533> T024 ended after 30.072482381s : 464 calls. qps=15.429388040581523
07:10:30 I periodic.go:533> T018 ended after 30.072493099s : 457 calls. qps=15.196611684157196
07:10:30 I periodic.go:533> T030 ended after 30.072503539s : 474 calls. qps=15.761906865694957
07:10:30 I periodic.go:533> T002 ended after 30.072513794s : 486 calls. qps=16.16093697152001
07:10:30 I periodic.go:533> T027 ended after 30.0725245s : 480 calls. qps=15.961413548769409
07:10:30 I periodic.go:533> T011 ended after 30.072536489s : 470 calls. qps=15.628877869078906
07:10:30 I periodic.go:533> T023 ended after 30.072547095s : 472 calls. qps=15.695378196896295
07:10:30 I periodic.go:533> T001 ended after 30.072564023s : 458 calls. qps=15.229828745221521
07:10:30 I periodic.go:533> T006 ended after 30.072576263s : 480 calls. qps=15.961386074879501
07:10:30 I periodic.go:533> T016 ended after 30.072586919s : 473 calls. qps=15.728610287968158
07:10:30 I periodic.go:533> T026 ended after 30.072598552s : 470 calls. qps=15.62884561463154
07:10:30 I periodic.go:533> T014 ended after 30.073058384s : 507 calls. qps=16.858943760430535
07:10:30 I periodic.go:533> T013 ended after 30.073216446s : 490 calls. qps=16.293568095047387
07:10:30 I periodic.go:533> T031 ended after 30.073236021s : 495 calls. qps=16.459818280092765
07:10:30 I periodic.go:533> T009 ended after 30.073379268s : 478 calls. qps=15.894455882070512
07:10:30 I periodic.go:533> T022 ended after 30.073398356s : 471 calls. qps=15.66168194310604
07:10:30 I periodic.go:533> T017 ended after 30.073583022s : 483 calls. qps=16.060607066562923
07:10:30 I periodic.go:533> T020 ended after 30.073608069s : 477 calls. qps=15.861083209756051
07:10:30 I periodic.go:533> T008 ended after 30.073749383s : 475 calls. qps=15.794505498822392
07:10:30 I periodic.go:533> T000 ended after 30.073767675s : 469 calls. qps=15.594986470214527
Ended after 30.073785567s : 15180 calls. qps=504.76
Aggregated Function Time : count 15180 avg 0.063384808 +/- 0.05002 min 0.000372203 max 0.196883109 sum 962.181385
# range, mid point, percentile, count
>= 0.000372203 <= 0.0004 , 0.000386101 , 0.05, 8
> 0.0004 <= 0.0005 , 0.00045 , 1.20, 174
> 0.0005 <= 0.0006 , 0.00055 , 2.46, 191
> 0.0006 <= 0.0007 , 0.00065 , 3.39, 141
> 0.0007 <= 0.0008 , 0.00075 , 3.82, 66
> 0.0008 <= 0.0009 , 0.00085 , 3.97, 23
> 0.0009 <= 0.001 , 0.00095 , 4.08, 16
> 0.001 <= 0.0011 , 0.00105 , 4.16, 12
> 0.0011 <= 0.0012 , 0.00115 , 4.30, 21
> 0.0012 <= 0.0014 , 0.0013 , 4.45, 23
> 0.0014 <= 0.0016 , 0.0015 , 4.72, 41
> 0.0016 <= 0.0018 , 0.0017 , 5.97, 190
> 0.0018 <= 0.002 , 0.0019 , 7.94, 300
> 0.002 <= 0.0025 , 0.00225 , 11.98, 613
> 0.0025 <= 0.003 , 0.00275 , 16.62, 704
> 0.003 <= 0.0035 , 0.00325 , 20.54, 595
> 0.0035 <= 0.004 , 0.00375 , 24.99, 676
> 0.004 <= 0.0045 , 0.00425 , 29.55, 692
> 0.0045 <= 0.005 , 0.00475 , 33.74, 636
> 0.005 <= 0.006 , 0.0055 , 37.25, 533
> 0.006 <= 0.007 , 0.0065 , 38.24, 150
> 0.007 <= 0.008 , 0.0075 , 38.47, 34
> 0.008 <= 0.009 , 0.0085 , 38.52, 9
> 0.009 <= 0.01 , 0.0095 , 38.64, 18
> 0.01 <= 0.012 , 0.011 , 38.87, 35
> 0.012 <= 0.014 , 0.013 , 38.89, 3
> 0.07 <= 0.08 , 0.075 , 38.91, 3
> 0.08 <= 0.09 , 0.085 , 39.20, 43
> 0.09 <= 0.1 , 0.095 , 85.98, 7102
> 0.1 <= 0.196883 , 0.148442 , 100.00, 2128
# target 50% 0.0923092
# target 75% 0.0976528
# target 90% 0.127772
# target 99% 0.189972
# target 99.9% 0.196192
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 15180 (100.0 %)
Response Header Sizes : count 15180 avg 75 +/- 0 min 75 max 75 sum 1138500
Response Body/Total Sizes : count 15180 avg 75 +/- 0 min 75 max 75 sum 1138500
All done 15180 calls (plus 32 warmup) 63.385 ms avg, 504.8 qps
Successfully wrote 5506 bytes of Json data to /data/2018-12-14-071000_http_linkerd_0qps_30s_echo_0_8.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8080/echo
07:10:30 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 32 threads at -1.0 qps
07:10:30 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
07:11:00 I periodic.go:533> T019 ended after 30.078709633s : 169 calls. qps=5.618592089289178
07:11:00 I periodic.go:533> T000 ended after 30.078796118s : 164 calls. qps=5.452345877029892
07:11:00 I periodic.go:533> T028 ended after 30.081690551s : 159 calls. qps=5.285607194530308
07:11:00 I periodic.go:533> T014 ended after 30.081737189s : 160 calls. qps=5.3188417608577225
07:11:00 I periodic.go:533> T020 ended after 30.081776943s : 160 calls. qps=5.3188347318435865
07:11:00 I periodic.go:533> T001 ended after 30.081791113s : 166 calls. qps=5.5182884349018115
07:11:00 I periodic.go:533> T011 ended after 30.081804939s : 163 calls. qps=5.4185578402137775
07:11:00 I periodic.go:533> T029 ended after 30.082273021s : 174 calls. qps=5.784137384782497
07:11:00 I periodic.go:533> T013 ended after 30.082298761s : 161 calls. qps=5.35198460992374
07:11:00 I periodic.go:533> T005 ended after 30.082857513s : 172 calls. qps=5.717541956433891
07:11:00 I periodic.go:533> T018 ended after 30.082882282s : 154 calls. qps=5.119190327455605
07:11:00 I periodic.go:533> T024 ended after 30.082895429s : 165 calls. qps=5.484844382397431
07:11:00 I periodic.go:533> T002 ended after 30.083156468s : 169 calls. qps=5.617761559687674
07:11:00 I periodic.go:533> T012 ended after 30.083403877s : 161 calls. qps=5.351788004385074
07:11:00 I periodic.go:533> T015 ended after 30.083862297s : 168 calls. qps=5.584389342745834
07:11:00 I periodic.go:533> T030 ended after 30.083892834s : 169 calls. qps=5.617624053260846
07:11:00 I periodic.go:533> T009 ended after 30.084082877s : 164 calls. qps=5.45138772122523
07:11:00 I periodic.go:533> T022 ended after 30.178880469s : 154 calls. qps=5.102906324115969
07:11:00 I periodic.go:533> T031 ended after 30.178957814s : 172 calls. qps=5.69933531370024
07:11:00 I periodic.go:533> T027 ended after 30.180818153s : 168 calls. qps=5.566449496111511
07:11:00 I periodic.go:533> T026 ended after 30.180859604s : 161 calls. qps=5.334506773911171
07:11:00 I periodic.go:533> T004 ended after 30.180889189s : 177 calls. qps=5.864638344204618
07:11:00 I periodic.go:533> T023 ended after 30.180903648s : 168 calls. qps=5.566433727743366
07:11:00 I periodic.go:533> T008 ended after 30.180915639s : 163 calls. qps=5.400763911528589
07:11:00 I periodic.go:533> T017 ended after 30.180926835s : 167 calls. qps=5.533295942599571
07:11:00 I periodic.go:533> T003 ended after 30.180937892s : 165 calls. qps=5.467026922438226
07:11:00 I periodic.go:533> T021 ended after 30.180977054s : 161 calls. qps=5.334486014549421
07:11:00 I periodic.go:533> T010 ended after 30.180989403s : 165 calls. qps=5.467017591663146
07:11:00 I periodic.go:533> T007 ended after 30.181000379s : 159 calls. qps=5.268215036060651
07:11:00 I periodic.go:533> T016 ended after 30.181010129s : 159 calls. qps=5.2682133341594755
07:11:00 I periodic.go:533> T006 ended after 30.181020826s : 155 calls. qps=5.135677845146721
07:11:00 I periodic.go:533> T025 ended after 30.181031359s : 166 calls. qps=5.5001433856069575
Ended after 30.181068421s : 5258 calls. qps=174.22
Aggregated Function Time : count 5258 avg 0.18333364 +/- 0.07195 min 0.000640364 max 0.494940229 sum 963.968299
# range, mid point, percentile, count
>= 0.000640364 <= 0.0007 , 0.000670182 , 0.02, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.06, 2
> 0.0008 <= 0.0009 , 0.00085 , 0.10, 2
> 0.0009 <= 0.001 , 0.00095 , 0.17, 4
> 0.001 <= 0.0011 , 0.00105 , 0.29, 6
> 0.0011 <= 0.0012 , 0.00115 , 0.40, 6
> 0.0012 <= 0.0014 , 0.0013 , 0.68, 15
> 0.0014 <= 0.0016 , 0.0015 , 0.84, 8
> 0.0016 <= 0.0018 , 0.0017 , 0.95, 6
> 0.0018 <= 0.002 , 0.0019 , 1.07, 6
> 0.0025 <= 0.003 , 0.00275 , 1.12, 3
> 0.003 <= 0.0035 , 0.00325 , 1.16, 2
> 0.0035 <= 0.004 , 0.00375 , 1.27, 6
> 0.004 <= 0.0045 , 0.00425 , 1.37, 5
> 0.0045 <= 0.005 , 0.00475 , 1.52, 8
> 0.005 <= 0.006 , 0.0055 , 1.62, 5
> 0.006 <= 0.007 , 0.0065 , 1.67, 3
> 0.07 <= 0.08 , 0.075 , 1.81, 7
> 0.09 <= 0.1 , 0.095 , 10.38, 451
> 0.1 <= 0.2 , 0.15 , 58.37, 2523
> 0.2 <= 0.3 , 0.25 , 95.76, 1966
> 0.3 <= 0.4 , 0.35 , 99.83, 214
> 0.4 <= 0.49494 , 0.44747 , 100.00, 9
# target 50% 0.18256
# target 75% 0.244481
# target 90% 0.284598
# target 99% 0.379636
# target 99.9% 0.439474
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 5258 (100.0 %)
Response Header Sizes : count 5258 avg 210.1453 +/- 0.6141 min 209 max 211 sum 1104944
Response Body/Total Sizes : count 5258 avg 210.1453 +/- 0.6141 min 209 max 211 sum 1104944
All done 5258 calls (plus 32 warmup) 183.334 ms avg, 174.2 qps
Successfully wrote 4613 bytes of Json data to /data/2018-12-14-071030_http_istio_0qps_30s_echo_0_8.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8079
07:11:00 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
07:11:31 I periodic.go:533> T020 ended after 30.035367718s : 5109 calls. qps=170.09946566887575
07:11:31 I periodic.go:533> T031 ended after 30.035515246s : 5110 calls. qps=170.13192409544322
07:11:31 I periodic.go:533> T002 ended after 30.03555154s : 5078 calls. qps=169.06631440535884
07:11:31 I periodic.go:533> T012 ended after 30.035639007s : 5106 calls. qps=169.99804794597557
07:11:31 I periodic.go:533> T008 ended after 30.03567415s : 5121 calls. qps=170.49725517813957
07:11:31 I periodic.go:533> T030 ended after 30.03578434s : 5103 calls. qps=169.89734452195097
07:11:31 I periodic.go:533> T022 ended after 30.035813933s : 5123 calls. qps=170.56304887983805
07:11:31 I periodic.go:533> T013 ended after 30.03586161s : 5087 calls. qps=169.36421089070265
07:11:31 I periodic.go:533> T018 ended after 30.036075726s : 5109 calls. qps=170.09545609773244
07:11:31 I periodic.go:533> T029 ended after 30.036135106s : 5127 calls. qps=170.69439799449543
07:11:31 I periodic.go:533> T016 ended after 30.036469238s : 5111 calls. qps=170.159813375599
07:11:31 I periodic.go:533> T004 ended after 30.036855923s : 5134 calls. qps=170.92334874066373
07:11:31 I periodic.go:533> T028 ended after 30.037355736s : 5096 calls. qps=169.65541323906902
07:11:31 I periodic.go:533> T000 ended after 30.037392526s : 5075 calls. qps=168.95607685011746
07:11:31 I periodic.go:533> T005 ended after 30.037445589s : 5096 calls. qps=169.6549057375972
07:11:31 I periodic.go:533> T014 ended after 30.037476701s : 5080 calls. qps=169.12206210153724
07:11:31 I periodic.go:533> T019 ended after 30.037517588s : 5080 calls. qps=169.12183189297448
07:11:31 I periodic.go:533> T023 ended after 30.037546321s : 5119 calls. qps=170.4200451426746
07:11:31 I periodic.go:533> T007 ended after 30.037642227s : 5101 calls. qps=169.82025291635085
07:11:31 I periodic.go:533> T003 ended after 30.037672792s : 5109 calls. qps=170.0864123322061
07:11:31 I periodic.go:533> T010 ended after 30.038374138s : 5093 calls. qps=169.54978909984038
07:11:31 I periodic.go:533> T009 ended after 30.038441531s : 5107 calls. qps=170.0154781575309
07:11:31 I periodic.go:533> T011 ended after 30.038473276s : 5144 calls. qps=171.24705216326453
07:11:31 I periodic.go:533> T021 ended after 30.038502587s : 5094 calls. qps=169.58235468783224
07:11:31 I periodic.go:533> T006 ended after 30.038546157s : 5122 calls. qps=170.51424437218978
07:11:31 I periodic.go:533> T027 ended after 30.03864381s : 5089 calls. qps=169.4151051621661
07:11:31 I periodic.go:533> T026 ended after 30.038674111s : 5113 calls. qps=170.21390428573034
07:11:31 I periodic.go:533> T017 ended after 30.038725435s : 5121 calls. qps=170.47993634354413
07:11:31 I periodic.go:533> T024 ended after 30.038753878s : 5127 calls. qps=170.6795168941728
07:11:31 I periodic.go:533> T015 ended after 30.038798415s : 5145 calls. qps=171.2784888702746
07:11:31 I periodic.go:533> T001 ended after 30.038825162s : 5147 calls. qps=171.3449168614992
07:11:31 I periodic.go:533> T025 ended after 30.038867924s : 5129 calls. qps=170.74544929511504
Ended after 30.038886176s : 163505 calls. qps=5443.1
Aggregated Function Time : count 163505 avg 0.0058775302 +/- 0.0157 min 0.000312602 max 0.080628705 sum 961.005571
# range, mid point, percentile, count
>= 0.000312602 <= 0.0004 , 0.000356301 , 0.00, 2
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 10
> 0.0005 <= 0.0006 , 0.00055 , 0.09, 139
> 0.0006 <= 0.0007 , 0.00065 , 0.46, 598
> 0.0007 <= 0.0008 , 0.00075 , 1.16, 1147
> 0.0008 <= 0.0009 , 0.00085 , 2.18, 1672
> 0.0009 <= 0.001 , 0.00095 , 3.45, 2068
> 0.001 <= 0.0011 , 0.00105 , 5.43, 3239
> 0.0011 <= 0.0012 , 0.00115 , 9.27, 6276
> 0.0012 <= 0.0014 , 0.0013 , 22.18, 21116
> 0.0014 <= 0.0016 , 0.0015 , 40.57, 30065
> 0.0016 <= 0.0018 , 0.0017 , 55.75, 24815
> 0.0018 <= 0.002 , 0.0019 , 65.85, 16523
> 0.002 <= 0.0025 , 0.00225 , 77.88, 19660
> 0.0025 <= 0.003 , 0.00275 , 83.05, 8465
> 0.003 <= 0.0035 , 0.00325 , 86.43, 5528
> 0.0035 <= 0.004 , 0.00375 , 89.15, 4441
> 0.004 <= 0.0045 , 0.00425 , 91.14, 3252
> 0.0045 <= 0.005 , 0.00475 , 92.20, 1743
> 0.005 <= 0.006 , 0.0055 , 93.34, 1860
> 0.006 <= 0.007 , 0.0065 , 93.75, 670
> 0.007 <= 0.008 , 0.0075 , 93.94, 313
> 0.008 <= 0.009 , 0.0085 , 94.01, 112
> 0.009 <= 0.01 , 0.0095 , 94.06, 75
> 0.01 <= 0.012 , 0.011 , 94.11, 79
> 0.012 <= 0.014 , 0.013 , 94.11, 5
> 0.014 <= 0.016 , 0.015 , 94.13, 30
> 0.016 <= 0.018 , 0.017 , 94.13, 2
> 0.04 <= 0.045 , 0.0425 , 94.15, 32
> 0.045 <= 0.05 , 0.0475 , 94.25, 167
> 0.05 <= 0.06 , 0.055 , 94.54, 468
> 0.06 <= 0.07 , 0.065 , 97.42, 4708
> 0.07 <= 0.08 , 0.075 , 99.98, 4194
> 0.08 <= 0.0806287 , 0.0803144 , 100.00, 31
# target 50% 0.00172428
# target 75% 0.00238044
# target 90% 0.00421379
# target 99% 0.0761754
# target 99.9% 0.0796841
Ping SERVING : 163505
All done 163505 calls (plus 32 warmup) 5.878 ms avg, 5443.1 qps
Successfully wrote 5532 bytes of Json data to /data/2018-12-14-071101_grpc_baseline_0qps_30s_echo_0_8.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-linkerd:8079
07:11:31 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
07:12:01 I periodic.go:533> T009 ended after 30.094734131s : 376 calls. qps=12.493880104183733
07:12:01 I periodic.go:533> T022 ended after 30.095456453s : 372 calls. qps=12.360669810107431
07:12:01 I periodic.go:533> T007 ended after 30.095569863s : 361 calls. qps=11.9951209311979
07:12:01 I periodic.go:533> T016 ended after 30.096068638s : 372 calls. qps=12.360418381366399
07:12:01 I periodic.go:533> T029 ended after 30.096087854s : 363 calls. qps=12.06136830012458
07:12:01 I periodic.go:533> T005 ended after 30.096101511s : 355 calls. qps=11.795547668200447
07:12:01 I periodic.go:533> T012 ended after 30.096130685s : 354 calls. qps=11.762309371431414
07:12:01 I periodic.go:533> T001 ended after 30.096143614s : 378 calls. qps=12.559748679035527
07:12:01 I periodic.go:533> T021 ended after 30.096155988s : 361 calls. qps=11.994887325276313
07:12:01 I periodic.go:533> T023 ended after 30.098376405s : 370 calls. qps=12.293021889995863
07:12:01 I periodic.go:533> T015 ended after 30.098400652s : 350 calls. qps=11.628524852424109
07:12:01 I periodic.go:533> T028 ended after 30.098433155s : 363 calls. qps=12.060428465848492
07:12:01 I periodic.go:533> T008 ended after 30.098445446s : 363 calls. qps=12.060423540852396
07:12:01 I periodic.go:533> T013 ended after 30.098459511s : 368 calls. qps=12.226539363767372
07:12:01 I periodic.go:533> T014 ended after 30.098470734s : 356 calls. qps=11.827843452453328
07:12:01 I periodic.go:533> T030 ended after 30.098482042s : 356 calls. qps=11.827839008732425
07:12:01 I periodic.go:533> T003 ended after 30.09851475s : 361 calls. qps=11.993947309310338
07:12:01 I periodic.go:533> T020 ended after 30.098528073s : 356 calls. qps=11.827820919899109
07:12:01 I periodic.go:533> T004 ended after 30.098539348s : 372 calls. qps=12.359403747103057
07:12:01 I periodic.go:533> T011 ended after 30.098550789s : 365 calls. qps=12.126829712126709
07:12:01 I periodic.go:533> T024 ended after 30.098597801s : 363 calls. qps=12.06036249263212
07:12:01 I periodic.go:533> T000 ended after 30.098609112s : 366 calls. qps=12.160030340208634
07:12:01 I periodic.go:533> T018 ended after 30.098620275s : 355 calls. qps=11.794560573092582
07:12:01 I periodic.go:533> T027 ended after 30.09863149s : 369 calls. qps=12.259693605092874
07:12:01 I periodic.go:533> T017 ended after 30.098641845s : 360 calls. qps=11.960672572998618
07:12:01 I periodic.go:533> T019 ended after 30.098652775s : 357 calls. qps=11.860995994363073
07:12:01 I periodic.go:533> T025 ended after 30.098677762s : 359 calls. qps=11.927434249395583
07:12:01 I periodic.go:533> T002 ended after 30.098689616s : 375 calls. qps=12.459014155907164
07:12:01 I periodic.go:533> T010 ended after 30.098700793s : 370 calls. qps=12.292889402257861
07:12:01 I periodic.go:533> T026 ended after 30.098711095s : 361 calls. qps=11.993869068365834
07:12:01 I periodic.go:533> T031 ended after 30.098721182s : 371 calls. qps=12.326105077908423
07:12:01 I periodic.go:533> T006 ended after 30.098733093s : 368 calls. qps=12.226428230814307
Ended after 30.098761881s : 11646 calls. qps=386.93
Aggregated Function Time : count 11646 avg 0.082687486 +/- 0.03754 min 0.001024991 max 0.197177994 sum 962.978456
# range, mid point, percentile, count
>= 0.00102499 <= 0.0011 , 0.0010625 , 0.01, 1
> 0.0011 <= 0.0012 , 0.00115 , 0.03, 2
> 0.0012 <= 0.0014 , 0.0013 , 0.04, 2
> 0.0014 <= 0.0016 , 0.0015 , 0.07, 3
> 0.0016 <= 0.0018 , 0.0017 , 0.12, 6
> 0.0018 <= 0.002 , 0.0019 , 0.46, 40
> 0.002 <= 0.0025 , 0.00225 , 3.17, 315
> 0.0025 <= 0.003 , 0.00275 , 4.80, 190
> 0.003 <= 0.0035 , 0.00325 , 5.93, 132
> 0.0035 <= 0.004 , 0.00375 , 8.07, 249
> 0.004 <= 0.0045 , 0.00425 , 11.68, 420
> 0.0045 <= 0.005 , 0.00475 , 14.73, 356
> 0.005 <= 0.006 , 0.0055 , 16.58, 215
> 0.006 <= 0.007 , 0.0065 , 17.15, 66
> 0.007 <= 0.008 , 0.0075 , 17.64, 57
> 0.008 <= 0.009 , 0.0085 , 17.79, 18
> 0.01 <= 0.012 , 0.011 , 17.87, 9
> 0.012 <= 0.014 , 0.013 , 17.91, 5
> 0.014 <= 0.016 , 0.015 , 17.92, 1
> 0.08 <= 0.09 , 0.085 , 18.20, 32
> 0.09 <= 0.1 , 0.095 , 75.75, 6703
> 0.1 <= 0.197178 , 0.148589 , 100.00, 2824
# target 50% 0.0955259
# target 75% 0.0998695
# target 90% 0.157102
# target 99% 0.19317
# target 99.9% 0.196777
Ping SERVING : 11646
All done 11646 calls (plus 32 warmup) 82.687 ms avg, 386.9 qps
Successfully wrote 3906 bytes of Json data to /data/2018-12-14-071131_grpc_linkerd_0qps_30s_echo_0_8.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8079
07:12:01 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
07:12:32 I periodic.go:533> T007 ended after 30.004318275s : 145 calls. qps=4.832637711379563
07:12:32 I periodic.go:533> T029 ended after 30.100810998s : 143 calls. qps=4.750702564442579
07:12:32 I periodic.go:533> T009 ended after 30.101389162s : 136 calls. qps=4.51806390954496
07:12:32 I periodic.go:533> T001 ended after 30.101430271s : 143 calls. qps=4.7506048288266065
07:12:32 I periodic.go:533> T026 ended after 30.101445244s : 134 calls. qps=4.451613499411948
07:12:32 I periodic.go:533> T012 ended after 30.101458828s : 140 calls. qps=4.650937378150383
07:12:32 I periodic.go:533> T021 ended after 30.1014708s : 138 calls. qps=4.584493592253306
07:12:32 I periodic.go:533> T008 ended after 30.101500677s : 140 calls. qps=4.650930912124637
07:12:32 I periodic.go:533> T014 ended after 30.101512328s : 131 calls. qps=4.351940811895543
07:12:32 I periodic.go:533> T028 ended after 30.101531702s : 141 calls. qps=4.684147019356883
07:12:32 I periodic.go:533> T002 ended after 30.10155273s : 135 calls. qps=4.484818481322242
07:12:32 I periodic.go:533> T015 ended after 30.101579545s : 142 calls. qps=4.717360422489417
07:12:32 I periodic.go:533> T018 ended after 30.101591575s : 142 calls. qps=4.717358537212164
07:12:32 I periodic.go:533> T000 ended after 30.102427634s : 139 calls. qps=4.617567781908815
07:12:32 I periodic.go:533> T024 ended after 30.102449289s : 136 calls. qps=4.517904795530939
07:12:32 I periodic.go:533> T016 ended after 30.102476757s : 143 calls. qps=4.750439678248299
07:12:32 I periodic.go:533> T025 ended after 30.102496598s : 139 calls. qps=4.617557203186766
07:12:32 I periodic.go:533> T031 ended after 30.102509423s : 141 calls. qps=4.683994879585292
07:12:32 I periodic.go:533> T005 ended after 30.102528574s : 139 calls. qps=4.6175522982496675
07:12:32 I periodic.go:533> T030 ended after 30.102541588s : 137 calls. qps=4.551110729288498
07:12:32 I periodic.go:533> T003 ended after 30.102567494s : 139 calls. qps=4.617546328156403
07:12:32 I periodic.go:533> T010 ended after 30.102583806s : 137 calls. qps=4.551104346487805
07:12:32 I periodic.go:533> T027 ended after 30.102594724s : 138 calls. qps=4.584322423540994
07:12:32 I periodic.go:533> T019 ended after 30.102606617s : 131 calls. qps=4.351782610281321
07:12:32 I periodic.go:533> T004 ended after 30.102617753s : 138 calls. qps=4.584318916458588
07:12:32 I periodic.go:533> T020 ended after 30.102642556s : 139 calls. qps=4.617534814141917
07:12:32 I periodic.go:533> T006 ended after 30.102655466s : 133 calls. qps=4.418214869788458
07:12:32 I periodic.go:533> T013 ended after 30.102668034s : 142 calls. qps=4.717189846415459
07:12:32 I periodic.go:533> T011 ended after 30.10267997s : 136 calls. qps=4.517870174201636
07:12:32 I periodic.go:533> T022 ended after 30.102691367s : 134 calls. qps=4.451429221604323
07:12:32 I periodic.go:533> T017 ended after 30.102702518s : 133 calls. qps=4.418207963901987
07:12:32 I periodic.go:533> T023 ended after 30.102728257s : 143 calls. qps=4.750399989633737
Ended after 30.10274403s : 4427 calls. qps=147.06
Aggregated Function Time : count 4427 avg 0.21753623 +/- 0.07707 min 0.001070632 max 0.596492515 sum 963.032901
# range, mid point, percentile, count
>= 0.00107063 <= 0.0011 , 0.00108532 , 0.02, 1
> 0.0012 <= 0.0014 , 0.0013 , 0.05, 1
> 0.0014 <= 0.0016 , 0.0015 , 0.16, 5
> 0.0016 <= 0.0018 , 0.0017 , 0.25, 4
> 0.0018 <= 0.002 , 0.0019 , 0.38, 6
> 0.002 <= 0.0025 , 0.00225 , 0.95, 25
> 0.0025 <= 0.003 , 0.00275 , 1.24, 13
> 0.003 <= 0.0035 , 0.00325 , 1.29, 2
> 0.0035 <= 0.004 , 0.00375 , 1.42, 6
> 0.004 <= 0.0045 , 0.00425 , 1.51, 4
> 0.0045 <= 0.005 , 0.00475 , 1.58, 3
> 0.005 <= 0.006 , 0.0055 , 1.69, 5
> 0.006 <= 0.007 , 0.0065 , 1.72, 1
> 0.007 <= 0.008 , 0.0075 , 1.74, 1
> 0.09 <= 0.1 , 0.095 , 4.04, 102
> 0.1 <= 0.2 , 0.15 , 39.24, 1558
> 0.2 <= 0.3 , 0.25 , 93.09, 2384
> 0.3 <= 0.4 , 0.35 , 98.06, 220
> 0.4 <= 0.5 , 0.45 , 99.32, 56
> 0.5 <= 0.596493 , 0.548246 , 100.00, 30
# target 50% 0.219987
# target 75% 0.266411
# target 90% 0.294266
# target 99% 0.474518
# target 99.9% 0.582253
Ping SERVING : 4427
All done 4427 calls (plus 32 warmup) 217.536 ms avg, 147.1 qps
Successfully wrote 3579 bytes of Json data to /data/2018-12-14-071202_grpc_istio_0qps_30s_echo_0_8.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-baseline:8080/echo
07:12:32 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
07:12:32 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
07:13:02 I periodic.go:533> T023 ended after 30.046129365s : 8080 calls. qps=268.91982996692394
07:13:02 I periodic.go:533> T030 ended after 30.046266178s : 8046 calls. qps=267.7870172730918
07:13:02 I periodic.go:533> T013 ended after 30.046283502s : 8135 calls. qps=270.7489596661265
07:13:02 I periodic.go:533> T011 ended after 30.046302312s : 8087 calls. qps=269.15125581926213
07:13:02 I periodic.go:533> T008 ended after 30.046334689s : 7970 calls. qps=265.25698001087056
07:13:02 I periodic.go:533> T020 ended after 30.046354889s : 7915 calls. qps=263.4262967751103
07:13:02 I periodic.go:533> T012 ended after 30.046366827s : 8137 calls. qps=270.8147726096455
07:13:02 I periodic.go:533> T022 ended after 30.046377427s : 7919 calls. qps=263.5592267067743
07:13:02 I periodic.go:533> T018 ended after 30.046389548s : 8096 calls. qps=269.4500111924063
07:13:02 I periodic.go:533> T031 ended after 30.046417464s : 7947 calls. qps=264.4907669781819
07:13:02 I periodic.go:533> T005 ended after 30.046670514s : 7992 calls. qps=265.9862095627598
07:13:02 I periodic.go:533> T028 ended after 30.046689036s : 7949 calls. qps=264.5549394968618
07:13:02 I periodic.go:533> T014 ended after 30.046700815s : 8023 calls. qps=267.01766857527116
07:13:02 I periodic.go:533> T010 ended after 30.046711976s : 7967 calls. qps=265.15380472790804
07:13:02 I periodic.go:533> T021 ended after 30.046722556s : 8033 calls. qps=267.3502903695531
07:13:02 I periodic.go:533> T024 ended after 30.046746593s : 8036 calls. qps=267.4499209133061
07:13:02 I periodic.go:533> T007 ended after 30.04675763s : 8040 calls. qps=267.5829485166317
07:13:02 I periodic.go:533> T027 ended after 30.046768688s : 8032 calls. qps=267.3165984470004
07:13:02 I periodic.go:533> T026 ended after 30.046779752s : 8005 calls. qps=266.41790122174956
07:13:02 I periodic.go:533> T009 ended after 30.046789942s : 8091 calls. qps=269.28001345961553
07:13:02 I periodic.go:533> T003 ended after 30.046800968s : 7943 calls. qps=264.3542654826827
07:13:02 I periodic.go:533> T017 ended after 30.046812664s : 7935 calls. qps=264.0879113779401
07:13:02 I periodic.go:533> T025 ended after 30.046859215s : 8114 calls. qps=270.0448636558102
07:13:02 I periodic.go:533> T006 ended after 30.046869319s : 8018 calls. qps=266.8497644421762
07:13:02 I periodic.go:533> T002 ended after 30.046880232s : 8056 calls. qps=268.1143578899862
07:13:02 I periodic.go:533> T000 ended after 30.046896942s : 8007 calls. qps=266.48342474286244
07:13:02 I periodic.go:533> T001 ended after 30.046907551s : 7907 calls. qps=263.1552011327317
07:13:02 I periodic.go:533> T019 ended after 30.046932018s : 7931 calls. qps=263.95373728169096
07:13:02 I periodic.go:533> T016 ended after 30.046943142s : 8146 calls. qps=271.1091095524262
07:13:02 I periodic.go:533> T029 ended after 30.046953203s : 7872 calls. qps=261.98995774433564
07:13:02 I periodic.go:533> T015 ended after 30.046963533s : 7965 calls. qps=265.0850223601528
07:13:02 I periodic.go:533> T004 ended after 30.046973295s : 7853 calls. qps=261.35743933006347
Ended after 30.046991613s : 256247 calls. qps=8528.2
Aggregated Function Time : count 256247 avg 0.0037513265 +/- 0.01406 min 7.3862e-05 max 0.08117807 sum 961.266173
# range, mid point, percentile, count
>= 7.3862e-05 <= 0.0001 , 8.6931e-05 , 0.55, 1407
> 0.0001 <= 0.0002 , 0.00015 , 4.95, 11275
> 0.0002 <= 0.0003 , 0.00025 , 10.35, 13844
> 0.0003 <= 0.0004 , 0.00035 , 16.04, 14582
> 0.0004 <= 0.0005 , 0.00045 , 22.14, 15619
> 0.0005 <= 0.0006 , 0.00055 , 28.42, 16087
> 0.0006 <= 0.0007 , 0.00065 , 34.64, 15958
> 0.0007 <= 0.0008 , 0.00075 , 40.73, 15587
> 0.0008 <= 0.0009 , 0.00085 , 46.84, 15675
> 0.0009 <= 0.001 , 0.00095 , 52.94, 15625
> 0.001 <= 0.0011 , 0.00105 , 59.03, 15606
> 0.0011 <= 0.0012 , 0.00115 , 64.99, 15282
> 0.0012 <= 0.0014 , 0.0013 , 76.33, 29038
> 0.0014 <= 0.0016 , 0.0015 , 86.04, 24885
> 0.0016 <= 0.0018 , 0.0017 , 90.45, 11302
> 0.0018 <= 0.002 , 0.0019 , 92.22, 4550
> 0.002 <= 0.0025 , 0.00225 , 94.54, 5939
> 0.0025 <= 0.003 , 0.00275 , 95.31, 1969
> 0.003 <= 0.0035 , 0.00325 , 95.51, 502
> 0.0035 <= 0.004 , 0.00375 , 95.69, 483
> 0.004 <= 0.0045 , 0.00425 , 95.87, 437
> 0.0045 <= 0.005 , 0.00475 , 96.01, 359
> 0.005 <= 0.006 , 0.0055 , 96.21, 513
> 0.006 <= 0.007 , 0.0065 , 96.23, 63
> 0.007 <= 0.008 , 0.0075 , 96.24, 28
> 0.02 <= 0.025 , 0.0225 , 96.25, 32
> 0.05 <= 0.06 , 0.055 , 96.29, 96
> 0.06 <= 0.07 , 0.065 , 96.52, 590
> 0.07 <= 0.08 , 0.075 , 100.00, 8902
> 0.08 <= 0.0811781 , 0.080589 , 100.00, 12
# target 50% 0.000951773
# target 75% 0.00137658
# target 90% 0.00177965
# target 99% 0.0771349
# target 99.9% 0.0797256
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 256247 (100.0 %)
Response Header Sizes : count 256247 avg 75 +/- 0 min 75 max 75 sum 19218525
Response Body/Total Sizes : count 256247 avg 75 +/- 0 min 75 max 75 sum 19218525
All done 256247 calls (plus 32 warmup) 3.751 ms avg, 8528.2 qps
Successfully wrote 5565 bytes of Json data to /data/2018-12-14-071232_http_baseline_0qps_30s_echo_1_8.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-linkerd:8080/echo
07:13:02 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 32 threads at -1.0 qps
07:13:02 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
07:13:32 I periodic.go:533> T023 ended after 30.000742529s : 472 calls. qps=15.732943927762609
07:13:32 I periodic.go:533> T004 ended after 30.001199156s : 474 calls. qps=15.79936846975011
07:13:32 I periodic.go:533> T010 ended after 30.003240144s : 493 calls. qps=16.43155864612807
07:13:32 I periodic.go:533> T021 ended after 30.00328252s : 472 calls. qps=15.731612022296819
07:13:32 I periodic.go:533> T001 ended after 30.003295588s : 489 calls. qps=16.29820959386803
07:13:32 I periodic.go:533> T007 ended after 30.003307154s : 479 calls. qps=15.964906719829395
07:13:32 I periodic.go:533> T022 ended after 30.003318872s : 466 calls. qps=15.531615085252625
07:13:32 I periodic.go:533> T025 ended after 30.003328604s : 479 calls. qps=15.964895306187474
07:13:32 I periodic.go:533> T030 ended after 30.003338843s : 468 calls. qps=15.598263994848287
07:13:32 I periodic.go:533> T026 ended after 30.003363163s : 472 calls. qps=15.731569738890741
07:13:32 I periodic.go:533> T018 ended after 30.0033741s : 496 calls. qps=16.53147403844823
07:13:32 I periodic.go:533> T017 ended after 30.003385558s : 482 calls. qps=16.064853716866
07:13:32 I periodic.go:533> T000 ended after 30.003395451s : 470 calls. qps=15.664893687368812
07:13:32 I periodic.go:533> T027 ended after 30.003405204s : 478 calls. qps=15.931524996911813
07:13:32 I periodic.go:533> T002 ended after 30.003416047s : 478 calls. qps=15.931519239383228
07:13:32 I periodic.go:533> T014 ended after 30.00541298s : 463 calls. qps=15.430549158200588
07:13:32 I periodic.go:533> T028 ended after 30.00543939s : 468 calls. qps=15.597172029947734
07:13:32 I periodic.go:533> T005 ended after 30.005452218s : 484 calls. qps=16.13040178443479
07:13:32 I periodic.go:533> T020 ended after 30.005537122s : 482 calls. qps=16.063701777449555
07:13:32 I periodic.go:533> T006 ended after 30.005547647s : 483 calls. qps=16.09702331323025
07:13:32 I periodic.go:533> T011 ended after 30.005571927s : 473 calls. qps=15.763738853262087
07:13:32 I periodic.go:533> T009 ended after 30.005583369s : 462 calls. qps=15.397134403902681
07:13:32 I periodic.go:533> T003 ended after 30.00559407s : 477 calls. qps=15.897035695650867
07:13:32 I periodic.go:533> T013 ended after 30.005604478s : 482 calls. qps=16.063665717962813
07:13:32 I periodic.go:533> T031 ended after 30.005614122s : 506 calls. qps=16.863510873087005
07:13:32 I periodic.go:533> T012 ended after 30.005624117s : 473 calls. qps=15.763711434751224
07:13:32 I periodic.go:533> T019 ended after 30.005648482s : 474 calls. qps=15.797025692824018
07:13:32 I periodic.go:533> T008 ended after 30.005660129s : 477 calls. qps=15.8970006975113
07:13:32 I periodic.go:533> T015 ended after 30.005670237s : 484 calls. qps=16.130284582118065
07:13:32 I periodic.go:533> T016 ended after 30.005679974s : 468 calls. qps=15.597046972623957
07:13:32 I periodic.go:533> T024 ended after 30.005691092s : 466 calls. qps=15.530387171260426
07:13:32 I periodic.go:533> T029 ended after 30.005701804s : 494 calls. qps=16.463537604514414
Ended after 30.00573155s : 15284 calls. qps=509.37
Aggregated Function Time : count 15284 avg 0.062809644 +/- 0.05086 min 0.000387696 max 0.196969524 sum 959.982599
# range, mid point, percentile, count
>= 0.000387696 <= 0.0004 , 0.000393848 , 0.03, 4
> 0.0004 <= 0.0005 , 0.00045 , 1.16, 173
> 0.0005 <= 0.0006 , 0.00055 , 2.45, 197
> 0.0006 <= 0.0007 , 0.00065 , 3.40, 146
> 0.0007 <= 0.0008 , 0.00075 , 3.75, 53
> 0.0008 <= 0.0009 , 0.00085 , 3.96, 32
> 0.0009 <= 0.001 , 0.00095 , 4.06, 16
> 0.001 <= 0.0011 , 0.00105 , 4.15, 14
> 0.0011 <= 0.0012 , 0.00115 , 4.25, 14
> 0.0012 <= 0.0014 , 0.0013 , 4.47, 34
> 0.0014 <= 0.0016 , 0.0015 , 5.40, 143
> 0.0016 <= 0.0018 , 0.0017 , 6.95, 236
> 0.0018 <= 0.002 , 0.0019 , 8.77, 279
> 0.002 <= 0.0025 , 0.00225 , 13.15, 669
> 0.0025 <= 0.003 , 0.00275 , 17.57, 676
> 0.003 <= 0.0035 , 0.00325 , 22.01, 678
> 0.0035 <= 0.004 , 0.00375 , 26.71, 718
> 0.004 <= 0.0045 , 0.00425 , 31.14, 677
> 0.0045 <= 0.005 , 0.00475 , 34.82, 563
> 0.005 <= 0.006 , 0.0055 , 38.95, 631
> 0.006 <= 0.007 , 0.0065 , 39.56, 94
> 0.007 <= 0.008 , 0.0075 , 39.71, 23
> 0.008 <= 0.009 , 0.0085 , 39.75, 6
> 0.01 <= 0.012 , 0.011 , 39.76, 1
> 0.012 <= 0.014 , 0.013 , 39.83, 10
> 0.08 <= 0.09 , 0.085 , 39.90, 11
> 0.09 <= 0.1 , 0.095 , 86.18, 7073
> 0.1 <= 0.19697 , 0.148485 , 100.00, 2113
# target 50% 0.0921829
# target 75% 0.0975852
# target 90% 0.126828
# target 99% 0.189955
# target 99.9% 0.196268
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 15284 (100.0 %)
Response Header Sizes : count 15284 avg 75 +/- 0 min 75 max 75 sum 1146300
Response Body/Total Sizes : count 15284 avg 75 +/- 0 min 75 max 75 sum 1146300
All done 15284 calls (plus 32 warmup) 62.810 ms avg, 509.4 qps
Successfully wrote 5244 bytes of Json data to /data/2018-12-14-071302_http_linkerd_0qps_30s_echo_1_8.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-istio:8080/echo
07:13:32 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 32 threads at -1.0 qps
07:13:32 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
07:14:03 I periodic.go:533> T011 ended after 30.084214673s : 172 calls. qps=5.717284026508648
07:14:03 I periodic.go:533> T008 ended after 30.084306686s : 172 calls. qps=5.717266540167326
07:14:03 I periodic.go:533> T009 ended after 30.084319841s : 170 calls. qps=5.650784225751976
07:14:03 I periodic.go:533> T028 ended after 30.084332817s : 169 calls. qps=5.617541895577681
07:14:03 I periodic.go:533> T004 ended after 30.084362755s : 172 calls. qps=5.717255884750749
07:14:03 I periodic.go:533> T010 ended after 30.084375999s : 170 calls. qps=5.650773677527856
07:14:03 I periodic.go:533> T017 ended after 30.084395123s : 166 calls. qps=5.517810789324807
07:14:03 I periodic.go:533> T015 ended after 30.084412099s : 167 calls. qps=5.551047481015959
07:14:03 I periodic.go:533> T025 ended after 30.084424683s : 169 calls. qps=5.617524741814256
07:14:03 I periodic.go:533> T012 ended after 30.084450173s : 174 calls. qps=5.783718798230203
07:14:03 I periodic.go:533> T031 ended after 30.084462303s : 170 calls. qps=5.650757467021364
07:14:03 I periodic.go:533> T026 ended after 30.084473204s : 165 calls. qps=5.484556730681319
07:14:03 I periodic.go:533> T016 ended after 30.084483946s : 176 calls. qps=5.850191757183216
07:14:03 I periodic.go:533> T020 ended after 30.084495736s : 169 calls. qps=5.617511474449265
07:14:03 I periodic.go:533> T007 ended after 30.084505787s : 170 calls. qps=5.650749299443693
07:14:03 I periodic.go:533> T021 ended after 30.084528818s : 174 calls. qps=5.783703678812259
07:14:03 I periodic.go:533> T023 ended after 30.084540523s : 169 calls. qps=5.6175031116329475
07:14:03 I periodic.go:533> T030 ended after 30.084551136s : 173 calls. qps=5.7504597365583905
07:14:03 I periodic.go:533> T014 ended after 30.084562273s : 179 calls. qps=5.949895443905035
07:14:03 I periodic.go:533> T000 ended after 30.084592737s : 170 calls. qps=5.650732967740091
07:14:03 I periodic.go:533> T002 ended after 30.084604896s : 172 calls. qps=5.7172098684556385
07:14:03 I periodic.go:533> T005 ended after 30.084615606s : 163 calls. qps=5.418051609324591
07:14:03 I periodic.go:533> T029 ended after 30.084626938s : 169 calls. qps=5.617486975932398
07:14:03 I periodic.go:533> T019 ended after 30.084637198s : 174 calls. qps=5.783682843001589
07:14:03 I periodic.go:533> T022 ended after 30.084647507s : 162 calls. qps=5.384806318980681
07:14:03 I periodic.go:533> T003 ended after 30.084658434s : 172 calls. qps=5.717199694234028
07:14:03 I periodic.go:533> T027 ended after 30.084684278s : 164 calls. qps=5.451278746505847
07:14:03 I periodic.go:533> T018 ended after 30.084698027s : 170 calls. qps=5.650713191384894
07:14:03 I periodic.go:533> T001 ended after 30.084708828s : 173 calls. qps=5.750429594950508
07:14:03 I periodic.go:533> T024 ended after 30.084720297s : 171 calls. qps=5.683948473240479
07:14:03 I periodic.go:533> T006 ended after 30.180174039s : 175 calls. qps=5.798508642589607
07:14:03 I periodic.go:533> T013 ended after 30.180264496s : 168 calls. qps=5.566551612636338
Ended after 30.180295535s : 5449 calls. qps=180.55
Aggregated Function Time : count 5449 avg 0.1766861 +/- 0.06895 min 0.000854037 max 0.497232221 sum 962.762538
# range, mid point, percentile, count
>= 0.000854037 <= 0.0009 , 0.000877018 , 0.04, 2
> 0.001 <= 0.0011 , 0.00105 , 0.15, 6
> 0.0011 <= 0.0012 , 0.00115 , 0.26, 6
> 0.0012 <= 0.0014 , 0.0013 , 0.53, 15
> 0.0014 <= 0.0016 , 0.0015 , 0.72, 10
> 0.0016 <= 0.0018 , 0.0017 , 0.92, 11
> 0.0018 <= 0.002 , 0.0019 , 0.97, 3
> 0.002 <= 0.0025 , 0.00225 , 1.16, 10
> 0.0025 <= 0.003 , 0.00275 , 1.19, 2
> 0.003 <= 0.0035 , 0.00325 , 1.32, 7
> 0.0035 <= 0.004 , 0.00375 , 1.36, 2
> 0.004 <= 0.0045 , 0.00425 , 1.41, 3
> 0.0045 <= 0.005 , 0.00475 , 1.50, 5
> 0.005 <= 0.006 , 0.0055 , 1.54, 2
> 0.07 <= 0.08 , 0.075 , 1.69, 8
> 0.08 <= 0.09 , 0.085 , 1.73, 2
> 0.09 <= 0.1 , 0.095 , 11.47, 531
> 0.1 <= 0.2 , 0.15 , 67.70, 3064
> 0.2 <= 0.3 , 0.25 , 97.45, 1621
> 0.3 <= 0.4 , 0.35 , 98.92, 80
> 0.4 <= 0.497232 , 0.448616 , 100.00, 59
# target 50% 0.168522
# target 75% 0.224537
# target 90% 0.27496
# target 99% 0.407432
# target 99.9% 0.488252
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 5449 (100.0 %)
Response Header Sizes : count 5449 avg 210.16462 +/- 0.6278 min 209 max 211 sum 1145187
Response Body/Total Sizes : count 5449 avg 210.16462 +/- 0.6278 min 209 max 211 sum 1145187
All done 5449 calls (plus 32 warmup) 176.686 ms avg, 180.5 qps
Successfully wrote 4364 bytes of Json data to /data/2018-12-14-071333_http_istio_0qps_30s_echo_1_8.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-baseline:8079
07:14:03 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
07:14:33 I periodic.go:533> T001 ended after 30.032863881s : 5148 calls. qps=171.41222430195316
07:14:33 I periodic.go:533> T025 ended after 30.033773477s : 5188 calls. qps=172.73886692835964
07:14:33 I periodic.go:533> T010 ended after 30.033845188s : 5157 calls. qps=171.70628561608473
07:14:33 I periodic.go:533> T009 ended after 30.033878433s : 5172 calls. qps=172.2055315479075
07:14:33 I periodic.go:533> T005 ended after 30.033930278s : 5195 calls. qps=172.97103482341646
07:14:33 I periodic.go:533> T002 ended after 30.033961398s : 5173 calls. qps=172.23835149313592
07:14:33 I periodic.go:533> T031 ended after 30.034012043s : 5186 calls. qps=172.6709036599956
07:14:33 I periodic.go:533> T027 ended after 30.034043415s : 5182 calls. qps=172.53754109617944
07:14:33 I periodic.go:533> T013 ended after 30.034089468s : 5171 calls. qps=172.17102604390496
07:14:33 I periodic.go:533> T004 ended after 30.034122292s : 5169 calls. qps=172.10424695436612
07:14:33 I periodic.go:533> T007 ended after 30.034173372s : 5174 calls. qps=172.2704312822397
07:14:33 I periodic.go:533> T018 ended after 30.034207604s : 5153 calls. qps=171.57103220241828
07:14:33 I periodic.go:533> T014 ended after 30.034250513s : 5173 calls. qps=172.2366934963442
07:14:33 I periodic.go:533> T024 ended after 30.034300758s : 5153 calls. qps=171.57050005991687
07:14:33 I periodic.go:533> T017 ended after 30.034331804s : 5168 calls. qps=172.06975116761947
07:14:33 I periodic.go:533> T023 ended after 30.034380613s : 5149 calls. qps=171.43686318509666
07:14:33 I periodic.go:533> T029 ended after 30.034410682s : 5149 calls. qps=171.43669155079712
07:14:33 I periodic.go:533> T016 ended after 30.03446463s : 5169 calls. qps=172.10228528052176
07:14:33 I periodic.go:533> T030 ended after 30.034494541s : 5146 calls. qps=171.33632773393973
07:14:33 I periodic.go:533> T006 ended after 30.034540572s : 5159 calls. qps=171.76890013125518
07:14:33 I periodic.go:533> T021 ended after 30.034571052s : 5181 calls. qps=172.50121505081384
07:14:33 I periodic.go:533> T003 ended after 30.034619705s : 5162 calls. qps=171.86833230122966
07:14:33 I periodic.go:533> T000 ended after 30.034651376s : 5156 calls. qps=171.66838181181757
07:14:33 I periodic.go:533> T008 ended after 30.034700091s : 5157 calls. qps=171.7013981952599
07:14:33 I periodic.go:533> T011 ended after 30.034731354s : 5161 calls. qps=171.83439862240226
07:14:33 I periodic.go:533> T015 ended after 30.034763952s : 5174 calls. qps=172.2670438918321
07:14:33 I periodic.go:533> T026 ended after 30.034806791s : 5175 calls. qps=172.30009288925078
07:14:33 I periodic.go:533> T028 ended after 30.034836373s : 5165 calls. qps=171.96697647546063
07:14:33 I periodic.go:533> T012 ended after 30.034879728s : 5163 calls. qps=171.90013899695413
07:14:33 I periodic.go:533> T019 ended after 30.03490993s : 5195 calls. qps=172.96539300792236
07:14:33 I periodic.go:533> T020 ended after 30.034950085s : 5176 calls. qps=172.33256540635932
07:14:33 I periodic.go:533> T022 ended after 30.034980636s : 5170 calls. qps=172.1326230456505
Ended after 30.034996856s : 165369 calls. qps=5505.9
Aggregated Function Time : count 165369 avg 0.0058107109 +/- 0.01572 min 0.000402007 max 0.080275992 sum 960.911454
# range, mid point, percentile, count
>= 0.000402007 <= 0.0005 , 0.000451004 , 0.01, 11
> 0.0005 <= 0.0006 , 0.00055 , 0.12, 182
> 0.0006 <= 0.0007 , 0.00065 , 0.54, 692
> 0.0007 <= 0.0008 , 0.00075 , 1.36, 1371
> 0.0008 <= 0.0009 , 0.00085 , 2.38, 1682
> 0.0009 <= 0.001 , 0.00095 , 3.69, 2164
> 0.001 <= 0.0011 , 0.00105 , 6.05, 3896
> 0.0011 <= 0.0012 , 0.00115 , 10.58, 7503
> 0.0012 <= 0.0014 , 0.0013 , 24.96, 23779
> 0.0014 <= 0.0016 , 0.0015 , 46.03, 34832
> 0.0016 <= 0.0018 , 0.0017 , 60.17, 23387
> 0.0018 <= 0.002 , 0.0019 , 68.82, 14312
> 0.002 <= 0.0025 , 0.00225 , 78.79, 16478
> 0.0025 <= 0.003 , 0.00275 , 83.57, 7908
> 0.003 <= 0.0035 , 0.00325 , 86.73, 5235
> 0.0035 <= 0.004 , 0.00375 , 89.34, 4302
> 0.004 <= 0.0045 , 0.00425 , 91.29, 3225
> 0.0045 <= 0.005 , 0.00475 , 92.57, 2130
> 0.005 <= 0.006 , 0.0055 , 93.53, 1580
> 0.006 <= 0.007 , 0.0065 , 93.82, 478
> 0.007 <= 0.008 , 0.0075 , 93.97, 255
> 0.008 <= 0.009 , 0.0085 , 94.05, 128
> 0.009 <= 0.01 , 0.0095 , 94.09, 71
> 0.01 <= 0.012 , 0.011 , 94.15, 88
> 0.012 <= 0.014 , 0.013 , 94.17, 47
> 0.014 <= 0.016 , 0.015 , 94.18, 1
> 0.02 <= 0.025 , 0.0225 , 94.18, 11
> 0.03 <= 0.035 , 0.0325 , 94.19, 21
> 0.035 <= 0.04 , 0.0375 , 94.22, 39
> 0.04 <= 0.045 , 0.0425 , 94.23, 25
> 0.045 <= 0.05 , 0.0475 , 94.26, 36
> 0.05 <= 0.06 , 0.055 , 94.59, 552
> 0.06 <= 0.07 , 0.065 , 97.14, 4222
> 0.07 <= 0.08 , 0.075 , 100.00, 4725
> 0.08 <= 0.080276 , 0.080138 , 100.00, 1
# target 50% 0.00165621
# target 75% 0.00230998
# target 90% 0.00417025
# target 99% 0.0765022
# target 99.9% 0.0796521
Ping SERVING : 165369
All done 165369 calls (plus 32 warmup) 5.811 ms avg, 5505.9 qps
Successfully wrote 5646 bytes of Json data to /data/2018-12-14-071403_grpc_baseline_0qps_30s_echo_1_8.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-linkerd:8079
07:14:33 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
07:15:03 I periodic.go:533> T028 ended after 30.000428179s : 362 calls. qps=12.06649444601582
07:15:03 I periodic.go:533> T016 ended after 30.002876756s : 355 calls. qps=11.832198721711137
07:15:03 I periodic.go:533> T018 ended after 30.002932263s : 369 calls. qps=12.298797889666787
07:15:03 I periodic.go:533> T015 ended after 30.00294741s : 349 calls. qps=11.632190505512737
07:15:03 I periodic.go:533> T013 ended after 30.002959817s : 351 calls. qps=11.698845785245481
07:15:03 I periodic.go:533> T019 ended after 30.002972385s : 357 calls. qps=11.89882107075772
07:15:03 I periodic.go:533> T007 ended after 30.002983577s : 366 calls. qps=12.198786799342587
07:15:03 I periodic.go:533> T006 ended after 30.003009915s : 347 calls. qps=11.565506293637473
07:15:03 I periodic.go:533> T001 ended after 30.00320246s : 372 calls. qps=12.398676457819697
07:15:03 I periodic.go:533> T022 ended after 30.003865258s : 368 calls. qps=12.265086409221201
07:15:03 I periodic.go:533> T005 ended after 30.003881634s : 357 calls. qps=11.89846048437454
07:15:03 I periodic.go:533> T014 ended after 30.003893194s : 350 calls. qps=11.665152843231388
07:15:03 I periodic.go:533> T021 ended after 30.00390371s : 360 calls. qps=11.998438719159587
07:15:03 I periodic.go:533> T003 ended after 30.003915207s : 362 calls. qps=12.065092088899931
07:15:03 I periodic.go:533> T012 ended after 30.005959355s : 358 calls. qps=11.93096330513909
07:15:03 I periodic.go:533> T000 ended after 30.006017851s : 359 calls. qps=11.964266694190338
07:15:03 I periodic.go:533> T031 ended after 30.006033408s : 374 calls. qps=12.464159954587224
07:15:03 I periodic.go:533> T020 ended after 30.006047211s : 348 calls. qps=11.597662216315708
07:15:03 I periodic.go:533> T023 ended after 30.006058563s : 361 calls. qps=12.03090366707287
07:15:03 I periodic.go:533> T027 ended after 30.00607179s : 354 calls. qps=11.797612245864723
07:15:03 I periodic.go:533> T011 ended after 30.006098732s : 345 calls. qps=11.4976626279002
07:15:03 I periodic.go:533> T009 ended after 30.006112228s : 373 calls. qps=12.430800670402665
07:15:03 I periodic.go:533> T025 ended after 30.006124358s : 359 calls. qps=11.964224226921402
07:15:03 I periodic.go:533> T004 ended after 30.006136092s : 360 calls. qps=11.997546065119007
07:15:03 I periodic.go:533> T026 ended after 30.006147693s : 357 calls. qps=11.897561914729993
07:15:03 I periodic.go:533> T002 ended after 30.006196502s : 366 calls. qps=12.197480609566927
07:15:03 I periodic.go:533> T017 ended after 30.006213435s : 356 calls. qps=11.864209416865398
07:15:03 I periodic.go:533> T024 ended after 30.006226074s : 367 calls. qps=12.230795005507229
07:15:03 I periodic.go:533> T029 ended after 30.006237577s : 361 calls. qps=12.030831891989989
07:15:03 I periodic.go:533> T010 ended after 30.006251644s : 355 calls. qps=11.830867920851594
07:15:03 I periodic.go:533> T008 ended after 30.006281711s : 363 calls. qps=12.097466906968613
07:15:03 I periodic.go:533> T030 ended after 30.006293963s : 350 calls. qps=11.664219527795606
Ended after 30.006309128s : 11491 calls. qps=382.95
Aggregated Function Time : count 11491 avg 0.083545478 +/- 0.03778 min 0.001193732 max 0.19757874 sum 960.021086
# range, mid point, percentile, count
>= 0.00119373 <= 0.0012 , 0.00119687 , 0.01, 1
> 0.0012 <= 0.0014 , 0.0013 , 0.03, 2
> 0.0014 <= 0.0016 , 0.0015 , 0.07, 5
> 0.0016 <= 0.0018 , 0.0017 , 0.15, 9
> 0.0018 <= 0.002 , 0.0019 , 0.50, 41
> 0.002 <= 0.0025 , 0.00225 , 3.20, 310
> 0.0025 <= 0.003 , 0.00275 , 4.54, 154
> 0.003 <= 0.0035 , 0.00325 , 5.69, 132
> 0.0035 <= 0.004 , 0.00375 , 7.05, 156
> 0.004 <= 0.0045 , 0.00425 , 10.33, 377
> 0.0045 <= 0.005 , 0.00475 , 14.13, 437
> 0.005 <= 0.006 , 0.0055 , 16.48, 270
> 0.006 <= 0.007 , 0.0065 , 16.92, 50
> 0.007 <= 0.008 , 0.0075 , 17.13, 24
> 0.008 <= 0.009 , 0.0085 , 17.37, 28
> 0.009 <= 0.01 , 0.0095 , 17.42, 6
> 0.01 <= 0.012 , 0.011 , 17.45, 3
> 0.09 <= 0.1 , 0.095 , 75.80, 6705
> 0.1 <= 0.197579 , 0.148789 , 100.00, 2781
# target 50% 0.0955787
# target 75% 0.0998632
# target 90% 0.15726
# target 99% 0.193547
# target 99.9% 0.197176
Ping SERVING : 11491
All done 11491 calls (plus 32 warmup) 83.545 ms avg, 383.0 qps
Successfully wrote 3541 bytes of Json data to /data/2018-12-14-071433_grpc_linkerd_0qps_30s_echo_1_8.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-1.benchmark-istio:8079
07:15:03 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
07:15:34 I periodic.go:533> T008 ended after 30.089443982s : 149 calls. qps=4.951902736691786
07:15:34 I periodic.go:533> T020 ended after 30.089961091s : 138 calls. qps=4.586247206589983
07:15:34 I periodic.go:533> T016 ended after 30.090004647s : 137 calls. qps=4.553006940584139
07:15:34 I periodic.go:533> T005 ended after 30.090038561s : 140 calls. qps=4.652702578502355
07:15:34 I periodic.go:533> T024 ended after 30.090052449s : 142 calls. qps=4.719167580072435
07:15:34 I periodic.go:533> T013 ended after 30.090081017s : 140 calls. qps=4.652696013709773
07:15:34 I periodic.go:533> T028 ended after 30.090094368s : 144 calls. qps=4.785628062141942
07:15:34 I periodic.go:533> T023 ended after 30.090106219s : 145 calls. qps=4.818859692440755
07:15:34 I periodic.go:533> T021 ended after 30.090118464s : 146 calls. qps=4.852091233029717
07:15:34 I periodic.go:533> T003 ended after 30.090129959s : 143 calls. qps=4.752388912738096
07:15:34 I periodic.go:533> T029 ended after 30.090159627s : 143 calls. qps=4.75238422702436
07:15:34 I periodic.go:533> T018 ended after 30.090172358s : 144 calls. qps=4.785615658386718
07:15:34 I periodic.go:533> T009 ended after 30.090184423s : 136 calls. qps=4.519746309565515
07:15:34 I periodic.go:533> T006 ended after 30.09052811s : 137 calls. qps=4.552927735238741
07:15:34 I periodic.go:533> T012 ended after 30.090543868s : 146 calls. qps=4.852022636761468
07:15:34 I periodic.go:533> T011 ended after 30.190126171s : 143 calls. qps=4.736647975236447
07:15:34 I periodic.go:533> T027 ended after 30.191360332s : 148 calls. qps=4.902064642749268
07:15:34 I periodic.go:533> T031 ended after 30.194906561s : 143 calls. qps=4.735898079734415
07:15:34 I periodic.go:533> T030 ended after 30.195207815s : 143 calls. qps=4.735850830242083
07:15:34 I periodic.go:533> T007 ended after 30.195227781s : 145 calls. qps=4.802083330904349
07:15:34 I periodic.go:533> T026 ended after 30.195283439s : 147 calls. qps=4.868309989438148
07:15:34 I periodic.go:533> T017 ended after 30.195298787s : 144 calls. qps=4.768954300329574
07:15:34 I periodic.go:533> T019 ended after 30.195312813s : 144 calls. qps=4.768952085106521
07:15:34 I periodic.go:533> T022 ended after 30.195815259s : 144 calls. qps=4.768872731696825
07:15:34 I periodic.go:533> T014 ended after 30.288751929s : 150 calls. qps=4.95233347189794
07:15:34 I periodic.go:533> T025 ended after 30.288987627s : 142 calls. qps=4.6881725381081845
07:15:34 I periodic.go:533> T000 ended after 30.289004053s : 139 calls. qps=4.589124150691004
07:15:34 I periodic.go:533> T002 ended after 30.289016596s : 145 calls. qps=4.787213858212513
07:15:34 I periodic.go:533> T015 ended after 30.289027326s : 142 calls. qps=4.688166393448616
07:15:34 I periodic.go:533> T001 ended after 30.28910961s : 142 calls. qps=4.688153657482175
07:15:34 I periodic.go:533> T004 ended after 30.289182386s : 142 calls. qps=4.6881423932272925
07:15:34 I periodic.go:533> T010 ended after 30.289195518s : 142 calls. qps=4.688140360664695
Ended after 30.289211699s : 4575 calls. qps=151.04
Aggregated Function Time : count 4575 avg 0.21099096 +/- 0.07349 min 0.001301468 max 0.500634161 sum 965.283644
# range, mid point, percentile, count
>= 0.00130147 <= 0.0014 , 0.00135073 , 0.04, 2
> 0.0014 <= 0.0016 , 0.0015 , 0.09, 2
> 0.0016 <= 0.0018 , 0.0017 , 0.24, 7
> 0.0018 <= 0.002 , 0.0019 , 0.31, 3
> 0.002 <= 0.0025 , 0.00225 , 0.87, 26
> 0.0025 <= 0.003 , 0.00275 , 1.25, 17
> 0.003 <= 0.0035 , 0.00325 , 1.38, 6
> 0.0035 <= 0.004 , 0.00375 , 1.49, 5
> 0.004 <= 0.0045 , 0.00425 , 1.53, 2
> 0.0045 <= 0.005 , 0.00475 , 1.57, 2
> 0.005 <= 0.006 , 0.0055 , 1.62, 2
> 0.006 <= 0.007 , 0.0065 , 1.64, 1
> 0.007 <= 0.008 , 0.0075 , 1.66, 1
> 0.08 <= 0.09 , 0.085 , 1.68, 1
> 0.09 <= 0.1 , 0.095 , 4.44, 126
> 0.1 <= 0.2 , 0.15 , 44.17, 1818
> 0.2 <= 0.3 , 0.25 , 93.38, 2251
> 0.3 <= 0.4 , 0.35 , 98.40, 230
> 0.4 <= 0.5 , 0.45 , 99.98, 72
> 0.5 <= 0.500634 , 0.500317 , 100.00, 1
# target 50% 0.211839
# target 75% 0.26265
# target 90% 0.293136
# target 99% 0.437847
# target 99.9% 0.495035
Ping SERVING : 4575
All done 4575 calls (plus 32 warmup) 210.991 ms avg, 151.0 qps
Successfully wrote 3581 bytes of Json data to /data/2018-12-14-071504_grpc_istio_0qps_30s_echo_1_8.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8080/echo
07:15:34 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
07:15:34 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
07:16:04 I periodic.go:533> T018 ended after 30.050033139s : 8056 calls. qps=268.0862268183204
07:16:04 I periodic.go:533> T016 ended after 30.050217042s : 7977 calls. qps=265.4556534101189
07:16:04 I periodic.go:533> T004 ended after 30.050260502s : 7899 calls. qps=262.8596181212566
07:16:04 I periodic.go:533> T010 ended after 30.050308121s : 7882 calls. qps=262.29348358966865
07:16:04 I periodic.go:533> T002 ended after 30.050329868s : 7880 calls. qps=262.2267387617351
07:16:04 I periodic.go:533> T028 ended after 30.050441384s : 8009 calls. qps=266.51854785282114
07:16:04 I periodic.go:533> T012 ended after 30.050476794s : 7934 calls. qps=264.02243313437657
07:16:04 I periodic.go:533> T031 ended after 30.05049815s : 8000 calls. qps=266.2185485267904
07:16:04 I periodic.go:533> T030 ended after 30.050644175s : 7966 calls. qps=265.085831558551
07:16:04 I periodic.go:533> T014 ended after 30.050945869s : 8086 calls. qps=269.0763889845267
07:16:04 I periodic.go:533> T023 ended after 30.050960505s : 8014 calls. qps=266.6803278606219
07:16:04 I periodic.go:533> T006 ended after 30.050973127s : 7932 calls. qps=263.95151885691547
07:16:04 I periodic.go:533> T008 ended after 30.051005952s : 7938 calls. qps=264.15089107763123
07:16:04 I periodic.go:533> T029 ended after 30.051019625s : 7931 calls. qps=263.9178337031218
07:16:04 I periodic.go:533> T020 ended after 30.051030808s : 8090 calls. qps=269.2087353571356
07:16:04 I periodic.go:533> T024 ended after 30.051041013s : 7922 calls. qps=263.6181554100893
07:16:04 I periodic.go:533> T001 ended after 30.051052302s : 7989 calls. qps=265.84759560876694
07:16:04 I periodic.go:533> T009 ended after 30.051074776s : 7945 calls. qps=264.38322287045776
07:16:04 I periodic.go:533> T000 ended after 30.051086374s : 7961 calls. qps=264.9155475087185
07:16:04 I periodic.go:533> T021 ended after 30.051143705s : 8036 calls. qps=267.4107873858706
07:16:04 I periodic.go:533> T022 ended after 30.051154693s : 7882 calls. qps=262.2860945119025
07:16:04 I periodic.go:533> T026 ended after 30.051165874s : 7870 calls. qps=261.8866779744161
07:16:04 I periodic.go:533> T007 ended after 30.051176601s : 8109 calls. qps=269.8396840718097
07:16:04 I periodic.go:533> T003 ended after 30.051187467s : 8149 calls. qps=271.1706487122558
07:16:04 I periodic.go:533> T015 ended after 30.051197742s : 7955 calls. qps=264.7149064838096
07:16:04 I periodic.go:533> T005 ended after 30.052217791s : 7993 calls. qps=265.97038713042116
07:16:04 I periodic.go:533> T013 ended after 30.0522322s : 7908 calls. qps=263.14185074079126
07:16:04 I periodic.go:533> T011 ended after 30.052255475s : 8037 calls. qps=267.43417001382323
07:16:04 I periodic.go:533> T017 ended after 30.052280467s : 8006 calls. qps=266.4024119165026
07:16:04 I periodic.go:533> T019 ended after 30.052292178s : 7981 calls. qps=265.57042480248975
07:16:04 I periodic.go:533> T027 ended after 30.052303925s : 8000 calls. qps=266.2025520560817
07:16:04 I periodic.go:533> T025 ended after 30.052317961s : 8044 calls. qps=267.6665410780957
Ended after 30.052336757s : 255381 calls. qps=8497.9
Aggregated Function Time : count 255381 avg 0.00376458 +/- 0.0141 min 6.9705e-05 max 0.081954871 sum 961.402198
# range, mid point, percentile, count
>= 6.9705e-05 <= 0.0001 , 8.48525e-05 , 0.52, 1328
> 0.0001 <= 0.0002 , 0.00015 , 4.95, 11323
> 0.0002 <= 0.0003 , 0.00025 , 10.28, 13593
> 0.0003 <= 0.0004 , 0.00035 , 15.90, 14366
> 0.0004 <= 0.0005 , 0.00045 , 22.06, 15734
> 0.0005 <= 0.0006 , 0.00055 , 28.29, 15899
> 0.0006 <= 0.0007 , 0.00065 , 34.51, 15898
> 0.0007 <= 0.0008 , 0.00075 , 40.61, 15565
> 0.0008 <= 0.0009 , 0.00085 , 46.85, 15941
> 0.0009 <= 0.001 , 0.00095 , 53.01, 15741
> 0.001 <= 0.0011 , 0.00105 , 59.07, 15459
> 0.0011 <= 0.0012 , 0.00115 , 65.05, 15288
> 0.0012 <= 0.0014 , 0.0013 , 76.31, 28738
> 0.0014 <= 0.0016 , 0.0015 , 86.00, 24763
> 0.0016 <= 0.0018 , 0.0017 , 90.53, 11548
> 0.0018 <= 0.002 , 0.0019 , 92.31, 4549
> 0.002 <= 0.0025 , 0.00225 , 94.48, 5559
> 0.0025 <= 0.003 , 0.00275 , 95.27, 2018
> 0.003 <= 0.0035 , 0.00325 , 95.49, 561
> 0.0035 <= 0.004 , 0.00375 , 95.68, 490
> 0.004 <= 0.0045 , 0.00425 , 95.85, 409
> 0.0045 <= 0.005 , 0.00475 , 96.00, 391
> 0.005 <= 0.006 , 0.0055 , 96.19, 479
> 0.006 <= 0.007 , 0.0065 , 96.22, 82
> 0.007 <= 0.008 , 0.0075 , 96.22, 15
> 0.008 <= 0.009 , 0.0085 , 96.23, 4
> 0.009 <= 0.01 , 0.0095 , 96.23, 8
> 0.02 <= 0.025 , 0.0225 , 96.23, 5
> 0.025 <= 0.03 , 0.0275 , 96.24, 27
> 0.05 <= 0.06 , 0.055 , 96.28, 96
> 0.06 <= 0.07 , 0.065 , 96.48, 513
> 0.07 <= 0.08 , 0.075 , 99.99, 8957
> 0.08 <= 0.0819549 , 0.0809774 , 100.00, 34
# target 50% 0.000951099
# target 75% 0.00137677
# target 90% 0.00177677
# target 99% 0.0771868
# target 99.9% 0.0797528
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 255381 (100.0 %)
Response Header Sizes : count 255381 avg 75 +/- 0 min 75 max 75 sum 19153575
Response Body/Total Sizes : count 255381 avg 75 +/- 0 min 75 max 75 sum 19153575
All done 255381 calls (plus 32 warmup) 3.765 ms avg, 8497.9 qps
Successfully wrote 5975 bytes of Json data to /data/2018-12-14-071534_http_baseline_0qps_30s_echo_0_9.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-linkerd:8080/echo
07:16:05 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 32 threads at -1.0 qps
07:16:05 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
07:16:35 I periodic.go:533> T030 ended after 30.076566671s : 483 calls. qps=16.05901382572737
07:16:35 I periodic.go:533> T005 ended after 30.076733758s : 474 calls. qps=15.759689992066459
07:16:35 I periodic.go:533> T025 ended after 30.076750835s : 474 calls. qps=15.759681044017933
07:16:35 I periodic.go:533> T006 ended after 30.076762375s : 477 calls. qps=15.859419775729766
07:16:35 I periodic.go:533> T023 ended after 30.076792074s : 477 calls. qps=15.859404115518839
07:16:35 I periodic.go:533> T026 ended after 30.076805735s : 494 calls. qps=16.42461650856555
07:16:35 I periodic.go:533> T017 ended after 30.07681905s : 473 calls. qps=15.72639710381873
07:16:35 I periodic.go:533> T014 ended after 30.076831841s : 479 calls. qps=15.925879511918504
07:16:35 I periodic.go:533> T028 ended after 30.076846315s : 489 calls. qps=16.258353514813976
07:16:35 I periodic.go:533> T010 ended after 30.076883091s : 468 calls. qps=15.560122988277369
07:16:35 I periodic.go:533> T001 ended after 30.076898193s : 482 calls. qps=16.025588706224337
07:16:35 I periodic.go:533> T007 ended after 30.076909373s : 470 calls. qps=15.62660558541026
07:16:35 I periodic.go:533> T027 ended after 30.076920112s : 467 calls. qps=15.526855750555315
07:16:35 I periodic.go:533> T022 ended after 30.076931137s : 507 calls. qps=16.856772976292763
07:16:35 I periodic.go:533> T013 ended after 30.076962426s : 461 calls. qps=15.32734567642007
07:16:35 I periodic.go:533> T004 ended after 30.076984542s : 477 calls. qps=15.859302628357216
07:16:35 I periodic.go:533> T031 ended after 30.076995864s : 496 calls. qps=16.491008684603248
07:16:35 I periodic.go:533> T009 ended after 30.077053106s : 522 calls. qps=17.35542368995809
07:16:35 I periodic.go:533> T002 ended after 30.077064283s : 478 calls. qps=15.892508507559784
07:16:35 I periodic.go:533> T015 ended after 30.077075932s : 480 calls. qps=15.95899817805467
07:16:35 I periodic.go:533> T008 ended after 30.077086058s : 478 calls. qps=15.892497001811785
07:16:35 I periodic.go:533> T018 ended after 30.077116965s : 468 calls. qps=15.56000199568995
07:16:35 I periodic.go:533> T000 ended after 30.077127732s : 471 calls. qps=15.659739992355995
07:16:35 I periodic.go:533> T020 ended after 30.077138348s : 464 calls. qps=15.426999557983349
07:16:35 I periodic.go:533> T029 ended after 30.077149485s : 489 calls. qps=16.258189634754878
07:16:35 I periodic.go:533> T019 ended after 30.07723851s : 476 calls. qps=15.825920981467124
07:16:35 I periodic.go:533> T003 ended after 30.077349863s : 479 calls. qps=15.925605220599818
07:16:35 I periodic.go:533> T021 ended after 30.077368325s : 478 calls. qps=15.892347855536661
07:16:35 I periodic.go:533> T012 ended after 30.077385102s : 498 calls. qps=16.55729041308466
07:16:35 I periodic.go:533> T016 ended after 30.077418926s : 465 calls. qps=15.46010318053047
07:16:35 I periodic.go:533> T024 ended after 30.077437155s : 458 calls. qps=15.227361215643441
07:16:35 I periodic.go:533> T011 ended after 30.077466494s : 488 calls. qps=16.224770796348444
Ended after 30.07751923s : 15340 calls. qps=510.02
Aggregated Function Time : count 15340 avg 0.062732293 +/- 0.05063 min 0.000386201 max 0.19798098 sum 962.313373
# range, mid point, percentile, count
>= 0.000386201 <= 0.0004 , 0.000393101 , 0.01, 2
> 0.0004 <= 0.0005 , 0.00045 , 1.28, 194
> 0.0005 <= 0.0006 , 0.00055 , 2.84, 240
> 0.0006 <= 0.0007 , 0.00065 , 3.72, 134
> 0.0007 <= 0.0008 , 0.00075 , 4.13, 63
> 0.0008 <= 0.0009 , 0.00085 , 4.27, 22
> 0.0009 <= 0.001 , 0.00095 , 4.34, 11
> 0.001 <= 0.0011 , 0.00105 , 4.40, 9
> 0.0011 <= 0.0012 , 0.00115 , 4.54, 21
> 0.0012 <= 0.0014 , 0.0013 , 4.73, 29
> 0.0014 <= 0.0016 , 0.0015 , 5.25, 80
> 0.0016 <= 0.0018 , 0.0017 , 6.59, 206
> 0.0018 <= 0.002 , 0.0019 , 8.45, 285
> 0.002 <= 0.0025 , 0.00225 , 12.48, 619
> 0.0025 <= 0.003 , 0.00275 , 16.69, 646
> 0.003 <= 0.0035 , 0.00325 , 21.22, 694
> 0.0035 <= 0.004 , 0.00375 , 25.79, 701
> 0.004 <= 0.0045 , 0.00425 , 30.70, 753
> 0.0045 <= 0.005 , 0.00475 , 34.22, 541
> 0.005 <= 0.006 , 0.0055 , 38.40, 641
> 0.006 <= 0.007 , 0.0065 , 38.83, 66
> 0.007 <= 0.008 , 0.0075 , 39.07, 37
> 0.008 <= 0.009 , 0.0085 , 39.26, 29
> 0.009 <= 0.01 , 0.0095 , 39.50, 37
> 0.01 <= 0.012 , 0.011 , 39.62, 17
> 0.012 <= 0.014 , 0.013 , 39.63, 2
> 0.04 <= 0.045 , 0.0425 , 39.65, 4
> 0.045 <= 0.05 , 0.0475 , 39.72, 10
> 0.05 <= 0.06 , 0.055 , 40.01, 44
> 0.07 <= 0.08 , 0.075 , 40.22, 32
> 0.08 <= 0.09 , 0.085 , 40.23, 2
> 0.09 <= 0.1 , 0.095 , 86.49, 7096
> 0.1 <= 0.197981 , 0.14899 , 100.00, 2073
# target 50% 0.0921125
# target 75% 0.0975169
# target 90% 0.125476
# target 99% 0.19073
# target 99.9% 0.197256
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 15340 (100.0 %)
Response Header Sizes : count 15340 avg 75 +/- 0 min 75 max 75 sum 1150500
Response Body/Total Sizes : count 15340 avg 75 +/- 0 min 75 max 75 sum 1150500
All done 15340 calls (plus 32 warmup) 62.732 ms avg, 510.0 qps
Successfully wrote 5906 bytes of Json data to /data/2018-12-14-071605_http_linkerd_0qps_30s_echo_0_9.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8080/echo
07:16:35 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 32 threads at -1.0 qps
07:16:35 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
