1.3.1-pre unknown go1.11.2
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
05:00:01 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 500.0 qps
05:00:01 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:00:11 I periodic.go:533> T001 ended after 10.000749831s : 1250 calls. qps=124.99062781525546
05:00:11 I periodic.go:533> T000 ended after 10.001066221s : 1250 calls. qps=124.98667365838253
05:00:11 I periodic.go:533> T003 ended after 10.001149221s : 1250 calls. qps=124.98563638819643
05:00:11 I periodic.go:533> T002 ended after 10.001229968s : 1250 calls. qps=124.98462729079404
Ended after 10.001333908s : 5000 calls. qps=499.93
Sleep times : count 4996 avg 0.0063011901 +/- 0.00117 min -0.003743647 max 0.007551435 sum 31.4807456
Aggregated Function Time : count 5000 avg 0.00094360277 +/- 0.0007178 min 0.000117725 max 0.008297832 sum 4.71801387
# range, mid point, percentile, count
>= 0.000117725 <= 0.0002 , 0.000158863 , 0.32, 16
> 0.0002 <= 0.0003 , 0.00025 , 2.06, 87
> 0.0003 <= 0.0004 , 0.00035 , 11.96, 495
> 0.0004 <= 0.0005 , 0.00045 , 26.82, 743
> 0.0005 <= 0.0006 , 0.00055 , 40.76, 697
> 0.0006 <= 0.0007 , 0.00065 , 49.76, 450
> 0.0007 <= 0.0008 , 0.00075 , 56.54, 339
> 0.0008 <= 0.0009 , 0.00085 , 63.00, 323
> 0.0009 <= 0.001 , 0.00095 , 68.22, 261
> 0.001 <= 0.0011 , 0.00105 , 73.18, 248
> 0.0011 <= 0.0012 , 0.00115 , 76.82, 182
> 0.0012 <= 0.0014 , 0.0013 , 82.22, 270
> 0.0014 <= 0.0016 , 0.0015 , 86.70, 224
> 0.0016 <= 0.0018 , 0.0017 , 90.30, 180
> 0.0018 <= 0.002 , 0.0019 , 92.62, 116
> 0.002 <= 0.0025 , 0.00225 , 96.20, 179
> 0.0025 <= 0.003 , 0.00275 , 98.06, 93
> 0.003 <= 0.0035 , 0.00325 , 98.46, 20
> 0.0035 <= 0.004 , 0.00375 , 99.00, 27
> 0.004 <= 0.0045 , 0.00425 , 99.60, 30
> 0.0045 <= 0.005 , 0.00475 , 99.82, 11
> 0.005 <= 0.006 , 0.0055 , 99.92, 5
> 0.007 <= 0.008 , 0.0075 , 99.94, 1
> 0.008 <= 0.00829783 , 0.00814892 , 100.00, 3
# target 50% 0.00070354
# target 75% 0.00115
# target 90% 0.00178333
# target 99% 0.004
# target 99.9% 0.0058
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
Response Body/Total Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
All done 5000 calls (plus 4 warmup) 0.944 ms avg, 499.9 qps
Successfully wrote 4441 bytes of Json data to /data/2018-11-19-050001_http_baseline_500qps_10s_echo_0_0.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
05:00:11 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 500.0 qps
05:00:11 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:00:21 I periodic.go:533> T003 ended after 10.000999957s : 1250 calls. qps=124.98750178726753
05:00:21 I periodic.go:533> T002 ended after 10.001167785s : 1250 calls. qps=124.98540439195321
05:00:21 I periodic.go:533> T000 ended after 10.001181131s : 1250 calls. qps=124.98523760613212
05:00:21 I periodic.go:533> T001 ended after 10.001191254s : 1250 calls. qps=124.98511109864633
Ended after 10.001202601s : 5000 calls. qps=499.94
Sleep times : count 4996 avg 0.0067346034 +/- 0.001096 min -0.015956528 max 0.007261377 sum 33.6460786
Aggregated Function Time : count 5000 avg 0.0008767524 +/- 0.0005566 min 0.000321093 max 0.017034825 sum 4.383762
# range, mid point, percentile, count
>= 0.000321093 <= 0.0004 , 0.000360547 , 0.02, 1
> 0.0004 <= 0.0005 , 0.00045 , 0.06, 2
> 0.0005 <= 0.0006 , 0.00055 , 1.38, 66
> 0.0006 <= 0.0007 , 0.00065 , 17.90, 826
> 0.0007 <= 0.0008 , 0.00075 , 46.60, 1435
> 0.0008 <= 0.0009 , 0.00085 , 72.24, 1282
> 0.0009 <= 0.001 , 0.00095 , 86.84, 730
> 0.001 <= 0.0011 , 0.00105 , 93.14, 315
> 0.0011 <= 0.0012 , 0.00115 , 95.46, 116
> 0.0012 <= 0.0014 , 0.0013 , 97.36, 95
> 0.0014 <= 0.0016 , 0.0015 , 97.88, 26
> 0.0016 <= 0.0018 , 0.0017 , 98.56, 34
> 0.0018 <= 0.002 , 0.0019 , 98.84, 14
> 0.002 <= 0.0025 , 0.00225 , 99.26, 21
> 0.0025 <= 0.003 , 0.00275 , 99.40, 7
> 0.003 <= 0.0035 , 0.00325 , 99.52, 6
> 0.0035 <= 0.004 , 0.00375 , 99.60, 4
> 0.004 <= 0.0045 , 0.00425 , 99.76, 8
> 0.0045 <= 0.005 , 0.00475 , 99.84, 4
> 0.005 <= 0.006 , 0.0055 , 99.92, 4
> 0.016 <= 0.0170348 , 0.0165174 , 100.00, 4
# target 50% 0.000813261
# target 75% 0.000918904
# target 90% 0.00105016
# target 99% 0.00219048
# target 99.9% 0.00575
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
Response Body/Total Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
All done 5000 calls (plus 4 warmup) 0.877 ms avg, 499.9 qps
Successfully wrote 4098 bytes of Json data to /data/2018-11-19-050011_http_linkerd_500qps_10s_echo_0_0.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
05:00:21 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 500.0 qps
05:00:21 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:00:31 I periodic.go:533> T003 ended after 10.0019534s : 1250 calls. qps=124.97558726878292
05:00:31 I periodic.go:533> T000 ended after 10.002048187s : 1250 calls. qps=124.97440290526367
05:00:31 I periodic.go:533> T001 ended after 10.00206196s : 1250 calls. qps=124.97423081350317
05:00:31 I periodic.go:533> T002 ended after 10.002073735s : 1250 calls. qps=124.97408368685657
Ended after 10.002104873s : 5000 calls. qps=499.89
Sleep times : count 4996 avg 0.0061087286 +/- 0.0006393 min -0.000346136 max 0.007096414 sum 30.5192079
Aggregated Function Time : count 5000 avg 0.0015840941 +/- 0.0006033 min 0.000762583 max 0.008040123 sum 7.92047074
# range, mid point, percentile, count
>= 0.000762583 <= 0.0008 , 0.000781291 , 0.04, 2
> 0.0008 <= 0.0009 , 0.00085 , 0.26, 11
> 0.0009 <= 0.001 , 0.00095 , 0.42, 8
> 0.001 <= 0.0011 , 0.00105 , 0.62, 10
> 0.0011 <= 0.0012 , 0.00115 , 3.00, 119
> 0.0012 <= 0.0014 , 0.0013 , 46.30, 2165
> 0.0014 <= 0.0016 , 0.0015 , 75.92, 1481
> 0.0016 <= 0.0018 , 0.0017 , 84.30, 419
> 0.0018 <= 0.002 , 0.0019 , 89.68, 269
> 0.002 <= 0.0025 , 0.00225 , 95.92, 312
> 0.0025 <= 0.003 , 0.00275 , 96.62, 35
> 0.003 <= 0.0035 , 0.00325 , 97.22, 30
> 0.0035 <= 0.004 , 0.00375 , 98.48, 63
> 0.004 <= 0.0045 , 0.00425 , 98.86, 19
> 0.0045 <= 0.005 , 0.00475 , 99.50, 32
> 0.005 <= 0.006 , 0.0055 , 99.84, 17
> 0.007 <= 0.008 , 0.0075 , 99.98, 7
> 0.008 <= 0.00804012 , 0.00802006 , 100.00, 1
# target 50% 0.00142498
# target 75% 0.00159379
# target 90% 0.00202564
# target 99% 0.00460938
# target 99.9% 0.00742857
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 209 +/- 0 min 209 max 209 sum 1045000
Response Body/Total Sizes : count 5000 avg 209 +/- 0 min 209 max 209 sum 1045000
All done 5000 calls (plus 4 warmup) 1.584 ms avg, 499.9 qps
Successfully wrote 3734 bytes of Json data to /data/2018-11-19-050021_http_istio_500qps_10s_echo_0_0.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
05:00:31 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:00:41 I periodic.go:533> T000 ended after 10.001172819s : 1250 calls. qps=124.98534148167887
05:00:41 I periodic.go:533> T003 ended after 10.001270288s : 1250 calls. qps=124.9841234167833
05:00:41 I periodic.go:533> T001 ended after 10.001298138s : 1250 calls. qps=124.98377538117943
05:00:41 I periodic.go:533> T002 ended after 10.001378923s : 1250 calls. qps=124.9827658389581
Ended after 10.001392446s : 5000 calls. qps=499.93
Sleep times : count 4996 avg 0.0067864263 +/- 0.0004374 min 0.002485461 max 0.0073161 sum 33.9049859
Aggregated Function Time : count 5000 avg 0.00088702534 +/- 0.0003357 min 0.000379494 max 0.004910424 sum 4.43512669
# range, mid point, percentile, count
>= 0.000379494 <= 0.0004 , 0.000389747 , 0.04, 2
> 0.0004 <= 0.0005 , 0.00045 , 0.18, 7
> 0.0005 <= 0.0006 , 0.00055 , 1.94, 88
> 0.0006 <= 0.0007 , 0.00065 , 13.72, 589
> 0.0007 <= 0.0008 , 0.00075 , 41.40, 1384
> 0.0008 <= 0.0009 , 0.00085 , 71.10, 1485
> 0.0009 <= 0.001 , 0.00095 , 87.30, 810
> 0.001 <= 0.0011 , 0.00105 , 92.96, 283
> 0.0011 <= 0.0012 , 0.00115 , 94.62, 83
> 0.0012 <= 0.0014 , 0.0013 , 95.82, 60
> 0.0014 <= 0.0016 , 0.0015 , 96.18, 18
> 0.0016 <= 0.0018 , 0.0017 , 96.78, 30
> 0.0018 <= 0.002 , 0.0019 , 97.50, 36
> 0.002 <= 0.0025 , 0.00225 , 99.22, 86
> 0.0025 <= 0.003 , 0.00275 , 99.62, 20
> 0.003 <= 0.0035 , 0.00325 , 99.72, 5
> 0.0035 <= 0.004 , 0.00375 , 99.80, 4
> 0.004 <= 0.0045 , 0.00425 , 99.90, 5
> 0.0045 <= 0.00491042 , 0.00470521 , 100.00, 5
# target 50% 0.000828956
# target 75% 0.000924074
# target 90% 0.0010477
# target 99% 0.00243605
# target 99.9% 0.0045
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 0.887 ms avg, 499.9 qps
Successfully wrote 3349 bytes of Json data to /data/2018-11-19-050031_grpc_baseline_500qps_10s_echo_0_0.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
05:00:41 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:00:51 I periodic.go:533> T002 ended after 10.001571834s : 1250 calls. qps=124.9803551628423
05:00:51 I periodic.go:533> T000 ended after 10.003969332s : 1250 calls. qps=124.95040303668135
05:00:51 I periodic.go:533> T003 ended after 10.005464435s : 1250 calls. qps=124.93173186717743
05:00:51 I periodic.go:533> T001 ended after 10.005514231s : 1250 calls. qps=124.93111009998223
Ended after 10.005530257s : 5000 calls. qps=499.72
Sleep times : count 4996 avg 0.0063591673 +/- 0.000424 min 0.002111347 max 0.006964242 sum 31.7703996
Aggregated Function Time : count 5000 avg 0.0013119569 +/- 0.0003563 min 0.000815559 max 0.005371815 sum 6.55978473
# range, mid point, percentile, count
>= 0.000815559 <= 0.0009 , 0.00085778 , 0.56, 28
> 0.0009 <= 0.001 , 0.00095 , 4.84, 214
> 0.001 <= 0.0011 , 0.00105 , 17.18, 617
> 0.0011 <= 0.0012 , 0.00115 , 37.70, 1026
> 0.0012 <= 0.0014 , 0.0013 , 77.02, 1966
> 0.0014 <= 0.0016 , 0.0015 , 92.92, 795
> 0.0016 <= 0.0018 , 0.0017 , 95.98, 153
> 0.0018 <= 0.002 , 0.0019 , 96.96, 49
> 0.002 <= 0.0025 , 0.00225 , 98.58, 81
> 0.0025 <= 0.003 , 0.00275 , 99.20, 31
> 0.003 <= 0.0035 , 0.00325 , 99.46, 13
> 0.0035 <= 0.004 , 0.00375 , 99.52, 3
> 0.004 <= 0.0045 , 0.00425 , 99.78, 13
> 0.0045 <= 0.005 , 0.00475 , 99.82, 2
> 0.005 <= 0.00537182 , 0.00518591 , 100.00, 9
# target 50% 0.00126256
# target 75% 0.00138973
# target 90% 0.00156327
# target 99% 0.00283871
# target 99.9% 0.00516525
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 1.312 ms avg, 499.7 qps
Successfully wrote 2878 bytes of Json data to /data/2018-11-19-050041_grpc_linkerd_500qps_10s_echo_0_0.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8079
05:00:51 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:01:01 I periodic.go:533> T002 ended after 10.001581865s : 1250 calls. qps=124.98022981487638
05:01:01 I periodic.go:533> T001 ended after 10.002639479s : 1250 calls. qps=124.96701521876373
05:01:01 I periodic.go:533> T000 ended after 10.00296942s : 1250 calls. qps=124.96289326854706
05:01:01 I periodic.go:533> T003 ended after 10.00306609s : 1250 calls. qps=124.96168562253295
Ended after 10.00317384s : 5000 calls. qps=499.84
Sleep times : count 4996 avg 0.0058648504 +/- 0.0007085 min 0.000432983 max 0.006837298 sum 29.3007927
Aggregated Function Time : count 5000 avg 0.0018230107 +/- 0.0006872 min 0.0008947 max 0.0074077 sum 9.11505349
# range, mid point, percentile, count
>= 0.0008947 <= 0.0009 , 0.00089735 , 0.02, 1
> 0.0009 <= 0.001 , 0.00095 , 1.26, 62
> 0.001 <= 0.0011 , 0.00105 , 7.78, 326
> 0.0011 <= 0.0012 , 0.00115 , 15.54, 388
> 0.0012 <= 0.0014 , 0.0013 , 20.80, 263
> 0.0014 <= 0.0016 , 0.0015 , 26.60, 290
> 0.0016 <= 0.0018 , 0.0017 , 56.18, 1479
> 0.0018 <= 0.002 , 0.0019 , 80.12, 1197
> 0.002 <= 0.0025 , 0.00225 , 92.60, 624
> 0.0025 <= 0.003 , 0.00275 , 96.24, 182
> 0.003 <= 0.0035 , 0.00325 , 96.92, 34
> 0.0035 <= 0.004 , 0.00375 , 97.92, 50
> 0.004 <= 0.0045 , 0.00425 , 98.42, 25
> 0.0045 <= 0.005 , 0.00475 , 98.80, 19
> 0.005 <= 0.006 , 0.0055 , 99.58, 39
> 0.006 <= 0.007 , 0.0065 , 99.94, 18
> 0.007 <= 0.0074077 , 0.00720385 , 100.00, 3
# target 50% 0.00175822
# target 75% 0.00195723
# target 90% 0.00239583
# target 99% 0.00525641
# target 99.9% 0.00688889
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 1.823 ms avg, 499.8 qps
Successfully wrote 3076 bytes of Json data to /data/2018-11-19-050051_grpc_istio_500qps_10s_echo_0_0.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
05:01:01 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 500.0 qps
05:01:01 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:01:11 I periodic.go:533> T002 ended after 10.000677898s : 1250 calls. qps=124.9915268493932
05:01:11 I periodic.go:533> T000 ended after 10.001067485s : 1250 calls. qps=124.98665786175324
05:01:11 I periodic.go:533> T003 ended after 10.003227154s : 1250 calls. qps=124.95967358895388
05:01:11 I periodic.go:533> T001 ended after 10.003284796s : 1250 calls. qps=124.95895353292707
Ended after 10.003300437s : 5000 calls. qps=499.84
Sleep times : count 4996 avg 0.0071815668 +/- 0.000352 min 0.001524726 max 0.007609496 sum 35.8791077
Aggregated Function Time : count 5000 avg 0.00052331326 +/- 0.0002925 min 0.000123891 max 0.006305886 sum 2.61656631
# range, mid point, percentile, count
>= 0.000123891 <= 0.0002 , 0.000161945 , 0.20, 10
> 0.0002 <= 0.0003 , 0.00025 , 3.08, 144
> 0.0003 <= 0.0004 , 0.00035 , 22.04, 948
> 0.0004 <= 0.0005 , 0.00045 , 56.10, 1703
> 0.0005 <= 0.0006 , 0.00055 , 82.08, 1299
> 0.0006 <= 0.0007 , 0.00065 , 92.98, 545
> 0.0007 <= 0.0008 , 0.00075 , 96.26, 164
> 0.0008 <= 0.0009 , 0.00085 , 97.56, 65
> 0.0009 <= 0.001 , 0.00095 , 97.92, 18
> 0.001 <= 0.0011 , 0.00105 , 97.98, 3
> 0.0011 <= 0.0012 , 0.00115 , 98.12, 7
> 0.0012 <= 0.0014 , 0.0013 , 98.36, 12
> 0.0014 <= 0.0016 , 0.0015 , 98.58, 11
> 0.0016 <= 0.0018 , 0.0017 , 98.78, 10
> 0.0018 <= 0.002 , 0.0019 , 99.16, 19
> 0.002 <= 0.0025 , 0.00225 , 99.48, 16
> 0.0025 <= 0.003 , 0.00275 , 99.84, 18
> 0.003 <= 0.0035 , 0.00325 , 99.88, 2
> 0.0045 <= 0.005 , 0.00475 , 99.90, 1
> 0.005 <= 0.006 , 0.0055 , 99.98, 4
> 0.006 <= 0.00630589 , 0.00615294 , 100.00, 1
# target 50% 0.00048209
# target 75% 0.000572748
# target 90% 0.000672661
# target 99% 0.00191579
# target 99.9% 0.005
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
Response Body/Total Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
All done 5000 calls (plus 4 warmup) 0.523 ms avg, 499.8 qps
Successfully wrote 4098 bytes of Json data to /data/2018-11-19-050101_http_baseline_500qps_10s_echo_1_0.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
05:01:11 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 500.0 qps
05:01:11 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:01:21 I periodic.go:533> T003 ended after 10.000966123s : 1250 calls. qps=124.98792462912935
05:01:21 I periodic.go:533> T002 ended after 10.001399883s : 1250 calls. qps=124.98250391174766
05:01:21 I periodic.go:533> T000 ended after 10.003503318s : 1250 calls. qps=124.95622386117351
05:01:21 I periodic.go:533> T001 ended after 10.003587737s : 1250 calls. qps=124.95516937155044
Ended after 10.003602823s : 5000 calls. qps=499.82
Sleep times : count 4996 avg 0.0067118888 +/- 0.001516 min -0.024783425 max 0.007254403 sum 33.5325967
Aggregated Function Time : count 5000 avg 0.00091581586 +/- 0.0008227 min 0.000369249 max 0.027319954 sum 4.57907932
# range, mid point, percentile, count
>= 0.000369249 <= 0.0004 , 0.000384625 , 0.02, 1
> 0.0005 <= 0.0006 , 0.00055 , 0.42, 20
> 0.0006 <= 0.0007 , 0.00065 , 8.94, 426
> 0.0007 <= 0.0008 , 0.00075 , 36.34, 1370
> 0.0008 <= 0.0009 , 0.00085 , 68.02, 1584
> 0.0009 <= 0.001 , 0.00095 , 87.32, 965
> 0.001 <= 0.0011 , 0.00105 , 93.88, 328
> 0.0011 <= 0.0012 , 0.00115 , 96.06, 109
> 0.0012 <= 0.0014 , 0.0013 , 97.10, 52
> 0.0014 <= 0.0016 , 0.0015 , 97.60, 25
> 0.0016 <= 0.0018 , 0.0017 , 98.20, 30
> 0.0018 <= 0.002 , 0.0019 , 98.50, 15
> 0.002 <= 0.0025 , 0.00225 , 98.84, 17
> 0.0025 <= 0.003 , 0.00275 , 99.14, 15
> 0.003 <= 0.0035 , 0.00325 , 99.50, 18
> 0.0035 <= 0.004 , 0.00375 , 99.60, 5
> 0.004 <= 0.0045 , 0.00425 , 99.74, 7
> 0.0045 <= 0.005 , 0.00475 , 99.82, 4
> 0.005 <= 0.006 , 0.0055 , 99.92, 5
> 0.025 <= 0.02732 , 0.02616 , 100.00, 4
# target 50% 0.000843119
# target 75% 0.000936166
# target 90% 0.00104085
# target 99% 0.00276667
# target 99.9% 0.0058
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
Response Body/Total Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
All done 5000 calls (plus 4 warmup) 0.916 ms avg, 499.8 qps
Successfully wrote 3989 bytes of Json data to /data/2018-11-19-050111_http_linkerd_500qps_10s_echo_1_0.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
05:01:22 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 500.0 qps
05:01:22 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:01:32 I periodic.go:533> T001 ended after 10.00169585s : 1250 calls. qps=124.97880546927448
05:01:32 I periodic.go:533> T002 ended after 10.002445277s : 1250 calls. qps=124.96944150989731
05:01:32 I periodic.go:533> T000 ended after 10.002647486s : 1250 calls. qps=124.96691518415867
05:01:32 I periodic.go:533> T003 ended after 10.002724156s : 1250 calls. qps=124.96595732375609
Ended after 10.002785638s : 5000 calls. qps=499.86
Sleep times : count 4996 avg 0.0060911689 +/- 0.0007081 min -0.003582537 max 0.007193393 sum 30.4314799
Aggregated Function Time : count 5000 avg 0.0016141096 +/- 0.0006646 min 0.000646812 max 0.011416333 sum 8.07054798
# range, mid point, percentile, count
>= 0.000646812 <= 0.0007 , 0.000673406 , 0.02, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.04, 1
> 0.0008 <= 0.0009 , 0.00085 , 0.22, 9
> 0.0009 <= 0.001 , 0.00095 , 0.46, 12
> 0.001 <= 0.0011 , 0.00105 , 0.56, 5
> 0.0011 <= 0.0012 , 0.00115 , 2.06, 75
> 0.0012 <= 0.0014 , 0.0013 , 40.76, 1935
> 0.0014 <= 0.0016 , 0.0015 , 73.86, 1655
> 0.0016 <= 0.0018 , 0.0017 , 84.34, 524
> 0.0018 <= 0.002 , 0.0019 , 90.42, 304
> 0.002 <= 0.0025 , 0.00225 , 94.84, 221
> 0.0025 <= 0.003 , 0.00275 , 96.18, 67
> 0.003 <= 0.0035 , 0.00325 , 97.04, 43
> 0.0035 <= 0.004 , 0.00375 , 98.46, 71
> 0.004 <= 0.0045 , 0.00425 , 98.84, 19
> 0.0045 <= 0.005 , 0.00475 , 99.10, 13
> 0.005 <= 0.006 , 0.0055 , 99.68, 29
> 0.006 <= 0.007 , 0.0065 , 99.90, 11
> 0.007 <= 0.008 , 0.0075 , 99.92, 1
> 0.01 <= 0.0114163 , 0.0107082 , 100.00, 4
# target 50% 0.00145583
# target 75% 0.00162176
# target 90% 0.00198618
# target 99% 0.00480769
# target 99.9% 0.007
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 209 +/- 0 min 209 max 209 sum 1045000
Response Body/Total Sizes : count 5000 avg 209 +/- 0 min 209 max 209 sum 1045000
All done 5000 calls (plus 4 warmup) 1.614 ms avg, 499.9 qps
Successfully wrote 3946 bytes of Json data to /data/2018-11-19-050122_http_istio_500qps_10s_echo_1_0.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
05:01:32 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:01:42 I periodic.go:533> T003 ended after 10.001098242s : 1250 calls. qps=124.9862734825038
05:01:42 I periodic.go:533> T000 ended after 10.003881151s : 1250 calls. qps=124.95150443436131
05:01:42 I periodic.go:533> T001 ended after 10.003986867s : 1250 calls. qps=124.95018402346729
05:01:42 I periodic.go:533> T002 ended after 10.004018597s : 1250 calls. qps=124.94978771579346
Ended after 10.004050284s : 5000 calls. qps=499.8
Sleep times : count 4996 avg 0.006776636 +/- 0.0004781 min 0.00156968 max 0.007307985 sum 33.8560733
Aggregated Function Time : count 5000 avg 0.00089907267 +/- 0.000393 min 0.000310504 max 0.006168421 sum 4.49536333
# range, mid point, percentile, count
>= 0.000310504 <= 0.0004 , 0.000355252 , 0.02, 1
> 0.0004 <= 0.0005 , 0.00045 , 0.24, 11
> 0.0005 <= 0.0006 , 0.00055 , 2.10, 93
> 0.0006 <= 0.0007 , 0.00065 , 13.70, 580
> 0.0007 <= 0.0008 , 0.00075 , 40.38, 1334
> 0.0008 <= 0.0009 , 0.00085 , 67.74, 1368
> 0.0009 <= 0.001 , 0.00095 , 85.22, 874
> 0.001 <= 0.0011 , 0.00105 , 91.86, 332
> 0.0011 <= 0.0012 , 0.00115 , 94.40, 127
> 0.0012 <= 0.0014 , 0.0013 , 95.96, 78
> 0.0014 <= 0.0016 , 0.0015 , 96.78, 41
> 0.0016 <= 0.0018 , 0.0017 , 97.50, 36
> 0.0018 <= 0.002 , 0.0019 , 98.10, 30
> 0.002 <= 0.0025 , 0.00225 , 98.98, 44
> 0.0025 <= 0.003 , 0.00275 , 99.06, 4
> 0.003 <= 0.0035 , 0.00325 , 99.26, 10
> 0.0035 <= 0.004 , 0.00375 , 99.52, 13
> 0.004 <= 0.0045 , 0.00425 , 99.72, 10
> 0.0045 <= 0.005 , 0.00475 , 99.92, 10
> 0.005 <= 0.006 , 0.0055 , 99.94, 1
> 0.006 <= 0.00616842 , 0.00608421 , 100.00, 3
# target 50% 0.000835161
# target 75% 0.000941533
# target 90% 0.00107199
# target 99% 0.002625
# target 99.9% 0.00495
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 0.899 ms avg, 499.8 qps
Successfully wrote 3568 bytes of Json data to /data/2018-11-19-050132_grpc_baseline_500qps_10s_echo_1_0.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
05:01:42 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:01:52 I periodic.go:533> T001 ended after 10.001762965s : 1250 calls. qps=124.9779668218722
05:01:52 I periodic.go:533> T002 ended after 10.004274834s : 1250 calls. qps=124.94658740799643
05:01:52 I periodic.go:533> T000 ended after 10.004314675s : 1250 calls. qps=124.94608982298931
05:01:52 I periodic.go:533> T003 ended after 10.006525786s : 1250 calls. qps=124.91848087263801
Ended after 10.006564664s : 5000 calls. qps=499.67
Sleep times : count 4996 avg 0.0064049572 +/- 0.0004879 min 0.001558952 max 0.007003433 sum 31.9991663
Aggregated Function Time : count 5000 avg 0.0012727895 +/- 0.0004016 min 0.000606527 max 0.006212938 sum 6.36394773
# range, mid point, percentile, count
>= 0.000606527 <= 0.0007 , 0.000653264 , 0.02, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.10, 4
> 0.0008 <= 0.0009 , 0.00085 , 1.34, 62
> 0.0009 <= 0.001 , 0.00095 , 9.30, 398
> 0.001 <= 0.0011 , 0.00105 , 26.66, 868
> 0.0011 <= 0.0012 , 0.00115 , 49.32, 1133
> 0.0012 <= 0.0014 , 0.0013 , 82.56, 1662
> 0.0014 <= 0.0016 , 0.0015 , 94.34, 589
> 0.0016 <= 0.0018 , 0.0017 , 96.08, 87
> 0.0018 <= 0.002 , 0.0019 , 96.84, 38
> 0.002 <= 0.0025 , 0.00225 , 98.28, 72
> 0.0025 <= 0.003 , 0.00275 , 98.98, 35
> 0.003 <= 0.0035 , 0.00325 , 99.26, 14
> 0.0035 <= 0.004 , 0.00375 , 99.40, 7
> 0.004 <= 0.0045 , 0.00425 , 99.70, 15
> 0.0045 <= 0.005 , 0.00475 , 99.74, 2
> 0.005 <= 0.006 , 0.0055 , 99.94, 10
> 0.006 <= 0.00621294 , 0.00610647 , 100.00, 3
# target 50% 0.00120409
# target 75% 0.00135451
# target 90% 0.00152632
# target 99% 0.00303571
# target 99.9% 0.0058
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 1.273 ms avg, 499.7 qps
Successfully wrote 3201 bytes of Json data to /data/2018-11-19-050142_grpc_linkerd_500qps_10s_echo_1_0.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8079
05:01:52 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:02:02 I periodic.go:533> T003 ended after 10.001495916s : 1250 calls. qps=124.98130384678748
05:02:02 I periodic.go:533> T001 ended after 10.002314874s : 1250 calls. qps=124.97107077175184
05:02:02 I periodic.go:533> T000 ended after 10.002647603s : 1250 calls. qps=124.96691372243278
05:02:02 I periodic.go:533> T002 ended after 10.002724399s : 1250 calls. qps=124.96595428791039
Ended after 10.002796105s : 5000 calls. qps=499.86
Sleep times : count 4996 avg 0.0058288055 +/- 0.0007626 min -0.002533563 max 0.00697258 sum 29.120712
Aggregated Function Time : count 5000 avg 0.0018498273 +/- 0.0007143 min 0.000850541 max 0.01035027 sum 9.24913646
# range, mid point, percentile, count
>= 0.000850541 <= 0.0009 , 0.00087527 , 0.12, 6
> 0.0009 <= 0.001 , 0.00095 , 1.22, 55
> 0.001 <= 0.0011 , 0.00105 , 7.12, 295
> 0.0011 <= 0.0012 , 0.00115 , 13.50, 319
> 0.0012 <= 0.0014 , 0.0013 , 19.90, 320
> 0.0014 <= 0.0016 , 0.0015 , 27.10, 360
> 0.0016 <= 0.0018 , 0.0017 , 53.52, 1321
> 0.0018 <= 0.002 , 0.0019 , 75.42, 1095
> 0.002 <= 0.0025 , 0.00225 , 92.24, 841
> 0.0025 <= 0.003 , 0.00275 , 95.68, 172
> 0.003 <= 0.0035 , 0.00325 , 96.94, 63
> 0.0035 <= 0.004 , 0.00375 , 98.00, 53
> 0.004 <= 0.0045 , 0.00425 , 98.78, 39
> 0.0045 <= 0.005 , 0.00475 , 99.10, 16
> 0.005 <= 0.006 , 0.0055 , 99.52, 21
> 0.006 <= 0.007 , 0.0065 , 99.76, 12
> 0.007 <= 0.008 , 0.0075 , 99.84, 4
> 0.008 <= 0.009 , 0.0085 , 99.92, 4
> 0.009 <= 0.01 , 0.0095 , 99.94, 1
> 0.01 <= 0.0103503 , 0.0101751 , 100.00, 3
# target 50% 0.00177335
# target 75% 0.00199616
# target 90% 0.00243341
# target 99% 0.00484375
# target 99.9% 0.00875
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 1.850 ms avg, 499.9 qps
Successfully wrote 3427 bytes of Json data to /data/2018-11-19-050152_grpc_istio_500qps_10s_echo_1_0.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
05:02:02 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 500.0 qps
05:02:02 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:02:12 I periodic.go:533> T002 ended after 10.000544826s : 1250 calls. qps=124.993190046024
05:02:12 I periodic.go:533> T003 ended after 10.000920985s : 1250 calls. qps=124.98848874766907
05:02:12 I periodic.go:533> T001 ended after 10.003223741s : 1250 calls. qps=124.95971622394606
05:02:12 I periodic.go:533> T000 ended after 10.003257962s : 1250 calls. qps=124.95928873857427
Ended after 10.003272849s : 5000 calls. qps=499.84
Sleep times : count 4996 avg 0.0072129032 +/- 0.00037 min 0.00321428 max 0.007597738 sum 36.0356646
Aggregated Function Time : count 5000 avg 0.00046808766 +/- 0.0002625 min 0.000129968 max 0.004230344 sum 2.34043828
# range, mid point, percentile, count
>= 0.000129968 <= 0.0002 , 0.000164984 , 0.30, 15
> 0.0002 <= 0.0003 , 0.00025 , 7.34, 352
> 0.0003 <= 0.0004 , 0.00035 , 40.72, 1669
> 0.0004 <= 0.0005 , 0.00045 , 72.82, 1605
> 0.0005 <= 0.0006 , 0.00055 , 89.48, 833
> 0.0006 <= 0.0007 , 0.00065 , 95.30, 291
> 0.0007 <= 0.0008 , 0.00075 , 96.84, 77
> 0.0008 <= 0.0009 , 0.00085 , 97.66, 41
> 0.0009 <= 0.001 , 0.00095 , 98.06, 20
> 0.001 <= 0.0011 , 0.00105 , 98.36, 15
> 0.0011 <= 0.0012 , 0.00115 , 98.56, 10
> 0.0012 <= 0.0014 , 0.0013 , 98.94, 19
> 0.0014 <= 0.0016 , 0.0015 , 99.16, 11
> 0.0016 <= 0.0018 , 0.0017 , 99.24, 4
> 0.0018 <= 0.002 , 0.0019 , 99.50, 13
> 0.002 <= 0.0025 , 0.00225 , 99.54, 2
> 0.0025 <= 0.003 , 0.00275 , 99.70, 8
> 0.003 <= 0.0035 , 0.00325 , 99.74, 2
> 0.0035 <= 0.004 , 0.00375 , 99.98, 12
> 0.004 <= 0.00423034 , 0.00411517 , 100.00, 1
# target 50% 0.00042891
# target 75% 0.000513085
# target 90% 0.000608935
# target 99% 0.00145455
# target 99.9% 0.00383333
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
Response Body/Total Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
All done 5000 calls (plus 4 warmup) 0.468 ms avg, 499.8 qps
Successfully wrote 3994 bytes of Json data to /data/2018-11-19-050202_http_baseline_500qps_10s_echo_0_1.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
05:02:12 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 500.0 qps
05:02:12 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:02:22 I periodic.go:533> T002 ended after 10.000931358s : 1250 calls. qps=124.98835910918368
05:02:22 I periodic.go:533> T003 ended after 10.001459911s : 1250 calls. qps=124.98175377628628
05:02:22 I periodic.go:533> T000 ended after 10.003613406s : 1250 calls. qps=124.95484873998339
05:02:22 I periodic.go:533> T001 ended after 10.003642632s : 1250 calls. qps=124.9544836799204
Ended after 10.003683991s : 5000 calls. qps=499.82
Sleep times : count 4996 avg 0.0066150366 +/- 0.002223 min -0.02602619 max 0.007244835 sum 33.0487229
Aggregated Function Time : count 5000 avg 0.00093235575 +/- 0.001055 min 0.000477421 max 0.031031501 sum 4.66177875
# range, mid point, percentile, count
>= 0.000477421 <= 0.0005 , 0.000488711 , 0.04, 2
> 0.0005 <= 0.0006 , 0.00055 , 0.52, 24
> 0.0006 <= 0.0007 , 0.00065 , 11.70, 559
> 0.0007 <= 0.0008 , 0.00075 , 39.62, 1396
> 0.0008 <= 0.0009 , 0.00085 , 68.68, 1453
> 0.0009 <= 0.001 , 0.00095 , 86.72, 902
> 0.001 <= 0.0011 , 0.00105 , 93.48, 338
> 0.0011 <= 0.0012 , 0.00115 , 95.46, 99
> 0.0012 <= 0.0014 , 0.0013 , 96.82, 68
> 0.0014 <= 0.0016 , 0.0015 , 97.66, 42
> 0.0016 <= 0.0018 , 0.0017 , 98.18, 26
> 0.0018 <= 0.002 , 0.0019 , 98.36, 9
> 0.002 <= 0.0025 , 0.00225 , 98.76, 20
> 0.0025 <= 0.003 , 0.00275 , 98.84, 4
> 0.003 <= 0.0035 , 0.00325 , 99.18, 17
> 0.0035 <= 0.004 , 0.00375 , 99.32, 7
> 0.004 <= 0.0045 , 0.00425 , 99.50, 9
> 0.0045 <= 0.005 , 0.00475 , 99.66, 8
> 0.005 <= 0.006 , 0.0055 , 99.82, 8
> 0.007 <= 0.008 , 0.0075 , 99.84, 1
> 0.014 <= 0.016 , 0.015 , 99.86, 1
> 0.016 <= 0.018 , 0.017 , 99.88, 1
> 0.025 <= 0.03 , 0.0275 , 99.98, 5
> 0.03 <= 0.0310315 , 0.0305158 , 100.00, 1
# target 50% 0.000835719
# target 75% 0.000935033
# target 90% 0.00104852
# target 99% 0.00323529
# target 99.9% 0.026
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
Response Body/Total Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
All done 5000 calls (plus 4 warmup) 0.932 ms avg, 499.8 qps
Successfully wrote 4464 bytes of Json data to /data/2018-11-19-050212_http_linkerd_500qps_10s_echo_0_1.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
05:02:22 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 500.0 qps
05:02:22 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:02:32 I periodic.go:533> T002 ended after 10.002313418s : 1250 calls. qps=124.97108896333127
05:02:32 I periodic.go:533> T001 ended after 10.002942778s : 1250 calls. qps=124.96322609674336
05:02:32 I periodic.go:533> T000 ended after 10.003142035s : 1250 calls. qps=124.96073689910372
05:02:32 I periodic.go:533> T003 ended after 10.003175454s : 1250 calls. qps=124.96031942538393
Ended after 10.003197885s : 5000 calls. qps=499.84
Sleep times : count 4996 avg 0.0060380312 +/- 0.001354 min -0.019455442 max 0.007057729 sum 30.1660037
Aggregated Function Time : count 5000 avg 0.0016236077 +/- 0.0008843 min 0.000829188 max 0.01849459 sum 8.11803851
# range, mid point, percentile, count
>= 0.000829188 <= 0.0009 , 0.000864594 , 0.18, 9
> 0.0009 <= 0.001 , 0.00095 , 0.38, 10
> 0.001 <= 0.0011 , 0.00105 , 0.46, 4
> 0.0011 <= 0.0012 , 0.00115 , 3.40, 147
> 0.0012 <= 0.0014 , 0.0013 , 44.20, 2040
> 0.0014 <= 0.0016 , 0.0015 , 73.50, 1465
> 0.0016 <= 0.0018 , 0.0017 , 82.80, 465
> 0.0018 <= 0.002 , 0.0019 , 87.42, 231
> 0.002 <= 0.0025 , 0.00225 , 95.58, 408
> 0.0025 <= 0.003 , 0.00275 , 96.82, 62
> 0.003 <= 0.0035 , 0.00325 , 97.98, 58
> 0.0035 <= 0.004 , 0.00375 , 98.74, 38
> 0.004 <= 0.0045 , 0.00425 , 98.86, 6
> 0.0045 <= 0.005 , 0.00475 , 99.14, 14
> 0.005 <= 0.006 , 0.0055 , 99.54, 20
> 0.007 <= 0.008 , 0.0075 , 99.80, 13
> 0.01 <= 0.012 , 0.011 , 99.82, 1
> 0.014 <= 0.016 , 0.015 , 99.92, 5
> 0.018 <= 0.0184946 , 0.0182473 , 100.00, 4
# target 50% 0.00143959
# target 75% 0.00163226
# target 90% 0.00215809
# target 99% 0.00475
# target 99.9% 0.0156
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 209.0018 +/- 0.04239 min 209 max 210 sum 1045009
Response Body/Total Sizes : count 5000 avg 209.0018 +/- 0.04239 min 209 max 210 sum 1045009
All done 5000 calls (plus 4 warmup) 1.624 ms avg, 499.8 qps
Successfully wrote 3904 bytes of Json data to /data/2018-11-19-050222_http_istio_500qps_10s_echo_0_1.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
05:02:32 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:02:42 I periodic.go:533> T001 ended after 10.000769509s : 1250 calls. qps=124.99038187762318
05:02:42 I periodic.go:533> T002 ended after 10.003584688s : 1250 calls. qps=124.95520745672924
05:02:42 I periodic.go:533> T003 ended after 10.003837806s : 1250 calls. qps=124.95204582888057
05:02:42 I periodic.go:533> T000 ended after 10.003879015s : 1250 calls. qps=124.9515311136537
Ended after 10.003912962s : 5000 calls. qps=499.8
Sleep times : count 4996 avg 0.0067890454 +/- 0.0004969 min 0.002204488 max 0.007385327 sum 33.9180706
Aggregated Function Time : count 5000 avg 0.00087711989 +/- 0.0003695 min 0.000414844 max 0.004968808 sum 4.38559947
# range, mid point, percentile, count
>= 0.000414844 <= 0.0005 , 0.000457422 , 0.38, 19
> 0.0005 <= 0.0006 , 0.00055 , 3.46, 154
> 0.0006 <= 0.0007 , 0.00065 , 17.04, 679
> 0.0007 <= 0.0008 , 0.00075 , 44.68, 1382
> 0.0008 <= 0.0009 , 0.00085 , 73.00, 1416
> 0.0009 <= 0.001 , 0.00095 , 87.42, 721
> 0.001 <= 0.0011 , 0.00105 , 92.92, 275
> 0.0011 <= 0.0012 , 0.00115 , 94.92, 100
> 0.0012 <= 0.0014 , 0.0013 , 96.34, 71
> 0.0014 <= 0.0016 , 0.0015 , 96.80, 23
> 0.0016 <= 0.0018 , 0.0017 , 97.10, 15
> 0.0018 <= 0.002 , 0.0019 , 98.16, 53
> 0.002 <= 0.0025 , 0.00225 , 99.04, 44
> 0.0025 <= 0.003 , 0.00275 , 99.30, 13
> 0.003 <= 0.0035 , 0.00325 , 99.42, 6
> 0.0035 <= 0.004 , 0.00375 , 99.52, 5
> 0.004 <= 0.0045 , 0.00425 , 99.78, 13
> 0.0045 <= 0.00496881 , 0.0047344 , 100.00, 11
# target 50% 0.000818785
# target 75% 0.00091387
# target 90% 0.00104691
# target 99% 0.00247727
# target 99.9% 0.00475571
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 0.877 ms avg, 499.8 qps
Successfully wrote 3242 bytes of Json data to /data/2018-11-19-050232_grpc_baseline_500qps_10s_echo_0_1.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
05:02:42 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:02:52 I periodic.go:533> T000 ended after 10.001570739s : 1250 calls. qps=124.98036884604191
05:02:52 I periodic.go:533> T002 ended after 10.00406003s : 1250 calls. qps=124.94927022144229
05:02:52 I periodic.go:533> T001 ended after 10.005809308s : 1250 calls. qps=124.92742581058192
05:02:52 I periodic.go:533> T003 ended after 10.005829384s : 1250 calls. qps=124.92717515240014
Ended after 10.005841739s : 5000 calls. qps=499.71
Sleep times : count 4996 avg 0.0063812404 +/- 0.0004485 min 0.001856658 max 0.006932992 sum 31.8806772
Aggregated Function Time : count 5000 avg 0.0013110875 +/- 0.000423 min 0.000807011 max 0.005938972 sum 6.55543758
# range, mid point, percentile, count
>= 0.000807011 <= 0.0009 , 0.000853506 , 0.22, 11
> 0.0009 <= 0.001 , 0.00095 , 4.26, 202
> 0.001 <= 0.0011 , 0.00105 , 18.88, 731
> 0.0011 <= 0.0012 , 0.00115 , 41.18, 1115
> 0.0012 <= 0.0014 , 0.0013 , 79.12, 1897
> 0.0014 <= 0.0016 , 0.0015 , 93.02, 695
> 0.0016 <= 0.0018 , 0.0017 , 95.40, 119
> 0.0018 <= 0.002 , 0.0019 , 96.56, 58
> 0.002 <= 0.0025 , 0.00225 , 98.40, 92
> 0.0025 <= 0.003 , 0.00275 , 99.00, 30
> 0.003 <= 0.0035 , 0.00325 , 99.10, 5
> 0.0035 <= 0.004 , 0.00375 , 99.28, 9
> 0.004 <= 0.0045 , 0.00425 , 99.42, 7
> 0.0045 <= 0.005 , 0.00475 , 99.50, 4
> 0.005 <= 0.00593897 , 0.00546949 , 100.00, 25
# target 50% 0.00124649
# target 75% 0.00137828
# target 90% 0.00155655
# target 99% 0.003
# target 99.9% 0.00575118
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 1.311 ms avg, 499.7 qps
Successfully wrote 2848 bytes of Json data to /data/2018-11-19-050242_grpc_linkerd_500qps_10s_echo_0_1.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8079
05:02:52 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:03:02 I periodic.go:533> T000 ended after 10.001709248s : 1250 calls. qps=124.97863805128682
05:03:02 I periodic.go:533> T002 ended after 10.004418837s : 1250 calls. qps=124.94478893436997
05:03:02 I periodic.go:533> T001 ended after 10.004587612s : 1250 calls. qps=124.9426811456664
05:03:02 I periodic.go:533> T003 ended after 10.004608821s : 1250 calls. qps=124.94241627680728
Ended after 10.00464623s : 5000 calls. qps=499.77
Sleep times : count 4996 avg 0.0056009248 +/- 0.001012 min -0.00408855 max 0.006820131 sum 27.9822202
Aggregated Function Time : count 5000 avg 0.0020583234 +/- 0.0009271 min 0.000790277 max 0.011921282 sum 10.291617
# range, mid point, percentile, count
>= 0.000790277 <= 0.0008 , 0.000795139 , 0.02, 1
> 0.0008 <= 0.0009 , 0.00085 , 0.06, 2
> 0.0009 <= 0.001 , 0.00095 , 0.16, 5
> 0.001 <= 0.0011 , 0.00105 , 1.70, 77
> 0.0011 <= 0.0012 , 0.00115 , 6.36, 233
> 0.0012 <= 0.0014 , 0.0013 , 16.34, 499
> 0.0014 <= 0.0016 , 0.0015 , 21.04, 235
> 0.0016 <= 0.0018 , 0.0017 , 32.34, 565
> 0.0018 <= 0.002 , 0.0019 , 57.28, 1247
> 0.002 <= 0.0025 , 0.00225 , 87.26, 1499
> 0.0025 <= 0.003 , 0.00275 , 94.22, 348
> 0.003 <= 0.0035 , 0.00325 , 96.08, 93
> 0.0035 <= 0.004 , 0.00375 , 96.80, 36
> 0.004 <= 0.0045 , 0.00425 , 97.70, 45
> 0.0045 <= 0.005 , 0.00475 , 98.26, 28
> 0.005 <= 0.006 , 0.0055 , 98.96, 35
> 0.006 <= 0.007 , 0.0065 , 99.38, 21
> 0.007 <= 0.008 , 0.0075 , 99.48, 5
> 0.008 <= 0.009 , 0.0085 , 99.54, 3
> 0.009 <= 0.01 , 0.0095 , 99.64, 5
> 0.01 <= 0.0119213 , 0.0109606 , 100.00, 18
# target 50% 0.00194162
# target 75% 0.00229553
# target 90% 0.00269684
# target 99% 0.00609524
# target 99.9% 0.0113876
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 2.058 ms avg, 499.8 qps
Successfully wrote 3547 bytes of Json data to /data/2018-11-19-050252_grpc_istio_500qps_10s_echo_0_1.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
05:03:02 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 500.0 qps
05:03:02 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:03:12 I periodic.go:533> T002 ended after 10.000662617s : 1250 calls. qps=124.99171783629025
05:03:12 I periodic.go:533> T001 ended after 10.003596884s : 1250 calls. qps=124.95505511615336
05:03:12 I periodic.go:533> T000 ended after 10.003669598s : 1250 calls. qps=124.9541468512623
05:03:12 I periodic.go:533> T003 ended after 10.003690616s : 1250 calls. qps=124.95388431952682
Ended after 10.003705955s : 5000 calls. qps=499.81
Sleep times : count 4996 avg 0.0072244316 +/- 0.0003582 min 0.001616368 max 0.00763395 sum 36.0932601
Aggregated Function Time : count 5000 avg 0.00046347589 +/- 0.0002641 min 0.000127308 max 0.006115576 sum 2.31737944
# range, mid point, percentile, count
>= 0.000127308 <= 0.0002 , 0.000163654 , 0.60, 30
> 0.0002 <= 0.0003 , 0.00025 , 7.90, 365
> 0.0003 <= 0.0004 , 0.00035 , 40.28, 1619
> 0.0004 <= 0.0005 , 0.00045 , 73.50, 1661
> 0.0005 <= 0.0006 , 0.00055 , 90.16, 833
> 0.0006 <= 0.0007 , 0.00065 , 95.54, 269
> 0.0007 <= 0.0008 , 0.00075 , 97.40, 93
> 0.0008 <= 0.0009 , 0.00085 , 97.94, 27
> 0.0009 <= 0.001 , 0.00095 , 98.22, 14
> 0.001 <= 0.0011 , 0.00105 , 98.38, 8
> 0.0011 <= 0.0012 , 0.00115 , 98.52, 7
> 0.0012 <= 0.0014 , 0.0013 , 98.88, 18
> 0.0014 <= 0.0016 , 0.0015 , 99.12, 12
> 0.0016 <= 0.0018 , 0.0017 , 99.48, 18
> 0.0018 <= 0.002 , 0.0019 , 99.68, 10
> 0.002 <= 0.0025 , 0.00225 , 99.78, 5
> 0.003 <= 0.0035 , 0.00325 , 99.84, 3
> 0.0035 <= 0.004 , 0.00375 , 99.92, 4
> 0.006 <= 0.00611558 , 0.00605779 , 100.00, 4
# target 50% 0.000429259
# target 75% 0.000509004
# target 90% 0.00059904
# target 99% 0.0015
# target 99.9% 0.003875
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
Response Body/Total Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
All done 5000 calls (plus 4 warmup) 0.463 ms avg, 499.8 qps
Successfully wrote 3875 bytes of Json data to /data/2018-11-19-050302_http_baseline_500qps_10s_echo_1_1.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
05:03:12 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 500.0 qps
05:03:12 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:03:22 I periodic.go:533> T000 ended after 10.001659696s : 1250 calls. qps=124.97925724266713
05:03:22 I periodic.go:533> T002 ended after 10.00200038s : 1250 calls. qps=124.97500025089981
05:03:22 I periodic.go:533> T003 ended after 10.004087222s : 1250 calls. qps=124.94893059819825
05:03:22 I periodic.go:533> T001 ended after 10.004147406s : 1250 calls. qps=124.94817891730693
Ended after 10.004189355s : 5000 calls. qps=499.79
Sleep times : count 4996 avg 0.0067595723 +/- 0.0004501 min 0.001727668 max 0.007386889 sum 33.7708232
Aggregated Function Time : count 5000 avg 0.00093247129 +/- 0.0003883 min 0.000540905 max 0.006069525 sum 4.66235643
# range, mid point, percentile, count
>= 0.000540905 <= 0.0006 , 0.000570453 , 0.24, 12
> 0.0006 <= 0.0007 , 0.00065 , 4.80, 228
> 0.0007 <= 0.0008 , 0.00075 , 25.24, 1022
> 0.0008 <= 0.0009 , 0.00085 , 57.64, 1620
> 0.0009 <= 0.001 , 0.00095 , 82.14, 1225
> 0.001 <= 0.0011 , 0.00105 , 92.50, 518
> 0.0011 <= 0.0012 , 0.00115 , 95.56, 153
> 0.0012 <= 0.0014 , 0.0013 , 97.02, 73
> 0.0014 <= 0.0016 , 0.0015 , 97.56, 27
> 0.0016 <= 0.0018 , 0.0017 , 98.20, 32
> 0.0018 <= 0.002 , 0.0019 , 98.64, 22
> 0.002 <= 0.0025 , 0.00225 , 99.00, 18
> 0.0025 <= 0.003 , 0.00275 , 99.18, 9
> 0.003 <= 0.0035 , 0.00325 , 99.26, 4
> 0.0035 <= 0.004 , 0.00375 , 99.36, 5
> 0.004 <= 0.0045 , 0.00425 , 99.48, 6
> 0.0045 <= 0.005 , 0.00475 , 99.84, 18
> 0.005 <= 0.006 , 0.0055 , 99.98, 7
> 0.006 <= 0.00606953 , 0.00603476 , 100.00, 1
# target 50% 0.00087642
# target 75% 0.000970857
# target 90% 0.00107587
# target 99% 0.0025
# target 99.9% 0.00542857
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
Response Body/Total Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
All done 5000 calls (plus 4 warmup) 0.932 ms avg, 499.8 qps
Successfully wrote 3863 bytes of Json data to /data/2018-11-19-050312_http_linkerd_500qps_10s_echo_1_1.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
05:03:22 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 500.0 qps
05:03:22 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:03:32 I periodic.go:533> T001 ended after 10.001553915s : 1250 calls. qps=124.98057908034583
05:03:32 I periodic.go:533> T002 ended after 10.002066557s : 1250 calls. qps=124.97417337471934
05:03:32 I periodic.go:533> T003 ended after 10.002176309s : 1250 calls. qps=124.9728020566129
05:03:32 I periodic.go:533> T000 ended after 10.002249206s : 1250 calls. qps=124.97189124723754
Ended after 10.002272922s : 5000 calls. qps=499.89
Sleep times : count 4996 avg 0.0060057163 +/- 0.001319 min -0.022144326 max 0.007348499 sum 30.0045585
Aggregated Function Time : count 5000 avg 0.0016460681 +/- 0.0007782 min 0.00062117 max 0.016072401 sum 8.23034067
# range, mid point, percentile, count
>= 0.00062117 <= 0.0007 , 0.000660585 , 0.02, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.06, 2
> 0.0008 <= 0.0009 , 0.00085 , 0.14, 4
> 0.0009 <= 0.001 , 0.00095 , 0.36, 11
> 0.001 <= 0.0011 , 0.00105 , 0.60, 12
> 0.0011 <= 0.0012 , 0.00115 , 1.82, 61
> 0.0012 <= 0.0014 , 0.0013 , 33.84, 1601
> 0.0014 <= 0.0016 , 0.0015 , 71.60, 1888
> 0.0016 <= 0.0018 , 0.0017 , 85.22, 681
> 0.0018 <= 0.002 , 0.0019 , 89.54, 216
> 0.002 <= 0.0025 , 0.00225 , 95.36, 291
> 0.0025 <= 0.003 , 0.00275 , 95.92, 28
> 0.003 <= 0.0035 , 0.00325 , 96.68, 38
> 0.0035 <= 0.004 , 0.00375 , 97.86, 59
> 0.004 <= 0.0045 , 0.00425 , 98.90, 52
> 0.0045 <= 0.005 , 0.00475 , 99.02, 6
> 0.005 <= 0.006 , 0.0055 , 99.48, 23
> 0.006 <= 0.007 , 0.0065 , 99.74, 13
> 0.007 <= 0.008 , 0.0075 , 99.82, 4
> 0.008 <= 0.009 , 0.0085 , 99.90, 4
> 0.014 <= 0.016 , 0.015 , 99.98, 4
> 0.016 <= 0.0160724 , 0.0160362 , 100.00, 1
# target 50% 0.00148559
# target 75% 0.00164993
# target 90% 0.00203952
# target 99% 0.00491667
# target 99.9% 0.009
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 209.0008 +/- 0.02827 min 209 max 210 sum 1045004
Response Body/Total Sizes : count 5000 avg 209.0008 +/- 0.02827 min 209 max 210 sum 1045004
All done 5000 calls (plus 4 warmup) 1.646 ms avg, 499.9 qps
Successfully wrote 4221 bytes of Json data to /data/2018-11-19-050322_http_istio_500qps_10s_echo_1_1.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
05:03:32 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:03:42 I periodic.go:533> T000 ended after 10.00106987s : 1250 calls. qps=124.98662805562421
05:03:42 I periodic.go:533> T002 ended after 10.001454517s : 1250 calls. qps=124.98182118164003
05:03:42 I periodic.go:533> T001 ended after 10.003634417s : 1250 calls. qps=124.95458629273496
05:03:42 I periodic.go:533> T003 ended after 10.003689552s : 1250 calls. qps=124.95389760971662
Ended after 10.003705006s : 5000 calls. qps=499.81
Sleep times : count 4996 avg 0.0068325782 +/- 0.0003926 min 0.002377551 max 0.007355415 sum 34.1355605
Aggregated Function Time : count 5000 avg 0.00084841954 +/- 0.0002904 min 0.000363001 max 0.004765404 sum 4.24209769
# range, mid point, percentile, count
>= 0.000363001 <= 0.0004 , 0.000381501 , 0.04, 2
> 0.0004 <= 0.0005 , 0.00045 , 0.32, 14
> 0.0005 <= 0.0006 , 0.00055 , 3.74, 171
> 0.0006 <= 0.0007 , 0.00065 , 19.70, 798
> 0.0007 <= 0.0008 , 0.00075 , 50.84, 1557
> 0.0008 <= 0.0009 , 0.00085 , 76.66, 1291
> 0.0009 <= 0.001 , 0.00095 , 89.62, 648
> 0.001 <= 0.0011 , 0.00105 , 94.00, 219
> 0.0011 <= 0.0012 , 0.00115 , 95.92, 96
> 0.0012 <= 0.0014 , 0.0013 , 96.86, 47
> 0.0014 <= 0.0016 , 0.0015 , 97.56, 35
> 0.0016 <= 0.0018 , 0.0017 , 97.88, 16
> 0.0018 <= 0.002 , 0.0019 , 98.38, 25
> 0.002 <= 0.0025 , 0.00225 , 99.40, 51
> 0.0025 <= 0.003 , 0.00275 , 99.70, 15
> 0.003 <= 0.0035 , 0.00325 , 99.84, 7
> 0.0035 <= 0.004 , 0.00375 , 99.92, 4
> 0.0045 <= 0.0047654 , 0.0046327 , 100.00, 4
# target 50% 0.000797303
# target 75% 0.000893571
# target 90% 0.00100868
# target 99% 0.00230392
# target 99.9% 0.003875
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 0.848 ms avg, 499.8 qps
Successfully wrote 3226 bytes of Json data to /data/2018-11-19-050332_grpc_baseline_500qps_10s_echo_1_1.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
05:03:42 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:03:52 I periodic.go:533> T001 ended after 10.00149446s : 1250 calls. qps=124.9813220413462
05:03:52 I periodic.go:533> T000 ended after 10.004299353s : 1250 calls. qps=124.94628118311564
05:03:52 I periodic.go:533> T003 ended after 10.004340531s : 1250 calls. qps=124.94576690254407
05:03:52 I periodic.go:533> T002 ended after 10.004353873s : 1250 calls. qps=124.9456002724505
Ended after 10.004366173s : 5000 calls. qps=499.78
Sleep times : count 4996 avg 0.0063122403 +/- 0.0005069 min 0.001461352 max 0.006964739 sum 31.5359526
Aggregated Function Time : count 5000 avg 0.0013559132 +/- 0.0004217 min 0.000837526 max 0.005655894 sum 6.77956597
# range, mid point, percentile, count
>= 0.000837526 <= 0.0009 , 0.000868763 , 0.18, 9
> 0.0009 <= 0.001 , 0.00095 , 2.90, 136
> 0.001 <= 0.0011 , 0.00105 , 14.02, 556
> 0.0011 <= 0.0012 , 0.00115 , 32.06, 902
> 0.0012 <= 0.0014 , 0.0013 , 71.44, 1969
> 0.0014 <= 0.0016 , 0.0015 , 91.26, 991
> 0.0016 <= 0.0018 , 0.0017 , 95.00, 187
> 0.0018 <= 0.002 , 0.0019 , 96.12, 56
> 0.002 <= 0.0025 , 0.00225 , 97.76, 82
> 0.0025 <= 0.003 , 0.00275 , 98.90, 57
> 0.003 <= 0.0035 , 0.00325 , 99.18, 14
> 0.0035 <= 0.004 , 0.00375 , 99.34, 8
> 0.004 <= 0.0045 , 0.00425 , 99.48, 7
> 0.0045 <= 0.005 , 0.00475 , 99.58, 5
> 0.005 <= 0.00565589 , 0.00532795 , 100.00, 21
# target 50% 0.00129111
# target 75% 0.00143592
# target 90% 0.00158729
# target 99% 0.00317857
# target 99.9% 0.00549973
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 1.356 ms avg, 499.8 qps
Successfully wrote 2874 bytes of Json data to /data/2018-11-19-050342_grpc_linkerd_500qps_10s_echo_1_1.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8079
05:03:52 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:04:02 I periodic.go:533> T002 ended after 10.001941816s : 1250 calls. qps=124.97573201239666
05:04:02 I periodic.go:533> T000 ended after 10.002511567s : 1250 calls. qps=124.96861329548112
05:04:02 I periodic.go:533> T003 ended after 10.002537777s : 1250 calls. qps=124.96828583584762
05:04:02 I periodic.go:533> T001 ended after 10.00254918s : 1250 calls. qps=124.96814337082819
Ended after 10.002590736s : 5000 calls. qps=499.87
Sleep times : count 4996 avg 0.0057193325 +/- 0.001079 min -0.010799067 max 0.006808921 sum 28.5737852
Aggregated Function Time : count 5000 avg 0.0019392297 +/- 0.0009732 min 0.000774749 max 0.0186661 sum 9.69614869
# range, mid point, percentile, count
>= 0.000774749 <= 0.0008 , 0.000787375 , 0.02, 1
> 0.0008 <= 0.0009 , 0.00085 , 0.08, 3
> 0.0009 <= 0.001 , 0.00095 , 0.42, 17
> 0.001 <= 0.0011 , 0.00105 , 3.34, 146
> 0.0011 <= 0.0012 , 0.00115 , 9.68, 317
> 0.0012 <= 0.0014 , 0.0013 , 19.52, 492
> 0.0014 <= 0.0016 , 0.0015 , 23.66, 207
> 0.0016 <= 0.0018 , 0.0017 , 42.38, 936
> 0.0018 <= 0.002 , 0.0019 , 70.96, 1429
> 0.002 <= 0.0025 , 0.00225 , 90.82, 993
> 0.0025 <= 0.003 , 0.00275 , 95.94, 256
> 0.003 <= 0.0035 , 0.00325 , 96.70, 38
> 0.0035 <= 0.004 , 0.00375 , 97.54, 42
> 0.004 <= 0.0045 , 0.00425 , 98.44, 45
> 0.0045 <= 0.005 , 0.00475 , 98.76, 16
> 0.005 <= 0.006 , 0.0055 , 99.22, 23
> 0.006 <= 0.007 , 0.0065 , 99.52, 15
> 0.007 <= 0.008 , 0.0075 , 99.60, 4
> 0.008 <= 0.009 , 0.0085 , 99.70, 5
> 0.009 <= 0.01 , 0.0095 , 99.84, 7
> 0.016 <= 0.018 , 0.017 , 99.94, 5
> 0.018 <= 0.0186661 , 0.0183331 , 100.00, 3
# target 50% 0.00185332
# target 75% 0.00210171
# target 90% 0.00247936
# target 99% 0.00552174
# target 99.9% 0.0172
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 1.939 ms avg, 499.9 qps
Successfully wrote 3683 bytes of Json data to /data/2018-11-19-050352_grpc_istio_500qps_10s_echo_1_1.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
05:04:03 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 500.0 qps
05:04:03 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:04:13 I periodic.go:533> T002 ended after 10.000645558s : 1250 calls. qps=124.99193104589779
05:04:13 I periodic.go:533> T001 ended after 10.00105981s : 1250 calls. qps=124.98675377884777
05:04:13 I periodic.go:533> T003 ended after 10.003253858s : 1250 calls. qps=124.95934000518493
05:04:13 I periodic.go:533> T000 ended after 10.003322888s : 1250 calls. qps=124.9584776973961
Ended after 10.003337483s : 5000 calls. qps=499.83
Sleep times : count 4996 avg 0.0072384546 +/- 0.0003994 min 0.00061829 max 0.007634016 sum 36.1633192
Aggregated Function Time : count 5000 avg 0.00045319443 +/- 0.0002926 min 0.000117338 max 0.005998535 sum 2.26597215
# range, mid point, percentile, count
>= 0.000117338 <= 0.0002 , 0.000158669 , 0.44, 22
> 0.0002 <= 0.0003 , 0.00025 , 9.16, 436
> 0.0003 <= 0.0004 , 0.00035 , 46.08, 1846
> 0.0004 <= 0.0005 , 0.00045 , 78.32, 1612
> 0.0005 <= 0.0006 , 0.00055 , 92.32, 700
> 0.0006 <= 0.0007 , 0.00065 , 96.66, 217
> 0.0007 <= 0.0008 , 0.00075 , 97.74, 54
> 0.0008 <= 0.0009 , 0.00085 , 98.16, 21
> 0.0009 <= 0.001 , 0.00095 , 98.44, 14
> 0.001 <= 0.0011 , 0.00105 , 98.58, 7
> 0.0011 <= 0.0012 , 0.00115 , 98.66, 4
> 0.0012 <= 0.0014 , 0.0013 , 98.72, 3
> 0.0016 <= 0.0018 , 0.0017 , 98.84, 6
> 0.0018 <= 0.002 , 0.0019 , 99.16, 16
> 0.002 <= 0.0025 , 0.00225 , 99.62, 23
> 0.0025 <= 0.003 , 0.00275 , 99.80, 9
> 0.003 <= 0.0035 , 0.00325 , 99.82, 1
> 0.0035 <= 0.004 , 0.00375 , 99.84, 1
> 0.004 <= 0.0045 , 0.00425 , 99.92, 4
> 0.005 <= 0.00599854 , 0.00549927 , 100.00, 4
# target 50% 0.000412159
# target 75% 0.000489702
# target 90% 0.000583429
# target 99% 0.0019
# target 99.9% 0.004375
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
Response Body/Total Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
All done 5000 calls (plus 4 warmup) 0.453 ms avg, 499.8 qps
Successfully wrote 4013 bytes of Json data to /data/2018-11-19-050403_http_baseline_500qps_10s_echo_0_2.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
05:04:13 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 500.0 qps
05:04:13 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:04:23 I periodic.go:533> T002 ended after 10.001269988s : 1250 calls. qps=124.98412716583088
05:04:23 I periodic.go:533> T001 ended after 10.001752048s : 1250 calls. qps=124.97810323641808
05:04:23 I periodic.go:533> T003 ended after 10.003752519s : 1250 calls. qps=124.95311110764594
05:04:23 I periodic.go:533> T000 ended after 10.003797549s : 1250 calls. qps=124.95254865737988
Ended after 10.003812056s : 5000 calls. qps=499.81
Sleep times : count 4996 avg 0.0067402807 +/- 0.0003513 min 0.002732273 max 0.007496012 sum 33.6744425
Aggregated Function Time : count 5000 avg 0.00094678815 +/- 0.0002938 min 0.000475462 max 0.004681255 sum 4.73394077
# range, mid point, percentile, count
>= 0.000475462 <= 0.0005 , 0.000487731 , 0.02, 1
> 0.0005 <= 0.0006 , 0.00055 , 0.10, 4
> 0.0006 <= 0.0007 , 0.00065 , 1.74, 82
> 0.0007 <= 0.0008 , 0.00075 , 16.20, 723
> 0.0008 <= 0.0009 , 0.00085 , 49.16, 1648
> 0.0009 <= 0.001 , 0.00095 , 78.42, 1463
> 0.001 <= 0.0011 , 0.00105 , 91.34, 646
> 0.0011 <= 0.0012 , 0.00115 , 95.22, 194
> 0.0012 <= 0.0014 , 0.0013 , 97.10, 94
> 0.0014 <= 0.0016 , 0.0015 , 97.78, 34
> 0.0016 <= 0.0018 , 0.0017 , 98.52, 37
> 0.0018 <= 0.002 , 0.0019 , 98.90, 19
> 0.002 <= 0.0025 , 0.00225 , 99.16, 13
> 0.0025 <= 0.003 , 0.00275 , 99.38, 11
> 0.003 <= 0.0035 , 0.00325 , 99.68, 15
> 0.0035 <= 0.004 , 0.00375 , 99.76, 4
> 0.004 <= 0.0045 , 0.00425 , 99.92, 8
> 0.0045 <= 0.00468125 , 0.00459063 , 100.00, 4
# target 50% 0.000902871
# target 75% 0.000988312
# target 90% 0.00108963
# target 99% 0.00219231
# target 99.9% 0.0044375
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
Response Body/Total Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
All done 5000 calls (plus 4 warmup) 0.947 ms avg, 499.8 qps
Successfully wrote 3773 bytes of Json data to /data/2018-11-19-050413_http_linkerd_500qps_10s_echo_0_2.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
05:04:23 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 500.0 qps
05:04:23 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:04:33 I periodic.go:533> T000 ended after 10.00189778s : 1250 calls. qps=124.97628225110695
05:04:33 I periodic.go:533> T002 ended after 10.00199375s : 1250 calls. qps=124.97508309280836
05:04:33 I periodic.go:533> T001 ended after 10.002007207s : 1250 calls. qps=124.97491494758928
05:04:33 I periodic.go:533> T003 ended after 10.002018927s : 1250 calls. qps=124.97476850655434
Ended after 10.002052397s : 5000 calls. qps=499.9
Sleep times : count 4996 avg 0.0059521084 +/- 0.001815 min -0.033897975 max 0.007001421 sum 29.7367333
Aggregated Function Time : count 5000 avg 0.0016376375 +/- 0.0007494 min 0.000591586 max 0.02144921 sum 8.1881873
# range, mid point, percentile, count
>= 0.000591586 <= 0.0006 , 0.000595793 , 0.02, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.04, 1
> 0.0008 <= 0.0009 , 0.00085 , 0.26, 11
> 0.0009 <= 0.001 , 0.00095 , 0.42, 8
> 0.001 <= 0.0011 , 0.00105 , 0.74, 16
> 0.0011 <= 0.0012 , 0.00115 , 1.52, 39
> 0.0012 <= 0.0014 , 0.0013 , 35.90, 1719
> 0.0014 <= 0.0016 , 0.0015 , 74.54, 1932
> 0.0016 <= 0.0018 , 0.0017 , 85.02, 524
> 0.0018 <= 0.002 , 0.0019 , 88.82, 190
> 0.002 <= 0.0025 , 0.00225 , 95.24, 321
> 0.0025 <= 0.003 , 0.00275 , 96.06, 41
> 0.003 <= 0.0035 , 0.00325 , 96.90, 42
> 0.0035 <= 0.004 , 0.00375 , 98.12, 61
> 0.004 <= 0.0045 , 0.00425 , 98.66, 27
> 0.0045 <= 0.005 , 0.00475 , 98.94, 14
> 0.005 <= 0.006 , 0.0055 , 99.44, 25
> 0.006 <= 0.007 , 0.0065 , 99.60, 8
> 0.007 <= 0.008 , 0.0075 , 99.80, 10
> 0.008 <= 0.009 , 0.0085 , 99.96, 8
> 0.012 <= 0.014 , 0.013 , 99.98, 1
> 0.02 <= 0.0214492 , 0.0207246 , 100.00, 1
# target 50% 0.00147298
# target 75% 0.00160878
# target 90% 0.0020919
# target 99% 0.00512
# target 99.9% 0.008625
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 209 +/- 0 min 209 max 209 sum 1045000
Response Body/Total Sizes : count 5000 avg 209 +/- 0 min 209 max 209 sum 1045000
All done 5000 calls (plus 4 warmup) 1.638 ms avg, 499.9 qps
Successfully wrote 4191 bytes of Json data to /data/2018-11-19-050423_http_istio_500qps_10s_echo_0_2.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
05:04:33 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:04:43 I periodic.go:533> T001 ended after 10.001214229s : 1250 calls. qps=124.98482398021633
05:04:43 I periodic.go:533> T003 ended after 10.003703822s : 1250 calls. qps=124.95371936652285
05:04:43 I periodic.go:533> T002 ended after 10.003797726s : 1250 calls. qps=124.95254644655937
05:04:43 I periodic.go:533> T000 ended after 10.003837422s : 1250 calls. qps=124.95205062519857
Ended after 10.00593898s : 5000 calls. qps=499.7
Sleep times : count 4996 avg 0.0068210609 +/- 0.0003839 min 0.003426707 max 0.007399273 sum 34.0780203
Aggregated Function Time : count 5000 avg 0.00085709303 +/- 0.0002961 min 0.000385931 max 0.004286995 sum 4.28546516
# range, mid point, percentile, count
>= 0.000385931 <= 0.0004 , 0.000392966 , 0.02, 1
> 0.0004 <= 0.0005 , 0.00045 , 0.50, 24
> 0.0005 <= 0.0006 , 0.00055 , 3.80, 165
> 0.0006 <= 0.0007 , 0.00065 , 19.94, 807
> 0.0007 <= 0.0008 , 0.00075 , 48.46, 1426
> 0.0008 <= 0.0009 , 0.00085 , 73.98, 1276
> 0.0009 <= 0.001 , 0.00095 , 88.30, 716
> 0.001 <= 0.0011 , 0.00105 , 93.52, 261
> 0.0011 <= 0.0012 , 0.00115 , 95.02, 75
> 0.0012 <= 0.0014 , 0.0013 , 96.36, 67
> 0.0014 <= 0.0016 , 0.0015 , 97.08, 36
> 0.0016 <= 0.0018 , 0.0017 , 97.46, 19
> 0.0018 <= 0.002 , 0.0019 , 98.16, 35
> 0.002 <= 0.0025 , 0.00225 , 99.48, 66
> 0.0025 <= 0.003 , 0.00275 , 99.72, 12
> 0.003 <= 0.0035 , 0.00325 , 99.90, 9
> 0.004 <= 0.004287 , 0.0041435 , 100.00, 5
# target 50% 0.000806034
# target 75% 0.000907123
# target 90% 0.00103257
# target 99% 0.00231818
# target 99.9% 0.0035
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 0.857 ms avg, 499.7 qps
Successfully wrote 3089 bytes of Json data to /data/2018-11-19-050433_grpc_baseline_500qps_10s_echo_0_2.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
05:04:43 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:04:53 I periodic.go:533> T000 ended after 10.001266548s : 1250 calls. qps=124.98417015492586
05:04:53 I periodic.go:533> T001 ended after 10.003896034s : 1250 calls. qps=124.95131854146176
05:04:53 I periodic.go:533> T003 ended after 10.003931354s : 1250 calls. qps=124.95087738683817
05:04:53 I periodic.go:533> T002 ended after 10.003963062s : 1250 calls. qps=124.95048134954818
Ended after 10.003978259s : 5000 calls. qps=499.8
Sleep times : count 4996 avg 0.0063765251 +/- 0.0004951 min 0.001747584 max 0.006914333 sum 31.8571194
Aggregated Function Time : count 5000 avg 0.0013060696 +/- 0.0004225 min 0.000842063 max 0.005538786 sum 6.53034791
# range, mid point, percentile, count
>= 0.000842063 <= 0.0009 , 0.000871032 , 0.16, 8
> 0.0009 <= 0.001 , 0.00095 , 4.60, 222
> 0.001 <= 0.0011 , 0.00105 , 20.66, 803
> 0.0011 <= 0.0012 , 0.00115 , 43.32, 1133
> 0.0012 <= 0.0014 , 0.0013 , 80.24, 1846
> 0.0014 <= 0.0016 , 0.0015 , 93.10, 643
> 0.0016 <= 0.0018 , 0.0017 , 95.70, 130
> 0.0018 <= 0.002 , 0.0019 , 96.82, 56
> 0.002 <= 0.0025 , 0.00225 , 98.00, 59
> 0.0025 <= 0.003 , 0.00275 , 98.48, 24
> 0.003 <= 0.0035 , 0.00325 , 98.94, 23
> 0.0035 <= 0.004 , 0.00375 , 99.28, 17
> 0.004 <= 0.0045 , 0.00425 , 99.58, 15
> 0.0045 <= 0.005 , 0.00475 , 99.70, 6
> 0.005 <= 0.00553879 , 0.00526939 , 100.00, 15
# target 50% 0.00123619
# target 75% 0.00137161
# target 90% 0.00155179
# target 99% 0.00358824
# target 99.9% 0.00535919
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 1.306 ms avg, 499.8 qps
Successfully wrote 2874 bytes of Json data to /data/2018-11-19-050443_grpc_linkerd_500qps_10s_echo_0_2.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8079
05:04:53 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:05:03 I periodic.go:533> T003 ended after 10.001615666s : 1250 calls. qps=124.97980743744368
05:05:03 I periodic.go:533> T000 ended after 10.002315821s : 1250 calls. qps=124.97105893973152
05:05:03 I periodic.go:533> T001 ended after 10.002690166s : 1250 calls. qps=124.96638196880843
05:05:03 I periodic.go:533> T002 ended after 10.002767124s : 1250 calls. qps=124.96542051857129
Ended after 10.002807533s : 5000 calls. qps=499.86
Sleep times : count 4996 avg 0.0057789579 +/- 0.0006717 min 0.000288329 max 0.006851955 sum 28.8716736
Aggregated Function Time : count 5000 avg 0.0018942496 +/- 0.0006385 min 0.000911009 max 0.007534956 sum 9.47124791
# range, mid point, percentile, count
>= 0.000911009 <= 0.001 , 0.000955504 , 0.26, 13
> 0.001 <= 0.0011 , 0.00105 , 2.28, 101
> 0.0011 <= 0.0012 , 0.00115 , 8.64, 318
> 0.0012 <= 0.0014 , 0.0013 , 19.40, 538
> 0.0014 <= 0.0016 , 0.0015 , 22.98, 179
> 0.0016 <= 0.0018 , 0.0017 , 40.16, 859
> 0.0018 <= 0.002 , 0.0019 , 71.62, 1573
> 0.002 <= 0.0025 , 0.00225 , 92.80, 1059
> 0.0025 <= 0.003 , 0.00275 , 96.30, 175
> 0.003 <= 0.0035 , 0.00325 , 97.08, 39
> 0.0035 <= 0.004 , 0.00375 , 97.94, 43
> 0.004 <= 0.0045 , 0.00425 , 98.78, 42
> 0.0045 <= 0.005 , 0.00475 , 99.02, 12
> 0.005 <= 0.006 , 0.0055 , 99.72, 35
> 0.006 <= 0.007 , 0.0065 , 99.94, 11
> 0.007 <= 0.00753496 , 0.00726748 , 100.00, 3
# target 50% 0.00186256
# target 75% 0.00207979
# target 90% 0.0024339
# target 99% 0.00495833
# target 99.9% 0.00681818
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 1.894 ms avg, 499.9 qps
Successfully wrote 2950 bytes of Json data to /data/2018-11-19-050453_grpc_istio_500qps_10s_echo_0_2.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
05:05:03 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 500.0 qps
05:05:03 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:05:13 I periodic.go:533> T002 ended after 10.000817014s : 1250 calls. qps=124.98978815932168
05:05:13 I periodic.go:533> T001 ended after 10.001311625s : 1250 calls. qps=124.98360683766816
05:05:13 I periodic.go:533> T003 ended after 10.004028676s : 1250 calls. qps=124.94966182961788
05:05:13 I periodic.go:533> T000 ended after 10.004086414s : 1250 calls. qps=124.94894068994795
Ended after 10.004104601s : 5000 calls. qps=499.79
Sleep times : count 4996 avg 0.0071894704 +/- 0.0002928 min 0.00266802 max 0.007613466 sum 35.9185944
Aggregated Function Time : count 5000 avg 0.00048802673 +/- 0.0002582 min 0.000121607 max 0.004988479 sum 2.44013364
# range, mid point, percentile, count
>= 0.000121607 <= 0.0002 , 0.000160804 , 0.48, 24
> 0.0002 <= 0.0003 , 0.00025 , 5.32, 242
> 0.0003 <= 0.0004 , 0.00035 , 33.48, 1408
> 0.0004 <= 0.0005 , 0.00045 , 65.46, 1599
> 0.0005 <= 0.0006 , 0.00055 , 85.52, 1003
> 0.0006 <= 0.0007 , 0.00065 , 94.02, 425
> 0.0007 <= 0.0008 , 0.00075 , 96.94, 146
> 0.0008 <= 0.0009 , 0.00085 , 97.92, 49
> 0.0009 <= 0.001 , 0.00095 , 98.28, 18
> 0.001 <= 0.0011 , 0.00105 , 98.78, 25
> 0.0011 <= 0.0012 , 0.00115 , 98.94, 8
> 0.0012 <= 0.0014 , 0.0013 , 99.14, 10
> 0.0014 <= 0.0016 , 0.0015 , 99.18, 2
> 0.0016 <= 0.0018 , 0.0017 , 99.26, 4
> 0.0018 <= 0.002 , 0.0019 , 99.42, 8
> 0.002 <= 0.0025 , 0.00225 , 99.68, 13
> 0.0025 <= 0.003 , 0.00275 , 99.80, 6
> 0.0035 <= 0.004 , 0.00375 , 99.86, 3
> 0.004 <= 0.0045 , 0.00425 , 99.94, 4
> 0.0045 <= 0.00498848 , 0.00474424 , 100.00, 3
# target 50% 0.000451657
# target 75% 0.000547557
# target 90% 0.000652706
# target 99% 0.00126
# target 99.9% 0.00425
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
Response Body/Total Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
All done 5000 calls (plus 4 warmup) 0.488 ms avg, 499.8 qps
Successfully wrote 4033 bytes of Json data to /data/2018-11-19-050503_http_baseline_500qps_10s_echo_1_2.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
05:05:13 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 500.0 qps
05:05:13 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:05:23 I periodic.go:533> T002 ended after 10.00124008s : 1250 calls. qps=124.98450092200966
05:05:23 I periodic.go:533> T001 ended after 10.001654191s : 1250 calls. qps=124.97932603236912
05:05:23 I periodic.go:533> T003 ended after 10.004000428s : 1250 calls. qps=124.95001464628086
05:05:23 I periodic.go:533> T000 ended after 10.004039758s : 1250 calls. qps=124.94952341631829
Ended after 10.004053783s : 5000 calls. qps=499.8
Sleep times : count 4996 avg 0.0065246571 +/- 0.000653 min -0.005854865 max 0.007321317 sum 32.5971869
Aggregated Function Time : count 5000 avg 0.0010636715 +/- 0.0005556 min 0.000501727 max 0.013613367 sum 5.31835751
# range, mid point, percentile, count
>= 0.000501727 <= 0.0006 , 0.000550864 , 0.10, 5
> 0.0006 <= 0.0007 , 0.00065 , 0.86, 38
> 0.0007 <= 0.0008 , 0.00075 , 7.52, 333
> 0.0008 <= 0.0009 , 0.00085 , 27.78, 1013
> 0.0009 <= 0.001 , 0.00095 , 54.98, 1360
> 0.001 <= 0.0011 , 0.00105 , 75.56, 1029
> 0.0011 <= 0.0012 , 0.00115 , 87.02, 573
> 0.0012 <= 0.0014 , 0.0013 , 94.64, 381
> 0.0014 <= 0.0016 , 0.0015 , 96.32, 84
> 0.0016 <= 0.0018 , 0.0017 , 97.28, 48
> 0.0018 <= 0.002 , 0.0019 , 97.86, 29
> 0.002 <= 0.0025 , 0.00225 , 98.76, 45
> 0.0025 <= 0.003 , 0.00275 , 99.08, 16
> 0.003 <= 0.0035 , 0.00325 , 99.24, 8
> 0.0035 <= 0.004 , 0.00375 , 99.28, 2
> 0.004 <= 0.0045 , 0.00425 , 99.34, 3
> 0.0045 <= 0.005 , 0.00475 , 99.68, 17
> 0.005 <= 0.006 , 0.0055 , 99.84, 8
> 0.007 <= 0.008 , 0.0075 , 99.90, 3
> 0.008 <= 0.009 , 0.0085 , 99.92, 1
> 0.012 <= 0.0136134 , 0.0128067 , 100.00, 4
# target 50% 0.000981691
# target 75% 0.00109728
# target 90% 0.00127822
# target 99% 0.002875
# target 99.9% 0.008
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
Response Body/Total Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
All done 5000 calls (plus 4 warmup) 1.064 ms avg, 499.8 qps
Successfully wrote 4083 bytes of Json data to /data/2018-11-19-050513_http_linkerd_500qps_10s_echo_1_2.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
05:05:23 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 500.0 qps
05:05:23 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:05:33 I periodic.go:533> T002 ended after 10.001872367s : 1250 calls. qps=124.97659979387737
05:05:33 I periodic.go:533> T000 ended after 10.00250766s : 1250 calls. qps=124.96866210847772
05:05:33 I periodic.go:533> T003 ended after 10.002676355s : 1250 calls. qps=124.96655451369945
05:05:33 I periodic.go:533> T001 ended after 10.002772053s : 1250 calls. qps=124.96535894018538
Ended after 10.002839142s : 5000 calls. qps=499.86
Sleep times : count 4996 avg 0.0058782914 +/- 0.001553 min -0.019654968 max 0.006976997 sum 29.367944
Aggregated Function Time : count 5000 avg 0.0017199405 +/- 0.0008536 min 0.000781599 max 0.01500133 sum 8.59970252
# range, mid point, percentile, count
>= 0.000781599 <= 0.0008 , 0.000790799 , 0.04, 2
> 0.0008 <= 0.0009 , 0.00085 , 0.10, 3
> 0.0009 <= 0.001 , 0.00095 , 0.30, 10
> 0.001 <= 0.0011 , 0.00105 , 0.50, 10
> 0.0011 <= 0.0012 , 0.00115 , 1.34, 42
> 0.0012 <= 0.0014 , 0.0013 , 23.88, 1127
> 0.0014 <= 0.0016 , 0.0015 , 59.28, 1770
> 0.0016 <= 0.0018 , 0.0017 , 78.96, 984
> 0.0018 <= 0.002 , 0.0019 , 86.40, 372
> 0.002 <= 0.0025 , 0.00225 , 94.76, 418
> 0.0025 <= 0.003 , 0.00275 , 96.38, 81
> 0.003 <= 0.0035 , 0.00325 , 97.14, 38
> 0.0035 <= 0.004 , 0.00375 , 98.42, 64
> 0.004 <= 0.0045 , 0.00425 , 98.86, 22
> 0.0045 <= 0.005 , 0.00475 , 99.16, 15
> 0.005 <= 0.006 , 0.0055 , 99.44, 14
> 0.006 <= 0.007 , 0.0065 , 99.52, 4
> 0.007 <= 0.008 , 0.0075 , 99.66, 7
> 0.008 <= 0.009 , 0.0085 , 99.76, 5
> 0.012 <= 0.014 , 0.013 , 99.92, 8
> 0.014 <= 0.0150013 , 0.0145007 , 100.00, 4
# target 50% 0.00154757
# target 75% 0.00175976
# target 90% 0.00221531
# target 99% 0.00473333
# target 99.9% 0.01375
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 209.0016 +/- 0.03997 min 209 max 210 sum 1045008
Response Body/Total Sizes : count 5000 avg 209.0016 +/- 0.03997 min 209 max 210 sum 1045008
All done 5000 calls (plus 4 warmup) 1.720 ms avg, 499.9 qps
Successfully wrote 4125 bytes of Json data to /data/2018-11-19-050523_http_istio_500qps_10s_echo_1_2.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
05:05:33 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:05:43 I periodic.go:533> T001 ended after 10.0010005s : 1250 calls. qps=124.98749500112514
05:05:43 I periodic.go:533> T002 ended after 10.001481044s : 1250 calls. qps=124.98148969145814
05:05:43 I periodic.go:533> T003 ended after 10.003673465s : 1250 calls. qps=124.95409854923727
05:05:43 I periodic.go:533> T000 ended after 10.003763393s : 1250 calls. qps=124.95297528474842
Ended after 10.003800047s : 5000 calls. qps=499.81
Sleep times : count 4996 avg 0.0067188173 +/- 0.0004926 min 0.002247495 max 0.007275881 sum 33.5672114
Aggregated Function Time : count 5000 avg 0.0009266851 +/- 0.0003823 min 0.00036903 max 0.005439636 sum 4.63342548
# range, mid point, percentile, count
>= 0.00036903 <= 0.0004 , 0.000384515 , 0.04, 2
> 0.0004 <= 0.0005 , 0.00045 , 0.24, 10
> 0.0005 <= 0.0006 , 0.00055 , 1.38, 57
> 0.0006 <= 0.0007 , 0.00065 , 8.62, 362
> 0.0007 <= 0.0008 , 0.00075 , 32.16, 1177
> 0.0008 <= 0.0009 , 0.00085 , 61.30, 1457
> 0.0009 <= 0.001 , 0.00095 , 81.36, 1003
> 0.001 <= 0.0011 , 0.00105 , 90.08, 436
> 0.0011 <= 0.0012 , 0.00115 , 93.60, 176
> 0.0012 <= 0.0014 , 0.0013 , 95.92, 116
> 0.0014 <= 0.0016 , 0.0015 , 96.86, 47
> 0.0016 <= 0.0018 , 0.0017 , 97.10, 12
> 0.0018 <= 0.002 , 0.0019 , 97.94, 42
> 0.002 <= 0.0025 , 0.00225 , 98.94, 50
> 0.0025 <= 0.003 , 0.00275 , 99.34, 20
> 0.003 <= 0.0035 , 0.00325 , 99.44, 5
> 0.0035 <= 0.004 , 0.00375 , 99.56, 6
> 0.004 <= 0.0045 , 0.00425 , 99.66, 5
> 0.0045 <= 0.005 , 0.00475 , 99.76, 5
> 0.005 <= 0.00543964 , 0.00521982 , 100.00, 12
# target 50% 0.000861222
# target 75% 0.000968295
# target 90% 0.00109908
# target 99% 0.002575
# target 99.9% 0.00525645
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 0.927 ms avg, 499.8 qps
Successfully wrote 3460 bytes of Json data to /data/2018-11-19-050533_grpc_baseline_500qps_10s_echo_1_2.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
05:05:43 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:05:53 I periodic.go:533> T000 ended after 10.001220533s : 1250 calls. qps=124.98474519939876
05:05:53 I periodic.go:533> T002 ended after 10.001373122s : 1250 calls. qps=124.98283833150646
05:05:53 I periodic.go:533> T001 ended after 10.001408585s : 1250 calls. qps=124.98239516729032
05:05:53 I periodic.go:533> T003 ended after 10.001456527s : 1250 calls. qps=124.98179606395243
Ended after 10.00146888s : 5000 calls. qps=499.93
Sleep times : count 4996 avg 0.0063516321 +/- 0.0004843 min 0.001689657 max 0.007027723 sum 31.7327538
Aggregated Function Time : count 5000 avg 0.0013267031 +/- 0.0004191 min 0.000594979 max 0.006051699 sum 6.63351525
# range, mid point, percentile, count
>= 0.000594979 <= 0.0006 , 0.00059749 , 0.02, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.04, 1
> 0.0008 <= 0.0009 , 0.00085 , 0.26, 11
> 0.0009 <= 0.001 , 0.00095 , 3.94, 184
> 0.001 <= 0.0011 , 0.00105 , 16.78, 642
> 0.0011 <= 0.0012 , 0.00115 , 36.66, 994
> 0.0012 <= 0.0014 , 0.0013 , 76.50, 1992
> 0.0014 <= 0.0016 , 0.0015 , 92.80, 815
> 0.0016 <= 0.0018 , 0.0017 , 95.94, 157
> 0.0018 <= 0.002 , 0.0019 , 96.88, 47
> 0.002 <= 0.0025 , 0.00225 , 97.92, 52
> 0.0025 <= 0.003 , 0.00275 , 98.84, 46
> 0.003 <= 0.0035 , 0.00325 , 99.22, 19
> 0.0035 <= 0.004 , 0.00375 , 99.36, 7
> 0.004 <= 0.0045 , 0.00425 , 99.42, 3
> 0.0045 <= 0.005 , 0.00475 , 99.64, 11
> 0.005 <= 0.006 , 0.0055 , 99.98, 17
> 0.006 <= 0.0060517 , 0.00602585 , 100.00, 1
# target 50% 0.00126697
# target 75% 0.00139247
# target 90% 0.00156564
# target 99% 0.00321053
# target 99.9% 0.00576471
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 1.327 ms avg, 499.9 qps
Successfully wrote 3218 bytes of Json data to /data/2018-11-19-050543_grpc_linkerd_500qps_10s_echo_1_2.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8079
05:05:53 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:06:03 I periodic.go:533> T001 ended after 10.001368604s : 1250 calls. qps=124.98289479102574
05:06:03 I periodic.go:533> T002 ended after 10.002195508s : 1250 calls. qps=124.97256217399665
05:06:03 I periodic.go:533> T003 ended after 10.002264512s : 1250 calls. qps=124.97170000856703
05:06:03 I periodic.go:533> T000 ended after 10.002279593s : 1250 calls. qps=124.97151158169989
Ended after 10.002291388s : 5000 calls. qps=499.89
Sleep times : count 4996 avg 0.0057064784 +/- 0.0007734 min -0.001137127 max 0.006905327 sum 28.5095663
Aggregated Function Time : count 5000 avg 0.0019692422 +/- 0.0007314 min 0.000883184 max 0.008962667 sum 9.84621113
# range, mid point, percentile, count
>= 0.000883184 <= 0.0009 , 0.000891592 , 0.02, 1
> 0.0009 <= 0.001 , 0.00095 , 0.28, 13
> 0.001 <= 0.0011 , 0.00105 , 2.90, 131
> 0.0011 <= 0.0012 , 0.00115 , 8.40, 275
> 0.0012 <= 0.0014 , 0.0013 , 16.60, 410
> 0.0014 <= 0.0016 , 0.0015 , 21.64, 252
> 0.0016 <= 0.0018 , 0.0017 , 39.40, 888
> 0.0018 <= 0.002 , 0.0019 , 63.58, 1209
> 0.002 <= 0.0025 , 0.00225 , 89.04, 1273
> 0.0025 <= 0.003 , 0.00275 , 95.84, 340
> 0.003 <= 0.0035 , 0.00325 , 96.78, 47
> 0.0035 <= 0.004 , 0.00375 , 97.46, 34
> 0.004 <= 0.0045 , 0.00425 , 98.46, 50
> 0.0045 <= 0.005 , 0.00475 , 98.78, 16
> 0.005 <= 0.006 , 0.0055 , 99.32, 27
> 0.006 <= 0.007 , 0.0065 , 99.78, 23
> 0.007 <= 0.008 , 0.0075 , 99.92, 7
> 0.008 <= 0.00896267 , 0.00848133 , 100.00, 4
# target 50% 0.00188768
# target 75% 0.00222427
# target 90% 0.00257059
# target 99% 0.00540741
# target 99.9% 0.00785714
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 1.969 ms avg, 499.9 qps
Successfully wrote 3195 bytes of Json data to /data/2018-11-19-050553_grpc_istio_500qps_10s_echo_1_2.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
05:06:03 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 500.0 qps
05:06:03 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:06:13 I periodic.go:533> T003 ended after 10.000813328s : 1250 calls. qps=124.9898342268108
05:06:13 I periodic.go:533> T000 ended after 10.000911848s : 1250 calls. qps=124.98860293923872
05:06:13 I periodic.go:533> T002 ended after 10.000923762s : 1250 calls. qps=124.98845404157177
05:06:13 I periodic.go:533> T001 ended after 10.000943427s : 1250 calls. qps=124.98820827496318
Ended after 10.000958279s : 5000 calls. qps=499.95
Sleep times : count 4996 avg 0.0072083938 +/- 0.0003569 min 0.002812546 max 0.007572335 sum 36.0131354
Aggregated Function Time : count 5000 avg 0.00048686156 +/- 0.000299 min 0.00010907 max 0.004988405 sum 2.43430781
# range, mid point, percentile, count
>= 0.00010907 <= 0.0002 , 0.000154535 , 0.26, 13
> 0.0002 <= 0.0003 , 0.00025 , 5.34, 254
> 0.0003 <= 0.0004 , 0.00035 , 34.18, 1442
> 0.0004 <= 0.0005 , 0.00045 , 68.34, 1708
> 0.0005 <= 0.0006 , 0.00055 , 88.38, 1002
> 0.0006 <= 0.0007 , 0.00065 , 95.16, 339
> 0.0007 <= 0.0008 , 0.00075 , 97.04, 94
> 0.0008 <= 0.0009 , 0.00085 , 97.80, 38
> 0.0009 <= 0.001 , 0.00095 , 98.04, 12
> 0.001 <= 0.0011 , 0.00105 , 98.32, 14
> 0.0011 <= 0.0012 , 0.00115 , 98.42, 5
> 0.0012 <= 0.0014 , 0.0013 , 98.52, 5
> 0.0014 <= 0.0016 , 0.0015 , 98.82, 15
> 0.0016 <= 0.0018 , 0.0017 , 99.26, 22
> 0.0018 <= 0.002 , 0.0019 , 99.36, 5
> 0.0025 <= 0.003 , 0.00275 , 99.66, 15
> 0.003 <= 0.0035 , 0.00325 , 99.74, 4
> 0.0035 <= 0.004 , 0.00375 , 99.84, 5
> 0.004 <= 0.0045 , 0.00425 , 99.86, 1
> 0.0045 <= 0.0049884 , 0.0047442 , 100.00, 7
# target 50% 0.000446311
# target 75% 0.000533234
# target 90% 0.000623894
# target 99% 0.00168182
# target 99.9% 0.00463954
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
Response Body/Total Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
All done 5000 calls (plus 4 warmup) 0.487 ms avg, 500.0 qps
Successfully wrote 4032 bytes of Json data to /data/2018-11-19-050603_http_baseline_500qps_10s_echo_0_3.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
05:06:13 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 500.0 qps
05:06:13 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:06:23 I periodic.go:533> T001 ended after 10.001397605s : 1250 calls. qps=124.98253237878349
05:06:23 I periodic.go:533> T002 ended after 10.001789635s : 1250 calls. qps=124.97763356527544
05:06:23 I periodic.go:533> T003 ended after 10.004081361s : 1250 calls. qps=124.94900380088981
05:06:23 I periodic.go:533> T000 ended after 10.004135382s : 1250 calls. qps=124.94832909289393
Ended after 10.004152017s : 5000 calls. qps=499.79
Sleep times : count 4996 avg 0.0065605845 +/- 0.001193 min -0.021838372 max 0.00707138 sum 32.7766799
Aggregated Function Time : count 5000 avg 0.0010994852 +/- 0.000711 min 0.000642779 max 0.029094053 sum 5.49742621
# range, mid point, percentile, count
>= 0.000642779 <= 0.0007 , 0.00067139 , 0.24, 12
> 0.0007 <= 0.0008 , 0.00075 , 1.02, 39
> 0.0008 <= 0.0009 , 0.00085 , 9.46, 422
> 0.0009 <= 0.001 , 0.00095 , 41.80, 1617
> 0.001 <= 0.0011 , 0.00105 , 74.48, 1634
> 0.0011 <= 0.0012 , 0.00115 , 89.16, 734
> 0.0012 <= 0.0014 , 0.0013 , 95.76, 330
> 0.0014 <= 0.0016 , 0.0015 , 97.20, 72
> 0.0016 <= 0.0018 , 0.0017 , 97.68, 24
> 0.0018 <= 0.002 , 0.0019 , 98.10, 21
> 0.002 <= 0.0025 , 0.00225 , 98.56, 23
> 0.0025 <= 0.003 , 0.00275 , 98.78, 11
> 0.003 <= 0.0035 , 0.00325 , 98.98, 10
> 0.0035 <= 0.004 , 0.00375 , 99.28, 15
> 0.004 <= 0.0045 , 0.00425 , 99.68, 20
> 0.005 <= 0.006 , 0.0055 , 99.92, 12
> 0.014 <= 0.016 , 0.015 , 99.94, 1
> 0.018 <= 0.02 , 0.019 , 99.96, 1
> 0.02 <= 0.025 , 0.0225 , 99.98, 1
> 0.025 <= 0.0290941 , 0.027047 , 100.00, 1
# target 50% 0.00102509
# target 75% 0.00110354
# target 90% 0.00122545
# target 99% 0.00353333
# target 99.9% 0.00591667
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
Response Body/Total Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
All done 5000 calls (plus 4 warmup) 1.099 ms avg, 499.8 qps
Successfully wrote 3947 bytes of Json data to /data/2018-11-19-050613_http_linkerd_500qps_10s_echo_0_3.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
05:06:24 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 500.0 qps
05:06:24 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:06:34 I periodic.go:533> T000 ended after 10.001806093s : 1250 calls. qps=124.9774279142286
05:06:34 I periodic.go:533> T001 ended after 10.002364502s : 1250 calls. qps=124.97045071193506
05:06:34 I periodic.go:533> T003 ended after 10.002660968s : 1250 calls. qps=124.96674674858379
05:06:34 I periodic.go:533> T002 ended after 10.002746362s : 1250 calls. qps=124.9656799005417
Ended after 10.002832079s : 5000 calls. qps=499.86
Sleep times : count 4996 avg 0.0059815389 +/- 0.0006931 min -0.00032848 max 0.007019035 sum 29.8837685
Aggregated Function Time : count 5000 avg 0.0017004131 +/- 0.0006625 min 0.0008184 max 0.008096229 sum 8.50206551
# range, mid point, percentile, count
>= 0.0008184 <= 0.0009 , 0.0008592 , 0.22, 11
> 0.0009 <= 0.001 , 0.00095 , 0.34, 6
> 0.001 <= 0.0011 , 0.00105 , 0.68, 17
> 0.0011 <= 0.0012 , 0.00115 , 1.60, 46
> 0.0012 <= 0.0014 , 0.0013 , 24.54, 1147
> 0.0014 <= 0.0016 , 0.0015 , 62.92, 1919
> 0.0016 <= 0.0018 , 0.0017 , 79.86, 847
> 0.0018 <= 0.002 , 0.0019 , 86.34, 324
> 0.002 <= 0.0025 , 0.00225 , 94.46, 406
> 0.0025 <= 0.003 , 0.00275 , 96.02, 78
> 0.003 <= 0.0035 , 0.00325 , 96.64, 31
> 0.0035 <= 0.004 , 0.00375 , 97.96, 66
> 0.004 <= 0.0045 , 0.00425 , 98.84, 44
> 0.0045 <= 0.005 , 0.00475 , 99.06, 11
> 0.005 <= 0.006 , 0.0055 , 99.64, 29
> 0.006 <= 0.007 , 0.0065 , 99.76, 6
> 0.007 <= 0.008 , 0.0075 , 99.96, 10
> 0.008 <= 0.00809623 , 0.00804811 , 100.00, 2
# target 50% 0.00153267
# target 75% 0.00174262
# target 90% 0.00222537
# target 99% 0.00486364
# target 99.9% 0.0077
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 209 +/- 0 min 209 max 209 sum 1045000
Response Body/Total Sizes : count 5000 avg 209 +/- 0 min 209 max 209 sum 1045000
All done 5000 calls (plus 4 warmup) 1.700 ms avg, 499.9 qps
Successfully wrote 3739 bytes of Json data to /data/2018-11-19-050624_http_istio_500qps_10s_echo_0_3.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
05:06:34 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:06:44 I periodic.go:533> T000 ended after 10.000876877s : 1250 calls. qps=124.98903999855732
05:06:44 I periodic.go:533> T002 ended after 10.001352241s : 1250 calls. qps=124.98309927288562
05:06:44 I periodic.go:533> T003 ended after 10.003813013s : 1250 calls. qps=124.9523555044081
05:06:44 I periodic.go:533> T001 ended after 10.003879434s : 1250 calls. qps=124.95152588021485
Ended after 10.003894963s : 5000 calls. qps=499.81
Sleep times : count 4996 avg 0.0068134057 +/- 0.0004451 min 0.002743736 max 0.007425876 sum 34.0397748
Aggregated Function Time : count 5000 avg 0.00085146349 +/- 0.0003266 min 0.000367092 max 0.005011758 sum 4.25731743
# range, mid point, percentile, count
>= 0.000367092 <= 0.0004 , 0.000383546 , 0.04, 2
> 0.0004 <= 0.0005 , 0.00045 , 0.62, 29
> 0.0005 <= 0.0006 , 0.00055 , 3.88, 163
> 0.0006 <= 0.0007 , 0.00065 , 21.98, 905
> 0.0007 <= 0.0008 , 0.00075 , 51.82, 1492
> 0.0008 <= 0.0009 , 0.00085 , 76.50, 1234
> 0.0009 <= 0.001 , 0.00095 , 88.68, 609
> 0.001 <= 0.0011 , 0.00105 , 93.40, 236
> 0.0011 <= 0.0012 , 0.00115 , 95.08, 84
> 0.0012 <= 0.0014 , 0.0013 , 96.18, 55
> 0.0014 <= 0.0016 , 0.0015 , 97.10, 46
> 0.0016 <= 0.0018 , 0.0017 , 97.80, 35
> 0.0018 <= 0.002 , 0.0019 , 98.52, 36
> 0.002 <= 0.0025 , 0.00225 , 99.30, 39
> 0.0025 <= 0.003 , 0.00275 , 99.50, 10
> 0.003 <= 0.0035 , 0.00325 , 99.68, 9
> 0.0035 <= 0.004 , 0.00375 , 99.82, 7
> 0.004 <= 0.0045 , 0.00425 , 99.90, 4
> 0.0045 <= 0.005 , 0.00475 , 99.96, 3
> 0.005 <= 0.00501176 , 0.00500588 , 100.00, 2
# target 50% 0.000793901
# target 75% 0.000893922
# target 90% 0.00102797
# target 99% 0.00230769
# target 99.9% 0.0045
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 0.851 ms avg, 499.8 qps
Successfully wrote 3455 bytes of Json data to /data/2018-11-19-050634_grpc_baseline_500qps_10s_echo_0_3.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
05:06:44 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:06:54 I periodic.go:533> T003 ended after 10.002131657s : 1250 calls. qps=124.97335996624145
05:06:54 I periodic.go:533> T002 ended after 10.004621748s : 1250 calls. qps=124.94225483835854
05:06:54 I periodic.go:533> T001 ended after 10.006161265s : 1250 calls. qps=124.92303160976489
05:06:54 I periodic.go:533> T000 ended after 10.006219874s : 1250 calls. qps=124.92229990348102
Ended after 10.006237379s : 5000 calls. qps=499.69
Sleep times : count 4996 avg 0.0062445427 +/- 0.0004632 min 0.002029359 max 0.006826686 sum 31.1977355
Aggregated Function Time : count 5000 avg 0.0014399335 +/- 0.0004086 min 0.000943105 max 0.005985655 sum 7.19966731
# range, mid point, percentile, count
>= 0.000943105 <= 0.001 , 0.000971553 , 0.34, 17
> 0.001 <= 0.0011 , 0.00105 , 4.02, 184
> 0.0011 <= 0.0012 , 0.00115 , 14.26, 512
> 0.0012 <= 0.0014 , 0.0013 , 54.76, 2025
> 0.0014 <= 0.0016 , 0.0015 , 86.66, 1595
> 0.0016 <= 0.0018 , 0.0017 , 94.48, 391
> 0.0018 <= 0.002 , 0.0019 , 96.24, 88
> 0.002 <= 0.0025 , 0.00225 , 97.94, 85
> 0.0025 <= 0.003 , 0.00275 , 98.92, 49
> 0.003 <= 0.0035 , 0.00325 , 99.04, 6
> 0.0035 <= 0.004 , 0.00375 , 99.24, 10
> 0.004 <= 0.0045 , 0.00425 , 99.52, 14
> 0.0045 <= 0.005 , 0.00475 , 99.62, 5
> 0.005 <= 0.00598566 , 0.00549283 , 100.00, 19
# target 50% 0.00137649
# target 75% 0.0015269
# target 90% 0.00168542
# target 99% 0.00333333
# target 99.9% 0.00572627
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 1.440 ms avg, 499.7 qps
Successfully wrote 2737 bytes of Json data to /data/2018-11-19-050644_grpc_linkerd_500qps_10s_echo_0_3.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8079
05:06:54 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:07:04 I periodic.go:533> T002 ended after 10.001953881s : 1250 calls. qps=124.97558125863148
05:07:04 I periodic.go:533> T003 ended after 10.002594459s : 1250 calls. qps=124.96757767433945
05:07:04 I periodic.go:533> T001 ended after 10.002890582s : 1250 calls. qps=124.96387816631224
05:07:04 I periodic.go:533> T000 ended after 10.002996867s : 1250 calls. qps=124.96255038565134
Ended after 10.003066527s : 5000 calls. qps=499.85
Sleep times : count 4996 avg 0.005645774 +/- 0.001096 min -0.010645724 max 0.006846381 sum 28.2062869
Aggregated Function Time : count 5000 avg 0.002014533 +/- 0.0009888 min 0.000829275 max 0.018413048 sum 10.072665
# range, mid point, percentile, count
>= 0.000829275 <= 0.0009 , 0.000864638 , 0.06, 3
> 0.0009 <= 0.001 , 0.00095 , 0.40, 17
> 0.001 <= 0.0011 , 0.00105 , 2.74, 117
> 0.0011 <= 0.0012 , 0.00115 , 9.34, 330
> 0.0012 <= 0.0014 , 0.0013 , 17.98, 432
> 0.0014 <= 0.0016 , 0.0015 , 21.96, 199
> 0.0016 <= 0.0018 , 0.0017 , 39.54, 879
> 0.0018 <= 0.002 , 0.0019 , 66.10, 1328
> 0.002 <= 0.0025 , 0.00225 , 86.28, 1009
> 0.0025 <= 0.003 , 0.00275 , 94.48, 410
> 0.003 <= 0.0035 , 0.00325 , 95.94, 73
> 0.0035 <= 0.004 , 0.00375 , 96.74, 40
> 0.004 <= 0.0045 , 0.00425 , 97.58, 42
> 0.0045 <= 0.005 , 0.00475 , 98.18, 30
> 0.005 <= 0.006 , 0.0055 , 99.12, 47
> 0.006 <= 0.007 , 0.0065 , 99.44, 16
> 0.007 <= 0.008 , 0.0075 , 99.50, 3
> 0.008 <= 0.009 , 0.0085 , 99.72, 11
> 0.009 <= 0.01 , 0.0095 , 99.84, 6
> 0.01 <= 0.012 , 0.011 , 99.86, 1
> 0.012 <= 0.014 , 0.013 , 99.92, 3
> 0.016 <= 0.018 , 0.017 , 99.94, 1
> 0.018 <= 0.018413 , 0.0182065 , 100.00, 3
# target 50% 0.00187877
# target 75% 0.00222052
# target 90% 0.00272683
# target 99% 0.00587234
# target 99.9% 0.0133333
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 2.015 ms avg, 499.8 qps
Successfully wrote 3795 bytes of Json data to /data/2018-11-19-050654_grpc_istio_500qps_10s_echo_0_3.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
05:07:04 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 500.0 qps
05:07:04 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:07:14 I periodic.go:533> T002 ended after 10.000747053s : 1250 calls. qps=124.99066253505812
05:07:14 I periodic.go:533> T001 ended after 10.003782615s : 1250 calls. qps=124.95273519095755
05:07:14 I periodic.go:533> T003 ended after 10.003850805s : 1250 calls. qps=124.95188346623887
05:07:14 I periodic.go:533> T000 ended after 10.00387762s : 1250 calls. qps=124.95154853763594
Ended after 10.00389276s : 5000 calls. qps=499.81
Sleep times : count 4996 avg 0.0072366017 +/- 0.0003041 min 0.003246071 max 0.007604829 sum 36.154062
Aggregated Function Time : count 5000 avg 0.00045475925 +/- 0.0002417 min 0.000119636 max 0.004531286 sum 2.27379624
# range, mid point, percentile, count
>= 0.000119636 <= 0.0002 , 0.000159818 , 0.36, 18
> 0.0002 <= 0.0003 , 0.00025 , 8.14, 389
> 0.0003 <= 0.0004 , 0.00035 , 44.18, 1802
> 0.0004 <= 0.0005 , 0.00045 , 76.02, 1592
> 0.0005 <= 0.0006 , 0.00055 , 91.26, 762
> 0.0006 <= 0.0007 , 0.00065 , 95.80, 227
> 0.0007 <= 0.0008 , 0.00075 , 97.02, 61
> 0.0008 <= 0.0009 , 0.00085 , 97.78, 38
> 0.0009 <= 0.001 , 0.00095 , 98.10, 16
> 0.001 <= 0.0011 , 0.00105 , 98.44, 17
> 0.0011 <= 0.0012 , 0.00115 , 98.62, 9
> 0.0012 <= 0.0014 , 0.0013 , 98.92, 15
> 0.0014 <= 0.0016 , 0.0015 , 99.16, 12
> 0.0016 <= 0.0018 , 0.0017 , 99.44, 14
> 0.0018 <= 0.002 , 0.0019 , 99.68, 12
> 0.0025 <= 0.003 , 0.00275 , 99.82, 7
> 0.003 <= 0.0035 , 0.00325 , 99.90, 4
> 0.0035 <= 0.004 , 0.00375 , 99.92, 1
> 0.004 <= 0.0045 , 0.00425 , 99.98, 3
> 0.0045 <= 0.00453129 , 0.00451564 , 100.00, 1
# target 50% 0.000418279
# target 75% 0.000496796
# target 90% 0.000591732
# target 99% 0.00146667
# target 99.9% 0.0035
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
Response Body/Total Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
All done 5000 calls (plus 4 warmup) 0.455 ms avg, 499.8 qps
Successfully wrote 4018 bytes of Json data to /data/2018-11-19-050704_http_baseline_500qps_10s_echo_1_3.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
05:07:14 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 500.0 qps
05:07:14 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:07:24 I periodic.go:533> T002 ended after 10.000989369s : 1250 calls. qps=124.98763411094274
05:07:24 I periodic.go:533> T001 ended after 10.001412715s : 1250 calls. qps=124.9823435568522
05:07:24 I periodic.go:533> T000 ended after 10.003504586s : 1250 calls. qps=124.9562080222752
05:07:24 I periodic.go:533> T003 ended after 10.003549655s : 1250 calls. qps=124.95564505697452
Ended after 10.003570314s : 5000 calls. qps=499.82
Sleep times : count 4996 avg 0.0065669731 +/- 0.001937 min -0.035521397 max 0.007224214 sum 32.8085978
Aggregated Function Time : count 5000 avg 0.0010461163 +/- 0.001255 min 0.000515079 max 0.043326767 sum 5.2305816
# range, mid point, percentile, count
>= 0.000515079 <= 0.0006 , 0.00055754 , 0.24, 12
> 0.0006 <= 0.0007 , 0.00065 , 1.00, 38
> 0.0007 <= 0.0008 , 0.00075 , 7.04, 302
> 0.0008 <= 0.0009 , 0.00085 , 31.58, 1227
> 0.0009 <= 0.001 , 0.00095 , 65.20, 1681
> 0.001 <= 0.0011 , 0.00105 , 85.64, 1022
> 0.0011 <= 0.0012 , 0.00115 , 92.54, 345
> 0.0012 <= 0.0014 , 0.0013 , 96.14, 180
> 0.0014 <= 0.0016 , 0.0015 , 97.02, 44
> 0.0016 <= 0.0018 , 0.0017 , 97.64, 31
> 0.0018 <= 0.002 , 0.0019 , 98.12, 24
> 0.002 <= 0.0025 , 0.00225 , 98.82, 35
> 0.0025 <= 0.003 , 0.00275 , 99.08, 13
> 0.003 <= 0.0035 , 0.00325 , 99.28, 10
> 0.0035 <= 0.004 , 0.00375 , 99.36, 4
> 0.004 <= 0.0045 , 0.00425 , 99.44, 4
> 0.0045 <= 0.005 , 0.00475 , 99.60, 8
> 0.005 <= 0.006 , 0.0055 , 99.84, 12
> 0.006 <= 0.007 , 0.0065 , 99.92, 4
> 0.04 <= 0.0433268 , 0.0416634 , 100.00, 4
# target 50% 0.000954789
# target 75% 0.00104795
# target 90% 0.00116319
# target 99% 0.00284615
# target 99.9% 0.00675
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
Response Body/Total Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
All done 5000 calls (plus 4 warmup) 1.046 ms avg, 499.8 qps
Successfully wrote 3987 bytes of Json data to /data/2018-11-19-050714_http_linkerd_500qps_10s_echo_1_3.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
05:07:24 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 500.0 qps
05:07:24 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:07:34 I periodic.go:533> T002 ended after 10.001584859s : 1250 calls. qps=124.98019240172505
05:07:34 I periodic.go:533> T001 ended after 10.002239448s : 1250 calls. qps=124.97201316750562
05:07:34 I periodic.go:533> T000 ended after 10.002352246s : 1250 calls. qps=124.97060383970006
05:07:34 I periodic.go:533> T003 ended after 10.00241766s : 1250 calls. qps=124.96978655458383
Ended after 10.002442559s : 5000 calls. qps=499.88
Sleep times : count 4996 avg 0.0058650915 +/- 0.001232 min -0.013746057 max 0.00716426 sum 29.3019974
Aggregated Function Time : count 5000 avg 0.0017921471 +/- 0.001025 min 0.000647379 max 0.021520998 sum 8.96073557
# range, mid point, percentile, count
>= 0.000647379 <= 0.0007 , 0.00067369 , 0.02, 1
> 0.0008 <= 0.0009 , 0.00085 , 0.16, 7
> 0.0009 <= 0.001 , 0.00095 , 0.26, 5
> 0.001 <= 0.0011 , 0.00105 , 0.62, 18
> 0.0011 <= 0.0012 , 0.00115 , 1.38, 38
> 0.0012 <= 0.0014 , 0.0013 , 20.06, 934
> 0.0014 <= 0.0016 , 0.0015 , 59.62, 1978
> 0.0016 <= 0.0018 , 0.0017 , 78.36, 937
> 0.0018 <= 0.002 , 0.0019 , 84.02, 283
> 0.002 <= 0.0025 , 0.00225 , 91.90, 394
> 0.0025 <= 0.003 , 0.00275 , 93.86, 98
> 0.003 <= 0.0035 , 0.00325 , 95.32, 73
> 0.0035 <= 0.004 , 0.00375 , 97.10, 89
> 0.004 <= 0.0045 , 0.00425 , 98.26, 58
> 0.0045 <= 0.005 , 0.00475 , 98.72, 23
> 0.005 <= 0.006 , 0.0055 , 99.36, 32
> 0.006 <= 0.007 , 0.0065 , 99.68, 16
> 0.007 <= 0.008 , 0.0075 , 99.76, 4
> 0.01 <= 0.012 , 0.011 , 99.84, 4
> 0.014 <= 0.016 , 0.015 , 99.88, 2
> 0.016 <= 0.018 , 0.017 , 99.92, 2
> 0.02 <= 0.021521 , 0.0207605 , 100.00, 4
# target 50% 0.00155137
# target 75% 0.00176414
# target 90% 0.00237944
# target 99% 0.0054375
# target 99.9% 0.017
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 209 +/- 0 min 209 max 209 sum 1045000
Response Body/Total Sizes : count 5000 avg 209 +/- 0 min 209 max 209 sum 1045000
All done 5000 calls (plus 4 warmup) 1.792 ms avg, 499.9 qps
Successfully wrote 4188 bytes of Json data to /data/2018-11-19-050724_http_istio_500qps_10s_echo_1_3.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
05:07:34 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:07:44 I periodic.go:533> T003 ended after 10.001107328s : 1250 calls. qps=124.98615993254943
05:07:44 I periodic.go:533> T001 ended after 10.001478499s : 1250 calls. qps=124.98152149454519
05:07:44 I periodic.go:533> T002 ended after 10.001515484s : 1250 calls. qps=124.98105932042968
05:07:44 I periodic.go:533> T000 ended after 10.001544579s : 1250 calls. qps=124.9806957441948
Ended after 10.001558783s : 5000 calls. qps=499.92
Sleep times : count 4996 avg 0.0067866994 +/- 0.0005034 min 0.001206866 max 0.00736545 sum 33.90635
Aggregated Function Time : count 5000 avg 0.00087790363 +/- 0.0003804 min 0.000409472 max 0.006502619 sum 4.38951815
# range, mid point, percentile, count
>= 0.000409472 <= 0.0005 , 0.000454736 , 0.28, 14
> 0.0005 <= 0.0006 , 0.00055 , 3.02, 137
> 0.0006 <= 0.0007 , 0.00065 , 16.90, 694
> 0.0007 <= 0.0008 , 0.00075 , 44.76, 1393
> 0.0008 <= 0.0009 , 0.00085 , 72.24, 1374
> 0.0009 <= 0.001 , 0.00095 , 87.96, 786
> 0.001 <= 0.0011 , 0.00105 , 93.24, 264
> 0.0011 <= 0.0012 , 0.00115 , 95.12, 94
> 0.0012 <= 0.0014 , 0.0013 , 96.28, 58
> 0.0014 <= 0.0016 , 0.0015 , 96.98, 35
> 0.0016 <= 0.0018 , 0.0017 , 97.44, 23
> 0.0018 <= 0.002 , 0.0019 , 98.08, 32
> 0.002 <= 0.0025 , 0.00225 , 99.06, 49
> 0.0025 <= 0.003 , 0.00275 , 99.30, 12
> 0.003 <= 0.0035 , 0.00325 , 99.48, 9
> 0.0035 <= 0.004 , 0.00375 , 99.60, 6
> 0.004 <= 0.0045 , 0.00425 , 99.82, 11
> 0.0045 <= 0.005 , 0.00475 , 99.86, 2
> 0.005 <= 0.006 , 0.0055 , 99.92, 3
> 0.006 <= 0.00650262 , 0.00625131 , 100.00, 4
# target 50% 0.000819068
# target 75% 0.000917557
# target 90% 0.00103864
# target 99% 0.00246939
# target 99.9% 0.00566667
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 0.878 ms avg, 499.9 qps
Successfully wrote 3459 bytes of Json data to /data/2018-11-19-050734_grpc_baseline_500qps_10s_echo_1_3.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
05:07:44 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:07:54 I periodic.go:533> T000 ended after 10.001453304s : 1250 calls. qps=124.98183633973201
05:07:54 I periodic.go:533> T002 ended after 10.004059746s : 1250 calls. qps=124.94927376856153
05:07:54 I periodic.go:533> T003 ended after 10.006117677s : 1250 calls. qps=124.92357579136234
05:07:54 I periodic.go:533> T001 ended after 10.006205668s : 1250 calls. qps=124.9224772580399
Ended after 10.006223994s : 5000 calls. qps=499.69
Sleep times : count 4996 avg 0.0063925227 +/- 0.0005083 min 0.000289444 max 0.007036011 sum 31.9370435
Aggregated Function Time : count 5000 avg 0.0012887149 +/- 0.0004383 min 0.000731282 max 0.007560865 sum 6.44357431
# range, mid point, percentile, count
>= 0.000731282 <= 0.0008 , 0.000765641 , 0.06, 3
> 0.0008 <= 0.0009 , 0.00085 , 1.58, 76
> 0.0009 <= 0.001 , 0.00095 , 9.34, 388
> 0.001 <= 0.0011 , 0.00105 , 24.78, 772
> 0.0011 <= 0.0012 , 0.00115 , 45.08, 1015
> 0.0012 <= 0.0014 , 0.0013 , 80.16, 1754
> 0.0014 <= 0.0016 , 0.0015 , 93.58, 671
> 0.0016 <= 0.0018 , 0.0017 , 96.30, 136
> 0.0018 <= 0.002 , 0.0019 , 97.18, 44
> 0.002 <= 0.0025 , 0.00225 , 98.36, 59
> 0.0025 <= 0.003 , 0.00275 , 99.00, 32
> 0.003 <= 0.0035 , 0.00325 , 99.20, 10
> 0.0035 <= 0.004 , 0.00375 , 99.30, 5
> 0.004 <= 0.0045 , 0.00425 , 99.44, 7
> 0.0045 <= 0.005 , 0.00475 , 99.58, 7
> 0.005 <= 0.006 , 0.0055 , 99.94, 18
> 0.006 <= 0.007 , 0.0065 , 99.98, 2
> 0.007 <= 0.00756086 , 0.00728043 , 100.00, 1
# target 50% 0.00122805
# target 75% 0.00137058
# target 90% 0.00154665
# target 99% 0.003
# target 99.9% 0.00588889
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 1.289 ms avg, 499.7 qps
Successfully wrote 3184 bytes of Json data to /data/2018-11-19-050744_grpc_linkerd_500qps_10s_echo_1_3.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8079
05:07:54 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:08:04 I periodic.go:533> T001 ended after 10.003024351s : 1250 calls. qps=124.96220704241689
05:08:04 I periodic.go:533> T000 ended after 10.003726285s : 1250 calls. qps=124.95343878753475
05:08:04 I periodic.go:533> T002 ended after 10.003958493s : 1250 calls. qps=124.95053841683307
05:08:04 I periodic.go:533> T003 ended after 10.004134309s : 1250 calls. qps=124.94834249430907
Ended after 10.00420212s : 5000 calls. qps=499.79
Sleep times : count 4996 avg 0.0058061892 +/- 0.0007335 min 0.000166129 max 0.006872086 sum 29.0077213
Aggregated Function Time : count 5000 avg 0.0018755212 +/- 0.0007026 min 0.000914353 max 0.00762718 sum 9.37760593
# range, mid point, percentile, count
>= 0.000914353 <= 0.001 , 0.000957177 , 0.36, 18
> 0.001 <= 0.0011 , 0.00105 , 4.28, 196
> 0.0011 <= 0.0012 , 0.00115 , 12.34, 403
> 0.0012 <= 0.0014 , 0.0013 , 20.50, 408
> 0.0014 <= 0.0016 , 0.0015 , 24.30, 190
> 0.0016 <= 0.0018 , 0.0017 , 47.12, 1141
> 0.0018 <= 0.002 , 0.0019 , 76.68, 1478
> 0.002 <= 0.0025 , 0.00225 , 91.42, 737
> 0.0025 <= 0.003 , 0.00275 , 95.42, 200
> 0.003 <= 0.0035 , 0.00325 , 96.70, 64
> 0.0035 <= 0.004 , 0.00375 , 97.32, 31
> 0.004 <= 0.0045 , 0.00425 , 98.26, 47
> 0.0045 <= 0.005 , 0.00475 , 98.88, 31
> 0.005 <= 0.006 , 0.0055 , 99.52, 32
> 0.006 <= 0.007 , 0.0065 , 99.94, 21
> 0.007 <= 0.00762718 , 0.00731359 , 100.00, 3
# target 50% 0.00181949
# target 75% 0.00198863
# target 90% 0.00245183
# target 99% 0.0051875
# target 99.9% 0.00690476
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 1.876 ms avg, 499.8 qps
Successfully wrote 2950 bytes of Json data to /data/2018-11-19-050754_grpc_istio_500qps_10s_echo_1_3.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
05:08:04 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 500.0 qps
05:08:04 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:08:14 I periodic.go:533> T002 ended after 10.000778766s : 1250 calls. qps=124.99026618303657
05:08:14 I periodic.go:533> T001 ended after 10.004006336s : 1250 calls. qps=124.94994085537533
05:08:14 I periodic.go:533> T000 ended after 10.004080461s : 1250 calls. qps=124.9490150417134
05:08:14 I periodic.go:533> T003 ended after 10.004097013s : 1250 calls. qps=124.94880831080161
Ended after 10.004110767s : 5000 calls. qps=499.79
Sleep times : count 4996 avg 0.0072486744 +/- 0.0003578 min 0.00296249 max 0.007594931 sum 36.2143772
Aggregated Function Time : count 5000 avg 0.00044724989 +/- 0.0002695 min 0.000111752 max 0.004570437 sum 2.23624943
# range, mid point, percentile, count
>= 0.000111752 <= 0.0002 , 0.000155876 , 0.66, 33
> 0.0002 <= 0.0003 , 0.00025 , 9.84, 459
> 0.0003 <= 0.0004 , 0.00035 , 47.54, 1885
> 0.0004 <= 0.0005 , 0.00045 , 79.72, 1609
> 0.0005 <= 0.0006 , 0.00055 , 92.52, 640
> 0.0006 <= 0.0007 , 0.00065 , 96.12, 180
> 0.0007 <= 0.0008 , 0.00075 , 97.32, 60
> 0.0008 <= 0.0009 , 0.00085 , 97.94, 31
> 0.0009 <= 0.001 , 0.00095 , 98.08, 7
> 0.001 <= 0.0011 , 0.00105 , 98.22, 7
> 0.0011 <= 0.0012 , 0.00115 , 98.36, 7
> 0.0012 <= 0.0014 , 0.0013 , 98.80, 22
> 0.0014 <= 0.0016 , 0.0015 , 99.18, 19
> 0.0016 <= 0.0018 , 0.0017 , 99.30, 6
> 0.0018 <= 0.002 , 0.0019 , 99.40, 5
> 0.002 <= 0.0025 , 0.00225 , 99.56, 8
> 0.0025 <= 0.003 , 0.00275 , 99.64, 4
> 0.003 <= 0.0035 , 0.00325 , 99.80, 8
> 0.0035 <= 0.004 , 0.00375 , 99.92, 6
> 0.004 <= 0.0045 , 0.00425 , 99.98, 3
> 0.0045 <= 0.00457044 , 0.00453522 , 100.00, 1
# target 50% 0.000407644
# target 75% 0.000485333
# target 90% 0.000580313
# target 99% 0.00150526
# target 99.9% 0.00391667
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
Response Body/Total Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
All done 5000 calls (plus 4 warmup) 0.447 ms avg, 499.8 qps
Successfully wrote 4133 bytes of Json data to /data/2018-11-19-050804_http_baseline_500qps_10s_echo_0_4.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
05:08:14 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 500.0 qps
05:08:14 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:08:24 I periodic.go:533> T003 ended after 10.000990141s : 1250 calls. qps=124.98762446285266
05:08:24 I periodic.go:533> T002 ended after 10.001400065s : 1250 calls. qps=124.9825016373845
05:08:24 I periodic.go:533> T000 ended after 10.004287981s : 1250 calls. qps=124.94642321112528
05:08:24 I periodic.go:533> T001 ended after 10.004338789s : 1250 calls. qps=124.94578865865715
Ended after 10.004354039s : 5000 calls. qps=499.78
Sleep times : count 4996 avg 0.0067328027 +/- 0.001555 min -0.029172712 max 0.00733215 sum 33.6370824
Aggregated Function Time : count 5000 avg 0.00088282278 +/- 0.0003578 min 0.00050484 max 0.006506894 sum 4.41411389
# range, mid point, percentile, count
>= 0.00050484 <= 0.0006 , 0.00055242 , 0.40, 20
> 0.0006 <= 0.0007 , 0.00065 , 10.56, 508
> 0.0007 <= 0.0008 , 0.00075 , 39.06, 1425
> 0.0008 <= 0.0009 , 0.00085 , 71.40, 1617
> 0.0009 <= 0.001 , 0.00095 , 89.18, 889
> 0.001 <= 0.0011 , 0.00105 , 94.80, 281
> 0.0011 <= 0.0012 , 0.00115 , 96.24, 72
> 0.0012 <= 0.0014 , 0.0013 , 97.18, 47
> 0.0014 <= 0.0016 , 0.0015 , 97.66, 24
> 0.0016 <= 0.0018 , 0.0017 , 98.12, 23
> 0.0018 <= 0.002 , 0.0019 , 98.84, 36
> 0.002 <= 0.0025 , 0.00225 , 99.28, 22
> 0.0025 <= 0.003 , 0.00275 , 99.46, 9
> 0.003 <= 0.0035 , 0.00325 , 99.48, 1
> 0.0035 <= 0.004 , 0.00375 , 99.58, 5
> 0.004 <= 0.0045 , 0.00425 , 99.68, 5
> 0.0045 <= 0.005 , 0.00475 , 99.84, 8
> 0.005 <= 0.006 , 0.0055 , 99.92, 4
> 0.006 <= 0.00650689 , 0.00625345 , 100.00, 4
# target 50% 0.000833828
# target 75% 0.000920247
# target 90% 0.00101459
# target 99% 0.00218182
# target 99.9% 0.00575
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
Response Body/Total Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
All done 5000 calls (plus 4 warmup) 0.883 ms avg, 499.8 qps
Successfully wrote 3878 bytes of Json data to /data/2018-11-19-050814_http_linkerd_500qps_10s_echo_0_4.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
05:08:24 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 500.0 qps
05:08:24 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:08:34 I periodic.go:533> T002 ended after 10.001715342s : 1250 calls. qps=124.97856190236692
05:08:34 I periodic.go:533> T001 ended after 10.002221705s : 1250 calls. qps=124.9722348560959
05:08:34 I periodic.go:533> T003 ended after 10.002323727s : 1250 calls. qps=124.9709601605659
05:08:34 I periodic.go:533> T000 ended after 10.002388246s : 1250 calls. qps=124.97015405294636
Ended after 10.00242727s : 5000 calls. qps=499.88
Sleep times : count 4996 avg 0.0061366641 +/- 0.0007195 min -0.00344091 max 0.007089082 sum 30.6587737
Aggregated Function Time : count 5000 avg 0.0015674346 +/- 0.0006706 min 0.000697705 max 0.011210956 sum 7.83717318
# range, mid point, percentile, count
>= 0.000697705 <= 0.0007 , 0.000698852 , 0.02, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.10, 4
> 0.0008 <= 0.0009 , 0.00085 , 0.18, 4
> 0.0009 <= 0.001 , 0.00095 , 0.52, 17
> 0.001 <= 0.0011 , 0.00105 , 0.86, 17
> 0.0011 <= 0.0012 , 0.00115 , 2.56, 85
> 0.0012 <= 0.0014 , 0.0013 , 48.54, 2299
> 0.0014 <= 0.0016 , 0.0015 , 80.96, 1621
> 0.0016 <= 0.0018 , 0.0017 , 87.08, 306
> 0.0018 <= 0.002 , 0.0019 , 90.28, 160
> 0.002 <= 0.0025 , 0.00225 , 96.12, 292
> 0.0025 <= 0.003 , 0.00275 , 96.56, 22
> 0.003 <= 0.0035 , 0.00325 , 97.34, 39
> 0.0035 <= 0.004 , 0.00375 , 98.54, 60
> 0.004 <= 0.0045 , 0.00425 , 99.02, 24
> 0.0045 <= 0.005 , 0.00475 , 99.20, 9
> 0.005 <= 0.006 , 0.0055 , 99.66, 23
> 0.006 <= 0.007 , 0.0065 , 99.76, 5
> 0.007 <= 0.008 , 0.0075 , 99.84, 4
> 0.009 <= 0.01 , 0.0095 , 99.92, 4
> 0.01 <= 0.011211 , 0.0106055 , 100.00, 4
# target 50% 0.00140901
# target 75% 0.00156323
# target 90% 0.0019825
# target 99% 0.00447917
# target 99.9% 0.00975
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 209 +/- 0 min 209 max 209 sum 1045000
Response Body/Total Sizes : count 5000 avg 209 +/- 0 min 209 max 209 sum 1045000
All done 5000 calls (plus 4 warmup) 1.567 ms avg, 499.9 qps
Successfully wrote 4069 bytes of Json data to /data/2018-11-19-050824_http_istio_500qps_10s_echo_0_4.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
05:08:34 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:08:44 I periodic.go:533> T003 ended after 10.00092079s : 1250 calls. qps=124.9884911847202
05:08:44 I periodic.go:533> T001 ended after 10.001291799s : 1250 calls. qps=124.98385459816139
05:08:44 I periodic.go:533> T002 ended after 10.003607907s : 1250 calls. qps=124.95491742787277
05:08:44 I periodic.go:533> T000 ended after 10.003676165s : 1250 calls. qps=124.95406482402862
Ended after 10.003691415s : 5000 calls. qps=499.82
Sleep times : count 4996 avg 0.0068023787 +/- 0.0004342 min 0.002724814 max 0.00737718 sum 33.9846841
Aggregated Function Time : count 5000 avg 0.00085566056 +/- 0.0003131 min 0.000376858 max 0.004931328 sum 4.2783028
# range, mid point, percentile, count
>= 0.000376858 <= 0.0004 , 0.000388429 , 0.02, 1
> 0.0004 <= 0.0005 , 0.00045 , 0.34, 16
> 0.0005 <= 0.0006 , 0.00055 , 3.76, 171
> 0.0006 <= 0.0007 , 0.00065 , 19.04, 764
> 0.0007 <= 0.0008 , 0.00075 , 49.12, 1504
> 0.0008 <= 0.0009 , 0.00085 , 76.12, 1350
> 0.0009 <= 0.001 , 0.00095 , 89.14, 651
> 0.001 <= 0.0011 , 0.00105 , 93.80, 233
> 0.0011 <= 0.0012 , 0.00115 , 95.06, 63
> 0.0012 <= 0.0014 , 0.0013 , 96.38, 66
> 0.0014 <= 0.0016 , 0.0015 , 97.18, 40
> 0.0016 <= 0.0018 , 0.0017 , 97.64, 23
> 0.0018 <= 0.002 , 0.0019 , 98.52, 44
> 0.002 <= 0.0025 , 0.00225 , 99.46, 47
> 0.0025 <= 0.003 , 0.00275 , 99.60, 7
> 0.003 <= 0.0035 , 0.00325 , 99.76, 8
> 0.0035 <= 0.004 , 0.00375 , 99.78, 1
> 0.004 <= 0.0045 , 0.00425 , 99.88, 5
> 0.0045 <= 0.00493133 , 0.00471566 , 100.00, 6
# target 50% 0.000803259
# target 75% 0.000895852
# target 90% 0.00101845
# target 99% 0.00225532
# target 99.9% 0.00457189
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 0.856 ms avg, 499.8 qps
Successfully wrote 3353 bytes of Json data to /data/2018-11-19-050834_grpc_baseline_500qps_10s_echo_0_4.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
05:08:44 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:08:54 I periodic.go:533> T002 ended after 10.001200655s : 1250 calls. qps=124.9849936142492
05:08:54 I periodic.go:533> T000 ended after 10.004003461s : 1250 calls. qps=124.9499767641074
05:08:54 I periodic.go:533> T001 ended after 10.004061637s : 1250 calls. qps=124.94925015024675
05:08:54 I periodic.go:533> T003 ended after 10.0040799s : 1250 calls. qps=124.94902204849443
Ended after 10.004091866s : 5000 calls. qps=499.8
Sleep times : count 4996 avg 0.00641478 +/- 0.000501 min 0.00144246 max 0.007018558 sum 32.0482408
Aggregated Function Time : count 5000 avg 0.0012679313 +/- 0.0004235 min 0.000778075 max 0.006286608 sum 6.3396565
# range, mid point, percentile, count
>= 0.000778075 <= 0.0008 , 0.000789037 , 0.06, 3
> 0.0008 <= 0.0009 , 0.00085 , 1.12, 53
> 0.0009 <= 0.001 , 0.00095 , 9.40, 414
> 0.001 <= 0.0011 , 0.00105 , 28.96, 978
> 0.0011 <= 0.0012 , 0.00115 , 51.76, 1140
> 0.0012 <= 0.0014 , 0.0013 , 83.70, 1597
> 0.0014 <= 0.0016 , 0.0015 , 93.78, 504
> 0.0016 <= 0.0018 , 0.0017 , 95.66, 94
> 0.0018 <= 0.002 , 0.0019 , 96.64, 49
> 0.002 <= 0.0025 , 0.00225 , 98.40, 88
> 0.0025 <= 0.003 , 0.00275 , 98.94, 27
> 0.003 <= 0.0035 , 0.00325 , 99.10, 8
> 0.0035 <= 0.004 , 0.00375 , 99.38, 14
> 0.004 <= 0.0045 , 0.00425 , 99.54, 8
> 0.0045 <= 0.005 , 0.00475 , 99.60, 3
> 0.005 <= 0.006 , 0.0055 , 99.92, 16
> 0.006 <= 0.00628661 , 0.0061433 , 100.00, 4
# target 50% 0.00119228
# target 75% 0.00134552
# target 90% 0.001525
# target 99% 0.0031875
# target 99.9% 0.0059375
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 1.268 ms avg, 499.8 qps
Successfully wrote 3092 bytes of Json data to /data/2018-11-19-050844_grpc_linkerd_500qps_10s_echo_0_4.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8079
05:08:54 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:09:04 I periodic.go:533> T002 ended after 10.001439786s : 1250 calls. qps=124.98200526585663
05:09:04 I periodic.go:533> T000 ended after 10.002312756s : 1250 calls. qps=124.97109723450443
05:09:04 I periodic.go:533> T001 ended after 10.002590934s : 1250 calls. qps=124.9676217140002
05:09:04 I periodic.go:533> T003 ended after 10.002675399s : 1250 calls. qps=124.96656645730668
Ended after 10.002766643s : 5000 calls. qps=499.86
Sleep times : count 4996 avg 0.005738231 +/- 0.0009062 min -0.003217261 max 0.007316941 sum 28.6682018
Aggregated Function Time : count 5000 avg 0.0019348329 +/- 0.0008545 min 0.000635461 max 0.011064789 sum 9.67416454
# range, mid point, percentile, count
>= 0.000635461 <= 0.0007 , 0.000667731 , 0.04, 2
> 0.0007 <= 0.0008 , 0.00075 , 0.06, 1
> 0.0008 <= 0.0009 , 0.00085 , 0.16, 5
> 0.0009 <= 0.001 , 0.00095 , 0.64, 24
> 0.001 <= 0.0011 , 0.00105 , 4.58, 197
> 0.0011 <= 0.0012 , 0.00115 , 11.40, 341
> 0.0012 <= 0.0014 , 0.0013 , 19.58, 409
> 0.0014 <= 0.0016 , 0.0015 , 23.52, 197
> 0.0016 <= 0.0018 , 0.0017 , 43.90, 1019
> 0.0018 <= 0.002 , 0.0019 , 72.38, 1424
> 0.002 <= 0.0025 , 0.00225 , 89.48, 855
> 0.0025 <= 0.003 , 0.00275 , 95.52, 302
> 0.003 <= 0.0035 , 0.00325 , 96.50, 49
> 0.0035 <= 0.004 , 0.00375 , 97.44, 47
> 0.004 <= 0.0045 , 0.00425 , 98.20, 38
> 0.0045 <= 0.005 , 0.00475 , 98.50, 15
> 0.005 <= 0.006 , 0.0055 , 99.10, 30
> 0.006 <= 0.007 , 0.0065 , 99.36, 13
> 0.007 <= 0.008 , 0.0075 , 99.56, 10
> 0.008 <= 0.009 , 0.0085 , 99.76, 10
> 0.009 <= 0.01 , 0.0095 , 99.86, 5
> 0.01 <= 0.0110648 , 0.0105324 , 100.00, 7
# target 50% 0.00184284
# target 75% 0.00207661
# target 90% 0.00254305
# target 99% 0.00583333
# target 99.9% 0.0103042
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 1.935 ms avg, 499.9 qps
Successfully wrote 3647 bytes of Json data to /data/2018-11-19-050854_grpc_istio_500qps_10s_echo_0_4.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
05:09:04 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 500.0 qps
05:09:04 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:09:14 I periodic.go:533> T002 ended after 10.000757925s : 1250 calls. qps=124.99052665550846
05:09:14 I periodic.go:533> T003 ended after 10.001436094s : 1250 calls. qps=124.9820514025873
05:09:14 I periodic.go:533> T001 ended after 10.003652869s : 1250 calls. qps=124.95435581072441
05:09:14 I periodic.go:533> T000 ended after 10.003707025s : 1250 calls. qps=124.95367935867753
Ended after 10.003725578s : 5000 calls. qps=499.81
Sleep times : count 4996 avg 0.0072325106 +/- 0.0003629 min 0.003220474 max 0.00765814 sum 36.1336231
Aggregated Function Time : count 5000 avg 0.00046213728 +/- 0.0002715 min 0.000129452 max 0.004611953 sum 2.31068639
# range, mid point, percentile, count
>= 0.000129452 <= 0.0002 , 0.000164726 , 0.42, 21
> 0.0002 <= 0.0003 , 0.00025 , 7.36, 347
> 0.0003 <= 0.0004 , 0.00035 , 44.04, 1834
> 0.0004 <= 0.0005 , 0.00045 , 75.72, 1584
> 0.0005 <= 0.0006 , 0.00055 , 89.98, 713
> 0.0006 <= 0.0007 , 0.00065 , 95.22, 262
> 0.0007 <= 0.0008 , 0.00075 , 97.06, 92
> 0.0008 <= 0.0009 , 0.00085 , 97.66, 30
> 0.0009 <= 0.001 , 0.00095 , 97.86, 10
> 0.001 <= 0.0011 , 0.00105 , 98.06, 10
> 0.0011 <= 0.0012 , 0.00115 , 98.38, 16
> 0.0012 <= 0.0014 , 0.0013 , 98.90, 26
> 0.0014 <= 0.0016 , 0.0015 , 99.06, 8
> 0.0016 <= 0.0018 , 0.0017 , 99.18, 6
> 0.0018 <= 0.002 , 0.0019 , 99.38, 10
> 0.002 <= 0.0025 , 0.00225 , 99.54, 8
> 0.0025 <= 0.003 , 0.00275 , 99.70, 8
> 0.003 <= 0.0035 , 0.00325 , 99.88, 9
> 0.0035 <= 0.004 , 0.00375 , 99.90, 1
> 0.004 <= 0.0045 , 0.00425 , 99.96, 3
> 0.0045 <= 0.00461195 , 0.00455598 , 100.00, 2
# target 50% 0.000418813
# target 75% 0.000497727
# target 90% 0.000600382
# target 99% 0.001525
# target 99.9% 0.004
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
Response Body/Total Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
All done 5000 calls (plus 4 warmup) 0.462 ms avg, 499.8 qps
Successfully wrote 4123 bytes of Json data to /data/2018-11-19-050904_http_baseline_500qps_10s_echo_1_4.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
05:09:14 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 500.0 qps
05:09:14 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:09:24 I periodic.go:533> T002 ended after 10.001064049s : 1250 calls. qps=124.98670080259977
05:09:24 I periodic.go:533> T001 ended after 10.003473807s : 1250 calls. qps=124.9565924914307
05:09:24 I periodic.go:533> T003 ended after 10.005494874s : 1250 calls. qps=124.93135179632296
05:09:24 I periodic.go:533> T000 ended after 10.005548253s : 1250 calls. qps=124.93068529505196
Ended after 10.005593505s : 5000 calls. qps=499.72
Sleep times : count 4996 avg 0.0065721539 +/- 0.001391 min -0.025868651 max 0.007506087 sum 32.8344806
Aggregated Function Time : count 5000 avg 0.0010681784 +/- 0.00076 min 0.000444633 max 0.030182562 sum 5.340892
# range, mid point, percentile, count
>= 0.000444633 <= 0.0005 , 0.000472317 , 0.02, 1
> 0.0005 <= 0.0006 , 0.00055 , 0.04, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.38, 17
> 0.0007 <= 0.0008 , 0.00075 , 2.96, 129
> 0.0008 <= 0.0009 , 0.00085 , 18.32, 768
> 0.0009 <= 0.001 , 0.00095 , 53.14, 1741
> 0.001 <= 0.0011 , 0.00105 , 81.96, 1441
> 0.0011 <= 0.0012 , 0.00115 , 92.16, 510
> 0.0012 <= 0.0014 , 0.0013 , 96.10, 197
> 0.0014 <= 0.0016 , 0.0015 , 96.78, 34
> 0.0016 <= 0.0018 , 0.0017 , 97.40, 31
> 0.0018 <= 0.002 , 0.0019 , 98.16, 38
> 0.002 <= 0.0025 , 0.00225 , 98.62, 23
> 0.0025 <= 0.003 , 0.00275 , 98.90, 14
> 0.003 <= 0.0035 , 0.00325 , 99.14, 12
> 0.0035 <= 0.004 , 0.00375 , 99.32, 9
> 0.004 <= 0.0045 , 0.00425 , 99.48, 8
> 0.0045 <= 0.005 , 0.00475 , 99.80, 16
> 0.005 <= 0.006 , 0.0055 , 99.84, 2
> 0.006 <= 0.007 , 0.0065 , 99.92, 4
> 0.016 <= 0.018 , 0.017 , 99.94, 1
> 0.02 <= 0.025 , 0.0225 , 99.96, 1
> 0.025 <= 0.03 , 0.0275 , 99.98, 1
> 0.03 <= 0.0301826 , 0.0300913 , 100.00, 1
# target 50% 0.000990982
# target 75% 0.00107585
# target 90% 0.00117882
# target 99% 0.00320833
# target 99.9% 0.00675
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
Response Body/Total Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
All done 5000 calls (plus 4 warmup) 1.068 ms avg, 499.7 qps
Successfully wrote 4457 bytes of Json data to /data/2018-11-19-050914_http_linkerd_500qps_10s_echo_1_4.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
05:09:25 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 500.0 qps
05:09:25 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:09:35 I periodic.go:533> T002 ended after 10.001572105s : 1250 calls. qps=124.98035177640706
05:09:35 I periodic.go:533> T001 ended after 10.001994423s : 1250 calls. qps=124.97507468366243
05:09:35 I periodic.go:533> T003 ended after 10.002442644s : 1250 calls. qps=124.96947440631583
05:09:35 I periodic.go:533> T000 ended after 10.002465334s : 1250 calls. qps=124.96919092046713
Ended after 10.002478434s : 5000 calls. qps=499.88
Sleep times : count 4996 avg 0.0060922672 +/- 0.0007503 min -0.004203609 max 0.007016534 sum 30.4369668
Aggregated Function Time : count 5000 avg 0.0015977572 +/- 0.0006912 min 0.000731135 max 0.011905113 sum 7.98878586
# range, mid point, percentile, count
>= 0.000731135 <= 0.0008 , 0.000765568 , 0.04, 2
> 0.0008 <= 0.0009 , 0.00085 , 0.22, 9
> 0.0009 <= 0.001 , 0.00095 , 0.56, 17
> 0.001 <= 0.0011 , 0.00105 , 0.78, 11
> 0.0011 <= 0.0012 , 0.00115 , 2.96, 109
> 0.0012 <= 0.0014 , 0.0013 , 48.26, 2265
> 0.0014 <= 0.0016 , 0.0015 , 77.64, 1469
> 0.0016 <= 0.0018 , 0.0017 , 83.58, 297
> 0.0018 <= 0.002 , 0.0019 , 87.70, 206
> 0.002 <= 0.0025 , 0.00225 , 95.64, 397
> 0.0025 <= 0.003 , 0.00275 , 96.42, 39
> 0.003 <= 0.0035 , 0.00325 , 96.98, 28
> 0.0035 <= 0.004 , 0.00375 , 98.46, 74
> 0.004 <= 0.0045 , 0.00425 , 98.88, 21
> 0.0045 <= 0.005 , 0.00475 , 99.18, 15
> 0.005 <= 0.006 , 0.0055 , 99.58, 20
> 0.006 <= 0.007 , 0.0065 , 99.76, 9
> 0.007 <= 0.008 , 0.0075 , 99.92, 8
> 0.01 <= 0.0119051 , 0.0109526 , 100.00, 4
# target 50% 0.00141184
# target 75% 0.00158203
# target 90% 0.00214484
# target 99% 0.0047
# target 99.9% 0.007875
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 209 +/- 0 min 209 max 209 sum 1045000
Response Body/Total Sizes : count 5000 avg 209 +/- 0 min 209 max 209 sum 1045000
All done 5000 calls (plus 4 warmup) 1.598 ms avg, 499.9 qps
Successfully wrote 3838 bytes of Json data to /data/2018-11-19-050925_http_istio_500qps_10s_echo_1_4.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
05:09:35 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:09:45 I periodic.go:533> T002 ended after 10.001433417s : 1250 calls. qps=124.98208485548727
05:09:45 I periodic.go:533> T000 ended after 10.00186703s : 1250 calls. qps=124.97666648143792
05:09:45 I periodic.go:533> T003 ended after 10.003353794s : 1250 calls. qps=124.95809163020391
05:09:45 I periodic.go:533> T001 ended after 10.003435082s : 1250 calls. qps=124.95707621967053
Ended after 10.003449276s : 5000 calls. qps=499.83
Sleep times : count 4996 avg 0.0068210242 +/- 0.0004358 min 0.002441691 max 0.007354775 sum 34.0778367
Aggregated Function Time : count 5000 avg 0.00086118045 +/- 0.0003704 min 0.000423839 max 0.00519179 sum 4.30590227
# range, mid point, percentile, count
>= 0.000423839 <= 0.0005 , 0.00046192 , 0.34, 17
> 0.0005 <= 0.0006 , 0.00055 , 3.96, 181
> 0.0006 <= 0.0007 , 0.00065 , 22.60, 932
> 0.0007 <= 0.0008 , 0.00075 , 52.36, 1488
> 0.0008 <= 0.0009 , 0.00085 , 76.30, 1197
> 0.0009 <= 0.001 , 0.00095 , 87.86, 578
> 0.001 <= 0.0011 , 0.00105 , 92.68, 241
> 0.0011 <= 0.0012 , 0.00115 , 94.64, 98
> 0.0012 <= 0.0014 , 0.0013 , 96.16, 76
> 0.0014 <= 0.0016 , 0.0015 , 96.88, 36
> 0.0016 <= 0.0018 , 0.0017 , 97.26, 19
> 0.0018 <= 0.002 , 0.0019 , 97.94, 34
> 0.002 <= 0.0025 , 0.00225 , 99.12, 59
> 0.0025 <= 0.003 , 0.00275 , 99.42, 15
> 0.003 <= 0.0035 , 0.00325 , 99.46, 2
> 0.0035 <= 0.004 , 0.00375 , 99.60, 7
> 0.004 <= 0.0045 , 0.00425 , 99.76, 8
> 0.0045 <= 0.005 , 0.00475 , 99.92, 8
> 0.005 <= 0.00519179 , 0.00509589 , 100.00, 4
# target 50% 0.00079207
# target 75% 0.00089457
# target 90% 0.0010444
# target 99% 0.00244915
# target 99.9% 0.0049375
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 0.861 ms avg, 499.8 qps
Successfully wrote 3336 bytes of Json data to /data/2018-11-19-050935_grpc_baseline_500qps_10s_echo_1_4.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
05:09:45 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:09:55 I periodic.go:533> T003 ended after 10.001351989s : 1250 calls. qps=124.98310242203395
05:09:55 I periodic.go:533> T000 ended after 10.001493607s : 1250 calls. qps=124.98133270066089
05:09:55 I periodic.go:533> T001 ended after 10.001515765s : 1250 calls. qps=124.98105580899416
05:09:55 I periodic.go:533> T002 ended after 10.00153478s : 1250 calls. qps=124.98081819398523
Ended after 10.001550562s : 5000 calls. qps=499.92
Sleep times : count 4996 avg 0.0063911545 +/- 0.0004124 min 0.002350067 max 0.006952679 sum 31.9302079
Aggregated Function Time : count 5000 avg 0.0012987124 +/- 0.000374 min 0.000812352 max 0.005518941 sum 6.49356177
# range, mid point, percentile, count
>= 0.000812352 <= 0.0009 , 0.000856176 , 0.36, 18
> 0.0009 <= 0.001 , 0.00095 , 4.02, 183
> 0.001 <= 0.0011 , 0.00105 , 18.06, 702
> 0.0011 <= 0.0012 , 0.00115 , 41.12, 1153
> 0.0012 <= 0.0014 , 0.0013 , 80.18, 1953
> 0.0014 <= 0.0016 , 0.0015 , 94.32, 707
> 0.0016 <= 0.0018 , 0.0017 , 96.26, 97
> 0.0018 <= 0.002 , 0.0019 , 96.90, 32
> 0.002 <= 0.0025 , 0.00225 , 98.52, 81
> 0.0025 <= 0.003 , 0.00275 , 99.24, 36
> 0.003 <= 0.0035 , 0.00325 , 99.30, 3
> 0.0035 <= 0.004 , 0.00375 , 99.44, 7
> 0.004 <= 0.0045 , 0.00425 , 99.56, 6
> 0.0045 <= 0.005 , 0.00475 , 99.78, 11
> 0.005 <= 0.00551894 , 0.00525947 , 100.00, 11
# target 50% 0.00124547
# target 75% 0.00137348
# target 90% 0.0015389
# target 99% 0.00283333
# target 99.9% 0.00528306
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 1.299 ms avg, 499.9 qps
Successfully wrote 2876 bytes of Json data to /data/2018-11-19-050945_grpc_linkerd_500qps_10s_echo_1_4.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8079
05:09:55 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:10:05 I periodic.go:533> T001 ended after 10.001657597s : 1250 calls. qps=124.97928347146556
05:10:05 I periodic.go:533> T000 ended after 10.002023724s : 1250 calls. qps=124.97470856828772
05:10:05 I periodic.go:533> T002 ended after 10.002045621s : 1250 calls. qps=124.9744349671368
05:10:05 I periodic.go:533> T003 ended after 10.002062826s : 1250 calls. qps=124.97421999296688
Ended after 10.002101528s : 5000 calls. qps=499.89
Sleep times : count 4996 avg 0.0057941388 +/- 0.0008358 min -0.002936371 max 0.006841099 sum 28.9475175
Aggregated Function Time : count 5000 avg 0.0018874182 +/- 0.0007832 min 0.000840884 max 0.01063373 sum 9.43709099
# range, mid point, percentile, count
>= 0.000840884 <= 0.0009 , 0.000870442 , 0.04, 2
> 0.0009 <= 0.001 , 0.00095 , 0.68, 32
> 0.001 <= 0.0011 , 0.00105 , 6.46, 289
> 0.0011 <= 0.0012 , 0.00115 , 13.68, 361
> 0.0012 <= 0.0014 , 0.0013 , 20.18, 325
> 0.0014 <= 0.0016 , 0.0015 , 24.10, 196
> 0.0016 <= 0.0018 , 0.0017 , 48.62, 1226
> 0.0018 <= 0.002 , 0.0019 , 76.76, 1407
> 0.002 <= 0.0025 , 0.00225 , 90.12, 668
> 0.0025 <= 0.003 , 0.00275 , 95.24, 256
> 0.003 <= 0.0035 , 0.00325 , 96.18, 47
> 0.0035 <= 0.004 , 0.00375 , 97.32, 57
> 0.004 <= 0.0045 , 0.00425 , 98.34, 51
> 0.0045 <= 0.005 , 0.00475 , 99.12, 39
> 0.005 <= 0.006 , 0.0055 , 99.56, 22
> 0.006 <= 0.007 , 0.0065 , 99.66, 5
> 0.007 <= 0.008 , 0.0075 , 99.76, 5
> 0.009 <= 0.01 , 0.0095 , 99.82, 3
> 0.01 <= 0.0106337 , 0.0103169 , 100.00, 9
# target 50% 0.00180981
# target 75% 0.00198749
# target 90% 0.00249551
# target 99% 0.00492308
# target 99.9% 0.0102817
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 1.887 ms avg, 499.9 qps
Successfully wrote 3314 bytes of Json data to /data/2018-11-19-050955_grpc_istio_500qps_10s_echo_1_4.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
05:10:05 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 500.0 qps
05:10:05 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:10:15 I periodic.go:533> T003 ended after 10.000546864s : 1250 calls. qps=124.99316457380485
05:10:15 I periodic.go:533> T000 ended after 10.000912764s : 1250 calls. qps=124.9885914913276
05:10:15 I periodic.go:533> T002 ended after 10.003144925s : 1250 calls. qps=124.96070079680464
05:10:15 I periodic.go:533> T001 ended after 10.003180319s : 1250 calls. qps=124.96025865151657
Ended after 10.003205338s : 5000 calls. qps=499.84
Sleep times : count 4996 avg 0.0072548954 +/- 0.0002774 min 0.003869815 max 0.007596994 sum 36.2454572
Aggregated Function Time : count 5000 avg 0.00045030563 +/- 0.0002359 min 0.000113275 max 0.003946905 sum 2.25152815
# range, mid point, percentile, count
>= 0.000113275 <= 0.0002 , 0.000156638 , 0.26, 13
> 0.0002 <= 0.0003 , 0.00025 , 7.52, 363
> 0.0003 <= 0.0004 , 0.00035 , 44.44, 1846
> 0.0004 <= 0.0005 , 0.00045 , 78.40, 1698
> 0.0005 <= 0.0006 , 0.00055 , 92.18, 689
> 0.0006 <= 0.0007 , 0.00065 , 96.68, 225
> 0.0007 <= 0.0008 , 0.00075 , 98.04, 68
> 0.0008 <= 0.0009 , 0.00085 , 98.26, 11
> 0.0009 <= 0.001 , 0.00095 , 98.40, 7
> 0.001 <= 0.0011 , 0.00105 , 98.52, 6
> 0.0011 <= 0.0012 , 0.00115 , 98.58, 3
> 0.0012 <= 0.0014 , 0.0013 , 98.90, 16
> 0.0014 <= 0.0016 , 0.0015 , 99.08, 9
> 0.0016 <= 0.0018 , 0.0017 , 99.16, 4
> 0.0018 <= 0.002 , 0.0019 , 99.38, 11
> 0.002 <= 0.0025 , 0.00225 , 99.72, 17
> 0.0025 <= 0.003 , 0.00275 , 99.82, 5
> 0.003 <= 0.0035 , 0.00325 , 99.92, 5
> 0.0035 <= 0.0039469 , 0.00372345 , 100.00, 4
# target 50% 0.000416372
# target 75% 0.000489988
# target 90% 0.00058418
# target 99% 0.00151111
# target 99.9% 0.0034
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
Response Body/Total Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
All done 5000 calls (plus 4 warmup) 0.450 ms avg, 499.8 qps
Successfully wrote 3890 bytes of Json data to /data/2018-11-19-051005_http_baseline_500qps_10s_echo_0_5.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
05:10:15 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 500.0 qps
05:10:15 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:10:25 I periodic.go:533> T000 ended after 10.001212495s : 1250 calls. qps=124.98484564995735
05:10:25 I periodic.go:533> T003 ended after 10.001759794s : 1250 calls. qps=124.97800644541255
05:10:25 I periodic.go:533> T001 ended after 10.003896389s : 1250 calls. qps=124.95131410741764
05:10:25 I periodic.go:533> T002 ended after 10.003939988s : 1250 calls. qps=124.9507695467395
Ended after 10.003967563s : 5000 calls. qps=499.8
Sleep times : count 4996 avg 0.0065320912 +/- 0.001753 min -0.027771513 max 0.007225339 sum 32.6343277
Aggregated Function Time : count 5000 avg 0.0010166589 +/- 0.0008023 min 0.000391698 max 0.033070654 sum 5.08329457
# range, mid point, percentile, count
>= 0.000391698 <= 0.0004 , 0.000395849 , 0.02, 1
> 0.0005 <= 0.0006 , 0.00055 , 0.20, 9
> 0.0006 <= 0.0007 , 0.00065 , 2.52, 116
> 0.0007 <= 0.0008 , 0.00075 , 14.20, 584
> 0.0008 <= 0.0009 , 0.00085 , 39.22, 1251
> 0.0009 <= 0.001 , 0.00095 , 65.58, 1318
> 0.001 <= 0.0011 , 0.00105 , 83.42, 892
> 0.0011 <= 0.0012 , 0.00115 , 91.02, 380
> 0.0012 <= 0.0014 , 0.0013 , 95.74, 236
> 0.0014 <= 0.0016 , 0.0015 , 96.72, 49
> 0.0016 <= 0.0018 , 0.0017 , 97.90, 59
> 0.0018 <= 0.002 , 0.0019 , 98.28, 19
> 0.002 <= 0.0025 , 0.00225 , 98.76, 24
> 0.0025 <= 0.003 , 0.00275 , 99.16, 20
> 0.003 <= 0.0035 , 0.00325 , 99.48, 16
> 0.0035 <= 0.004 , 0.00375 , 99.62, 7
> 0.004 <= 0.0045 , 0.00425 , 99.74, 6
> 0.0045 <= 0.005 , 0.00475 , 99.82, 4
> 0.005 <= 0.006 , 0.0055 , 99.92, 5
> 0.018 <= 0.02 , 0.019 , 99.94, 1
> 0.02 <= 0.025 , 0.0225 , 99.96, 1
> 0.025 <= 0.03 , 0.0275 , 99.98, 1
> 0.03 <= 0.0330707 , 0.0315353 , 100.00, 1
# target 50% 0.000940895
# target 75% 0.0010528
# target 90% 0.00118658
# target 99% 0.0028
# target 99.9% 0.0058
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
Response Body/Total Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
All done 5000 calls (plus 4 warmup) 1.017 ms avg, 499.8 qps
Successfully wrote 4329 bytes of Json data to /data/2018-11-19-051015_http_linkerd_500qps_10s_echo_0_5.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
05:10:25 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 500.0 qps
05:10:25 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:10:35 I periodic.go:533> T002 ended after 10.001645266s : 1250 calls. qps=124.97943755806865
05:10:35 I periodic.go:533> T000 ended after 10.00244629s : 1250 calls. qps=124.96942885358898
05:10:35 I periodic.go:533> T003 ended after 10.002599471s : 1250 calls. qps=124.96751505686676
05:10:35 I periodic.go:533> T001 ended after 10.002625048s : 1250 calls. qps=124.96719551133573
Ended after 10.002705817s : 5000 calls. qps=499.86
Sleep times : count 4996 avg 0.0059400005 +/- 0.000866 min -0.005837386 max 0.007291578 sum 29.6762426
Aggregated Function Time : count 5000 avg 0.0016823979 +/- 0.0007724 min 0.000660537 max 0.013626957 sum 8.41198935
# range, mid point, percentile, count
>= 0.000660537 <= 0.0007 , 0.000680268 , 0.02, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.04, 1
> 0.0008 <= 0.0009 , 0.00085 , 0.16, 6
> 0.0009 <= 0.001 , 0.00095 , 0.32, 8
> 0.001 <= 0.0011 , 0.00105 , 0.52, 10
> 0.0011 <= 0.0012 , 0.00115 , 1.64, 56
> 0.0012 <= 0.0014 , 0.0013 , 28.54, 1345
> 0.0014 <= 0.0016 , 0.0015 , 67.90, 1968
> 0.0016 <= 0.0018 , 0.0017 , 81.26, 668
> 0.0018 <= 0.002 , 0.0019 , 86.70, 272
> 0.002 <= 0.0025 , 0.00225 , 94.82, 406
> 0.0025 <= 0.003 , 0.00275 , 96.40, 79
> 0.003 <= 0.0035 , 0.00325 , 96.90, 25
> 0.0035 <= 0.004 , 0.00375 , 98.40, 75
> 0.004 <= 0.0045 , 0.00425 , 98.50, 5
> 0.0045 <= 0.005 , 0.00475 , 98.90, 20
> 0.005 <= 0.006 , 0.0055 , 99.36, 23
> 0.006 <= 0.007 , 0.0065 , 99.60, 12
> 0.007 <= 0.008 , 0.0075 , 99.68, 4
> 0.008 <= 0.009 , 0.0085 , 99.84, 8
> 0.009 <= 0.01 , 0.0095 , 99.92, 4
> 0.012 <= 0.013627 , 0.0128135 , 100.00, 4
# target 50% 0.00150904
# target 75% 0.00170629
# target 90% 0.0022032
# target 99% 0.00521739
# target 99.9% 0.00975
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 209 +/- 0 min 209 max 209 sum 1045000
Response Body/Total Sizes : count 5000 avg 209 +/- 0 min 209 max 209 sum 1045000
All done 5000 calls (plus 4 warmup) 1.682 ms avg, 499.9 qps
Successfully wrote 4198 bytes of Json data to /data/2018-11-19-051025_http_istio_500qps_10s_echo_0_5.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
05:10:35 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:10:45 I periodic.go:533> T000 ended after 10.0010522s : 1250 calls. qps=124.98684888376044
05:10:45 I periodic.go:533> T001 ended after 10.001608225s : 1250 calls. qps=124.97990041996471
05:10:45 I periodic.go:533> T002 ended after 10.003692583s : 1250 calls. qps=124.95385975017022
05:10:45 I periodic.go:533> T003 ended after 10.003734465s : 1250 calls. qps=124.95333661377825
Ended after 10.003748987s : 5000 calls. qps=499.81
Sleep times : count 4996 avg 0.0067583759 +/- 0.0004752 min 0.002534367 max 0.007349927 sum 33.7648461
Aggregated Function Time : count 5000 avg 0.00089143518 +/- 0.000329 min 0.000396112 max 0.004740549 sum 4.4571759
# range, mid point, percentile, count
>= 0.000396112 <= 0.0004 , 0.000398056 , 0.02, 1
> 0.0004 <= 0.0005 , 0.00045 , 0.38, 18
> 0.0005 <= 0.0006 , 0.00055 , 2.48, 105
> 0.0006 <= 0.0007 , 0.00065 , 14.62, 607
> 0.0007 <= 0.0008 , 0.00075 , 41.06, 1322
> 0.0008 <= 0.0009 , 0.00085 , 66.96, 1295
> 0.0009 <= 0.001 , 0.00095 , 83.26, 815
> 0.001 <= 0.0011 , 0.00105 , 91.18, 396
> 0.0011 <= 0.0012 , 0.00115 , 93.94, 138
> 0.0012 <= 0.0014 , 0.0013 , 96.12, 109
> 0.0014 <= 0.0016 , 0.0015 , 97.04, 46
> 0.0016 <= 0.0018 , 0.0017 , 97.36, 16
> 0.0018 <= 0.002 , 0.0019 , 98.26, 45
> 0.002 <= 0.0025 , 0.00225 , 99.38, 56
> 0.0025 <= 0.003 , 0.00275 , 99.52, 7
> 0.003 <= 0.0035 , 0.00325 , 99.64, 6
> 0.004 <= 0.0045 , 0.00425 , 99.96, 16
> 0.0045 <= 0.00474055 , 0.00462027 , 100.00, 2
# target 50% 0.000834517
# target 75% 0.000949325
# target 90% 0.0010851
# target 99% 0.00233036
# target 99.9% 0.00440625
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 0.891 ms avg, 499.8 qps
Successfully wrote 3234 bytes of Json data to /data/2018-11-19-051035_grpc_baseline_500qps_10s_echo_0_5.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
05:10:45 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:10:55 I periodic.go:533> T000 ended after 10.001630671s : 1250 calls. qps=124.97961993581798
05:10:55 I periodic.go:533> T002 ended after 10.004154118s : 1250 calls. qps=124.94809508691337
05:10:55 I periodic.go:533> T003 ended after 10.004195249s : 1250 calls. qps=124.94758137841697
05:10:55 I periodic.go:533> T001 ended after 10.004209047s : 1250 calls. qps=124.94740904827876
Ended after 10.004222807s : 5000 calls. qps=499.79
Sleep times : count 4996 avg 0.0063761547 +/- 0.000605 min -0.001369658 max 0.006946929 sum 31.8552688
Aggregated Function Time : count 5000 avg 0.0013014659 +/- 0.000515 min 0.000749872 max 0.009188916 sum 6.50732968
# range, mid point, percentile, count
>= 0.000749872 <= 0.0008 , 0.000774936 , 0.08, 4
> 0.0008 <= 0.0009 , 0.00085 , 1.10, 51
> 0.0009 <= 0.001 , 0.00095 , 7.88, 339
> 0.001 <= 0.0011 , 0.00105 , 25.04, 858
> 0.0011 <= 0.0012 , 0.00115 , 45.34, 1015
> 0.0012 <= 0.0014 , 0.0013 , 80.24, 1745
> 0.0014 <= 0.0016 , 0.0015 , 93.64, 670
> 0.0016 <= 0.0018 , 0.0017 , 96.08, 122
> 0.0018 <= 0.002 , 0.0019 , 97.00, 46
> 0.002 <= 0.0025 , 0.00225 , 97.96, 48
> 0.0025 <= 0.003 , 0.00275 , 98.62, 33
> 0.003 <= 0.0035 , 0.00325 , 99.06, 22
> 0.0035 <= 0.004 , 0.00375 , 99.16, 5
> 0.004 <= 0.0045 , 0.00425 , 99.20, 2
> 0.0045 <= 0.005 , 0.00475 , 99.46, 13
> 0.005 <= 0.006 , 0.0055 , 99.80, 17
> 0.006 <= 0.007 , 0.0065 , 99.86, 3
> 0.008 <= 0.009 , 0.0085 , 99.96, 5
> 0.009 <= 0.00918892 , 0.00909446 , 100.00, 2
# target 50% 0.0012267
# target 75% 0.00136997
# target 90% 0.00154567
# target 99% 0.00343182
# target 99.9% 0.0084
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 1.301 ms avg, 499.8 qps
Successfully wrote 3337 bytes of Json data to /data/2018-11-19-051045_grpc_linkerd_500qps_10s_echo_0_5.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8079
05:10:55 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:11:05 I periodic.go:533> T003 ended after 10.001826601s : 1250 calls. qps=124.97717165732736
05:11:05 I periodic.go:533> T002 ended after 10.002479936s : 1250 calls. qps=124.9690084856972
05:11:05 I periodic.go:533> T000 ended after 10.002802468s : 1250 calls. qps=124.96497896453312
05:11:05 I periodic.go:533> T001 ended after 10.002878644s : 1250 calls. qps=124.96402730525818
Ended after 10.002982378s : 5000 calls. qps=499.85
Sleep times : count 4996 avg 0.0054978481 +/- 0.0009423 min -0.004201199 max 0.006697412 sum 27.4672491
Aggregated Function Time : count 5000 avg 0.0021725514 +/- 0.0009009 min 0.000834037 max 0.012017797 sum 10.862757
# range, mid point, percentile, count
>= 0.000834037 <= 0.0009 , 0.000867019 , 0.04, 2
> 0.0009 <= 0.001 , 0.00095 , 0.06, 1
> 0.001 <= 0.0011 , 0.00105 , 0.24, 9
> 0.0011 <= 0.0012 , 0.00115 , 1.36, 56
> 0.0012 <= 0.0014 , 0.0013 , 10.28, 446
> 0.0014 <= 0.0016 , 0.0015 , 18.24, 398
> 0.0016 <= 0.0018 , 0.0017 , 23.30, 253
> 0.0018 <= 0.002 , 0.0019 , 40.76, 873
> 0.002 <= 0.0025 , 0.00225 , 84.84, 2204
> 0.0025 <= 0.003 , 0.00275 , 93.78, 447
> 0.003 <= 0.0035 , 0.00325 , 95.50, 86
> 0.0035 <= 0.004 , 0.00375 , 96.22, 36
> 0.004 <= 0.0045 , 0.00425 , 97.26, 52
> 0.0045 <= 0.005 , 0.00475 , 98.20, 47
> 0.005 <= 0.006 , 0.0055 , 98.84, 32
> 0.006 <= 0.007 , 0.0065 , 99.36, 26
> 0.007 <= 0.008 , 0.0075 , 99.52, 8
> 0.008 <= 0.009 , 0.0085 , 99.70, 9
> 0.009 <= 0.01 , 0.0095 , 99.84, 7
> 0.01 <= 0.012 , 0.011 , 99.98, 7
> 0.012 <= 0.0120178 , 0.0120089 , 100.00, 1
# target 50% 0.00210481
# target 75% 0.00238838
# target 90% 0.00278859
# target 99% 0.00630769
# target 99.9% 0.0108571
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 2.173 ms avg, 499.9 qps
Successfully wrote 3542 bytes of Json data to /data/2018-11-19-051055_grpc_istio_500qps_10s_echo_0_5.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
05:11:05 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 500.0 qps
05:11:05 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:11:15 I periodic.go:533> T002 ended after 10.000733716s : 1250 calls. qps=124.9908292228746
05:11:15 I periodic.go:533> T001 ended after 10.001255272s : 1250 calls. qps=124.98431106938753
05:11:15 I periodic.go:533> T000 ended after 10.003436437s : 1250 calls. qps=124.95705929380317
05:11:15 I periodic.go:533> T003 ended after 10.003484281s : 1250 calls. qps=124.95646165748195
Ended after 10.003500088s : 5000 calls. qps=499.83
Sleep times : count 4996 avg 0.0072392383 +/- 0.0003497 min 0.003150841 max 0.00762167 sum 36.1672347
Aggregated Function Time : count 5000 avg 0.0004629332 +/- 0.0002981 min 9.1272e-05 max 0.004645596 sum 2.314666
# range, mid point, percentile, count
>= 9.1272e-05 <= 0.0001 , 9.5636e-05 , 0.02, 1
> 0.0001 <= 0.0002 , 0.00015 , 0.54, 26
> 0.0002 <= 0.0003 , 0.00025 , 9.04, 425
> 0.0003 <= 0.0004 , 0.00035 , 43.22, 1709
> 0.0004 <= 0.0005 , 0.00045 , 74.84, 1581
> 0.0005 <= 0.0006 , 0.00055 , 91.02, 809
> 0.0006 <= 0.0007 , 0.00065 , 95.86, 242
> 0.0007 <= 0.0008 , 0.00075 , 97.28, 71
> 0.0008 <= 0.0009 , 0.00085 , 97.74, 23
> 0.0009 <= 0.001 , 0.00095 , 98.04, 15
> 0.001 <= 0.0011 , 0.00105 , 98.32, 14
> 0.0011 <= 0.0012 , 0.00115 , 98.46, 7
> 0.0012 <= 0.0014 , 0.0013 , 98.56, 5
> 0.0014 <= 0.0016 , 0.0015 , 98.74, 9
> 0.0016 <= 0.0018 , 0.0017 , 98.98, 12
> 0.0018 <= 0.002 , 0.0019 , 99.24, 13
> 0.002 <= 0.0025 , 0.00225 , 99.62, 19
> 0.0025 <= 0.003 , 0.00275 , 99.64, 1
> 0.003 <= 0.0035 , 0.00325 , 99.68, 2
> 0.0035 <= 0.004 , 0.00375 , 99.76, 4
> 0.004 <= 0.0045 , 0.00425 , 99.92, 8
> 0.0045 <= 0.0046456 , 0.0045728 , 100.00, 4
# target 50% 0.000421442
# target 75% 0.000500989
# target 90% 0.000593696
# target 99% 0.00181538
# target 99.9% 0.0044375
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
Response Body/Total Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
All done 5000 calls (plus 4 warmup) 0.463 ms avg, 499.8 qps
Successfully wrote 4251 bytes of Json data to /data/2018-11-19-051105_http_baseline_500qps_10s_echo_1_5.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
05:11:15 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 500.0 qps
05:11:15 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:11:25 I periodic.go:533> T001 ended after 10.001114942s : 1250 calls. qps=124.98606477869636
05:11:25 I periodic.go:533> T002 ended after 10.001185089s : 1250 calls. qps=124.9851881428369
05:11:25 I periodic.go:533> T003 ended after 10.001198026s : 1250 calls. qps=124.98502646886794
05:11:25 I periodic.go:533> T000 ended after 10.001208486s : 1250 calls. qps=124.98489575032744
Ended after 10.001221092s : 5000 calls. qps=499.94
Sleep times : count 4996 avg 0.0066688149 +/- 0.001581 min -0.024496333 max 0.007337879 sum 33.3173991
Aggregated Function Time : count 5000 avg 0.000950363 +/- 0.0008421 min 0.000458467 max 0.02726903 sum 4.75181502
# range, mid point, percentile, count
>= 0.000458467 <= 0.0005 , 0.000479233 , 0.04, 2
> 0.0005 <= 0.0006 , 0.00055 , 0.32, 14
> 0.0006 <= 0.0007 , 0.00065 , 5.44, 256
> 0.0007 <= 0.0008 , 0.00075 , 26.74, 1065
> 0.0008 <= 0.0009 , 0.00085 , 57.82, 1554
> 0.0009 <= 0.001 , 0.00095 , 81.50, 1184
> 0.001 <= 0.0011 , 0.00105 , 91.70, 510
> 0.0011 <= 0.0012 , 0.00115 , 95.22, 176
> 0.0012 <= 0.0014 , 0.0013 , 97.02, 90
> 0.0014 <= 0.0016 , 0.0015 , 97.66, 32
> 0.0016 <= 0.0018 , 0.0017 , 98.28, 31
> 0.0018 <= 0.002 , 0.0019 , 98.70, 21
> 0.002 <= 0.0025 , 0.00225 , 98.86, 8
> 0.0025 <= 0.003 , 0.00275 , 99.04, 9
> 0.003 <= 0.0035 , 0.00325 , 99.28, 12
> 0.0035 <= 0.004 , 0.00375 , 99.48, 10
> 0.004 <= 0.0045 , 0.00425 , 99.52, 2
> 0.0045 <= 0.005 , 0.00475 , 99.84, 16
> 0.007 <= 0.008 , 0.0075 , 99.92, 4
> 0.025 <= 0.027269 , 0.0261345 , 100.00, 4
# target 50% 0.000874839
# target 75% 0.000972551
# target 90% 0.00108333
# target 99% 0.00288889
# target 99.9% 0.00775
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
Response Body/Total Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
All done 5000 calls (plus 4 warmup) 0.950 ms avg, 499.9 qps
Successfully wrote 3991 bytes of Json data to /data/2018-11-19-051115_http_linkerd_500qps_10s_echo_1_5.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
05:11:25 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 500.0 qps
05:11:25 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:11:35 I periodic.go:533> T003 ended after 10.001622056s : 1250 calls. qps=124.9797275882987
05:11:35 I periodic.go:533> T002 ended after 10.001729727s : 1250 calls. qps=124.97838215179756
05:11:35 I periodic.go:533> T001 ended after 10.001751603s : 1250 calls. qps=124.97810879696968
05:11:35 I periodic.go:533> T000 ended after 10.001769878s : 1250 calls. qps=124.97788043989229
Ended after 10.001786382s : 5000 calls. qps=499.91
Sleep times : count 4996 avg 0.0060480691 +/- 0.0007901 min -0.004818173 max 0.007149531 sum 30.216153
Aggregated Function Time : count 5000 avg 0.001641461 +/- 0.0007536 min 0.000759931 max 0.012604408 sum 8.20730523
# range, mid point, percentile, count
>= 0.000759931 <= 0.0008 , 0.000779966 , 0.10, 5
> 0.0008 <= 0.0009 , 0.00085 , 0.28, 9
> 0.0009 <= 0.001 , 0.00095 , 0.52, 12
> 0.001 <= 0.0011 , 0.00105 , 0.90, 19
> 0.0011 <= 0.0012 , 0.00115 , 2.58, 84
> 0.0012 <= 0.0014 , 0.0013 , 39.26, 1834
> 0.0014 <= 0.0016 , 0.0015 , 71.72, 1623
> 0.0016 <= 0.0018 , 0.0017 , 82.02, 515
> 0.0018 <= 0.002 , 0.0019 , 86.26, 212
> 0.002 <= 0.0025 , 0.00225 , 95.54, 464
> 0.0025 <= 0.003 , 0.00275 , 96.60, 53
> 0.003 <= 0.0035 , 0.00325 , 97.18, 29
> 0.0035 <= 0.004 , 0.00375 , 98.06, 44
> 0.004 <= 0.0045 , 0.00425 , 98.48, 21
> 0.0045 <= 0.005 , 0.00475 , 98.94, 23
> 0.005 <= 0.006 , 0.0055 , 99.64, 35
> 0.006 <= 0.007 , 0.0065 , 99.76, 6
> 0.007 <= 0.008 , 0.0075 , 99.82, 3
> 0.008 <= 0.009 , 0.0085 , 99.84, 1
> 0.012 <= 0.0126044 , 0.0123022 , 100.00, 8
# target 50% 0.00146617
# target 75% 0.00166369
# target 90% 0.00220151
# target 99% 0.00508571
# target 99.9% 0.0122267
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 209.0008 +/- 0.02827 min 209 max 210 sum 1045004
Response Body/Total Sizes : count 5000 avg 209.0008 +/- 0.02827 min 209 max 210 sum 1045004
All done 5000 calls (plus 4 warmup) 1.641 ms avg, 499.9 qps
Successfully wrote 4020 bytes of Json data to /data/2018-11-19-051125_http_istio_500qps_10s_echo_1_5.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
05:11:35 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:11:45 I periodic.go:533> T000 ended after 10.000982128s : 1250 calls. qps=124.98772460560085
05:11:45 I periodic.go:533> T003 ended after 10.001413509s : 1250 calls. qps=124.98233363465663
05:11:45 I periodic.go:533> T002 ended after 10.004743886s : 1250 calls. qps=124.94072954222948
05:11:45 I periodic.go:533> T001 ended after 10.00481791s : 1250 calls. qps=124.93980512634838
Ended after 10.004834752s : 5000 calls. qps=499.76
Sleep times : count 4996 avg 0.0067643516 +/- 0.0005226 min 0.001247025 max 0.007389591 sum 33.7947008
Aggregated Function Time : count 5000 avg 0.00088447944 +/- 0.0003738 min 0.000419174 max 0.004761325 sum 4.42239721
# range, mid point, percentile, count
>= 0.000419174 <= 0.0005 , 0.000459587 , 0.38, 19
> 0.0005 <= 0.0006 , 0.00055 , 2.64, 113
> 0.0006 <= 0.0007 , 0.00065 , 13.52, 544
> 0.0007 <= 0.0008 , 0.00075 , 44.08, 1528
> 0.0008 <= 0.0009 , 0.00085 , 73.02, 1447
> 0.0009 <= 0.001 , 0.00095 , 87.92, 745
> 0.001 <= 0.0011 , 0.00105 , 93.16, 262
> 0.0011 <= 0.0012 , 0.00115 , 94.70, 77
> 0.0012 <= 0.0014 , 0.0013 , 96.04, 67
> 0.0014 <= 0.0016 , 0.0015 , 96.98, 47
> 0.0016 <= 0.0018 , 0.0017 , 97.42, 22
> 0.0018 <= 0.002 , 0.0019 , 97.98, 28
> 0.002 <= 0.0025 , 0.00225 , 98.88, 45
> 0.0025 <= 0.003 , 0.00275 , 99.20, 16
> 0.003 <= 0.0035 , 0.00325 , 99.38, 9
> 0.0035 <= 0.004 , 0.00375 , 99.52, 7
> 0.004 <= 0.0045 , 0.00425 , 99.68, 8
> 0.0045 <= 0.00476133 , 0.00463066 , 100.00, 16
# target 50% 0.000820456
# target 75% 0.000913289
# target 90% 0.00103969
# target 99% 0.0026875
# target 99.9% 0.00467966
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 0.884 ms avg, 499.8 qps
Successfully wrote 3245 bytes of Json data to /data/2018-11-19-051135_grpc_baseline_500qps_10s_echo_1_5.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
05:11:45 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:11:55 I periodic.go:533> T003 ended after 10.001651078s : 1250 calls. qps=124.97936493201068
05:11:55 I periodic.go:533> T000 ended after 10.004380383s : 1250 calls. qps=124.94526918669241
05:11:55 I periodic.go:533> T002 ended after 10.004438992s : 1250 calls. qps=124.94453721988371
05:11:55 I periodic.go:533> T001 ended after 10.004453302s : 1250 calls. qps=124.94435850383861
Ended after 10.004467553s : 5000 calls. qps=499.78
Sleep times : count 4996 avg 0.0063495154 +/- 0.0004849 min 0.002040567 max 0.006998456 sum 31.722179
Aggregated Function Time : count 5000 avg 0.0013230332 +/- 0.0004029 min 0.000817739 max 0.005726032 sum 6.61516577
# range, mid point, percentile, count
>= 0.000817739 <= 0.0009 , 0.00085887 , 0.20, 10
> 0.0009 <= 0.001 , 0.00095 , 3.36, 158
> 0.001 <= 0.0011 , 0.00105 , 16.50, 657
> 0.0011 <= 0.0012 , 0.00115 , 38.50, 1100
> 0.0012 <= 0.0014 , 0.0013 , 77.10, 1930
> 0.0014 <= 0.0016 , 0.0015 , 92.78, 784
> 0.0016 <= 0.0018 , 0.0017 , 95.80, 151
> 0.0018 <= 0.002 , 0.0019 , 96.38, 29
> 0.002 <= 0.0025 , 0.00225 , 97.84, 73
> 0.0025 <= 0.003 , 0.00275 , 98.74, 45
> 0.003 <= 0.0035 , 0.00325 , 99.32, 29
> 0.0035 <= 0.004 , 0.00375 , 99.54, 11
> 0.004 <= 0.0045 , 0.00425 , 99.64, 5
> 0.0045 <= 0.005 , 0.00475 , 99.68, 2
> 0.005 <= 0.00572603 , 0.00536302 , 100.00, 16
# target 50% 0.00125959
# target 75% 0.00138912
# target 90% 0.00156454
# target 99% 0.00322414
# target 99.9% 0.00549915
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 1.323 ms avg, 499.8 qps
Successfully wrote 2875 bytes of Json data to /data/2018-11-19-051145_grpc_linkerd_500qps_10s_echo_1_5.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8079
05:11:55 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:12:05 I periodic.go:533> T003 ended after 10.001875887s : 1250 calls. qps=124.97655581036504
05:12:05 I periodic.go:533> T002 ended after 10.00268156s : 1250 calls. qps=124.96648948604539
05:12:05 I periodic.go:533> T001 ended after 10.003022249s : 1250 calls. qps=124.96223330153666
05:12:05 I periodic.go:533> T000 ended after 10.003105915s : 1250 calls. qps=124.9611881171409
Ended after 10.003185272s : 5000 calls. qps=499.84
Sleep times : count 4996 avg 0.0057015772 +/- 0.0009518 min -0.004919294 max 0.006854179 sum 28.4850797
Aggregated Function Time : count 5000 avg 0.0019795396 +/- 0.0009019 min 0.000893916 max 0.012748643 sum 9.89769798
# range, mid point, percentile, count
>= 0.000893916 <= 0.0009 , 0.000896958 , 0.02, 1
> 0.0009 <= 0.001 , 0.00095 , 0.28, 13
> 0.001 <= 0.0011 , 0.00105 , 3.48, 160
> 0.0011 <= 0.0012 , 0.00115 , 10.20, 336
> 0.0012 <= 0.0014 , 0.0013 , 18.88, 434
> 0.0014 <= 0.0016 , 0.0015 , 22.28, 170
> 0.0016 <= 0.0018 , 0.0017 , 40.96, 934
> 0.0018 <= 0.002 , 0.0019 , 69.44, 1424
> 0.002 <= 0.0025 , 0.00225 , 88.76, 966
> 0.0025 <= 0.003 , 0.00275 , 94.60, 292
> 0.003 <= 0.0035 , 0.00325 , 95.50, 45
> 0.0035 <= 0.004 , 0.00375 , 96.26, 38
> 0.004 <= 0.0045 , 0.00425 , 97.22, 48
> 0.0045 <= 0.005 , 0.00475 , 98.04, 41
> 0.005 <= 0.006 , 0.0055 , 99.32, 64
> 0.006 <= 0.007 , 0.0065 , 99.62, 15
> 0.007 <= 0.008 , 0.0075 , 99.76, 7
> 0.01 <= 0.012 , 0.011 , 99.92, 8
> 0.012 <= 0.0127486 , 0.0123743 , 100.00, 4
# target 50% 0.00186348
# target 75% 0.00214389
# target 90% 0.00260616
# target 99% 0.00575
# target 99.9% 0.01175
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 1.980 ms avg, 499.8 qps
Successfully wrote 3305 bytes of Json data to /data/2018-11-19-051155_grpc_istio_500qps_10s_echo_1_5.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
05:12:05 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 500.0 qps
05:12:05 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:12:15 I periodic.go:533> T000 ended after 10.000674713s : 1250 calls. qps=124.99156665650864
05:12:15 I periodic.go:533> T003 ended after 10.000787901s : 1250 calls. qps=124.99015201342384
05:12:15 I periodic.go:533> T002 ended after 10.000800681s : 1250 calls. qps=124.98999228879843
05:12:15 I periodic.go:533> T001 ended after 10.000829097s : 1250 calls. qps=124.98963714668105
Ended after 10.000843298s : 5000 calls. qps=499.96
Sleep times : count 4996 avg 0.0072322725 +/- 0.0003325 min 0.003658725 max 0.007602238 sum 36.1324333
Aggregated Function Time : count 5000 avg 0.00045512036 +/- 0.0002276 min 0.000137619 max 0.003881551 sum 2.27560178
# range, mid point, percentile, count
>= 0.000137619 <= 0.0002 , 0.00016881 , 0.42, 21
> 0.0002 <= 0.0003 , 0.00025 , 7.52, 355
> 0.0003 <= 0.0004 , 0.00035 , 42.46, 1747
> 0.0004 <= 0.0005 , 0.00045 , 75.44, 1649
> 0.0005 <= 0.0006 , 0.00055 , 90.80, 768
> 0.0006 <= 0.0007 , 0.00065 , 96.10, 265
> 0.0007 <= 0.0008 , 0.00075 , 97.56, 73
> 0.0008 <= 0.0009 , 0.00085 , 98.04, 24
> 0.0009 <= 0.001 , 0.00095 , 98.24, 10
> 0.001 <= 0.0011 , 0.00105 , 98.56, 16
> 0.0011 <= 0.0012 , 0.00115 , 98.74, 9
> 0.0012 <= 0.0014 , 0.0013 , 99.08, 17
> 0.0014 <= 0.0016 , 0.0015 , 99.30, 11
> 0.0016 <= 0.0018 , 0.0017 , 99.40, 5
> 0.0018 <= 0.002 , 0.0019 , 99.62, 11
> 0.002 <= 0.0025 , 0.00225 , 99.72, 5
> 0.0025 <= 0.003 , 0.00275 , 99.78, 3
> 0.003 <= 0.0035 , 0.00325 , 99.86, 4
> 0.0035 <= 0.00388155 , 0.00369078 , 100.00, 7
# target 50% 0.000422862
# target 75% 0.000498666
# target 90% 0.000594792
# target 99% 0.00135294
# target 99.9% 0.00360901
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
Response Body/Total Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
All done 5000 calls (plus 4 warmup) 0.455 ms avg, 500.0 qps
Successfully wrote 3893 bytes of Json data to /data/2018-11-19-051205_http_baseline_500qps_10s_echo_0_6.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
05:12:15 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 500.0 qps
05:12:15 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:12:26 I periodic.go:533> T001 ended after 10.001276656s : 1250 calls. qps=124.98404383705312
05:12:26 I periodic.go:533> T000 ended after 10.001836553s : 1250 calls. qps=124.97704730288447
05:12:26 I periodic.go:533> T003 ended after 10.003880005s : 1250 calls. qps=124.95151874824992
05:12:26 I periodic.go:533> T002 ended after 10.00392399s : 1250 calls. qps=124.9509693645723
Ended after 10.003938274s : 5000 calls. qps=499.8
Sleep times : count 4996 avg 0.0066492183 +/- 0.001725 min -0.024624038 max 0.007505022 sum 33.2194945
Aggregated Function Time : count 5000 avg 0.00096758069 +/- 0.0008497 min 0.000440901 max 0.02743565 sum 4.83790345
# range, mid point, percentile, count
>= 0.000440901 <= 0.0005 , 0.000470451 , 0.02, 1
> 0.0005 <= 0.0006 , 0.00055 , 0.10, 4
> 0.0006 <= 0.0007 , 0.00065 , 3.28, 159
> 0.0007 <= 0.0008 , 0.00075 , 20.96, 884
> 0.0008 <= 0.0009 , 0.00085 , 53.56, 1630
> 0.0009 <= 0.001 , 0.00095 , 80.34, 1339
> 0.001 <= 0.0011 , 0.00105 , 92.22, 594
> 0.0011 <= 0.0012 , 0.00115 , 95.38, 158
> 0.0012 <= 0.0014 , 0.0013 , 96.88, 75
> 0.0014 <= 0.0016 , 0.0015 , 97.40, 26
> 0.0016 <= 0.0018 , 0.0017 , 97.92, 26
> 0.0018 <= 0.002 , 0.0019 , 98.46, 27
> 0.002 <= 0.0025 , 0.00225 , 98.76, 15
> 0.0025 <= 0.003 , 0.00275 , 99.08, 16
> 0.003 <= 0.0035 , 0.00325 , 99.30, 11
> 0.0035 <= 0.004 , 0.00375 , 99.48, 9
> 0.004 <= 0.0045 , 0.00425 , 99.52, 2
> 0.0045 <= 0.005 , 0.00475 , 99.66, 7
> 0.005 <= 0.006 , 0.0055 , 99.84, 9
> 0.007 <= 0.008 , 0.0075 , 99.92, 4
> 0.025 <= 0.0274356 , 0.0262178 , 100.00, 4
# target 50% 0.00088908
# target 75% 0.00098006
# target 90% 0.00108131
# target 99% 0.002875
# target 99.9% 0.00775
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
Response Body/Total Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
All done 5000 calls (plus 4 warmup) 0.968 ms avg, 499.8 qps
Successfully wrote 4081 bytes of Json data to /data/2018-11-19-051216_http_linkerd_500qps_10s_echo_0_6.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
05:12:26 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 500.0 qps
05:12:26 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:12:36 I periodic.go:533> T000 ended after 10.001725395s : 1250 calls. qps=124.97843628309295
05:12:36 I periodic.go:533> T001 ended after 10.002242594s : 1250 calls. qps=124.97197386012532
05:12:36 I periodic.go:533> T003 ended after 10.002361067s : 1250 calls. qps=124.97049362915185
05:12:36 I periodic.go:533> T002 ended after 10.002541193s : 1250 calls. qps=124.96824315752657
Ended after 10.002568576s : 5000 calls. qps=499.87
Sleep times : count 4996 avg 0.006105842 +/- 0.0008204 min -0.005419296 max 0.006959986 sum 30.5047865
Aggregated Function Time : count 5000 avg 0.001573364 +/- 0.0007032 min 0.000546889 max 0.013228489 sum 7.86681985
# range, mid point, percentile, count
>= 0.000546889 <= 0.0006 , 0.000573444 , 0.02, 1
> 0.0008 <= 0.0009 , 0.00085 , 0.26, 12
> 0.0009 <= 0.001 , 0.00095 , 0.42, 8
> 0.001 <= 0.0011 , 0.00105 , 0.82, 20
> 0.0011 <= 0.0012 , 0.00115 , 4.08, 163
> 0.0012 <= 0.0014 , 0.0013 , 54.74, 2533
> 0.0014 <= 0.0016 , 0.0015 , 79.22, 1224
> 0.0016 <= 0.0018 , 0.0017 , 84.42, 260
> 0.0018 <= 0.002 , 0.0019 , 88.76, 217
> 0.002 <= 0.0025 , 0.00225 , 95.30, 327
> 0.0025 <= 0.003 , 0.00275 , 96.52, 61
> 0.003 <= 0.0035 , 0.00325 , 97.58, 53
> 0.0035 <= 0.004 , 0.00375 , 98.52, 47
> 0.004 <= 0.0045 , 0.00425 , 98.86, 17
> 0.0045 <= 0.005 , 0.00475 , 99.10, 12
> 0.005 <= 0.006 , 0.0055 , 99.68, 29
> 0.006 <= 0.007 , 0.0065 , 99.76, 4
> 0.007 <= 0.008 , 0.0075 , 99.92, 8
> 0.012 <= 0.0132285 , 0.0126142 , 100.00, 4
# target 50% 0.00138129
# target 75% 0.00156552
# target 90% 0.0020948
# target 99% 0.00479167
# target 99.9% 0.007875
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 209 +/- 0 min 209 max 209 sum 1045000
Response Body/Total Sizes : count 5000 avg 209 +/- 0 min 209 max 209 sum 1045000
All done 5000 calls (plus 4 warmup) 1.573 ms avg, 499.9 qps
Successfully wrote 3866 bytes of Json data to /data/2018-11-19-051226_http_istio_500qps_10s_echo_0_6.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
05:12:36 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:12:46 I periodic.go:533> T000 ended after 10.001093704s : 1250 calls. qps=124.98633019507203
05:12:46 I periodic.go:533> T003 ended after 10.001179786s : 1250 calls. qps=124.98525441466352
05:12:46 I periodic.go:533> T002 ended after 10.001206877s : 1250 calls. qps=124.9849158579704
05:12:46 I periodic.go:533> T001 ended after 10.001232048s : 1250 calls. qps=124.98460129719409
Ended after 10.001244998s : 5000 calls. qps=499.94
Sleep times : count 4996 avg 0.0068174928 +/- 0.0004367 min 0.001806935 max 0.007371525 sum 34.0601942
Aggregated Function Time : count 5000 avg 0.00084564842 +/- 0.0003105 min 0.000379883 max 0.005840784 sum 4.22824209
# range, mid point, percentile, count
>= 0.000379883 <= 0.0004 , 0.000389942 , 0.04, 2
> 0.0004 <= 0.0005 , 0.00045 , 0.64, 30
> 0.0005 <= 0.0006 , 0.00055 , 3.98, 167
> 0.0006 <= 0.0007 , 0.00065 , 19.84, 793
> 0.0007 <= 0.0008 , 0.00075 , 51.84, 1600
> 0.0008 <= 0.0009 , 0.00085 , 77.56, 1286
> 0.0009 <= 0.001 , 0.00095 , 90.62, 653
> 0.001 <= 0.0011 , 0.00105 , 94.12, 175
> 0.0011 <= 0.0012 , 0.00115 , 95.30, 59
> 0.0012 <= 0.0014 , 0.0013 , 96.60, 65
> 0.0014 <= 0.0016 , 0.0015 , 97.46, 43
> 0.0016 <= 0.0018 , 0.0017 , 98.00, 27
> 0.0018 <= 0.002 , 0.0019 , 98.60, 30
> 0.002 <= 0.0025 , 0.00225 , 99.58, 49
> 0.0025 <= 0.003 , 0.00275 , 99.74, 8
> 0.0035 <= 0.004 , 0.00375 , 99.76, 1
> 0.004 <= 0.0045 , 0.00425 , 99.84, 4
> 0.0045 <= 0.005 , 0.00475 , 99.94, 5
> 0.005 <= 0.00584078 , 0.00542039 , 100.00, 3
# target 50% 0.00079425
# target 75% 0.000890047
# target 90% 0.000995253
# target 99% 0.00220408
# target 99.9% 0.0048
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 0.846 ms avg, 499.9 qps
Successfully wrote 3336 bytes of Json data to /data/2018-11-19-051236_grpc_baseline_500qps_10s_echo_0_6.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
05:12:46 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:12:56 I periodic.go:533> T003 ended after 10.001724046s : 1250 calls. qps=124.97845313977783
05:12:56 I periodic.go:533> T001 ended after 10.001872033s : 1250 calls. qps=124.97660396731453
05:12:56 I periodic.go:533> T000 ended after 10.001890434s : 1250 calls. qps=124.97637404133155
05:12:56 I periodic.go:533> T002 ended after 10.001912266s : 1250 calls. qps=124.97610124507766
Ended after 10.001924796s : 5000 calls. qps=499.9
Sleep times : count 4996 avg 0.0064480341 +/- 0.0004447 min 0.002352604 max 0.007010308 sum 32.2143785
Aggregated Function Time : count 5000 avg 0.0012443473 +/- 0.0003937 min 0.000702233 max 0.005439304 sum 6.22173659
# range, mid point, percentile, count
>= 0.000702233 <= 0.0008 , 0.000751116 , 0.06, 3
> 0.0008 <= 0.0009 , 0.00085 , 1.80, 87
> 0.0009 <= 0.001 , 0.00095 , 11.56, 488
> 0.001 <= 0.0011 , 0.00105 , 32.00, 1022
> 0.0011 <= 0.0012 , 0.00115 , 55.18, 1159
> 0.0012 <= 0.0014 , 0.0013 , 86.52, 1567
> 0.0014 <= 0.0016 , 0.0015 , 95.20, 434
> 0.0016 <= 0.0018 , 0.0017 , 96.40, 60
> 0.0018 <= 0.002 , 0.0019 , 96.96, 28
> 0.002 <= 0.0025 , 0.00225 , 98.12, 58
> 0.0025 <= 0.003 , 0.00275 , 98.96, 42
> 0.003 <= 0.0035 , 0.00325 , 99.28, 16
> 0.0035 <= 0.004 , 0.00375 , 99.32, 2
> 0.004 <= 0.0045 , 0.00425 , 99.60, 14
> 0.0045 <= 0.005 , 0.00475 , 99.88, 14
> 0.005 <= 0.0054393 , 0.00521965 , 100.00, 6
# target 50% 0.00117765
# target 75% 0.00132648
# target 90% 0.00148018
# target 99% 0.0030625
# target 99.9% 0.00507322
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 1.244 ms avg, 499.9 qps
Successfully wrote 2985 bytes of Json data to /data/2018-11-19-051246_grpc_linkerd_500qps_10s_echo_0_6.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8079
05:12:56 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:13:06 I periodic.go:533> T001 ended after 10.00149582s : 1250 calls. qps=124.98130504642853
05:13:06 I periodic.go:533> T000 ended after 10.002147766s : 1250 calls. qps=124.97315868988532
05:13:06 I periodic.go:533> T003 ended after 10.002480671s : 1250 calls. qps=124.96899930275306
05:13:06 I periodic.go:533> T002 ended after 10.002575949s : 1250 calls. qps=124.96780892975552
Ended after 10.00280024s : 5000 calls. qps=499.86
Sleep times : count 4996 avg 0.0057894251 +/- 0.000862 min -0.001653966 max 0.006857099 sum 28.923968
Aggregated Function Time : count 5000 avg 0.0018826616 +/- 0.0008318 min 0.000735721 max 0.009406174 sum 9.41330805
# range, mid point, percentile, count
>= 0.000735721 <= 0.0008 , 0.000767861 , 0.04, 2
> 0.0009 <= 0.001 , 0.00095 , 0.96, 46
> 0.001 <= 0.0011 , 0.00105 , 6.84, 294
> 0.0011 <= 0.0012 , 0.00115 , 14.36, 376
> 0.0012 <= 0.0014 , 0.0013 , 19.82, 273
> 0.0014 <= 0.0016 , 0.0015 , 25.36, 277
> 0.0016 <= 0.0018 , 0.0017 , 52.92, 1378
> 0.0018 <= 0.002 , 0.0019 , 76.94, 1201
> 0.002 <= 0.0025 , 0.00225 , 90.76, 691
> 0.0025 <= 0.003 , 0.00275 , 95.56, 240
> 0.003 <= 0.0035 , 0.00325 , 96.38, 41
> 0.0035 <= 0.004 , 0.00375 , 97.48, 55
> 0.004 <= 0.0045 , 0.00425 , 98.24, 38
> 0.0045 <= 0.005 , 0.00475 , 98.66, 21
> 0.005 <= 0.006 , 0.0055 , 99.24, 29
> 0.006 <= 0.007 , 0.0065 , 99.38, 7
> 0.007 <= 0.008 , 0.0075 , 99.44, 3
> 0.008 <= 0.009 , 0.0085 , 99.84, 20
> 0.009 <= 0.00940617 , 0.00920309 , 100.00, 8
# target 50% 0.00177881
# target 75% 0.00198385
# target 90% 0.0024725
# target 99% 0.00558621
# target 99.9% 0.00915232
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 1.883 ms avg, 499.9 qps
Successfully wrote 3312 bytes of Json data to /data/2018-11-19-051256_grpc_istio_500qps_10s_echo_0_6.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
05:13:06 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 500.0 qps
05:13:06 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:13:16 I periodic.go:533> T001 ended after 10.000726942s : 1250 calls. qps=124.99091388550782
05:13:16 I periodic.go:533> T003 ended after 10.000844622s : 1250 calls. qps=124.98944311665758
05:13:16 I periodic.go:533> T000 ended after 10.000857021s : 1250 calls. qps=124.98928815552757
05:13:16 I periodic.go:533> T002 ended after 10.000916149s : 1250 calls. qps=124.98854918656512
Ended after 10.000928536s : 5000 calls. qps=499.95
Sleep times : count 4996 avg 0.0072400701 +/- 0.0003677 min 0.001029852 max 0.007610387 sum 36.1713904
Aggregated Function Time : count 5000 avg 0.00045403391 +/- 0.0002552 min 0.000123098 max 0.004669797 sum 2.27016957
# range, mid point, percentile, count
>= 0.000123098 <= 0.0002 , 0.000161549 , 0.32, 16
> 0.0002 <= 0.0003 , 0.00025 , 8.76, 422
> 0.0003 <= 0.0004 , 0.00035 , 44.54, 1789
> 0.0004 <= 0.0005 , 0.00045 , 76.96, 1621
> 0.0005 <= 0.0006 , 0.00055 , 91.42, 723
> 0.0006 <= 0.0007 , 0.00065 , 96.00, 229
> 0.0007 <= 0.0008 , 0.00075 , 97.36, 68
> 0.0008 <= 0.0009 , 0.00085 , 97.78, 21
> 0.0009 <= 0.001 , 0.00095 , 97.98, 10
> 0.001 <= 0.0011 , 0.00105 , 98.26, 14
> 0.0011 <= 0.0012 , 0.00115 , 98.42, 8
> 0.0012 <= 0.0014 , 0.0013 , 98.66, 12
> 0.0014 <= 0.0016 , 0.0015 , 99.08, 21
> 0.0016 <= 0.0018 , 0.0017 , 99.36, 14
> 0.0018 <= 0.002 , 0.0019 , 99.62, 13
> 0.002 <= 0.0025 , 0.00225 , 99.70, 4
> 0.0025 <= 0.003 , 0.00275 , 99.78, 4
> 0.003 <= 0.0035 , 0.00325 , 99.84, 3
> 0.0035 <= 0.004 , 0.00375 , 99.88, 2
> 0.004 <= 0.0045 , 0.00425 , 99.92, 2
> 0.0045 <= 0.0046698 , 0.0045849 , 100.00, 4
# target 50% 0.000416841
# target 75% 0.000493954
# target 90% 0.00059018
# target 99% 0.0015619
# target 99.9% 0.00425
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
Response Body/Total Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
All done 5000 calls (plus 4 warmup) 0.454 ms avg, 500.0 qps
Successfully wrote 4140 bytes of Json data to /data/2018-11-19-051306_http_baseline_500qps_10s_echo_1_6.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
05:13:16 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 500.0 qps
05:13:16 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:13:26 I periodic.go:533> T001 ended after 10.001010121s : 1250 calls. qps=124.98737476280172
05:13:26 I periodic.go:533> T002 ended after 10.001448903s : 1250 calls. qps=124.98189133626973
05:13:26 I periodic.go:533> T000 ended after 10.002283672s : 1250 calls. qps=124.97146061745887
05:13:26 I periodic.go:533> T003 ended after 10.002310007s : 1250 calls. qps=124.97113158112496
Ended after 10.002324799s : 5000 calls. qps=499.88
Sleep times : count 4996 avg 0.0066695976 +/- 0.001847 min -0.030669707 max 0.007514074 sum 33.3213098
Aggregated Function Time : count 5000 avg 0.00092676352 +/- 0.0009247 min 0.000453547 max 0.03189702 sum 4.63381759
# range, mid point, percentile, count
>= 0.000453547 <= 0.0005 , 0.000476774 , 0.04, 2
> 0.0005 <= 0.0006 , 0.00055 , 0.42, 19
> 0.0006 <= 0.0007 , 0.00065 , 5.86, 272
> 0.0007 <= 0.0008 , 0.00075 , 28.82, 1148
> 0.0008 <= 0.0009 , 0.00085 , 62.86, 1702
> 0.0009 <= 0.001 , 0.00095 , 85.68, 1141
> 0.001 <= 0.0011 , 0.00105 , 94.30, 431
> 0.0011 <= 0.0012 , 0.00115 , 96.50, 110
> 0.0012 <= 0.0014 , 0.0013 , 97.56, 53
> 0.0014 <= 0.0016 , 0.0015 , 98.10, 27
> 0.0016 <= 0.0018 , 0.0017 , 98.70, 30
> 0.0018 <= 0.002 , 0.0019 , 98.88, 9
> 0.002 <= 0.0025 , 0.00225 , 99.12, 12
> 0.0025 <= 0.003 , 0.00275 , 99.20, 4
> 0.003 <= 0.0035 , 0.00325 , 99.52, 16
> 0.0035 <= 0.004 , 0.00375 , 99.66, 7
> 0.004 <= 0.0045 , 0.00425 , 99.76, 5
> 0.0045 <= 0.005 , 0.00475 , 99.90, 7
> 0.005 <= 0.006 , 0.0055 , 99.92, 1
> 0.03 <= 0.031897 , 0.0309485 , 100.00, 4
# target 50% 0.000862221
# target 75% 0.000953199
# target 90% 0.00105012
# target 99% 0.00225
# target 99.9% 0.005
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
Response Body/Total Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
All done 5000 calls (plus 4 warmup) 0.927 ms avg, 499.9 qps
Successfully wrote 3983 bytes of Json data to /data/2018-11-19-051316_http_linkerd_500qps_10s_echo_1_6.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
05:13:26 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 500.0 qps
05:13:26 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:13:36 I periodic.go:533> T001 ended after 10.001796976s : 1250 calls. qps=124.97754183567824
05:13:36 I periodic.go:533> T003 ended after 10.00245877s : 1250 calls. qps=124.96927293007977
05:13:36 I periodic.go:533> T000 ended after 10.002570326s : 1250 calls. qps=124.96787918109759
05:13:36 I periodic.go:533> T002 ended after 10.002648454s : 1250 calls. qps=124.96690309056423
Ended after 10.00273819s : 5000 calls. qps=499.86
Sleep times : count 4996 avg 0.0059930891 +/- 0.0008161 min -0.002885473 max 0.007402988 sum 29.9414732
Aggregated Function Time : count 5000 avg 0.0017092774 +/- 0.0007642 min 0.000546914 max 0.010710751 sum 8.54638722
# range, mid point, percentile, count
>= 0.000546914 <= 0.0006 , 0.000573457 , 0.02, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.08, 3
> 0.0008 <= 0.0009 , 0.00085 , 0.14, 3
> 0.0009 <= 0.001 , 0.00095 , 0.34, 10
> 0.001 <= 0.0011 , 0.00105 , 0.56, 11
> 0.0011 <= 0.0012 , 0.00115 , 1.82, 63
> 0.0012 <= 0.0014 , 0.0013 , 30.00, 1409
> 0.0014 <= 0.0016 , 0.0015 , 63.52, 1676
> 0.0016 <= 0.0018 , 0.0017 , 80.02, 825
> 0.0018 <= 0.002 , 0.0019 , 86.04, 301
> 0.002 <= 0.0025 , 0.00225 , 93.14, 355
> 0.0025 <= 0.003 , 0.00275 , 95.96, 141
> 0.003 <= 0.0035 , 0.00325 , 96.96, 50
> 0.0035 <= 0.004 , 0.00375 , 97.60, 32
> 0.004 <= 0.0045 , 0.00425 , 98.10, 25
> 0.0045 <= 0.005 , 0.00475 , 98.64, 27
> 0.005 <= 0.006 , 0.0055 , 99.28, 32
> 0.006 <= 0.007 , 0.0065 , 99.76, 24
> 0.007 <= 0.008 , 0.0075 , 99.84, 4
> 0.01 <= 0.0107108 , 0.0103554 , 100.00, 8
# target 50% 0.00151933
# target 75% 0.00173915
# target 90% 0.00227887
# target 99% 0.0055625
# target 99.9% 0.0102665
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 209 +/- 0 min 209 max 209 sum 1045000
Response Body/Total Sizes : count 5000 avg 209 +/- 0 min 209 max 209 sum 1045000
All done 5000 calls (plus 4 warmup) 1.709 ms avg, 499.9 qps
Successfully wrote 3974 bytes of Json data to /data/2018-11-19-051326_http_istio_500qps_10s_echo_1_6.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
05:13:36 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:13:46 I periodic.go:533> T001 ended after 10.00084942s : 1250 calls. qps=124.98938315181633
05:13:46 I periodic.go:533> T003 ended after 10.003198122s : 1250 calls. qps=124.96003625589292
05:13:46 I periodic.go:533> T002 ended after 10.004914792s : 1250 calls. qps=124.93859527914309
05:13:46 I periodic.go:533> T000 ended after 10.004953404s : 1250 calls. qps=124.93811310507928
Ended after 10.004966912s : 5000 calls. qps=499.75
Sleep times : count 4996 avg 0.0067872482 +/- 0.0005024 min 0.000949931 max 0.007333899 sum 33.9090922
Aggregated Function Time : count 5000 avg 0.00087496733 +/- 0.0003807 min 0.000387198 max 0.005683136 sum 4.37483665
# range, mid point, percentile, count
>= 0.000387198 <= 0.0004 , 0.000393599 , 0.02, 1
> 0.0004 <= 0.0005 , 0.00045 , 0.34, 16
> 0.0005 <= 0.0006 , 0.00055 , 2.92, 129
> 0.0006 <= 0.0007 , 0.00065 , 17.84, 746
> 0.0007 <= 0.0008 , 0.00075 , 48.68, 1542
> 0.0008 <= 0.0009 , 0.00085 , 73.06, 1219
> 0.0009 <= 0.001 , 0.00095 , 87.12, 703
> 0.001 <= 0.0011 , 0.00105 , 93.00, 294
> 0.0011 <= 0.0012 , 0.00115 , 95.16, 108
> 0.0012 <= 0.0014 , 0.0013 , 96.50, 67
> 0.0014 <= 0.0016 , 0.0015 , 97.12, 31
> 0.0016 <= 0.0018 , 0.0017 , 97.30, 9
> 0.0018 <= 0.002 , 0.0019 , 97.90, 30
> 0.002 <= 0.0025 , 0.00225 , 98.80, 45
> 0.0025 <= 0.003 , 0.00275 , 99.22, 21
> 0.003 <= 0.0035 , 0.00325 , 99.48, 13
> 0.0035 <= 0.004 , 0.00375 , 99.72, 12
> 0.0045 <= 0.005 , 0.00475 , 99.90, 9
> 0.005 <= 0.00568314 , 0.00534157 , 100.00, 5
# target 50% 0.000805414
# target 75% 0.000913798
# target 90% 0.00104898
# target 99% 0.0027381
# target 99.9% 0.005
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 0.875 ms avg, 499.8 qps
Successfully wrote 3319 bytes of Json data to /data/2018-11-19-051336_grpc_baseline_500qps_10s_echo_1_6.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
05:13:46 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:13:56 I periodic.go:533> T002 ended after 10.001511688s : 1250 calls. qps=124.981106756069
05:13:56 I periodic.go:533> T000 ended after 10.004159116s : 1250 calls. qps=124.94803266381794
05:13:56 I periodic.go:533> T001 ended after 10.00421264s : 1250 calls. qps=124.94736417357878
05:13:56 I periodic.go:533> T003 ended after 10.004286606s : 1250 calls. qps=124.94644038389717
Ended after 10.004299468s : 5000 calls. qps=499.79
Sleep times : count 4996 avg 0.0063786531 +/- 0.0004762 min 0.001699964 max 0.00696081 sum 31.867751
Aggregated Function Time : count 5000 avg 0.0013003976 +/- 0.000398 min 0.000786047 max 0.006055828 sum 6.50198823
# range, mid point, percentile, count
>= 0.000786047 <= 0.0008 , 0.000793024 , 0.04, 2
> 0.0008 <= 0.0009 , 0.00085 , 0.62, 29
> 0.0009 <= 0.001 , 0.00095 , 5.28, 233
> 0.001 <= 0.0011 , 0.00105 , 20.22, 747
> 0.0011 <= 0.0012 , 0.00115 , 42.24, 1101
> 0.0012 <= 0.0014 , 0.0013 , 79.80, 1878
> 0.0014 <= 0.0016 , 0.0015 , 93.14, 667
> 0.0016 <= 0.0018 , 0.0017 , 95.58, 122
> 0.0018 <= 0.002 , 0.0019 , 96.62, 52
> 0.002 <= 0.0025 , 0.00225 , 98.52, 95
> 0.0025 <= 0.003 , 0.00275 , 99.20, 34
> 0.003 <= 0.0035 , 0.00325 , 99.36, 8
> 0.0035 <= 0.004 , 0.00375 , 99.42, 3
> 0.004 <= 0.0045 , 0.00425 , 99.48, 3
> 0.0045 <= 0.005 , 0.00475 , 99.68, 10
> 0.005 <= 0.006 , 0.0055 , 99.98, 15
> 0.006 <= 0.00605583 , 0.00602791 , 100.00, 1
# target 50% 0.00124132
# target 75% 0.00137444
# target 90% 0.00155292
# target 99% 0.00285294
# target 99.9% 0.00573333
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 1.300 ms avg, 499.8 qps
Successfully wrote 3089 bytes of Json data to /data/2018-11-19-051346_grpc_linkerd_500qps_10s_echo_1_6.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8079
05:13:56 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:14:06 I periodic.go:533> T001 ended after 10.001578964s : 1250 calls. qps=124.98026606591715
05:14:06 I periodic.go:533> T003 ended after 10.002460347s : 1250 calls. qps=124.96925322727301
05:14:06 I periodic.go:533> T002 ended after 10.002738997s : 1250 calls. qps=124.96577191256289
05:14:06 I periodic.go:533> T000 ended after 10.002835412s : 1250 calls. qps=124.96456739660289
Ended after 10.002900677s : 5000 calls. qps=499.86
Sleep times : count 4996 avg 0.0057215444 +/- 0.0008196 min -0.002506676 max 0.006779729 sum 28.584836
Aggregated Function Time : count 5000 avg 0.0019647381 +/- 0.0007989 min 0.000720665 max 0.010152329 sum 9.8236905
# range, mid point, percentile, count
>= 0.000720665 <= 0.0008 , 0.000760333 , 0.02, 1
> 0.0008 <= 0.0009 , 0.00085 , 0.06, 2
> 0.0009 <= 0.001 , 0.00095 , 0.34, 14
> 0.001 <= 0.0011 , 0.00105 , 3.80, 173
> 0.0011 <= 0.0012 , 0.00115 , 9.10, 265
> 0.0012 <= 0.0014 , 0.0013 , 17.60, 425
> 0.0014 <= 0.0016 , 0.0015 , 22.26, 233
> 0.0016 <= 0.0018 , 0.0017 , 39.10, 842
> 0.0018 <= 0.002 , 0.0019 , 65.76, 1333
> 0.002 <= 0.0025 , 0.00225 , 89.84, 1204
> 0.0025 <= 0.003 , 0.00275 , 95.44, 280
> 0.003 <= 0.0035 , 0.00325 , 96.44, 50
> 0.0035 <= 0.004 , 0.00375 , 97.50, 53
> 0.004 <= 0.0045 , 0.00425 , 98.42, 46
> 0.0045 <= 0.005 , 0.00475 , 98.60, 9
> 0.005 <= 0.006 , 0.0055 , 99.22, 31
> 0.006 <= 0.007 , 0.0065 , 99.48, 13
> 0.007 <= 0.008 , 0.0075 , 99.76, 14
> 0.008 <= 0.009 , 0.0085 , 99.78, 1
> 0.009 <= 0.01 , 0.0095 , 99.92, 7
> 0.01 <= 0.0101523 , 0.0100762 , 100.00, 4
# target 50% 0.00188177
# target 75% 0.00219186
# target 90% 0.00251429
# target 99% 0.00564516
# target 99.9% 0.00985714
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 1.965 ms avg, 499.9 qps
Successfully wrote 3547 bytes of Json data to /data/2018-11-19-051356_grpc_istio_500qps_10s_echo_1_6.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
05:14:06 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 500.0 qps
05:14:06 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:14:16 I periodic.go:533> T000 ended after 10.000665777s : 1250 calls. qps=124.99167834153688
05:14:16 I periodic.go:533> T002 ended after 10.001056245s : 1250 calls. qps=124.9867983319196
05:14:16 I periodic.go:533> T001 ended after 10.002932161s : 1250 calls. qps=124.9633587313099
05:14:16 I periodic.go:533> T003 ended after 10.004798832s : 1250 calls. qps=124.94004337217841
Ended after 10.004856734s : 5000 calls. qps=499.76
Sleep times : count 4996 avg 0.0072616883 +/- 0.0003253 min 0.002940954 max 0.007631332 sum 36.2793949
Aggregated Function Time : count 5000 avg 0.00043686183 +/- 0.0002198 min 0.000115065 max 0.004483958 sum 2.18430917
# range, mid point, percentile, count
>= 0.000115065 <= 0.0002 , 0.000157533 , 0.84, 42
> 0.0002 <= 0.0003 , 0.00025 , 9.08, 412
> 0.0003 <= 0.0004 , 0.00035 , 47.24, 1908
> 0.0004 <= 0.0005 , 0.00045 , 81.14, 1695
> 0.0005 <= 0.0006 , 0.00055 , 94.00, 643
> 0.0006 <= 0.0007 , 0.00065 , 97.32, 166
> 0.0007 <= 0.0008 , 0.00075 , 98.00, 34
> 0.0008 <= 0.0009 , 0.00085 , 98.20, 10
> 0.0009 <= 0.001 , 0.00095 , 98.48, 14
> 0.001 <= 0.0011 , 0.00105 , 98.66, 9
> 0.0011 <= 0.0012 , 0.00115 , 98.76, 5
> 0.0012 <= 0.0014 , 0.0013 , 99.14, 19
> 0.0014 <= 0.0016 , 0.0015 , 99.30, 8
> 0.0016 <= 0.0018 , 0.0017 , 99.38, 4
> 0.0018 <= 0.002 , 0.0019 , 99.56, 9
> 0.002 <= 0.0025 , 0.00225 , 99.86, 15
> 0.0025 <= 0.003 , 0.00275 , 99.88, 1
> 0.0035 <= 0.004 , 0.00375 , 99.94, 3
> 0.004 <= 0.00448396 , 0.00424198 , 100.00, 3
# target 50% 0.000408142
# target 75% 0.000481888
# target 90% 0.000568896
# target 99% 0.00132632
# target 99.9% 0.00366667
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
Response Body/Total Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
All done 5000 calls (plus 4 warmup) 0.437 ms avg, 499.8 qps
Successfully wrote 3885 bytes of Json data to /data/2018-11-19-051406_http_baseline_500qps_10s_echo_0_7.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
05:14:16 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 500.0 qps
05:14:16 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:14:26 I periodic.go:533> T003 ended after 10.001230221s : 1250 calls. qps=124.98462412907193
05:14:26 I periodic.go:533> T002 ended after 10.001720154s : 1250 calls. qps=124.97850177302612
05:14:26 I periodic.go:533> T000 ended after 10.0036775s : 1250 calls. qps=124.95404814879328
05:14:26 I periodic.go:533> T001 ended after 10.003719743s : 1250 calls. qps=124.95352050167885
Ended after 10.003735856s : 5000 calls. qps=499.81
Sleep times : count 4996 avg 0.0066885516 +/- 0.002326 min -0.040991936 max 0.007264401 sum 33.416004
Aggregated Function Time : count 5000 avg 0.00086516275 +/- 0.0009411 min 0.00041746 max 0.031581684 sum 4.32581373
# range, mid point, percentile, count
>= 0.00041746 <= 0.0005 , 0.00045873 , 0.26, 13
> 0.0005 <= 0.0006 , 0.00055 , 1.78, 76
> 0.0006 <= 0.0007 , 0.00065 , 22.96, 1059
> 0.0007 <= 0.0008 , 0.00075 , 55.80, 1642
> 0.0008 <= 0.0009 , 0.00085 , 81.48, 1284
> 0.0009 <= 0.001 , 0.00095 , 92.32, 542
> 0.001 <= 0.0011 , 0.00105 , 95.40, 154
> 0.0011 <= 0.0012 , 0.00115 , 96.36, 48
> 0.0012 <= 0.0014 , 0.0013 , 96.96, 30
> 0.0014 <= 0.0016 , 0.0015 , 97.74, 39
> 0.0016 <= 0.0018 , 0.0017 , 98.08, 17
> 0.0018 <= 0.002 , 0.0019 , 98.44, 18
> 0.002 <= 0.0025 , 0.00225 , 98.90, 23
> 0.0025 <= 0.003 , 0.00275 , 99.02, 6
> 0.003 <= 0.0035 , 0.00325 , 99.34, 16
> 0.0035 <= 0.004 , 0.00375 , 99.54, 10
> 0.004 <= 0.0045 , 0.00425 , 99.74, 10
> 0.0045 <= 0.005 , 0.00475 , 99.80, 3
> 0.005 <= 0.006 , 0.0055 , 99.92, 6
> 0.03 <= 0.0315817 , 0.0307908 , 100.00, 4
# target 50% 0.000782339
# target 75% 0.000874766
# target 90% 0.000978598
# target 99% 0.00291667
# target 99.9% 0.00583333
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
Response Body/Total Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
All done 5000 calls (plus 4 warmup) 0.865 ms avg, 499.8 qps
Successfully wrote 4002 bytes of Json data to /data/2018-11-19-051416_http_linkerd_500qps_10s_echo_0_7.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
05:14:26 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 500.0 qps
05:14:26 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:14:36 I periodic.go:533> T000 ended after 10.001587285s : 1250 calls. qps=124.98016208634229
05:14:36 I periodic.go:533> T003 ended after 10.002120202s : 1250 calls. qps=124.97350309287954
05:14:36 I periodic.go:533> T002 ended after 10.002241866s : 1250 calls. qps=124.97198295604582
05:14:36 I periodic.go:533> T001 ended after 10.002368213s : 1250 calls. qps=124.97040434638116
Ended after 10.002431681s : 5000 calls. qps=499.88
Sleep times : count 4996 avg 0.0058459983 +/- 0.0007779 min -0.002965825 max 0.007050762 sum 29.2066077
Aggregated Function Time : count 5000 avg 0.0018592226 +/- 0.000726 min 0.000808334 max 0.00993119 sum 9.2961131
# range, mid point, percentile, count
>= 0.000808334 <= 0.0009 , 0.000854167 , 0.02, 1
> 0.001 <= 0.0011 , 0.00105 , 0.06, 2
> 0.0011 <= 0.0012 , 0.00115 , 0.42, 18
> 0.0012 <= 0.0014 , 0.0013 , 6.52, 305
> 0.0014 <= 0.0016 , 0.0015 , 34.20, 1384
> 0.0016 <= 0.0018 , 0.0017 , 66.28, 1604
> 0.0018 <= 0.002 , 0.0019 , 82.82, 827
> 0.002 <= 0.0025 , 0.00225 , 92.58, 488
> 0.0025 <= 0.003 , 0.00275 , 95.60, 151
> 0.003 <= 0.0035 , 0.00325 , 96.16, 28
> 0.0035 <= 0.004 , 0.00375 , 97.40, 62
> 0.004 <= 0.0045 , 0.00425 , 98.10, 35
> 0.0045 <= 0.005 , 0.00475 , 98.78, 34
> 0.005 <= 0.006 , 0.0055 , 99.52, 37
> 0.006 <= 0.007 , 0.0065 , 99.72, 10
> 0.007 <= 0.008 , 0.0075 , 99.76, 2
> 0.008 <= 0.009 , 0.0085 , 99.92, 8
> 0.009 <= 0.00993119 , 0.0094656 , 100.00, 4
# target 50% 0.0016985
# target 75% 0.00190544
# target 90% 0.00236783
# target 99% 0.0052973
# target 99.9% 0.008875
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 209 +/- 0 min 209 max 209 sum 1045000
Response Body/Total Sizes : count 5000 avg 209 +/- 0 min 209 max 209 sum 1045000
All done 5000 calls (plus 4 warmup) 1.859 ms avg, 499.9 qps
Successfully wrote 3744 bytes of Json data to /data/2018-11-19-051426_http_istio_500qps_10s_echo_0_7.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
05:14:36 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:14:46 I periodic.go:533> T000 ended after 10.001170295s : 1250 calls. qps=124.98537302428765
05:14:46 I periodic.go:533> T001 ended after 10.001592648s : 1250 calls. qps=124.98009507015466
05:14:46 I periodic.go:533> T002 ended after 10.003783082s : 1250 calls. qps=124.95272935787153
05:14:46 I periodic.go:533> T003 ended after 10.003820114s : 1250 calls. qps=124.95226680962288
Ended after 10.003833437s : 5000 calls. qps=499.81
Sleep times : count 4996 avg 0.0067858943 +/- 0.0004915 min 0.001315808 max 0.007373619 sum 33.9023278
Aggregated Function Time : count 5000 avg 0.00087614075 +/- 0.0003528 min 0.000331346 max 0.006406992 sum 4.38070373
# range, mid point, percentile, count
>= 0.000331346 <= 0.0004 , 0.000365673 , 0.06, 3
> 0.0004 <= 0.0005 , 0.00045 , 0.44, 19
> 0.0005 <= 0.0006 , 0.00055 , 3.06, 131
> 0.0006 <= 0.0007 , 0.00065 , 15.92, 643
> 0.0007 <= 0.0008 , 0.00075 , 42.64, 1336
> 0.0008 <= 0.0009 , 0.00085 , 71.80, 1458
> 0.0009 <= 0.001 , 0.00095 , 88.40, 830
> 0.001 <= 0.0011 , 0.00105 , 93.36, 248
> 0.0011 <= 0.0012 , 0.00115 , 95.30, 97
> 0.0012 <= 0.0014 , 0.0013 , 96.32, 51
> 0.0014 <= 0.0016 , 0.0015 , 97.02, 35
> 0.0016 <= 0.0018 , 0.0017 , 97.56, 27
> 0.0018 <= 0.002 , 0.0019 , 98.34, 39
> 0.002 <= 0.0025 , 0.00225 , 99.00, 33
> 0.0025 <= 0.003 , 0.00275 , 99.38, 19
> 0.003 <= 0.0035 , 0.00325 , 99.82, 22
> 0.0045 <= 0.005 , 0.00475 , 99.84, 1
> 0.005 <= 0.006 , 0.0055 , 99.92, 4
> 0.006 <= 0.00640699 , 0.0062035 , 100.00, 4
# target 50% 0.00082524
# target 75% 0.000919277
# target 90% 0.00103226
# target 99% 0.0025
# target 99.9% 0.00575
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 0.876 ms avg, 499.8 qps
Successfully wrote 3317 bytes of Json data to /data/2018-11-19-051436_grpc_baseline_500qps_10s_echo_0_7.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
05:14:46 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:14:56 I periodic.go:533> T002 ended after 10.001551988s : 1250 calls. qps=124.98060316036624
05:14:56 I periodic.go:533> T001 ended after 10.003979587s : 1250 calls. qps=124.95027495101586
05:14:56 I periodic.go:533> T000 ended after 10.005586715s : 1250 calls. qps=124.93020505494665
05:14:56 I periodic.go:533> T003 ended after 10.005645075s : 1250 calls. qps=124.92947637361601
Ended after 10.005659378s : 5000 calls. qps=499.72
Sleep times : count 4996 avg 0.0064448875 +/- 0.0004973 min -0.000784591 max 0.007068853 sum 32.1986578
Aggregated Function Time : count 5000 avg 0.0012376014 +/- 0.0004247 min 0.000782047 max 0.006083114 sum 6.18800709
# range, mid point, percentile, count
>= 0.000782047 <= 0.0008 , 0.000791024 , 0.08, 4
> 0.0008 <= 0.0009 , 0.00085 , 1.90, 91
> 0.0009 <= 0.001 , 0.00095 , 12.48, 529
> 0.001 <= 0.0011 , 0.00105 , 33.86, 1069
> 0.0011 <= 0.0012 , 0.00115 , 58.20, 1217
> 0.0012 <= 0.0014 , 0.0013 , 87.90, 1485
> 0.0014 <= 0.0016 , 0.0015 , 95.12, 361
> 0.0016 <= 0.0018 , 0.0017 , 96.08, 48
> 0.0018 <= 0.002 , 0.0019 , 96.86, 39
> 0.002 <= 0.0025 , 0.00225 , 98.46, 80
> 0.0025 <= 0.003 , 0.00275 , 98.96, 25
> 0.003 <= 0.0035 , 0.00325 , 99.06, 5
> 0.0035 <= 0.004 , 0.00375 , 99.16, 5
> 0.004 <= 0.0045 , 0.00425 , 99.46, 15
> 0.0045 <= 0.005 , 0.00475 , 99.64, 9
> 0.005 <= 0.006 , 0.0055 , 99.98, 17
> 0.006 <= 0.00608311 , 0.00604156 , 100.00, 1
# target 50% 0.00116631
# target 75% 0.00131313
# target 90% 0.00145817
# target 99% 0.0032
# target 99.9% 0.00576471
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 1.238 ms avg, 499.7 qps
Successfully wrote 3084 bytes of Json data to /data/2018-11-19-051446_grpc_linkerd_500qps_10s_echo_0_7.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8079
05:14:56 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:15:07 I periodic.go:533> T002 ended after 10.002167744s : 1250 calls. qps=124.97290907261953
05:15:07 I periodic.go:533> T000 ended after 10.003052714s : 1250 calls. qps=124.96185272027348
05:15:07 I periodic.go:533> T003 ended after 10.003373317s : 1250 calls. qps=124.95784775678787
05:15:07 I periodic.go:533> T001 ended after 10.00350629s : 1250 calls. qps=124.95618673720051
Ended after 10.003548211s : 5000 calls. qps=499.82
Sleep times : count 4996 avg 0.0056775114 +/- 0.0008977 min -0.001308525 max 0.006822624 sum 28.3648468
Aggregated Function Time : count 5000 avg 0.0020029285 +/- 0.0008657 min 0.000865905 max 0.009140869 sum 10.0146425
# range, mid point, percentile, count
>= 0.000865905 <= 0.0009 , 0.000882953 , 0.02, 1
> 0.0009 <= 0.001 , 0.00095 , 0.40, 19
> 0.001 <= 0.0011 , 0.00105 , 3.38, 149
> 0.0011 <= 0.0012 , 0.00115 , 8.62, 262
> 0.0012 <= 0.0014 , 0.0013 , 17.94, 466
> 0.0014 <= 0.0016 , 0.0015 , 22.08, 207
> 0.0016 <= 0.0018 , 0.0017 , 38.64, 828
> 0.0018 <= 0.002 , 0.0019 , 66.60, 1398
> 0.002 <= 0.0025 , 0.00225 , 88.44, 1092
> 0.0025 <= 0.003 , 0.00275 , 93.90, 273
> 0.003 <= 0.0035 , 0.00325 , 95.30, 70
> 0.0035 <= 0.004 , 0.00375 , 95.72, 21
> 0.004 <= 0.0045 , 0.00425 , 96.74, 51
> 0.0045 <= 0.005 , 0.00475 , 97.74, 50
> 0.005 <= 0.006 , 0.0055 , 99.00, 63
> 0.006 <= 0.007 , 0.0065 , 99.64, 32
> 0.007 <= 0.008 , 0.0075 , 99.86, 11
> 0.008 <= 0.009 , 0.0085 , 99.96, 5
> 0.009 <= 0.00914087 , 0.00907043 , 100.00, 2
# target 50% 0.00188126
# target 75% 0.00219231
# target 90% 0.00264286
# target 99% 0.006
# target 99.9% 0.0084
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 2.003 ms avg, 499.8 qps
Successfully wrote 3318 bytes of Json data to /data/2018-11-19-051457_grpc_istio_500qps_10s_echo_0_7.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
05:15:07 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 500.0 qps
05:15:07 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:15:17 I periodic.go:533> T001 ended after 10.000774961s : 1250 calls. qps=124.99031373814752
05:15:17 I periodic.go:533> T002 ended after 10.001202621s : 1250 calls. qps=124.9849690451542
05:15:17 I periodic.go:533> T003 ended after 10.003357098s : 1250 calls. qps=124.95805035790595
05:15:17 I periodic.go:533> T000 ended after 10.003402016s : 1250 calls. qps=124.957489262221
Ended after 10.003415688s : 5000 calls. qps=499.83
Sleep times : count 4996 avg 0.0072000344 +/- 0.0004789 min -0.001190307 max 0.007598208 sum 35.971372
Aggregated Function Time : count 5000 avg 0.00047728826 +/- 0.0003144 min 0.000107142 max 0.004838818 sum 2.38644129
# range, mid point, percentile, count
>= 0.000107142 <= 0.0002 , 0.000153571 , 0.36, 18
> 0.0002 <= 0.0003 , 0.00025 , 6.00, 282
> 0.0003 <= 0.0004 , 0.00035 , 38.68, 1634
> 0.0004 <= 0.0005 , 0.00045 , 73.00, 1716
> 0.0005 <= 0.0006 , 0.00055 , 90.64, 882
> 0.0006 <= 0.0007 , 0.00065 , 95.88, 262
> 0.0007 <= 0.0008 , 0.00075 , 97.00, 56
> 0.0008 <= 0.0009 , 0.00085 , 97.58, 29
> 0.0009 <= 0.001 , 0.00095 , 98.00, 21
> 0.001 <= 0.0011 , 0.00105 , 98.08, 4
> 0.0011 <= 0.0012 , 0.00115 , 98.24, 8
> 0.0012 <= 0.0014 , 0.0013 , 98.56, 16
> 0.0014 <= 0.0016 , 0.0015 , 98.82, 13
> 0.0016 <= 0.0018 , 0.0017 , 98.98, 8
> 0.0018 <= 0.002 , 0.0019 , 99.16, 9
> 0.002 <= 0.0025 , 0.00225 , 99.44, 14
> 0.0025 <= 0.003 , 0.00275 , 99.54, 5
> 0.003 <= 0.0035 , 0.00325 , 99.60, 3
> 0.0035 <= 0.004 , 0.00375 , 99.82, 11
> 0.004 <= 0.0045 , 0.00425 , 99.86, 2
> 0.0045 <= 0.00483882 , 0.00466941 , 100.00, 7
# target 50% 0.000432984
# target 75% 0.000511338
# target 90% 0.000596372
# target 99% 0.00182222
# target 99.9% 0.00459681
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
Response Body/Total Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
All done 5000 calls (plus 4 warmup) 0.477 ms avg, 499.8 qps
Successfully wrote 4123 bytes of Json data to /data/2018-11-19-051507_http_baseline_500qps_10s_echo_1_7.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
05:15:17 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 500.0 qps
05:15:17 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:15:27 I periodic.go:533> T001 ended after 10.001301983s : 1250 calls. qps=124.98372733117382
05:15:27 I periodic.go:533> T002 ended after 10.00382439s : 1250 calls. qps=124.95221340045934
05:15:27 I periodic.go:533> T003 ended after 10.003908814s : 1250 calls. qps=124.95115891607125
05:15:27 I periodic.go:533> T000 ended after 10.003922558s : 1250 calls. qps=124.95098725053526
Ended after 10.003976947s : 5000 calls. qps=499.8
Sleep times : count 4996 avg 0.0064758485 +/- 0.002963 min -0.051175854 max 0.007606863 sum 32.353339
Aggregated Function Time : count 5000 avg 0.0010106753 +/- 0.001679 min 0.000365364 max 0.058938629 sum 5.0533763
# range, mid point, percentile, count
>= 0.000365364 <= 0.0004 , 0.000382682 , 0.02, 1
> 0.0005 <= 0.0006 , 0.00055 , 0.46, 22
> 0.0006 <= 0.0007 , 0.00065 , 4.72, 213
> 0.0007 <= 0.0008 , 0.00075 , 23.98, 963
> 0.0008 <= 0.0009 , 0.00085 , 49.58, 1280
> 0.0009 <= 0.001 , 0.00095 , 72.36, 1139
> 0.001 <= 0.0011 , 0.00105 , 84.76, 620
> 0.0011 <= 0.0012 , 0.00115 , 91.74, 349
> 0.0012 <= 0.0014 , 0.0013 , 95.88, 207
> 0.0014 <= 0.0016 , 0.0015 , 97.02, 57
> 0.0016 <= 0.0018 , 0.0017 , 97.80, 39
> 0.0018 <= 0.002 , 0.0019 , 98.60, 40
> 0.002 <= 0.0025 , 0.00225 , 98.82, 11
> 0.0025 <= 0.003 , 0.00275 , 99.12, 15
> 0.003 <= 0.0035 , 0.00325 , 99.22, 5
> 0.0035 <= 0.004 , 0.00375 , 99.60, 19
> 0.004 <= 0.0045 , 0.00425 , 99.66, 3
> 0.0045 <= 0.005 , 0.00475 , 99.78, 6
> 0.005 <= 0.006 , 0.0055 , 99.92, 7
> 0.05 <= 0.0589386 , 0.0544693 , 100.00, 4
# target 50% 0.000901844
# target 75% 0.00102129
# target 90% 0.00117507
# target 99% 0.0028
# target 99.9% 0.00585714
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
Response Body/Total Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
All done 5000 calls (plus 4 warmup) 1.011 ms avg, 499.8 qps
Successfully wrote 3976 bytes of Json data to /data/2018-11-19-051517_http_linkerd_500qps_10s_echo_1_7.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
05:15:27 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 500.0 qps
05:15:27 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:15:37 I periodic.go:533> T000 ended after 10.00173312s : 1250 calls. qps=124.97833975398055
05:15:37 I periodic.go:533> T003 ended after 10.002411198s : 1250 calls. qps=124.96986729059286
05:15:37 I periodic.go:533> T002 ended after 10.002596223s : 1250 calls. qps=124.96755563578047
05:15:37 I periodic.go:533> T001 ended after 10.002665359s : 1250 calls. qps=124.96669189030699
Ended after 10.002688936s : 5000 calls. qps=499.87
Sleep times : count 4996 avg 0.0059689172 +/- 0.0007329 min -0.001558249 max 0.006884051 sum 29.8207103
Aggregated Function Time : count 5000 avg 0.001714152 +/- 0.0007033 min 0.000539013 max 0.009344574 sum 8.57075999
# range, mid point, percentile, count
>= 0.000539013 <= 0.0006 , 0.000569506 , 0.02, 1
> 0.0008 <= 0.0009 , 0.00085 , 0.08, 3
> 0.0009 <= 0.001 , 0.00095 , 0.42, 17
> 0.001 <= 0.0011 , 0.00105 , 0.72, 15
> 0.0011 <= 0.0012 , 0.00115 , 1.06, 17
> 0.0012 <= 0.0014 , 0.0013 , 21.96, 1045
> 0.0014 <= 0.0016 , 0.0015 , 63.84, 2094
> 0.0016 <= 0.0018 , 0.0017 , 79.10, 763
> 0.0018 <= 0.002 , 0.0019 , 85.70, 330
> 0.002 <= 0.0025 , 0.00225 , 94.36, 433
> 0.0025 <= 0.003 , 0.00275 , 96.20, 92
> 0.003 <= 0.0035 , 0.00325 , 96.94, 37
> 0.0035 <= 0.004 , 0.00375 , 98.26, 66
> 0.004 <= 0.0045 , 0.00425 , 98.70, 22
> 0.0045 <= 0.005 , 0.00475 , 98.94, 12
> 0.005 <= 0.006 , 0.0055 , 99.36, 21
> 0.006 <= 0.007 , 0.0065 , 99.68, 16
> 0.007 <= 0.008 , 0.0075 , 99.82, 7
> 0.008 <= 0.009 , 0.0085 , 99.92, 5
> 0.009 <= 0.00934457 , 0.00917229 , 100.00, 4
# target 50% 0.00153391
# target 75% 0.00174626
# target 90% 0.00224827
# target 99% 0.00514286
# target 99.9% 0.0088
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 209 +/- 0 min 209 max 209 sum 1045000
Response Body/Total Sizes : count 5000 avg 209 +/- 0 min 209 max 209 sum 1045000
All done 5000 calls (plus 4 warmup) 1.714 ms avg, 499.9 qps
Successfully wrote 4004 bytes of Json data to /data/2018-11-19-051527_http_istio_500qps_10s_echo_1_7.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
05:15:37 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:15:47 I periodic.go:533> T000 ended after 10.000966261s : 1250 calls. qps=124.98792290446264
05:15:47 I periodic.go:533> T003 ended after 10.003878224s : 1250 calls. qps=124.95154099348822
05:15:47 I periodic.go:533> T002 ended after 10.006280554s : 1250 calls. qps=124.92154235075029
05:15:47 I periodic.go:533> T001 ended after 10.006373463s : 1250 calls. qps=124.9203824564468
Ended after 10.006391467s : 5000 calls. qps=499.68
Sleep times : count 4996 avg 0.0066639224 +/- 0.0004873 min 0.001841636 max 0.007417008 sum 33.2929565
Aggregated Function Time : count 5000 avg 0.00094167843 +/- 0.0003966 min 0.000468475 max 0.006117173 sum 4.70839216
# range, mid point, percentile, count
>= 0.000468475 <= 0.0005 , 0.000484237 , 0.12, 6
> 0.0005 <= 0.0006 , 0.00055 , 2.92, 140
> 0.0006 <= 0.0007 , 0.00065 , 11.90, 449
> 0.0007 <= 0.0008 , 0.00075 , 30.18, 914
> 0.0008 <= 0.0009 , 0.00085 , 53.92, 1187
> 0.0009 <= 0.001 , 0.00095 , 75.56, 1082
> 0.001 <= 0.0011 , 0.00105 , 87.14, 579
> 0.0011 <= 0.0012 , 0.00115 , 91.96, 241
> 0.0012 <= 0.0014 , 0.0013 , 95.86, 195
> 0.0014 <= 0.0016 , 0.0015 , 97.06, 60
> 0.0016 <= 0.0018 , 0.0017 , 97.52, 23
> 0.0018 <= 0.002 , 0.0019 , 98.06, 27
> 0.002 <= 0.0025 , 0.00225 , 99.08, 51
> 0.0025 <= 0.003 , 0.00275 , 99.28, 10
> 0.003 <= 0.0035 , 0.00325 , 99.42, 7
> 0.0035 <= 0.004 , 0.00375 , 99.52, 5
> 0.004 <= 0.0045 , 0.00425 , 99.66, 7
> 0.0045 <= 0.005 , 0.00475 , 99.78, 6
> 0.005 <= 0.006 , 0.0055 , 99.96, 9
> 0.006 <= 0.00611717 , 0.00605859 , 100.00, 2
# target 50% 0.000883488
# target 75% 0.000997412
# target 90% 0.00115934
# target 99% 0.00246078
# target 99.9% 0.00566667
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 0.942 ms avg, 499.7 qps
Successfully wrote 3460 bytes of Json data to /data/2018-11-19-051537_grpc_baseline_500qps_10s_echo_1_7.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
05:15:47 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:15:57 I periodic.go:533> T000 ended after 10.001255191s : 1250 calls. qps=124.98431208163339
05:15:57 I periodic.go:533> T002 ended after 10.005360893s : 1250 calls. qps=124.93302474221905
05:15:57 I periodic.go:533> T003 ended after 10.005455724s : 1250 calls. qps=124.93184063586786
05:15:57 I periodic.go:533> T001 ended after 10.005476658s : 1250 calls. qps=124.9315792467066
Ended after 10.005500863s : 5000 calls. qps=499.73
Sleep times : count 4996 avg 0.0063979096 +/- 0.0005081 min 0.002342311 max 0.006980007 sum 31.9639561
Aggregated Function Time : count 5000 avg 0.0012692256 +/- 0.0004404 min 0.000736234 max 0.005355671 sum 6.34612814
# range, mid point, percentile, count
>= 0.000736234 <= 0.0008 , 0.000768117 , 0.04, 2
> 0.0008 <= 0.0009 , 0.00085 , 1.48, 72
> 0.0009 <= 0.001 , 0.00095 , 10.74, 463
> 0.001 <= 0.0011 , 0.00105 , 30.54, 990
> 0.0011 <= 0.0012 , 0.00115 , 53.74, 1160
> 0.0012 <= 0.0014 , 0.0013 , 83.12, 1469
> 0.0014 <= 0.0016 , 0.0015 , 93.06, 497
> 0.0016 <= 0.0018 , 0.0017 , 95.74, 134
> 0.0018 <= 0.002 , 0.0019 , 96.62, 44
> 0.002 <= 0.0025 , 0.00225 , 98.18, 78
> 0.0025 <= 0.003 , 0.00275 , 98.74, 28
> 0.003 <= 0.0035 , 0.00325 , 98.92, 9
> 0.0035 <= 0.004 , 0.00375 , 99.16, 12
> 0.004 <= 0.0045 , 0.00425 , 99.34, 9
> 0.0045 <= 0.005 , 0.00475 , 99.62, 14
> 0.005 <= 0.00535567 , 0.00517784 , 100.00, 19
# target 50% 0.00118388
# target 75% 0.00134472
# target 90% 0.00153843
# target 99% 0.00366667
# target 99.9% 0.00526207
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 1.269 ms avg, 499.7 qps
Successfully wrote 2992 bytes of Json data to /data/2018-11-19-051547_grpc_linkerd_500qps_10s_echo_1_7.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8079
05:15:57 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:16:07 I periodic.go:533> T001 ended after 10.002015859s : 1250 calls. qps=124.97480684108561
05:16:07 I periodic.go:533> T003 ended after 10.006077379s : 1250 calls. qps=124.92407890262828
05:16:07 I periodic.go:533> T000 ended after 10.006280836s : 1250 calls. qps=124.921538830174
05:16:07 I periodic.go:533> T002 ended after 10.00630119s : 1250 calls. qps=124.92128472499037
Ended after 10.006314259s : 5000 calls. qps=499.68
Sleep times : count 4996 avg 0.0053253614 +/- 0.001291 min -0.012114879 max 0.006869012 sum 26.6055055
Aggregated Function Time : count 5000 avg 0.0023231343 +/- 0.001166 min 0.000799646 max 0.019850258 sum 11.6156713
# range, mid point, percentile, count
>= 0.000799646 <= 0.0008 , 0.000799823 , 0.02, 1
> 0.0009 <= 0.001 , 0.00095 , 0.26, 12
> 0.001 <= 0.0011 , 0.00105 , 1.30, 52
> 0.0011 <= 0.0012 , 0.00115 , 2.62, 66
> 0.0012 <= 0.0014 , 0.0013 , 5.92, 165
> 0.0014 <= 0.0016 , 0.0015 , 16.10, 509
> 0.0016 <= 0.0018 , 0.0017 , 25.30, 460
> 0.0018 <= 0.002 , 0.0019 , 32.92, 381
> 0.002 <= 0.0025 , 0.00225 , 79.64, 2336
> 0.0025 <= 0.003 , 0.00275 , 90.32, 534
> 0.003 <= 0.0035 , 0.00325 , 94.68, 218
> 0.0035 <= 0.004 , 0.00375 , 95.50, 41
> 0.004 <= 0.0045 , 0.00425 , 96.48, 49
> 0.0045 <= 0.005 , 0.00475 , 97.16, 34
> 0.005 <= 0.006 , 0.0055 , 98.16, 50
> 0.006 <= 0.007 , 0.0065 , 98.96, 40
> 0.007 <= 0.008 , 0.0075 , 99.22, 13
> 0.008 <= 0.009 , 0.0085 , 99.46, 12
> 0.01 <= 0.012 , 0.011 , 99.84, 19
> 0.012 <= 0.014 , 0.013 , 99.92, 4
> 0.016 <= 0.018 , 0.017 , 99.94, 1
> 0.018 <= 0.0198503 , 0.0189251 , 100.00, 3
# target 50% 0.00218279
# target 75% 0.00245034
# target 90% 0.00298502
# target 99% 0.00715385
# target 99.9% 0.0135
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 2.323 ms avg, 499.7 qps
Successfully wrote 3656 bytes of Json data to /data/2018-11-19-051557_grpc_istio_500qps_10s_echo_1_7.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
05:16:07 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 500.0 qps
05:16:07 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:16:17 I periodic.go:533> T003 ended after 10.000470751s : 1250 calls. qps=124.99411588949509
05:16:17 I periodic.go:533> T001 ended after 10.000575467s : 1250 calls. qps=124.992807076429
05:16:17 I periodic.go:533> T000 ended after 10.000589648s : 1250 calls. qps=124.99262983458033
05:16:17 I periodic.go:533> T002 ended after 10.000599521s : 1250 calls. qps=124.99250643675485
Ended after 10.000611711s : 5000 calls. qps=499.97
Sleep times : count 4996 avg 0.007258254 +/- 0.0003654 min 0.002379597 max 0.007646838 sum 36.2622367
Aggregated Function Time : count 5000 avg 0.00043233468 +/- 0.0002423 min 0.000124699 max 0.004781151 sum 2.16167342
# range, mid point, percentile, count
>= 0.000124699 <= 0.0002 , 0.00016235 , 0.56, 28
> 0.0002 <= 0.0003 , 0.00025 , 9.70, 457
> 0.0003 <= 0.0004 , 0.00035 , 50.30, 2030
> 0.0004 <= 0.0005 , 0.00045 , 83.34, 1652
> 0.0005 <= 0.0006 , 0.00055 , 94.30, 548
> 0.0006 <= 0.0007 , 0.00065 , 97.32, 151
> 0.0007 <= 0.0008 , 0.00075 , 98.10, 39
> 0.0008 <= 0.0009 , 0.00085 , 98.42, 16
> 0.0009 <= 0.001 , 0.00095 , 98.66, 12
> 0.001 <= 0.0011 , 0.00105 , 98.78, 6
> 0.0011 <= 0.0012 , 0.00115 , 99.04, 13
> 0.0012 <= 0.0014 , 0.0013 , 99.32, 14
> 0.0014 <= 0.0016 , 0.0015 , 99.38, 3
> 0.0016 <= 0.0018 , 0.0017 , 99.48, 5
> 0.0018 <= 0.002 , 0.0019 , 99.58, 5
> 0.002 <= 0.0025 , 0.00225 , 99.72, 7
> 0.0025 <= 0.003 , 0.00275 , 99.84, 6
> 0.0045 <= 0.00478115 , 0.00464058 , 100.00, 8
# target 50% 0.000399261
# target 75% 0.000474758
# target 90% 0.000560766
# target 99% 0.00118462
# target 99.9% 0.00460543
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
Response Body/Total Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
All done 5000 calls (plus 4 warmup) 0.432 ms avg, 500.0 qps
Successfully wrote 3781 bytes of Json data to /data/2018-11-19-051607_http_baseline_500qps_10s_echo_0_8.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
05:16:17 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 500.0 qps
05:16:17 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:16:27 I periodic.go:533> T003 ended after 10.001108809s : 1250 calls. qps=124.98614142415137
05:16:27 I periodic.go:533> T002 ended after 10.001514301s : 1250 calls. qps=124.98107410345041
05:16:27 I periodic.go:533> T000 ended after 10.00387511s : 1250 calls. qps=124.95157988832591
05:16:27 I periodic.go:533> T001 ended after 10.00391748s : 1250 calls. qps=124.95105067579985
Ended after 10.003933475s : 5000 calls. qps=499.8
Sleep times : count 4996 avg 0.0065905751 +/- 0.002776 min -0.046658738 max 0.007268175 sum 32.926513
Aggregated Function Time : count 5000 avg 0.00094881699 +/- 0.001102 min 0.000506099 max 0.03010654 sum 4.74408497
# range, mid point, percentile, count
>= 0.000506099 <= 0.0006 , 0.00055305 , 0.26, 13
> 0.0006 <= 0.0007 , 0.00065 , 6.36, 305
> 0.0007 <= 0.0008 , 0.00075 , 31.14, 1239
> 0.0008 <= 0.0009 , 0.00085 , 64.30, 1658
> 0.0009 <= 0.001 , 0.00095 , 85.24, 1047
> 0.001 <= 0.0011 , 0.00105 , 93.70, 423
> 0.0011 <= 0.0012 , 0.00115 , 95.68, 99
> 0.0012 <= 0.0014 , 0.0013 , 97.32, 82
> 0.0014 <= 0.0016 , 0.0015 , 97.88, 28
> 0.0016 <= 0.0018 , 0.0017 , 98.32, 22
> 0.0018 <= 0.002 , 0.0019 , 98.66, 17
> 0.002 <= 0.0025 , 0.00225 , 98.90, 12
> 0.0025 <= 0.003 , 0.00275 , 99.08, 9
> 0.003 <= 0.0035 , 0.00325 , 99.18, 5
> 0.0035 <= 0.004 , 0.00375 , 99.36, 9
> 0.004 <= 0.0045 , 0.00425 , 99.50, 7
> 0.0045 <= 0.005 , 0.00475 , 99.74, 12
> 0.005 <= 0.006 , 0.0055 , 99.84, 5
> 0.02 <= 0.025 , 0.0225 , 99.90, 3
> 0.025 <= 0.03 , 0.0275 , 99.92, 1
> 0.03 <= 0.0301065 , 0.0300533 , 100.00, 4
# target 50% 0.000856876
# target 75% 0.000951098
# target 90% 0.00105626
# target 99% 0.00277778
# target 99.9% 0.025
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
Response Body/Total Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
All done 5000 calls (plus 4 warmup) 0.949 ms avg, 499.8 qps
Successfully wrote 4106 bytes of Json data to /data/2018-11-19-051617_http_linkerd_500qps_10s_echo_0_8.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
05:16:27 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 500.0 qps
05:16:27 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:16:37 I periodic.go:533> T001 ended after 10.001738327s : 1250 calls. qps=124.97827468906945
05:16:37 I periodic.go:533> T000 ended after 10.00218256s : 1250 calls. qps=124.97272395316088
05:16:37 I periodic.go:533> T003 ended after 10.00431791s : 1250 calls. qps=124.94604942037473
05:16:37 I periodic.go:533> T002 ended after 10.004348861s : 1250 calls. qps=124.94566286796343
Ended after 10.004363315s : 5000 calls. qps=499.78
Sleep times : count 4996 avg 0.0059744199 +/- 0.0007865 min -0.005732327 max 0.006996397 sum 29.848202
Aggregated Function Time : count 5000 avg 0.0017306872 +/- 0.0007195 min 0.000750745 max 0.013543886 sum 8.653436
# range, mid point, percentile, count
>= 0.000750745 <= 0.0008 , 0.000775373 , 0.02, 1
> 0.0008 <= 0.0009 , 0.00085 , 0.06, 2
> 0.0009 <= 0.001 , 0.00095 , 0.16, 5
> 0.001 <= 0.0011 , 0.00105 , 0.36, 10
> 0.0011 <= 0.0012 , 0.00115 , 0.70, 17
> 0.0012 <= 0.0014 , 0.0013 , 13.34, 632
> 0.0014 <= 0.0016 , 0.0015 , 59.22, 2294
> 0.0016 <= 0.0018 , 0.0017 , 81.38, 1108
> 0.0018 <= 0.002 , 0.0019 , 87.42, 302
> 0.002 <= 0.0025 , 0.00225 , 94.36, 347
> 0.0025 <= 0.003 , 0.00275 , 96.14, 89
> 0.003 <= 0.0035 , 0.00325 , 96.90, 38
> 0.0035 <= 0.004 , 0.00375 , 98.38, 74
> 0.004 <= 0.0045 , 0.00425 , 98.78, 20
> 0.0045 <= 0.005 , 0.00475 , 98.94, 8
> 0.005 <= 0.006 , 0.0055 , 99.58, 32
> 0.006 <= 0.007 , 0.0065 , 99.76, 9
> 0.008 <= 0.009 , 0.0085 , 99.92, 8
> 0.012 <= 0.0135439 , 0.0127719 , 100.00, 4
# target 50% 0.00155981
# target 75% 0.00174242
# target 90% 0.00218588
# target 99% 0.00509375
# target 99.9% 0.008875
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 209.0008 +/- 0.02827 min 209 max 210 sum 1045004
Response Body/Total Sizes : count 5000 avg 209.0008 +/- 0.02827 min 209 max 210 sum 1045004
All done 5000 calls (plus 4 warmup) 1.731 ms avg, 499.8 qps
Successfully wrote 3910 bytes of Json data to /data/2018-11-19-051627_http_istio_500qps_10s_echo_0_8.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
05:16:37 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:16:47 I periodic.go:533> T002 ended after 10.001025941s : 1250 calls. qps=124.9871770530587
05:16:47 I periodic.go:533> T001 ended after 10.00115853s : 1250 calls. qps=124.98552005254535
05:16:47 I periodic.go:533> T000 ended after 10.001191636s : 1250 calls. qps=124.98510632478396
05:16:47 I periodic.go:533> T003 ended after 10.001240126s : 1250 calls. qps=124.98450034715223
Ended after 10.001254719s : 5000 calls. qps=499.94
Sleep times : count 4996 avg 0.0068347453 +/- 0.0004494 min 0.002748402 max 0.007370104 sum 34.1463876
Aggregated Function Time : count 5000 avg 0.00083302224 +/- 0.0003123 min 0.000361456 max 0.005004498 sum 4.1651112
# range, mid point, percentile, count
>= 0.000361456 <= 0.0004 , 0.000380728 , 0.06, 3
> 0.0004 <= 0.0005 , 0.00045 , 0.72, 33
> 0.0005 <= 0.0006 , 0.00055 , 4.04, 166
> 0.0006 <= 0.0007 , 0.00065 , 22.16, 906
> 0.0007 <= 0.0008 , 0.00075 , 56.36, 1710
> 0.0008 <= 0.0009 , 0.00085 , 81.56, 1260
> 0.0009 <= 0.001 , 0.00095 , 92.20, 532
> 0.001 <= 0.0011 , 0.00105 , 94.68, 124
> 0.0011 <= 0.0012 , 0.00115 , 95.88, 60
> 0.0012 <= 0.0014 , 0.0013 , 96.62, 37
> 0.0014 <= 0.0016 , 0.0015 , 97.32, 35
> 0.0016 <= 0.0018 , 0.0017 , 98.02, 35
> 0.0018 <= 0.002 , 0.0019 , 98.54, 26
> 0.002 <= 0.0025 , 0.00225 , 99.40, 43
> 0.0025 <= 0.003 , 0.00275 , 99.60, 10
> 0.003 <= 0.0035 , 0.00325 , 99.76, 8
> 0.004 <= 0.0045 , 0.00425 , 99.84, 4
> 0.0045 <= 0.005 , 0.00475 , 99.98, 7
> 0.005 <= 0.0050045 , 0.00500225 , 100.00, 1
# target 50% 0.000781404
# target 75% 0.000873968
# target 90% 0.000979323
# target 99% 0.00226744
# target 99.9% 0.00471429
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 0.833 ms avg, 499.9 qps
Successfully wrote 3349 bytes of Json data to /data/2018-11-19-051637_grpc_baseline_500qps_10s_echo_0_8.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
05:16:47 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:16:57 I periodic.go:533> T003 ended after 10.001459408s : 1250 calls. qps=124.98176006195115
05:16:57 I periodic.go:533> T002 ended after 10.002549764s : 1250 calls. qps=124.96813607454901
05:16:57 I periodic.go:533> T001 ended after 10.003966029s : 1250 calls. qps=124.95044429143772
05:16:57 I periodic.go:533> T000 ended after 10.004003839s : 1250 calls. qps=124.94997204288859
Ended after 10.004029976s : 5000 calls. qps=499.8
Sleep times : count 4996 avg 0.0063567163 +/- 0.0004749 min 0.001947255 max 0.006895064 sum 31.7581546
Aggregated Function Time : count 5000 avg 0.0013167802 +/- 0.0003885 min 0.000829832 max 0.005889439 sum 6.58390121
# range, mid point, percentile, count
>= 0.000829832 <= 0.0009 , 0.000864916 , 0.12, 6
> 0.0009 <= 0.001 , 0.00095 , 2.56, 122
> 0.001 <= 0.0011 , 0.00105 , 14.84, 614
> 0.0011 <= 0.0012 , 0.00115 , 36.94, 1105
> 0.0012 <= 0.0014 , 0.0013 , 77.70, 2038
> 0.0014 <= 0.0016 , 0.0015 , 93.44, 787
> 0.0016 <= 0.0018 , 0.0017 , 96.30, 143
> 0.0018 <= 0.002 , 0.0019 , 97.46, 58
> 0.002 <= 0.0025 , 0.00225 , 98.80, 67
> 0.0025 <= 0.003 , 0.00275 , 99.06, 13
> 0.003 <= 0.0035 , 0.00325 , 99.18, 6
> 0.0035 <= 0.004 , 0.00375 , 99.38, 10
> 0.004 <= 0.0045 , 0.00425 , 99.56, 9
> 0.0045 <= 0.005 , 0.00475 , 99.62, 3
> 0.005 <= 0.00588944 , 0.00544472 , 100.00, 19
# target 50% 0.00126408
# target 75% 0.00138675
# target 90% 0.00155629
# target 99% 0.00288462
# target 99.9% 0.00565538
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 1.317 ms avg, 499.8 qps
Successfully wrote 2873 bytes of Json data to /data/2018-11-19-051647_grpc_linkerd_500qps_10s_echo_0_8.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8079
05:16:57 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:17:07 I periodic.go:533> T000 ended after 10.001404801s : 1250 calls. qps=124.98244245398583
05:17:07 I periodic.go:533> T001 ended after 10.002018584s : 1250 calls. qps=124.97477279232378
05:17:07 I periodic.go:533> T002 ended after 10.004145127s : 1250 calls. qps=124.94820738119827
05:17:07 I periodic.go:533> T003 ended after 10.004210277s : 1250 calls. qps=124.94739368621529
Ended after 10.004240123s : 5000 calls. qps=499.79
Sleep times : count 4996 avg 0.0056759425 +/- 0.0008712 min -0.001917743 max 0.006781651 sum 28.3570089
Aggregated Function Time : count 5000 avg 0.0020006313 +/- 0.0008186 min 0.000920113 max 0.009546152 sum 10.0031566
# range, mid point, percentile, count
>= 0.000920113 <= 0.001 , 0.000960056 , 0.16, 8
> 0.001 <= 0.0011 , 0.00105 , 2.36, 110
> 0.0011 <= 0.0012 , 0.00115 , 8.50, 307
> 0.0012 <= 0.0014 , 0.0013 , 17.24, 437
> 0.0014 <= 0.0016 , 0.0015 , 21.24, 200
> 0.0016 <= 0.0018 , 0.0017 , 36.50, 763
> 0.0018 <= 0.002 , 0.0019 , 64.10, 1380
> 0.002 <= 0.0025 , 0.00225 , 89.36, 1263
> 0.0025 <= 0.003 , 0.00275 , 94.78, 271
> 0.003 <= 0.0035 , 0.00325 , 95.72, 47
> 0.0035 <= 0.004 , 0.00375 , 96.48, 38
> 0.004 <= 0.0045 , 0.00425 , 97.64, 58
> 0.0045 <= 0.005 , 0.00475 , 98.08, 22
> 0.005 <= 0.006 , 0.0055 , 99.00, 46
> 0.006 <= 0.007 , 0.0065 , 99.60, 30
> 0.007 <= 0.008 , 0.0075 , 99.88, 14
> 0.008 <= 0.009 , 0.0085 , 99.94, 3
> 0.009 <= 0.00954615 , 0.00927308 , 100.00, 3
# target 50% 0.00189783
# target 75% 0.00221576
# target 90% 0.00255904
# target 99% 0.006
# target 99.9% 0.00833333
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 2.001 ms avg, 499.8 qps
Successfully wrote 3175 bytes of Json data to /data/2018-11-19-051657_grpc_istio_500qps_10s_echo_0_8.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
05:17:07 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 500.0 qps
05:17:07 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:17:17 I periodic.go:533> T001 ended after 10.000646947s : 1250 calls. qps=124.99191368564168
05:17:17 I periodic.go:533> T000 ended after 10.00108684s : 1250 calls. qps=124.98641597636603
05:17:17 I periodic.go:533> T003 ended after 10.004293381s : 1250 calls. qps=124.9463557690122
05:17:17 I periodic.go:533> T002 ended after 10.004331319s : 1250 calls. qps=124.94588195275263
Ended after 10.004369172s : 5000 calls. qps=499.78
Sleep times : count 4996 avg 0.0072420537 +/- 0.0003432 min 0.003215999 max 0.007604109 sum 36.1813001
Aggregated Function Time : count 5000 avg 0.00044168343 +/- 0.000218 min 0.000101417 max 0.004248424 sum 2.20841714
# range, mid point, percentile, count
>= 0.000101417 <= 0.0002 , 0.000150709 , 0.20, 10
> 0.0002 <= 0.0003 , 0.00025 , 9.16, 448
> 0.0003 <= 0.0004 , 0.00035 , 46.04, 1844
> 0.0004 <= 0.0005 , 0.00045 , 79.96, 1696
> 0.0005 <= 0.0006 , 0.00055 , 93.22, 663
> 0.0006 <= 0.0007 , 0.00065 , 96.60, 169
> 0.0007 <= 0.0008 , 0.00075 , 97.36, 38
> 0.0008 <= 0.0009 , 0.00085 , 97.76, 20
> 0.0009 <= 0.001 , 0.00095 , 98.40, 32
> 0.001 <= 0.0011 , 0.00105 , 98.70, 15
> 0.0011 <= 0.0012 , 0.00115 , 98.80, 5
> 0.0012 <= 0.0014 , 0.0013 , 99.10, 15
> 0.0014 <= 0.0016 , 0.0015 , 99.40, 15
> 0.0016 <= 0.0018 , 0.0017 , 99.56, 8
> 0.0018 <= 0.002 , 0.0019 , 99.62, 3
> 0.002 <= 0.0025 , 0.00225 , 99.74, 6
> 0.0025 <= 0.003 , 0.00275 , 99.82, 4
> 0.003 <= 0.0035 , 0.00325 , 99.94, 6
> 0.0035 <= 0.004 , 0.00375 , 99.96, 1
> 0.004 <= 0.00424842 , 0.00412421 , 100.00, 2
# target 50% 0.000411675
# target 75% 0.000485377
# target 90% 0.000575716
# target 99% 0.00133333
# target 99.9% 0.00333333
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
Response Body/Total Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
All done 5000 calls (plus 4 warmup) 0.442 ms avg, 499.8 qps
Successfully wrote 3996 bytes of Json data to /data/2018-11-19-051707_http_baseline_500qps_10s_echo_1_8.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
05:17:17 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 500.0 qps
05:17:17 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:17:27 I periodic.go:533> T001 ended after 10.001459048s : 1250 calls. qps=124.98176456063814
05:17:27 I periodic.go:533> T000 ended after 10.001844366s : 1250 calls. qps=124.97694967632333
05:17:27 I periodic.go:533> T002 ended after 10.003790568s : 1250 calls. qps=124.95263585370174
05:17:27 I periodic.go:533> T003 ended after 10.003827228s : 1250 calls. qps=124.95217795258789
Ended after 10.003841667s : 5000 calls. qps=499.81
Sleep times : count 4996 avg 0.0065437868 +/- 0.002973 min -0.049918418 max 0.007547331 sum 32.6927591
Aggregated Function Time : count 5000 avg 0.00098182038 +/- 0.001321 min 0.000404164 max 0.037340141 sum 4.90910189
# range, mid point, percentile, count
>= 0.000404164 <= 0.0005 , 0.000452082 , 0.02, 1
> 0.0005 <= 0.0006 , 0.00055 , 0.48, 23
> 0.0006 <= 0.0007 , 0.00065 , 4.32, 192
> 0.0007 <= 0.0008 , 0.00075 , 20.68, 818
> 0.0008 <= 0.0009 , 0.00085 , 52.54, 1593
> 0.0009 <= 0.001 , 0.00095 , 80.92, 1419
> 0.001 <= 0.0011 , 0.00105 , 92.62, 585
> 0.0011 <= 0.0012 , 0.00115 , 96.18, 178
> 0.0012 <= 0.0014 , 0.0013 , 97.40, 61
> 0.0014 <= 0.0016 , 0.0015 , 98.02, 31
> 0.0016 <= 0.0018 , 0.0017 , 98.42, 20
> 0.0018 <= 0.002 , 0.0019 , 98.82, 20
> 0.002 <= 0.0025 , 0.00225 , 98.94, 6
> 0.0025 <= 0.003 , 0.00275 , 99.20, 13
> 0.003 <= 0.0035 , 0.00325 , 99.40, 10
> 0.0035 <= 0.004 , 0.00375 , 99.56, 8
> 0.004 <= 0.0045 , 0.00425 , 99.68, 6
> 0.0045 <= 0.005 , 0.00475 , 99.76, 4
> 0.005 <= 0.006 , 0.0055 , 99.84, 4
> 0.025 <= 0.03 , 0.0275 , 99.92, 4
> 0.035 <= 0.0373401 , 0.0361701 , 100.00, 4
# target 50% 0.000892028
# target 75% 0.00097914
# target 90% 0.00107761
# target 99% 0.00261538
# target 99.9% 0.02875
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
Response Body/Total Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
All done 5000 calls (plus 4 warmup) 0.982 ms avg, 499.8 qps
Successfully wrote 4114 bytes of Json data to /data/2018-11-19-051717_http_linkerd_500qps_10s_echo_1_8.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
05:17:27 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 500.0 qps
05:17:27 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:17:37 I periodic.go:533> T002 ended after 10.00169233s : 1250 calls. qps=124.9788494543703
05:17:37 I periodic.go:533> T001 ended after 10.002316626s : 1250 calls. qps=124.97104888189129
05:17:37 I periodic.go:533> T000 ended after 10.002482398s : 1250 calls. qps=124.9689777259631
05:17:37 I periodic.go:533> T003 ended after 10.002590275s : 1250 calls. qps=124.96762994723385
Ended after 10.002653849s : 5000 calls. qps=499.87
Sleep times : count 4996 avg 0.0060207307 +/- 0.0006625 min -0.001353608 max 0.007120222 sum 30.0795705
Aggregated Function Time : count 5000 avg 0.0016802425 +/- 0.0006338 min 0.000724332 max 0.009155276 sum 8.40121259
# range, mid point, percentile, count
>= 0.000724332 <= 0.0008 , 0.000762166 , 0.08, 4
> 0.0008 <= 0.0009 , 0.00085 , 0.24, 8
> 0.0009 <= 0.001 , 0.00095 , 0.38, 7
> 0.001 <= 0.0011 , 0.00105 , 0.54, 8
> 0.0011 <= 0.0012 , 0.00115 , 1.58, 52
> 0.0012 <= 0.0014 , 0.0013 , 24.00, 1121
> 0.0014 <= 0.0016 , 0.0015 , 64.64, 2032
> 0.0016 <= 0.0018 , 0.0017 , 80.28, 782
> 0.0018 <= 0.002 , 0.0019 , 86.74, 323
> 0.002 <= 0.0025 , 0.00225 , 95.44, 435
> 0.0025 <= 0.003 , 0.00275 , 96.50, 53
> 0.003 <= 0.0035 , 0.00325 , 97.18, 34
> 0.0035 <= 0.004 , 0.00375 , 98.58, 70
> 0.004 <= 0.0045 , 0.00425 , 98.90, 16
> 0.0045 <= 0.005 , 0.00475 , 99.36, 23
> 0.005 <= 0.006 , 0.0055 , 99.66, 15
> 0.006 <= 0.007 , 0.0065 , 99.76, 5
> 0.007 <= 0.008 , 0.0075 , 99.92, 8
> 0.008 <= 0.009 , 0.0085 , 99.98, 3
> 0.009 <= 0.00915528 , 0.00907764 , 100.00, 1
# target 50% 0.00152795
# target 75% 0.00173248
# target 90% 0.00218736
# target 99% 0.0046087
# target 99.9% 0.007875
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 209 +/- 0 min 209 max 209 sum 1045000
Response Body/Total Sizes : count 5000 avg 209 +/- 0 min 209 max 209 sum 1045000
All done 5000 calls (plus 4 warmup) 1.680 ms avg, 499.9 qps
Successfully wrote 3986 bytes of Json data to /data/2018-11-19-051727_http_istio_500qps_10s_echo_1_8.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
05:17:37 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:17:47 I periodic.go:533> T003 ended after 10.000759519s : 1250 calls. qps=124.99050673353162
05:17:47 I periodic.go:533> T001 ended after 10.000853356s : 1250 calls. qps=124.98933396019291
05:17:47 I periodic.go:533> T000 ended after 10.000884096s : 1250 calls. qps=124.9889497769458
05:17:47 I periodic.go:533> T002 ended after 10.000907461s : 1250 calls. qps=124.98865776676342
Ended after 10.000920251s : 5000 calls. qps=499.95
Sleep times : count 4996 avg 0.006821825 +/- 0.0005065 min 0.002397554 max 0.00737677 sum 34.0818376
Aggregated Function Time : count 5000 avg 0.00083696811 +/- 0.0003842 min 0.000333759 max 0.005156573 sum 4.18484055
# range, mid point, percentile, count
>= 0.000333759 <= 0.0004 , 0.00036688 , 0.10, 5
> 0.0004 <= 0.0005 , 0.00045 , 0.64, 27
> 0.0005 <= 0.0006 , 0.00055 , 4.84, 210
> 0.0006 <= 0.0007 , 0.00065 , 25.36, 1026
> 0.0007 <= 0.0008 , 0.00075 , 57.88, 1626
> 0.0008 <= 0.0009 , 0.00085 , 83.36, 1274
> 0.0009 <= 0.001 , 0.00095 , 92.72, 468
> 0.001 <= 0.0011 , 0.00105 , 94.78, 103
> 0.0011 <= 0.0012 , 0.00115 , 95.48, 35
> 0.0012 <= 0.0014 , 0.0013 , 96.44, 48
> 0.0014 <= 0.0016 , 0.0015 , 97.06, 31
> 0.0016 <= 0.0018 , 0.0017 , 97.44, 19
> 0.0018 <= 0.002 , 0.0019 , 98.08, 32
> 0.002 <= 0.0025 , 0.00225 , 99.10, 51
> 0.0025 <= 0.003 , 0.00275 , 99.34, 12
> 0.003 <= 0.0035 , 0.00325 , 99.42, 4
> 0.0035 <= 0.004 , 0.00375 , 99.52, 5
> 0.004 <= 0.0045 , 0.00425 , 99.66, 7
> 0.0045 <= 0.005 , 0.00475 , 99.76, 5
> 0.005 <= 0.00515657 , 0.00507829 , 100.00, 12
# target 50% 0.000775769
# target 75% 0.00086719
# target 90% 0.00097094
# target 99% 0.00245098
# target 99.9% 0.00509133
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 0.837 ms avg, 500.0 qps
Successfully wrote 3463 bytes of Json data to /data/2018-11-19-051737_grpc_baseline_500qps_10s_echo_1_8.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
05:17:47 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:17:58 I periodic.go:533> T002 ended after 10.001648872s : 1250 calls. qps=124.97939249791331
05:17:58 I periodic.go:533> T001 ended after 10.004232941s : 1250 calls. qps=124.94711062526028
05:17:58 I periodic.go:533> T000 ended after 10.005443326s : 1250 calls. qps=124.93199544209781
05:17:58 I periodic.go:533> T003 ended after 10.005479066s : 1250 calls. qps=124.93154917965624
Ended after 10.005491291s : 5000 calls. qps=499.73
Sleep times : count 4996 avg 0.0063153001 +/- 0.0005179 min 0.00116381 max 0.006968348 sum 31.5512392
Aggregated Function Time : count 5000 avg 0.001374818 +/- 0.0004758 min 0.000795022 max 0.00667121 sum 6.87408996
# range, mid point, percentile, count
>= 0.000795022 <= 0.0008 , 0.000797511 , 0.02, 1
> 0.0008 <= 0.0009 , 0.00085 , 0.14, 6
> 0.0009 <= 0.001 , 0.00095 , 1.78, 82
> 0.001 <= 0.0011 , 0.00105 , 10.80, 451
> 0.0011 <= 0.0012 , 0.00115 , 29.18, 919
> 0.0012 <= 0.0014 , 0.0013 , 70.64, 2073
> 0.0014 <= 0.0016 , 0.0015 , 90.66, 1001
> 0.0016 <= 0.0018 , 0.0017 , 95.18, 226
> 0.0018 <= 0.002 , 0.0019 , 96.14, 48
> 0.002 <= 0.0025 , 0.00225 , 97.80, 83
> 0.0025 <= 0.003 , 0.00275 , 98.58, 39
> 0.003 <= 0.0035 , 0.00325 , 98.78, 10
> 0.0035 <= 0.004 , 0.00375 , 98.90, 6
> 0.004 <= 0.0045 , 0.00425 , 99.08, 9
> 0.0045 <= 0.005 , 0.00475 , 99.48, 20
> 0.005 <= 0.006 , 0.0055 , 99.92, 22
> 0.006 <= 0.00667121 , 0.00633561 , 100.00, 4
# target 50% 0.00130043
# target 75% 0.00144356
# target 90% 0.00159341
# target 99% 0.00427778
# target 99.9% 0.00595455
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 1.375 ms avg, 499.7 qps
Successfully wrote 3089 bytes of Json data to /data/2018-11-19-051748_grpc_linkerd_500qps_10s_echo_1_8.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8079
05:17:58 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:18:08 I periodic.go:533> T001 ended after 10.001914508s : 1250 calls. qps=124.9760732307991
05:18:08 I periodic.go:533> T002 ended after 10.002581137s : 1250 calls. qps=124.9677441131863
05:18:08 I periodic.go:533> T000 ended after 10.00273933s : 1250 calls. qps=124.96576775234229
05:18:08 I periodic.go:533> T003 ended after 10.002795377s : 1250 calls. qps=124.96506755243605
Ended after 10.002953565s : 5000 calls. qps=499.85
Sleep times : count 4996 avg 0.0056200837 +/- 0.00102 min -0.006821475 max 0.007116672 sum 28.0779381
Aggregated Function Time : count 5000 avg 0.0020537825 +/- 0.0009571 min 0.000644571 max 0.014646543 sum 10.2689123
# range, mid point, percentile, count
>= 0.000644571 <= 0.0007 , 0.000672286 , 0.02, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.06, 2
> 0.0008 <= 0.0009 , 0.00085 , 0.08, 1
> 0.0009 <= 0.001 , 0.00095 , 0.24, 8
> 0.001 <= 0.0011 , 0.00105 , 2.22, 99
> 0.0011 <= 0.0012 , 0.00115 , 7.16, 247
> 0.0012 <= 0.0014 , 0.0013 , 17.12, 498
> 0.0014 <= 0.0016 , 0.0015 , 21.62, 225
> 0.0016 <= 0.0018 , 0.0017 , 35.02, 670
> 0.0018 <= 0.002 , 0.0019 , 59.94, 1246
> 0.002 <= 0.0025 , 0.00225 , 86.74, 1340
> 0.0025 <= 0.003 , 0.00275 , 93.28, 327
> 0.003 <= 0.0035 , 0.00325 , 95.38, 105
> 0.0035 <= 0.004 , 0.00375 , 96.22, 42
> 0.004 <= 0.0045 , 0.00425 , 97.44, 61
> 0.0045 <= 0.005 , 0.00475 , 98.02, 29
> 0.005 <= 0.006 , 0.0055 , 98.88, 43
> 0.006 <= 0.007 , 0.0065 , 99.36, 24
> 0.007 <= 0.008 , 0.0075 , 99.56, 10
> 0.008 <= 0.009 , 0.0085 , 99.70, 7
> 0.009 <= 0.01 , 0.0095 , 99.80, 5
> 0.01 <= 0.012 , 0.011 , 99.92, 6
> 0.014 <= 0.0146465 , 0.0143233 , 100.00, 4
# target 50% 0.00192022
# target 75% 0.00228097
# target 90% 0.00274924
# target 99% 0.00625
# target 99.9% 0.0116667
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 2.054 ms avg, 499.9 qps
Successfully wrote 3772 bytes of Json data to /data/2018-11-19-051758_grpc_istio_500qps_10s_echo_1_8.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
05:18:08 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 500.0 qps
05:18:08 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:18:18 I periodic.go:533> T001 ended after 10.000489044s : 1250 calls. qps=124.99388724894042
05:18:18 I periodic.go:533> T000 ended after 10.000574646s : 1250 calls. qps=124.9928173377488
05:18:18 I periodic.go:533> T002 ended after 10.000588662s : 1250 calls. qps=124.99264215812819
05:18:18 I periodic.go:533> T003 ended after 10.000598107s : 1250 calls. qps=124.99252410963824
Ended after 10.000610156s : 5000 calls. qps=499.97
Sleep times : count 4996 avg 0.0072597666 +/- 0.0003923 min 0.002899341 max 0.007669798 sum 36.269794
Aggregated Function Time : count 5000 avg 0.0004312826 +/- 0.0003084 min 0.000126708 max 0.004897678 sum 2.15641299
# range, mid point, percentile, count
>= 0.000126708 <= 0.0002 , 0.000163354 , 0.58, 29
> 0.0002 <= 0.0003 , 0.00025 , 11.96, 569
> 0.0003 <= 0.0004 , 0.00035 , 53.66, 2085
> 0.0004 <= 0.0005 , 0.00045 , 85.22, 1578
> 0.0005 <= 0.0006 , 0.00055 , 95.36, 507
> 0.0006 <= 0.0007 , 0.00065 , 97.68, 116
> 0.0007 <= 0.0008 , 0.00075 , 98.30, 31
> 0.0008 <= 0.0009 , 0.00085 , 98.52, 11
> 0.0009 <= 0.001 , 0.00095 , 98.68, 8
> 0.001 <= 0.0011 , 0.00105 , 98.70, 1
> 0.0011 <= 0.0012 , 0.00115 , 98.78, 4
> 0.0012 <= 0.0014 , 0.0013 , 98.92, 7
> 0.0014 <= 0.0016 , 0.0015 , 98.94, 1
> 0.0016 <= 0.0018 , 0.0017 , 99.00, 3
> 0.0018 <= 0.002 , 0.0019 , 99.02, 1
> 0.002 <= 0.0025 , 0.00225 , 99.32, 15
> 0.0025 <= 0.003 , 0.00275 , 99.48, 8
> 0.003 <= 0.0035 , 0.00325 , 99.72, 12
> 0.0035 <= 0.004 , 0.00375 , 99.82, 5
> 0.004 <= 0.0045 , 0.00425 , 99.84, 1
> 0.0045 <= 0.00489768 , 0.00469884 , 100.00, 8
# target 50% 0.000391223
# target 75% 0.000467617
# target 90% 0.00054714
# target 99% 0.0018
# target 99.9% 0.00464913
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
Response Body/Total Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
All done 5000 calls (plus 4 warmup) 0.431 ms avg, 500.0 qps
Successfully wrote 4137 bytes of Json data to /data/2018-11-19-051808_http_baseline_500qps_10s_echo_0_9.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
05:18:18 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 500.0 qps
05:18:18 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:18:28 I periodic.go:533> T003 ended after 10.001242228s : 1250 calls. qps=124.98447407867341
05:18:28 I periodic.go:533> T002 ended after 10.001633427s : 1250 calls. qps=124.97958549706003
05:18:28 I periodic.go:533> T001 ended after 10.003904961s : 1250 calls. qps=124.95120704096021
05:18:28 I periodic.go:533> T000 ended after 10.003950658s : 1250 calls. qps=124.95063627691874
Ended after 10.003994071s : 5000 calls. qps=499.8
Sleep times : count 4996 avg 0.0066542273 +/- 0.001538 min -0.022685093 max 0.007464226 sum 33.2445196
Aggregated Function Time : count 5000 avg 0.00095554947 +/- 0.0008981 min 0.000453776 max 0.030427147 sum 4.77774733
# range, mid point, percentile, count
>= 0.000453776 <= 0.0005 , 0.000476888 , 0.02, 1
> 0.0005 <= 0.0006 , 0.00055 , 0.42, 20
> 0.0006 <= 0.0007 , 0.00065 , 4.82, 220
> 0.0007 <= 0.0008 , 0.00075 , 23.08, 913
> 0.0008 <= 0.0009 , 0.00085 , 55.48, 1620
> 0.0009 <= 0.001 , 0.00095 , 81.56, 1304
> 0.001 <= 0.0011 , 0.00105 , 92.30, 537
> 0.0011 <= 0.0012 , 0.00115 , 95.62, 166
> 0.0012 <= 0.0014 , 0.0013 , 96.94, 66
> 0.0014 <= 0.0016 , 0.0015 , 97.40, 23
> 0.0016 <= 0.0018 , 0.0017 , 98.28, 44
> 0.0018 <= 0.002 , 0.0019 , 98.56, 14
> 0.002 <= 0.0025 , 0.00225 , 99.00, 22
> 0.0025 <= 0.003 , 0.00275 , 99.08, 4
> 0.003 <= 0.0035 , 0.00325 , 99.32, 12
> 0.0035 <= 0.004 , 0.00375 , 99.58, 13
> 0.004 <= 0.0045 , 0.00425 , 99.78, 10
> 0.0045 <= 0.005 , 0.00475 , 99.90, 6
> 0.005 <= 0.006 , 0.0055 , 99.92, 1
> 0.03 <= 0.0304271 , 0.0302136 , 100.00, 4
# target 50% 0.000883086
# target 75% 0.000974847
# target 90% 0.00107858
# target 99% 0.0025
# target 99.9% 0.005
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
Response Body/Total Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
All done 5000 calls (plus 4 warmup) 0.956 ms avg, 499.8 qps
Successfully wrote 3976 bytes of Json data to /data/2018-11-19-051818_http_linkerd_500qps_10s_echo_0_9.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
05:18:28 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 500.0 qps
05:18:28 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:18:38 I periodic.go:533> T003 ended after 10.001745023s : 1250 calls. qps=124.97819101821749
05:18:38 I periodic.go:533> T000 ended after 10.002295162s : 1250 calls. qps=124.97131705819982
05:18:38 I periodic.go:533> T002 ended after 10.002441933s : 1250 calls. qps=124.96948328947624
05:18:38 I periodic.go:533> T001 ended after 10.00247141s : 1250 calls. qps=124.96911500794782
Ended after 10.002534047s : 5000 calls. qps=499.87
Sleep times : count 4996 avg 0.006022414 +/- 0.0006876 min -0.000844988 max 0.006907674 sum 30.0879806
Aggregated Function Time : count 5000 avg 0.0016734568 +/- 0.0006534 min 0.000844987 max 0.008635396 sum 8.36728417
# range, mid point, percentile, count
>= 0.000844987 <= 0.0009 , 0.000872493 , 0.08, 4
> 0.0009 <= 0.001 , 0.00095 , 0.26, 9
> 0.001 <= 0.0011 , 0.00105 , 0.48, 11
> 0.0011 <= 0.0012 , 0.00115 , 1.18, 35
> 0.0012 <= 0.0014 , 0.0013 , 22.78, 1080
> 0.0014 <= 0.0016 , 0.0015 , 67.06, 2214
> 0.0016 <= 0.0018 , 0.0017 , 83.20, 807
> 0.0018 <= 0.002 , 0.0019 , 89.36, 308
> 0.002 <= 0.0025 , 0.00225 , 95.20, 292
> 0.0025 <= 0.003 , 0.00275 , 96.34, 57
> 0.003 <= 0.0035 , 0.00325 , 97.22, 44
> 0.0035 <= 0.004 , 0.00375 , 98.30, 54
> 0.004 <= 0.0045 , 0.00425 , 98.70, 20
> 0.0045 <= 0.005 , 0.00475 , 98.94, 12
> 0.005 <= 0.006 , 0.0055 , 99.46, 26
> 0.006 <= 0.007 , 0.0065 , 99.76, 15
> 0.007 <= 0.008 , 0.0075 , 99.92, 8
> 0.008 <= 0.0086354 , 0.0083177 , 100.00, 4
# target 50% 0.00152294
# target 75% 0.00169839
# target 90% 0.00205479
# target 99% 0.00511538
# target 99.9% 0.007875
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 209 +/- 0 min 209 max 209 sum 1045000
Response Body/Total Sizes : count 5000 avg 209 +/- 0 min 209 max 209 sum 1045000
All done 5000 calls (plus 4 warmup) 1.673 ms avg, 499.9 qps
Successfully wrote 3739 bytes of Json data to /data/2018-11-19-051828_http_istio_500qps_10s_echo_0_9.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
05:18:38 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:18:48 I periodic.go:533> T002 ended after 10.000985882s : 1250 calls. qps=124.98767768983437
05:18:48 I periodic.go:533> T001 ended after 10.003228247s : 1250 calls. qps=124.9596599352693
05:18:48 I periodic.go:533> T003 ended after 10.004264255s : 1250 calls. qps=124.94671953264992
05:18:48 I periodic.go:533> T000 ended after 10.004307819s : 1250 calls. qps=124.94617544914229
Ended after 10.004341516s : 5000 calls. qps=499.78
Sleep times : count 4996 avg 0.0068184779 +/- 0.0004956 min 0.001527485 max 0.007359819 sum 34.0651157
Aggregated Function Time : count 5000 avg 0.00084540336 +/- 0.0003702 min 0.000365899 max 0.005280491 sum 4.22701678
# range, mid point, percentile, count
>= 0.000365899 <= 0.0004 , 0.00038295 , 0.06, 3
> 0.0004 <= 0.0005 , 0.00045 , 0.58, 26
> 0.0005 <= 0.0006 , 0.00055 , 5.12, 227
> 0.0006 <= 0.0007 , 0.00065 , 23.30, 909
> 0.0007 <= 0.0008 , 0.00075 , 54.52, 1561
> 0.0008 <= 0.0009 , 0.00085 , 79.54, 1251
> 0.0009 <= 0.001 , 0.00095 , 91.46, 596
> 0.001 <= 0.0011 , 0.00105 , 94.58, 156
> 0.0011 <= 0.0012 , 0.00115 , 95.72, 57
> 0.0012 <= 0.0014 , 0.0013 , 96.60, 44
> 0.0014 <= 0.0016 , 0.0015 , 97.18, 29
> 0.0016 <= 0.0018 , 0.0017 , 97.70, 26
> 0.0018 <= 0.002 , 0.0019 , 98.24, 27
> 0.002 <= 0.0025 , 0.00225 , 98.88, 32
> 0.0025 <= 0.003 , 0.00275 , 99.16, 14
> 0.003 <= 0.0035 , 0.00325 , 99.50, 17
> 0.0035 <= 0.004 , 0.00375 , 99.62, 6
> 0.004 <= 0.0045 , 0.00425 , 99.78, 8
> 0.0045 <= 0.005 , 0.00475 , 99.92, 7
> 0.005 <= 0.00528049 , 0.00514025 , 100.00, 4
# target 50% 0.000785522
# target 75% 0.000881855
# target 90% 0.000987752
# target 99% 0.00271429
# target 99.9% 0.00492857
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 0.845 ms avg, 499.8 qps
Successfully wrote 3461 bytes of Json data to /data/2018-11-19-051838_grpc_baseline_500qps_10s_echo_0_9.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
05:18:48 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:18:58 I periodic.go:533> T002 ended after 10.001595506s : 1250 calls. qps=124.98005935654163
05:18:58 I periodic.go:533> T000 ended after 10.001985039s : 1250 calls. qps=124.97519193699726
05:18:58 I periodic.go:533> T003 ended after 10.005779284s : 1250 calls. qps=124.92780067603977
05:18:58 I periodic.go:533> T001 ended after 10.005831565s : 1250 calls. qps=124.92714792166304
Ended after 10.005848664s : 5000 calls. qps=499.71
Sleep times : count 4996 avg 0.00639113 +/- 0.0004603 min 0.002184554 max 0.007012355 sum 31.9300853
Aggregated Function Time : count 5000 avg 0.0012880786 +/- 0.0004137 min 0.000763173 max 0.005623872 sum 6.44039277
# range, mid point, percentile, count
>= 0.000763173 <= 0.0008 , 0.000781587 , 0.02, 1
> 0.0008 <= 0.0009 , 0.00085 , 0.44, 21
> 0.0009 <= 0.001 , 0.00095 , 5.56, 256
> 0.001 <= 0.0011 , 0.00105 , 21.68, 806
> 0.0011 <= 0.0012 , 0.00115 , 45.72, 1202
> 0.0012 <= 0.0014 , 0.0013 , 82.40, 1834
> 0.0014 <= 0.0016 , 0.0015 , 94.34, 597
> 0.0016 <= 0.0018 , 0.0017 , 96.44, 105
> 0.0018 <= 0.002 , 0.0019 , 97.24, 40
> 0.002 <= 0.0025 , 0.00225 , 98.56, 66
> 0.0025 <= 0.003 , 0.00275 , 98.86, 15
> 0.003 <= 0.0035 , 0.00325 , 99.10, 12
> 0.0035 <= 0.004 , 0.00375 , 99.22, 6
> 0.004 <= 0.0045 , 0.00425 , 99.36, 7
> 0.0045 <= 0.005 , 0.00475 , 99.62, 13
> 0.005 <= 0.00562387 , 0.00531194 , 100.00, 19
# target 50% 0.00122334
# target 75% 0.00135965
# target 90% 0.0015273
# target 99% 0.00329167
# target 99.9% 0.0054597
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 1.288 ms avg, 499.7 qps
Successfully wrote 2987 bytes of Json data to /data/2018-11-19-051848_grpc_linkerd_500qps_10s_echo_0_9.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8079
05:18:58 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:19:08 I periodic.go:533> T003 ended after 10.001590717s : 1250 calls. qps=124.98011919997266
05:19:08 I periodic.go:533> T002 ended after 10.002329298s : 1250 calls. qps=124.9708905554571
05:19:08 I periodic.go:533> T001 ended after 10.002591838s : 1250 calls. qps=124.96761041985445
05:19:08 I periodic.go:533> T000 ended after 10.002740006s : 1250 calls. qps=124.96575930697044
Ended after 10.002833364s : 5000 calls. qps=499.86
Sleep times : count 4996 avg 0.0057819493 +/- 0.0007882 min 0.000106344 max 0.006875885 sum 28.8866188
Aggregated Function Time : count 5000 avg 0.0019035485 +/- 0.0007493 min 0.000878768 max 0.007676553 sum 9.51774232
# range, mid point, percentile, count
>= 0.000878768 <= 0.0009 , 0.000889384 , 0.06, 3
> 0.0009 <= 0.001 , 0.00095 , 0.56, 25
> 0.001 <= 0.0011 , 0.00105 , 5.36, 240
> 0.0011 <= 0.0012 , 0.00115 , 11.62, 313
> 0.0012 <= 0.0014 , 0.0013 , 19.46, 392
> 0.0014 <= 0.0016 , 0.0015 , 23.66, 210
> 0.0016 <= 0.0018 , 0.0017 , 46.94, 1164
> 0.0018 <= 0.002 , 0.0019 , 73.06, 1306
> 0.002 <= 0.0025 , 0.00225 , 90.84, 889
> 0.0025 <= 0.003 , 0.00275 , 95.60, 238
> 0.003 <= 0.0035 , 0.00325 , 96.40, 40
> 0.0035 <= 0.004 , 0.00375 , 96.94, 27
> 0.004 <= 0.0045 , 0.00425 , 97.88, 47
> 0.0045 <= 0.005 , 0.00475 , 98.28, 20
> 0.005 <= 0.006 , 0.0055 , 99.46, 59
> 0.006 <= 0.007 , 0.0065 , 99.76, 15
> 0.007 <= 0.00767655 , 0.00733828 , 100.00, 12
# target 50% 0.00182343
# target 75% 0.00205456
# target 90% 0.00247638
# target 99% 0.00561017
# target 99.9% 0.00739466
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 1.904 ms avg, 499.9 qps
Successfully wrote 3092 bytes of Json data to /data/2018-11-19-051858_grpc_istio_500qps_10s_echo_0_9.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
05:19:08 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 500.0 qps
05:19:08 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:19:18 I periodic.go:533> T002 ended after 10.000830718s : 1250 calls. qps=124.98961688754385
05:19:18 I periodic.go:533> T001 ended after 10.003240671s : 1250 calls. qps=124.95950473568287
05:19:18 I periodic.go:533> T003 ended after 10.003286094s : 1250 calls. qps=124.95893731858311
05:19:18 I periodic.go:533> T000 ended after 10.003314513s : 1250 calls. qps=124.9585823154454
Ended after 10.003329719s : 5000 calls. qps=499.83
Sleep times : count 4996 avg 0.0072473871 +/- 0.0004134 min 0.000769114 max 0.007609036 sum 36.207946
Aggregated Function Time : count 5000 avg 0.00043372899 +/- 0.0002997 min 0.000110651 max 0.005896058 sum 2.16864496
# range, mid point, percentile, count
>= 0.000110651 <= 0.0002 , 0.000155326 , 0.80, 40
> 0.0002 <= 0.0003 , 0.00025 , 11.36, 528
> 0.0003 <= 0.0004 , 0.00035 , 52.94, 2079
> 0.0004 <= 0.0005 , 0.00045 , 83.16, 1511
> 0.0005 <= 0.0006 , 0.00055 , 94.18, 551
> 0.0006 <= 0.0007 , 0.00065 , 97.20, 151
> 0.0007 <= 0.0008 , 0.00075 , 97.98, 39
> 0.0008 <= 0.0009 , 0.00085 , 98.14, 8
> 0.0009 <= 0.001 , 0.00095 , 98.40, 13
> 0.001 <= 0.0011 , 0.00105 , 98.54, 7
> 0.0011 <= 0.0012 , 0.00115 , 98.74, 10
> 0.0012 <= 0.0014 , 0.0013 , 99.04, 15
> 0.0014 <= 0.0016 , 0.0015 , 99.20, 8
> 0.0016 <= 0.0018 , 0.0017 , 99.34, 7
> 0.0018 <= 0.002 , 0.0019 , 99.42, 4
> 0.002 <= 0.0025 , 0.00225 , 99.46, 2
> 0.0025 <= 0.003 , 0.00275 , 99.58, 6
> 0.003 <= 0.0035 , 0.00325 , 99.76, 9
> 0.0035 <= 0.004 , 0.00375 , 99.82, 3
> 0.004 <= 0.0045 , 0.00425 , 99.92, 5
> 0.005 <= 0.00589606 , 0.00544803 , 100.00, 4
# target 50% 0.000392929
# target 75% 0.000472998
# target 90% 0.000562069
# target 99% 0.00137333
# target 99.9% 0.0044
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
Response Body/Total Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
All done 5000 calls (plus 4 warmup) 0.434 ms avg, 499.8 qps
Successfully wrote 4122 bytes of Json data to /data/2018-11-19-051908_http_baseline_500qps_10s_echo_1_9.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
05:19:18 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 500.0 qps
05:19:18 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:19:28 I periodic.go:533> T001 ended after 10.001023854s : 1250 calls. qps=124.98720313521213
05:19:28 I periodic.go:533> T003 ended after 10.001398427s : 1250 calls. qps=124.9825221066558
05:19:28 I periodic.go:533> T002 ended after 10.004309369s : 1250 calls. qps=124.9461560908273
05:19:28 I periodic.go:533> T000 ended after 10.004361533s : 1250 calls. qps=124.94550460584598
Ended after 10.004375634s : 5000 calls. qps=499.78
Sleep times : count 4996 avg 0.006654192 +/- 0.001502 min -0.023210475 max 0.007241294 sum 33.2443432
Aggregated Function Time : count 5000 avg 0.0009582924 +/- 0.0008782 min 0.000547491 max 0.028434921 sum 4.791462
# range, mid point, percentile, count
>= 0.000547491 <= 0.0006 , 0.000573746 , 0.48, 24
> 0.0006 <= 0.0007 , 0.00065 , 4.82, 217
> 0.0007 <= 0.0008 , 0.00075 , 24.00, 959
> 0.0008 <= 0.0009 , 0.00085 , 56.20, 1610
> 0.0009 <= 0.001 , 0.00095 , 81.90, 1285
> 0.001 <= 0.0011 , 0.00105 , 92.48, 529
> 0.0011 <= 0.0012 , 0.00115 , 95.34, 143
> 0.0012 <= 0.0014 , 0.0013 , 96.98, 82
> 0.0014 <= 0.0016 , 0.0015 , 97.82, 42
> 0.0016 <= 0.0018 , 0.0017 , 98.12, 15
> 0.0018 <= 0.002 , 0.0019 , 98.44, 16
> 0.002 <= 0.0025 , 0.00225 , 98.82, 19
> 0.0025 <= 0.003 , 0.00275 , 98.98, 8
> 0.003 <= 0.0035 , 0.00325 , 99.38, 20
> 0.0035 <= 0.004 , 0.00375 , 99.50, 6
> 0.004 <= 0.0045 , 0.00425 , 99.52, 1
> 0.0045 <= 0.005 , 0.00475 , 99.78, 13
> 0.005 <= 0.006 , 0.0055 , 99.90, 6
> 0.025 <= 0.0284349 , 0.0267175 , 100.00, 5
# target 50% 0.000880745
# target 75% 0.000973152
# target 90% 0.00107656
# target 99% 0.003025
# target 99.9% 0.006
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
Response Body/Total Sizes : count 5000 avg 75 +/- 0 min 75 max 75 sum 375000
All done 5000 calls (plus 4 warmup) 0.958 ms avg, 499.8 qps
Successfully wrote 3863 bytes of Json data to /data/2018-11-19-051918_http_linkerd_500qps_10s_echo_1_9.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
05:19:28 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 500.0 qps
05:19:28 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:19:38 I periodic.go:533> T002 ended after 10.001752349s : 1250 calls. qps=124.97809947523626
05:19:38 I periodic.go:533> T001 ended after 10.002293994s : 1250 calls. qps=124.97133165150194
05:19:38 I periodic.go:533> T000 ended after 10.002415513s : 1250 calls. qps=124.96981337911751
05:19:38 I periodic.go:533> T003 ended after 10.00268283s : 1250 calls. qps=124.96647361955793
Ended after 10.002782923s : 5000 calls. qps=499.86
Sleep times : count 4996 avg 0.0060782222 +/- 0.0006721 min -2.9257e-05 max 0.007079733 sum 30.3667981
Aggregated Function Time : count 5000 avg 0.0016176401 +/- 0.0006473 min 0.000820803 max 0.007825925 sum 8.08820072
# range, mid point, percentile, count
>= 0.000820803 <= 0.0009 , 0.000860402 , 0.14, 7
> 0.0009 <= 0.001 , 0.00095 , 0.36, 11
> 0.001 <= 0.0011 , 0.00105 , 0.70, 17
> 0.0011 <= 0.0012 , 0.00115 , 1.98, 64
> 0.0012 <= 0.0014 , 0.0013 , 40.30, 1916
> 0.0014 <= 0.0016 , 0.0015 , 75.10, 1740
> 0.0016 <= 0.0018 , 0.0017 , 83.30, 410
> 0.0018 <= 0.002 , 0.0019 , 88.62, 266
> 0.002 <= 0.0025 , 0.00225 , 95.42, 340
> 0.0025 <= 0.003 , 0.00275 , 96.26, 42
> 0.003 <= 0.0035 , 0.00325 , 96.86, 30
> 0.0035 <= 0.004 , 0.00375 , 98.50, 82
> 0.004 <= 0.0045 , 0.00425 , 98.80, 15
> 0.0045 <= 0.005 , 0.00475 , 98.90, 5
> 0.005 <= 0.006 , 0.0055 , 99.52, 31
> 0.006 <= 0.007 , 0.0065 , 99.92, 20
> 0.007 <= 0.00782592 , 0.00741296 , 100.00, 4
# target 50% 0.00145575
# target 75% 0.00159943
# target 90% 0.00210147
# target 99% 0.00516129
# target 99.9% 0.00695
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 5000 (100.0 %)
Response Header Sizes : count 5000 avg 209 +/- 0 min 209 max 209 sum 1045000
Response Body/Total Sizes : count 5000 avg 209 +/- 0 min 209 max 209 sum 1045000
All done 5000 calls (plus 4 warmup) 1.618 ms avg, 499.9 qps
Successfully wrote 3628 bytes of Json data to /data/2018-11-19-051928_http_istio_500qps_10s_echo_1_9.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
05:19:38 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:19:48 I periodic.go:533> T001 ended after 10.00095035s : 1250 calls. qps=124.98812175384913
05:19:48 I periodic.go:533> T002 ended after 10.001436795s : 1250 calls. qps=124.98204264260413
05:19:48 I periodic.go:533> T000 ended after 10.00355365s : 1250 calls. qps=124.95559515492776
05:19:48 I periodic.go:533> T003 ended after 10.003620139s : 1250 calls. qps=124.95476463832969
Ended after 10.003636463s : 5000 calls. qps=499.82
Sleep times : count 4996 avg 0.0068350975 +/- 0.0005008 min 0.001814837 max 0.007444034 sum 34.148147
Aggregated Function Time : count 5000 avg 0.00082744516 +/- 0.0003287 min 0.00037443 max 0.005035237 sum 4.13722581
# range, mid point, percentile, count
>= 0.00037443 <= 0.0004 , 0.000387215 , 0.04, 2
> 0.0004 <= 0.0005 , 0.00045 , 0.30, 13
> 0.0005 <= 0.0006 , 0.00055 , 4.56, 213
> 0.0006 <= 0.0007 , 0.00065 , 24.92, 1018
> 0.0007 <= 0.0008 , 0.00075 , 59.16, 1712
> 0.0008 <= 0.0009 , 0.00085 , 82.98, 1191
> 0.0009 <= 0.001 , 0.00095 , 92.14, 458
> 0.001 <= 0.0011 , 0.00105 , 95.06, 146
> 0.0011 <= 0.0012 , 0.00115 , 96.18, 56
> 0.0012 <= 0.0014 , 0.0013 , 96.98, 40
> 0.0014 <= 0.0016 , 0.0015 , 97.60, 31
> 0.0016 <= 0.0018 , 0.0017 , 98.14, 27
> 0.0018 <= 0.002 , 0.0019 , 98.48, 17
> 0.002 <= 0.0025 , 0.00225 , 99.12, 32
> 0.0025 <= 0.003 , 0.00275 , 99.38, 13
> 0.003 <= 0.0035 , 0.00325 , 99.60, 11
> 0.0035 <= 0.004 , 0.00375 , 99.84, 12
> 0.004 <= 0.0045 , 0.00425 , 99.86, 1
> 0.0045 <= 0.005 , 0.00475 , 99.96, 5
> 0.005 <= 0.00503524 , 0.00501762 , 100.00, 2
# target 50% 0.000773248
# target 75% 0.000866499
# target 90% 0.000976638
# target 99% 0.00240625
# target 99.9% 0.0047
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 0.827 ms avg, 499.8 qps
Successfully wrote 3462 bytes of Json data to /data/2018-11-19-051938_grpc_baseline_500qps_10s_echo_1_9.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
05:19:48 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:19:58 I periodic.go:533> T001 ended after 10.001450914s : 1250 calls. qps=124.98186620605756
05:19:58 I periodic.go:533> T003 ended after 10.004071927s : 1250 calls. qps=124.94912162980093
05:19:58 I periodic.go:533> T000 ended after 10.00410705s : 1250 calls. qps=124.94868295116854
05:19:58 I periodic.go:533> T002 ended after 10.00623793s : 1250 calls. qps=124.92207448439116
Ended after 10.006313727s : 5000 calls. qps=499.68
Sleep times : count 4996 avg 0.0063892999 +/- 0.0004531 min 0.001525941 max 0.007044447 sum 31.9209423
Aggregated Function Time : count 5000 avg 0.0012976446 +/- 0.0003963 min 0.000645943 max 0.006291606 sum 6.48822286
# range, mid point, percentile, count
>= 0.000645943 <= 0.0007 , 0.000672972 , 0.02, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.08, 3
> 0.0008 <= 0.0009 , 0.00085 , 0.80, 36
> 0.0009 <= 0.001 , 0.00095 , 5.50, 235
> 0.001 <= 0.0011 , 0.00105 , 19.52, 701
> 0.0011 <= 0.0012 , 0.00115 , 41.62, 1105
> 0.0012 <= 0.0014 , 0.0013 , 80.38, 1938
> 0.0014 <= 0.0016 , 0.0015 , 94.14, 688
> 0.0016 <= 0.0018 , 0.0017 , 96.30, 108
> 0.0018 <= 0.002 , 0.0019 , 96.96, 33
> 0.002 <= 0.0025 , 0.00225 , 98.40, 72
> 0.0025 <= 0.003 , 0.00275 , 99.10, 35
> 0.003 <= 0.0035 , 0.00325 , 99.18, 4
> 0.0035 <= 0.004 , 0.00375 , 99.30, 6
> 0.004 <= 0.0045 , 0.00425 , 99.58, 14
> 0.0045 <= 0.005 , 0.00475 , 99.82, 12
> 0.005 <= 0.006 , 0.0055 , 99.94, 6
> 0.006 <= 0.00629161 , 0.0061458 , 100.00, 3
# target 50% 0.00124324
# target 75% 0.00137224
# target 90% 0.00153983
# target 99% 0.00292857
# target 99.9% 0.00566667
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 1.298 ms avg, 499.7 qps
Successfully wrote 3199 bytes of Json data to /data/2018-11-19-051948_grpc_linkerd_500qps_10s_echo_1_9.json
Fortio 1.3.1-pre running at 500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8079
05:19:58 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 500.0 qps
Starting at 500 qps with 4 thread(s) [gomax 1] for 10s : 1250 calls each (total 5000)
05:20:08 I periodic.go:533> T001 ended after 10.001501003s : 1250 calls. qps=124.98124027833985
05:20:08 I periodic.go:533> T000 ended after 10.002402839s : 1250 calls. qps=124.96997172781035
05:20:08 I periodic.go:533> T002 ended after 10.00271614s : 1250 calls. qps=124.96605746926653
05:20:08 I periodic.go:533> T003 ended after 10.002810569s : 1250 calls. qps=124.96487775884823
Ended after 10.002874685s : 5000 calls. qps=499.86
Sleep times : count 4996 avg 0.0057211548 +/- 0.0009281 min -0.004844453 max 0.006872891 sum 28.5828893
Aggregated Function Time : count 5000 avg 0.0019502022 +/- 0.000893 min 0.000765421 max 0.012645283 sum 9.75101095
# range, mid point, percentile, count
>= 0.000765421 <= 0.0008 , 0.00078271 , 0.02, 1
> 0.0008 <= 0.0009 , 0.00085 , 0.06, 2
> 0.0009 <= 0.001 , 0.00095 , 0.48, 21
> 0.001 <= 0.0011 , 0.00105 , 5.00, 226
> 0.0011 <= 0.0012 , 0.00115 , 11.96, 348
> 0.0012 <= 0.0014 , 0.0013 , 18.96, 350
> 0.0014 <= 0.0016 , 0.0015 , 23.44, 224
> 0.0016 <= 0.0018 , 0.0017 , 45.16, 1086
> 0.0018 <= 0.002 , 0.0019 , 71.00, 1292
> 0.002 <= 0.0025 , 0.00225 , 89.74, 937
> 0.0025 <= 0.003 , 0.00275 , 94.70, 248
> 0.003 <= 0.0035 , 0.00325 , 95.78, 54
> 0.0035 <= 0.004 , 0.00375 , 96.68, 45
> 0.004 <= 0.0045 , 0.00425 , 97.72, 52
> 0.0045 <= 0.005 , 0.00475 , 98.38, 33
> 0.005 <= 0.006 , 0.0055 , 99.00, 31
> 0.006 <= 0.007 , 0.0065 , 99.56, 28
> 0.007 <= 0.008 , 0.0075 , 99.68, 6
> 0.008 <= 0.009 , 0.0085 , 99.72, 2
> 0.009 <= 0.01 , 0.0095 , 99.84, 6
> 0.01 <= 0.012 , 0.011 , 99.92, 4
> 0.012 <= 0.0126453 , 0.0123226 , 100.00, 4
# target 50% 0.00183746
# target 75% 0.00210672
# target 90% 0.00252621
# target 99% 0.006
# target 99.9% 0.0115
Ping SERVING : 5000
All done 5000 calls (plus 4 warmup) 1.950 ms avg, 499.9 qps
Successfully wrote 3636 bytes of Json data to /data/2018-11-19-051958_grpc_istio_500qps_10s_echo_1_9.json
