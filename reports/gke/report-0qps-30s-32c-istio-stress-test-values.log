1.3.1-pre unknown go1.11.2
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8080/echo
00:33:17 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
00:33:17 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
00:33:48 I periodic.go:533> T006 ended after 30.000005808s : 29321 calls. qps=977.3664774485165
00:33:48 I periodic.go:533> T021 ended after 30.002930558s : 29773 calls. qps=992.3363966877998
00:33:48 I periodic.go:533> T023 ended after 30.002970219s : 29865 calls. qps=995.4014479902183
00:33:48 I periodic.go:533> T028 ended after 30.002996768s : 29534 calls. qps=984.3683358823605
00:33:48 I periodic.go:533> T010 ended after 30.003007318s : 29532 calls. qps=984.3013297631193
00:33:48 I periodic.go:533> T003 ended after 30.003016599s : 29879 calls. qps=995.8665290008162
00:33:48 I periodic.go:533> T031 ended after 30.003025698s : 29647 calls. qps=988.1336735306755
00:33:48 I periodic.go:533> T026 ended after 30.003034499s : 29727 calls. qps=990.7997806352154
00:33:48 I periodic.go:533> T001 ended after 30.003043951s : 29892 calls. qps=996.2989104978365
00:33:48 I periodic.go:533> T014 ended after 30.003054958s : 29832 calls. qps=994.2987486361154
00:33:48 I periodic.go:533> T007 ended after 30.003077217s : 29985 calls. qps=999.3974879020157
00:33:48 I periodic.go:533> T020 ended after 30.003087284s : 29819 calls. qps=993.8643886124955
00:33:48 I periodic.go:533> T022 ended after 30.003096819s : 29722 calls. qps=990.6310731623547
00:33:48 I periodic.go:533> T029 ended after 30.003107438s : 29842 calls. qps=994.6303082661381
00:33:48 I periodic.go:533> T025 ended after 30.003117161s : 29660 calls. qps=988.5639495670135
00:33:48 I periodic.go:533> T016 ended after 30.003127398s : 29750 calls. qps=991.5632995640024
00:33:48 I periodic.go:533> T011 ended after 30.003136695s : 29733 calls. qps=990.9963848864836
00:33:48 I periodic.go:533> T000 ended after 30.003158522s : 29740 calls. qps=991.2289727160879
00:33:48 I periodic.go:533> T005 ended after 30.00316869s : 29637 calls. qps=987.795666058364
00:33:48 I periodic.go:533> T004 ended after 30.003177761s : 29794 calls. qps=993.028146462809
00:33:48 I periodic.go:533> T027 ended after 30.003186712s : 30183 calls. qps=1005.9931396529983
00:33:48 I periodic.go:533> T009 ended after 30.003196316s : 29973 calls. qps=998.9935633629842
00:33:48 I periodic.go:533> T018 ended after 30.003205701s : 29669 calls. qps=988.861000243422
00:33:48 I periodic.go:533> T030 ended after 30.003214557s : 29919 calls. qps=997.1931488594328
00:33:48 I periodic.go:533> T019 ended after 30.003236369s : 29855 calls. qps=995.059320695378
00:33:48 I periodic.go:533> T017 ended after 30.003245605s : 29617 calls. qps=987.1265392389538
00:33:48 I periodic.go:533> T013 ended after 30.003254802s : 29986 calls. qps=999.4249023276351
00:33:48 I periodic.go:533> T015 ended after 30.003263588s : 29706 calls. qps=990.0922915559462
00:33:48 I periodic.go:533> T024 ended after 30.003274004s : 29869 calls. qps=995.5246882729498
00:33:48 I periodic.go:533> T002 ended after 30.003285088s : 29750 calls. qps=991.5580881474442
00:33:48 I periodic.go:533> T012 ended after 30.003294015s : 29571 calls. qps=985.5917815295921
00:33:48 I periodic.go:533> T008 ended after 30.003316698s : 29592 calls. qps=986.2909590249595
Ended after 30.003333118s : 952374 calls. qps=31742
Aggregated Function Time : count 952374 avg 0.0010076525 +/- 0.0007031 min 7.2793e-05 max 0.038808146 sum 959.66205
# range, mid point, percentile, count
>= 7.2793e-05 <= 0.0001 , 8.63965e-05 , 0.44, 4229
> 0.0001 <= 0.0002 , 0.00015 , 4.71, 40662
> 0.0002 <= 0.0003 , 0.00025 , 10.04, 50735
> 0.0003 <= 0.0004 , 0.00035 , 15.63, 53228
> 0.0004 <= 0.0005 , 0.00045 , 21.79, 58689
> 0.0005 <= 0.0006 , 0.00055 , 28.04, 59542
> 0.0006 <= 0.0007 , 0.00065 , 34.42, 60763
> 0.0007 <= 0.0008 , 0.00075 , 40.79, 60623
> 0.0008 <= 0.0009 , 0.00085 , 47.17, 60810
> 0.0009 <= 0.001 , 0.00095 , 53.60, 61239
> 0.001 <= 0.0011 , 0.00105 , 59.95, 60469
> 0.0011 <= 0.0012 , 0.00115 , 66.06, 58140
> 0.0012 <= 0.0014 , 0.0013 , 77.75, 111308
> 0.0014 <= 0.0016 , 0.0015 , 88.02, 97824
> 0.0016 <= 0.0018 , 0.0017 , 93.88, 55782
> 0.0018 <= 0.002 , 0.0019 , 95.70, 17404
> 0.002 <= 0.0025 , 0.00225 , 97.96, 21532
> 0.0025 <= 0.003 , 0.00275 , 98.89, 8830
> 0.003 <= 0.0035 , 0.00325 , 99.16, 2603
> 0.0035 <= 0.004 , 0.00375 , 99.37, 1947
> 0.004 <= 0.0045 , 0.00425 , 99.56, 1864
> 0.0045 <= 0.005 , 0.00475 , 99.73, 1597
> 0.005 <= 0.006 , 0.0055 , 99.93, 1897
> 0.006 <= 0.007 , 0.0065 , 99.97, 405
> 0.007 <= 0.008 , 0.0075 , 99.98, 84
> 0.008 <= 0.009 , 0.0085 , 99.98, 8
> 0.01 <= 0.012 , 0.011 , 99.99, 41
> 0.012 <= 0.014 , 0.013 , 99.99, 54
> 0.014 <= 0.016 , 0.015 , 99.99, 1
> 0.03 <= 0.035 , 0.0325 , 100.00, 32
> 0.035 <= 0.0388081 , 0.0369041 , 100.00, 32
# target 50% 0.000943936
# target 75% 0.001353
# target 90% 0.00166768
# target 99% 0.00320001
# target 99.9% 0.00584429
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 952374 (100.0 %)
Response Header Sizes : count 952374 avg 75 +/- 0 min 75 max 75 sum 71428050
Response Body/Total Sizes : count 952374 avg 75 +/- 0 min 75 max 75 sum 71428050
All done 952374 calls (plus 32 warmup) 1.008 ms avg, 31742.3 qps
Successfully wrote 5705 bytes of Json data to /data/2018-12-22-003318_http_baseline_0qps_30s_echo_0_0.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8080/echo
00:33:48 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 32 threads at -1.0 qps
00:33:48 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
00:34:18 I periodic.go:533> T001 ended after 30.00006721s : 2557 calls. qps=85.23314238268334
00:34:18 I periodic.go:533> T002 ended after 30.00044765s : 2553 calls. qps=85.09873018511442
00:34:18 I periodic.go:533> T018 ended after 30.00092236s : 2575 calls. qps=85.83069444002254
00:34:18 I periodic.go:533> T030 ended after 30.003463746s : 2444 calls. qps=81.45726175784718
00:34:18 I periodic.go:533> T007 ended after 30.003526076s : 2483 calls. qps=82.75693975802953
00:34:18 I periodic.go:533> T019 ended after 30.003539822s : 2513 calls. qps=83.75678386312774
00:34:18 I periodic.go:533> T013 ended after 30.003555149s : 2555 calls. qps=85.15657518956237
00:34:18 I periodic.go:533> T000 ended after 30.003565625s : 2502 calls. qps=83.39008874049449
00:34:18 I periodic.go:533> T009 ended after 30.003577158s : 2325 calls. qps=77.49076011025151
00:34:18 I periodic.go:533> T021 ended after 30.003587373s : 2516 calls. qps=83.85663916522627
00:34:18 I periodic.go:533> T011 ended after 30.003613047s : 2459 calls. qps=81.95679620811102
00:34:18 I periodic.go:533> T003 ended after 30.00364165s : 2582 calls. qps=86.05622044549382
00:34:18 I periodic.go:533> T015 ended after 30.003652185s : 2663 calls. qps=88.75586157245677
00:34:18 I periodic.go:533> T026 ended after 30.003663732s : 2453 calls. qps=81.75668218090934
00:34:18 I periodic.go:533> T029 ended after 30.003689655s : 2431 calls. qps=81.02336839079001
00:34:18 I periodic.go:533> T016 ended after 30.003706144s : 2635 calls. qps=87.8224839076067
00:34:18 I periodic.go:533> T008 ended after 30.003721548s : 2510 calls. qps=83.65628897016985
00:34:18 I periodic.go:533> T012 ended after 30.005190463s : 2517 calls. qps=83.88548651620002
00:34:18 I periodic.go:533> T028 ended after 30.005366912s : 2381 calls. qps=79.35247074241809
00:34:18 I periodic.go:533> T024 ended after 30.005379277s : 2584 calls. qps=86.11789160021422
00:34:18 I periodic.go:533> T004 ended after 30.005389764s : 2648 calls. qps=88.25081163174988
00:34:18 I periodic.go:533> T014 ended after 30.005416724s : 2353 calls. qps=78.41917416590785
00:34:18 I periodic.go:533> T022 ended after 30.00544077s : 2452 calls. qps=81.71851294554405
00:34:18 I periodic.go:533> T010 ended after 30.00545223s : 2457 calls. qps=81.88511811674834
00:34:18 I periodic.go:533> T005 ended after 30.005464332s : 2481 calls. qps=82.68493940132372
00:34:18 I periodic.go:533> T006 ended after 30.005474026s : 2470 calls. qps=82.31831291382778
00:34:18 I periodic.go:533> T031 ended after 30.006078833s : 2572 calls. qps=85.7159648987982
00:34:18 I periodic.go:533> T020 ended after 30.006123106s : 2331 calls. qps=77.68414439164569
00:34:18 I periodic.go:533> T023 ended after 30.006152927s : 2468 calls. qps=82.24979743335426
00:34:18 I periodic.go:533> T025 ended after 30.006429023s : 2412 calls. qps=80.38277390992431
00:34:18 I periodic.go:533> T017 ended after 30.006794154s : 2517 calls. qps=83.88100331819273
00:34:18 I periodic.go:533> T027 ended after 30.006982813s : 2447 calls. qps=81.54768559203093
Ended after 30.007016365s : 79846 calls. qps=2660.9
Aggregated Function Time : count 79846 avg 0.01202213 +/- 0.01431 min 0.000379467 max 0.080566792 sum 959.919002
# range, mid point, percentile, count
>= 0.000379467 <= 0.0004 , 0.000389734 , 0.03, 22
> 0.0004 <= 0.0005 , 0.00045 , 2.29, 1804
> 0.0005 <= 0.0006 , 0.00055 , 11.51, 7361
> 0.0006 <= 0.0007 , 0.00065 , 42.56, 24792
> 0.0007 <= 0.0008 , 0.00075 , 52.26, 7747
> 0.0008 <= 0.0009 , 0.00085 , 53.74, 1186
> 0.0009 <= 0.001 , 0.00095 , 54.28, 429
> 0.001 <= 0.0011 , 0.00105 , 54.50, 179
> 0.0011 <= 0.0012 , 0.00115 , 54.66, 127
> 0.0012 <= 0.0014 , 0.0013 , 54.85, 151
> 0.0014 <= 0.0016 , 0.0015 , 55.04, 151
> 0.0016 <= 0.0018 , 0.0017 , 55.40, 284
> 0.0018 <= 0.002 , 0.0019 , 55.53, 109
> 0.002 <= 0.0025 , 0.00225 , 55.64, 84
> 0.0025 <= 0.003 , 0.00275 , 55.73, 74
> 0.003 <= 0.0035 , 0.00325 , 55.78, 39
> 0.0035 <= 0.004 , 0.00375 , 55.89, 85
> 0.004 <= 0.0045 , 0.00425 , 56.01, 94
> 0.0045 <= 0.005 , 0.00475 , 56.12, 88
> 0.005 <= 0.006 , 0.0055 , 56.26, 115
> 0.006 <= 0.007 , 0.0065 , 56.41, 121
> 0.007 <= 0.008 , 0.0075 , 56.57, 127
> 0.008 <= 0.009 , 0.0085 , 56.76, 154
> 0.009 <= 0.01 , 0.0095 , 57.04, 225
> 0.01 <= 0.012 , 0.011 , 57.99, 753
> 0.012 <= 0.014 , 0.013 , 59.39, 1123
> 0.014 <= 0.016 , 0.015 , 61.47, 1661
> 0.016 <= 0.018 , 0.017 , 64.25, 2213
> 0.018 <= 0.02 , 0.019 , 67.47, 2573
> 0.02 <= 0.025 , 0.0225 , 76.59, 7286
> 0.025 <= 0.03 , 0.0275 , 85.83, 7377
> 0.03 <= 0.035 , 0.0325 , 92.94, 5673
> 0.035 <= 0.04 , 0.0375 , 96.66, 2970
> 0.04 <= 0.045 , 0.0425 , 98.29, 1302
> 0.045 <= 0.05 , 0.0475 , 99.11, 656
> 0.05 <= 0.06 , 0.055 , 99.70, 474
> 0.06 <= 0.07 , 0.065 , 99.93, 178
> 0.07 <= 0.08 , 0.075 , 100.00, 58
> 0.08 <= 0.0805668 , 0.0802834 , 100.00, 1
# target 50% 0.000776726
# target 75% 0.0241267
# target 90% 0.0329327
# target 99% 0.0493334
# target 99.9% 0.0688289
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 79846 (100.0 %)
Response Header Sizes : count 79846 avg 209.42594 +/- 0.4945 min 209 max 210 sum 16721824
Response Body/Total Sizes : count 79846 avg 209.42594 +/- 0.4945 min 209 max 210 sum 16721824
All done 79846 calls (plus 32 warmup) 12.022 ms avg, 2660.9 qps
Successfully wrote 6783 bytes of Json data to /data/2018-12-22-003348_http_istio_0qps_30s_echo_0_0.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8079
00:34:18 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
00:34:48 I periodic.go:533> T017 ended after 30.000133033s : 16094 calls. qps=536.4642877515469
00:34:48 I periodic.go:533> T004 ended after 30.000608471s : 16044 calls. qps=534.7891532103052
00:34:48 I periodic.go:533> T002 ended after 30.003601989s : 16096 calls. qps=536.4689214948645
00:34:48 I periodic.go:533> T028 ended after 30.003724083s : 16078 calls. qps=535.8668129170584
00:34:48 I periodic.go:533> T022 ended after 30.003769182s : 16084 calls. qps=536.0659823249537
00:34:48 I periodic.go:533> T025 ended after 30.00381143s : 16098 calls. qps=536.5318348822858
00:34:48 I periodic.go:533> T012 ended after 30.00383657s : 16101 calls. qps=536.6313725391685
00:34:48 I periodic.go:533> T011 ended after 30.003861259s : 16093 calls. qps=536.3642986174895
00:34:48 I periodic.go:533> T029 ended after 30.003883977s : 16106 calls. qps=536.797169737969
00:34:48 I periodic.go:533> T030 ended after 30.003907755s : 16103 calls. qps=536.6967573520991
00:34:48 I periodic.go:533> T005 ended after 30.003930176s : 16078 calls. qps=535.8631321192953
00:34:48 I periodic.go:533> T027 ended after 30.003954958s : 16068 calls. qps=535.5294001238248
00:34:48 I periodic.go:533> T013 ended after 30.003989445s : 16105 calls. qps=536.7619539235577
00:34:48 I periodic.go:533> T021 ended after 30.004059128s : 16031 calls. qps=534.29437435816
00:34:48 I periodic.go:533> T015 ended after 30.004119305s : 16102 calls. qps=536.6596445081027
00:34:48 I periodic.go:533> T026 ended after 30.004151988s : 16086 calls. qps=536.1258004036745
00:34:48 I periodic.go:533> T008 ended after 30.004176487s : 16088 calls. qps=536.1920200332943
00:34:48 I periodic.go:533> T010 ended after 30.004199769s : 16085 calls. qps=536.0916179680567
00:34:48 I periodic.go:533> T024 ended after 30.004222774s : 16068 calls. qps=535.5246200186075
00:34:48 I periodic.go:533> T009 ended after 30.004248167s : 16037 calls. qps=534.4909797685983
00:34:48 I periodic.go:533> T001 ended after 30.004276676s : 16096 calls. qps=536.4568582609746
00:34:48 I periodic.go:533> T014 ended after 30.006492944s : 16067 calls. qps=535.450778269398
00:34:48 I periodic.go:533> T019 ended after 30.006585215s : 16062 calls. qps=535.2825016546955
00:34:48 I periodic.go:533> T000 ended after 30.0066638s : 16053 calls. qps=534.9811664167744
00:34:48 I periodic.go:533> T020 ended after 30.006691469s : 16053 calls. qps=534.9806731136754
00:34:48 I periodic.go:533> T007 ended after 30.006718728s : 16125 calls. qps=537.3796497433547
00:34:48 I periodic.go:533> T006 ended after 30.00674158s : 16105 calls. qps=536.7127236078926
00:34:48 I periodic.go:533> T018 ended after 30.00676685s : 16086 calls. qps=536.0790811089998
00:34:48 I periodic.go:533> T031 ended after 30.006793901s : 16073 calls. qps=535.6453626145096
00:34:48 I periodic.go:533> T016 ended after 30.00681929s : 16064 calls. qps=535.3449775782617
00:34:48 I periodic.go:533> T003 ended after 30.00685239s : 16058 calls. qps=535.1444327213555
00:34:48 I periodic.go:533> T023 ended after 30.00687667s : 16088 calls. qps=536.1437705405812
Ended after 30.006891664s : 514575 calls. qps=17149
Aggregated Function Time : count 514575 avg 0.0018652766 +/- 0.001025 min 0.000354272 max 0.036358053 sum 959.824712
# range, mid point, percentile, count
>= 0.000354272 <= 0.0004 , 0.000377136 , 0.00, 3
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 34
> 0.0005 <= 0.0006 , 0.00055 , 0.15, 751
> 0.0006 <= 0.0007 , 0.00065 , 0.69, 2764
> 0.0007 <= 0.0008 , 0.00075 , 1.56, 4464
> 0.0008 <= 0.0009 , 0.00085 , 2.67, 5742
> 0.0009 <= 0.001 , 0.00095 , 4.19, 7801
> 0.001 <= 0.0011 , 0.00105 , 6.71, 12947
> 0.0011 <= 0.0012 , 0.00115 , 12.13, 27910
> 0.0012 <= 0.0014 , 0.0013 , 28.69, 85224
> 0.0014 <= 0.0016 , 0.0015 , 50.57, 112605
> 0.0016 <= 0.0018 , 0.0017 , 67.29, 85989
> 0.0018 <= 0.002 , 0.0019 , 76.57, 47770
> 0.002 <= 0.0025 , 0.00225 , 86.34, 50298
> 0.0025 <= 0.003 , 0.00275 , 90.07, 19151
> 0.003 <= 0.0035 , 0.00325 , 92.68, 13432
> 0.0035 <= 0.004 , 0.00375 , 95.44, 14202
> 0.004 <= 0.0045 , 0.00425 , 97.41, 10148
> 0.0045 <= 0.005 , 0.00475 , 98.52, 5743
> 0.005 <= 0.006 , 0.0055 , 99.42, 4596
> 0.006 <= 0.007 , 0.0065 , 99.71, 1489
> 0.007 <= 0.008 , 0.0075 , 99.80, 504
> 0.008 <= 0.009 , 0.0085 , 99.88, 379
> 0.009 <= 0.01 , 0.0095 , 99.92, 210
> 0.01 <= 0.012 , 0.011 , 99.96, 203
> 0.012 <= 0.014 , 0.013 , 99.97, 79
> 0.014 <= 0.016 , 0.015 , 99.97, 2
> 0.016 <= 0.018 , 0.017 , 99.98, 41
> 0.018 <= 0.02 , 0.019 , 99.98, 12
> 0.02 <= 0.025 , 0.0225 , 99.99, 18
> 0.03 <= 0.035 , 0.0325 , 100.00, 47
> 0.035 <= 0.0363581 , 0.035679 , 100.00, 17
# target 50% 0.00159475
# target 75% 0.0019662
# target 90% 0.00299124
# target 99% 0.00553334
# target 99.9% 0.00954488
Ping SERVING : 514575
All done 514575 calls (plus 32 warmup) 1.865 ms avg, 17148.6 qps
Successfully wrote 5277 bytes of Json data to /data/2018-12-22-003418_grpc_baseline_0qps_30s_echo_0_0.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8079
00:34:48 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
00:35:18 I periodic.go:533> T007 ended after 30.000692626s : 3326 calls. qps=110.8641070878988
00:35:18 I periodic.go:533> T028 ended after 30.001074029s : 3343 calls. qps=111.42934405510113
00:35:18 I periodic.go:533> T030 ended after 30.003820713s : 3344 calls. qps=111.45247240299359
00:35:18 I periodic.go:533> T017 ended after 30.003870112s : 3339 calls. qps=111.28564373649158
00:35:18 I periodic.go:533> T015 ended after 30.00388522s : 3354 calls. qps=111.78552295501682
00:35:18 I periodic.go:533> T003 ended after 30.003949713s : 3374 calls. qps=112.45186158068135
00:35:18 I periodic.go:533> T011 ended after 30.003967184s : 3358 calls. qps=111.91853328618146
00:35:18 I periodic.go:533> T005 ended after 30.00398031s : 3315 calls. qps=110.48534113639406
00:35:18 I periodic.go:533> T019 ended after 30.003992489s : 3324 calls. qps=110.78525636941943
00:35:18 I periodic.go:533> T021 ended after 30.004057538s : 3315 calls. qps=110.48505675612599
00:35:18 I periodic.go:533> T026 ended after 30.004071791s : 3329 calls. qps=110.95160760809019
00:35:18 I periodic.go:533> T024 ended after 30.004084246s : 3328 calls. qps=110.91823275505143
00:35:18 I periodic.go:533> T000 ended after 30.006322975s : 3326 calls. qps=110.84330468518527
00:35:18 I periodic.go:533> T009 ended after 30.006353883s : 3355 calls. qps=111.80965248499466
00:35:18 I periodic.go:533> T013 ended after 30.006384864s : 3362 calls. qps=112.0428207275826
00:35:18 I periodic.go:533> T001 ended after 30.006399751s : 3101 calls. qps=103.34462067201699
00:35:18 I periodic.go:533> T023 ended after 30.006411807s : 3110 calls. qps=103.64451504576394
00:35:18 I periodic.go:533> T029 ended after 30.00642363s : 3087 calls. qps=102.87797166582894
00:35:18 I periodic.go:533> T022 ended after 30.006472744s : 3128 calls. qps=104.24417513802801
00:35:18 I periodic.go:533> T016 ended after 30.006488779s : 3118 calls. qps=103.91085818018561
00:35:18 I periodic.go:533> T020 ended after 30.006500866s : 3108 calls. qps=103.57755520643317
00:35:18 I periodic.go:533> T027 ended after 30.006520135s : 3104 calls. qps=103.44418433177307
00:35:18 I periodic.go:533> T025 ended after 30.006549178s : 3106 calls. qps=103.51073632542979
00:35:18 I periodic.go:533> T006 ended after 30.006562854s : 3115 calls. qps=103.81062353446981
00:35:18 I periodic.go:533> T002 ended after 30.006575209s : 3088 calls. qps=102.91077800420899
00:35:18 I periodic.go:533> T018 ended after 30.006587428s : 3101 calls. qps=103.34397430033542
00:35:18 I periodic.go:533> T014 ended after 30.006599305s : 3102 calls. qps=103.37725939783898
00:35:18 I periodic.go:533> T010 ended after 30.006611692s : 3090 calls. qps=102.9773048592427
00:35:18 I periodic.go:533> T031 ended after 30.006640032s : 3085 calls. qps=102.81057781577883
00:35:18 I periodic.go:533> T008 ended after 30.006651676s : 3066 calls. qps=102.1773449802217
00:35:18 I periodic.go:533> T012 ended after 30.006663468s : 3110 calls. qps=103.64364579609448
00:35:18 I periodic.go:533> T004 ended after 30.0066747s : 3131 calls. qps=104.34345129218866
Ended after 30.006693448s : 102842 calls. qps=3427.3
Aggregated Function Time : count 102842 avg 0.0093342944 +/- 0.004829 min 0.000838573 max 0.078087239 sum 959.957505
# range, mid point, percentile, count
>= 0.000838573 <= 0.0009 , 0.000869287 , 0.00, 4
> 0.0009 <= 0.001 , 0.00095 , 0.02, 12
> 0.001 <= 0.0011 , 0.00105 , 0.04, 20
> 0.0011 <= 0.0012 , 0.00115 , 0.06, 23
> 0.0012 <= 0.0014 , 0.0013 , 0.17, 118
> 0.0014 <= 0.0016 , 0.0015 , 0.30, 129
> 0.0016 <= 0.0018 , 0.0017 , 0.36, 66
> 0.0018 <= 0.002 , 0.0019 , 0.47, 109
> 0.002 <= 0.0025 , 0.00225 , 0.92, 464
> 0.0025 <= 0.003 , 0.00275 , 2.23, 1348
> 0.003 <= 0.0035 , 0.00325 , 2.92, 705
> 0.0035 <= 0.004 , 0.00375 , 3.76, 873
> 0.004 <= 0.0045 , 0.00425 , 5.36, 1641
> 0.0045 <= 0.005 , 0.00475 , 9.02, 3766
> 0.005 <= 0.006 , 0.0055 , 19.47, 10741
> 0.006 <= 0.007 , 0.0065 , 26.41, 7138
> 0.007 <= 0.008 , 0.0075 , 37.25, 11148
> 0.008 <= 0.009 , 0.0085 , 54.32, 17562
> 0.009 <= 0.01 , 0.0095 , 69.45, 15555
> 0.01 <= 0.012 , 0.011 , 86.83, 17876
> 0.012 <= 0.014 , 0.013 , 92.84, 6181
> 0.014 <= 0.016 , 0.015 , 94.64, 1852
> 0.016 <= 0.018 , 0.017 , 95.49, 868
> 0.018 <= 0.02 , 0.019 , 96.13, 664
> 0.02 <= 0.025 , 0.0225 , 97.47, 1378
> 0.025 <= 0.03 , 0.0275 , 99.05, 1629
> 0.03 <= 0.035 , 0.0325 , 99.66, 619
> 0.035 <= 0.04 , 0.0375 , 99.85, 197
> 0.04 <= 0.045 , 0.0425 , 99.92, 69
> 0.045 <= 0.05 , 0.0475 , 99.92, 6
> 0.05 <= 0.06 , 0.055 , 99.97, 47
> 0.06 <= 0.07 , 0.065 , 99.97, 2
> 0.07 <= 0.0780872 , 0.0740436 , 100.00, 32
# target 50% 0.00874684
# target 75% 0.0106388
# target 90% 0.0130548
# target 99% 0.0298268
# target 99.9% 0.043852
Ping SERVING : 102842
All done 102842 calls (plus 32 warmup) 9.334 ms avg, 3427.3 qps
Successfully wrote 5411 bytes of Json data to /data/2018-12-22-003448_grpc_istio_0qps_30s_echo_0_0.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8080/echo
00:35:18 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
00:35:18 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
00:35:48 I periodic.go:533> T005 ended after 30.000002669s : 29384 calls. qps=979.4665795267899
00:35:48 I periodic.go:533> T016 ended after 30.000874455s : 29207 calls. qps=973.5382894858355
00:35:48 I periodic.go:533> T028 ended after 30.002999128s : 29153 calls. qps=971.6695279570653
00:35:48 I periodic.go:533> T003 ended after 30.00303943s : 29197 calls. qps=973.134740835822
00:35:48 I periodic.go:533> T022 ended after 30.003067408s : 28861 calls. qps=961.9349784317226
00:35:48 I periodic.go:533> T026 ended after 30.00307737s : 29431 calls. qps=980.93271023685
00:35:48 I periodic.go:533> T007 ended after 30.003093445s : 29063 calls. qps=968.6667827528075
00:35:48 I periodic.go:533> T031 ended after 30.003132367s : 29294 calls. qps=976.3647222454691
00:35:48 I periodic.go:533> T024 ended after 30.00315423s : 29260 calls. qps=975.2307965921489
00:35:48 I periodic.go:533> T013 ended after 30.003165262s : 29201 calls. qps=973.2639788170627
00:35:48 I periodic.go:533> T010 ended after 30.00317437s : 29024 calls. qps=967.3643075920969
00:35:48 I periodic.go:533> T002 ended after 30.003183552s : 29055 calls. qps=968.3972352348325
00:35:48 I periodic.go:533> T017 ended after 30.003192998s : 29268 calls. qps=975.4961747555
00:35:48 I periodic.go:533> T030 ended after 30.003219192s : 29118 calls. qps=970.4958595830932
00:35:48 I periodic.go:533> T004 ended after 30.0032277s : 29116 calls. qps=970.4289248853049
00:35:48 I periodic.go:533> T025 ended after 30.003236159s : 29063 calls. qps=968.6621751727952
00:35:48 I periodic.go:533> T009 ended after 30.00324514s : 29359 calls. qps=978.5274847106089
00:35:48 I periodic.go:533> T023 ended after 30.003254044s : 29061 calls. qps=968.5949383150848
00:35:48 I periodic.go:533> T006 ended after 30.003262313s : 29220 calls. qps=973.8940950877657
00:35:48 I periodic.go:533> T015 ended after 30.00327125s : 29222 calls. qps=973.9604643943617
00:35:48 I periodic.go:533> T018 ended after 30.003296633s : 29264 calls. qps=975.359486590988
00:35:48 I periodic.go:533> T019 ended after 30.003306264s : 29303 calls. qps=976.659030246934
00:35:48 I periodic.go:533> T008 ended after 30.00331429s : 29245 calls. qps=974.7256492176018
00:35:48 I periodic.go:533> T014 ended after 30.003322908s : 29313 calls. qps=976.9917848727371
00:35:48 I periodic.go:533> T000 ended after 30.003331471s : 29193 calls. qps=972.991950184491
00:35:48 I periodic.go:533> T012 ended after 30.003340229s : 28893 calls. qps=962.9927794530427
00:35:48 I periodic.go:533> T027 ended after 30.003349238s : 29281 calls. qps=975.9243798993905
00:35:48 I periodic.go:533> T021 ended after 30.003358322s : 28971 calls. qps=965.59190771511
00:35:48 I periodic.go:533> T011 ended after 30.003381499s : 29546 calls. qps=984.7556683230774
00:35:48 I periodic.go:533> T001 ended after 30.003391809s : 28905 calls. qps=963.391078715623
00:35:48 I periodic.go:533> T020 ended after 30.003401072s : 29163 calls. qps=971.9898064228364
00:35:48 I periodic.go:533> T029 ended after 30.003412012s : 29049 calls. qps=968.1898841499001
Ended after 30.003428683s : 933683 calls. qps=31119
Aggregated Function Time : count 933683 avg 0.0010277949 +/- 0.0007078 min 7.4999e-05 max 0.034444757 sum 959.634609
# range, mid point, percentile, count
>= 7.4999e-05 <= 0.0001 , 8.74995e-05 , 0.45, 4160
> 0.0001 <= 0.0002 , 0.00015 , 4.78, 40462
> 0.0002 <= 0.0003 , 0.00025 , 9.96, 48403
> 0.0003 <= 0.0004 , 0.00035 , 15.53, 51969
> 0.0004 <= 0.0005 , 0.00045 , 21.51, 55868
> 0.0005 <= 0.0006 , 0.00055 , 27.56, 56447
> 0.0006 <= 0.0007 , 0.00065 , 33.56, 56027
> 0.0007 <= 0.0008 , 0.00075 , 39.63, 56702
> 0.0008 <= 0.0009 , 0.00085 , 45.81, 57666
> 0.0009 <= 0.001 , 0.00095 , 52.03, 58103
> 0.001 <= 0.0011 , 0.00105 , 58.18, 57444
> 0.0011 <= 0.0012 , 0.00115 , 64.16, 55797
> 0.0012 <= 0.0014 , 0.0013 , 75.69, 107676
> 0.0014 <= 0.0016 , 0.0015 , 86.19, 98013
> 0.0016 <= 0.0018 , 0.0017 , 93.21, 65537
> 0.0018 <= 0.002 , 0.0019 , 95.50, 21372
> 0.002 <= 0.0025 , 0.00225 , 97.92, 22580
> 0.0025 <= 0.003 , 0.00275 , 98.90, 9200
> 0.003 <= 0.0035 , 0.00325 , 99.21, 2884
> 0.0035 <= 0.004 , 0.00375 , 99.42, 1958
> 0.004 <= 0.0045 , 0.00425 , 99.58, 1532
> 0.0045 <= 0.005 , 0.00475 , 99.75, 1566
> 0.005 <= 0.006 , 0.0055 , 99.92, 1546
> 0.006 <= 0.007 , 0.0065 , 99.96, 424
> 0.007 <= 0.008 , 0.0075 , 99.97, 82
> 0.008 <= 0.009 , 0.0085 , 99.98, 53
> 0.009 <= 0.01 , 0.0095 , 99.98, 26
> 0.01 <= 0.012 , 0.011 , 99.99, 54
> 0.012 <= 0.014 , 0.013 , 99.99, 53
> 0.014 <= 0.016 , 0.015 , 99.99, 8
> 0.016 <= 0.018 , 0.017 , 99.99, 7
> 0.03 <= 0.0344448 , 0.0322224 , 100.00, 64
# target 50% 0.000967359
# target 75% 0.001388
# target 90% 0.00170857
# target 99% 0.00315953
# target 99.9% 0.00589477
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 933683 (100.0 %)
Response Header Sizes : count 933683 avg 75 +/- 0 min 75 max 75 sum 70026225
Response Body/Total Sizes : count 933683 avg 75 +/- 0 min 75 max 75 sum 70026225
All done 933683 calls (plus 32 warmup) 1.028 ms avg, 31119.2 qps
Successfully wrote 5851 bytes of Json data to /data/2018-12-22-003518_http_baseline_0qps_30s_echo_0_1.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8080/echo
00:35:48 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 32 threads at -1.0 qps
00:35:48 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
00:36:18 I periodic.go:533> T006 ended after 30.000139965s : 2494 calls. qps=83.13294547657621
00:36:18 I periodic.go:533> T004 ended after 30.000513065s : 2452 calls. qps=81.73193554014973
00:36:18 I periodic.go:533> T022 ended after 30.003713738s : 2374 calls. qps=79.12353853027552
00:36:18 I periodic.go:533> T031 ended after 30.0037646s : 2507 calls. qps=83.55618147997335
00:36:18 I periodic.go:533> T028 ended after 30.003781046s : 2448 calls. qps=81.58971685091532
00:36:18 I periodic.go:533> T023 ended after 30.003793001s : 2621 calls. qps=87.35562200127978
00:36:18 I periodic.go:533> T016 ended after 30.003807s : 2579 calls. qps=85.95575888086469
00:36:18 I periodic.go:533> T021 ended after 30.003847718s : 2631 calls. qps=87.68875328018687
00:36:18 I periodic.go:533> T002 ended after 30.003861783s : 2447 calls. qps=81.55616825919572
00:36:18 I periodic.go:533> T015 ended after 30.00387349s : 2447 calls. qps=81.55613643736903
00:36:18 I periodic.go:533> T005 ended after 30.003909647s : 2363 calls. qps=78.75640300884152
00:36:18 I periodic.go:533> T000 ended after 30.003921761s : 2614 calls. qps=87.12194428522193
00:36:18 I periodic.go:533> T013 ended after 30.003933241s : 2460 calls. qps=81.98925055060585
00:36:18 I periodic.go:533> T008 ended after 30.003945099s : 2527 calls. qps=84.22225782849544
00:36:18 I periodic.go:533> T018 ended after 30.003957321s : 2664 calls. qps=88.78828787479463
00:36:18 I periodic.go:533> T024 ended after 30.003967876s : 2472 calls. qps=82.38910300851703
00:36:18 I periodic.go:533> T010 ended after 30.003994866s : 2634 calls. qps=87.78830991551737
00:36:18 I periodic.go:533> T001 ended after 30.00400748s : 2376 calls. qps=79.18942166588208
00:36:18 I periodic.go:533> T003 ended after 30.005244728s : 2582 calls. qps=86.05162275482307
00:36:18 I periodic.go:533> T012 ended after 30.005274343s : 2342 calls. qps=78.05294406669441
00:36:18 I periodic.go:533> T014 ended after 30.005287112s : 2662 calls. qps=88.71769798647877
00:36:18 I periodic.go:533> T019 ended after 30.005312122s : 2452 calls. qps=81.7188633142791
00:36:18 I periodic.go:533> T007 ended after 30.005324613s : 2425 calls. qps=80.81898900534985
00:36:18 I periodic.go:533> T029 ended after 30.005336963s : 2557 calls. qps=85.21817312543673
00:36:18 I periodic.go:533> T025 ended after 30.005591248s : 2477 calls. qps=82.5512811771407
00:36:18 I periodic.go:533> T009 ended after 30.005609165s : 2522 calls. qps=84.0509514781584
00:36:18 I periodic.go:533> T011 ended after 30.005805968s : 2634 calls. qps=87.78301115487636
00:36:18 I periodic.go:533> T017 ended after 30.006017591s : 2330 calls. qps=77.65109091647203
00:36:19 I periodic.go:533> T027 ended after 30.013198823s : 2359 calls. qps=78.5987529657195
00:36:19 I periodic.go:533> T020 ended after 30.02341146s : 2448 calls. qps=81.53637048412885
00:36:19 I periodic.go:533> T026 ended after 30.023503483s : 2577 calls. qps=85.83275437722173
00:36:19 I periodic.go:533> T030 ended after 30.023766658s : 2490 calls. qps=82.93429763039161
Ended after 30.023796016s : 79967 calls. qps=2663.5
Aggregated Function Time : count 79967 avg 0.012004708 +/- 0.01446 min 0.000367648 max 0.076935534 sum 959.980512
# range, mid point, percentile, count
>= 0.000367648 <= 0.0004 , 0.000383824 , 0.04, 28
> 0.0004 <= 0.0005 , 0.00045 , 2.42, 1904
> 0.0005 <= 0.0006 , 0.00055 , 12.01, 7673
> 0.0006 <= 0.0007 , 0.00065 , 41.29, 23412
> 0.0007 <= 0.0008 , 0.00075 , 52.25, 8768
> 0.0008 <= 0.0009 , 0.00085 , 54.25, 1598
> 0.0009 <= 0.001 , 0.00095 , 54.95, 555
> 0.001 <= 0.0011 , 0.00105 , 55.22, 216
> 0.0011 <= 0.0012 , 0.00115 , 55.39, 138
> 0.0012 <= 0.0014 , 0.0013 , 55.60, 170
> 0.0014 <= 0.0016 , 0.0015 , 55.81, 164
> 0.0016 <= 0.0018 , 0.0017 , 56.10, 239
> 0.0018 <= 0.002 , 0.0019 , 56.26, 127
> 0.002 <= 0.0025 , 0.00225 , 56.39, 101
> 0.0025 <= 0.003 , 0.00275 , 56.47, 67
> 0.003 <= 0.0035 , 0.00325 , 56.53, 48
> 0.0035 <= 0.004 , 0.00375 , 56.63, 80
> 0.004 <= 0.0045 , 0.00425 , 56.71, 59
> 0.0045 <= 0.005 , 0.00475 , 56.81, 80
> 0.005 <= 0.006 , 0.0055 , 56.94, 106
> 0.006 <= 0.007 , 0.0065 , 57.06, 100
> 0.007 <= 0.008 , 0.0075 , 57.22, 124
> 0.008 <= 0.009 , 0.0085 , 57.44, 180
> 0.009 <= 0.01 , 0.0095 , 57.73, 224
> 0.01 <= 0.012 , 0.011 , 58.60, 701
> 0.012 <= 0.014 , 0.013 , 59.90, 1038
> 0.014 <= 0.016 , 0.015 , 61.93, 1624
> 0.016 <= 0.018 , 0.017 , 64.53, 2079
> 0.018 <= 0.02 , 0.019 , 67.53, 2400
> 0.02 <= 0.025 , 0.0225 , 76.29, 7003
> 0.025 <= 0.03 , 0.0275 , 85.31, 7216
> 0.03 <= 0.035 , 0.0325 , 92.37, 5641
> 0.035 <= 0.04 , 0.0375 , 96.26, 3115
> 0.04 <= 0.045 , 0.0425 , 98.02, 1409
> 0.045 <= 0.05 , 0.0475 , 98.96, 750
> 0.05 <= 0.06 , 0.055 , 99.80, 669
> 0.06 <= 0.07 , 0.065 , 99.98, 143
> 0.07 <= 0.0769355 , 0.0734678 , 100.00, 18
# target 50% 0.000779454
# target 75% 0.0242641
# target 90% 0.0333224
# target 99% 0.0504534
# target 99.9% 0.0656666
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 79967 (100.0 %)
Response Header Sizes : count 79967 avg 209.41982 +/- 0.4935 min 209 max 210 sum 16746675
Response Body/Total Sizes : count 79967 avg 209.41982 +/- 0.4935 min 209 max 210 sum 16746675
All done 79967 calls (plus 32 warmup) 12.005 ms avg, 2663.5 qps
Successfully wrote 6666 bytes of Json data to /data/2018-12-22-003548_http_istio_0qps_30s_echo_0_1.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8079
00:36:19 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
00:36:49 I periodic.go:533> T023 ended after 30.000003571s : 16502 calls. qps=550.0666011904055
00:36:49 I periodic.go:533> T004 ended after 30.000541441s : 16510 calls. qps=550.3234010782465
00:36:49 I periodic.go:533> T014 ended after 30.003521888s : 16515 calls. qps=550.4353809412362
00:36:49 I periodic.go:533> T007 ended after 30.003589431s : 16470 calls. qps=548.9343212710088
00:36:49 I periodic.go:533> T015 ended after 30.003622602s : 16528 calls. qps=550.8668142925603
00:36:49 I periodic.go:533> T026 ended after 30.003681724s : 16502 calls. qps=549.999168495379
00:36:49 I periodic.go:533> T002 ended after 30.003709466s : 16561 calls. qps=551.9650834763219
00:36:49 I periodic.go:533> T005 ended after 30.003749542s : 16557 calls. qps=551.8310295459271
00:36:49 I periodic.go:533> T021 ended after 30.003774724s : 16478 calls. qps=549.1975643591024
00:36:49 I periodic.go:533> T020 ended after 30.00379916s : 16518 calls. qps=550.5302815791812
00:36:49 I periodic.go:533> T013 ended after 30.003860226s : 16488 calls. qps=549.5292897582638
00:36:49 I periodic.go:533> T006 ended after 30.004137908s : 16476 calls. qps=549.1242591445031
00:36:49 I periodic.go:533> T008 ended after 30.004189505s : 16538 calls. qps=551.1896929341834
00:36:49 I periodic.go:533> T003 ended after 30.004235187s : 16579 calls. qps=552.5553274953404
00:36:49 I periodic.go:533> T011 ended after 30.004266344s : 16541 calls. qps=551.2882671536386
00:36:49 I periodic.go:533> T024 ended after 30.005713196s : 16527 calls. qps=550.7951066533283
00:36:49 I periodic.go:533> T027 ended after 30.005774032s : 16566 calls. qps=552.0937397693191
00:36:49 I periodic.go:533> T012 ended after 30.005810154s : 16537 calls. qps=551.1265956535252
00:36:49 I periodic.go:533> T022 ended after 30.005850691s : 16554 calls. qps=551.6924072732667
00:36:49 I periodic.go:533> T009 ended after 30.005879042s : 16493 calls. qps=549.6589510647004
00:36:49 I periodic.go:533> T010 ended after 30.005937557s : 16514 calls. qps=550.357740651483
00:36:49 I periodic.go:533> T029 ended after 30.005963419s : 16509 calls. qps=550.1906327575664
00:36:49 I periodic.go:533> T028 ended after 30.006002925s : 16542 calls. qps=551.2896883115931
00:36:49 I periodic.go:533> T031 ended after 30.006031641s : 16538 calls. qps=551.1558541917489
00:36:49 I periodic.go:533> T030 ended after 30.006392177s : 16467 calls. qps=548.7830693828635
00:36:49 I periodic.go:533> T025 ended after 30.006452366s : 16581 calls. qps=552.5811514722
00:36:49 I periodic.go:533> T001 ended after 30.006481218s : 16501 calls. qps=549.9145294684382
00:36:49 I periodic.go:533> T018 ended after 30.00674991s : 16540 calls. qps=551.2093128915607
00:36:49 I periodic.go:533> T017 ended after 30.006783909s : 16549 calls. qps=551.5086205235218
00:36:49 I periodic.go:533> T019 ended after 30.006837042s : 16529 calls. qps=550.8411292021439
00:36:49 I periodic.go:533> T016 ended after 30.006889077s : 16506 calls. qps=550.0736833346612
00:36:49 I periodic.go:533> T000 ended after 30.006932795s : 16478 calls. qps=549.1397642196106
Ended after 30.006951873s : 528694 calls. qps=17619
Aggregated Function Time : count 528694 avg 0.0018154583 +/- 0.001013 min 0.000265777 max 0.03904828 sum 959.821926
# range, mid point, percentile, count
>= 0.000265777 <= 0.0003 , 0.000282888 , 0.00, 2
> 0.0003 <= 0.0004 , 0.00035 , 0.00, 8
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 63
> 0.0005 <= 0.0006 , 0.00055 , 0.21, 1017
> 0.0006 <= 0.0007 , 0.00065 , 0.83, 3323
> 0.0007 <= 0.0008 , 0.00075 , 1.79, 5053
> 0.0008 <= 0.0009 , 0.00085 , 2.98, 6268
> 0.0009 <= 0.001 , 0.00095 , 4.68, 8985
> 0.001 <= 0.0011 , 0.00105 , 7.86, 16852
> 0.0011 <= 0.0012 , 0.00115 , 14.55, 35358
> 0.0012 <= 0.0014 , 0.0013 , 32.48, 94800
> 0.0014 <= 0.0016 , 0.0015 , 55.11, 119609
> 0.0016 <= 0.0018 , 0.0017 , 70.46, 81155
> 0.0018 <= 0.002 , 0.0019 , 78.66, 43359
> 0.002 <= 0.0025 , 0.00225 , 87.13, 44823
> 0.0025 <= 0.003 , 0.00275 , 90.55, 18036
> 0.003 <= 0.0035 , 0.00325 , 93.15, 13746
> 0.0035 <= 0.004 , 0.00375 , 95.74, 13721
> 0.004 <= 0.0045 , 0.00425 , 97.70, 10330
> 0.0045 <= 0.005 , 0.00475 , 98.72, 5443
> 0.005 <= 0.006 , 0.0055 , 99.51, 4156
> 0.006 <= 0.007 , 0.0065 , 99.73, 1185
> 0.007 <= 0.008 , 0.0075 , 99.83, 511
> 0.008 <= 0.009 , 0.0085 , 99.89, 310
> 0.009 <= 0.01 , 0.0095 , 99.93, 193
> 0.01 <= 0.012 , 0.011 , 99.95, 144
> 0.012 <= 0.014 , 0.013 , 99.96, 43
> 0.014 <= 0.016 , 0.015 , 99.97, 56
> 0.016 <= 0.018 , 0.017 , 99.98, 26
> 0.018 <= 0.02 , 0.019 , 99.98, 29
> 0.02 <= 0.025 , 0.0225 , 99.99, 26
> 0.03 <= 0.035 , 0.0325 , 99.99, 17
> 0.035 <= 0.0390483 , 0.0370241 , 100.00, 47
# target 50% 0.00155487
# target 75% 0.00191083
# target 90% 0.00291998
# target 99% 0.00535035
# target 99.9% 0.00927102
Ping SERVING : 528694
All done 528694 calls (plus 32 warmup) 1.815 ms avg, 17619.1 qps
Successfully wrote 5436 bytes of Json data to /data/2018-12-22-003619_grpc_baseline_0qps_30s_echo_0_1.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8079
00:36:49 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
00:37:19 I periodic.go:533> T023 ended after 30.000862356s : 3226 calls. qps=107.5302423550108
00:37:19 I periodic.go:533> T006 ended after 30.005634346s : 3226 calls. qps=107.51314112544507
00:37:19 I periodic.go:533> T002 ended after 30.006597834s : 3261 calls. qps=108.67609910461134
00:37:19 I periodic.go:533> T024 ended after 30.006620959s : 3238 calls. qps=107.90951785022013
00:37:19 I periodic.go:533> T028 ended after 30.006643094s : 3240 calls. qps=107.97609015611134
00:37:19 I periodic.go:533> T016 ended after 30.006704737s : 3238 calls. qps=107.9092165694342
00:37:19 I periodic.go:533> T012 ended after 30.00671867s : 3212 calls. qps=107.04269384880395
00:37:19 I periodic.go:533> T001 ended after 30.006730017s : 3215 calls. qps=107.1426309424111
00:37:19 I periodic.go:533> T020 ended after 30.006741023s : 3231 calls. qps=107.67580516402819
00:37:19 I periodic.go:533> T014 ended after 30.00675234s : 3214 calls. qps=107.10922540309807
00:37:19 I periodic.go:533> T004 ended after 30.006778358s : 3198 calls. qps=106.5759196754087
00:37:19 I periodic.go:533> T030 ended after 30.006789963s : 3291 calls. qps=109.67517698687469
00:37:19 I periodic.go:533> T008 ended after 30.006801409s : 3244 calls. qps=108.10882358914205
00:37:19 I periodic.go:533> T026 ended after 30.006812832s : 3226 calls. qps=107.5089186599556
00:37:19 I periodic.go:533> T018 ended after 30.006823605s : 3227 calls. qps=107.5422058155562
00:37:19 I periodic.go:533> T010 ended after 30.00683526s : 3244 calls. qps=108.10870163053643
00:37:19 I periodic.go:533> T022 ended after 30.006860359s : 3265 calls. qps=108.80845116542571
00:37:19 I periodic.go:533> T011 ended after 30.006870927s : 3200 calls. qps=106.64224229793514
00:37:19 I periodic.go:533> T009 ended after 30.006893052s : 3212 calls. qps=107.04207178110084
00:37:19 I periodic.go:533> T007 ended after 30.006903449s : 3194 calls. qps=106.44217272963706
00:37:19 I periodic.go:533> T025 ended after 30.006913837s : 3202 calls. qps=106.70874110525078
00:37:19 I periodic.go:533> T013 ended after 30.006938571s : 3228 calls. qps=107.57511941320394
00:37:19 I periodic.go:533> T027 ended after 30.006949863s : 3232 calls. qps=107.70838138351444
00:37:19 I periodic.go:533> T015 ended after 30.006960619s : 3201 calls. qps=106.67524914113328
00:37:19 I periodic.go:533> T003 ended after 30.006970841s : 3206 calls. qps=106.84184075053268
00:37:19 I periodic.go:533> T017 ended after 30.006980753s : 3227 calls. qps=107.54164261185707
00:37:19 I periodic.go:533> T029 ended after 30.00699171s : 3226 calls. qps=107.50827777663955
00:37:19 I periodic.go:533> T019 ended after 30.007016347s : 3211 calls. qps=107.0083064196759
00:37:19 I periodic.go:533> T021 ended after 30.007030185s : 3216 calls. qps=107.17488469110893
00:37:19 I periodic.go:533> T000 ended after 30.007040859s : 3241 calls. qps=108.00798436703991
00:37:19 I periodic.go:533> T005 ended after 30.007051544s : 3229 calls. qps=107.60803990572838
00:37:19 I periodic.go:533> T031 ended after 30.007062074s : 3223 calls. qps=107.40804921360859
Ended after 30.007101185s : 103244 calls. qps=3440.7
Aggregated Function Time : count 103244 avg 0.0092983648 +/- 0.004623 min 0.000707021 max 0.06179341 sum 960.000375
# range, mid point, percentile, count
>= 0.000707021 <= 0.0008 , 0.00075351 , 0.00, 1
> 0.0008 <= 0.0009 , 0.00085 , 0.01, 5
> 0.0009 <= 0.001 , 0.00095 , 0.02, 12
> 0.001 <= 0.0011 , 0.00105 , 0.03, 13
> 0.0011 <= 0.0012 , 0.00115 , 0.05, 24
> 0.0012 <= 0.0014 , 0.0013 , 0.18, 129
> 0.0014 <= 0.0016 , 0.0015 , 0.30, 127
> 0.0016 <= 0.0018 , 0.0017 , 0.35, 50
> 0.0018 <= 0.002 , 0.0019 , 0.43, 88
> 0.002 <= 0.0025 , 0.00225 , 0.84, 419
> 0.0025 <= 0.003 , 0.00275 , 2.23, 1432
> 0.003 <= 0.0035 , 0.00325 , 2.77, 561
> 0.0035 <= 0.004 , 0.00375 , 3.55, 804
> 0.004 <= 0.0045 , 0.00425 , 5.00, 1495
> 0.0045 <= 0.005 , 0.00475 , 8.63, 3749
> 0.005 <= 0.006 , 0.0055 , 19.71, 11438
> 0.006 <= 0.007 , 0.0065 , 26.27, 6772
> 0.007 <= 0.008 , 0.0075 , 37.62, 11722
> 0.008 <= 0.009 , 0.0085 , 54.48, 17406
> 0.009 <= 0.01 , 0.0095 , 69.05, 15041
> 0.01 <= 0.012 , 0.011 , 86.94, 18474
> 0.012 <= 0.014 , 0.013 , 92.89, 6144
> 0.014 <= 0.016 , 0.015 , 94.67, 1838
> 0.016 <= 0.018 , 0.017 , 95.62, 973
> 0.018 <= 0.02 , 0.019 , 96.34, 745
> 0.02 <= 0.025 , 0.0225 , 97.77, 1480
> 0.025 <= 0.03 , 0.0275 , 99.08, 1355
> 0.03 <= 0.035 , 0.0325 , 99.69, 627
> 0.035 <= 0.04 , 0.0375 , 99.87, 189
> 0.04 <= 0.045 , 0.0425 , 99.94, 72
> 0.045 <= 0.05 , 0.0475 , 99.97, 30
> 0.05 <= 0.06 , 0.055 , 99.99, 14
> 0.06 <= 0.0617934 , 0.0608967 , 100.00, 15
# target 50% 0.00873429
# target 75% 0.0106653
# target 90% 0.0130279
# target 99% 0.0296847
# target 99.9% 0.0419275
Ping SERVING : 103244
All done 103244 calls (plus 32 warmup) 9.298 ms avg, 3440.7 qps
Successfully wrote 5417 bytes of Json data to /data/2018-12-22-003649_grpc_istio_0qps_30s_echo_0_1.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8080/echo
00:37:19 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
00:37:19 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
00:37:49 I periodic.go:533> T001 ended after 30.000019726s : 29418 calls. qps=980.5993552232372
00:37:49 I periodic.go:533> T021 ended after 30.000600091s : 29471 calls. qps=982.3470167465458
00:37:49 I periodic.go:533> T018 ended after 30.002890083s : 29480 calls. qps=982.5720095113012
00:37:49 I periodic.go:533> T007 ended after 30.002916701s : 29308 calls. qps=976.8383618191082
00:37:49 I periodic.go:533> T014 ended after 30.002927822s : 29209 calls. qps=973.538321769456
00:37:49 I periodic.go:533> T015 ended after 30.002937062s : 29277 calls. qps=975.8044667260449
00:37:49 I periodic.go:533> T002 ended after 30.002960894s : 29341 calls. qps=977.9368144251263
00:37:49 I periodic.go:533> T009 ended after 30.002970485s : 29222 calls. qps=973.9702278682557
00:37:49 I periodic.go:533> T003 ended after 30.002979542s : 29330 calls. qps=977.5695763463118
00:37:49 I periodic.go:533> T031 ended after 30.002989822s : 29428 calls. qps=980.8355825398979
00:37:49 I periodic.go:533> T011 ended after 30.003009411s : 29722 calls. qps=990.6339591755427
00:37:49 I periodic.go:533> T005 ended after 30.003018614s : 29256 calls. qps=975.1018847933046
00:37:49 I periodic.go:533> T024 ended after 30.003044111s : 29539 calls. qps=984.5334323649556
00:37:49 I periodic.go:533> T028 ended after 30.003053997s : 29334 calls. qps=977.7004701899048
00:37:49 I periodic.go:533> T016 ended after 30.003062225s : 29458 calls. qps=981.8331135364633
00:37:49 I periodic.go:533> T006 ended after 30.003071443s : 29603 calls. qps=986.6656504231556
00:37:49 I periodic.go:533> T017 ended after 30.003081277s : 29088 calls. qps=969.5004233548009
00:37:49 I periodic.go:533> T013 ended after 30.003090386s : 29406 calls. qps=980.099037188562
00:37:49 I periodic.go:533> T008 ended after 30.003099561s : 29662 calls. qps=988.6311892440812
00:37:49 I periodic.go:533> T029 ended after 30.003121798s : 29291 calls. qps=976.2650765878814
00:37:49 I periodic.go:533> T026 ended after 30.003131019s : 29576 calls. qps=985.7637851619714
00:37:49 I periodic.go:533> T027 ended after 30.003140776s : 29246 calls. qps=974.7646160896046
00:37:49 I periodic.go:533> T012 ended after 30.003149527s : 29262 calls. qps=975.2976091282338
00:37:49 I periodic.go:533> T030 ended after 30.003158205s : 29378 calls. qps=979.1635866888234
00:37:49 I periodic.go:533> T010 ended after 30.003167071s : 29368 calls. qps=978.8299991965205
00:37:49 I periodic.go:533> T004 ended after 30.003177413s : 29160 calls. qps=971.8970627212749
00:37:49 I periodic.go:533> T022 ended after 30.003203509s : 29227 calls. qps=974.1293122660331
00:37:49 I periodic.go:533> T023 ended after 30.003212913s : 29604 calls. qps=986.6943278988956
00:37:49 I periodic.go:533> T020 ended after 30.003221124s : 29287 calls. qps=976.1285256326333
00:37:49 I periodic.go:533> T000 ended after 30.003229862s : 29418 calls. qps=980.4944379424559
00:37:49 I periodic.go:533> T025 ended after 30.003238469s : 29186 calls. qps=972.7616580508671
00:37:49 I periodic.go:533> T019 ended after 30.003246929s : 29389 calls. qps=979.5273181448141
Ended after 30.00326281s : 939944 calls. qps=31328
Aggregated Function Time : count 939944 avg 0.001020982 +/- 0.0006714 min 7.3542e-05 max 0.015800149 sum 959.665907
# range, mid point, percentile, count
>= 7.3542e-05 <= 0.0001 , 8.6771e-05 , 0.52, 4882
> 0.0001 <= 0.0002 , 0.00015 , 4.99, 42042
> 0.0002 <= 0.0003 , 0.00025 , 10.25, 49448
> 0.0003 <= 0.0004 , 0.00035 , 15.92, 53243
> 0.0004 <= 0.0005 , 0.00045 , 21.95, 56657
> 0.0005 <= 0.0006 , 0.00055 , 28.12, 58020
> 0.0006 <= 0.0007 , 0.00065 , 34.14, 56559
> 0.0007 <= 0.0008 , 0.00075 , 40.28, 57743
> 0.0008 <= 0.0009 , 0.00085 , 46.44, 57958
> 0.0009 <= 0.001 , 0.00095 , 52.71, 58894
> 0.001 <= 0.0011 , 0.00105 , 58.84, 57616
> 0.0011 <= 0.0012 , 0.00115 , 64.81, 56151
> 0.0012 <= 0.0014 , 0.0013 , 76.41, 108985
> 0.0014 <= 0.0016 , 0.0015 , 86.78, 97466
> 0.0016 <= 0.0018 , 0.0017 , 93.31, 61358
> 0.0018 <= 0.002 , 0.0019 , 95.29, 18623
> 0.002 <= 0.0025 , 0.00225 , 97.71, 22771
> 0.0025 <= 0.003 , 0.00275 , 98.75, 9797
> 0.003 <= 0.0035 , 0.00325 , 99.14, 3604
> 0.0035 <= 0.004 , 0.00375 , 99.36, 2124
> 0.004 <= 0.0045 , 0.00425 , 99.55, 1781
> 0.0045 <= 0.005 , 0.00475 , 99.72, 1599
> 0.005 <= 0.006 , 0.0055 , 99.90, 1728
> 0.006 <= 0.007 , 0.0065 , 99.96, 563
> 0.007 <= 0.008 , 0.0075 , 99.98, 103
> 0.008 <= 0.009 , 0.0085 , 99.98, 72
> 0.009 <= 0.01 , 0.0095 , 99.99, 24
> 0.01 <= 0.012 , 0.011 , 99.99, 14
> 0.012 <= 0.014 , 0.013 , 99.99, 59
> 0.014 <= 0.0158001 , 0.0149001 , 100.00, 60
# target 50% 0.000956746
# target 75% 0.0013757
# target 90% 0.00169872
# target 99% 0.00332347
# target 99.9% 0.00597399
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 939944 (100.0 %)
Response Header Sizes : count 939944 avg 75 +/- 0 min 75 max 75 sum 70495800
Response Body/Total Sizes : count 939944 avg 75 +/- 0 min 75 max 75 sum 70495800
All done 939944 calls (plus 32 warmup) 1.021 ms avg, 31328.1 qps
Successfully wrote 5588 bytes of Json data to /data/2018-12-22-003719_http_baseline_0qps_30s_echo_0_2.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8080/echo
00:37:49 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 32 threads at -1.0 qps
00:37:49 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
00:38:19 I periodic.go:533> T017 ended after 30.000124136s : 2330 calls. qps=77.66634529368535
00:38:19 I periodic.go:533> T025 ended after 30.000228624s : 2623 calls. qps=87.43266702646446
00:38:19 I periodic.go:533> T024 ended after 30.000465115s : 2516 calls. qps=83.86536643200306
00:38:19 I periodic.go:533> T008 ended after 30.000709422s : 2506 calls. qps=83.53135803389736
00:38:19 I periodic.go:533> T010 ended after 30.000866144s : 2526 calls. qps=84.19756909269053
00:38:19 I periodic.go:533> T012 ended after 30.001101059s : 2606 calls. qps=86.86347860617032
00:38:19 I periodic.go:533> T006 ended after 30.001270046s : 2432 calls. qps=81.06323486542708
00:38:19 I periodic.go:533> T016 ended after 30.001495392s : 2530 calls. qps=84.32912982979619
00:38:19 I periodic.go:533> T026 ended after 30.001739272s : 2520 calls. qps=83.99513032072323
00:38:19 I periodic.go:533> T030 ended after 30.001913373s : 2595 calls. qps=86.49448345968997
00:38:19 I periodic.go:533> T004 ended after 30.002117934s : 2486 calls. qps=82.86081687528906
00:38:19 I periodic.go:533> T020 ended after 30.002332776s : 2487 calls. qps=82.89355426353531
00:38:19 I periodic.go:533> T018 ended after 30.002651424s : 2589 calls. qps=86.29237341100404
00:38:19 I periodic.go:533> T028 ended after 30.002804631s : 2505 calls. qps=83.4921945067676
00:38:19 I periodic.go:533> T001 ended after 30.002956715s : 2310 calls. qps=76.99241184603362
00:38:19 I periodic.go:533> T022 ended after 30.003175442s : 2425 calls. qps=80.8247781868235
00:38:19 I periodic.go:533> T027 ended after 30.003423787s : 2421 calls. qps=80.69079106395118
00:38:19 I periodic.go:533> T000 ended after 30.003603609s : 2457 calls. qps=81.89016332901387
00:38:19 I periodic.go:533> T021 ended after 30.003809939s : 2589 calls. qps=86.28904146718806
00:38:19 I periodic.go:533> T009 ended after 30.003992251s : 2345 calls. qps=78.15626601896099
00:38:19 I periodic.go:533> T005 ended after 30.004230775s : 2568 calls. qps=85.58792989086386
00:38:19 I periodic.go:533> T003 ended after 30.004445012s : 2462 calls. qps=82.05450889077754
00:38:19 I periodic.go:533> T031 ended after 30.004613908s : 2356 calls. qps=78.52125700480451
00:38:19 I periodic.go:533> T007 ended after 30.004846789s : 2727 calls. qps=90.88531660157447
00:38:19 I periodic.go:533> T019 ended after 30.005028256s : 2388 calls. qps=79.58666059654452
00:38:19 I periodic.go:533> T013 ended after 30.005241307s : 2374 calls. qps=79.11951034521971
00:38:19 I periodic.go:533> T015 ended after 30.005476973s : 2519 calls. qps=83.95134002591215
00:38:19 I periodic.go:533> T011 ended after 30.005671955s : 2471 calls. qps=82.351096942798
00:38:19 I periodic.go:533> T002 ended after 30.00588897s : 2573 calls. qps=85.74983405999052
00:38:19 I periodic.go:533> T014 ended after 30.006062174s : 2339 calls. qps=77.95091493300723
00:38:19 I periodic.go:533> T029 ended after 30.006306298s : 2491 calls. qps=83.01588257019264
00:38:19 I periodic.go:533> T023 ended after 30.006506169s : 2587 calls. qps=86.21463576698088
Ended after 30.006571328s : 79653 calls. qps=2654.5
Aggregated Function Time : count 79653 avg 0.012050988 +/- 0.01435 min 0.000384069 max 0.074501799 sum 959.897332
# range, mid point, percentile, count
>= 0.000384069 <= 0.0004 , 0.000392035 , 0.03, 27
> 0.0004 <= 0.0005 , 0.00045 , 2.38, 1869
> 0.0005 <= 0.0006 , 0.00055 , 12.25, 7861
> 0.0006 <= 0.0007 , 0.00065 , 41.65, 23415
> 0.0007 <= 0.0008 , 0.00075 , 51.93, 8191
> 0.0008 <= 0.0009 , 0.00085 , 53.53, 1277
> 0.0009 <= 0.001 , 0.00095 , 54.06, 424
> 0.001 <= 0.0011 , 0.00105 , 54.32, 203
> 0.0011 <= 0.0012 , 0.00115 , 54.46, 113
> 0.0012 <= 0.0014 , 0.0013 , 54.66, 157
> 0.0014 <= 0.0016 , 0.0015 , 54.85, 154
> 0.0016 <= 0.0018 , 0.0017 , 55.16, 248
> 0.0018 <= 0.002 , 0.0019 , 55.32, 129
> 0.002 <= 0.0025 , 0.00225 , 55.43, 87
> 0.0025 <= 0.003 , 0.00275 , 55.53, 76
> 0.003 <= 0.0035 , 0.00325 , 55.58, 42
> 0.0035 <= 0.004 , 0.00375 , 55.67, 71
> 0.004 <= 0.0045 , 0.00425 , 55.78, 83
> 0.0045 <= 0.005 , 0.00475 , 55.88, 84
> 0.005 <= 0.006 , 0.0055 , 56.05, 133
> 0.006 <= 0.007 , 0.0065 , 56.21, 128
> 0.007 <= 0.008 , 0.0075 , 56.37, 132
> 0.008 <= 0.009 , 0.0085 , 56.60, 182
> 0.009 <= 0.01 , 0.0095 , 56.94, 272
> 0.01 <= 0.012 , 0.011 , 57.92, 778
> 0.012 <= 0.014 , 0.013 , 59.42, 1192
> 0.014 <= 0.016 , 0.015 , 61.63, 1763
> 0.016 <= 0.018 , 0.017 , 64.35, 2166
> 0.018 <= 0.02 , 0.019 , 67.50, 2511
> 0.02 <= 0.025 , 0.0225 , 76.73, 7351
> 0.025 <= 0.03 , 0.0275 , 86.01, 7392
> 0.03 <= 0.035 , 0.0325 , 93.00, 5568
> 0.035 <= 0.04 , 0.0375 , 96.40, 2704
> 0.04 <= 0.045 , 0.0425 , 98.01, 1287
> 0.045 <= 0.05 , 0.0475 , 98.90, 703
> 0.05 <= 0.06 , 0.055 , 99.73, 661
> 0.06 <= 0.07 , 0.065 , 99.96, 191
> 0.07 <= 0.0745018 , 0.0722509 , 100.00, 28
# target 50% 0.000781242
# target 75% 0.0240619
# target 90% 0.0328526
# target 99% 0.0512628
# target 99.9% 0.0672957
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 79653 (100.0 %)
Response Header Sizes : count 79653 avg 209.42705 +/- 0.4947 min 209 max 210 sum 16681493
Response Body/Total Sizes : count 79653 avg 209.42705 +/- 0.4947 min 209 max 210 sum 16681493
All done 79653 calls (plus 32 warmup) 12.051 ms avg, 2654.5 qps
Successfully wrote 6661 bytes of Json data to /data/2018-12-22-003749_http_istio_0qps_30s_echo_0_2.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8079
00:38:19 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
00:38:49 I periodic.go:533> T025 ended after 30.000003449s : 16018 calls. qps=533.9332719488048
00:38:49 I periodic.go:533> T022 ended after 30.000418149s : 15985 calls. qps=532.8259066459987
00:38:49 I periodic.go:533> T011 ended after 30.002858162s : 15953 calls. qps=531.7160089836111
00:38:49 I periodic.go:533> T019 ended after 30.002909599s : 15956 calls. qps=531.8150877117537
00:38:49 I periodic.go:533> T023 ended after 30.002933303s : 15948 calls. qps=531.5480269525965
00:38:49 I periodic.go:533> T002 ended after 30.002956046s : 15989 calls. qps=532.9141560413564
00:38:49 I periodic.go:533> T029 ended after 30.002978121s : 15947 calls. qps=531.5139029094651
00:38:49 I periodic.go:533> T008 ended after 30.003001202s : 15940 calls. qps=531.2801840283045
00:38:49 I periodic.go:533> T014 ended after 30.003023201s : 15926 calls. qps=530.8131748359674
00:38:49 I periodic.go:533> T026 ended after 30.003050515s : 15983 calls. qps=532.712498417763
00:38:49 I periodic.go:533> T015 ended after 30.003073175s : 15983 calls. qps=532.7120960834706
00:38:49 I periodic.go:533> T001 ended after 30.003094856s : 15899 calls. qps=529.9119999555821
00:38:49 I periodic.go:533> T013 ended after 30.003114809s : 15911 calls. qps=530.3116060212253
00:38:49 I periodic.go:533> T003 ended after 30.003134709s : 15962 calls. qps=532.0110766696621
00:38:49 I periodic.go:533> T031 ended after 30.003156245s : 15967 calls. qps=532.1773439306369
00:38:49 I periodic.go:533> T028 ended after 30.003178323s : 15997 calls. qps=533.1768463922015
00:38:49 I periodic.go:533> T006 ended after 30.003426711s : 15914 calls. qps=530.40608172151
00:38:49 I periodic.go:533> T024 ended after 30.003453574s : 15939 calls. qps=531.2388442446576
00:38:49 I periodic.go:533> T016 ended after 30.003473888s : 15933 calls. qps=531.0385077233494
00:38:49 I periodic.go:533> T012 ended after 30.003496123s : 15977 calls. qps=532.5046099461854
00:38:49 I periodic.go:533> T000 ended after 30.003516109s : 15957 calls. qps=531.83766669312
00:38:49 I periodic.go:533> T005 ended after 30.003554244s : 15989 calls. qps=532.9035310274089
00:38:49 I periodic.go:533> T009 ended after 30.003580044s : 15977 calls. qps=532.5031205132808
00:38:49 I periodic.go:533> T007 ended after 30.003601143s : 15970 calls. qps=532.2694407209812
00:38:49 I periodic.go:533> T027 ended after 30.003620077s : 15936 calls. qps=531.1359082371572
00:38:49 I periodic.go:533> T020 ended after 30.003640134s : 15967 calls. qps=532.168761146627
00:38:49 I periodic.go:533> T017 ended after 30.003738535s : 16007 calls. qps=533.5001830297746
00:38:49 I periodic.go:533> T018 ended after 30.005810282s : 15974 calls. qps=532.3635605862157
00:38:49 I periodic.go:533> T030 ended after 30.005871218s : 15944 calls. qps=531.3626751299083
00:38:49 I periodic.go:533> T010 ended after 30.005907575s : 16018 calls. qps=533.8282123266189
00:38:49 I periodic.go:533> T004 ended after 30.005929454s : 15886 calls. qps=529.4286925640387
00:38:49 I periodic.go:533> T021 ended after 30.005952551s : 15951 calls. qps=531.5945218832389
Ended after 30.005967764s : 510703 calls. qps=17020
Aggregated Function Time : count 510703 avg 0.0018793468 +/- 0.0009811 min 0.000218896 max 0.018919964 sum 959.788058
# range, mid point, percentile, count
>= 0.000218896 <= 0.0003 , 0.000259448 , 0.00, 1
> 0.0003 <= 0.0004 , 0.00035 , 0.00, 4
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 39
> 0.0005 <= 0.0006 , 0.00055 , 0.16, 792
> 0.0006 <= 0.0007 , 0.00065 , 0.65, 2506
> 0.0007 <= 0.0008 , 0.00075 , 1.47, 4164
> 0.0008 <= 0.0009 , 0.00085 , 2.61, 5822
> 0.0009 <= 0.001 , 0.00095 , 4.21, 8161
> 0.001 <= 0.0011 , 0.00105 , 7.03, 14418
> 0.0011 <= 0.0012 , 0.00115 , 12.74, 29173
> 0.0012 <= 0.0014 , 0.0013 , 28.66, 81307
> 0.0014 <= 0.0016 , 0.0015 , 49.55, 106688
> 0.0016 <= 0.0018 , 0.0017 , 65.82, 83048
> 0.0018 <= 0.002 , 0.0019 , 75.61, 50022
> 0.002 <= 0.0025 , 0.00225 , 85.78, 51938
> 0.0025 <= 0.003 , 0.00275 , 89.82, 20639
> 0.003 <= 0.0035 , 0.00325 , 92.49, 13632
> 0.0035 <= 0.004 , 0.00375 , 95.09, 13290
> 0.004 <= 0.0045 , 0.00425 , 97.14, 10469
> 0.0045 <= 0.005 , 0.00475 , 98.31, 5957
> 0.005 <= 0.006 , 0.0055 , 99.32, 5138
> 0.006 <= 0.007 , 0.0065 , 99.66, 1762
> 0.007 <= 0.008 , 0.0075 , 99.80, 730
> 0.008 <= 0.009 , 0.0085 , 99.89, 430
> 0.009 <= 0.01 , 0.0095 , 99.94, 264
> 0.01 <= 0.012 , 0.011 , 99.97, 157
> 0.012 <= 0.014 , 0.013 , 99.98, 39
> 0.014 <= 0.016 , 0.015 , 99.99, 50
> 0.016 <= 0.018 , 0.017 , 100.00, 45
> 0.018 <= 0.01892 , 0.01846 , 100.00, 18
# target 50% 0.00160548
# target 75% 0.00198753
# target 90% 0.0030334
# target 99% 0.00568625
# target 99.9% 0.00923597
Ping SERVING : 510703
All done 510703 calls (plus 32 warmup) 1.879 ms avg, 17020.0 qps
Successfully wrote 5060 bytes of Json data to /data/2018-12-22-003819_grpc_baseline_0qps_30s_echo_0_2.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8079
00:38:50 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
00:39:20 I periodic.go:533> T024 ended after 30.001624726s : 3251 calls. qps=108.36079811313083
00:39:20 I periodic.go:533> T018 ended after 30.004868157s : 3254 calls. qps=108.44906843027925
00:39:20 I periodic.go:533> T002 ended after 30.006565369s : 3252 calls. qps=108.37628232385651
00:39:20 I periodic.go:533> T020 ended after 30.006580639s : 3274 calls. qps=109.1093996809731
00:39:20 I periodic.go:533> T006 ended after 30.006592433s : 3284 calls. qps=109.4426168960256
00:39:20 I periodic.go:533> T004 ended after 30.006605909s : 3272 calls. qps=109.0426558046212
00:39:20 I periodic.go:533> T001 ended after 30.006617984s : 3277 calls. qps=109.20924183282995
00:39:20 I periodic.go:533> T008 ended after 30.006644664s : 3245 calls. qps=108.142714266655
00:39:20 I periodic.go:533> T030 ended after 30.006656277s : 3242 calls. qps=108.04269459656463
00:39:20 I periodic.go:533> T028 ended after 30.006668426s : 3276 calls. qps=109.17573232360014
00:39:20 I periodic.go:533> T013 ended after 30.007562457s : 3199 calls. qps=106.60645977440113
00:39:20 I periodic.go:533> T031 ended after 30.007585328s : 3204 calls. qps=106.77300305834191
00:39:20 I periodic.go:533> T027 ended after 30.007596226s : 3262 calls. qps=108.70580820377904
00:39:20 I periodic.go:533> T015 ended after 30.007643543s : 3180 calls. qps=105.972999694
00:39:20 I periodic.go:533> T019 ended after 30.007655908s : 3229 calls. qps=107.60587264462576
00:39:20 I periodic.go:533> T007 ended after 30.007666332s : 3243 calls. qps=108.07238270780437
00:39:20 I periodic.go:533> T029 ended after 30.007677146s : 3246 calls. qps=108.1723181773398
00:39:20 I periodic.go:533> T017 ended after 30.007690443s : 3262 calls. qps=108.70546689343558
00:39:20 I periodic.go:533> T025 ended after 30.007715402s : 3231 calls. qps=107.67230882843735
00:39:20 I periodic.go:533> T023 ended after 30.007732948s : 3215 calls. qps=107.13904997659205
00:39:20 I periodic.go:533> T005 ended after 30.007743812s : 3202 calls. qps=106.70578968084666
00:39:20 I periodic.go:533> T003 ended after 30.007759583s : 3239 calls. qps=107.93874801086312
00:39:20 I periodic.go:533> T000 ended after 30.007770272s : 3229 calls. qps=107.60546254291187
00:39:20 I periodic.go:533> T009 ended after 30.007804298s : 3244 calls. qps=108.10521049073259
00:39:20 I periodic.go:533> T011 ended after 30.007816323s : 3216 calls. qps=107.17207694766654
00:39:20 I periodic.go:533> T021 ended after 30.007827257s : 3209 calls. qps=106.9387654266581
00:39:20 I periodic.go:533> T014 ended after 30.007837777s : 3280 calls. qps=109.30477645123801
00:39:20 I periodic.go:533> T010 ended after 30.007848728s : 3243 calls. qps=108.07172581398652
00:39:20 I periodic.go:533> T022 ended after 30.00785989s : 3283 calls. qps=109.40466971101951
00:39:20 I periodic.go:533> T012 ended after 30.007884769s : 3273 calls. qps=109.07133325775801
00:39:20 I periodic.go:533> T016 ended after 30.007895936s : 3236 calls. qps=107.8382838604096
00:39:20 I periodic.go:533> T026 ended after 30.007906561s : 3250 calls. qps=108.30478938587095
Ended after 30.007929235s : 103802 calls. qps=3459.2
Aggregated Function Time : count 103802 avg 0.009248518 +/- 0.004774 min 0.000696653 max 0.087832347 sum 960.014666
# range, mid point, percentile, count
>= 0.000696653 <= 0.0007 , 0.000698326 , 0.00, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.00, 2
> 0.0008 <= 0.0009 , 0.00085 , 0.01, 4
> 0.0009 <= 0.001 , 0.00095 , 0.02, 17
> 0.001 <= 0.0011 , 0.00105 , 0.05, 25
> 0.0011 <= 0.0012 , 0.00115 , 0.08, 32
> 0.0012 <= 0.0014 , 0.0013 , 0.20, 127
> 0.0014 <= 0.0016 , 0.0015 , 0.34, 140
> 0.0016 <= 0.0018 , 0.0017 , 0.39, 56
> 0.0018 <= 0.002 , 0.0019 , 0.51, 127
> 0.002 <= 0.0025 , 0.00225 , 0.91, 417
> 0.0025 <= 0.003 , 0.00275 , 2.38, 1519
> 0.003 <= 0.0035 , 0.00325 , 2.96, 601
> 0.0035 <= 0.004 , 0.00375 , 3.79, 866
> 0.004 <= 0.0045 , 0.00425 , 5.41, 1682
> 0.0045 <= 0.005 , 0.00475 , 9.51, 4254
> 0.005 <= 0.006 , 0.0055 , 21.18, 12114
> 0.006 <= 0.007 , 0.0065 , 27.12, 6164
> 0.007 <= 0.008 , 0.0075 , 38.26, 11569
> 0.008 <= 0.009 , 0.0085 , 55.61, 18006
> 0.009 <= 0.01 , 0.0095 , 69.96, 14893
> 0.01 <= 0.012 , 0.011 , 87.36, 18063
> 0.012 <= 0.014 , 0.013 , 92.99, 5843
> 0.014 <= 0.016 , 0.015 , 94.58, 1656
> 0.016 <= 0.018 , 0.017 , 95.50, 958
> 0.018 <= 0.02 , 0.019 , 96.15, 668
> 0.02 <= 0.025 , 0.0225 , 97.44, 1339
> 0.025 <= 0.03 , 0.0275 , 99.11, 1738
> 0.03 <= 0.035 , 0.0325 , 99.73, 643
> 0.035 <= 0.04 , 0.0375 , 99.86, 135
> 0.04 <= 0.045 , 0.0425 , 99.93, 68
> 0.045 <= 0.05 , 0.0475 , 99.97, 40
> 0.05 <= 0.06 , 0.055 , 99.98, 18
> 0.06 <= 0.07 , 0.065 , 99.98, 1
> 0.07 <= 0.08 , 0.075 , 99.99, 1
> 0.08 <= 0.0878323 , 0.0839162 , 100.00, 15
# target 50% 0.00867666
# target 75% 0.0105797
# target 90% 0.0129388
# target 99% 0.0296633
# target 99.9% 0.0428822
Ping SERVING : 103802
All done 103802 calls (plus 32 warmup) 9.249 ms avg, 3459.2 qps
Successfully wrote 5784 bytes of Json data to /data/2018-12-22-003850_grpc_istio_0qps_30s_echo_0_2.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8080/echo
00:39:20 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
00:39:20 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
00:39:50 I periodic.go:533> T020 ended after 30.000052019s : 30334 calls. qps=1011.1315800648779
00:39:50 I periodic.go:533> T004 ended after 30.000418985s : 30361 calls. qps=1012.019199304526
00:39:50 I periodic.go:533> T031 ended after 30.003344615s : 30213 calls. qps=1006.9877337906915
00:39:50 I periodic.go:533> T024 ended after 30.003433269s : 29836 calls. qps=994.4195296751924
00:39:50 I periodic.go:533> T018 ended after 30.00344621s : 29522 calls. qps=983.9536363046343
00:39:50 I periodic.go:533> T006 ended after 30.003456506s : 30443 calls. qps=1014.6497619003364
00:39:50 I periodic.go:533> T009 ended after 30.00347952s : 30552 calls. qps=1018.2818955926216
00:39:50 I periodic.go:533> T028 ended after 30.003490209s : 30543 calls. qps=1017.9815677190171
00:39:50 I periodic.go:533> T010 ended after 30.003499986s : 29797 calls. qps=993.117470091944
00:39:50 I periodic.go:533> T030 ended after 30.003510225s : 30350 calls. qps=1011.5483079280268
00:39:50 I periodic.go:533> T025 ended after 30.003519208s : 30451 calls. qps=1014.9142768519196
00:39:50 I periodic.go:533> T013 ended after 30.003528229s : 29976 calls. qps=999.0825002716383
00:39:50 I periodic.go:533> T027 ended after 30.003537152s : 29972 calls. qps=998.9488855317214
00:39:50 I periodic.go:533> T012 ended after 30.003562955s : 30407 calls. qps=1013.4463045473993
00:39:50 I periodic.go:533> T026 ended after 30.003573198s : 29843 calls. qps=994.6481975016661
00:39:50 I periodic.go:533> T015 ended after 30.003582311s : 30288 calls. qps=1009.479457687815
00:39:50 I periodic.go:533> T003 ended after 30.003592029s : 29672 calls. qps=988.9482556395415
00:39:50 I periodic.go:533> T011 ended after 30.003603078s : 29584 calls. qps=986.014910378958
00:39:50 I periodic.go:533> T019 ended after 30.003612369s : 29997 calls. qps=999.7796142371566
00:39:50 I periodic.go:533> T021 ended after 30.00362221s : 29867 calls. qps=995.4464761273235
00:39:50 I periodic.go:533> T016 ended after 30.003645444s : 29746 calls. qps=991.4128619976902
00:39:50 I periodic.go:533> T008 ended after 30.003655223s : 29851 calls. qps=994.912112478783
00:39:50 I periodic.go:533> T000 ended after 30.00366453s : 30471 calls. qps=1015.5759463825733
00:39:50 I periodic.go:533> T029 ended after 30.003673747s : 30075 calls. qps=1002.3772506527515
00:39:50 I periodic.go:533> T023 ended after 30.003687609s : 30591 calls. qps=1019.5746735752517
00:39:50 I periodic.go:533> T022 ended after 30.00369729s : 30473 calls. qps=1015.6414959617798
00:39:50 I periodic.go:533> T007 ended after 30.003730015s : 30475 calls. qps=1015.7070465826881
00:39:50 I periodic.go:533> T001 ended after 30.003738895s : 29958 calls. qps=998.4755601573502
00:39:50 I periodic.go:533> T017 ended after 30.003748187s : 30434 calls. qps=1014.3399354746758
00:39:50 I periodic.go:533> T005 ended after 30.003762259s : 29880 calls. qps=995.8751086636519
00:39:50 I periodic.go:533> T014 ended after 30.003782595s : 30851 calls. qps=1028.237019859662
00:39:50 I periodic.go:533> T002 ended after 30.003811791s : 30302 calls. qps=1009.9383442036336
Ended after 30.003833326s : 965115 calls. qps=32166
Aggregated Function Time : count 965115 avg 0.00099432149 +/- 0.0006555 min 6.6742e-05 max 0.019699633 sum 959.634583
# range, mid point, percentile, count
>= 6.6742e-05 <= 0.0001 , 8.3371e-05 , 0.59, 5726
> 0.0001 <= 0.0002 , 0.00015 , 5.19, 44406
> 0.0002 <= 0.0003 , 0.00025 , 10.65, 52640
> 0.0003 <= 0.0004 , 0.00035 , 16.48, 56258
> 0.0004 <= 0.0005 , 0.00045 , 22.69, 59923
> 0.0005 <= 0.0006 , 0.00055 , 29.04, 61360
> 0.0006 <= 0.0007 , 0.00065 , 35.35, 60838
> 0.0007 <= 0.0008 , 0.00075 , 41.64, 60760
> 0.0008 <= 0.0009 , 0.00085 , 47.94, 60783
> 0.0009 <= 0.001 , 0.00095 , 54.33, 61655
> 0.001 <= 0.0011 , 0.00105 , 60.55, 60025
> 0.0011 <= 0.0012 , 0.00115 , 66.69, 59269
> 0.0012 <= 0.0014 , 0.0013 , 78.44, 113351
> 0.0014 <= 0.0016 , 0.0015 , 88.81, 100109
> 0.0016 <= 0.0018 , 0.0017 , 94.16, 51672
> 0.0018 <= 0.002 , 0.0019 , 95.83, 16091
> 0.002 <= 0.0025 , 0.00225 , 97.93, 20276
> 0.0025 <= 0.003 , 0.00275 , 98.85, 8832
> 0.003 <= 0.0035 , 0.00325 , 99.16, 3075
> 0.0035 <= 0.004 , 0.00375 , 99.36, 1915
> 0.004 <= 0.0045 , 0.00425 , 99.56, 1896
> 0.0045 <= 0.005 , 0.00475 , 99.74, 1741
> 0.005 <= 0.006 , 0.0055 , 99.92, 1765
> 0.006 <= 0.007 , 0.0065 , 99.97, 462
> 0.007 <= 0.008 , 0.0075 , 99.98, 79
> 0.008 <= 0.009 , 0.0085 , 99.98, 49
> 0.009 <= 0.01 , 0.0095 , 99.99, 49
> 0.01 <= 0.012 , 0.011 , 99.99, 21
> 0.012 <= 0.014 , 0.013 , 100.00, 45
> 0.014 <= 0.016 , 0.015 , 100.00, 11
> 0.016 <= 0.018 , 0.017 , 100.00, 32
> 0.018 <= 0.0196996 , 0.0188498 , 100.00, 1
# target 50% 0.000932217
# target 75% 0.0013415
# target 90% 0.00164451
# target 99% 0.00324225
# target 99.9% 0.00587756
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 965115 (100.0 %)
Response Header Sizes : count 965115 avg 75 +/- 0 min 75 max 75 sum 72383625
Response Body/Total Sizes : count 965115 avg 75 +/- 0 min 75 max 75 sum 72383625
All done 965115 calls (plus 32 warmup) 0.994 ms avg, 32166.4 qps
Successfully wrote 5854 bytes of Json data to /data/2018-12-22-003920_http_baseline_0qps_30s_echo_0_3.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8080/echo
00:39:50 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 32 threads at -1.0 qps
00:39:50 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
00:40:20 I periodic.go:533> T031 ended after 30.000040526s : 2451 calls. qps=81.69988963434243
00:40:20 I periodic.go:533> T019 ended after 30.000420066s : 2479 calls. qps=82.63217630107432
00:40:20 I periodic.go:533> T026 ended after 30.003083083s : 2513 calls. qps=83.75805889841658
00:40:20 I periodic.go:533> T002 ended after 30.003116915s : 2529 calls. qps=84.29124237874204
00:40:20 I periodic.go:533> T005 ended after 30.003150217s : 2471 calls. qps=82.35801847900336
00:40:20 I periodic.go:533> T004 ended after 30.003161634s : 2570 calls. qps=85.65763939649747
00:40:20 I periodic.go:533> T015 ended after 30.003175631s : 2547 calls. qps=84.89101391548628
00:40:20 I periodic.go:533> T029 ended after 30.0031863s : 2457 calls. qps=81.89130232478009
00:40:20 I periodic.go:533> T003 ended after 30.003198511s : 2487 calls. qps=82.8911623901764
00:40:20 I periodic.go:533> T013 ended after 30.003223944s : 2630 calls. qps=87.65724659819244
00:40:20 I periodic.go:533> T021 ended after 30.003252714s : 2553 calls. qps=85.09077413492335
00:40:20 I periodic.go:533> T025 ended after 30.003264463s : 2638 calls. qps=87.92376587064982
00:40:20 I periodic.go:533> T027 ended after 30.003276187s : 2444 calls. qps=81.45777097032327
00:40:20 I periodic.go:533> T016 ended after 30.003288292s : 2406 calls. qps=80.19121026282741
00:40:20 I periodic.go:533> T010 ended after 30.005000068s : 2387 calls. qps=79.55340758508143
00:40:20 I periodic.go:533> T014 ended after 30.005049432s : 2343 calls. qps=78.08685685754014
00:40:20 I periodic.go:533> T020 ended after 30.005077212s : 2454 calls. qps=81.78615847782476
00:40:20 I periodic.go:533> T028 ended after 30.005089383s : 2509 calls. qps=83.61914767104561
00:40:20 I periodic.go:533> T022 ended after 30.005100654s : 2267 calls. qps=75.55382087004547
00:40:20 I periodic.go:533> T000 ended after 30.005111958s : 2405 calls. qps=80.15300870619734
00:40:20 I periodic.go:533> T006 ended after 30.005122422s : 2284 calls. qps=76.12033598387696
00:40:20 I periodic.go:533> T024 ended after 30.005133819s : 2280 calls. qps=75.98699655044521
00:40:20 I periodic.go:533> T023 ended after 30.005441074s : 2570 calls. qps=85.65113219505143
00:40:20 I periodic.go:533> T001 ended after 30.005531507s : 2540 calls. qps=84.65105840259629
00:40:20 I periodic.go:533> T011 ended after 30.005747765s : 2477 calls. qps=82.55085057034572
00:40:20 I periodic.go:533> T007 ended after 30.00596727s : 2635 calls. qps=87.81586596724965
00:40:20 I periodic.go:533> T017 ended after 30.006164439s : 2793 calls. qps=93.08087362108321
00:40:20 I periodic.go:533> T009 ended after 30.006380877s : 2556 calls. qps=85.18188216290966
00:40:20 I periodic.go:533> T018 ended after 30.006765539s : 2529 calls. qps=84.28099312180252
00:40:20 I periodic.go:533> T030 ended after 30.006967332s : 2496 calls. qps=83.18068175247481
00:40:20 I periodic.go:533> T008 ended after 30.007161441s : 2424 calls. qps=80.78071645550554
00:40:20 I periodic.go:533> T012 ended after 30.007357851s : 2260 calls. qps=75.3148614823709
Ended after 30.007378979s : 79384 calls. qps=2645.5
Aggregated Function Time : count 79384 avg 0.012091672 +/- 0.01439 min 0.000385577 max 0.118838894 sum 959.885277
# range, mid point, percentile, count
>= 0.000385577 <= 0.0004 , 0.000392788 , 0.04, 29
> 0.0004 <= 0.0005 , 0.00045 , 2.20, 1719
> 0.0005 <= 0.0006 , 0.00055 , 11.90, 7701
> 0.0006 <= 0.0007 , 0.00065 , 40.53, 22726
> 0.0007 <= 0.0008 , 0.00075 , 51.65, 8828
> 0.0008 <= 0.0009 , 0.00085 , 53.41, 1393
> 0.0009 <= 0.001 , 0.00095 , 54.02, 489
> 0.001 <= 0.0011 , 0.00105 , 54.23, 168
> 0.0011 <= 0.0012 , 0.00115 , 54.39, 123
> 0.0012 <= 0.0014 , 0.0013 , 54.62, 182
> 0.0014 <= 0.0016 , 0.0015 , 54.82, 161
> 0.0016 <= 0.0018 , 0.0017 , 55.17, 280
> 0.0018 <= 0.002 , 0.0019 , 55.33, 125
> 0.002 <= 0.0025 , 0.00225 , 55.46, 103
> 0.0025 <= 0.003 , 0.00275 , 55.59, 100
> 0.003 <= 0.0035 , 0.00325 , 55.65, 47
> 0.0035 <= 0.004 , 0.00375 , 55.73, 69
> 0.004 <= 0.0045 , 0.00425 , 55.84, 83
> 0.0045 <= 0.005 , 0.00475 , 55.93, 70
> 0.005 <= 0.006 , 0.0055 , 56.08, 121
> 0.006 <= 0.007 , 0.0065 , 56.24, 128
> 0.007 <= 0.008 , 0.0075 , 56.43, 152
> 0.008 <= 0.009 , 0.0085 , 56.67, 186
> 0.009 <= 0.01 , 0.0095 , 56.97, 243
> 0.01 <= 0.012 , 0.011 , 57.89, 730
> 0.012 <= 0.014 , 0.013 , 59.30, 1120
> 0.014 <= 0.016 , 0.015 , 61.45, 1705
> 0.016 <= 0.018 , 0.017 , 64.15, 2141
> 0.018 <= 0.02 , 0.019 , 67.27, 2479
> 0.02 <= 0.025 , 0.0225 , 76.40, 7252
> 0.025 <= 0.03 , 0.0275 , 85.85, 7495
> 0.03 <= 0.035 , 0.0325 , 92.89, 5591
> 0.035 <= 0.04 , 0.0375 , 96.48, 2848
> 0.04 <= 0.045 , 0.0425 , 98.01, 1220
> 0.045 <= 0.05 , 0.0475 , 98.94, 735
> 0.05 <= 0.06 , 0.055 , 99.76, 652
> 0.06 <= 0.07 , 0.065 , 99.94, 142
> 0.07 <= 0.08 , 0.075 , 99.98, 30
> 0.08 <= 0.09 , 0.085 , 99.99, 7
> 0.09 <= 0.1 , 0.095 , 99.99, 6
> 0.1 <= 0.118839 , 0.109419 , 100.00, 5
# target 50% 0.00078515
# target 75% 0.0242312
# target 90% 0.032949
# target 99% 0.0507387
# target 99.9% 0.0677899
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 79384 (100.0 %)
Response Header Sizes : count 79384 avg 209.42656 +/- 0.4947 min 209 max 211 sum 16625118
Response Body/Total Sizes : count 79384 avg 209.42656 +/- 0.4947 min 209 max 211 sum 16625118
All done 79384 calls (plus 32 warmup) 12.092 ms avg, 2645.5 qps
Successfully wrote 7055 bytes of Json data to /data/2018-12-22-003950_http_istio_0qps_30s_echo_0_3.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8079
00:40:20 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
00:40:50 I periodic.go:533> T030 ended after 30.000059522s : 15767 calls. qps=525.5656239094311
00:40:50 I periodic.go:533> T020 ended after 30.000455882s : 15717 calls. qps=523.8920389016507
00:40:50 I periodic.go:533> T017 ended after 30.003126046s : 15758 calls. qps=525.2119387773212
00:40:50 I periodic.go:533> T003 ended after 30.003194792s : 15751 calls. qps=524.9774268772144
00:40:50 I periodic.go:533> T031 ended after 30.003223138s : 15669 calls. qps=522.243891195634
00:40:50 I periodic.go:533> T028 ended after 30.003266464s : 15765 calls. qps=525.4427886682251
00:40:50 I periodic.go:533> T021 ended after 30.003291704s : 15748 calls. qps=524.8757421473357
00:40:50 I periodic.go:533> T029 ended after 30.003317468s : 15796 calls. qps=526.475114521826
00:40:50 I periodic.go:533> T027 ended after 30.003379792s : 15767 calls. qps=525.5074631360051
00:40:50 I periodic.go:533> T011 ended after 30.003403052s : 15765 calls. qps=525.4403966335785
00:40:50 I periodic.go:533> T024 ended after 30.003425391s : 15745 calls. qps=524.7734148622563
00:40:50 I periodic.go:533> T008 ended after 30.003461228s : 15759 calls. qps=525.2394008892979
00:40:50 I periodic.go:533> T026 ended after 30.003660009s : 15722 calls. qps=524.0027381754085
00:40:50 I periodic.go:533> T005 ended after 30.00367559s : 15768 calls. qps=525.5356115520511
00:40:50 I periodic.go:533> T019 ended after 30.005873829s : 15756 calls. qps=525.097188963455
00:40:50 I periodic.go:533> T023 ended after 30.005939039s : 15792 calls. qps=526.2958102885719
00:40:50 I periodic.go:533> T000 ended after 30.005967626s : 15763 calls. qps=525.3288344662963
00:40:50 I periodic.go:533> T025 ended after 30.006010559s : 15757 calls. qps=525.1281228811621
00:40:50 I periodic.go:533> T001 ended after 30.006037472s : 15745 calls. qps=524.7277323669404
00:40:50 I periodic.go:533> T007 ended after 30.006077873s : 15776 calls. qps=525.7601498860178
00:40:50 I periodic.go:533> T010 ended after 30.006105529s : 15739 calls. qps=524.5265829245561
00:40:50 I periodic.go:533> T016 ended after 30.006136791s : 15791 calls. qps=526.2590152803787
00:40:50 I periodic.go:533> T013 ended after 30.006179463s : 15754 calls. qps=525.0251875426504
00:40:50 I periodic.go:533> T006 ended after 30.006207513s : 15689 calls. qps=522.8584783066251
00:40:50 I periodic.go:533> T022 ended after 30.006249863s : 15750 calls. qps=524.8906501782135
00:40:50 I periodic.go:533> T015 ended after 30.006277055s : 15754 calls. qps=525.0234799580004
00:40:50 I periodic.go:533> T009 ended after 30.006304603s : 15785 calls. qps=526.0561141681483
00:40:50 I periodic.go:533> T014 ended after 30.006345474s : 15758 calls. qps=525.1555879623544
00:40:50 I periodic.go:533> T012 ended after 30.006402767s : 15726 calls. qps=524.0881461904161
00:40:50 I periodic.go:533> T002 ended after 30.006430945s : 15773 calls. qps=525.6539849377945
00:40:50 I periodic.go:533> T004 ended after 30.006471923s : 15718 calls. qps=523.8203291721254
00:40:50 I periodic.go:533> T018 ended after 30.00650253s : 15733 calls. qps=524.3196865169612
Ended after 30.006533591s : 504056 calls. qps=16798
Aggregated Function Time : count 504056 avg 0.0019042287 +/- 0.0009863 min 0.000314181 max 0.018507753 sum 959.837907
# range, mid point, percentile, count
>= 0.000314181 <= 0.0004 , 0.000357091 , 0.00, 3
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 32
> 0.0005 <= 0.0006 , 0.00055 , 0.13, 633
> 0.0006 <= 0.0007 , 0.00065 , 0.59, 2321
> 0.0007 <= 0.0008 , 0.00075 , 1.39, 4024
> 0.0008 <= 0.0009 , 0.00085 , 2.49, 5548
> 0.0009 <= 0.001 , 0.00095 , 3.95, 7356
> 0.001 <= 0.0011 , 0.00105 , 6.45, 12570
> 0.0011 <= 0.0012 , 0.00115 , 11.48, 25385
> 0.0012 <= 0.0014 , 0.0013 , 26.39, 75137
> 0.0014 <= 0.0016 , 0.0015 , 47.31, 105479
> 0.0016 <= 0.0018 , 0.0017 , 64.01, 84168
> 0.0018 <= 0.002 , 0.0019 , 74.23, 51486
> 0.002 <= 0.0025 , 0.00225 , 85.37, 56190
> 0.0025 <= 0.003 , 0.00275 , 89.65, 21537
> 0.003 <= 0.0035 , 0.00325 , 92.41, 13932
> 0.0035 <= 0.004 , 0.00375 , 95.07, 13428
> 0.004 <= 0.0045 , 0.00425 , 97.12, 10310
> 0.0045 <= 0.005 , 0.00475 , 98.30, 5923
> 0.005 <= 0.006 , 0.0055 , 99.32, 5158
> 0.006 <= 0.007 , 0.0065 , 99.68, 1802
> 0.007 <= 0.008 , 0.0075 , 99.79, 593
> 0.008 <= 0.009 , 0.0085 , 99.87, 404
> 0.009 <= 0.01 , 0.0095 , 99.91, 164
> 0.01 <= 0.012 , 0.011 , 99.96, 282
> 0.012 <= 0.014 , 0.013 , 99.98, 89
> 0.014 <= 0.016 , 0.015 , 99.99, 31
> 0.016 <= 0.018 , 0.017 , 100.00, 70
> 0.018 <= 0.0185078 , 0.0182539 , 100.00, 1
# target 50% 0.00163217
# target 75% 0.0020347
# target 90% 0.00306393
# target 99% 0.00568892
# target 99.9% 0.00981063
Ping SERVING : 504056
All done 504056 calls (plus 32 warmup) 1.904 ms avg, 16798.2 qps
Successfully wrote 4895 bytes of Json data to /data/2018-12-22-004020_grpc_baseline_0qps_30s_echo_0_3.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8079
00:40:50 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
00:41:20 I periodic.go:533> T009 ended after 30.000006114s : 3153 calls. qps=105.09997858062437
00:41:20 I periodic.go:533> T017 ended after 30.000446956s : 3157 calls. qps=105.23176553436679
00:41:20 I periodic.go:533> T026 ended after 30.00291232s : 3139 calls. qps=104.62317679432527
00:41:20 I periodic.go:533> T000 ended after 30.002937654s : 3140 calls. qps=104.65641852178346
00:41:20 I periodic.go:533> T007 ended after 30.002969755s : 3135 calls. qps=104.48965637735084
00:41:20 I periodic.go:533> T004 ended after 30.002985571s : 3159 calls. qps=105.28952168858142
00:41:20 I periodic.go:533> T023 ended after 30.002997492s : 3142 calls. qps=104.72286980118514
00:41:20 I periodic.go:533> T015 ended after 30.003066077s : 3114 calls. qps=103.78939245769806
00:41:20 I periodic.go:533> T028 ended after 30.003079246s : 3131 calls. qps=104.35595541139078
00:41:20 I periodic.go:533> T021 ended after 30.003091599s : 3122 calls. qps=104.05594335831897
00:41:20 I periodic.go:533> T025 ended after 30.003102846s : 3149 calls. qps=104.95581127602685
00:41:20 I periodic.go:533> T013 ended after 30.003114198s : 3125 calls. qps=104.1558546015304
00:41:20 I periodic.go:533> T019 ended after 30.00312492s : 3162 calls. qps=105.38902225788553
00:41:20 I periodic.go:533> T024 ended after 30.003340688s : 3170 calls. qps=105.65490133129937
00:41:20 I periodic.go:533> T029 ended after 30.005605069s : 3163 calls. qps=105.41363830945781
00:41:20 I periodic.go:533> T022 ended after 30.005646472s : 3171 calls. qps=105.6801093407217
00:41:20 I periodic.go:533> T006 ended after 30.005660128s : 3129 calls. qps=104.280325333691
00:41:20 I periodic.go:533> T016 ended after 30.005672438s : 3137 calls. qps=104.54689880661424
00:41:20 I periodic.go:533> T010 ended after 30.00574494s : 3146 calls. qps=104.84658875461334
00:41:20 I periodic.go:533> T031 ended after 30.005756761s : 3137 calls. qps=104.54660500605395
00:41:20 I periodic.go:533> T018 ended after 30.005767723s : 3145 calls. qps=104.81318221994022
00:41:20 I periodic.go:533> T014 ended after 30.005777608s : 3158 calls. qps=105.24639758571126
00:41:20 I periodic.go:533> T012 ended after 30.005788292s : 3146 calls. qps=104.84643727353004
00:41:20 I periodic.go:533> T020 ended after 30.005798743s : 3131 calls. qps=104.34649738262426
00:41:20 I periodic.go:533> T008 ended after 30.005825492s : 3146 calls. qps=104.84630728918857
00:41:20 I periodic.go:533> T002 ended after 30.005837768s : 3185 calls. qps=106.14601147369638
00:41:20 I periodic.go:533> T027 ended after 30.005848689s : 3132 calls. qps=104.37965052953747
00:41:20 I periodic.go:533> T001 ended after 30.005858612s : 3192 calls. qps=106.37922551309528
00:41:20 I periodic.go:533> T005 ended after 30.005869043s : 3144 calls. qps=104.7795014866752
00:41:20 I periodic.go:533> T011 ended after 30.005880806s : 3150 calls. qps=104.97942121299513
00:41:20 I periodic.go:533> T030 ended after 30.005906553s : 3122 calls. qps=104.04618152381273
00:41:20 I periodic.go:533> T003 ended after 30.006434881s : 3121 calls. qps=104.01102338139508
Ended after 30.006483953s : 100653 calls. qps=3354.4
Aggregated Function Time : count 100653 avg 0.0095369671 +/- 0.005158 min 0.000728507 max 0.085980248 sum 959.924348
# range, mid point, percentile, count
>= 0.000728507 <= 0.0008 , 0.000764254 , 0.00, 1
> 0.0008 <= 0.0009 , 0.00085 , 0.00, 2
> 0.0009 <= 0.001 , 0.00095 , 0.02, 13
> 0.001 <= 0.0011 , 0.00105 , 0.04, 27
> 0.0011 <= 0.0012 , 0.00115 , 0.07, 24
> 0.0012 <= 0.0014 , 0.0013 , 0.20, 134
> 0.0014 <= 0.0016 , 0.0015 , 0.34, 143
> 0.0016 <= 0.0018 , 0.0017 , 0.41, 70
> 0.0018 <= 0.002 , 0.0019 , 0.49, 84
> 0.002 <= 0.0025 , 0.00225 , 0.90, 405
> 0.0025 <= 0.003 , 0.00275 , 2.21, 1320
> 0.003 <= 0.0035 , 0.00325 , 2.84, 640
> 0.0035 <= 0.004 , 0.00375 , 3.59, 749
> 0.004 <= 0.0045 , 0.00425 , 4.87, 1285
> 0.0045 <= 0.005 , 0.00475 , 8.13, 3289
> 0.005 <= 0.006 , 0.0055 , 18.68, 10614
> 0.006 <= 0.007 , 0.0065 , 25.26, 6628
> 0.007 <= 0.008 , 0.0075 , 35.55, 10354
> 0.008 <= 0.009 , 0.0085 , 52.32, 16884
> 0.009 <= 0.01 , 0.0095 , 67.07, 14846
> 0.01 <= 0.012 , 0.011 , 85.94, 18991
> 0.012 <= 0.014 , 0.013 , 92.30, 6401
> 0.014 <= 0.016 , 0.015 , 94.46, 2169
> 0.016 <= 0.018 , 0.017 , 95.35, 904
> 0.018 <= 0.02 , 0.019 , 95.96, 610
> 0.02 <= 0.025 , 0.0225 , 97.28, 1328
> 0.025 <= 0.03 , 0.0275 , 98.66, 1385
> 0.03 <= 0.035 , 0.0325 , 99.45, 801
> 0.035 <= 0.04 , 0.0375 , 99.72, 272
> 0.04 <= 0.045 , 0.0425 , 99.79, 67
> 0.045 <= 0.05 , 0.0475 , 99.86, 77
> 0.05 <= 0.06 , 0.055 , 99.95, 85
> 0.06 <= 0.07 , 0.065 , 99.96, 6
> 0.07 <= 0.08 , 0.075 , 99.98, 28
> 0.08 <= 0.0859802 , 0.0829901 , 100.00, 17
# target 50% 0.00886144
# target 75% 0.0108402
# target 90% 0.0132763
# target 99% 0.0321627
# target 99.9% 0.0541585
Ping SERVING : 100653
All done 100653 calls (plus 32 warmup) 9.537 ms avg, 3354.4 qps
Successfully wrote 5646 bytes of Json data to /data/2018-12-22-004050_grpc_istio_0qps_30s_echo_0_3.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8080/echo
00:41:20 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
00:41:20 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
00:41:50 I periodic.go:533> T024 ended after 30.000020982s : 30057 calls. qps=1001.8992992716302
00:41:50 I periodic.go:533> T019 ended after 30.000930035s : 30028 calls. qps=1000.902304194184
00:41:50 I periodic.go:533> T020 ended after 30.003023929s : 29465 calls. qps=982.0676765690953
00:41:50 I periodic.go:533> T018 ended after 30.003051351s : 30083 calls. qps=1002.6646839371334
00:41:50 I periodic.go:533> T004 ended after 30.003063133s : 29933 calls. qps=997.6648006675379
00:41:50 I periodic.go:533> T008 ended after 30.003092505s : 29465 calls. qps=982.0654319247149
00:41:50 I periodic.go:533> T028 ended after 30.003103785s : 29549 calls. qps=984.8647730496793
00:41:50 I periodic.go:533> T009 ended after 30.003113887s : 30072 calls. qps=1002.2959654541006
00:41:50 I periodic.go:533> T026 ended after 30.003123055s : 29974 calls. qps=999.0293325482613
00:41:50 I periodic.go:533> T014 ended after 30.003135075s : 29695 calls. qps=989.7299040840318
00:41:50 I periodic.go:533> T031 ended after 30.003144861s : 29520 calls. qps=983.8968593712981
00:41:50 I periodic.go:533> T012 ended after 30.003154432s : 29194 calls. qps=973.0310213269778
00:41:50 I periodic.go:533> T010 ended after 30.003180944s : 29769 calls. qps=992.1947961305473
00:41:50 I periodic.go:533> T023 ended after 30.003192405s : 29509 calls. qps=983.5286726049311
00:41:50 I periodic.go:533> T005 ended after 30.00320192s : 29445 calls. qps=981.3952550301672
00:41:50 I periodic.go:533> T006 ended after 30.003211797s : 30065 calls. qps=1002.0593862889765
00:41:50 I periodic.go:533> T002 ended after 30.00323316s : 29341 calls. qps=977.9279400833747
00:41:50 I periodic.go:533> T016 ended after 30.003257249s : 30001 calls. qps=999.9247665351376
00:41:50 I periodic.go:533> T013 ended after 30.003266805s : 29962 calls. qps=998.624589606585
00:41:50 I periodic.go:533> T007 ended after 30.003304666s : 30107 calls. qps=1003.4561304214435
00:41:50 I periodic.go:533> T015 ended after 30.00331502s : 29313 calls. qps=976.992041728061
00:41:50 I periodic.go:533> T011 ended after 30.003338266s : 29998 calls. qps=999.8220775984101
00:41:50 I periodic.go:533> T029 ended after 30.003348205s : 30039 calls. qps=1001.1882605486696
00:41:50 I periodic.go:533> T030 ended after 30.0033575s : 29531 calls. qps=984.2565119587033
00:41:50 I periodic.go:533> T001 ended after 30.003366801s : 30134 calls. qps=1004.3539513370762
00:41:50 I periodic.go:533> T003 ended after 30.003379046s : 29516 calls. qps=983.755861456379
00:41:50 I periodic.go:533> T022 ended after 30.003391902s : 29228 calls. qps=974.1565252177934
00:41:50 I periodic.go:533> T017 ended after 30.003401144s : 29546 calls. qps=984.7550235453399
00:41:50 I periodic.go:533> T025 ended after 30.003425651s : 29502 calls. qps=983.287719981292
00:41:50 I periodic.go:533> T000 ended after 30.003436456s : 29456 calls. qps=981.7542081620279
00:41:50 I periodic.go:533> T021 ended after 30.00344591s : 30076 calls. qps=1002.4181919042778
00:41:50 I periodic.go:533> T027 ended after 30.00345706s : 30013 calls. qps=1000.3180613480946
Ended after 30.003474273s : 951586 calls. qps=31716
Aggregated Function Time : count 951586 avg 0.001008485 +/- 0.0006565 min 7.313e-05 max 0.017009679 sum 959.660198
# range, mid point, percentile, count
>= 7.313e-05 <= 0.0001 , 8.6565e-05 , 0.58, 5536
> 0.0001 <= 0.0002 , 0.00015 , 5.16, 43550
> 0.0002 <= 0.0003 , 0.00025 , 10.55, 51269
> 0.0003 <= 0.0004 , 0.00035 , 16.24, 54229
> 0.0004 <= 0.0005 , 0.00045 , 22.27, 57316
> 0.0005 <= 0.0006 , 0.00055 , 28.50, 59257
> 0.0006 <= 0.0007 , 0.00065 , 34.64, 58447
> 0.0007 <= 0.0008 , 0.00075 , 40.74, 58106
> 0.0008 <= 0.0009 , 0.00085 , 46.92, 58753
> 0.0009 <= 0.001 , 0.00095 , 53.20, 59814
> 0.001 <= 0.0011 , 0.00105 , 59.37, 58685
> 0.0011 <= 0.0012 , 0.00115 , 65.43, 57656
> 0.0012 <= 0.0014 , 0.0013 , 77.08, 110894
> 0.0014 <= 0.0016 , 0.0015 , 87.55, 99632
> 0.0016 <= 0.0018 , 0.0017 , 93.87, 60126
> 0.0018 <= 0.002 , 0.0019 , 95.70, 17380
> 0.002 <= 0.0025 , 0.00225 , 97.88, 20804
> 0.0025 <= 0.003 , 0.00275 , 98.83, 9014
> 0.003 <= 0.0035 , 0.00325 , 99.15, 3054
> 0.0035 <= 0.004 , 0.00375 , 99.38, 2163
> 0.004 <= 0.0045 , 0.00425 , 99.59, 2043
> 0.0045 <= 0.005 , 0.00475 , 99.76, 1547
> 0.005 <= 0.006 , 0.0055 , 99.92, 1552
> 0.006 <= 0.007 , 0.0065 , 99.96, 402
> 0.007 <= 0.008 , 0.0075 , 99.98, 159
> 0.008 <= 0.009 , 0.0085 , 99.99, 62
> 0.009 <= 0.01 , 0.0095 , 99.99, 17
> 0.01 <= 0.012 , 0.011 , 99.99, 48
> 0.012 <= 0.014 , 0.013 , 100.00, 37
> 0.014 <= 0.016 , 0.015 , 100.00, 30
> 0.016 <= 0.0170097 , 0.0165048 , 100.00, 4
# target 50% 0.000949035
# target 75% 0.00136425
# target 90% 0.00167745
# target 99% 0.0032623
# target 99.9% 0.00587591
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 951586 (100.0 %)
Response Header Sizes : count 951586 avg 75 +/- 0 min 75 max 75 sum 71368950
Response Body/Total Sizes : count 951586 avg 75 +/- 0 min 75 max 75 sum 71368950
All done 951586 calls (plus 32 warmup) 1.008 ms avg, 31715.9 qps
Successfully wrote 5697 bytes of Json data to /data/2018-12-22-004120_http_baseline_0qps_30s_echo_0_4.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8080/echo
00:41:51 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 32 threads at -1.0 qps
00:41:51 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
00:42:21 I periodic.go:533> T013 ended after 30.000440491s : 2450 calls. qps=81.66546756988416
00:42:21 I periodic.go:533> T004 ended after 30.000802572s : 2611 calls. qps=87.03100504507397
00:42:21 I periodic.go:533> T020 ended after 30.001250201s : 2298 calls. qps=76.59680795313668
00:42:21 I periodic.go:533> T019 ended after 30.002726632s : 2292 calls. qps=76.39305680822429
00:42:21 I periodic.go:533> T009 ended after 30.003912017s : 2488 calls. qps=82.92252018971116
00:42:21 I periodic.go:533> T018 ended after 30.003935671s : 2527 calls. qps=84.22228429327177
00:42:21 I periodic.go:533> T008 ended after 30.003975861s : 2420 calls. qps=80.65597743482999
00:42:21 I periodic.go:533> T016 ended after 30.004003368s : 2525 calls. qps=84.15543649395048
00:42:21 I periodic.go:533> T028 ended after 30.004016486s : 2422 calls. qps=80.72252597015188
00:42:21 I periodic.go:533> T017 ended after 30.004032818s : 2344 calls. qps=78.12283149463126
00:42:21 I periodic.go:533> T024 ended after 30.00405939s : 2350 calls. qps=78.32273524905858
00:42:21 I periodic.go:533> T012 ended after 30.004072231s : 2499 calls. qps=83.28869430656985
00:42:21 I periodic.go:533> T023 ended after 30.004082639s : 2223 calls. qps=74.08991725381043
00:42:21 I periodic.go:533> T021 ended after 30.004094049s : 2334 calls. qps=77.78938421497814
00:42:21 I periodic.go:533> T022 ended after 30.004105193s : 2667 calls. qps=88.88783660917889
00:42:21 I periodic.go:533> T001 ended after 30.005430061s : 2603 calls. qps=86.75096456568666
00:42:21 I periodic.go:533> T007 ended after 30.0055083s : 2304 calls. qps=76.78590134065485
00:42:21 I periodic.go:533> T031 ended after 30.005524568s : 2423 calls. qps=80.75179604038843
00:42:21 I periodic.go:533> T011 ended after 30.00553802s : 2530 calls. qps=84.31776821710861
00:42:21 I periodic.go:533> T005 ended after 30.005549561s : 2270 calls. qps=75.652672029392
00:42:21 I periodic.go:533> T000 ended after 30.005576004s : 2298 calls. qps=76.58576524888764
00:42:21 I periodic.go:533> T030 ended after 30.005848409s : 2282 calls. qps=76.05184059103404
00:42:21 I periodic.go:533> T010 ended after 30.005944252s : 2253 calls. qps=75.08512250367957
00:42:21 I periodic.go:533> T025 ended after 30.006117133s : 2255 calls. qps=75.15134297466318
00:42:21 I periodic.go:533> T003 ended after 30.006364425s : 2250 calls. qps=74.98409231227618
00:42:21 I periodic.go:533> T015 ended after 30.006588321s : 2348 calls. qps=78.24948224309662
00:42:21 I periodic.go:533> T029 ended after 30.006822047s : 2520 calls. qps=83.98090261117613
00:42:21 I periodic.go:533> T027 ended after 30.007048412s : 2486 calls. qps=82.84720195958472
00:42:21 I periodic.go:533> T006 ended after 30.007277075s : 2486 calls. qps=82.84657064306458
00:42:21 I periodic.go:533> T002 ended after 30.007527066s : 2529 calls. qps=84.27885425005518
00:42:21 I periodic.go:533> T026 ended after 30.007756351s : 2508 calls. qps=83.57839122205554
00:42:21 I periodic.go:533> T014 ended after 30.007987964s : 2583 calls. qps=86.07708064595249
Ended after 30.008016091s : 77378 calls. qps=2578.6
Aggregated Function Time : count 77378 avg 0.012405458 +/- 0.01477 min 0.000377491 max 0.106983012 sum 959.909499
# range, mid point, percentile, count
>= 0.000377491 <= 0.0004 , 0.000388745 , 0.02, 17
> 0.0004 <= 0.0005 , 0.00045 , 2.09, 1597
> 0.0005 <= 0.0006 , 0.00055 , 9.61, 5824
> 0.0006 <= 0.0007 , 0.00065 , 37.30, 21427
> 0.0007 <= 0.0008 , 0.00075 , 51.04, 10628
> 0.0008 <= 0.0009 , 0.00085 , 53.34, 1780
> 0.0009 <= 0.001 , 0.00095 , 54.05, 551
> 0.001 <= 0.0011 , 0.00105 , 54.33, 219
> 0.0011 <= 0.0012 , 0.00115 , 54.51, 136
> 0.0012 <= 0.0014 , 0.0013 , 54.74, 176
> 0.0014 <= 0.0016 , 0.0015 , 54.93, 147
> 0.0016 <= 0.0018 , 0.0017 , 55.23, 234
> 0.0018 <= 0.002 , 0.0019 , 55.40, 131
> 0.002 <= 0.0025 , 0.00225 , 55.55, 113
> 0.0025 <= 0.003 , 0.00275 , 55.66, 89
> 0.003 <= 0.0035 , 0.00325 , 55.71, 40
> 0.0035 <= 0.004 , 0.00375 , 55.80, 68
> 0.004 <= 0.0045 , 0.00425 , 55.89, 70
> 0.0045 <= 0.005 , 0.00475 , 55.99, 76
> 0.005 <= 0.006 , 0.0055 , 56.13, 110
> 0.006 <= 0.007 , 0.0065 , 56.27, 106
> 0.007 <= 0.008 , 0.0075 , 56.43, 125
> 0.008 <= 0.009 , 0.0085 , 56.61, 140
> 0.009 <= 0.01 , 0.0095 , 56.88, 211
> 0.01 <= 0.012 , 0.011 , 57.65, 594
> 0.012 <= 0.014 , 0.013 , 58.88, 948
> 0.014 <= 0.016 , 0.015 , 60.73, 1438
> 0.016 <= 0.018 , 0.017 , 63.23, 1931
> 0.018 <= 0.02 , 0.019 , 66.27, 2349
> 0.02 <= 0.025 , 0.0225 , 75.33, 7012
> 0.025 <= 0.03 , 0.0275 , 84.58, 7161
> 0.03 <= 0.035 , 0.0325 , 91.94, 5695
> 0.035 <= 0.04 , 0.0375 , 95.95, 3103
> 0.04 <= 0.045 , 0.0425 , 97.70, 1350
> 0.045 <= 0.05 , 0.0475 , 98.77, 831
> 0.05 <= 0.06 , 0.055 , 99.72, 734
> 0.06 <= 0.07 , 0.065 , 99.90, 136
> 0.07 <= 0.08 , 0.075 , 99.95, 45
> 0.08 <= 0.09 , 0.085 , 99.98, 17
> 0.09 <= 0.1 , 0.095 , 99.99, 14
> 0.1 <= 0.106983 , 0.103492 , 100.00, 5
# target 50% 0.000792435
# target 75% 0.0248192
# target 90% 0.0336806
# target 99% 0.0524144
# target 99.9% 0.0708049
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 77378 (100.0 %)
Response Header Sizes : count 77378 avg 209.42805 +/- 0.4949 min 209 max 211 sum 16205124
Response Body/Total Sizes : count 77378 avg 209.42805 +/- 0.4949 min 209 max 211 sum 16205124
All done 77378 calls (plus 32 warmup) 12.405 ms avg, 2578.6 qps
Successfully wrote 7053 bytes of Json data to /data/2018-12-22-004151_http_istio_0qps_30s_echo_0_4.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8079
00:42:21 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
00:42:51 I periodic.go:533> T000 ended after 30.000004507s : 16078 calls. qps=535.9332528182944
00:42:51 I periodic.go:533> T016 ended after 30.000457489s : 16065 calls. qps=535.4918339458793
00:42:51 I periodic.go:533> T024 ended after 30.003849619s : 16064 calls. qps=535.397964060833
00:42:51 I periodic.go:533> T017 ended after 30.003884324s : 16084 calls. qps=536.0639251343355
00:42:51 I periodic.go:533> T026 ended after 30.003927033s : 16070 calls. qps=535.5965564882662
00:42:51 I periodic.go:533> T007 ended after 30.003952675s : 16121 calls. qps=537.2958748009357
00:42:51 I periodic.go:533> T004 ended after 30.003977225s : 16108 calls. qps=536.8621592799519
00:42:51 I periodic.go:533> T020 ended after 30.004017267s : 16166 calls. qps=538.794517285531
00:42:51 I periodic.go:533> T014 ended after 30.004041219s : 16105 calls. qps=536.761027704546
00:42:51 I periodic.go:533> T012 ended after 30.004079212s : 16094 calls. qps=536.3937312084977
00:42:51 I periodic.go:533> T021 ended after 30.004103107s : 16120 calls. qps=537.2598521779903
00:42:51 I periodic.go:533> T019 ended after 30.004156669s : 16090 calls. qps=536.259031623576
00:42:51 I periodic.go:533> T009 ended after 30.004181873s : 16114 calls. qps=537.0584696562107
00:42:51 I periodic.go:533> T008 ended after 30.004205107s : 16123 calls. qps=537.3580117354448
00:42:51 I periodic.go:533> T018 ended after 30.004244479s : 16031 calls. qps=534.2910737585848
00:42:51 I periodic.go:533> T029 ended after 30.004270481s : 16109 calls. qps=536.8902406809362
00:42:51 I periodic.go:533> T003 ended after 30.00453076s : 16068 calls. qps=535.5191230459355
00:42:51 I periodic.go:533> T025 ended after 30.004578101s : 16080 calls. qps=535.9182170758162
00:42:51 I periodic.go:533> T005 ended after 30.004605236s : 16056 calls. qps=535.117855199633
00:42:51 I periodic.go:533> T030 ended after 30.004679742s : 16075 calls. qps=535.7497609780687
00:42:51 I periodic.go:533> T015 ended after 30.004806521s : 16040 calls. qps=534.5810175037723
00:42:51 I periodic.go:533> T023 ended after 30.004991013s : 16132 calls. qps=537.6438870790073
00:42:51 I periodic.go:533> T031 ended after 30.005046304s : 16079 calls. qps=535.8765268046426
00:42:51 I periodic.go:533> T010 ended after 30.005083097s : 16066 calls. qps=535.4426097758859
00:42:51 I periodic.go:533> T027 ended after 30.00514193s : 16098 calls. qps=536.5080437731493
00:42:51 I periodic.go:533> T002 ended after 30.005177645s : 16064 calls. qps=535.374267403375
00:42:51 I periodic.go:533> T022 ended after 30.006698549s : 16128 calls. qps=537.4799887986171
00:42:51 I periodic.go:533> T013 ended after 30.006786571s : 16069 calls. qps=535.5121902833092
00:42:51 I periodic.go:533> T011 ended after 30.006830736s : 16059 calls. qps=535.1781446460318
00:42:51 I periodic.go:533> T006 ended after 30.006857748s : 16116 calls. qps=537.0772286569777
00:42:51 I periodic.go:533> T028 ended after 30.006902198s : 16103 calls. qps=536.6431994127433
00:42:51 I periodic.go:533> T001 ended after 30.007251463s : 16073 calls. qps=535.6371948899944
Ended after 30.007270836s : 514848 calls. qps=17157
Aggregated Function Time : count 514848 avg 0.001864278 +/- 0.0009895 min 0.000339092 max 0.02187352 sum 959.81982
# range, mid point, percentile, count
>= 0.000339092 <= 0.0004 , 0.000369546 , 0.00, 5
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 47
> 0.0005 <= 0.0006 , 0.00055 , 0.17, 831
> 0.0006 <= 0.0007 , 0.00065 , 0.73, 2893
> 0.0007 <= 0.0008 , 0.00075 , 1.64, 4643
> 0.0008 <= 0.0009 , 0.00085 , 2.79, 5933
> 0.0009 <= 0.001 , 0.00095 , 4.31, 7855
> 0.001 <= 0.0011 , 0.00105 , 7.05, 14088
> 0.0011 <= 0.0012 , 0.00115 , 12.83, 29768
> 0.0012 <= 0.0014 , 0.0013 , 29.99, 88350
> 0.0014 <= 0.0016 , 0.0015 , 52.02, 113393
> 0.0016 <= 0.0018 , 0.0017 , 67.96, 82103
> 0.0018 <= 0.002 , 0.0019 , 76.82, 45608
> 0.002 <= 0.0025 , 0.00225 , 85.81, 46284
> 0.0025 <= 0.003 , 0.00275 , 89.63, 19674
> 0.003 <= 0.0035 , 0.00325 , 92.36, 14048
> 0.0035 <= 0.004 , 0.00375 , 95.19, 14566
> 0.004 <= 0.0045 , 0.00425 , 97.22, 10445
> 0.0045 <= 0.005 , 0.00475 , 98.37, 5918
> 0.005 <= 0.006 , 0.0055 , 99.35, 5050
> 0.006 <= 0.007 , 0.0065 , 99.62, 1401
> 0.007 <= 0.008 , 0.0075 , 99.81, 970
> 0.008 <= 0.009 , 0.0085 , 99.89, 387
> 0.009 <= 0.01 , 0.0095 , 99.92, 174
> 0.01 <= 0.012 , 0.011 , 99.96, 233
> 0.012 <= 0.014 , 0.013 , 99.98, 70
> 0.014 <= 0.016 , 0.015 , 99.99, 73
> 0.016 <= 0.018 , 0.017 , 99.99, 8
> 0.018 <= 0.02 , 0.019 , 100.00, 23
> 0.02 <= 0.0218735 , 0.0209368 , 100.00, 7
# target 50% 0.00158169
# target 75% 0.00195886
# target 90% 0.00306721
# target 99% 0.00564307
# target 99.9% 0.00942041
Ping SERVING : 514848
All done 514848 calls (plus 32 warmup) 1.864 ms avg, 17157.4 qps
Successfully wrote 5014 bytes of Json data to /data/2018-12-22-004221_grpc_baseline_0qps_30s_echo_0_4.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8079
00:42:51 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
00:43:21 I periodic.go:533> T017 ended after 30.000701946s : 3042 calls. qps=101.39762747803275
00:43:21 I periodic.go:533> T015 ended after 30.004086138s : 3075 calls. qps=102.48604092978957
00:43:21 I periodic.go:533> T027 ended after 30.005822093s : 3056 calls. qps=101.84690126230298
00:43:21 I periodic.go:533> T001 ended after 30.005854891s : 3044 calls. qps=101.44686798818793
00:43:21 I periodic.go:533> T002 ended after 30.005868372s : 3059 calls. qps=101.94672462319099
00:43:21 I periodic.go:533> T019 ended after 30.005881631s : 3050 calls. qps=101.64673837974989
00:43:21 I periodic.go:533> T007 ended after 30.00590918s : 3052 calls. qps=101.71329859367387
00:43:21 I periodic.go:533> T004 ended after 30.005921168s : 3038 calls. qps=101.24668337927561
00:43:21 I periodic.go:533> T009 ended after 30.005932886s : 3069 calls. qps=102.27977285891741
00:43:21 I periodic.go:533> T023 ended after 30.005954522s : 3051 calls. qps=101.67981817619047
00:43:21 I periodic.go:533> T011 ended after 30.005981256s : 3063 calls. qps=102.07964784979403
00:43:21 I periodic.go:533> T029 ended after 30.005997672s : 3028 calls. qps=100.91315853248794
00:43:21 I periodic.go:533> T018 ended after 30.006882505s : 3084 calls. qps=102.77642135887052
00:43:21 I periodic.go:533> T012 ended after 30.006903802s : 3091 calls. qps=103.00962806412505
00:43:21 I periodic.go:533> T020 ended after 30.006915676s : 3084 calls. qps=102.77630774517195
00:43:21 I periodic.go:533> T026 ended after 30.006927998s : 3136 calls. qps=104.50919868268483
00:43:21 I periodic.go:533> T000 ended after 30.00696458s : 3086 calls. qps=102.8427914383868
00:43:21 I periodic.go:533> T010 ended after 30.006977237s : 3105 calls. qps=103.4759341294594
00:43:21 I periodic.go:533> T006 ended after 30.007011417s : 3081 calls. qps=102.67600319085786
00:43:21 I periodic.go:533> T024 ended after 30.007022489s : 3102 calls. qps=103.37580148570667
00:43:21 I periodic.go:533> T016 ended after 30.007048092s : 3098 calls. qps=103.24241126623646
00:43:21 I periodic.go:533> T014 ended after 30.007059932s : 3054 calls. qps=101.77604893384327
00:43:21 I periodic.go:533> T008 ended after 30.007071223s : 3092 calls. qps=103.04237881203233
00:43:21 I periodic.go:533> T005 ended after 30.007083106s : 3073 calls. qps=102.40915417018807
00:43:21 I periodic.go:533> T022 ended after 30.007093949s : 3099 calls. qps=103.2755789436676
00:43:21 I periodic.go:533> T030 ended after 30.007119392s : 3085 calls. qps=102.8089354295858
00:43:21 I periodic.go:533> T028 ended after 30.00713148s : 3092 calls. qps=103.04217189373277
00:43:21 I periodic.go:533> T003 ended after 30.007156201s : 3101 calls. qps=103.34201545885438
00:43:21 I periodic.go:533> T025 ended after 30.007167756s : 3111 calls. qps=103.6752293750865
00:43:21 I periodic.go:533> T021 ended after 30.007179853s : 3077 calls. qps=102.54212542043912
00:43:21 I periodic.go:533> T031 ended after 30.007205646s : 3029 calls. qps=100.9424214881458
00:43:21 I periodic.go:533> T013 ended after 30.007217283s : 3057 calls. qps=101.87549119164353
Ended after 30.007231551s : 98364 calls. qps=3278
Aggregated Function Time : count 98364 avg 0.0097594069 +/- 0.005327 min 0.000880962 max 0.0886174 sum 959.974302
# range, mid point, percentile, count
>= 0.000880962 <= 0.0009 , 0.000890481 , 0.00, 1
> 0.0009 <= 0.001 , 0.00095 , 0.01, 6
> 0.001 <= 0.0011 , 0.00105 , 0.03, 22
> 0.0011 <= 0.0012 , 0.00115 , 0.04, 15
> 0.0012 <= 0.0014 , 0.0013 , 0.14, 97
> 0.0014 <= 0.0016 , 0.0015 , 0.27, 128
> 0.0016 <= 0.0018 , 0.0017 , 0.34, 64
> 0.0018 <= 0.002 , 0.0019 , 0.43, 87
> 0.002 <= 0.0025 , 0.00225 , 0.79, 354
> 0.0025 <= 0.003 , 0.00275 , 2.02, 1217
> 0.003 <= 0.0035 , 0.00325 , 2.64, 610
> 0.0035 <= 0.004 , 0.00375 , 3.27, 617
> 0.004 <= 0.0045 , 0.00425 , 4.48, 1192
> 0.0045 <= 0.005 , 0.00475 , 7.20, 2670
> 0.005 <= 0.006 , 0.0055 , 17.42, 10059
> 0.006 <= 0.007 , 0.0065 , 24.19, 6654
> 0.007 <= 0.008 , 0.0075 , 32.99, 8656
> 0.008 <= 0.009 , 0.0085 , 48.50, 15255
> 0.009 <= 0.01 , 0.0095 , 64.49, 15733
> 0.01 <= 0.012 , 0.011 , 84.62, 19796
> 0.012 <= 0.014 , 0.013 , 91.88, 7139
> 0.014 <= 0.016 , 0.015 , 94.29, 2379
> 0.016 <= 0.018 , 0.017 , 95.25, 940
> 0.018 <= 0.02 , 0.019 , 95.89, 626
> 0.02 <= 0.025 , 0.0225 , 97.04, 1138
> 0.025 <= 0.03 , 0.0275 , 98.50, 1429
> 0.03 <= 0.035 , 0.0325 , 99.41, 897
> 0.035 <= 0.04 , 0.0375 , 99.68, 266
> 0.04 <= 0.045 , 0.0425 , 99.80, 122
> 0.045 <= 0.05 , 0.0475 , 99.86, 53
> 0.05 <= 0.06 , 0.055 , 99.92, 62
> 0.06 <= 0.07 , 0.065 , 99.97, 46
> 0.07 <= 0.08 , 0.075 , 99.97, 5
> 0.08 <= 0.0886174 , 0.0843087 , 100.00, 29
# target 50% 0.00909394
# target 75% 0.0110443
# target 90% 0.0134833
# target 99% 0.0327668
# target 99.9% 0.0570381
Ping SERVING : 98364
All done 98364 calls (plus 32 warmup) 9.759 ms avg, 3278.0 qps
Successfully wrote 5526 bytes of Json data to /data/2018-12-22-004251_grpc_istio_0qps_30s_echo_0_4.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8080/echo
00:43:21 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
00:43:21 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
00:43:51 I periodic.go:533> T016 ended after 30.000018831s : 29512 calls. qps=983.7327158443077
00:43:51 I periodic.go:533> T010 ended after 30.002881422s : 29289 calls. qps=976.2062379289831
00:43:51 I periodic.go:533> T001 ended after 30.002974223s : 29773 calls. qps=992.3349524853538
00:43:51 I periodic.go:533> T014 ended after 30.002989746s : 29837 calls. qps=994.4675598196966
00:43:51 I periodic.go:533> T007 ended after 30.002999864s : 29263 calls. qps=975.3358041744382
00:43:51 I periodic.go:533> T027 ended after 30.003025568s : 29348 calls. qps=978.1680162050515
00:43:51 I periodic.go:533> T025 ended after 30.003036578s : 29308 calls. qps=976.8344588657523
00:43:51 I periodic.go:533> T028 ended after 30.003046522s : 29276 calls. qps=975.7675767536844
00:43:51 I periodic.go:533> T021 ended after 30.003057011s : 29896 calls. qps=996.4317965679047
00:43:51 I periodic.go:533> T006 ended after 30.003067846s : 29991 calls. qps=999.5977795983416
00:43:51 I periodic.go:533> T029 ended after 30.003077922s : 29822 calls. qps=993.9646884739375
00:43:51 I periodic.go:533> T030 ended after 30.003106858s : 29341 calls. qps=977.9320567988626
00:43:51 I periodic.go:533> T005 ended after 30.003117151s : 29222 calls. qps=973.9654667523782
00:43:51 I periodic.go:533> T015 ended after 30.003128466s : 29123 calls. qps=970.6654435387504
00:43:51 I periodic.go:533> T026 ended after 30.00313816s : 30137 calls. qps=1004.4615946267403
00:43:51 I periodic.go:533> T008 ended after 30.003148153s : 29161 calls. qps=971.9313403811661
00:43:51 I periodic.go:533> T023 ended after 30.003158486s : 29924 calls. qps=997.361661571833
00:43:51 I periodic.go:533> T017 ended after 30.003192277s : 29556 calls. qps=985.0951767774787
00:43:51 I periodic.go:533> T009 ended after 30.003203417s : 29966 calls. qps=998.7600185059265
00:43:51 I periodic.go:533> T019 ended after 30.003213506s : 29904 calls. qps=996.6932373433879
00:43:51 I periodic.go:533> T003 ended after 30.003223566s : 29667 calls. qps=988.7937519360082
00:43:51 I periodic.go:533> T018 ended after 30.003233644s : 29094 calls. qps=969.6954783344885
00:43:51 I periodic.go:533> T004 ended after 30.003243574s : 29861 calls. qps=995.2590601196445
00:43:51 I periodic.go:533> T024 ended after 30.003253126s : 29769 calls. qps=992.1924091025649
00:43:51 I periodic.go:533> T013 ended after 30.003277833s : 29331 calls. qps=977.5931870930258
00:43:51 I periodic.go:533> T031 ended after 30.003287767s : 29790 calls. qps=992.8911868373775
00:43:51 I periodic.go:533> T022 ended after 30.003297893s : 29159 calls. qps=971.8598303422845
00:43:51 I periodic.go:533> T011 ended after 30.003307138s : 29679 calls. qps=989.1909536335994
00:43:51 I periodic.go:533> T002 ended after 30.003317222s : 29162 calls. qps=971.9591931860421
00:43:51 I periodic.go:533> T012 ended after 30.00332846s : 29668 calls. qps=988.8236246706076
00:43:51 I periodic.go:533> T020 ended after 30.003338076s : 29304 calls. qps=976.691324337694
00:43:51 I periodic.go:533> T000 ended after 30.003362568s : 29253 calls. qps=974.9907175804256
Ended after 30.003377964s : 945386 calls. qps=31509
Aggregated Function Time : count 945386 avg 0.00101511 +/- 0.0006683 min 7.4625e-05 max 0.020204393 sum 959.670818
# range, mid point, percentile, count
>= 7.4625e-05 <= 0.0001 , 8.73125e-05 , 0.40, 3752
> 0.0001 <= 0.0002 , 0.00015 , 4.34, 37277
> 0.0002 <= 0.0003 , 0.00025 , 9.53, 49032
> 0.0003 <= 0.0004 , 0.00035 , 15.09, 52636
> 0.0004 <= 0.0005 , 0.00045 , 21.23, 57984
> 0.0005 <= 0.0006 , 0.00055 , 27.61, 60339
> 0.0006 <= 0.0007 , 0.00065 , 34.05, 60909
> 0.0007 <= 0.0008 , 0.00075 , 40.53, 61229
> 0.0008 <= 0.0009 , 0.00085 , 46.96, 60802
> 0.0009 <= 0.001 , 0.00095 , 53.50, 61802
> 0.001 <= 0.0011 , 0.00105 , 59.97, 61216
> 0.0011 <= 0.0012 , 0.00115 , 66.06, 57579
> 0.0012 <= 0.0014 , 0.0013 , 77.61, 109135
> 0.0014 <= 0.0016 , 0.0015 , 87.60, 94445
> 0.0016 <= 0.0018 , 0.0017 , 93.40, 54859
> 0.0018 <= 0.002 , 0.0019 , 95.37, 18584
> 0.002 <= 0.0025 , 0.00225 , 97.84, 23352
> 0.0025 <= 0.003 , 0.00275 , 98.82, 9341
> 0.003 <= 0.0035 , 0.00325 , 99.15, 3064
> 0.0035 <= 0.004 , 0.00375 , 99.35, 1921
> 0.004 <= 0.0045 , 0.00425 , 99.53, 1711
> 0.0045 <= 0.005 , 0.00475 , 99.71, 1686
> 0.005 <= 0.006 , 0.0055 , 99.91, 1891
> 0.006 <= 0.007 , 0.0065 , 99.96, 470
> 0.007 <= 0.008 , 0.0075 , 99.97, 105
> 0.008 <= 0.009 , 0.0085 , 99.97, 15
> 0.009 <= 0.01 , 0.0095 , 99.98, 14
> 0.01 <= 0.012 , 0.011 , 99.99, 103
> 0.012 <= 0.014 , 0.013 , 100.00, 101
> 0.016 <= 0.018 , 0.017 , 100.00, 27
> 0.018 <= 0.02 , 0.019 , 100.00, 1
> 0.02 <= 0.0202044 , 0.0201022 , 100.00, 4
# target 50% 0.000946492
# target 75% 0.00135482
# target 90% 0.0016828
# target 99% 0.00327075
# target 99.9% 0.00594427
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 945386 (100.0 %)
Response Header Sizes : count 945386 avg 75 +/- 0 min 75 max 75 sum 70903950
Response Body/Total Sizes : count 945386 avg 75 +/- 0 min 75 max 75 sum 70903950
All done 945386 calls (plus 32 warmup) 1.015 ms avg, 31509.3 qps
Successfully wrote 5855 bytes of Json data to /data/2018-12-22-004321_http_baseline_0qps_30s_echo_0_5.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8080/echo
00:43:51 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 32 threads at -1.0 qps
00:43:51 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
00:44:22 I periodic.go:533> T025 ended after 30.000116568s : 2571 calls. qps=85.69966700537388
00:44:22 I periodic.go:533> T023 ended after 30.0005368s : 2363 calls. qps=78.76525729366283
00:44:22 I periodic.go:533> T011 ended after 30.003178978s : 2622 calls. qps=87.39073955871797
00:44:22 I periodic.go:533> T015 ended after 30.003207311s : 2457 calls. qps=81.89124497697271
00:44:22 I periodic.go:533> T029 ended after 30.003235314s : 2359 calls. qps=78.62485413028948
00:44:22 I periodic.go:533> T027 ended after 30.003247367s : 2351 calls. qps=78.35818474055645
00:44:22 I periodic.go:533> T003 ended after 30.00326s : 2477 calls. qps=82.55769539710018
00:44:22 I periodic.go:533> T010 ended after 30.003270562s : 2343 calls. qps=78.09148656505056
00:44:22 I periodic.go:533> T007 ended after 30.00329378s : 2370 calls. qps=78.99132733152874
00:44:22 I periodic.go:533> T017 ended after 30.003317631s : 2363 calls. qps=78.75795700534474
00:44:22 I periodic.go:533> T016 ended after 30.003328906s : 2583 calls. qps=86.09044709980355
00:44:22 I periodic.go:533> T000 ended after 30.003379851s : 2509 calls. qps=83.6239121212331
00:44:22 I periodic.go:533> T009 ended after 30.003391837s : 2391 calls. qps=79.6909900383807
00:44:22 I periodic.go:533> T002 ended after 30.003404591s : 2442 calls. qps=81.39076325799762
00:44:22 I periodic.go:533> T021 ended after 30.003416771s : 2458 calls. qps=81.92400281476596
00:44:22 I periodic.go:533> T013 ended after 30.004991449s : 2477 calls. qps=82.55293137510803
00:44:22 I periodic.go:533> T022 ended after 30.005020929s : 2405 calls. qps=80.15325187377408
00:44:22 I periodic.go:533> T020 ended after 30.005033836s : 2402 calls. qps=80.05323417159703
00:44:22 I periodic.go:533> T028 ended after 30.005046665s : 2642 calls. qps=88.05185439294168
00:44:22 I periodic.go:533> T005 ended after 30.005075132s : 2467 calls. qps=82.21942418564312
00:44:22 I periodic.go:533> T026 ended after 30.005101684s : 2529 calls. qps=84.28566670542466
00:44:22 I periodic.go:533> T031 ended after 30.005113756s : 2539 calls. qps=84.6189093181587
00:44:22 I periodic.go:533> T008 ended after 30.005126027s : 2475 calls. qps=82.48590583398585
00:44:22 I periodic.go:533> T024 ended after 30.005475327s : 2228 calls. qps=74.25311466388156
00:44:22 I periodic.go:533> T030 ended after 30.005535283s : 2409 calls. qps=80.28518662571062
00:44:22 I periodic.go:533> T012 ended after 30.00576278s : 2328 calls. qps=77.58509647192511
00:44:22 I periodic.go:533> T014 ended after 30.005956972s : 2540 calls. qps=84.64985810551538
00:44:22 I periodic.go:533> T019 ended after 30.006192996s : 2407 calls. qps=80.2167739279977
00:44:22 I periodic.go:533> T006 ended after 30.006406012s : 2628 calls. qps=87.58129843837428
00:44:22 I periodic.go:533> T004 ended after 30.006642529s : 2400 calls. qps=79.98229051052658
00:44:22 I periodic.go:533> T018 ended after 30.006855865s : 2334 calls. qps=77.7822245189766
00:44:22 I periodic.go:533> T001 ended after 30.007057465s : 2388 calls. qps=79.58127859705488
Ended after 30.007080125s : 78257 calls. qps=2608
Aggregated Function Time : count 78257 avg 0.012266343 +/- 0.01492 min 0.000373159 max 0.118844885 sum 959.927172
# range, mid point, percentile, count
>= 0.000373159 <= 0.0004 , 0.00038658 , 0.04, 29
> 0.0004 <= 0.0005 , 0.00045 , 2.02, 1551
> 0.0005 <= 0.0006 , 0.00055 , 11.39, 7333
> 0.0006 <= 0.0007 , 0.00065 , 40.15, 22511
> 0.0007 <= 0.0008 , 0.00075 , 52.17, 9403
> 0.0008 <= 0.0009 , 0.00085 , 54.18, 1572
> 0.0009 <= 0.001 , 0.00095 , 54.79, 475
> 0.001 <= 0.0011 , 0.00105 , 55.05, 204
> 0.0011 <= 0.0012 , 0.00115 , 55.22, 137
> 0.0012 <= 0.0014 , 0.0013 , 55.42, 153
> 0.0014 <= 0.0016 , 0.0015 , 55.58, 126
> 0.0016 <= 0.0018 , 0.0017 , 55.90, 252
> 0.0018 <= 0.002 , 0.0019 , 56.13, 176
> 0.002 <= 0.0025 , 0.00225 , 56.25, 96
> 0.0025 <= 0.003 , 0.00275 , 56.36, 91
> 0.003 <= 0.0035 , 0.00325 , 56.41, 38
> 0.0035 <= 0.004 , 0.00375 , 56.51, 79
> 0.004 <= 0.0045 , 0.00425 , 56.62, 83
> 0.0045 <= 0.005 , 0.00475 , 56.76, 107
> 0.005 <= 0.006 , 0.0055 , 56.89, 107
> 0.006 <= 0.007 , 0.0065 , 57.04, 114
> 0.007 <= 0.008 , 0.0075 , 57.22, 142
> 0.008 <= 0.009 , 0.0085 , 57.41, 147
> 0.009 <= 0.01 , 0.0095 , 57.63, 170
> 0.01 <= 0.012 , 0.011 , 58.36, 572
> 0.012 <= 0.014 , 0.013 , 59.56, 945
> 0.014 <= 0.016 , 0.015 , 61.43, 1462
> 0.016 <= 0.018 , 0.017 , 63.87, 1906
> 0.018 <= 0.02 , 0.019 , 66.94, 2406
> 0.02 <= 0.025 , 0.0225 , 75.63, 6799
> 0.025 <= 0.03 , 0.0275 , 84.62, 7035
> 0.03 <= 0.035 , 0.0325 , 92.02, 5791
> 0.035 <= 0.04 , 0.0375 , 96.04, 3148
> 0.04 <= 0.045 , 0.0425 , 97.68, 1278
> 0.045 <= 0.05 , 0.0475 , 98.60, 727
> 0.05 <= 0.06 , 0.055 , 99.53, 721
> 0.06 <= 0.07 , 0.065 , 99.82, 232
> 0.07 <= 0.08 , 0.075 , 99.93, 87
> 0.08 <= 0.09 , 0.085 , 99.96, 21
> 0.09 <= 0.1 , 0.095 , 99.98, 15
> 0.1 <= 0.118845 , 0.109422 , 100.00, 16
# target 50% 0.000781937
# target 75% 0.0246373
# target 90% 0.0336352
# target 99% 0.0542917
# target 99.9% 0.076982
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 78257 (100.0 %)
Response Header Sizes : count 78257 avg 209.42077 +/- 0.494 min 209 max 211 sum 16388641
Response Body/Total Sizes : count 78257 avg 209.42077 +/- 0.494 min 209 max 211 sum 16388641
All done 78257 calls (plus 32 warmup) 12.266 ms avg, 2608.0 qps
Successfully wrote 7049 bytes of Json data to /data/2018-12-22-004352_http_istio_0qps_30s_echo_0_5.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8079
00:44:22 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
00:44:52 I periodic.go:533> T003 ended after 30.000142702s : 16401 calls. qps=546.6973995062565
00:44:52 I periodic.go:533> T010 ended after 30.000529711s : 16440 calls. qps=547.9903241165807
00:44:52 I periodic.go:533> T016 ended after 30.003049554s : 16406 calls. qps=546.8110823358872
00:44:52 I periodic.go:533> T001 ended after 30.003142449s : 16533 calls. qps=551.0422792580197
00:44:52 I periodic.go:533> T013 ended after 30.003288574s : 16449 calls. qps=548.2399024170384
00:44:52 I periodic.go:533> T025 ended after 30.0033198s : 16412 calls. qps=547.0061349677711
00:44:52 I periodic.go:533> T020 ended after 30.00334705s : 16454 calls. qps=548.4054819810513
00:44:52 I periodic.go:533> T023 ended after 30.003395917s : 16420 calls. qps=547.2713837268129
00:44:52 I periodic.go:533> T022 ended after 30.0034212s : 16436 calls. qps=547.8041950762602
00:44:52 I periodic.go:533> T008 ended after 30.003451078s : 16405 calls. qps=546.7704350860141
00:44:52 I periodic.go:533> T027 ended after 30.003477735s : 16451 calls. qps=548.3031049033823
00:44:52 I periodic.go:533> T018 ended after 30.003518462s : 16434 calls. qps=547.735760418031
00:44:52 I periodic.go:533> T015 ended after 30.003556195s : 16463 calls. qps=548.7016236676474
00:44:52 I periodic.go:533> T029 ended after 30.003583126s : 16421 calls. qps=547.3012983496017
00:44:52 I periodic.go:533> T017 ended after 30.003608094s : 16441 calls. qps=547.9674294001928
00:44:52 I periodic.go:533> T005 ended after 30.003634964s : 16429 calls. qps=547.5669871238072
00:44:52 I periodic.go:533> T031 ended after 30.003662217s : 16420 calls. qps=547.2665263741194
00:44:52 I periodic.go:533> T026 ended after 30.003690115s : 16470 calls. qps=548.932479200817
00:44:52 I periodic.go:533> T004 ended after 30.003717038s : 16431 calls. qps=547.6321476832346
00:44:52 I periodic.go:533> T007 ended after 30.003743404s : 16414 calls. qps=547.0650704808967
00:44:52 I periodic.go:533> T009 ended after 30.003768661s : 16455 calls. qps=548.4311049694505
00:44:52 I periodic.go:533> T030 ended after 30.003792854s : 16476 calls. qps=549.1305742634961
00:44:52 I periodic.go:533> T014 ended after 30.003817772s : 16483 calls. qps=549.363421857007
00:44:52 I periodic.go:533> T012 ended after 30.006697002s : 16457 calls. qps=548.4442355952443
00:44:52 I periodic.go:533> T024 ended after 30.006749233s : 16421 calls. qps=547.2435508589168
00:44:52 I periodic.go:533> T011 ended after 30.006779627s : 16412 calls. qps=546.9430643344525
00:44:52 I periodic.go:533> T028 ended after 30.006807546s : 16461 calls. qps=548.575518230839
00:44:52 I periodic.go:533> T002 ended after 30.006834702s : 16429 calls. qps=547.5085980629934
00:44:52 I periodic.go:533> T000 ended after 30.006863316s : 16421 calls. qps=547.2414702953686
00:44:52 I periodic.go:533> T021 ended after 30.006891199s : 16414 calls. qps=547.0076820402844
00:44:52 I periodic.go:533> T019 ended after 30.006920758s : 16379 calls. qps=545.8407456097699
00:44:52 I periodic.go:533> T006 ended after 30.006963909s : 16461 calls. qps=548.5726596639404
Ended after 30.006980639s : 525999 calls. qps=17529
Aggregated Function Time : count 525999 avg 0.0018247388 +/- 0.0009433 min 0.0002846 max 0.021596918 sum 959.810788
# range, mid point, percentile, count
>= 0.0002846 <= 0.0003 , 0.0002923 , 0.00, 1
> 0.0003 <= 0.0004 , 0.00035 , 0.00, 3
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 54
> 0.0005 <= 0.0006 , 0.00055 , 0.20, 977
> 0.0006 <= 0.0007 , 0.00065 , 0.81, 3230
> 0.0007 <= 0.0008 , 0.00075 , 1.74, 4903
> 0.0008 <= 0.0009 , 0.00085 , 2.92, 6211
> 0.0009 <= 0.001 , 0.00095 , 4.56, 8597
> 0.001 <= 0.0011 , 0.00105 , 7.52, 15568
> 0.0011 <= 0.0012 , 0.00115 , 13.82, 33124
> 0.0012 <= 0.0014 , 0.0013 , 31.57, 93386
> 0.0014 <= 0.0016 , 0.0015 , 54.06, 118282
> 0.0016 <= 0.0018 , 0.0017 , 69.92, 83461
> 0.0018 <= 0.002 , 0.0019 , 78.28, 43964
> 0.002 <= 0.0025 , 0.00225 , 86.97, 45707
> 0.0025 <= 0.003 , 0.00275 , 90.40, 18040
> 0.003 <= 0.0035 , 0.00325 , 92.86, 12916
> 0.0035 <= 0.004 , 0.00375 , 95.61, 14479
> 0.004 <= 0.0045 , 0.00425 , 97.55, 10222
> 0.0045 <= 0.005 , 0.00475 , 98.60, 5526
> 0.005 <= 0.006 , 0.0055 , 99.45, 4466
> 0.006 <= 0.007 , 0.0065 , 99.74, 1524
> 0.007 <= 0.008 , 0.0075 , 99.87, 649
> 0.008 <= 0.009 , 0.0085 , 99.91, 239
> 0.009 <= 0.01 , 0.0095 , 99.95, 185
> 0.01 <= 0.012 , 0.011 , 99.97, 126
> 0.012 <= 0.014 , 0.013 , 99.99, 88
> 0.014 <= 0.016 , 0.015 , 99.99, 35
> 0.016 <= 0.018 , 0.017 , 99.99, 5
> 0.018 <= 0.02 , 0.019 , 100.00, 23
> 0.02 <= 0.0215969 , 0.0207985 , 100.00, 8
# target 50% 0.00156392
# target 75% 0.00192147
# target 90% 0.00294155
# target 99% 0.00546753
# target 99.9% 0.00876569
Ping SERVING : 525999
All done 525999 calls (plus 32 warmup) 1.825 ms avg, 17529.2 qps
Successfully wrote 5174 bytes of Json data to /data/2018-12-22-004422_grpc_baseline_0qps_30s_echo_0_5.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8079
00:44:52 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
00:45:22 I periodic.go:533> T019 ended after 30.00031296s : 3220 calls. qps=107.3322136436806
00:45:22 I periodic.go:533> T028 ended after 30.0028995s : 3220 calls. qps=107.32296056919432
00:45:22 I periodic.go:533> T007 ended after 30.002942381s : 3232 calls. qps=107.72276795247697
00:45:22 I periodic.go:533> T000 ended after 30.002970926s : 3221 calls. qps=107.35603510546828
00:45:22 I periodic.go:533> T005 ended after 30.002983315s : 3226 calls. qps=107.52264086975512
00:45:22 I periodic.go:533> T030 ended after 30.002995543s : 3207 calls. qps=106.88932694749626
00:45:22 I periodic.go:533> T025 ended after 30.003008069s : 3259 calls. qps=108.62244187332989
00:45:22 I periodic.go:533> T013 ended after 30.003019957s : 3220 calls. qps=107.32252968584059
00:45:22 I periodic.go:533> T003 ended after 30.00316967s : 3218 calls. qps=107.25533453279306
00:45:22 I periodic.go:533> T021 ended after 30.003195895s : 3207 calls. qps=106.88861317385336
00:45:22 I periodic.go:533> T011 ended after 30.003207723s : 3224 calls. qps=107.45517711856293
00:45:22 I periodic.go:533> T009 ended after 30.003219424s : 3206 calls. qps=106.85519959353012
00:45:22 I periodic.go:533> T020 ended after 30.005430479s : 2985 calls. qps=99.48199217102123
00:45:22 I periodic.go:533> T008 ended after 30.006137514s : 3006 calls. qps=100.17950489620623
00:45:22 I periodic.go:533> T026 ended after 30.006157721s : 2988 calls. qps=99.5795605616253
00:45:22 I periodic.go:533> T031 ended after 30.006170642s : 2991 calls. qps=99.67949711695171
00:45:22 I periodic.go:533> T004 ended after 30.00622322s : 2984 calls. qps=99.44603751434734
00:45:22 I periodic.go:533> T024 ended after 30.006236894s : 2972 calls. qps=99.04607533756679
00:45:22 I periodic.go:533> T016 ended after 30.006256086s : 3003 calls. qps=100.07912987855582
00:45:22 I periodic.go:533> T027 ended after 30.006267777s : 2972 calls. qps=99.0459733975332
00:45:22 I periodic.go:533> T010 ended after 30.006277978s : 2994 calls. qps=99.77911962940358
00:45:22 I periodic.go:533> T017 ended after 30.006303275s : 3000 calls. qps=99.97899349699217
00:45:22 I periodic.go:533> T012 ended after 30.006315269s : 2980 calls. qps=99.31242717691116
00:45:22 I periodic.go:533> T002 ended after 30.006326513s : 2979 calls. qps=99.27906365710484
00:45:22 I periodic.go:533> T006 ended after 30.00633702s : 3001 calls. qps=100.01220735472496
00:45:22 I periodic.go:533> T014 ended after 30.006347671s : 3006 calls. qps=100.1788032638569
00:45:22 I periodic.go:533> T022 ended after 30.006358721s : 2984 calls. qps=99.44558844161396
00:45:22 I periodic.go:533> T029 ended after 30.006384143s : 3001 calls. qps=100.01205029230702
00:45:22 I periodic.go:533> T001 ended after 30.006395365s : 2993 calls. qps=99.7454030580124
00:45:22 I periodic.go:533> T018 ended after 30.006406645s : 3216 calls. qps=107.17711180975033
00:45:22 I periodic.go:533> T023 ended after 30.006420818s : 3280 calls. qps=109.30993802607811
00:45:22 I periodic.go:533> T015 ended after 30.006431925s : 3225 calls. qps=107.47695720906677
Ended after 30.006459784s : 99220 calls. qps=3306.6
Aggregated Function Time : count 99220 avg 0.009674922 +/- 0.005055 min 0.000810445 max 0.076331484 sum 959.945761
# range, mid point, percentile, count
>= 0.000810445 <= 0.0009 , 0.000855223 , 0.00, 2
> 0.0009 <= 0.001 , 0.00095 , 0.02, 19
> 0.001 <= 0.0011 , 0.00105 , 0.04, 14
> 0.0011 <= 0.0012 , 0.00115 , 0.05, 16
> 0.0012 <= 0.0014 , 0.0013 , 0.13, 75
> 0.0014 <= 0.0016 , 0.0015 , 0.27, 141
> 0.0016 <= 0.0018 , 0.0017 , 0.34, 70
> 0.0018 <= 0.002 , 0.0019 , 0.43, 93
> 0.002 <= 0.0025 , 0.00225 , 0.84, 402
> 0.0025 <= 0.003 , 0.00275 , 2.00, 1154
> 0.003 <= 0.0035 , 0.00325 , 2.69, 683
> 0.0035 <= 0.004 , 0.00375 , 3.49, 790
> 0.004 <= 0.0045 , 0.00425 , 4.92, 1425
> 0.0045 <= 0.005 , 0.00475 , 7.88, 2930
> 0.005 <= 0.006 , 0.0055 , 17.56, 9610
> 0.006 <= 0.007 , 0.0065 , 24.23, 6614
> 0.007 <= 0.008 , 0.0075 , 33.39, 9088
> 0.008 <= 0.009 , 0.0085 , 49.51, 16002
> 0.009 <= 0.01 , 0.0095 , 65.65, 16013
> 0.01 <= 0.012 , 0.011 , 84.88, 19078
> 0.012 <= 0.014 , 0.013 , 91.79, 6854
> 0.014 <= 0.016 , 0.015 , 94.17, 2366
> 0.016 <= 0.018 , 0.017 , 95.08, 899
> 0.018 <= 0.02 , 0.019 , 95.80, 710
> 0.02 <= 0.025 , 0.0225 , 97.24, 1437
> 0.025 <= 0.03 , 0.0275 , 98.58, 1325
> 0.03 <= 0.035 , 0.0325 , 99.61, 1026
> 0.035 <= 0.04 , 0.0375 , 99.76, 147
> 0.04 <= 0.045 , 0.0425 , 99.89, 125
> 0.045 <= 0.05 , 0.0475 , 99.94, 51
> 0.05 <= 0.06 , 0.055 , 99.96, 20
> 0.06 <= 0.07 , 0.065 , 99.99, 29
> 0.07 <= 0.0763315 , 0.0731657 , 100.00, 12
# target 50% 0.0090301
# target 75% 0.0109722
# target 90% 0.0134821
# target 99% 0.0320361
# target 99.9% 0.0462529
Ping SERVING : 99220
All done 99220 calls (plus 32 warmup) 9.675 ms avg, 3306.6 qps
Successfully wrote 5406 bytes of Json data to /data/2018-12-22-004452_grpc_istio_0qps_30s_echo_0_5.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8080/echo
00:45:22 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
00:45:22 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
00:45:52 I periodic.go:533> T024 ended after 30.000001878s : 30233 calls. qps=1007.7666035804773
00:45:52 I periodic.go:533> T031 ended after 30.003017647s : 29950 calls. qps=998.232922847169
00:45:52 I periodic.go:533> T015 ended after 30.003065279s : 30051 calls. qps=1001.5976607907976
00:45:52 I periodic.go:533> T030 ended after 30.003091527s : 29969 calls. qps=998.8637328600181
00:45:52 I periodic.go:533> T008 ended after 30.00310199s : 30317 calls. qps=1010.4621852135363
00:45:52 I periodic.go:533> T011 ended after 30.003111203s : 29620 calls. qps=987.2309508034723
00:45:52 I periodic.go:533> T000 ended after 30.003120716s : 30337 calls. qps=1011.1281518732799
00:45:52 I periodic.go:533> T005 ended after 30.003129823s : 30316 calls. qps=1010.427917982082
00:45:52 I periodic.go:533> T028 ended after 30.003139243s : 29927 calls. qps=997.4622907828632
00:45:52 I periodic.go:533> T022 ended after 30.003163943s : 29674 calls. qps=989.02902561792
00:45:52 I periodic.go:533> T009 ended after 30.003174776s : 29613 calls. qps=986.995550340489
00:45:52 I periodic.go:533> T013 ended after 30.003184673s : 30283 calls. qps=1009.3261875380784
00:45:52 I periodic.go:533> T016 ended after 30.003194356s : 30145 calls. qps=1004.7263515450194
00:45:52 I periodic.go:533> T018 ended after 30.003204857s : 30097 calls. qps=1003.1261708023206
00:45:52 I periodic.go:533> T004 ended after 30.00321367s : 29333 calls. qps=977.6619372387385
00:45:52 I periodic.go:533> T012 ended after 30.003222979s : 29558 calls. qps=985.1608282446315
00:45:52 I periodic.go:533> T021 ended after 30.003256738s : 30225 calls. qps=1007.390639754089
00:45:52 I periodic.go:533> T001 ended after 30.003267163s : 29654 calls. qps=988.3590289983247
00:45:52 I periodic.go:533> T010 ended after 30.003276333s : 30524 calls. qps=1017.355560146852
00:45:52 I periodic.go:533> T026 ended after 30.003285567s : 30275 calls. qps=1009.0561559464293
00:45:52 I periodic.go:533> T029 ended after 30.003294805s : 29792 calls. qps=992.9576132763663
00:45:52 I periodic.go:533> T027 ended after 30.003304122s : 29629 calls. qps=987.5245699447635
00:45:52 I periodic.go:533> T023 ended after 30.00331263s : 30152 calls. qps=1004.9556984534877
00:45:52 I periodic.go:533> T014 ended after 30.0033365s : 29463 calls. qps=981.990786258055
00:45:52 I periodic.go:533> T007 ended after 30.003347092s : 29895 calls. qps=996.3888331635877
00:45:52 I periodic.go:533> T002 ended after 30.003356565s : 30045 calls. qps=1001.3879592074901
00:45:52 I periodic.go:533> T020 ended after 30.003366622s : 29362 calls. qps=978.6235114852171
00:45:52 I periodic.go:533> T006 ended after 30.003376401s : 29420 calls. qps=980.5563082900044
00:45:52 I periodic.go:533> T017 ended after 30.003386339s : 29596 calls. qps=986.4219880250498
00:45:52 I periodic.go:533> T019 ended after 30.003397039s : 29570 calls. qps=985.5550676999459
00:45:52 I periodic.go:533> T003 ended after 30.003420319s : 29665 calls. qps=988.720608670549
00:45:52 I periodic.go:533> T025 ended after 30.003431793s : 29883 calls. qps=995.9860660663459
Ended after 30.003447487s : 956573 calls. qps=31882
Aggregated Function Time : count 956573 avg 0.0010032437 +/- 0.0006602 min 7.0239e-05 max 0.017431943 sum 959.675826
# range, mid point, percentile, count
>= 7.0239e-05 <= 0.0001 , 8.51195e-05 , 0.60, 5726
> 0.0001 <= 0.0002 , 0.00015 , 5.22, 44248
> 0.0002 <= 0.0003 , 0.00025 , 10.67, 52128
> 0.0003 <= 0.0004 , 0.00035 , 16.41, 54867
> 0.0004 <= 0.0005 , 0.00045 , 22.49, 58161
> 0.0005 <= 0.0006 , 0.00055 , 28.71, 59531
> 0.0006 <= 0.0007 , 0.00065 , 34.91, 59245
> 0.0007 <= 0.0008 , 0.00075 , 41.10, 59223
> 0.0008 <= 0.0009 , 0.00085 , 47.37, 60017
> 0.0009 <= 0.001 , 0.00095 , 53.65, 60083
> 0.001 <= 0.0011 , 0.00105 , 59.86, 59407
> 0.0011 <= 0.0012 , 0.00115 , 65.92, 57983
> 0.0012 <= 0.0014 , 0.0013 , 77.49, 110604
> 0.0014 <= 0.0016 , 0.0015 , 87.95, 100047
> 0.0016 <= 0.0018 , 0.0017 , 94.02, 58103
> 0.0018 <= 0.002 , 0.0019 , 95.75, 16532
> 0.002 <= 0.0025 , 0.00225 , 97.89, 20464
> 0.0025 <= 0.003 , 0.00275 , 98.83, 9059
> 0.003 <= 0.0035 , 0.00325 , 99.14, 2945
> 0.0035 <= 0.004 , 0.00375 , 99.37, 2150
> 0.004 <= 0.0045 , 0.00425 , 99.56, 1858
> 0.0045 <= 0.005 , 0.00475 , 99.75, 1836
> 0.005 <= 0.006 , 0.0055 , 99.93, 1674
> 0.006 <= 0.007 , 0.0065 , 99.97, 415
> 0.007 <= 0.008 , 0.0075 , 99.98, 82
> 0.008 <= 0.009 , 0.0085 , 99.98, 23
> 0.009 <= 0.01 , 0.0095 , 99.98, 13
> 0.01 <= 0.012 , 0.011 , 99.99, 30
> 0.012 <= 0.014 , 0.013 , 99.99, 45
> 0.014 <= 0.016 , 0.015 , 100.00, 44
> 0.016 <= 0.0174319 , 0.016716 , 100.00, 30
# target 50% 0.000941843
# target 75% 0.00135698
# target 90% 0.00166762
# target 99% 0.00326813
# target 99.9% 0.00583598
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 956573 (100.0 %)
Response Header Sizes : count 956573 avg 75 +/- 0 min 75 max 75 sum 71742975
Response Body/Total Sizes : count 956573 avg 75 +/- 0 min 75 max 75 sum 71742975
All done 956573 calls (plus 32 warmup) 1.003 ms avg, 31882.1 qps
Successfully wrote 5706 bytes of Json data to /data/2018-12-22-004522_http_baseline_0qps_30s_echo_0_6.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8080/echo
00:45:52 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 32 threads at -1.0 qps
00:45:52 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
00:46:22 I periodic.go:533> T008 ended after 30.000187213s : 2621 calls. qps=87.36612146421008
00:46:22 I periodic.go:533> T014 ended after 30.000630622s : 2315 calls. qps=77.16504460084145
00:46:22 I periodic.go:533> T004 ended after 30.00347195s : 2311 calls. qps=77.02441916892887
00:46:22 I periodic.go:533> T028 ended after 30.00354778s : 2296 calls. qps=76.52428362256832
00:46:22 I periodic.go:533> T016 ended after 30.003563369s : 2587 calls. qps=86.22309184358136
00:46:22 I periodic.go:533> T015 ended after 30.003574495s : 2399 calls. qps=79.95713978678727
00:46:22 I periodic.go:533> T019 ended after 30.003587073s : 2287 calls. qps=76.22421927203678
00:46:22 I periodic.go:533> T030 ended after 30.003598214s : 2577 calls. qps=85.8896983494981
00:46:22 I periodic.go:533> T031 ended after 30.003624317s : 2489 calls. qps=82.95664462742046
00:46:22 I periodic.go:533> T029 ended after 30.003635256s : 2423 calls. qps=80.75688093546793
00:46:22 I periodic.go:533> T013 ended after 30.003645967s : 2742 calls. qps=91.38889330369494
00:46:22 I periodic.go:533> T003 ended after 30.00365683s : 2345 calls. qps=78.15713975422108
00:46:22 I periodic.go:533> T024 ended after 30.003667134s : 2393 calls. qps=79.75691735655421
00:46:22 I periodic.go:533> T006 ended after 30.003677476s : 2265 calls. qps=75.49074615309333
00:46:22 I periodic.go:533> T018 ended after 30.003703695s : 2433 calls. qps=81.08998891378367
00:46:22 I periodic.go:533> T025 ended after 30.005159804s : 2314 calls. qps=77.12006918528458
00:46:22 I periodic.go:533> T017 ended after 30.005193413s : 2402 calls. qps=80.05280842346824
00:46:22 I periodic.go:533> T001 ended after 30.00520646s : 2378 calls. qps=79.25291242938509
00:46:22 I periodic.go:533> T020 ended after 30.005234888s : 2262 calls. qps=75.38684527694339
00:46:22 I periodic.go:533> T022 ended after 30.005262204s : 2307 calls. qps=76.8865135826893
00:46:22 I periodic.go:533> T010 ended after 30.005275735s : 2508 calls. qps=83.58530087009046
00:46:22 I periodic.go:533> T027 ended after 30.005289367s : 2552 calls. qps=85.051671016601
00:46:22 I periodic.go:533> T000 ended after 30.005384178s : 2427 calls. qps=80.88548327201491
00:46:22 I periodic.go:533> T023 ended after 30.005857689s : 2356 calls. qps=78.51800219874062
00:46:22 I periodic.go:533> T011 ended after 30.005890213s : 2419 calls. qps=80.61750485749536
00:46:22 I periodic.go:533> T021 ended after 30.006130183s : 2703 calls. qps=90.0815927783779
00:46:22 I periodic.go:533> T009 ended after 30.006376462s : 2355 calls. qps=78.4833184700714
00:46:22 I periodic.go:533> T026 ended after 30.006545597s : 2553 calls. qps=85.0814363735106
00:46:22 I periodic.go:533> T002 ended after 30.006757375s : 2468 calls. qps=82.24814061569357
00:46:22 I periodic.go:533> T012 ended after 30.006981138s : 2373 calls. qps=79.08159734852165
00:46:22 I periodic.go:533> T005 ended after 30.007218618s : 2654 calls. qps=88.44538488508839
00:46:22 I periodic.go:533> T007 ended after 30.007408463s : 2496 calls. qps=83.17945893520395
Ended after 30.007447401s : 78010 calls. qps=2599.7
Aggregated Function Time : count 78010 avg 0.012305307 +/- 0.01483 min 0.000374727 max 0.101085598 sum 959.936971
# range, mid point, percentile, count
>= 0.000374727 <= 0.0004 , 0.000387364 , 0.03, 26
> 0.0004 <= 0.0005 , 0.00045 , 2.34, 1798
> 0.0005 <= 0.0006 , 0.00055 , 11.05, 6795
> 0.0006 <= 0.0007 , 0.00065 , 39.12, 21895
> 0.0007 <= 0.0008 , 0.00075 , 51.37, 9557
> 0.0008 <= 0.0009 , 0.00085 , 53.76, 1864
> 0.0009 <= 0.001 , 0.00095 , 54.48, 568
> 0.001 <= 0.0011 , 0.00105 , 54.76, 215
> 0.0011 <= 0.0012 , 0.00115 , 54.95, 147
> 0.0012 <= 0.0014 , 0.0013 , 55.13, 139
> 0.0014 <= 0.0016 , 0.0015 , 55.31, 140
> 0.0016 <= 0.0018 , 0.0017 , 55.65, 271
> 0.0018 <= 0.002 , 0.0019 , 55.80, 112
> 0.002 <= 0.0025 , 0.00225 , 55.93, 105
> 0.0025 <= 0.003 , 0.00275 , 56.05, 91
> 0.003 <= 0.0035 , 0.00325 , 56.11, 45
> 0.0035 <= 0.004 , 0.00375 , 56.20, 74
> 0.004 <= 0.0045 , 0.00425 , 56.30, 78
> 0.0045 <= 0.005 , 0.00475 , 56.39, 67
> 0.005 <= 0.006 , 0.0055 , 56.48, 73
> 0.006 <= 0.007 , 0.0065 , 56.60, 96
> 0.007 <= 0.008 , 0.0075 , 56.75, 113
> 0.008 <= 0.009 , 0.0085 , 56.94, 147
> 0.009 <= 0.01 , 0.0095 , 57.23, 231
> 0.01 <= 0.012 , 0.011 , 57.99, 591
> 0.012 <= 0.014 , 0.013 , 59.25, 983
> 0.014 <= 0.016 , 0.015 , 61.19, 1511
> 0.016 <= 0.018 , 0.017 , 63.80, 2037
> 0.018 <= 0.02 , 0.019 , 66.84, 2374
> 0.02 <= 0.025 , 0.0225 , 75.73, 6936
> 0.025 <= 0.03 , 0.0275 , 85.01, 7241
> 0.03 <= 0.035 , 0.0325 , 92.02, 5466
> 0.035 <= 0.04 , 0.0375 , 95.78, 2933
> 0.04 <= 0.045 , 0.0425 , 97.49, 1331
> 0.045 <= 0.05 , 0.0475 , 98.55, 829
> 0.05 <= 0.06 , 0.055 , 99.63, 844
> 0.06 <= 0.07 , 0.065 , 99.90, 206
> 0.07 <= 0.08 , 0.075 , 99.97, 55
> 0.08 <= 0.09 , 0.085 , 99.98, 12
> 0.09 <= 0.1 , 0.095 , 100.00, 13
> 0.1 <= 0.101086 , 0.100543 , 100.00, 1
# target 50% 0.000788846
# target 75% 0.024588
# target 90% 0.0335574
# target 99% 0.0541576
# target 99.9% 0.0705436
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 78010 (100.0 %)
Response Header Sizes : count 78010 avg 209.42501 +/- 0.4944 min 209 max 211 sum 16337245
Response Body/Total Sizes : count 78010 avg 209.42501 +/- 0.4944 min 209 max 211 sum 16337245
All done 78010 calls (plus 32 warmup) 12.305 ms avg, 2599.7 qps
Successfully wrote 7052 bytes of Json data to /data/2018-12-22-004552_http_istio_0qps_30s_echo_0_6.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8079
00:46:22 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
00:46:52 I periodic.go:533> T022 ended after 30.000535474s : 16719 calls. qps=557.2900528555413
00:46:52 I periodic.go:533> T015 ended after 30.001029983s : 16722 calls. qps=557.3808635728665
00:46:52 I periodic.go:533> T021 ended after 30.003310481s : 16749 calls. qps=558.2383987462493
00:46:52 I periodic.go:533> T016 ended after 30.003348757s : 16743 calls. qps=558.0377089105341
00:46:52 I periodic.go:533> T008 ended after 30.003374857s : 16800 calls. qps=559.9370097554356
00:46:52 I periodic.go:533> T026 ended after 30.003482082s : 16777 calls. qps=559.1684309890495
00:46:52 I periodic.go:533> T000 ended after 30.00350928s : 16704 calls. qps=556.7348753812174
00:46:52 I periodic.go:533> T005 ended after 30.003534264s : 16683 calls. qps=556.0344942434746
00:46:52 I periodic.go:533> T025 ended after 30.005333377s : 16718 calls. qps=557.1676138354409
00:46:52 I periodic.go:533> T027 ended after 30.005409584s : 16757 calls. qps=558.4659643818179
00:46:52 I periodic.go:533> T024 ended after 30.005439696s : 16757 calls. qps=558.4654039325363
00:46:52 I periodic.go:533> T006 ended after 30.005464305s : 16731 calls. qps=557.5984370690777
00:46:52 I periodic.go:533> T018 ended after 30.00548764s : 16731 calls. qps=557.5980034297487
00:46:52 I periodic.go:533> T013 ended after 30.005512101s : 16772 calls. qps=558.9639644724156
00:46:52 I periodic.go:533> T012 ended after 30.005536615s : 16748 calls. qps=558.1636554244308
00:46:52 I periodic.go:533> T017 ended after 30.005580159s : 16709 calls. qps=556.8630871810766
00:46:52 I periodic.go:533> T019 ended after 30.00560542s : 16747 calls. qps=558.1290484089823
00:46:52 I periodic.go:533> T029 ended after 30.005630202s : 16774 calls. qps=559.0284185693238
00:46:52 I periodic.go:533> T004 ended after 30.005654422s : 16698 calls. qps=556.4951113933082
00:46:52 I periodic.go:533> T001 ended after 30.005677405s : 16777 calls. qps=559.1275202207021
00:46:52 I periodic.go:533> T003 ended after 30.005701512s : 16736 calls. qps=557.7606640293636
00:46:52 I periodic.go:533> T031 ended after 30.005726474s : 16730 calls. qps=557.5602381930852
00:46:52 I periodic.go:533> T002 ended after 30.005750172s : 16695 calls. qps=556.393354750351
00:46:52 I periodic.go:533> T009 ended after 30.005776628s : 16709 calls. qps=556.8594410053674
00:46:52 I periodic.go:533> T011 ended after 30.005801727s : 16733 calls. qps=557.6588205254723
00:46:52 I periodic.go:533> T010 ended after 30.005827061s : 16728 calls. qps=557.4917153922471
00:46:52 I periodic.go:533> T030 ended after 30.005852542s : 16717 calls. qps=557.124646820175
00:46:52 I periodic.go:533> T020 ended after 30.005876215s : 16728 calls. qps=557.4908021395369
00:46:52 I periodic.go:533> T023 ended after 30.005900407s : 16708 calls. qps=556.8238170950616
00:46:52 I periodic.go:533> T028 ended after 30.005926726s : 16804 calls. qps=560.0226966307763
00:46:52 I periodic.go:533> T007 ended after 30.005950325s : 16679 calls. qps=555.8564157890906
00:46:52 I periodic.go:533> T014 ended after 30.005974916s : 16743 calls. qps=557.9888687793369
Ended after 30.005989799s : 535526 calls. qps=17847
Aggregated Function Time : count 535526 avg 0.0017923744 +/- 0.0009222 min 0.000342465 max 0.017383417 sum 959.863117
# range, mid point, percentile, count
>= 0.000342465 <= 0.0004 , 0.000371233 , 0.00, 3
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 74
> 0.0005 <= 0.0006 , 0.00055 , 0.24, 1199
> 0.0006 <= 0.0007 , 0.00065 , 0.89, 3464
> 0.0007 <= 0.0008 , 0.00075 , 1.88, 5324
> 0.0008 <= 0.0009 , 0.00085 , 3.07, 6361
> 0.0009 <= 0.001 , 0.00095 , 4.78, 9164
> 0.001 <= 0.0011 , 0.00105 , 8.01, 17291
> 0.0011 <= 0.0012 , 0.00115 , 14.75, 36107
> 0.0012 <= 0.0014 , 0.0013 , 33.41, 99958
> 0.0014 <= 0.0016 , 0.0015 , 57.08, 126731
> 0.0016 <= 0.0018 , 0.0017 , 71.93, 79515
> 0.0018 <= 0.002 , 0.0019 , 79.41, 40072
> 0.002 <= 0.0025 , 0.00225 , 87.52, 43422
> 0.0025 <= 0.003 , 0.00275 , 90.75, 17315
> 0.003 <= 0.0035 , 0.00325 , 93.22, 13209
> 0.0035 <= 0.004 , 0.00375 , 95.99, 14828
> 0.004 <= 0.0045 , 0.00425 , 97.80, 9705
> 0.0045 <= 0.005 , 0.00475 , 98.78, 5244
> 0.005 <= 0.006 , 0.0055 , 99.55, 4136
> 0.006 <= 0.007 , 0.0065 , 99.76, 1113
> 0.007 <= 0.008 , 0.0075 , 99.85, 477
> 0.008 <= 0.009 , 0.0085 , 99.90, 262
> 0.009 <= 0.01 , 0.0095 , 99.93, 202
> 0.01 <= 0.012 , 0.011 , 99.97, 199
> 0.012 <= 0.014 , 0.013 , 99.98, 58
> 0.014 <= 0.016 , 0.015 , 99.99, 62
> 0.016 <= 0.0173834 , 0.0166917 , 100.00, 31
# target 50% 0.00154017
# target 75% 0.00188212
# target 90% 0.00288373
# target 99% 0.00528645
# target 99.9% 0.00908155
Ping SERVING : 535526
All done 535526 calls (plus 32 warmup) 1.792 ms avg, 17847.3 qps
Successfully wrote 4752 bytes of Json data to /data/2018-12-22-004622_grpc_baseline_0qps_30s_echo_0_6.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8079
00:46:53 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
00:47:23 I periodic.go:533> T019 ended after 30.000834886s : 3198 calls. qps=106.59703345430425
00:47:23 I periodic.go:533> T011 ended after 30.004620621s : 3173 calls. qps=105.75037891928025
00:47:23 I periodic.go:533> T030 ended after 30.004674572s : 3186 calls. qps=106.18345459320985
00:47:23 I periodic.go:533> T013 ended after 30.004702492s : 3192 calls. qps=106.38332444226256
00:47:23 I periodic.go:533> T017 ended after 30.004715797s : 3187 calls. qps=106.21663679676146
00:47:23 I periodic.go:533> T026 ended after 30.004728725s : 3183 calls. qps=106.08327871159582
00:47:23 I periodic.go:533> T003 ended after 30.004754267s : 3189 calls. qps=106.28315671651224
00:47:23 I periodic.go:533> T009 ended after 30.00478538s : 3192 calls. qps=106.38303055910743
00:47:23 I periodic.go:533> T005 ended after 30.00479894s : 3176 calls. qps=105.84973444917874
00:47:23 I periodic.go:533> T015 ended after 30.00481093s : 3154 calls. qps=105.11647639967315
00:47:23 I periodic.go:533> T028 ended after 30.004836874s : 3196 calls. qps=106.51615982519873
00:47:23 I periodic.go:533> T007 ended after 30.004848827s : 3180 calls. qps=105.9828702465737
00:47:23 I periodic.go:533> T022 ended after 30.004864412s : 3205 calls. qps=106.81601343008262
00:47:23 I periodic.go:533> T024 ended after 30.004875706s : 3203 calls. qps=106.74931739042346
00:47:23 I periodic.go:533> T006 ended after 30.008005977s : 3033 calls. qps=101.07302705566906
00:47:23 I periodic.go:533> T004 ended after 30.008054201s : 3001 calls. qps=100.00648425581667
00:47:23 I periodic.go:533> T001 ended after 30.008067127s : 3047 calls. qps=101.53936230229361
00:47:23 I periodic.go:533> T010 ended after 30.008081412s : 3018 calls. qps=100.57290762991349
00:47:23 I periodic.go:533> T020 ended after 30.008114723s : 3017 calls. qps=100.53947166789496
00:47:23 I periodic.go:533> T029 ended after 30.008126309s : 2998 calls. qps=99.90627102568692
00:47:23 I periodic.go:533> T021 ended after 30.008136817s : 3007 calls. qps=100.20615469523237
00:47:23 I periodic.go:533> T008 ended after 30.008146833s : 2985 calls. qps=99.4729870062283
00:47:23 I periodic.go:533> T012 ended after 30.008156874s : 3027 calls. qps=100.87257317101961
00:47:23 I periodic.go:533> T031 ended after 30.008167412s : 3056 calls. qps=101.8389413136216
00:47:23 I periodic.go:533> T023 ended after 30.008192109s : 3031 calls. qps=101.00575166242515
00:47:23 I periodic.go:533> T014 ended after 30.008223214s : 3053 calls. qps=101.73877934151253
00:47:23 I periodic.go:533> T016 ended after 30.008238605s : 3067 calls. qps=102.20526570623088
00:47:23 I periodic.go:533> T018 ended after 30.008250146s : 3059 calls. qps=101.93863304647753
00:47:23 I periodic.go:533> T025 ended after 30.008287356s : 2999 calls. qps=99.93905898133056
00:47:23 I periodic.go:533> T027 ended after 30.008302486s : 3050 calls. qps=101.63853824863767
00:47:23 I periodic.go:533> T002 ended after 30.008313036s : 3032 calls. qps=101.0386687303151
00:47:23 I periodic.go:533> T000 ended after 30.008324261s : 3157 calls. qps=105.20414177551932
Ended after 30.008338986s : 99251 calls. qps=3307.4
Aggregated Function Time : count 99251 avg 0.0096725621 +/- 0.005231 min 0.000715883 max 0.078756989 sum 960.011459
# range, mid point, percentile, count
>= 0.000715883 <= 0.0008 , 0.000757941 , 0.00, 1
> 0.0008 <= 0.0009 , 0.00085 , 0.01, 6
> 0.0009 <= 0.001 , 0.00095 , 0.03, 18
> 0.001 <= 0.0011 , 0.00105 , 0.05, 21
> 0.0011 <= 0.0012 , 0.00115 , 0.07, 24
> 0.0012 <= 0.0014 , 0.0013 , 0.19, 120
> 0.0014 <= 0.0016 , 0.0015 , 0.31, 115
> 0.0016 <= 0.0018 , 0.0017 , 0.38, 75
> 0.0018 <= 0.002 , 0.0019 , 0.49, 103
> 0.002 <= 0.0025 , 0.00225 , 0.88, 386
> 0.0025 <= 0.003 , 0.00275 , 2.07, 1184
> 0.003 <= 0.0035 , 0.00325 , 2.77, 698
> 0.0035 <= 0.004 , 0.00375 , 3.60, 822
> 0.004 <= 0.0045 , 0.00425 , 5.25, 1635
> 0.0045 <= 0.005 , 0.00475 , 8.41, 3138
> 0.005 <= 0.006 , 0.0055 , 18.39, 9906
> 0.006 <= 0.007 , 0.0065 , 24.91, 6469
> 0.007 <= 0.008 , 0.0075 , 34.25, 9269
> 0.008 <= 0.009 , 0.0085 , 49.46, 15101
> 0.009 <= 0.01 , 0.0095 , 66.26, 16672
> 0.01 <= 0.012 , 0.011 , 84.97, 18569
> 0.012 <= 0.014 , 0.013 , 91.84, 6825
> 0.014 <= 0.016 , 0.015 , 94.10, 2242
> 0.016 <= 0.018 , 0.017 , 94.96, 853
> 0.018 <= 0.02 , 0.019 , 95.50, 537
> 0.02 <= 0.025 , 0.0225 , 96.92, 1404
> 0.025 <= 0.03 , 0.0275 , 98.68, 1750
> 0.03 <= 0.035 , 0.0325 , 99.44, 753
> 0.035 <= 0.04 , 0.0375 , 99.67, 228
> 0.04 <= 0.045 , 0.0425 , 99.84, 169
> 0.045 <= 0.05 , 0.0475 , 99.90, 54
> 0.05 <= 0.06 , 0.055 , 99.96, 64
> 0.06 <= 0.07 , 0.065 , 99.97, 11
> 0.07 <= 0.078757 , 0.0743785 , 100.00, 29
# target 50% 0.00903206
# target 75% 0.0109344
# target 90% 0.0134634
# target 99% 0.0320949
# target 99.9% 0.050742
Ping SERVING : 99251
All done 99251 calls (plus 32 warmup) 9.673 ms avg, 3307.4 qps
Successfully wrote 5534 bytes of Json data to /data/2018-12-22-004653_grpc_istio_0qps_30s_echo_0_6.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8080/echo
00:47:23 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
00:47:23 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
00:47:53 I periodic.go:533> T001 ended after 30.000003686s : 29654 calls. qps=988.4665452170772
00:47:53 I periodic.go:533> T025 ended after 30.002720503s : 29689 calls. qps=989.5435981224226
00:47:53 I periodic.go:533> T021 ended after 30.00277148s : 29784 calls. qps=992.7082909608589
00:47:53 I periodic.go:533> T002 ended after 30.002782697s : 29915 calls. qps=997.0741814888797
00:47:53 I periodic.go:533> T017 ended after 30.002792226s : 29854 calls. qps=995.0407207142854
00:47:53 I periodic.go:533> T018 ended after 30.002800674s : 29613 calls. qps=987.007857091895
00:47:53 I periodic.go:533> T015 ended after 30.002809821s : 29793 calls. qps=993.0069942698118
00:47:53 I periodic.go:533> T016 ended after 30.002818531s : 29725 calls. qps=990.7402522628684
00:47:53 I periodic.go:533> T030 ended after 30.002851113s : 29969 calls. qps=998.8717367935299
00:47:53 I periodic.go:533> T003 ended after 30.00286165s : 29626 calls. qps=987.4391431591993
00:47:53 I periodic.go:533> T006 ended after 30.00287071s : 29923 calls. qps=997.3378977374529
00:47:53 I periodic.go:533> T027 ended after 30.002879817s : 29771 calls. qps=992.2714146637146
00:47:53 I periodic.go:533> T019 ended after 30.002888592s : 29947 calls. qps=998.1372262931076
00:47:53 I periodic.go:533> T028 ended after 30.002897989s : 29795 calls. qps=993.0707363976566
00:47:53 I periodic.go:533> T005 ended after 30.00291999s : 29964 calls. qps=998.7027932610235
00:47:53 I periodic.go:533> T029 ended after 30.002929106s : 29698 calls. qps=989.8366887805291
00:47:53 I periodic.go:533> T013 ended after 30.002938102s : 29661 calls. qps=988.6031794340432
00:47:53 I periodic.go:533> T012 ended after 30.002947652s : 30048 calls. qps=1001.5015973937814
00:47:53 I periodic.go:533> T031 ended after 30.002957082s : 29742 calls. qps=991.3022879282602
00:47:53 I periodic.go:533> T000 ended after 30.00296586s : 29776 calls. qps=992.4352192026926
00:47:53 I periodic.go:533> T011 ended after 30.002974285s : 29814 calls. qps=993.7014816196247
00:47:53 I periodic.go:533> T022 ended after 30.002983289s : 29697 calls. qps=989.801571195349
00:47:53 I periodic.go:533> T026 ended after 30.003004992s : 29732 calls. qps=990.9674050291875
00:47:53 I periodic.go:533> T004 ended after 30.003014559s : 30008 calls. qps=1000.16616466956
00:47:53 I periodic.go:533> T007 ended after 30.003023693s : 29702 calls. qps=989.9668881350038
00:47:53 I periodic.go:533> T020 ended after 30.003034711s : 29963 calls. qps=998.6656446127656
00:47:53 I periodic.go:533> T008 ended after 30.003045426s : 29821 calls. qps=993.9324350773325
00:47:53 I periodic.go:533> T024 ended after 30.003053465s : 29745 calls. qps=991.3990932522574
00:47:53 I periodic.go:533> T009 ended after 30.003062815s : 29868 calls. qps=995.498365755763
00:47:53 I periodic.go:533> T014 ended after 30.004473745s : 29719 calls. qps=990.4856273292388
00:47:53 I periodic.go:533> T023 ended after 30.004487957s : 29602 calls. qps=986.5857415205081
00:47:53 I periodic.go:533> T010 ended after 30.004498157s : 29768 calls. qps=992.1179099292875
Ended after 30.004527826s : 953386 calls. qps=31775
Aggregated Function Time : count 953386 avg 0.0010065315 +/- 0.0006695 min 6.9124e-05 max 0.016330525 sum 959.613027
# range, mid point, percentile, count
>= 6.9124e-05 <= 0.0001 , 8.4562e-05 , 0.60, 5702
> 0.0001 <= 0.0002 , 0.00015 , 5.21, 44014
> 0.0002 <= 0.0003 , 0.00025 , 10.69, 52242
> 0.0003 <= 0.0004 , 0.00035 , 16.47, 55070
> 0.0004 <= 0.0005 , 0.00045 , 22.64, 58830
> 0.0005 <= 0.0006 , 0.00055 , 28.88, 59527
> 0.0006 <= 0.0007 , 0.00065 , 35.09, 59180
> 0.0007 <= 0.0008 , 0.00075 , 41.35, 59655
> 0.0008 <= 0.0009 , 0.00085 , 47.57, 59306
> 0.0009 <= 0.001 , 0.00095 , 53.91, 60483
> 0.001 <= 0.0011 , 0.00105 , 60.07, 58724
> 0.0011 <= 0.0012 , 0.00115 , 66.13, 57741
> 0.0012 <= 0.0014 , 0.0013 , 77.67, 110060
> 0.0014 <= 0.0016 , 0.0015 , 87.96, 98071
> 0.0016 <= 0.0018 , 0.0017 , 93.60, 53741
> 0.0018 <= 0.002 , 0.0019 , 95.35, 16754
> 0.002 <= 0.0025 , 0.00225 , 97.63, 21694
> 0.0025 <= 0.003 , 0.00275 , 98.67, 9902
> 0.003 <= 0.0035 , 0.00325 , 99.05, 3610
> 0.0035 <= 0.004 , 0.00375 , 99.30, 2360
> 0.004 <= 0.0045 , 0.00425 , 99.53, 2209
> 0.0045 <= 0.005 , 0.00475 , 99.71, 1739
> 0.005 <= 0.006 , 0.0055 , 99.91, 1932
> 0.006 <= 0.007 , 0.0065 , 99.97, 532
> 0.007 <= 0.008 , 0.0075 , 99.98, 143
> 0.008 <= 0.009 , 0.0085 , 99.98, 18
> 0.009 <= 0.01 , 0.0095 , 99.99, 48
> 0.01 <= 0.012 , 0.011 , 99.99, 35
> 0.012 <= 0.014 , 0.013 , 100.00, 61
> 0.014 <= 0.016 , 0.015 , 100.00, 2
> 0.016 <= 0.0163305 , 0.0161653 , 100.00, 1
# target 50% 0.000938303
# target 75% 0.00135367
# target 90% 0.00167236
# target 99% 0.00343714
# target 99.9% 0.00594131
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 953386 (100.0 %)
Response Header Sizes : count 953386 avg 75 +/- 0 min 75 max 75 sum 71503950
Response Body/Total Sizes : count 953386 avg 75 +/- 0 min 75 max 75 sum 71503950
All done 953386 calls (plus 32 warmup) 1.007 ms avg, 31774.7 qps
Successfully wrote 5701 bytes of Json data to /data/2018-12-22-004723_http_baseline_0qps_30s_echo_0_7.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8080/echo
00:47:53 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 32 threads at -1.0 qps
00:47:53 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
00:48:23 I periodic.go:533> T025 ended after 30.000056869s : 2270 calls. qps=75.66652323068301
00:48:23 I periodic.go:533> T011 ended after 30.00045107s : 2504 calls. qps=83.46541170855802
00:48:23 I periodic.go:533> T014 ended after 30.00069496s : 2500 calls. qps=83.33140293360724
00:48:23 I periodic.go:533> T013 ended after 30.003429729s : 2321 calls. qps=77.35782278772693
00:48:23 I periodic.go:533> T009 ended after 30.003479744s : 2497 calls. qps=83.22368009661753
00:48:23 I periodic.go:533> T020 ended after 30.00349316s : 2394 calls. qps=79.7907092761995
00:48:23 I periodic.go:533> T002 ended after 30.003523137s : 2367 calls. qps=78.89073523772423
00:48:23 I periodic.go:533> T005 ended after 30.003534128s : 2383 calls. qps=79.42397684998477
00:48:23 I periodic.go:533> T012 ended after 30.003545182s : 2350 calls. qps=78.32407756300191
00:48:23 I periodic.go:533> T026 ended after 30.003556031s : 2465 calls. qps=82.1569282472096
00:48:23 I periodic.go:533> T004 ended after 30.00356763s : 2461 calls. qps=82.0235790072942
00:48:23 I periodic.go:533> T017 ended after 30.00357884s : 2538 calls. qps=84.58990887501739
00:48:23 I periodic.go:533> T015 ended after 30.003589394s : 2428 calls. qps=80.92365110440893
00:48:23 I periodic.go:533> T019 ended after 30.003600669s : 2521 calls. qps=84.02324866977452
00:48:23 I periodic.go:533> T031 ended after 30.003613018s : 2455 calls. qps=81.82347900991715
00:48:23 I periodic.go:533> T001 ended after 30.00387626s : 2300 calls. qps=76.6567619486643
00:48:23 I periodic.go:533> T018 ended after 30.004991295s : 2438 calls. qps=81.25314805227974
00:48:23 I periodic.go:533> T029 ended after 30.005033583s : 2624 calls. qps=87.45199343775052
00:48:23 I periodic.go:533> T028 ended after 30.005047089s : 2457 calls. qps=81.88622376469286
00:48:23 I periodic.go:533> T021 ended after 30.00505776s : 2414 calls. qps=80.45310291713966
00:48:23 I periodic.go:533> T022 ended after 30.005069164s : 2540 calls. qps=84.65236277633664
00:48:23 I periodic.go:533> T016 ended after 30.005093752s : 2377 calls. qps=79.21988245217732
00:48:23 I periodic.go:533> T030 ended after 30.005296554s : 2475 calls. qps=82.48543704761545
00:48:23 I periodic.go:533> T000 ended after 30.005498305s : 2434 calls. qps=81.11846619772376
00:48:23 I periodic.go:533> T003 ended after 30.005691794s : 2458 calls. qps=81.91779136022141
00:48:23 I periodic.go:533> T010 ended after 30.00591264s : 2324 calls. qps=77.45140192476413
00:48:23 I periodic.go:533> T006 ended after 30.006125014s : 2598 calls. qps=86.58232273536979
00:48:23 I periodic.go:533> T023 ended after 30.006353925s : 2344 calls. qps=78.1167883928437
00:48:23 I periodic.go:533> T024 ended after 30.006558231s : 2552 calls. qps=85.04807450271021
00:48:23 I periodic.go:533> T027 ended after 30.006757126s : 2446 calls. qps=81.51497310186214
00:48:23 I periodic.go:533> T007 ended after 30.006967579s : 2407 calls. qps=80.21470325726978
00:48:23 I periodic.go:533> T008 ended after 30.007194445s : 2654 calls. qps=88.44545613434472
Ended after 30.007218607s : 78296 calls. qps=2609.2
Aggregated Function Time : count 78296 avg 0.012259614 +/- 0.01464 min 0.000366046 max 0.112546422 sum 959.878723
# range, mid point, percentile, count
>= 0.000366046 <= 0.0004 , 0.000383023 , 0.03, 25
> 0.0004 <= 0.0005 , 0.00045 , 2.41, 1865
> 0.0005 <= 0.0006 , 0.00055 , 10.90, 6643
> 0.0006 <= 0.0007 , 0.00065 , 40.13, 22884
> 0.0007 <= 0.0008 , 0.00075 , 51.33, 8776
> 0.0008 <= 0.0009 , 0.00085 , 53.28, 1524
> 0.0009 <= 0.001 , 0.00095 , 53.88, 466
> 0.001 <= 0.0011 , 0.00105 , 54.14, 208
> 0.0011 <= 0.0012 , 0.00115 , 54.31, 134
> 0.0012 <= 0.0014 , 0.0013 , 54.51, 158
> 0.0014 <= 0.0016 , 0.0015 , 54.71, 152
> 0.0016 <= 0.0018 , 0.0017 , 55.01, 234
> 0.0018 <= 0.002 , 0.0019 , 55.18, 135
> 0.002 <= 0.0025 , 0.00225 , 55.31, 103
> 0.0025 <= 0.003 , 0.00275 , 55.41, 78
> 0.003 <= 0.0035 , 0.00325 , 55.48, 53
> 0.0035 <= 0.004 , 0.00375 , 55.57, 74
> 0.004 <= 0.0045 , 0.00425 , 55.67, 79
> 0.0045 <= 0.005 , 0.00475 , 55.77, 75
> 0.005 <= 0.006 , 0.0055 , 55.91, 110
> 0.006 <= 0.007 , 0.0065 , 56.05, 106
> 0.007 <= 0.008 , 0.0075 , 56.20, 117
> 0.008 <= 0.009 , 0.0085 , 56.38, 141
> 0.009 <= 0.01 , 0.0095 , 56.68, 235
> 0.01 <= 0.012 , 0.011 , 57.52, 657
> 0.012 <= 0.014 , 0.013 , 58.99, 1154
> 0.014 <= 0.016 , 0.015 , 61.05, 1617
> 0.016 <= 0.018 , 0.017 , 63.68, 2057
> 0.018 <= 0.02 , 0.019 , 66.93, 2544
> 0.02 <= 0.025 , 0.0225 , 76.12, 7198
> 0.025 <= 0.03 , 0.0275 , 85.39, 7257
> 0.03 <= 0.035 , 0.0325 , 92.51, 5572
> 0.035 <= 0.04 , 0.0375 , 96.22, 2902
> 0.04 <= 0.045 , 0.0425 , 97.86, 1284
> 0.045 <= 0.05 , 0.0475 , 98.85, 781
> 0.05 <= 0.06 , 0.055 , 99.70, 664
> 0.06 <= 0.07 , 0.065 , 99.87, 135
> 0.07 <= 0.08 , 0.075 , 99.92, 40
> 0.08 <= 0.09 , 0.085 , 99.94, 9
> 0.09 <= 0.1 , 0.095 , 99.97, 24
> 0.1 <= 0.112546 , 0.106273 , 100.00, 26
# target 50% 0.000788093
# target 75% 0.0243887
# target 90% 0.0332371
# target 99% 0.0517325
# target 99.9% 0.075176
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 78296 (100.0 %)
Response Header Sizes : count 78296 avg 209.43023 +/- 0.4957 min 209 max 211 sum 16397549
Response Body/Total Sizes : count 78296 avg 209.43023 +/- 0.4957 min 209 max 211 sum 16397549
All done 78296 calls (plus 32 warmup) 12.260 ms avg, 2609.2 qps
Successfully wrote 7049 bytes of Json data to /data/2018-12-22-004753_http_istio_0qps_30s_echo_0_7.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8079
00:48:23 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
00:48:53 I periodic.go:533> T012 ended after 30.000004109s : 16127 calls. qps=537.5665930379623
00:48:53 I periodic.go:533> T021 ended after 30.000428965s : 16135 calls. qps=537.8256430541009
00:48:53 I periodic.go:533> T029 ended after 30.002419451s : 16172 calls. qps=539.0231953263681
00:48:53 I periodic.go:533> T018 ended after 30.004496934s : 16172 calls. qps=538.9858738699425
00:48:53 I periodic.go:533> T005 ended after 30.004567686s : 16227 calls. qps=540.8176571586281
00:48:53 I periodic.go:533> T023 ended after 30.00474877s : 16243 calls. qps=541.3476421519126
00:48:53 I periodic.go:533> T013 ended after 30.004778038s : 16209 calls. qps=540.2139612388356
00:48:53 I periodic.go:533> T015 ended after 30.004816578s : 16204 calls. qps=540.0466274431761
00:48:53 I periodic.go:533> T003 ended after 30.004839032s : 16153 calls. qps=538.3464974690553
00:48:53 I periodic.go:533> T030 ended after 30.005391302s : 16165 calls. qps=538.736516957955
00:48:53 I periodic.go:533> T026 ended after 30.005440352s : 16144 calls. qps=538.0357632019864
00:48:53 I periodic.go:533> T022 ended after 30.005466984s : 16226 calls. qps=540.7681209778301
00:48:53 I periodic.go:533> T002 ended after 30.005536326s : 16144 calls. qps=538.0340422714296
00:48:53 I periodic.go:533> T028 ended after 30.005561769s : 16158 calls. qps=538.5001662156349
00:48:53 I periodic.go:533> T031 ended after 30.005608831s : 16154 calls. qps=538.3660132005272
00:48:53 I periodic.go:533> T017 ended after 30.005634066s : 16193 calls. qps=539.6653163329956
00:48:53 I periodic.go:533> T014 ended after 30.005658915s : 16121 calls. qps=537.2653220403375
00:48:53 I periodic.go:533> T009 ended after 30.005697646s : 16164 calls. qps=538.6976897087674
00:48:53 I periodic.go:533> T001 ended after 30.005730859s : 16124 calls. qps=537.3640147533258
00:48:53 I periodic.go:533> T006 ended after 30.005768247s : 16160 calls. qps=538.5631144976829
00:48:53 I periodic.go:533> T004 ended after 30.005791606s : 16154 calls. qps=538.3627338386841
00:48:53 I periodic.go:533> T000 ended after 30.005815398s : 16207 calls. qps=540.1286312346059
00:48:53 I periodic.go:533> T025 ended after 30.005875349s : 16181 calls. qps=539.2610551033054
00:48:53 I periodic.go:533> T011 ended after 30.005900386s : 16187 calls. qps=539.4605658143306
00:48:53 I periodic.go:533> T016 ended after 30.005939093s : 16175 calls. qps=539.0599490943251
00:48:53 I periodic.go:533> T024 ended after 30.005964447s : 16122 calls. qps=537.2931781105233
00:48:53 I periodic.go:533> T019 ended after 30.005987503s : 16139 calls. qps=537.8593188571589
00:48:53 I periodic.go:533> T010 ended after 30.006026709s : 16151 calls. qps=538.2585357479427
00:48:53 I periodic.go:533> T020 ended after 30.006053078s : 16220 calls. qps=540.5575987563744
00:48:53 I periodic.go:533> T007 ended after 30.006089903s : 16170 calls. qps=538.8906069492023
00:48:53 I periodic.go:533> T027 ended after 30.007978333s : 16108 calls. qps=536.7905768675496
00:48:53 I periodic.go:533> T008 ended after 30.008050427s : 16216 calls. qps=540.3883214422192
Ended after 30.0080785s : 517425 calls. qps=17243
Aggregated Function Time : count 517425 avg 0.0018551155 +/- 0.0009847 min 0.000232396 max 0.03066557 sum 959.88315
# range, mid point, percentile, count
>= 0.000232396 <= 0.0003 , 0.000266198 , 0.00, 1
> 0.0003 <= 0.0004 , 0.00035 , 0.00, 5
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 41
> 0.0005 <= 0.0006 , 0.00055 , 0.19, 934
> 0.0006 <= 0.0007 , 0.00065 , 0.77, 3018
> 0.0007 <= 0.0008 , 0.00075 , 1.69, 4737
> 0.0008 <= 0.0009 , 0.00085 , 2.82, 5857
> 0.0009 <= 0.001 , 0.00095 , 4.33, 7793
> 0.001 <= 0.0011 , 0.00105 , 7.13, 14514
> 0.0011 <= 0.0012 , 0.00115 , 13.19, 31335
> 0.0012 <= 0.0014 , 0.0013 , 30.46, 89372
> 0.0014 <= 0.0016 , 0.0015 , 51.89, 110873
> 0.0016 <= 0.0018 , 0.0017 , 68.04, 83560
> 0.0018 <= 0.002 , 0.0019 , 76.83, 45495
> 0.002 <= 0.0025 , 0.00225 , 86.20, 48472
> 0.0025 <= 0.003 , 0.00275 , 89.94, 19341
> 0.003 <= 0.0035 , 0.00325 , 92.62, 13912
> 0.0035 <= 0.004 , 0.00375 , 95.33, 13990
> 0.004 <= 0.0045 , 0.00425 , 97.33, 10368
> 0.0045 <= 0.005 , 0.00475 , 98.45, 5797
> 0.005 <= 0.006 , 0.0055 , 99.41, 4953
> 0.006 <= 0.007 , 0.0065 , 99.70, 1518
> 0.007 <= 0.008 , 0.0075 , 99.83, 682
> 0.008 <= 0.009 , 0.0085 , 99.89, 297
> 0.009 <= 0.01 , 0.0095 , 99.92, 168
> 0.01 <= 0.012 , 0.011 , 99.96, 188
> 0.012 <= 0.014 , 0.013 , 99.98, 89
> 0.014 <= 0.016 , 0.015 , 99.99, 66
> 0.016 <= 0.018 , 0.017 , 99.99, 17
> 0.025 <= 0.03 , 0.0275 , 100.00, 25
> 0.03 <= 0.0306656 , 0.0303328 , 100.00, 7
# target 50% 0.00158238
# target 75% 0.00195839
# target 90% 0.00301202
# target 99% 0.00557253
# target 99.9% 0.00925342
Ping SERVING : 517425
All done 517425 calls (plus 32 warmup) 1.855 ms avg, 17242.9 qps
Successfully wrote 5194 bytes of Json data to /data/2018-12-22-004823_grpc_baseline_0qps_30s_echo_0_7.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8079
00:48:53 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
00:49:23 I periodic.go:533> T025 ended after 30.001152907s : 3118 calls. qps=103.92933930457367
00:49:23 I periodic.go:533> T014 ended after 30.005359913s : 3192 calls. qps=106.38099357098687
00:49:23 I periodic.go:533> T019 ended after 30.005910672s : 3149 calls. qps=104.9459899558552
00:49:23 I periodic.go:533> T003 ended after 30.005932627s : 3124 calls. qps=104.11274459734526
00:49:23 I periodic.go:533> T007 ended after 30.00594495s : 3165 calls. qps=105.47909773459742
00:49:23 I periodic.go:533> T011 ended after 30.005956768s : 3167 calls. qps=105.54570962314598
00:49:23 I periodic.go:533> T021 ended after 30.005967456s : 3156 calls. qps=105.17907828260759
00:49:23 I periodic.go:533> T017 ended after 30.006005919s : 3112 calls. qps=103.71257035677185
00:49:23 I periodic.go:533> T013 ended after 30.006017902s : 3167 calls. qps=105.54549458523482
00:49:23 I periodic.go:533> T005 ended after 30.006028176s : 3105 calls. qps=103.47920697093463
00:49:23 I periodic.go:533> T031 ended after 30.006068293s : 3179 calls. qps=105.9452364421105
00:49:23 I periodic.go:533> T023 ended after 30.006080254s : 3101 calls. qps=103.34572105887163
00:49:23 I periodic.go:533> T009 ended after 30.006091105s : 3137 calls. qps=104.54544009157104
00:49:23 I periodic.go:533> T029 ended after 30.006102397s : 3145 calls. qps=104.81201318283964
00:49:23 I periodic.go:533> T000 ended after 30.006113224s : 3085 calls. qps=102.81238282912639
00:49:23 I periodic.go:533> T015 ended after 30.006123839s : 3128 calls. qps=104.24538726772933
00:49:23 I periodic.go:533> T027 ended after 30.006147958s : 3176 calls. qps=105.84497565117286
00:49:23 I periodic.go:533> T024 ended after 30.006916901s : 3153 calls. qps=105.07577337593534
00:49:23 I periodic.go:533> T030 ended after 30.007327079s : 3107 calls. qps=103.54137813808711
00:49:23 I periodic.go:533> T012 ended after 30.007346074s : 3132 calls. qps=104.37444192086468
00:49:23 I periodic.go:533> T004 ended after 30.007393867s : 3132 calls. qps=104.37427568291264
00:49:23 I periodic.go:533> T022 ended after 30.007407971s : 3129 calls. qps=104.27425131234105
00:49:23 I periodic.go:533> T010 ended after 30.007426679s : 3123 calls. qps=104.07423580195095
00:49:23 I periodic.go:533> T001 ended after 30.007438011s : 3111 calls. qps=103.67429564828502
00:49:23 I periodic.go:533> T002 ended after 30.007448512s : 3132 calls. qps=104.37408561236091
00:49:23 I periodic.go:533> T008 ended after 30.00748967s : 3166 calls. qps=105.50699291467923
00:49:23 I periodic.go:533> T016 ended after 30.007502517s : 3146 calls. qps=104.84044775861345
00:49:23 I periodic.go:533> T026 ended after 30.007514038s : 3160 calls. qps=105.30695731736843
00:49:23 I periodic.go:533> T020 ended after 30.007524312s : 3185 calls. qps=106.14004563936383
00:49:23 I periodic.go:533> T028 ended after 30.007535603s : 3125 calls. qps=104.14050794919588
00:49:23 I periodic.go:533> T006 ended after 30.007546226s : 3111 calls. qps=103.67392177186677
00:49:23 I periodic.go:533> T018 ended after 30.008677981s : 3142 calls. qps=104.70304629845266
Ended after 30.008711397s : 100460 calls. qps=3347.7
Aggregated Function Time : count 100460 avg 0.0095559084 +/- 0.005138 min 0.000756418 max 0.067792537 sum 959.986554
# range, mid point, percentile, count
>= 0.000756418 <= 0.0008 , 0.000778209 , 0.00, 1
> 0.0009 <= 0.001 , 0.00095 , 0.01, 13
> 0.001 <= 0.0011 , 0.00105 , 0.03, 17
> 0.0011 <= 0.0012 , 0.00115 , 0.05, 18
> 0.0012 <= 0.0014 , 0.0013 , 0.17, 118
> 0.0014 <= 0.0016 , 0.0015 , 0.30, 134
> 0.0016 <= 0.0018 , 0.0017 , 0.36, 61
> 0.0018 <= 0.002 , 0.0019 , 0.44, 84
> 0.002 <= 0.0025 , 0.00225 , 0.83, 384
> 0.0025 <= 0.003 , 0.00275 , 2.16, 1336
> 0.003 <= 0.0035 , 0.00325 , 2.77, 615
> 0.0035 <= 0.004 , 0.00375 , 3.55, 788
> 0.004 <= 0.0045 , 0.00425 , 4.80, 1256
> 0.0045 <= 0.005 , 0.00475 , 7.85, 3066
> 0.005 <= 0.006 , 0.0055 , 18.51, 10703
> 0.006 <= 0.007 , 0.0065 , 25.08, 6604
> 0.007 <= 0.008 , 0.0075 , 35.21, 10170
> 0.008 <= 0.009 , 0.0085 , 52.07, 16945
> 0.009 <= 0.01 , 0.0095 , 67.35, 15347
> 0.01 <= 0.012 , 0.011 , 86.01, 18741
> 0.012 <= 0.014 , 0.013 , 92.55, 6575
> 0.014 <= 0.016 , 0.015 , 94.51, 1967
> 0.016 <= 0.018 , 0.017 , 95.28, 774
> 0.018 <= 0.02 , 0.019 , 95.92, 643
> 0.02 <= 0.025 , 0.0225 , 97.14, 1231
> 0.025 <= 0.03 , 0.0275 , 98.54, 1405
> 0.03 <= 0.035 , 0.0325 , 99.36, 817
> 0.035 <= 0.04 , 0.0375 , 99.66, 306
> 0.04 <= 0.045 , 0.0425 , 99.85, 186
> 0.045 <= 0.05 , 0.0475 , 99.94, 92
> 0.05 <= 0.06 , 0.055 , 99.96, 18
> 0.06 <= 0.0677925 , 0.0638963 , 100.00, 45
# target 50% 0.00887707
# target 75% 0.0108201
# target 90% 0.0132207
# target 99% 0.0328115
# target 99.9% 0.0479641
Ping SERVING : 100460
All done 100460 calls (plus 32 warmup) 9.556 ms avg, 3347.7 qps
Successfully wrote 5273 bytes of Json data to /data/2018-12-22-004853_grpc_istio_0qps_30s_echo_0_7.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8080/echo
00:49:23 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
00:49:23 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
00:49:53 I periodic.go:533> T013 ended after 30.000041809s : 29870 calls. qps=995.665279074345
00:49:53 I periodic.go:533> T021 ended after 30.000657521s : 29764 calls. qps=992.1115888598661
00:49:53 I periodic.go:533> T014 ended after 30.003901479s : 30158 calls. qps=1005.1359494400372
00:49:53 I periodic.go:533> T000 ended after 30.003956136s : 30099 calls. qps=1003.16771107014
00:49:53 I periodic.go:533> T007 ended after 30.003968309s : 30038 calls. qps=1001.1342396662175
00:49:53 I periodic.go:533> T028 ended after 30.003978466s : 30088 calls. qps=1002.8003464305646
00:49:53 I periodic.go:533> T024 ended after 30.003986576s : 29974 calls. qps=999.000580275423
00:49:53 I periodic.go:533> T022 ended after 30.003995049s : 30239 calls. qps=1007.8324553319053
00:49:53 I periodic.go:533> T023 ended after 30.004003049s : 30276 calls. qps=1009.065355397938
00:49:53 I periodic.go:533> T010 ended after 30.004010939s : 30115 calls. qps=1003.6991407990635
00:49:53 I periodic.go:533> T026 ended after 30.004019226s : 29828 calls. qps=994.1334784292009
00:49:53 I periodic.go:533> T030 ended after 30.00403571s : 30033 calls. qps=1000.9653464713864
00:49:53 I periodic.go:533> T027 ended after 30.004043702s : 30005 calls. qps=1000.03187230393
00:49:53 I periodic.go:533> T008 ended after 30.004052063s : 29994 calls. qps=999.6649764845464
00:49:53 I periodic.go:533> T017 ended after 30.004060711s : 30075 calls. qps=1002.3643229389278
00:49:53 I periodic.go:533> T015 ended after 30.004069385s : 30121 calls. qps=1003.8971585320509
00:49:53 I periodic.go:533> T001 ended after 30.004077468s : 29940 calls. qps=997.8643746647989
00:49:53 I periodic.go:533> T003 ended after 30.004086362s : 30220 calls. qps=1007.1961410654202
00:49:53 I periodic.go:533> T029 ended after 30.004094648s : 30054 calls. qps=1001.6632847144857
00:49:53 I periodic.go:533> T020 ended after 30.004102564s : 29908 calls. qps=996.7970192144554
00:49:53 I periodic.go:533> T006 ended after 30.004110349s : 30125 calls. qps=1004.0291029993505
00:49:53 I periodic.go:533> T005 ended after 30.004117933s : 29870 calls. qps=995.5300158031811
00:49:53 I periodic.go:533> T019 ended after 30.004125808s : 29774 calls. qps=992.3301945381577
00:49:53 I periodic.go:533> T009 ended after 30.004134365s : 29795 calls. qps=993.0298150762865
00:49:53 I periodic.go:533> T025 ended after 30.004142948s : 30127 calls. qps=1004.0946695998924
00:49:53 I periodic.go:533> T004 ended after 30.004150489s : 30065 calls. qps=1002.0280364552333
00:49:53 I periodic.go:533> T011 ended after 30.004158532s : 29976 calls. qps=999.0615123576963
00:49:53 I periodic.go:533> T031 ended after 30.0041663s : 30026 calls. qps=1000.7276889409854
00:49:53 I periodic.go:533> T018 ended after 30.004174279s : 30038 calls. qps=1001.1273671684968
00:49:53 I periodic.go:533> T012 ended after 30.004181934s : 30331 calls. qps=1010.8924171543453
00:49:53 I periodic.go:533> T002 ended after 30.004190192s : 30211 calls. qps=1006.8926975424633
00:49:53 I periodic.go:533> T016 ended after 30.004199602s : 29664 calls. qps=988.661600492175
Ended after 30.004325626s : 960801 calls. qps=32022
Aggregated Function Time : count 960801 avg 0.00099886966 +/- 0.0006636 min 7.3108e-05 max 0.017142351 sum 959.714965
# range, mid point, percentile, count
>= 7.3108e-05 <= 0.0001 , 8.6554e-05 , 0.53, 5049
> 0.0001 <= 0.0002 , 0.00015 , 5.12, 44169
> 0.0002 <= 0.0003 , 0.00025 , 10.61, 52721
> 0.0003 <= 0.0004 , 0.00035 , 16.38, 55480
> 0.0004 <= 0.0005 , 0.00045 , 22.60, 59711
> 0.0005 <= 0.0006 , 0.00055 , 28.94, 60899
> 0.0006 <= 0.0007 , 0.00065 , 35.25, 60680
> 0.0007 <= 0.0008 , 0.00075 , 41.53, 60330
> 0.0008 <= 0.0009 , 0.00085 , 47.83, 60513
> 0.0009 <= 0.001 , 0.00095 , 54.13, 60551
> 0.001 <= 0.0011 , 0.00105 , 60.37, 59967
> 0.0011 <= 0.0012 , 0.00115 , 66.46, 58521
> 0.0012 <= 0.0014 , 0.0013 , 78.18, 112549
> 0.0014 <= 0.0016 , 0.0015 , 88.51, 99227
> 0.0016 <= 0.0018 , 0.0017 , 93.96, 52376
> 0.0018 <= 0.002 , 0.0019 , 95.64, 16124
> 0.002 <= 0.0025 , 0.00225 , 97.85, 21250
> 0.0025 <= 0.003 , 0.00275 , 98.84, 9558
> 0.003 <= 0.0035 , 0.00325 , 99.16, 3027
> 0.0035 <= 0.004 , 0.00375 , 99.37, 2006
> 0.004 <= 0.0045 , 0.00425 , 99.55, 1743
> 0.0045 <= 0.005 , 0.00475 , 99.72, 1695
> 0.005 <= 0.006 , 0.0055 , 99.92, 1875
> 0.006 <= 0.007 , 0.0065 , 99.96, 423
> 0.007 <= 0.008 , 0.0075 , 99.98, 164
> 0.008 <= 0.009 , 0.0085 , 99.98, 33
> 0.01 <= 0.012 , 0.011 , 99.99, 26
> 0.012 <= 0.014 , 0.013 , 99.99, 61
> 0.014 <= 0.016 , 0.015 , 100.00, 52
> 0.016 <= 0.0171424 , 0.0165712 , 100.00, 21
# target 50% 0.000934431
# target 75% 0.00134573
# target 90% 0.00165481
# target 99% 0.00325074
# target 99.9% 0.00590357
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 960801 (100.0 %)
Response Header Sizes : count 960801 avg 75 +/- 0 min 75 max 75 sum 72060075
Response Body/Total Sizes : count 960801 avg 75 +/- 0 min 75 max 75 sum 72060075
All done 960801 calls (plus 32 warmup) 0.999 ms avg, 32022.1 qps
Successfully wrote 5576 bytes of Json data to /data/2018-12-22-004923_http_baseline_0qps_30s_echo_0_8.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8080/echo
00:49:54 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 32 threads at -1.0 qps
00:49:54 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
00:50:24 I periodic.go:533> T010 ended after 30.00019508s : 2552 calls. qps=85.06611351008588
00:50:24 I periodic.go:533> T004 ended after 30.000558656s : 2391 calls. qps=79.69851586486404
00:50:24 I periodic.go:533> T012 ended after 30.002563613s : 2543 calls. qps=84.75942365465488
00:50:24 I periodic.go:533> T001 ended after 30.002640099s : 2381 calls. qps=79.35968275269748
00:50:24 I periodic.go:533> T011 ended after 30.002654409s : 2304 calls. qps=76.79320531415584
00:50:24 I periodic.go:533> T017 ended after 30.002665421s : 2563 calls. qps=85.4257434809795
00:50:24 I periodic.go:533> T027 ended after 30.002678379s : 2422 calls. qps=80.72612616129794
00:50:24 I periodic.go:533> T026 ended after 30.002689001s : 2591 calls. qps=86.35892602538529
00:50:24 I periodic.go:533> T018 ended after 30.002699639s : 2544 calls. qps=84.79236970706121
00:50:24 I periodic.go:533> T013 ended after 30.004958773s : 2396 calls. qps=79.8534674927147
00:50:24 I periodic.go:533> T008 ended after 30.00497448s : 2621 calls. qps=87.35218227721019
00:50:24 I periodic.go:533> T016 ended after 30.005017232s : 2463 calls. qps=82.08627180434475
00:50:24 I periodic.go:533> T025 ended after 30.005029859s : 2637 calls. qps=87.88526498363183
00:50:24 I periodic.go:533> T028 ended after 30.005041304s : 2684 calls. qps=89.45163490383842
00:50:24 I periodic.go:533> T022 ended after 30.005052001s : 2435 calls. qps=81.15300049867759
00:50:24 I periodic.go:533> T030 ended after 30.005061792s : 2437 calls. qps=81.21962943764899
00:50:24 I periodic.go:533> T014 ended after 30.005072012s : 2583 calls. qps=86.08544578619824
00:50:24 I periodic.go:533> T031 ended after 30.005096799s : 2593 calls. qps=86.41865138346824
00:50:24 I periodic.go:533> T019 ended after 30.005107458s : 2365 calls. qps=78.81991435326256
00:50:24 I periodic.go:533> T015 ended after 30.005117168s : 2593 calls. qps=86.41859271809126
00:50:24 I periodic.go:533> T009 ended after 30.005127763s : 2532 calls. qps=84.38557635879378
00:50:24 I periodic.go:533> T029 ended after 30.005138333s : 2406 calls. qps=80.1862658754635
00:50:24 I periodic.go:533> T007 ended after 30.005180029s : 2457 calls. qps=81.8858609621842
00:50:24 I periodic.go:533> T021 ended after 30.005193172s : 2457 calls. qps=81.88582509419747
00:50:24 I periodic.go:533> T005 ended after 30.005527274s : 2531 calls. qps=84.35112560721869
00:50:24 I periodic.go:533> T000 ended after 30.005749512s : 2635 calls. qps=87.81650326535592
00:50:24 I periodic.go:533> T023 ended after 30.006025853s : 2613 calls. qps=87.08250845350626
00:50:24 I periodic.go:533> T024 ended after 30.006045648s : 2397 calls. qps=79.88390166832156
00:50:24 I periodic.go:533> T002 ended after 30.006244987s : 2546 calls. qps=84.84900396910834
00:50:24 I periodic.go:533> T003 ended after 30.006451729s : 2535 calls. qps=84.48183153724993
00:50:24 I periodic.go:533> T006 ended after 30.006666058s : 2563 calls. qps=85.41435409871818
00:50:24 I periodic.go:533> T020 ended after 30.006880833s : 2579 calls. qps=85.9469537788063
Ended after 30.006903103s : 80349 calls. qps=2677.7
Aggregated Function Time : count 80349 avg 0.0119473 +/- 0.01409 min 0.000365943 max 0.089836393 sum 959.953607
# range, mid point, percentile, count
>= 0.000365943 <= 0.0004 , 0.000382972 , 0.06, 47
> 0.0004 <= 0.0005 , 0.00045 , 2.50, 1963
> 0.0005 <= 0.0006 , 0.00055 , 12.43, 7977
> 0.0006 <= 0.0007 , 0.00065 , 41.64, 23474
> 0.0007 <= 0.0008 , 0.00075 , 51.29, 7750
> 0.0008 <= 0.0009 , 0.00085 , 52.88, 1276
> 0.0009 <= 0.001 , 0.00095 , 53.42, 438
> 0.001 <= 0.0011 , 0.00105 , 53.67, 196
> 0.0011 <= 0.0012 , 0.00115 , 53.81, 117
> 0.0012 <= 0.0014 , 0.0013 , 53.99, 142
> 0.0014 <= 0.0016 , 0.0015 , 54.17, 149
> 0.0016 <= 0.0018 , 0.0017 , 54.54, 292
> 0.0018 <= 0.002 , 0.0019 , 54.69, 121
> 0.002 <= 0.0025 , 0.00225 , 54.83, 112
> 0.0025 <= 0.003 , 0.00275 , 54.92, 77
> 0.003 <= 0.0035 , 0.00325 , 54.99, 53
> 0.0035 <= 0.004 , 0.00375 , 55.09, 78
> 0.004 <= 0.0045 , 0.00425 , 55.19, 81
> 0.0045 <= 0.005 , 0.00475 , 55.30, 86
> 0.005 <= 0.006 , 0.0055 , 55.45, 124
> 0.006 <= 0.007 , 0.0065 , 55.61, 126
> 0.007 <= 0.008 , 0.0075 , 55.81, 161
> 0.008 <= 0.009 , 0.0085 , 56.08, 222
> 0.009 <= 0.01 , 0.0095 , 56.42, 267
> 0.01 <= 0.012 , 0.011 , 57.51, 883
> 0.012 <= 0.014 , 0.013 , 59.23, 1382
> 0.014 <= 0.016 , 0.015 , 61.69, 1970
> 0.016 <= 0.018 , 0.017 , 64.57, 2315
> 0.018 <= 0.02 , 0.019 , 67.99, 2753
> 0.02 <= 0.025 , 0.0225 , 77.50, 7640
> 0.025 <= 0.03 , 0.0275 , 86.82, 7487
> 0.03 <= 0.035 , 0.0325 , 93.47, 5347
> 0.035 <= 0.04 , 0.0375 , 96.76, 2639
> 0.04 <= 0.045 , 0.0425 , 98.30, 1241
> 0.045 <= 0.05 , 0.0475 , 99.15, 678
> 0.05 <= 0.06 , 0.055 , 99.76, 494
> 0.06 <= 0.07 , 0.065 , 99.90, 114
> 0.07 <= 0.08 , 0.075 , 99.97, 55
> 0.08 <= 0.0898364 , 0.0849182 , 100.00, 22
# target 50% 0.000786626
# target 75% 0.0236844
# target 90% 0.0323893
# target 99% 0.0491262
# target 99.9% 0.0697062
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 80349 (100.0 %)
Response Header Sizes : count 80349 avg 209.43199 +/- 0.4954 min 209 max 210 sum 16827651
Response Body/Total Sizes : count 80349 avg 209.43199 +/- 0.4954 min 209 max 210 sum 16827651
All done 80349 calls (plus 32 warmup) 11.947 ms avg, 2677.7 qps
Successfully wrote 6788 bytes of Json data to /data/2018-12-22-004954_http_istio_0qps_30s_echo_0_8.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8079
00:50:24 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
00:50:54 I periodic.go:533> T031 ended after 30.001051165s : 16341 calls. qps=544.6809150161989
00:50:54 I periodic.go:533> T029 ended after 30.001592413s : 16309 calls. qps=543.6044785720487
00:50:54 I periodic.go:533> T017 ended after 30.004792244s : 16314 calls. qps=543.7131464645378
00:50:54 I periodic.go:533> T011 ended after 30.004834582s : 16354 calls. qps=545.045497761578
00:50:54 I periodic.go:533> T013 ended after 30.004860641s : 16341 calls. qps=544.6117612581382
00:50:54 I periodic.go:533> T016 ended after 30.00488759s : 16332 calls. qps=544.3113209810228
00:50:54 I periodic.go:533> T004 ended after 30.004937339s : 16361 calls. qps=545.276926098899
00:50:54 I periodic.go:533> T025 ended after 30.004972992s : 16369 calls. qps=545.542900650647
00:50:54 I periodic.go:533> T019 ended after 30.004998719s : 16313 calls. qps=543.6760772021015
00:50:54 I periodic.go:533> T008 ended after 30.005028629s : 16314 calls. qps=543.7088629947996
00:50:54 I periodic.go:533> T024 ended after 30.005053523s : 16350 calls. qps=544.9082097942971
00:50:54 I periodic.go:533> T028 ended after 30.005077601s : 16378 calls. qps=545.8409479152342
00:50:54 I periodic.go:533> T021 ended after 30.005104746s : 16341 calls. qps=544.6073305969188
00:50:54 I periodic.go:533> T000 ended after 30.005129233s : 16325 calls. qps=544.073643983695
00:50:54 I periodic.go:533> T022 ended after 30.005155046s : 16332 calls. qps=544.3064691704443
00:50:54 I periodic.go:533> T010 ended after 30.005181914s : 16372 calls. qps=545.6390848395774
00:50:54 I periodic.go:533> T005 ended after 30.00520523s : 16314 calls. qps=543.7056628990769
00:50:54 I periodic.go:533> T026 ended after 30.005234093s : 16343 calls. qps=544.6716379330866
00:50:54 I periodic.go:533> T006 ended after 30.005259363s : 16344 calls. qps=544.7045067090494
00:50:54 I periodic.go:533> T027 ended after 30.005284514s : 16454 calls. qps=548.37007102275
00:50:54 I periodic.go:533> T030 ended after 30.005308185s : 16363 calls. qps=545.3368417052304
00:50:54 I periodic.go:533> T020 ended after 30.005332756s : 16346 calls. qps=544.7698291808272
00:50:54 I periodic.go:533> T007 ended after 30.005359766s : 16309 calls. qps=543.5362257672455
00:50:54 I periodic.go:533> T018 ended after 30.005383073s : 16372 calls. qps=545.635426822201
00:50:54 I periodic.go:533> T015 ended after 30.005407362s : 16392 calls. qps=546.301531661905
00:50:54 I periodic.go:533> T012 ended after 30.005429998s : 16399 calls. qps=546.5344106414428
00:50:54 I periodic.go:533> T014 ended after 30.00545186s : 16309 calls. qps=543.5345575229074
00:50:54 I periodic.go:533> T001 ended after 30.006115089s : 16333 calls. qps=544.3223806732497
00:50:54 I periodic.go:533> T002 ended after 30.00806536s : 16345 calls. qps=544.6868968030001
00:50:54 I periodic.go:533> T003 ended after 30.00818882s : 16337 calls. qps=544.4180619495315
00:50:54 I periodic.go:533> T023 ended after 30.008379228s : 16330 calls. qps=544.1813393494749
00:50:54 I periodic.go:533> T009 ended after 30.008536188s : 16321 calls. qps=543.8785783402038
Ended after 30.008554027s : 523057 calls. qps=17430
Aggregated Function Time : count 523057 avg 0.001835129 +/- 0.0009477 min 0.000254722 max 0.016698152 sum 959.877069
# range, mid point, percentile, count
>= 0.000254722 <= 0.0003 , 0.000277361 , 0.00, 3
> 0.0003 <= 0.0004 , 0.00035 , 0.00, 6
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 34
> 0.0005 <= 0.0006 , 0.00055 , 0.18, 893
> 0.0006 <= 0.0007 , 0.00065 , 0.77, 3098
> 0.0007 <= 0.0008 , 0.00075 , 1.71, 4898
> 0.0008 <= 0.0009 , 0.00085 , 2.86, 6021
> 0.0009 <= 0.001 , 0.00095 , 4.36, 7877
> 0.001 <= 0.0011 , 0.00105 , 7.22, 14933
> 0.0011 <= 0.0012 , 0.00115 , 13.15, 31008
> 0.0012 <= 0.0014 , 0.0013 , 30.68, 91683
> 0.0014 <= 0.0016 , 0.0015 , 53.30, 118312
> 0.0016 <= 0.0018 , 0.0017 , 69.55, 85031
> 0.0018 <= 0.002 , 0.0019 , 77.92, 43771
> 0.002 <= 0.0025 , 0.00225 , 86.77, 46283
> 0.0025 <= 0.003 , 0.00275 , 90.36, 18760
> 0.003 <= 0.0035 , 0.00325 , 92.73, 12423
> 0.0035 <= 0.004 , 0.00375 , 95.50, 14474
> 0.004 <= 0.0045 , 0.00425 , 97.56, 10800
> 0.0045 <= 0.005 , 0.00475 , 98.58, 5326
> 0.005 <= 0.006 , 0.0055 , 99.42, 4388
> 0.006 <= 0.007 , 0.0065 , 99.72, 1556
> 0.007 <= 0.008 , 0.0075 , 99.86, 726
> 0.008 <= 0.009 , 0.0085 , 99.91, 300
> 0.009 <= 0.01 , 0.0095 , 99.94, 123
> 0.01 <= 0.012 , 0.011 , 99.97, 148
> 0.012 <= 0.014 , 0.013 , 99.98, 82
> 0.014 <= 0.016 , 0.015 , 99.99, 56
> 0.016 <= 0.0166982 , 0.0163491 , 100.00, 44
# target 50% 0.00157086
# target 75% 0.0019302
# target 90% 0.00295043
# target 99% 0.00549964
# target 99.9% 0.00876648
Ping SERVING : 523057
All done 523057 calls (plus 32 warmup) 1.835 ms avg, 17430.3 qps
Successfully wrote 4909 bytes of Json data to /data/2018-12-22-005024_grpc_baseline_0qps_30s_echo_0_8.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8079
00:50:54 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
00:51:24 I periodic.go:533> T011 ended after 30.00878417s : 3195 calls. qps=106.46882532462162
00:51:24 I periodic.go:533> T013 ended after 30.009360185s : 3186 calls. qps=106.16687528021684
00:51:24 I periodic.go:533> T031 ended after 30.009382437s : 3201 calls. qps=106.66664023226731
00:51:24 I periodic.go:533> T023 ended after 30.009396138s : 3182 calls. qps=106.03345650033687
00:51:24 I periodic.go:533> T025 ended after 30.009408916s : 3177 calls. qps=105.8667969400134
00:51:24 I periodic.go:533> T027 ended after 30.009457983s : 3169 calls. qps=105.600041220178
00:51:24 I periodic.go:533> T009 ended after 30.009471847s : 3176 calls. qps=105.8332521209466
00:51:24 I periodic.go:533> T007 ended after 30.009485283s : 3184 calls. qps=106.09978711643203
00:51:24 I periodic.go:533> T017 ended after 30.009514013s : 3203 calls. qps=106.7328180860401
00:51:24 I periodic.go:533> T015 ended after 30.009528167s : 3186 calls. qps=106.16628099816269
00:51:24 I periodic.go:533> T029 ended after 30.009541518s : 3170 calls. qps=105.63307000537162
00:51:24 I periodic.go:533> T019 ended after 30.009568175s : 3166 calls. qps=105.4996853516037
00:51:24 I periodic.go:533> T005 ended after 30.009615441s : 3218 calls. qps=107.23229713911881
00:51:24 I periodic.go:533> T003 ended after 30.009633956s : 3199 calls. qps=106.59910096505544
00:51:24 I periodic.go:533> T021 ended after 30.009651054s : 3197 calls. qps=106.53239500343575
00:51:24 I periodic.go:533> T006 ended after 30.010268252s : 3202 calls. qps=106.69681367431984
00:51:24 I periodic.go:533> T020 ended after 30.012627637s : 3200 calls. qps=106.62178729245932
00:51:24 I periodic.go:533> T026 ended after 30.012848444s : 3233 calls. qps=107.72053195924904
00:51:24 I periodic.go:533> T016 ended after 30.012924775s : 3235 calls. qps=107.78689595406152
00:51:24 I periodic.go:533> T018 ended after 30.012943501s : 3221 calls. qps=107.32036329234684
00:51:24 I periodic.go:533> T024 ended after 30.012961483s : 3208 calls. qps=106.88715279953567
00:51:24 I periodic.go:533> T004 ended after 30.013000127s : 3205 calls. qps=106.7870584892561
00:51:24 I periodic.go:533> T001 ended after 30.013017712s : 3198 calls. qps=106.55376379301421
00:51:24 I periodic.go:533> T010 ended after 30.013034871s : 3237 calls. qps=107.85313827518793
00:51:24 I periodic.go:533> T008 ended after 30.013080602s : 3216 calls. qps=107.15327902013809
00:51:24 I periodic.go:533> T030 ended after 30.013098304s : 3243 calls. qps=108.05282304252437
00:51:24 I periodic.go:533> T028 ended after 30.013116461s : 3224 calls. qps=107.41970112265311
00:51:24 I periodic.go:533> T012 ended after 30.013133793s : 3237 calls. qps=107.85278279587617
00:51:24 I periodic.go:533> T014 ended after 30.013151181s : 3235 calls. qps=107.78608285716881
00:51:24 I periodic.go:533> T002 ended after 30.013205964s : 3209 calls. qps=106.91960078670388
00:51:24 I periodic.go:533> T022 ended after 30.013237674s : 3238 calls. qps=107.88572813005872
00:51:24 I periodic.go:533> T000 ended after 30.013405214s : 3184 calls. qps=106.08592984693377
Ended after 30.014148566s : 102534 calls. qps=3416.2
Aggregated Function Time : count 102534 avg 0.0093643925 +/- 0.004696 min 0.000882259 max 0.069362506 sum 960.168616
# range, mid point, percentile, count
>= 0.000882259 <= 0.0009 , 0.00089113 , 0.00, 1
> 0.0009 <= 0.001 , 0.00095 , 0.00, 3
> 0.001 <= 0.0011 , 0.00105 , 0.03, 23
> 0.0011 <= 0.0012 , 0.00115 , 0.05, 26
> 0.0012 <= 0.0014 , 0.0013 , 0.19, 140
> 0.0014 <= 0.0016 , 0.0015 , 0.31, 121
> 0.0016 <= 0.0018 , 0.0017 , 0.37, 66
> 0.0018 <= 0.002 , 0.0019 , 0.47, 105
> 0.002 <= 0.0025 , 0.00225 , 0.85, 382
> 0.0025 <= 0.003 , 0.00275 , 2.20, 1388
> 0.003 <= 0.0035 , 0.00325 , 2.76, 578
> 0.0035 <= 0.004 , 0.00375 , 3.45, 702
> 0.004 <= 0.0045 , 0.00425 , 4.84, 1432
> 0.0045 <= 0.005 , 0.00475 , 8.18, 3422
> 0.005 <= 0.006 , 0.0055 , 19.32, 11425
> 0.006 <= 0.007 , 0.0065 , 25.85, 6695
> 0.007 <= 0.008 , 0.0075 , 36.53, 10948
> 0.008 <= 0.009 , 0.0085 , 54.17, 18089
> 0.009 <= 0.01 , 0.0095 , 68.86, 15056
> 0.01 <= 0.012 , 0.011 , 86.22, 17800
> 0.012 <= 0.014 , 0.013 , 92.52, 6464
> 0.014 <= 0.016 , 0.015 , 94.60, 2130
> 0.016 <= 0.018 , 0.017 , 95.52, 945
> 0.018 <= 0.02 , 0.019 , 96.24, 740
> 0.02 <= 0.025 , 0.0225 , 97.60, 1389
> 0.025 <= 0.03 , 0.0275 , 99.05, 1487
> 0.03 <= 0.035 , 0.0325 , 99.73, 701
> 0.035 <= 0.04 , 0.0375 , 99.87, 139
> 0.04 <= 0.045 , 0.0425 , 99.92, 53
> 0.045 <= 0.05 , 0.0475 , 99.95, 32
> 0.05 <= 0.06 , 0.055 , 99.97, 24
> 0.06 <= 0.0693625 , 0.0646813 , 100.00, 28
# target 50% 0.00876345
# target 75% 0.0107077
# target 90% 0.0132001
# target 99% 0.0298375
# target 99.9% 0.0432515
Ping SERVING : 102534
All done 102534 calls (plus 32 warmup) 9.364 ms avg, 3416.2 qps
Successfully wrote 5298 bytes of Json data to /data/2018-12-22-005054_grpc_istio_0qps_30s_echo_0_8.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8080/echo
00:51:24 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
00:51:24 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
00:51:54 I periodic.go:533> T017 ended after 30.000008855s : 30363 calls. qps=1012.0997012619048
00:51:54 I periodic.go:533> T013 ended after 30.003713709s : 30605 calls. qps=1020.0403955600882
00:51:54 I periodic.go:533> T002 ended after 30.003758076s : 30190 calls. qps=1006.2072865515129
00:51:54 I periodic.go:533> T010 ended after 30.003784287s : 30152 calls. qps=1004.9399006332751
00:51:54 I periodic.go:533> T014 ended after 30.003794605s : 30674 calls. qps=1022.3373544521037
00:51:54 I periodic.go:533> T011 ended after 30.003804008s : 30352 calls. qps=1011.6050615417685
00:51:54 I periodic.go:533> T008 ended after 30.003812974s : 30513 calls. qps=1016.970743899825
00:51:54 I periodic.go:533> T022 ended after 30.003822808s : 30013 calls. qps=1000.3058674242521
00:51:54 I periodic.go:533> T012 ended after 30.003831996s : 30186 calls. qps=1006.0714912689915
00:51:54 I periodic.go:533> T025 ended after 30.003855688s : 30581 calls. qps=1019.2356715084064
00:51:54 I periodic.go:533> T020 ended after 30.003866315s : 30309 calls. qps=1010.1698121767545
00:51:54 I periodic.go:533> T015 ended after 30.003875488s : 30397 calls. qps=1013.1024577860694
00:51:54 I periodic.go:533> T019 ended after 30.003885159s : 30420 calls. qps=1013.8686986300233
00:51:54 I periodic.go:533> T007 ended after 30.00389492s : 30273 calls. qps=1008.9690048814502
00:51:54 I periodic.go:533> T031 ended after 30.003904449s : 30497 calls. qps=1016.4343794601184
00:51:54 I periodic.go:533> T016 ended after 30.003914011s : 30607 calls. qps=1020.1002438808116
00:51:54 I periodic.go:533> T028 ended after 30.003935698s : 30480 calls. qps=1015.8667285116111
00:51:54 I periodic.go:533> T018 ended after 30.003945763s : 30561 calls. qps=1018.5660326611755
00:51:54 I periodic.go:533> T024 ended after 30.003954797s : 30295 calls. qps=1009.700228018911
00:51:54 I periodic.go:533> T001 ended after 30.003963639s : 30334 calls. qps=1010.9997587309101
00:51:54 I periodic.go:533> T027 ended after 30.003972907s : 30287 calls. qps=1009.4329872206346
00:51:54 I periodic.go:533> T026 ended after 30.003983803s : 30593 calls. qps=1019.6312663300766
00:51:54 I periodic.go:533> T030 ended after 30.004017759s : 30198 calls. qps=1006.4652088449659
00:51:54 I periodic.go:533> T009 ended after 30.004027559s : 30100 calls. qps=1003.1986519413529
00:51:54 I periodic.go:533> T003 ended after 30.004036875s : 30522 calls. qps=1017.2631145321508
00:51:54 I periodic.go:533> T004 ended after 30.004047205s : 30290 calls. qps=1009.5304741072514
00:51:54 I periodic.go:533> T000 ended after 30.004056368s : 30534 calls. qps=1017.662399560254
00:51:54 I periodic.go:533> T023 ended after 30.004065133s : 30552 calls. qps=1018.262020981862
00:51:54 I periodic.go:533> T005 ended after 30.004074487s : 30329 calls. qps=1010.8293796277829
00:51:54 I periodic.go:533> T029 ended after 30.004103459s : 30150 calls. qps=1004.8625529237814
00:51:54 I periodic.go:533> T006 ended after 30.004115763s : 30713 calls. qps=1023.6262332341141
00:51:54 I periodic.go:533> T021 ended after 30.004125359s : 30462 calls. qps=1015.2603895471547
Ended after 30.004140114s : 972532 calls. qps=32413
Aggregated Function Time : count 972532 avg 0.00098677979 +/- 0.0006486 min 7.3071e-05 max 0.014925681 sum 959.674925
# range, mid point, percentile, count
>= 7.3071e-05 <= 0.0001 , 8.65355e-05 , 0.54, 5269
> 0.0001 <= 0.0002 , 0.00015 , 5.01, 43467
> 0.0002 <= 0.0003 , 0.00025 , 10.56, 53981
> 0.0003 <= 0.0004 , 0.00035 , 16.38, 56565
> 0.0004 <= 0.0005 , 0.00045 , 22.69, 61404
> 0.0005 <= 0.0006 , 0.00055 , 29.22, 63505
> 0.0006 <= 0.0007 , 0.00065 , 35.72, 63182
> 0.0007 <= 0.0008 , 0.00075 , 42.16, 62663
> 0.0008 <= 0.0009 , 0.00085 , 48.59, 62526
> 0.0009 <= 0.001 , 0.00095 , 55.15, 63807
> 0.001 <= 0.0011 , 0.00105 , 61.55, 62240
> 0.0011 <= 0.0012 , 0.00115 , 67.76, 60414
> 0.0012 <= 0.0014 , 0.0013 , 79.41, 113302
> 0.0014 <= 0.0016 , 0.0015 , 89.41, 97253
> 0.0016 <= 0.0018 , 0.0017 , 94.05, 45123
> 0.0018 <= 0.002 , 0.0019 , 95.66, 15576
> 0.002 <= 0.0025 , 0.00225 , 97.86, 21440
> 0.0025 <= 0.003 , 0.00275 , 98.87, 9785
> 0.003 <= 0.0035 , 0.00325 , 99.19, 3151
> 0.0035 <= 0.004 , 0.00375 , 99.40, 2001
> 0.004 <= 0.0045 , 0.00425 , 99.57, 1743
> 0.0045 <= 0.005 , 0.00475 , 99.75, 1670
> 0.005 <= 0.006 , 0.0055 , 99.93, 1737
> 0.006 <= 0.007 , 0.0065 , 99.97, 400
> 0.007 <= 0.008 , 0.0075 , 99.98, 123
> 0.008 <= 0.009 , 0.0085 , 99.98, 45
> 0.009 <= 0.01 , 0.0095 , 99.99, 51
> 0.01 <= 0.012 , 0.011 , 99.99, 29
> 0.012 <= 0.014 , 0.013 , 100.00, 67
> 0.014 <= 0.0149257 , 0.0144628 , 100.00, 13
# target 50% 0.000921477
# target 75% 0.00132423
# target 90% 0.00162527
# target 99% 0.00320703
# target 99.9% 0.00585922
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 972532 (100.0 %)
Response Header Sizes : count 972532 avg 75 +/- 0 min 75 max 75 sum 72939900
Response Body/Total Sizes : count 972532 avg 75 +/- 0 min 75 max 75 sum 72939900
All done 972532 calls (plus 32 warmup) 0.987 ms avg, 32413.3 qps
Successfully wrote 5585 bytes of Json data to /data/2018-12-22-005124_http_baseline_0qps_30s_echo_0_9.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8080/echo
00:51:54 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 32 threads at -1.0 qps
00:51:54 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
00:52:24 I periodic.go:533> T026 ended after 30.000104542s : 2641 calls. qps=88.03302656171124
00:52:24 I periodic.go:533> T016 ended after 30.000525486s : 2479 calls. qps=82.63188593669288
00:52:24 I periodic.go:533> T025 ended after 30.00249258s : 2414 calls. qps=80.45998156863806
00:52:24 I periodic.go:533> T002 ended after 30.002518513s : 2326 calls. qps=77.52682492278612
00:52:24 I periodic.go:533> T018 ended after 30.002547333s : 2569 calls. qps=85.62606273015825
00:52:24 I periodic.go:533> T014 ended after 30.002558346s : 2503 calls. qps=83.4262188955531
00:52:24 I periodic.go:533> T005 ended after 30.002570353s : 2436 calls. qps=81.19304350723473
00:52:24 I periodic.go:533> T006 ended after 30.002581215s : 2505 calls. qps=83.49281623634462
00:52:24 I periodic.go:533> T020 ended after 30.002591007s : 2497 calls. qps=83.22614534916057
00:52:24 I periodic.go:533> T007 ended after 30.002600709s : 2641 calls. qps=88.02570235878814
00:52:24 I periodic.go:533> T024 ended after 30.002625206s : 2483 calls. qps=82.75942464872851
00:52:24 I periodic.go:533> T023 ended after 30.002636626s : 2565 calls. qps=85.49248627626264
00:52:24 I periodic.go:533> T017 ended after 30.004912872s : 2496 calls. qps=83.18637719922255
00:52:24 I periodic.go:533> T021 ended after 30.004940071s : 2523 calls. qps=84.0861536143676
00:52:24 I periodic.go:533> T001 ended after 30.004953791s : 2582 calls. qps=86.05245713707689
00:52:24 I periodic.go:533> T028 ended after 30.004966215s : 2428 calls. qps=80.91993780636889
00:52:24 I periodic.go:533> T030 ended after 30.004990816s : 2389 calls. qps=79.62008769308066
00:52:24 I periodic.go:533> T004 ended after 30.005001639s : 2584 calls. qps=86.118975465789
00:52:24 I periodic.go:533> T010 ended after 30.005013115s : 2319 calls. qps=77.28708503182402
00:52:24 I periodic.go:533> T019 ended after 30.005048053s : 2573 calls. qps=85.75223727204607
00:52:24 I periodic.go:533> T022 ended after 30.005072428s : 2435 calls. qps=81.15294525094089
00:52:24 I periodic.go:533> T012 ended after 30.005083584s : 2505 calls. qps=83.48585308843377
00:52:24 I periodic.go:533> T015 ended after 30.00509577s : 2557 calls. qps=85.21885814330797
00:52:24 I periodic.go:533> T003 ended after 30.005105354s : 2409 calls. qps=80.28633699427603
00:52:24 I periodic.go:533> T031 ended after 30.005369692s : 2406 calls. qps=80.1856475923203
00:52:24 I periodic.go:533> T000 ended after 30.005454926s : 2334 calls. qps=77.78585613036542
00:52:24 I periodic.go:533> T011 ended after 30.005621698s : 2497 calls. qps=83.21773916673872
00:52:24 I periodic.go:533> T027 ended after 30.005866946s : 2594 calls. qps=86.4497601308533
00:52:24 I periodic.go:533> T009 ended after 30.006078835s : 2411 calls. qps=80.35038544215702
00:52:24 I periodic.go:533> T029 ended after 30.006292951s : 2471 calls. qps=82.34939264357381
00:52:24 I periodic.go:533> T013 ended after 30.006485312s : 2420 calls. qps=80.64923215223108
00:52:24 I periodic.go:533> T008 ended after 30.006710502s : 2379 calls. qps=79.28226587320978
Ended after 30.006746576s : 79371 calls. qps=2645.1
Aggregated Function Time : count 79371 avg 0.012094259 +/- 0.01434 min 0.000360778 max 0.110500241 sum 959.933439
# range, mid point, percentile, count
>= 0.000360778 <= 0.0004 , 0.000380389 , 0.05, 38
> 0.0004 <= 0.0005 , 0.00045 , 2.48, 1927
> 0.0005 <= 0.0006 , 0.00055 , 11.80, 7398
> 0.0006 <= 0.0007 , 0.00065 , 41.23, 23362
> 0.0007 <= 0.0008 , 0.00075 , 51.65, 8270
> 0.0008 <= 0.0009 , 0.00085 , 53.35, 1351
> 0.0009 <= 0.001 , 0.00095 , 53.85, 398
> 0.001 <= 0.0011 , 0.00105 , 54.09, 185
> 0.0011 <= 0.0012 , 0.00115 , 54.24, 119
> 0.0012 <= 0.0014 , 0.0013 , 54.43, 151
> 0.0014 <= 0.0016 , 0.0015 , 54.64, 167
> 0.0016 <= 0.0018 , 0.0017 , 54.98, 269
> 0.0018 <= 0.002 , 0.0019 , 55.11, 105
> 0.002 <= 0.0025 , 0.00225 , 55.22, 85
> 0.0025 <= 0.003 , 0.00275 , 55.32, 85
> 0.003 <= 0.0035 , 0.00325 , 55.37, 38
> 0.0035 <= 0.004 , 0.00375 , 55.47, 81
> 0.004 <= 0.0045 , 0.00425 , 55.57, 81
> 0.0045 <= 0.005 , 0.00475 , 55.68, 84
> 0.005 <= 0.006 , 0.0055 , 55.83, 120
> 0.006 <= 0.007 , 0.0065 , 55.98, 120
> 0.007 <= 0.008 , 0.0075 , 56.12, 111
> 0.008 <= 0.009 , 0.0085 , 56.36, 185
> 0.009 <= 0.01 , 0.0095 , 56.67, 252
> 0.01 <= 0.012 , 0.011 , 57.54, 690
> 0.012 <= 0.014 , 0.013 , 59.06, 1206
> 0.014 <= 0.016 , 0.015 , 61.25, 1737
> 0.016 <= 0.018 , 0.017 , 64.09, 2250
> 0.018 <= 0.02 , 0.019 , 67.31, 2560
> 0.02 <= 0.025 , 0.0225 , 76.61, 7385
> 0.025 <= 0.03 , 0.0275 , 85.99, 7444
> 0.03 <= 0.035 , 0.0325 , 93.06, 5606
> 0.035 <= 0.04 , 0.0375 , 96.65, 2852
> 0.04 <= 0.045 , 0.0425 , 98.15, 1188
> 0.045 <= 0.05 , 0.0475 , 99.06, 725
> 0.05 <= 0.06 , 0.055 , 99.77, 563
> 0.06 <= 0.07 , 0.065 , 99.91, 108
> 0.07 <= 0.08 , 0.075 , 99.95, 33
> 0.08 <= 0.09 , 0.085 , 99.97, 21
> 0.09 <= 0.1 , 0.095 , 99.99, 10
> 0.1 <= 0.1105 , 0.10525 , 100.00, 11
# target 50% 0.000784166
# target 75% 0.0241322
# target 90% 0.0328362
# target 99% 0.049671
# target 99.9% 0.0695953
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 79371 (100.0 %)
Response Header Sizes : count 79371 avg 209.42963 +/- 0.4953 min 209 max 211 sum 16622639
Response Body/Total Sizes : count 79371 avg 209.42963 +/- 0.4953 min 209 max 211 sum 16622639
All done 79371 calls (plus 32 warmup) 12.094 ms avg, 2645.1 qps
Successfully wrote 7052 bytes of Json data to /data/2018-12-22-005154_http_istio_0qps_30s_echo_0_9.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8079
00:52:25 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
00:52:55 I periodic.go:533> T011 ended after 30.00005215s : 16280 calls. qps=542.665723332751
00:52:55 I periodic.go:533> T004 ended after 30.003727902s : 16322 calls. qps=543.9990674929431
00:52:55 I periodic.go:533> T024 ended after 30.004081809s : 16296 calls. qps=543.1261020996105
00:52:55 I periodic.go:533> T018 ended after 30.004123595s : 16313 calls. qps=543.69193448858
00:52:55 I periodic.go:533> T013 ended after 30.004147817s : 16304 calls. qps=543.391537044833
00:52:55 I periodic.go:533> T002 ended after 30.004172088s : 16342 calls. qps=544.6575880204304
00:52:55 I periodic.go:533> T005 ended after 30.004196249s : 16329 calls. qps=544.223876703387
00:52:55 I periodic.go:533> T006 ended after 30.004437656s : 16326 calls. qps=544.1195128259731
00:52:55 I periodic.go:533> T012 ended after 30.004494048s : 16263 calls. qps=542.0188047158234
00:52:55 I periodic.go:533> T027 ended after 30.004521411s : 16296 calls. qps=543.1181446548819
00:52:55 I periodic.go:533> T028 ended after 30.0045449s : 16310 calls. qps=543.584315454823
00:52:55 I periodic.go:533> T007 ended after 30.004570535s : 16264 calls. qps=542.050751268985
00:52:55 I periodic.go:533> T009 ended after 30.00459489s : 16268 calls. qps=542.183624196234
00:52:55 I periodic.go:533> T020 ended after 30.004617458s : 16243 calls. qps=541.3500113019838
00:52:55 I periodic.go:533> T026 ended after 30.004642426s : 16319 calls. qps=543.8825021910294
00:52:55 I periodic.go:533> T008 ended after 30.00466463s : 16318 calls. qps=543.8487715568244
00:52:55 I periodic.go:533> T010 ended after 30.004698271s : 16342 calls. qps=544.6480365308254
00:52:55 I periodic.go:533> T023 ended after 30.004722633s : 16287 calls. qps=542.814549536516
00:52:55 I periodic.go:533> T019 ended after 30.004746731s : 16282 calls. qps=542.6474732805502
00:52:55 I periodic.go:533> T029 ended after 30.004771931s : 16249 calls. qps=541.5471924721427
00:52:55 I periodic.go:533> T003 ended after 30.004794396s : 16326 calls. qps=544.113043553348
00:52:55 I periodic.go:533> T016 ended after 30.004823729s : 16323 calls. qps=544.0125276997924
00:52:55 I periodic.go:533> T000 ended after 30.00672692s : 16324 calls. qps=544.0113493058043
00:52:55 I periodic.go:533> T001 ended after 30.006815414s : 16301 calls. qps=543.2432524110704
00:52:55 I periodic.go:533> T014 ended after 30.006940503s : 16256 calls. qps=541.741334754697
00:52:55 I periodic.go:533> T030 ended after 30.006968526s : 16277 calls. qps=542.4406662704546
00:52:55 I periodic.go:533> T025 ended after 30.006992305s : 16310 calls. qps=543.5399800893174
00:52:55 I periodic.go:533> T031 ended after 30.00702335s : 16285 calls. qps=542.7062794617381
00:52:55 I periodic.go:533> T017 ended after 30.007048543s : 16250 calls. qps=541.5394312010994
00:52:55 I periodic.go:533> T015 ended after 30.007072556s : 16273 calls. qps=542.3054838032232
00:52:55 I periodic.go:533> T022 ended after 30.007097764s : 16249 calls. qps=541.5052174587237
00:52:55 I periodic.go:533> T021 ended after 30.007148567s : 16358 calls. qps=545.1367684428874
Ended after 30.007164186s : 521485 calls. qps=17379
Aggregated Function Time : count 521485 avg 0.0018406644 +/- 0.0009884 min 0.000173758 max 0.020061215 sum 959.878854
# range, mid point, percentile, count
>= 0.000173758 <= 0.0002 , 0.000186879 , 0.00, 1
> 0.0003 <= 0.0004 , 0.00035 , 0.00, 4
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 53
> 0.0005 <= 0.0006 , 0.00055 , 0.21, 1012
> 0.0006 <= 0.0007 , 0.00065 , 0.81, 3159
> 0.0007 <= 0.0008 , 0.00075 , 1.73, 4790
> 0.0008 <= 0.0009 , 0.00085 , 2.92, 6209
> 0.0009 <= 0.001 , 0.00095 , 4.55, 8487
> 0.001 <= 0.0011 , 0.00105 , 7.63, 16056
> 0.0011 <= 0.0012 , 0.00115 , 14.08, 33633
> 0.0012 <= 0.0014 , 0.0013 , 31.79, 92359
> 0.0014 <= 0.0016 , 0.0015 , 53.99, 115764
> 0.0016 <= 0.0018 , 0.0017 , 69.26, 79655
> 0.0018 <= 0.002 , 0.0019 , 77.37, 42276
> 0.002 <= 0.0025 , 0.00225 , 86.34, 46769
> 0.0025 <= 0.003 , 0.00275 , 89.98, 18989
> 0.003 <= 0.0035 , 0.00325 , 92.69, 14169
> 0.0035 <= 0.004 , 0.00375 , 95.66, 15448
> 0.004 <= 0.0045 , 0.00425 , 97.44, 9287
> 0.0045 <= 0.005 , 0.00475 , 98.44, 5250
> 0.005 <= 0.006 , 0.0055 , 99.37, 4804
> 0.006 <= 0.007 , 0.0065 , 99.65, 1497
> 0.007 <= 0.008 , 0.0075 , 99.77, 637
> 0.008 <= 0.009 , 0.0085 , 99.84, 335
> 0.009 <= 0.01 , 0.0095 , 99.89, 293
> 0.01 <= 0.012 , 0.011 , 99.96, 331
> 0.012 <= 0.014 , 0.013 , 99.97, 75
> 0.014 <= 0.016 , 0.015 , 99.99, 80
> 0.016 <= 0.018 , 0.017 , 99.99, 3
> 0.018 <= 0.02 , 0.019 , 100.00, 59
> 0.02 <= 0.0200612 , 0.0200306 , 100.00, 1
# target 50% 0.00156409
# target 75% 0.0019416
# target 90% 0.00300425
# target 99% 0.00560369
# target 99.9% 0.0101663
Ping SERVING : 521485
All done 521485 calls (plus 32 warmup) 1.841 ms avg, 17378.7 qps
Successfully wrote 5147 bytes of Json data to /data/2018-12-22-005225_grpc_baseline_0qps_30s_echo_0_9.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8079
00:52:55 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
00:53:25 I periodic.go:533> T020 ended after 30.001345167s : 3240 calls. qps=107.99515761592717
00:53:25 I periodic.go:533> T030 ended after 30.001746469s : 3233 calls. qps=107.76039332712088
00:53:25 I periodic.go:533> T024 ended after 30.003677169s : 3188 calls. qps=106.2536429132714
00:53:25 I periodic.go:533> T010 ended after 30.003702496s : 3230 calls. qps=107.65338045964873
00:53:25 I periodic.go:533> T001 ended after 30.003724633s : 3217 calls. qps=107.22002149232296
00:53:25 I periodic.go:533> T022 ended after 30.003758244s : 3200 calls. qps=106.65330569512638
00:53:25 I periodic.go:533> T012 ended after 30.003771033s : 3195 calls. qps=106.48661451542014
00:53:25 I periodic.go:533> T026 ended after 30.003782608s : 3233 calls. qps=107.75308041120039
00:53:25 I periodic.go:533> T018 ended after 30.003793549s : 3249 calls. qps=108.28630701960974
00:53:25 I periodic.go:533> T014 ended after 30.003805117s : 3208 calls. qps=106.91977192527371
00:53:25 I periodic.go:533> T016 ended after 30.003816574s : 3235 calls. qps=107.81961661515123
00:53:25 I periodic.go:533> T006 ended after 30.00382841s : 3238 calls. qps=107.91956132240792
00:53:25 I periodic.go:533> T028 ended after 30.003839156s : 3227 calls. qps=107.55290292091445
00:53:25 I periodic.go:533> T008 ended after 30.003850956s : 3248 calls. qps=108.25277077809518
00:53:25 I periodic.go:533> T023 ended after 30.006517629s : 3234 calls. qps=107.77658507345348
00:53:25 I periodic.go:533> T013 ended after 30.006545767s : 3253 calls. qps=108.40967918331738
00:53:25 I periodic.go:533> T031 ended after 30.006560573s : 3255 calls. qps=108.47627778202809
00:53:25 I periodic.go:533> T000 ended after 30.006572844s : 3247 calls. qps=108.20962516714926
00:53:25 I periodic.go:533> T021 ended after 30.006603232s : 3221 calls. qps=107.34303963352382
00:53:25 I periodic.go:533> T007 ended after 30.00661459s : 3210 calls. qps=106.97641316290856
00:53:25 I periodic.go:533> T009 ended after 30.006624991s : 3256 calls. qps=108.50937087981686
00:53:25 I periodic.go:533> T019 ended after 30.006648802s : 3250 calls. qps=108.30932909053747
00:53:25 I periodic.go:533> T015 ended after 30.006666622s : 3263 calls. qps=108.74250182816591
00:53:25 I periodic.go:533> T029 ended after 30.006677496s : 3251 calls. qps=108.34255143487214
00:53:25 I periodic.go:533> T025 ended after 30.006689946s : 3237 calls. qps=107.8759438586962
00:53:25 I periodic.go:533> T004 ended after 30.006701067s : 3250 calls. qps=108.30914043977334
00:53:25 I periodic.go:533> T002 ended after 30.006711475s : 3235 calls. qps=107.80921470502459
00:53:25 I periodic.go:533> T027 ended after 30.006722146s : 3239 calls. qps=107.94247982969942
00:53:25 I periodic.go:533> T017 ended after 30.006732786s : 3274 calls. qps=109.10884644953828
00:53:25 I periodic.go:533> T005 ended after 30.006743449s : 3227 calls. qps=107.54249308941729
00:53:25 I periodic.go:533> T011 ended after 30.006754503s : 3234 calls. qps=107.77573428264868
00:53:25 I periodic.go:533> T003 ended after 30.007171807s : 3223 calls. qps=107.40765643392446
Ended after 30.007195306s : 103500 calls. qps=3449.2
Aggregated Function Time : count 103500 avg 0.009275054 +/- 0.004744 min 0.000767067 max 0.059683022 sum 959.968093
# range, mid point, percentile, count
>= 0.000767067 <= 0.0008 , 0.000783534 , 0.00, 1
> 0.0008 <= 0.0009 , 0.00085 , 0.00, 2
> 0.0009 <= 0.001 , 0.00095 , 0.01, 8
> 0.001 <= 0.0011 , 0.00105 , 0.02, 14
> 0.0011 <= 0.0012 , 0.00115 , 0.05, 22
> 0.0012 <= 0.0014 , 0.0013 , 0.18, 143
> 0.0014 <= 0.0016 , 0.0015 , 0.29, 114
> 0.0016 <= 0.0018 , 0.0017 , 0.34, 51
> 0.0018 <= 0.002 , 0.0019 , 0.44, 102
> 0.002 <= 0.0025 , 0.00225 , 0.81, 380
> 0.0025 <= 0.003 , 0.00275 , 2.26, 1504
> 0.003 <= 0.0035 , 0.00325 , 2.79, 548
> 0.0035 <= 0.004 , 0.00375 , 3.60, 839
> 0.004 <= 0.0045 , 0.00425 , 5.06, 1506
> 0.0045 <= 0.005 , 0.00475 , 8.72, 3792
> 0.005 <= 0.006 , 0.0055 , 20.07, 11742
> 0.006 <= 0.007 , 0.0065 , 26.22, 6368
> 0.007 <= 0.008 , 0.0075 , 37.42, 11593
> 0.008 <= 0.009 , 0.0085 , 55.26, 18463
> 0.009 <= 0.01 , 0.0095 , 70.12, 15381
> 0.01 <= 0.012 , 0.011 , 87.69, 18181
> 0.012 <= 0.014 , 0.013 , 93.39, 5906
> 0.014 <= 0.016 , 0.015 , 95.02, 1682
> 0.016 <= 0.018 , 0.017 , 95.73, 741
> 0.018 <= 0.02 , 0.019 , 96.22, 503
> 0.02 <= 0.025 , 0.0225 , 97.41, 1236
> 0.025 <= 0.03 , 0.0275 , 99.01, 1657
> 0.03 <= 0.035 , 0.0325 , 99.64, 650
> 0.035 <= 0.04 , 0.0375 , 99.80, 162
> 0.04 <= 0.045 , 0.0425 , 99.88, 88
> 0.045 <= 0.05 , 0.0475 , 99.96, 80
> 0.05 <= 0.059683 , 0.0548415 , 100.00, 41
# target 50% 0.00870525
# target 75% 0.0105557
# target 90% 0.0128114
# target 99% 0.0299578
# target 99.9% 0.0460938
Ping SERVING : 103500
All done 103500 calls (plus 32 warmup) 9.275 ms avg, 3449.2 qps
Successfully wrote 5267 bytes of Json data to /data/2018-12-22-005255_grpc_istio_0qps_30s_echo_0_9.json
