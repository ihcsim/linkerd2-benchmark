1.3.1-pre unknown go1.11.2
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8080/echo
01:00:57 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
01:00:57 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
01:01:27 I periodic.go:533> T001 ended after 30.00004027s : 28891 calls. qps=963.0320406233242
01:01:27 I periodic.go:533> T028 ended after 30.000938149s : 28791 calls. qps=959.6699895519657
01:01:27 I periodic.go:533> T024 ended after 30.003252752s : 29045 calls. qps=968.0617045118174
01:01:27 I periodic.go:533> T031 ended after 30.003302594s : 29330 calls. qps=977.5590506448232
01:01:27 I periodic.go:533> T009 ended after 30.003315553s : 28666 calls. qps=955.4277409562396
01:01:27 I periodic.go:533> T027 ended after 30.003326222s : 28488 calls. qps=949.4947256584877
01:01:27 I periodic.go:533> T006 ended after 30.003336336s : 28964 calls. qps=965.359307899604
01:01:27 I periodic.go:533> T007 ended after 30.003374556s : 28942 calls. qps=964.6248273167076
01:01:27 I periodic.go:533> T010 ended after 30.003385235s : 29047 calls. qps=968.1240890816433
01:01:27 I periodic.go:533> T021 ended after 30.003396892s : 29003 calls. qps=966.6572123282899
01:01:27 I periodic.go:533> T003 ended after 30.003406547s : 28754 calls. qps=958.357843632095
01:01:27 I periodic.go:533> T022 ended after 30.003416964s : 28957 calls. qps=965.1234069354315
01:01:27 I periodic.go:533> T030 ended after 30.003427149s : 28840 calls. qps=961.2235247919411
01:01:27 I periodic.go:533> T020 ended after 30.003448932s : 29029 calls. qps=967.5221027353056
01:01:27 I periodic.go:533> T025 ended after 30.00345974s : 28941 calls. qps=964.5887591228837
01:01:27 I periodic.go:533> T004 ended after 30.003469979s : 28988 calls. qps=966.1549154244244
01:01:27 I periodic.go:533> T017 ended after 30.00347979s : 28754 calls. qps=958.3555041366753
01:01:27 I periodic.go:533> T005 ended after 30.003489736s : 28827 calls. qps=960.7882367567272
01:01:27 I periodic.go:533> T014 ended after 30.003499261s : 28734 calls. qps=957.688293290171
01:01:27 I periodic.go:533> T026 ended after 30.00350857s : 29051 calls. qps=968.2534271691012
01:01:27 I periodic.go:533> T018 ended after 30.003541523s : 28923 calls. qps=963.9862006899525
01:01:27 I periodic.go:533> T012 ended after 30.003552317s : 28701 calls. qps=956.5867300232321
01:01:27 I periodic.go:533> T013 ended after 30.003563077s : 28930 calls. qps=964.2188138040523
01:01:27 I periodic.go:533> T015 ended after 30.003572894s : 28919 calls. qps=963.8518753139267
01:01:27 I periodic.go:533> T023 ended after 30.003582421s : 28885 calls. qps=962.7183712496583
01:01:27 I periodic.go:533> T019 ended after 30.003593112s : 29047 calls. qps=968.1173815273008
01:01:27 I periodic.go:533> T000 ended after 30.003601857s : 28909 calls. qps=963.5176515734018
01:01:27 I periodic.go:533> T016 ended after 30.003624681s : 28801 calls. qps=959.9173535269033
01:01:27 I periodic.go:533> T002 ended after 30.00363486s : 29040 calls. qps=967.8827293927413
01:01:27 I periodic.go:533> T011 ended after 30.003643938s : 28902 calls. qps=963.2829952162992
01:01:27 I periodic.go:533> T008 ended after 30.003653418s : 29020 calls. qps=967.2155452439042
01:01:27 I periodic.go:533> T029 ended after 30.003663568s : 28903 calls. qps=963.3156942482884
Ended after 30.003679935s : 925022 calls. qps=30830
Aggregated Function Time : count 925022 avg 0.0010374676 +/- 0.0007409 min 7.1914e-05 max 0.036678339 sum 959.680313
# range, mid point, percentile, count
>= 7.1914e-05 <= 0.0001 , 8.5957e-05 , 0.49, 4567
> 0.0001 <= 0.0002 , 0.00015 , 4.88, 40546
> 0.0002 <= 0.0003 , 0.00025 , 10.11, 48413
> 0.0003 <= 0.0004 , 0.00035 , 15.65, 51273
> 0.0004 <= 0.0005 , 0.00045 , 21.59, 54949
> 0.0005 <= 0.0006 , 0.00055 , 27.68, 56314
> 0.0006 <= 0.0007 , 0.00065 , 33.79, 56465
> 0.0007 <= 0.0008 , 0.00075 , 39.90, 56543
> 0.0008 <= 0.0009 , 0.00085 , 45.97, 56191
> 0.0009 <= 0.001 , 0.00095 , 52.18, 57447
> 0.001 <= 0.0011 , 0.00105 , 58.29, 56474
> 0.0011 <= 0.0012 , 0.00115 , 64.17, 54421
> 0.0012 <= 0.0014 , 0.0013 , 75.67, 106338
> 0.0014 <= 0.0016 , 0.0015 , 86.06, 96108
> 0.0016 <= 0.0018 , 0.0017 , 92.91, 63433
> 0.0018 <= 0.002 , 0.0019 , 95.10, 20224
> 0.002 <= 0.0025 , 0.00225 , 97.50, 22232
> 0.0025 <= 0.003 , 0.00275 , 98.52, 9394
> 0.003 <= 0.0035 , 0.00325 , 98.89, 3387
> 0.0035 <= 0.004 , 0.00375 , 99.16, 2513
> 0.004 <= 0.0045 , 0.00425 , 99.39, 2165
> 0.0045 <= 0.005 , 0.00475 , 99.61, 2032
> 0.005 <= 0.006 , 0.0055 , 99.89, 2603
> 0.006 <= 0.007 , 0.0065 , 99.95, 568
> 0.007 <= 0.008 , 0.0075 , 99.97, 173
> 0.008 <= 0.009 , 0.0085 , 99.98, 94
> 0.009 <= 0.01 , 0.0095 , 99.99, 34
> 0.01 <= 0.012 , 0.011 , 99.99, 55
> 0.012 <= 0.014 , 0.013 , 99.99, 2
> 0.03 <= 0.035 , 0.0325 , 100.00, 37
> 0.035 <= 0.0366783 , 0.0358392 , 100.00, 27
# target 50% 0.000964842
# target 75% 0.00138839
# target 90% 0.00171499
# target 99% 0.00370947
# target 99.9% 0.0061144
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 925022 (100.0 %)
Response Header Sizes : count 925022 avg 75 +/- 0 min 75 max 75 sum 69376650
Response Body/Total Sizes : count 925022 avg 75 +/- 0 min 75 max 75 sum 69376650
All done 925022 calls (plus 32 warmup) 1.037 ms avg, 30830.3 qps
Successfully wrote 5727 bytes of Json data to /data/2018-12-22-010057_http_baseline_0qps_30s_echo_0_0.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8080/echo
01:01:27 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 32 threads at -1.0 qps
01:01:27 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
01:01:57 I periodic.go:533> T003 ended after 30.000416452s : 2380 calls. qps=79.33223206444308
01:01:57 I periodic.go:533> T026 ended after 30.000774208s : 2497 calls. qps=83.23118539168068
01:01:57 I periodic.go:533> T027 ended after 30.002851384s : 2424 calls. qps=80.7923210022857
01:01:57 I periodic.go:533> T025 ended after 30.002910388s : 2275 calls. qps=75.8259772328591
01:01:57 I periodic.go:533> T015 ended after 30.00292645s : 2474 calls. qps=82.45862296542742
01:01:57 I periodic.go:533> T007 ended after 30.002939777s : 2498 calls. qps=83.25850795177563
01:01:57 I periodic.go:533> T001 ended after 30.002995104s : 2530 calls. qps=84.32491460369903
01:01:57 I periodic.go:533> T013 ended after 30.003008151s : 2524 calls. qps=84.12489798679987
01:01:57 I periodic.go:533> T028 ended after 30.003020244s : 2283 calls. qps=76.09233941894747
01:01:57 I periodic.go:533> T024 ended after 30.005224014s : 2369 calls. qps=78.95291829498288
01:01:57 I periodic.go:533> T006 ended after 30.00525394s : 2312 calls. qps=77.05317224187439
01:01:57 I periodic.go:533> T021 ended after 30.005301739s : 2487 calls. qps=82.8853521165385
01:01:57 I periodic.go:533> T004 ended after 30.005315533s : 2459 calls. qps=81.95214602211328
01:01:57 I periodic.go:533> T017 ended after 30.005350158s : 2428 calls. qps=80.91890236957121
01:01:57 I periodic.go:533> T029 ended after 30.005362675s : 2380 calls. qps=79.31915457175856
01:01:57 I periodic.go:533> T030 ended after 30.005374304s : 2359 calls. qps=78.6192492084834
01:01:57 I periodic.go:533> T010 ended after 30.005386305s : 2297 calls. qps=76.55292208709993
01:01:57 I periodic.go:533> T008 ended after 30.005617632s : 2372 calls. qps=79.05186385733118
01:01:57 I periodic.go:533> T018 ended after 30.005895499s : 2679 calls. qps=89.28245451262345
01:01:57 I periodic.go:533> T002 ended after 30.006194402s : 2462 calls. qps=82.04972503397167
01:01:57 I periodic.go:533> T020 ended after 30.006671387s : 2301 calls. qps=76.68294727941328
01:01:57 I periodic.go:533> T016 ended after 30.006756879s : 2413 calls. qps=80.41522146929246
01:01:57 I periodic.go:533> T011 ended after 30.007024257s : 2286 calls. qps=76.18216256371122
01:01:57 I periodic.go:533> T000 ended after 30.007250372s : 2233 calls. qps=74.41534870131352
01:01:57 I periodic.go:533> T009 ended after 30.007515566s : 2299 calls. qps=76.61414004579842
01:01:57 I periodic.go:533> T023 ended after 30.007786223s : 2421 calls. qps=80.67906049478523
01:01:57 I periodic.go:533> T014 ended after 30.008119819s : 2237 calls. qps=74.54648986650662
01:01:57 I periodic.go:533> T019 ended after 30.008317908s : 2330 calls. qps=77.64513849604475
01:01:57 I periodic.go:533> T005 ended after 30.008552206s : 2577 calls. qps=85.87551916232556
01:01:57 I periodic.go:533> T031 ended after 30.00880643s : 2505 calls. qps=83.47549596293624
01:01:57 I periodic.go:533> T022 ended after 30.009069217s : 2183 calls. qps=72.74467542509917
01:01:57 I periodic.go:533> T012 ended after 30.009290286s : 2204 calls. qps=73.44392283173104
Ended after 30.009315524s : 76478 calls. qps=2548.5
Aggregated Function Time : count 76478 avg 0.012553671 +/- 0.01522 min 0.00037759 max 0.11441373 sum 960.079632
# range, mid point, percentile, count
>= 0.00037759 <= 0.0004 , 0.000388795 , 0.01, 9
> 0.0004 <= 0.0005 , 0.00045 , 2.10, 1595
> 0.0005 <= 0.0006 , 0.00055 , 10.17, 6174
> 0.0006 <= 0.0007 , 0.00065 , 36.16, 19879
> 0.0007 <= 0.0008 , 0.00075 , 50.98, 11330
> 0.0008 <= 0.0009 , 0.00085 , 53.88, 2218
> 0.0009 <= 0.001 , 0.00095 , 54.72, 641
> 0.001 <= 0.0011 , 0.00105 , 55.04, 245
> 0.0011 <= 0.0012 , 0.00115 , 55.23, 148
> 0.0012 <= 0.0014 , 0.0013 , 55.47, 185
> 0.0014 <= 0.0016 , 0.0015 , 55.69, 170
> 0.0016 <= 0.0018 , 0.0017 , 55.98, 221
> 0.0018 <= 0.002 , 0.0019 , 56.20, 168
> 0.002 <= 0.0025 , 0.00225 , 56.37, 129
> 0.0025 <= 0.003 , 0.00275 , 56.47, 77
> 0.003 <= 0.0035 , 0.00325 , 56.52, 38
> 0.0035 <= 0.004 , 0.00375 , 56.61, 70
> 0.004 <= 0.0045 , 0.00425 , 56.71, 75
> 0.0045 <= 0.005 , 0.00475 , 56.80, 69
> 0.005 <= 0.006 , 0.0055 , 56.93, 96
> 0.006 <= 0.007 , 0.0065 , 57.04, 86
> 0.007 <= 0.008 , 0.0075 , 57.17, 97
> 0.008 <= 0.009 , 0.0085 , 57.30, 104
> 0.009 <= 0.01 , 0.0095 , 57.52, 166
> 0.01 <= 0.012 , 0.011 , 58.17, 499
> 0.012 <= 0.014 , 0.013 , 59.31, 873
> 0.014 <= 0.016 , 0.015 , 61.04, 1317
> 0.016 <= 0.018 , 0.017 , 63.30, 1735
> 0.018 <= 0.02 , 0.019 , 66.10, 2137
> 0.02 <= 0.025 , 0.0225 , 74.60, 6503
> 0.025 <= 0.03 , 0.0275 , 83.66, 6930
> 0.03 <= 0.035 , 0.0325 , 91.01, 5621
> 0.035 <= 0.04 , 0.0375 , 95.14, 3159
> 0.04 <= 0.045 , 0.0425 , 97.12, 1515
> 0.045 <= 0.05 , 0.0475 , 98.34, 932
> 0.05 <= 0.06 , 0.055 , 99.62, 974
> 0.06 <= 0.07 , 0.065 , 99.92, 232
> 0.07 <= 0.08 , 0.075 , 99.95, 22
> 0.08 <= 0.09 , 0.085 , 99.96, 12
> 0.09 <= 0.1 , 0.095 , 99.99, 19
> 0.1 <= 0.114414 , 0.107207 , 100.00, 8
# target 50% 0.000793398
# target 75% 0.0252197
# target 90% 0.0343108
# target 99% 0.0551563
# target 99.9% 0.0693328
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 76478 (100.0 %)
Response Header Sizes : count 76478 avg 209.42203 +/- 0.494 min 209 max 211 sum 16016178
Response Body/Total Sizes : count 76478 avg 209.42203 +/- 0.494 min 209 max 211 sum 16016178
All done 76478 calls (plus 32 warmup) 12.554 ms avg, 2548.5 qps
Successfully wrote 7039 bytes of Json data to /data/2018-12-22-010127_http_istio_0qps_30s_echo_0_0.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8079
01:01:57 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
01:02:27 I periodic.go:533> T025 ended after 30.00038911s : 16144 calls. qps=538.126353655151
01:02:27 I periodic.go:533> T016 ended after 30.00047894s : 16147 calls. qps=538.2247407547554
01:02:27 I periodic.go:533> T027 ended after 30.000506709s : 16167 calls. qps=538.890897971066
01:02:27 I periodic.go:533> T020 ended after 30.000545362s : 16149 calls. qps=538.2902145657334
01:02:27 I periodic.go:533> T001 ended after 30.000570944s : 16146 calls. qps=538.1897574595706
01:02:27 I periodic.go:533> T023 ended after 30.000650115s : 16152 calls. qps=538.3883328556328
01:02:27 I periodic.go:533> T008 ended after 30.000674201s : 16132 calls. qps=537.7212489265418
01:02:27 I periodic.go:533> T031 ended after 30.000712142s : 16127 calls. qps=537.5539061762049
01:02:27 I periodic.go:533> T021 ended after 30.000735445s : 16153 calls. qps=538.4201340534837
01:02:27 I periodic.go:533> T024 ended after 30.000758687s : 16108 calls. qps=536.919754865398
01:02:27 I periodic.go:533> T029 ended after 30.000800164s : 16228 calls. qps=540.9189058721533
01:02:27 I periodic.go:533> T006 ended after 30.000823312s : 16194 calls. qps=539.7851862792904
01:02:27 I periodic.go:533> T011 ended after 30.000845137s : 16128 calls. qps=537.5848555715972
01:02:27 I periodic.go:533> T010 ended after 30.000883874s : 16083 calls. qps=536.0842056369609
01:02:27 I periodic.go:533> T028 ended after 30.00090777s : 16162 calls. qps=538.7170322946531
01:02:27 I periodic.go:533> T030 ended after 30.000929001s : 16149 calls. qps=538.2833311415695
01:02:27 I periodic.go:533> T005 ended after 30.000965782s : 16156 calls. qps=538.5159970314452
01:02:27 I periodic.go:533> T000 ended after 30.000989403s : 16183 calls. qps=539.415543354772
01:02:27 I periodic.go:533> T019 ended after 30.001013637s : 16169 calls. qps=538.9484567301055
01:02:27 I periodic.go:533> T015 ended after 30.001056121s : 16198 calls. qps=539.9143261713976
01:02:27 I periodic.go:533> T003 ended after 30.001077819s : 16163 calls. qps=538.7473109304027
01:02:27 I periodic.go:533> T004 ended after 30.001122435s : 16167 calls. qps=538.8798380802982
01:02:27 I periodic.go:533> T022 ended after 30.001145292s : 16167 calls. qps=538.879427523423
01:02:27 I periodic.go:533> T026 ended after 30.001166528s : 16133 calls. qps=537.7457568172597
01:02:27 I periodic.go:533> T009 ended after 30.001200851s : 16151 calls. qps=538.3451175909065
01:02:27 I periodic.go:533> T002 ended after 30.001252881s : 16159 calls. qps=538.610839490427
01:02:27 I periodic.go:533> T018 ended after 30.001279258s : 16179 calls. qps=539.2770041859393
01:02:27 I periodic.go:533> T014 ended after 30.001301836s : 16153 calls. qps=538.4099692839742
01:02:27 I periodic.go:533> T017 ended after 30.001341408s : 16159 calls. qps=538.6092501747647
01:02:27 I periodic.go:533> T007 ended after 30.001365057s : 16157 calls. qps=538.5421619750666
01:02:27 I periodic.go:533> T013 ended after 30.001401378s : 16160 calls. qps=538.6415053214852
01:02:27 I periodic.go:533> T012 ended after 30.001427381s : 16155 calls. qps=538.4743797300463
Ended after 30.001442632s : 516978 calls. qps=17232
Aggregated Function Time : count 516978 avg 0.0018566465 +/- 0.001025 min 0.00035679 max 0.039805133 sum 959.845385
# range, mid point, percentile, count
>= 0.00035679 <= 0.0004 , 0.000378395 , 0.00, 2
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 33
> 0.0005 <= 0.0006 , 0.00055 , 0.15, 720
> 0.0006 <= 0.0007 , 0.00065 , 0.68, 2753
> 0.0007 <= 0.0008 , 0.00075 , 1.57, 4619
> 0.0008 <= 0.0009 , 0.00085 , 2.69, 5771
> 0.0009 <= 0.001 , 0.00095 , 4.20, 7825
> 0.001 <= 0.0011 , 0.00105 , 6.94, 14130
> 0.0011 <= 0.0012 , 0.00115 , 12.52, 28848
> 0.0012 <= 0.0014 , 0.0013 , 29.22, 86354
> 0.0014 <= 0.0016 , 0.0015 , 51.23, 113793
> 0.0016 <= 0.0018 , 0.0017 , 67.66, 84950
> 0.0018 <= 0.002 , 0.0019 , 76.77, 47100
> 0.002 <= 0.0025 , 0.00225 , 86.21, 48768
> 0.0025 <= 0.003 , 0.00275 , 90.16, 20459
> 0.003 <= 0.0035 , 0.00325 , 92.76, 13429
> 0.0035 <= 0.004 , 0.00375 , 95.52, 14242
> 0.004 <= 0.0045 , 0.00425 , 97.60, 10752
> 0.0045 <= 0.005 , 0.00475 , 98.67, 5578
> 0.005 <= 0.006 , 0.0055 , 99.49, 4228
> 0.006 <= 0.007 , 0.0065 , 99.75, 1309
> 0.007 <= 0.008 , 0.0075 , 99.86, 584
> 0.008 <= 0.009 , 0.0085 , 99.91, 241
> 0.009 <= 0.01 , 0.0095 , 99.94, 161
> 0.01 <= 0.012 , 0.011 , 99.96, 113
> 0.012 <= 0.014 , 0.013 , 99.97, 54
> 0.014 <= 0.016 , 0.015 , 99.97, 26
> 0.016 <= 0.018 , 0.017 , 99.98, 25
> 0.018 <= 0.02 , 0.019 , 99.98, 15
> 0.02 <= 0.025 , 0.0225 , 99.99, 32
> 0.03 <= 0.035 , 0.0325 , 99.99, 16
> 0.035 <= 0.0398051 , 0.0374026 , 100.00, 48
# target 50% 0.00158882
# target 75% 0.00196108
# target 90% 0.00297935
# target 99% 0.00539788
# target 99.9% 0.00888806
Ping SERVING : 516978
All done 516978 calls (plus 32 warmup) 1.857 ms avg, 17231.8 qps
Successfully wrote 5277 bytes of Json data to /data/2018-12-22-010157_grpc_baseline_0qps_30s_echo_0_0.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8079
01:02:28 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
01:02:58 I periodic.go:533> T008 ended after 30.000470799s : 3108 calls. qps=103.59837419963418
01:02:58 I periodic.go:533> T030 ended after 30.005189447s : 3093 calls. qps=103.08216868496548
01:02:58 I periodic.go:533> T026 ended after 30.005245731s : 3073 calls. qps=102.41542520763701
01:02:58 I periodic.go:533> T002 ended after 30.005261931s : 3070 calls. qps=102.31538744970005
01:02:58 I periodic.go:533> T004 ended after 30.00528552s : 3081 calls. qps=102.68190909052879
01:02:58 I periodic.go:533> T010 ended after 30.005315029s : 3090 calls. qps=102.98175496619614
01:02:58 I periodic.go:533> T006 ended after 30.005328768s : 3065 calls. qps=102.1485224740731
01:02:58 I periodic.go:533> T014 ended after 30.005341983s : 3082 calls. qps=102.7150432661676
01:02:58 I periodic.go:533> T028 ended after 30.005354615s : 3104 calls. qps=103.44820249010745
01:02:58 I periodic.go:533> T022 ended after 30.005367927s : 3096 calls. qps=103.18153763460765
01:02:58 I periodic.go:533> T020 ended after 30.005396174s : 3079 calls. qps=102.61487574251683
01:02:58 I periodic.go:533> T018 ended after 30.005409513s : 3113 calls. qps=103.74795913554442
01:02:58 I periodic.go:533> T001 ended after 30.005421427s : 3091 calls. qps=103.01471710770916
01:02:58 I periodic.go:533> T016 ended after 30.005434312s : 3072 calls. qps=102.38145424115467
01:02:58 I periodic.go:533> T024 ended after 30.005446651s : 3083 calls. qps=102.74801224787807
01:02:58 I periodic.go:533> T012 ended after 30.005473395s : 3050 calls. qps=101.64812132269977
01:02:58 I periodic.go:533> T027 ended after 30.00566921s : 3076 calls. qps=102.51396089425862
01:02:58 I periodic.go:533> T021 ended after 30.006241346s : 3080 calls. qps=102.6453118364517
01:02:58 I periodic.go:533> T025 ended after 30.006626202s : 3101 calls. qps=103.34384076118869
01:02:58 I periodic.go:533> T029 ended after 30.006663272s : 3088 calls. qps=102.91047598356239
01:02:58 I periodic.go:533> T023 ended after 30.00667588s : 3063 calls. qps=102.07728480986279
01:02:58 I periodic.go:533> T031 ended after 30.006688883s : 3078 calls. qps=102.5771291194948
01:02:58 I periodic.go:533> T015 ended after 30.006701743s : 3074 calls. qps=102.44378160345818
01:02:58 I periodic.go:533> T003 ended after 30.006729245s : 3083 calls. qps=102.74362043353052
01:02:58 I periodic.go:533> T017 ended after 30.006754221s : 3042 calls. qps=101.37717587166023
01:02:58 I periodic.go:533> T007 ended after 30.006771088s : 3053 calls. qps=101.74370281449323
01:02:58 I periodic.go:533> T000 ended after 30.006785899s : 3092 calls. qps=103.04335860586266
01:02:58 I periodic.go:533> T013 ended after 30.006836214s : 3114 calls. qps=103.7763520882995
01:02:58 I periodic.go:533> T019 ended after 30.007609879s : 3118 calls. qps=103.90697601617536
01:02:58 I periodic.go:533> T011 ended after 30.007632574s : 3100 calls. qps=103.30705004319412
01:02:58 I periodic.go:533> T009 ended after 30.007645514s : 3075 calls. qps=102.47388448271843
01:02:58 I periodic.go:533> T005 ended after 30.007674847s : 3096 calls. qps=103.17360527883488
Ended after 30.00769017s : 98683 calls. qps=3288.6
Aggregated Function Time : count 98683 avg 0.0097280454 +/- 0.005024 min 0.000697454 max 0.068147258 sum 959.992708
# range, mid point, percentile, count
>= 0.000697454 <= 0.0007 , 0.000698727 , 0.00, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.00, 1
> 0.0008 <= 0.0009 , 0.00085 , 0.00, 1
> 0.0009 <= 0.001 , 0.00095 , 0.02, 12
> 0.001 <= 0.0011 , 0.00105 , 0.04, 28
> 0.0011 <= 0.0012 , 0.00115 , 0.07, 23
> 0.0012 <= 0.0014 , 0.0013 , 0.18, 112
> 0.0014 <= 0.0016 , 0.0015 , 0.28, 94
> 0.0016 <= 0.0018 , 0.0017 , 0.35, 71
> 0.0018 <= 0.002 , 0.0019 , 0.43, 81
> 0.002 <= 0.0025 , 0.00225 , 0.82, 387
> 0.0025 <= 0.003 , 0.00275 , 2.07, 1227
> 0.003 <= 0.0035 , 0.00325 , 2.70, 627
> 0.0035 <= 0.004 , 0.00375 , 3.40, 689
> 0.004 <= 0.0045 , 0.00425 , 4.62, 1207
> 0.0045 <= 0.005 , 0.00475 , 7.35, 2691
> 0.005 <= 0.006 , 0.0055 , 17.20, 9722
> 0.006 <= 0.007 , 0.0065 , 23.76, 6477
> 0.007 <= 0.008 , 0.0075 , 32.43, 8550
> 0.008 <= 0.009 , 0.0085 , 48.51, 15869
> 0.009 <= 0.01 , 0.0095 , 65.21, 16479
> 0.01 <= 0.012 , 0.011 , 84.20, 18741
> 0.012 <= 0.014 , 0.013 , 91.80, 7502
> 0.014 <= 0.016 , 0.015 , 94.20, 2368
> 0.016 <= 0.018 , 0.017 , 95.23, 1018
> 0.018 <= 0.02 , 0.019 , 95.77, 531
> 0.02 <= 0.025 , 0.0225 , 97.20, 1412
> 0.025 <= 0.03 , 0.0275 , 98.57, 1349
> 0.03 <= 0.035 , 0.0325 , 99.49, 905
> 0.035 <= 0.04 , 0.0375 , 99.73, 246
> 0.04 <= 0.045 , 0.0425 , 99.89, 155
> 0.045 <= 0.05 , 0.0475 , 99.95, 61
> 0.05 <= 0.06 , 0.055 , 99.98, 31
> 0.06 <= 0.0681473 , 0.0640736 , 100.00, 15
# target 50% 0.0090893
# target 75% 0.0110312
# target 90% 0.0135262
# target 99% 0.0323545
# target 99.9% 0.0456817
Ping SERVING : 98683
All done 98683 calls (plus 32 warmup) 9.728 ms avg, 3288.6 qps
Successfully wrote 5540 bytes of Json data to /data/2018-12-22-010228_grpc_istio_0qps_30s_echo_0_0.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8080/echo
01:02:58 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
01:02:58 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
01:03:28 I periodic.go:533> T007 ended after 30.00000047s : 29463 calls. qps=982.0999846137669
01:03:28 I periodic.go:533> T019 ended after 30.002319239s : 30354 calls. qps=1011.7217858459039
01:03:28 I periodic.go:533> T025 ended after 30.004022396s : 30013 calls. qps=1000.2992133481808
01:03:28 I periodic.go:533> T022 ended after 30.004048793s : 29972 calls. qps=998.9318510571321
01:03:28 I periodic.go:533> T004 ended after 30.004077764s : 29466 calls. qps=982.0665121510381
01:03:28 I periodic.go:533> T008 ended after 30.004088708s : 30209 calls. qps=1006.8294456130362
01:03:28 I periodic.go:533> T026 ended after 30.004098006s : 29300 calls. qps=976.5332720264012
01:03:28 I periodic.go:533> T027 ended after 30.004115269s : 30020 calls. qps=1000.5294184100277
01:03:28 I periodic.go:533> T011 ended after 30.004123806s : 29916 calls. qps=997.06294352837
01:03:28 I periodic.go:533> T015 ended after 30.004134229s : 29905 calls. qps=996.6959810190363
01:03:28 I periodic.go:533> T017 ended after 30.004160188s : 29878 calls. qps=995.7952434859197
01:03:28 I periodic.go:533> T013 ended after 30.004170029s : 29196 calls. qps=973.0647430600853
01:03:28 I periodic.go:533> T024 ended after 30.004179363s : 30060 calls. qps=1001.8604287197682
01:03:28 I periodic.go:533> T001 ended after 30.004188623s : 30050 calls. qps=1001.5268327224447
01:03:28 I periodic.go:533> T020 ended after 30.004197078s : 29564 calls. qps=985.3288166033689
01:03:28 I periodic.go:533> T014 ended after 30.004205499s : 30028 calls. qps=1000.7930388625285
01:03:28 I periodic.go:533> T012 ended after 30.004214349s : 29428 calls. qps=980.7955528414226
01:03:28 I periodic.go:533> T003 ended after 30.00423697s : 30222 calls. qps=1007.257742638739
01:03:28 I periodic.go:533> T010 ended after 30.004246588s : 29490 calls. qps=982.8608731603456
01:03:28 I periodic.go:533> T029 ended after 30.004255718s : 29256 calls. qps=975.0616804151849
01:03:28 I periodic.go:533> T002 ended after 30.004264177s : 29484 calls. qps=982.6603254147185
01:03:28 I periodic.go:533> T016 ended after 30.004272955s : 30026 calls. qps=1000.7241316939286
01:03:28 I periodic.go:533> T009 ended after 30.004281027s : 30175 calls. qps=1005.6898204908284
01:03:28 I periodic.go:533> T018 ended after 30.004289538s : 29335 calls. qps=977.6935382138493
01:03:28 I periodic.go:533> T030 ended after 30.004322426s : 30019 calls. qps=1000.4891819849023
01:03:28 I periodic.go:533> T023 ended after 30.004331621s : 29451 calls. qps=981.5582753853872
01:03:28 I periodic.go:533> T006 ended after 30.004341433s : 29950 calls. qps=998.1888809950605
01:03:28 I periodic.go:533> T000 ended after 30.004353628s : 29724 calls. qps=990.6562350425581
01:03:28 I periodic.go:533> T005 ended after 30.004363339s : 29383 calls. qps=979.2909007273504
01:03:28 I periodic.go:533> T021 ended after 30.004372723s : 29389 calls. qps=979.4905653025606
01:03:28 I periodic.go:533> T028 ended after 30.004381444s : 29249 calls. qps=974.8242953979958
01:03:28 I periodic.go:533> T031 ended after 30.004404359s : 29503 calls. qps=983.2889747451494
Ended after 30.004420132s : 951478 calls. qps=31711
Aggregated Function Time : count 951478 avg 0.0010086631 +/- 0.0007043 min 7.1965e-05 max 0.037003024 sum 959.720767
# range, mid point, percentile, count
>= 7.1965e-05 <= 0.0001 , 8.59825e-05 , 0.56, 5286
> 0.0001 <= 0.0002 , 0.00015 , 5.10, 43222
> 0.0002 <= 0.0003 , 0.00025 , 10.48, 51200
> 0.0003 <= 0.0004 , 0.00035 , 16.17, 54160
> 0.0004 <= 0.0005 , 0.00045 , 22.17, 57104
> 0.0005 <= 0.0006 , 0.00055 , 28.37, 58961
> 0.0006 <= 0.0007 , 0.00065 , 34.49, 58278
> 0.0007 <= 0.0008 , 0.00075 , 40.71, 59172
> 0.0008 <= 0.0009 , 0.00085 , 46.99, 59739
> 0.0009 <= 0.001 , 0.00095 , 53.24, 59442
> 0.001 <= 0.0011 , 0.00105 , 59.47, 59323
> 0.0011 <= 0.0012 , 0.00115 , 65.62, 58446
> 0.0012 <= 0.0014 , 0.0013 , 77.19, 110143
> 0.0014 <= 0.0016 , 0.0015 , 87.64, 99391
> 0.0016 <= 0.0018 , 0.0017 , 93.97, 60215
> 0.0018 <= 0.002 , 0.0019 , 95.80, 17444
> 0.002 <= 0.0025 , 0.00225 , 97.95, 20454
> 0.0025 <= 0.003 , 0.00275 , 98.87, 8756
> 0.003 <= 0.0035 , 0.00325 , 99.18, 2952
> 0.0035 <= 0.004 , 0.00375 , 99.39, 1997
> 0.004 <= 0.0045 , 0.00425 , 99.59, 1894
> 0.0045 <= 0.005 , 0.00475 , 99.75, 1553
> 0.005 <= 0.006 , 0.0055 , 99.93, 1643
> 0.006 <= 0.007 , 0.0065 , 99.96, 353
> 0.007 <= 0.008 , 0.0075 , 99.98, 143
> 0.008 <= 0.009 , 0.0085 , 99.98, 61
> 0.009 <= 0.01 , 0.0095 , 99.99, 17
> 0.01 <= 0.012 , 0.011 , 99.99, 13
> 0.012 <= 0.014 , 0.013 , 99.99, 21
> 0.016 <= 0.018 , 0.017 , 99.99, 31
> 0.03 <= 0.035 , 0.0325 , 100.00, 32
> 0.035 <= 0.037003 , 0.0360015 , 100.00, 32
# target 50% 0.000948143
# target 75% 0.00136211
# target 90% 0.00167461
# target 99% 0.00320786
# target 99.9% 0.00584877
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 951478 (100.0 %)
Response Header Sizes : count 951478 avg 75 +/- 0 min 75 max 75 sum 71360850
Response Body/Total Sizes : count 951478 avg 75 +/- 0 min 75 max 75 sum 71360850
All done 951478 calls (plus 32 warmup) 1.009 ms avg, 31711.3 qps
Successfully wrote 5852 bytes of Json data to /data/2018-12-22-010258_http_baseline_0qps_30s_echo_0_1.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8080/echo
01:03:28 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 32 threads at -1.0 qps
01:03:28 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
01:03:58 I periodic.go:533> T017 ended after 30.000187487s : 2445 calls. qps=81.4994906634998
01:03:58 I periodic.go:533> T013 ended after 30.000570748s : 2619 calls. qps=87.29833915491746
01:03:58 I periodic.go:533> T000 ended after 30.002697281s : 2486 calls. qps=82.85921684695747
01:03:58 I periodic.go:533> T028 ended after 30.002757148s : 2441 calls. qps=81.35918935579286
01:03:58 I periodic.go:533> T010 ended after 30.002772293s : 2314 calls. qps=77.12620611862202
01:03:58 I periodic.go:533> T002 ended after 30.002783326s : 2264 calls. qps=75.4596657050164
01:03:58 I periodic.go:533> T009 ended after 30.002795376s : 2517 calls. qps=83.8921829935024
01:03:58 I periodic.go:533> T021 ended after 30.002806815s : 2431 calls. qps=81.02575252341437
01:03:58 I periodic.go:533> T027 ended after 30.002818166s : 2643 calls. qps=88.09172476321302
01:03:58 I periodic.go:533> T015 ended after 30.002840984s : 2426 calls. qps=80.85900936160493
01:03:58 I periodic.go:533> T022 ended after 30.002852914s : 2217 calls. qps=73.89297299009516
01:03:58 I periodic.go:533> T005 ended after 30.005086763s : 2337 calls. qps=77.88679361133563
01:03:58 I periodic.go:533> T014 ended after 30.005140701s : 2478 calls. qps=82.58584836155806
01:03:58 I periodic.go:533> T008 ended after 30.005154162s : 2424 calls. qps=80.78612050825163
01:03:58 I periodic.go:533> T001 ended after 30.005164495s : 2536 calls. qps=84.5187834388508
01:03:58 I periodic.go:533> T018 ended after 30.005174671s : 2552 calls. qps=85.05199613007112
01:03:58 I periodic.go:533> T029 ended after 30.005184817s : 2625 calls. qps=87.48488023019132
01:03:58 I periodic.go:533> T019 ended after 30.005194394s : 2406 calls. qps=80.18611605732895
01:03:58 I periodic.go:533> T004 ended after 30.005204899s : 2525 calls. qps=84.15206656642935
01:03:58 I periodic.go:533> T006 ended after 30.005220387s : 2450 calls. qps=81.65245808564305
01:03:58 I periodic.go:533> T012 ended after 30.005231434s : 2399 calls. qps=79.95272441996923
01:03:58 I periodic.go:533> T023 ended after 30.00524275s : 2314 calls. qps=77.1198559958326
01:03:58 I periodic.go:533> T025 ended after 30.005278444s : 2375 calls. qps=79.15273988983483
01:03:58 I periodic.go:533> T030 ended after 30.005598524s : 2308 calls. qps=76.91897890835087
01:03:58 I periodic.go:533> T007 ended after 30.005758091s : 2458 calls. qps=81.91761036483389
01:03:58 I periodic.go:533> T016 ended after 30.005998672s : 2556 calls. qps=85.18296717733054
01:03:58 I periodic.go:533> T024 ended after 30.006216417s : 2396 calls. qps=79.85012061175924
01:03:58 I periodic.go:533> T011 ended after 30.006432527s : 2512 calls. qps=83.71538328455689
01:03:58 I periodic.go:533> T003 ended after 30.006627762s : 2353 calls. qps=78.41600924512444
01:03:58 I periodic.go:533> T026 ended after 30.006847267s : 2714 calls. qps=90.44602306436633
01:03:58 I periodic.go:533> T020 ended after 30.0070437s : 2366 calls. qps=78.84815390861046
01:03:58 I periodic.go:533> T031 ended after 30.007504953s : 2386 calls. qps=79.51344184520278
Ended after 30.00753104s : 78273 calls. qps=2608.4
Aggregated Function Time : count 78273 avg 0.012264169 +/- 0.01458 min 0.000383533 max 0.111695729 sum 959.953322
# range, mid point, percentile, count
>= 0.000383533 <= 0.0004 , 0.000391766 , 0.01, 11
> 0.0004 <= 0.0005 , 0.00045 , 2.22, 1726
> 0.0005 <= 0.0006 , 0.00055 , 10.81, 6727
> 0.0006 <= 0.0007 , 0.00065 , 39.36, 22343
> 0.0007 <= 0.0008 , 0.00075 , 51.15, 9229
> 0.0008 <= 0.0009 , 0.00085 , 53.19, 1599
> 0.0009 <= 0.001 , 0.00095 , 53.81, 480
> 0.001 <= 0.0011 , 0.00105 , 54.10, 230
> 0.0011 <= 0.0012 , 0.00115 , 54.28, 141
> 0.0012 <= 0.0014 , 0.0013 , 54.48, 159
> 0.0014 <= 0.0016 , 0.0015 , 54.68, 158
> 0.0016 <= 0.0018 , 0.0017 , 55.03, 271
> 0.0018 <= 0.002 , 0.0019 , 55.20, 132
> 0.002 <= 0.0025 , 0.00225 , 55.32, 95
> 0.0025 <= 0.003 , 0.00275 , 55.43, 88
> 0.003 <= 0.0035 , 0.00325 , 55.49, 45
> 0.0035 <= 0.004 , 0.00375 , 55.57, 66
> 0.004 <= 0.0045 , 0.00425 , 55.67, 78
> 0.0045 <= 0.005 , 0.00475 , 55.79, 90
> 0.005 <= 0.006 , 0.0055 , 55.93, 113
> 0.006 <= 0.007 , 0.0065 , 56.05, 91
> 0.007 <= 0.008 , 0.0075 , 56.22, 132
> 0.008 <= 0.009 , 0.0085 , 56.41, 152
> 0.009 <= 0.01 , 0.0095 , 56.69, 216
> 0.01 <= 0.012 , 0.011 , 57.58, 696
> 0.012 <= 0.014 , 0.013 , 58.98, 1097
> 0.014 <= 0.016 , 0.015 , 61.12, 1677
> 0.016 <= 0.018 , 0.017 , 63.82, 2108
> 0.018 <= 0.02 , 0.019 , 66.86, 2387
> 0.02 <= 0.025 , 0.0225 , 75.92, 7088
> 0.025 <= 0.03 , 0.0275 , 85.28, 7327
> 0.03 <= 0.035 , 0.0325 , 92.35, 5533
> 0.035 <= 0.04 , 0.0375 , 96.13, 2960
> 0.04 <= 0.045 , 0.0425 , 97.92, 1403
> 0.045 <= 0.05 , 0.0475 , 98.90, 765
> 0.05 <= 0.06 , 0.055 , 99.75, 662
> 0.06 <= 0.07 , 0.065 , 99.92, 139
> 0.07 <= 0.08 , 0.075 , 99.96, 24
> 0.08 <= 0.09 , 0.085 , 99.97, 10
> 0.09 <= 0.1 , 0.095 , 99.98, 10
> 0.1 <= 0.111696 , 0.105848 , 100.00, 15
# target 50% 0.000790254
# target 75% 0.0244919
# target 90% 0.0333379
# target 99% 0.0511672
# target 99.9% 0.0686135
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 78273 (100.0 %)
Response Header Sizes : count 78273 avg 209.42971 +/- 0.4953 min 209 max 211 sum 16392692
Response Body/Total Sizes : count 78273 avg 209.42971 +/- 0.4953 min 209 max 211 sum 16392692
All done 78273 calls (plus 32 warmup) 12.264 ms avg, 2608.4 qps
Successfully wrote 7048 bytes of Json data to /data/2018-12-22-010328_http_istio_0qps_30s_echo_0_1.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8079
01:03:58 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
01:04:28 I periodic.go:533> T002 ended after 30.000014969s : 15673 calls. qps=522.4330726566445
01:04:28 I periodic.go:533> T004 ended after 30.00063836s : 15680 calls. qps=522.6555452535378
01:04:28 I periodic.go:533> T024 ended after 30.002785622s : 15657 calls. qps=521.8515439619468
01:04:28 I periodic.go:533> T006 ended after 30.002832507s : 15663 calls. qps=522.0507095903577
01:04:28 I periodic.go:533> T027 ended after 30.002871783s : 15667 calls. qps=522.1833467580633
01:04:28 I periodic.go:533> T030 ended after 30.002902081s : 15691 calls. qps=522.9827420573649
01:04:28 I periodic.go:533> T001 ended after 30.002927477s : 15659 calls. qps=521.915736789487
01:04:28 I periodic.go:533> T011 ended after 30.002961303s : 15708 calls. qps=523.5483204929293
01:04:28 I periodic.go:533> T010 ended after 30.003317555s : 15675 calls. qps=522.442225639404
01:04:28 I periodic.go:533> T012 ended after 30.005895266s : 15672 calls. qps=522.2973639369498
01:04:28 I periodic.go:533> T023 ended after 30.005963094s : 15679 calls. qps=522.5294702550367
01:04:28 I periodic.go:533> T026 ended after 30.006001342s : 15611 calls. qps=520.2625908754117
01:04:28 I periodic.go:533> T007 ended after 30.006030361s : 15684 calls. qps=522.6949320288999
01:04:28 I periodic.go:533> T009 ended after 30.006079979s : 15669 calls. qps=522.1941690139491
01:04:28 I periodic.go:533> T000 ended after 30.006154576s : 15669 calls. qps=522.1928708096648
01:04:28 I periodic.go:533> T005 ended after 30.006193252s : 15663 calls. qps=521.9922390173907
01:04:28 I periodic.go:533> T020 ended after 30.006221156s : 15680 calls. qps=522.5583027759778
01:04:28 I periodic.go:533> T018 ended after 30.006247925s : 15696 calls. qps=523.0910588765323
01:04:28 I periodic.go:533> T016 ended after 30.006276843s : 15669 calls. qps=522.1907430229998
01:04:28 I periodic.go:533> T019 ended after 30.006316805s : 15699 calls. qps=523.1898370607101
01:04:28 I periodic.go:533> T022 ended after 30.006346095s : 15686 calls. qps=522.756084674161
01:04:28 I periodic.go:533> T021 ended after 30.006403516s : 15668 calls. qps=522.155212358106
01:04:28 I periodic.go:533> T013 ended after 30.006433483s : 15606 calls. qps=520.0884673228994
01:04:28 I periodic.go:533> T003 ended after 30.006459506s : 15697 calls. qps=523.1206966240478
01:04:28 I periodic.go:533> T014 ended after 30.006487772s : 15641 calls. qps=521.2539407759382
01:04:28 I periodic.go:533> T028 ended after 30.0067211s : 15689 calls. qps=522.8495292009762
01:04:28 I periodic.go:533> T031 ended after 30.006774636s : 15721 calls. qps=523.9150222143189
01:04:28 I periodic.go:533> T025 ended after 30.006801s : 15669 calls. qps=522.1816214264227
01:04:28 I periodic.go:533> T017 ended after 30.006828837s : 15661 calls. qps=521.9145310246568
01:04:28 I periodic.go:533> T029 ended after 30.00692128s : 15726 calls. qps=524.0790900625177
01:04:28 I periodic.go:533> T008 ended after 30.007011807s : 15664 calls. qps=522.0113252445191
01:04:28 I periodic.go:533> T015 ended after 30.007064135s : 15686 calls. qps=522.7435756270463
Ended after 30.007081813s : 501578 calls. qps=16715
Aggregated Function Time : count 501578 avg 0.0019136905 +/- 0.001024 min 0.00035175 max 0.040470796 sum 959.865047
# range, mid point, percentile, count
>= 0.00035175 <= 0.0004 , 0.000375875 , 0.00, 6
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 23
> 0.0005 <= 0.0006 , 0.00055 , 0.11, 529
> 0.0006 <= 0.0007 , 0.00065 , 0.55, 2192
> 0.0007 <= 0.0008 , 0.00075 , 1.32, 3884
> 0.0008 <= 0.0009 , 0.00085 , 2.40, 5390
> 0.0009 <= 0.001 , 0.00095 , 3.77, 6862
> 0.001 <= 0.0011 , 0.00105 , 6.02, 11290
> 0.0011 <= 0.0012 , 0.00115 , 10.67, 23322
> 0.0012 <= 0.0014 , 0.0013 , 25.61, 74956
> 0.0014 <= 0.0016 , 0.0015 , 46.15, 103009
> 0.0016 <= 0.0018 , 0.0017 , 63.63, 87698
> 0.0018 <= 0.002 , 0.0019 , 74.26, 53300
> 0.002 <= 0.0025 , 0.00225 , 85.29, 55333
> 0.0025 <= 0.003 , 0.00275 , 89.56, 21432
> 0.003 <= 0.0035 , 0.00325 , 92.22, 13342
> 0.0035 <= 0.004 , 0.00375 , 94.88, 13344
> 0.004 <= 0.0045 , 0.00425 , 97.08, 11021
> 0.0045 <= 0.005 , 0.00475 , 98.31, 6174
> 0.005 <= 0.006 , 0.0055 , 99.41, 5512
> 0.006 <= 0.007 , 0.0065 , 99.72, 1534
> 0.007 <= 0.008 , 0.0075 , 99.84, 646
> 0.008 <= 0.009 , 0.0085 , 99.88, 190
> 0.009 <= 0.01 , 0.0095 , 99.92, 188
> 0.01 <= 0.012 , 0.011 , 99.97, 243
> 0.012 <= 0.014 , 0.013 , 99.98, 57
> 0.014 <= 0.016 , 0.015 , 99.99, 35
> 0.016 <= 0.018 , 0.017 , 99.99, 2
> 0.02 <= 0.025 , 0.0225 , 99.99, 8
> 0.025 <= 0.03 , 0.0275 , 99.99, 6
> 0.03 <= 0.035 , 0.0325 , 99.99, 19
> 0.035 <= 0.04 , 0.0375 , 100.00, 25
> 0.04 <= 0.0404708 , 0.0402354 , 100.00, 6
# target 50% 0.00164407
# target 75% 0.00203364
# target 90% 0.00308223
# target 99% 0.00562685
# target 99.9% 0.00946501
Ping SERVING : 501578
All done 501578 calls (plus 32 warmup) 1.914 ms avg, 16715.3 qps
Successfully wrote 5386 bytes of Json data to /data/2018-12-22-010358_grpc_baseline_0qps_30s_echo_0_1.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8079
01:04:28 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
01:04:58 I periodic.go:533> T022 ended after 30.00070098s : 3030 calls. qps=100.99764008914167
01:04:58 I periodic.go:533> T013 ended after 30.004392064s : 3265 calls. qps=108.81740223350255
01:04:58 I periodic.go:533> T028 ended after 30.004957315s : 3024 calls. qps=100.78334617354213
01:04:58 I periodic.go:533> T014 ended after 30.004994954s : 3043 calls. qps=101.41644765030478
01:04:58 I periodic.go:533> T001 ended after 30.00500757s : 2986 calls. qps=99.51672210159686
01:04:58 I periodic.go:533> T031 ended after 30.005019789s : 2988 calls. qps=99.5833370886633
01:04:58 I periodic.go:533> T008 ended after 30.005030773s : 3009 calls. qps=100.28318326897521
01:04:58 I periodic.go:533> T012 ended after 30.005041329s : 3013 calls. qps=100.41645891978568
01:04:58 I periodic.go:533> T002 ended after 30.005052674s : 3023 calls. qps=100.74969815398765
01:04:58 I periodic.go:533> T030 ended after 30.005077263s : 3034 calls. qps=101.11622021188062
01:04:58 I periodic.go:533> T020 ended after 30.005088231s : 3020 calls. qps=100.64959572023064
01:04:58 I periodic.go:533> T024 ended after 30.005099523s : 3021 calls. qps=100.68288551032113
01:04:58 I periodic.go:533> T026 ended after 30.005110667s : 2998 calls. qps=99.91631203337764
01:04:58 I periodic.go:533> T004 ended after 30.005121651s : 3021 calls. qps=100.68281125930103
01:04:58 I periodic.go:533> T018 ended after 30.00513293s : 2995 calls. qps=99.81625500500658
01:04:58 I periodic.go:533> T010 ended after 30.00516476s : 2977 calls. qps=99.21625239560925
01:04:58 I periodic.go:533> T006 ended after 30.005175963s : 2994 calls. qps=99.78278426668662
01:04:58 I periodic.go:533> T016 ended after 30.00518635s : 3032 calls. qps=101.04919744982688
01:04:58 I periodic.go:533> T021 ended after 30.007024674s : 3260 calls. qps=108.64122769308321
01:04:58 I periodic.go:533> T019 ended after 30.012602952s : 3321 calls. qps=110.65351463554722
01:04:58 I periodic.go:533> T015 ended after 30.012664888s : 3267 calls. qps=108.85404585669593
01:04:58 I periodic.go:533> T009 ended after 30.01268178s : 3294 calls. qps=109.75360429786957
01:04:58 I periodic.go:533> T023 ended after 30.012716663s : 3227 calls. qps=107.52108968456962
01:04:58 I periodic.go:533> T011 ended after 30.012742893s : 3302 calls. qps=110.01993425832931
01:04:58 I periodic.go:533> T029 ended after 30.012760572s : 3279 calls. qps=109.253528749338
01:04:58 I periodic.go:533> T017 ended after 30.012775862s : 3294 calls. qps=109.75326024976663
01:04:58 I periodic.go:533> T007 ended after 30.012817844s : 3297 calls. qps=109.85306401874952
01:04:58 I periodic.go:533> T025 ended after 30.012838932s : 3239 calls. qps=107.92048054296338
01:04:58 I periodic.go:533> T000 ended after 30.015221336s : 3285 calls. qps=109.44447029814167
01:04:58 I periodic.go:533> T005 ended after 30.01525274s : 3238 calls. qps=107.87848525042938
01:04:58 I periodic.go:533> T003 ended after 30.015265866s : 3238 calls. qps=107.87843807400243
01:04:58 I periodic.go:533> T027 ended after 30.015276899s : 3233 calls. qps=107.71181658189906
Ended after 30.015307575s : 100247 calls. qps=3339.9
Aggregated Function Time : count 100247 avg 0.0095767513 +/- 0.005132 min 0.000669149 max 0.082686185 sum 960.040589
# range, mid point, percentile, count
>= 0.000669149 <= 0.0007 , 0.000684575 , 0.00, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.00, 2
> 0.0008 <= 0.0009 , 0.00085 , 0.00, 2
> 0.0009 <= 0.001 , 0.00095 , 0.02, 13
> 0.001 <= 0.0011 , 0.00105 , 0.03, 15
> 0.0011 <= 0.0012 , 0.00115 , 0.06, 30
> 0.0012 <= 0.0014 , 0.0013 , 0.17, 109
> 0.0014 <= 0.0016 , 0.0015 , 0.30, 130
> 0.0016 <= 0.0018 , 0.0017 , 0.36, 63
> 0.0018 <= 0.002 , 0.0019 , 0.47, 104
> 0.002 <= 0.0025 , 0.00225 , 0.86, 389
> 0.0025 <= 0.003 , 0.00275 , 2.08, 1226
> 0.003 <= 0.0035 , 0.00325 , 2.79, 712
> 0.0035 <= 0.004 , 0.00375 , 3.63, 842
> 0.004 <= 0.0045 , 0.00425 , 5.11, 1480
> 0.0045 <= 0.005 , 0.00475 , 8.29, 3197
> 0.005 <= 0.006 , 0.0055 , 18.49, 10225
> 0.006 <= 0.007 , 0.0065 , 24.85, 6372
> 0.007 <= 0.008 , 0.0075 , 34.41, 9586
> 0.008 <= 0.009 , 0.0085 , 51.02, 16647
> 0.009 <= 0.01 , 0.0095 , 66.86, 15885
> 0.01 <= 0.012 , 0.011 , 85.60, 18786
> 0.012 <= 0.014 , 0.013 , 92.36, 6777
> 0.014 <= 0.016 , 0.015 , 94.47, 2112
> 0.016 <= 0.018 , 0.017 , 95.31, 841
> 0.018 <= 0.02 , 0.019 , 95.92, 606
> 0.02 <= 0.025 , 0.0225 , 97.12, 1209
> 0.025 <= 0.03 , 0.0275 , 98.67, 1557
> 0.03 <= 0.035 , 0.0325 , 99.58, 911
> 0.035 <= 0.04 , 0.0375 , 99.79, 204
> 0.04 <= 0.045 , 0.0425 , 99.85, 60
> 0.045 <= 0.05 , 0.0475 , 99.89, 46
> 0.05 <= 0.06 , 0.055 , 99.95, 53
> 0.06 <= 0.07 , 0.065 , 99.95, 3
> 0.07 <= 0.08 , 0.075 , 99.97, 20
> 0.08 <= 0.0826862 , 0.0813431 , 100.00, 32
# target 50% 0.00893864
# target 75% 0.0108682
# target 90% 0.0133004
# target 99% 0.0317922
# target 99.9% 0.0514628
Ping SERVING : 100247
All done 100247 calls (plus 32 warmup) 9.577 ms avg, 3339.9 qps
Successfully wrote 5777 bytes of Json data to /data/2018-12-22-010428_grpc_istio_0qps_30s_echo_0_1.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8080/echo
01:04:58 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
01:04:58 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
01:05:28 I periodic.go:533> T001 ended after 30.00000267s : 29485 calls. qps=982.8332458611744
01:05:28 I periodic.go:533> T002 ended after 30.003546919s : 29501 calls. qps=983.2504163472166
01:05:28 I periodic.go:533> T025 ended after 30.003586219s : 28856 calls. qps=961.7516982595473
01:05:28 I periodic.go:533> T006 ended after 30.003596871s : 29039 calls. qps=967.8506255384224
01:05:28 I periodic.go:533> T022 ended after 30.003621574s : 29735 calls. qps=991.0470283283142
01:05:28 I periodic.go:533> T012 ended after 30.003631154s : 28886 calls. qps=962.7501368663172
01:05:28 I periodic.go:533> T023 ended after 30.003640214s : 28880 calls. qps=962.5498704162004
01:05:28 I periodic.go:533> T005 ended after 30.003655593s : 29051 calls. qps=968.2486825631254
01:05:28 I periodic.go:533> T020 ended after 30.00367063s : 28745 calls. qps=958.0494451655031
01:05:28 I periodic.go:533> T026 ended after 30.003694124s : 29235 calls. qps=974.3800173130975
01:05:28 I periodic.go:533> T027 ended after 30.003703442s : 29465 calls. qps=982.0454350563301
01:05:28 I periodic.go:533> T010 ended after 30.003711633s : 29215 calls. qps=973.7128645066524
01:05:28 I periodic.go:533> T021 ended after 30.003720485s : 29353 calls. qps=978.3120068284426
01:05:28 I periodic.go:533> T018 ended after 30.003730897s : 29405 calls. qps=980.0447851283766
01:05:28 I periodic.go:533> T015 ended after 30.003740309s : 28871 calls. qps=962.2466966673411
01:05:28 I periodic.go:533> T013 ended after 30.003748771s : 29527 calls. qps=984.1103598540726
01:05:28 I periodic.go:533> T004 ended after 30.003757395s : 29586 calls. qps=986.0764973699721
01:05:28 I periodic.go:533> T009 ended after 30.003780103s : 29613 calls. qps=986.9756376810358
01:05:28 I periodic.go:533> T024 ended after 30.003789508s : 29628 calls. qps=987.4752651527633
01:05:28 I periodic.go:533> T016 ended after 30.003797612s : 29622 calls. qps=987.2750237507502
01:05:28 I periodic.go:533> T029 ended after 30.003806152s : 29708 calls. qps=990.1410457559472
01:05:28 I periodic.go:533> T030 ended after 30.003814913s : 29529 calls. qps=984.174848619191
01:05:28 I periodic.go:533> T031 ended after 30.003823296s : 29102 calls. qps=969.9430540200445
01:05:28 I periodic.go:533> T019 ended after 30.003831872s : 29634 calls. qps=987.6738453415635
01:05:28 I periodic.go:533> T000 ended after 30.003841471s : 28970 calls. qps=965.543029815057
01:05:28 I periodic.go:533> T003 ended after 30.003864525s : 28869 calls. qps=962.1760548860497
01:05:28 I periodic.go:533> T011 ended after 30.003873598s : 29503 calls. qps=983.3063688805373
01:05:28 I periodic.go:533> T014 ended after 30.00388244s : 29650 calls. qps=988.2054450550633
01:05:28 I periodic.go:533> T028 ended after 30.00389227s : 29169 calls. qps=972.1738678939737
01:05:28 I periodic.go:533> T007 ended after 30.003900971s : 29553 calls. qps=984.971921769912
01:05:28 I periodic.go:533> T008 ended after 30.003909747s : 29098 calls. qps=969.8069433404231
01:05:28 I periodic.go:533> T017 ended after 30.003918725s : 29237 calls. qps=974.4393813345127
Ended after 30.003949684s : 937720 calls. qps=31253
Aggregated Function Time : count 937720 avg 0.0010234474 +/- 0.0007042 min 7.0641e-05 max 0.037213132 sum 959.707097
# range, mid point, percentile, count
>= 7.0641e-05 <= 0.0001 , 8.53205e-05 , 0.50, 4662
> 0.0001 <= 0.0002 , 0.00015 , 4.92, 41451
> 0.0002 <= 0.0003 , 0.00025 , 10.15, 49038
> 0.0003 <= 0.0004 , 0.00035 , 15.73, 52340
> 0.0004 <= 0.0005 , 0.00045 , 21.66, 55664
> 0.0005 <= 0.0006 , 0.00055 , 27.75, 57062
> 0.0006 <= 0.0007 , 0.00065 , 33.83, 56986
> 0.0007 <= 0.0008 , 0.00075 , 40.03, 58130
> 0.0008 <= 0.0009 , 0.00085 , 46.19, 57816
> 0.0009 <= 0.001 , 0.00095 , 52.48, 58944
> 0.001 <= 0.0011 , 0.00105 , 58.65, 57919
> 0.0011 <= 0.0012 , 0.00115 , 64.64, 56106
> 0.0012 <= 0.0014 , 0.0013 , 76.19, 108309
> 0.0014 <= 0.0016 , 0.0015 , 86.60, 97645
> 0.0016 <= 0.0018 , 0.0017 , 93.40, 63741
> 0.0018 <= 0.002 , 0.0019 , 95.50, 19728
> 0.002 <= 0.0025 , 0.00225 , 97.86, 22065
> 0.0025 <= 0.003 , 0.00275 , 98.83, 9137
> 0.003 <= 0.0035 , 0.00325 , 99.16, 3092
> 0.0035 <= 0.004 , 0.00375 , 99.35, 1787
> 0.004 <= 0.0045 , 0.00425 , 99.53, 1670
> 0.0045 <= 0.005 , 0.00475 , 99.71, 1717
> 0.005 <= 0.006 , 0.0055 , 99.93, 2053
> 0.006 <= 0.007 , 0.0065 , 99.98, 431
> 0.007 <= 0.008 , 0.0075 , 99.98, 25
> 0.008 <= 0.009 , 0.0085 , 99.98, 25
> 0.009 <= 0.01 , 0.0095 , 99.98, 9
> 0.01 <= 0.012 , 0.011 , 99.99, 45
> 0.012 <= 0.014 , 0.013 , 99.99, 29
> 0.014 <= 0.016 , 0.015 , 99.99, 1
> 0.016 <= 0.018 , 0.017 , 99.99, 11
> 0.018 <= 0.02 , 0.019 , 99.99, 18
> 0.02 <= 0.025 , 0.0225 , 100.00, 28
> 0.03 <= 0.035 , 0.0325 , 100.00, 5
> 0.035 <= 0.0372131 , 0.0361066 , 100.00, 31
# target 50% 0.000960585
# target 75% 0.00137943
# target 90% 0.00170002
# target 99% 0.0032587
# target 99.9% 0.00586375
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 937720 (100.0 %)
Response Header Sizes : count 937720 avg 75 +/- 0 min 75 max 75 sum 70329000
Response Body/Total Sizes : count 937720 avg 75 +/- 0 min 75 max 75 sum 70329000
All done 937720 calls (plus 32 warmup) 1.023 ms avg, 31253.2 qps
Successfully wrote 6230 bytes of Json data to /data/2018-12-22-010458_http_baseline_0qps_30s_echo_0_2.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8080/echo
01:05:29 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 32 threads at -1.0 qps
01:05:29 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
01:05:59 I periodic.go:533> T002 ended after 30.000102331s : 2639 calls. qps=87.96636661045794
01:05:59 I periodic.go:533> T011 ended after 30.000536285s : 2620 calls. qps=87.33177217601862
01:05:59 I periodic.go:533> T018 ended after 30.002582538s : 2680 calls. qps=89.32564377101957
01:05:59 I periodic.go:533> T025 ended after 30.002618418s : 2629 calls. qps=87.62568531094398
01:05:59 I periodic.go:533> T023 ended after 30.002648044s : 2497 calls. qps=83.22598713080447
01:05:59 I periodic.go:533> T012 ended after 30.002660489s : 2303 calls. qps=76.75985937461641
01:05:59 I periodic.go:533> T026 ended after 30.002672671s : 2341 calls. qps=78.02638203838303
01:05:59 I periodic.go:533> T005 ended after 30.002683222s : 2629 calls. qps=87.6254960447084
01:05:59 I periodic.go:533> T029 ended after 30.002694557s : 2379 calls. qps=79.2928780273487
01:05:59 I periodic.go:533> T000 ended after 30.002705006s : 2363 calls. qps=78.75956516345585
01:05:59 I periodic.go:533> T016 ended after 30.002749703s : 2590 calls. qps=86.3254210243611
01:05:59 I periodic.go:533> T010 ended after 30.002772953s : 2394 calls. qps=79.79262462673877
01:05:59 I periodic.go:533> T028 ended after 30.004925356s : 2408 calls. qps=80.25349076625778
01:05:59 I periodic.go:533> T015 ended after 30.004954391s : 2286 calls. qps=76.18741792474401
01:05:59 I periodic.go:533> T024 ended after 30.004968004s : 2381 calls. qps=79.35352571222826
01:05:59 I periodic.go:533> T014 ended after 30.004979507s : 2400 calls. qps=79.98672351834443
01:05:59 I periodic.go:533> T027 ended after 30.00500461s : 2452 calls. qps=81.7197008256017
01:05:59 I periodic.go:533> T001 ended after 30.005017176s : 2467 calls. qps=82.21958299604874
01:05:59 I periodic.go:533> T004 ended after 30.00502809s : 2325 calls. qps=77.48701294416952
01:05:59 I periodic.go:533> T020 ended after 30.005039247s : 2551 calls. qps=85.01905226653076
01:05:59 I periodic.go:533> T017 ended after 30.00519654s : 2360 calls. qps=78.65304254394329
01:05:59 I periodic.go:533> T008 ended after 30.005439591s : 2354 calls. qps=78.45244169347454
01:05:59 I periodic.go:533> T021 ended after 30.005669674s : 2461 calls. qps=82.01783285418435
01:05:59 I periodic.go:533> T013 ended after 30.005898331s : 2555 calls. qps=85.14992525187463
01:05:59 I periodic.go:533> T031 ended after 30.006178766s : 2584 calls. qps=86.11559706256
01:05:59 I periodic.go:533> T030 ended after 30.006424648s : 2375 calls. qps=79.14971636443529
01:05:59 I periodic.go:533> T022 ended after 30.006658897s : 2399 calls. qps=79.94892094567206
01:05:59 I periodic.go:533> T003 ended after 30.006896738s : 2407 calls. qps=80.21489263006109
01:05:59 I periodic.go:533> T006 ended after 30.007172466s : 2320 calls. qps=77.31484872920649
01:05:59 I periodic.go:533> T019 ended after 30.007422215s : 2287 calls. qps=76.21447732543928
01:05:59 I periodic.go:533> T007 ended after 30.007670093s : 2230 calls. qps=74.31433340505167
01:05:59 I periodic.go:533> T009 ended after 30.00793092s : 2560 calls. qps=85.3107802342275
Ended after 30.007964536s : 78226 calls. qps=2606.8
Aggregated Function Time : count 78226 avg 0.012271425 +/- 0.01487 min 0.000370686 max 0.098546456 sum 959.944463
# range, mid point, percentile, count
>= 0.000370686 <= 0.0004 , 0.000385343 , 0.05, 42
> 0.0004 <= 0.0005 , 0.00045 , 2.11, 1612
> 0.0005 <= 0.0006 , 0.00055 , 12.10, 7812
> 0.0006 <= 0.0007 , 0.00065 , 40.50, 22216
> 0.0007 <= 0.0008 , 0.00075 , 51.91, 8924
> 0.0008 <= 0.0009 , 0.00085 , 53.78, 1461
> 0.0009 <= 0.001 , 0.00095 , 54.44, 518
> 0.001 <= 0.0011 , 0.00105 , 54.71, 213
> 0.0011 <= 0.0012 , 0.00115 , 54.89, 143
> 0.0012 <= 0.0014 , 0.0013 , 55.11, 169
> 0.0014 <= 0.0016 , 0.0015 , 55.35, 186
> 0.0016 <= 0.0018 , 0.0017 , 55.83, 374
> 0.0018 <= 0.002 , 0.0019 , 56.06, 185
> 0.002 <= 0.0025 , 0.00225 , 56.22, 123
> 0.0025 <= 0.003 , 0.00275 , 56.36, 113
> 0.003 <= 0.0035 , 0.00325 , 56.42, 45
> 0.0035 <= 0.004 , 0.00375 , 56.53, 88
> 0.004 <= 0.0045 , 0.00425 , 56.65, 94
> 0.0045 <= 0.005 , 0.00475 , 56.75, 76
> 0.005 <= 0.006 , 0.0055 , 56.91, 127
> 0.006 <= 0.007 , 0.0065 , 57.07, 125
> 0.007 <= 0.008 , 0.0075 , 57.23, 123
> 0.008 <= 0.009 , 0.0085 , 57.41, 143
> 0.009 <= 0.01 , 0.0095 , 57.66, 191
> 0.01 <= 0.012 , 0.011 , 58.42, 597
> 0.012 <= 0.014 , 0.013 , 59.69, 992
> 0.014 <= 0.016 , 0.015 , 61.53, 1443
> 0.016 <= 0.018 , 0.017 , 64.02, 1947
> 0.018 <= 0.02 , 0.019 , 66.96, 2296
> 0.02 <= 0.025 , 0.0225 , 75.49, 6678
> 0.025 <= 0.03 , 0.0275 , 84.48, 7028
> 0.03 <= 0.035 , 0.0325 , 91.78, 5708
> 0.035 <= 0.04 , 0.0375 , 95.77, 3124
> 0.04 <= 0.045 , 0.0425 , 97.61, 1438
> 0.045 <= 0.05 , 0.0475 , 98.68, 841
> 0.05 <= 0.06 , 0.055 , 99.62, 735
> 0.06 <= 0.07 , 0.065 , 99.87, 195
> 0.07 <= 0.08 , 0.075 , 99.95, 59
> 0.08 <= 0.09 , 0.085 , 99.98, 30
> 0.09 <= 0.0985465 , 0.0942732 , 100.00, 12
# target 50% 0.00078327
# target 75% 0.0247106
# target 90% 0.0337836
# target 99% 0.0533842
# target 99.9% 0.07386
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 78226 (100.0 %)
Response Header Sizes : count 78226 avg 209.41982 +/- 0.4935 min 209 max 210 sum 16382075
Response Body/Total Sizes : count 78226 avg 209.41982 +/- 0.4935 min 209 max 210 sum 16382075
All done 78226 calls (plus 32 warmup) 12.271 ms avg, 2606.8 qps
Successfully wrote 6934 bytes of Json data to /data/2018-12-22-010529_http_istio_0qps_30s_echo_0_2.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8079
01:05:59 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
01:06:29 I periodic.go:533> T001 ended after 30.000003983s : 16197 calls. qps=539.8999283192862
01:06:29 I periodic.go:533> T012 ended after 30.00034229s : 16181 calls. qps=539.3605127430031
01:06:29 I periodic.go:533> T004 ended after 30.003355789s : 16145 calls. qps=538.1064742737601
01:06:29 I periodic.go:533> T017 ended after 30.003482348s : 16193 calls. qps=539.704018759656
01:06:29 I periodic.go:533> T005 ended after 30.003517482s : 16196 calls. qps=539.8033750448247
01:06:29 I periodic.go:533> T000 ended after 30.003552091s : 16193 calls. qps=539.7027642222844
01:06:29 I periodic.go:533> T028 ended after 30.003577598s : 16162 calls. qps=538.6690952840684
01:06:29 I periodic.go:533> T020 ended after 30.003856372s : 16215 calls. qps=540.4305299612104
01:06:29 I periodic.go:533> T029 ended after 30.003886521s : 16184 calls. qps=539.3967874352767
01:06:29 I periodic.go:533> T016 ended after 30.003909311s : 16220 calls. qps=540.5962213748406
01:06:29 I periodic.go:533> T019 ended after 30.003930746s : 16172 calls. qps=538.9960447817652
01:06:29 I periodic.go:533> T027 ended after 30.003971293s : 16204 calls. qps=540.0618418729267
01:06:29 I periodic.go:533> T014 ended after 30.004003218s : 16191 calls. qps=539.6279917170085
01:06:29 I periodic.go:533> T025 ended after 30.004024583s : 16227 calls. qps=540.8274465017626
01:06:29 I periodic.go:533> T031 ended after 30.00404837s : 16210 calls. qps=540.2604275297667
01:06:29 I periodic.go:533> T010 ended after 30.004071976s : 16178 calls. qps=539.1934805695921
01:06:29 I periodic.go:533> T011 ended after 30.004092911s : 16196 calls. qps=539.793022506682
01:06:29 I periodic.go:533> T009 ended after 30.00411475s : 16162 calls. qps=538.6594517007038
01:06:29 I periodic.go:533> T026 ended after 30.004142183s : 16171 calls. qps=538.9589177844351
01:06:29 I periodic.go:533> T030 ended after 30.004261647s : 16160 calls. qps=538.590157295731
01:06:29 I periodic.go:533> T008 ended after 30.00500261s : 16204 calls. qps=540.0432791363787
01:06:29 I periodic.go:533> T015 ended after 30.005038083s : 16195 calls. qps=539.7426910507947
01:06:29 I periodic.go:533> T018 ended after 30.005062336s : 16227 calls. qps=540.8087414812961
01:06:29 I periodic.go:533> T013 ended after 30.005082467s : 16147 calls. qps=538.1421636737273
01:06:29 I periodic.go:533> T003 ended after 30.005102526s : 16221 calls. qps=540.608051112113
01:06:29 I periodic.go:533> T007 ended after 30.005141384s : 16216 calls. qps=540.4407128921929
01:06:29 I periodic.go:533> T024 ended after 30.005166607s : 16221 calls. qps=540.6068965541339
01:06:29 I periodic.go:533> T021 ended after 30.005187417s : 16186 calls. qps=539.440056649322
01:06:29 I periodic.go:533> T006 ended after 30.005208809s : 16206 calls. qps=540.1062229948236
01:06:29 I periodic.go:533> T023 ended after 30.00522885s : 16188 calls. qps=539.5059668075153
01:06:29 I periodic.go:533> T002 ended after 30.005248526s : 16225 calls. qps=540.7387306237705
01:06:29 I periodic.go:533> T022 ended after 30.005271428s : 16160 calls. qps=538.5720318770382
Ended after 30.005286408s : 518153 calls. qps=17269
Aggregated Function Time : count 518153 avg 0.0018524266 +/- 0.001004 min 0.000229459 max 0.038049953 sum 959.840384
# range, mid point, percentile, count
>= 0.000229459 <= 0.0003 , 0.00026473 , 0.00, 1
> 0.0003 <= 0.0004 , 0.00035 , 0.00, 2
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 41
> 0.0005 <= 0.0006 , 0.00055 , 0.17, 835
> 0.0006 <= 0.0007 , 0.00065 , 0.72, 2874
> 0.0007 <= 0.0008 , 0.00075 , 1.60, 4534
> 0.0008 <= 0.0009 , 0.00085 , 2.75, 5960
> 0.0009 <= 0.001 , 0.00095 , 4.37, 8418
> 0.001 <= 0.0011 , 0.00105 , 7.18, 14545
> 0.0011 <= 0.0012 , 0.00115 , 13.18, 31062
> 0.0012 <= 0.0014 , 0.0013 , 30.25, 88465
> 0.0014 <= 0.0016 , 0.0015 , 52.45, 115055
> 0.0016 <= 0.0018 , 0.0017 , 68.21, 81651
> 0.0018 <= 0.002 , 0.0019 , 76.99, 45469
> 0.002 <= 0.0025 , 0.00225 , 86.09, 47170
> 0.0025 <= 0.003 , 0.00275 , 89.99, 20194
> 0.003 <= 0.0035 , 0.00325 , 92.66, 13860
> 0.0035 <= 0.004 , 0.00375 , 95.56, 14990
> 0.004 <= 0.0045 , 0.00425 , 97.49, 10021
> 0.0045 <= 0.005 , 0.00475 , 98.56, 5525
> 0.005 <= 0.006 , 0.0055 , 99.38, 4279
> 0.006 <= 0.007 , 0.0065 , 99.69, 1596
> 0.007 <= 0.008 , 0.0075 , 99.85, 843
> 0.008 <= 0.009 , 0.0085 , 99.91, 293
> 0.009 <= 0.01 , 0.0095 , 99.93, 89
> 0.01 <= 0.012 , 0.011 , 99.96, 153
> 0.012 <= 0.014 , 0.013 , 99.97, 47
> 0.014 <= 0.016 , 0.015 , 99.98, 54
> 0.016 <= 0.018 , 0.017 , 99.98, 31
> 0.018 <= 0.02 , 0.019 , 99.99, 42
> 0.02 <= 0.025 , 0.0225 , 99.99, 21
> 0.03 <= 0.035 , 0.0325 , 100.00, 16
> 0.035 <= 0.03805 , 0.036525 , 100.00, 17
# target 50% 0.0015779
# target 75% 0.00195471
# target 90% 0.00300223
# target 99% 0.00553738
# target 99.9% 0.00883566
Ping SERVING : 518153
All done 518153 calls (plus 32 warmup) 1.852 ms avg, 17268.7 qps
Successfully wrote 5431 bytes of Json data to /data/2018-12-22-010559_grpc_baseline_0qps_30s_echo_0_2.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8079
01:06:29 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
01:06:59 I periodic.go:533> T010 ended after 30.000080119s : 3138 calls. qps=104.59972065249937
01:06:59 I periodic.go:533> T017 ended after 30.004917168s : 3145 calls. qps=104.81615337882408
01:06:59 I periodic.go:533> T004 ended after 30.004972456s : 3141 calls. qps=104.68264900446206
01:06:59 I periodic.go:533> T001 ended after 30.004988248s : 3134 calls. qps=104.44929936637782
01:06:59 I periodic.go:533> T016 ended after 30.005001693s : 3122 calls. qps=104.04931924160981
01:06:59 I periodic.go:533> T019 ended after 30.005028885s : 3153 calls. qps=105.08238509232817
01:06:59 I periodic.go:533> T002 ended after 30.005041797s : 3136 calls. qps=104.51576842374361
01:06:59 I periodic.go:533> T028 ended after 30.005053604s : 3145 calls. qps=104.81567676922054
01:06:59 I periodic.go:533> T008 ended after 30.00506565s : 3170 calls. qps=105.6488273339272
01:06:59 I periodic.go:533> T023 ended after 30.0050782s : 3145 calls. qps=104.81559084888504
01:06:59 I periodic.go:533> T030 ended after 30.00508976s : 3147 calls. qps=104.8822058248027
01:06:59 I periodic.go:533> T014 ended after 30.005116334s : 3149 calls. qps=104.94876823496071
01:06:59 I periodic.go:533> T021 ended after 30.005128909s : 3167 calls. qps=105.54862169080909
01:06:59 I periodic.go:533> T006 ended after 30.005142179s : 3129 calls. qps=104.28212542148607
01:06:59 I periodic.go:533> T025 ended after 30.005154168s : 3186 calls. qps=106.18175737946436
01:06:59 I periodic.go:533> T012 ended after 30.005169588s : 3146 calls. qps=104.8485991979923
01:06:59 I periodic.go:533> T000 ended after 30.006348913s : 3124 calls. qps=104.1113002137542
01:06:59 I periodic.go:533> T022 ended after 30.006396585s : 3133 calls. qps=104.41107085701073
01:06:59 I periodic.go:533> T024 ended after 30.006428925s : 3135 calls. qps=104.47761070921904
01:06:59 I periodic.go:533> T015 ended after 30.006488702s : 3108 calls. qps=103.57759719459762
01:06:59 I periodic.go:533> T009 ended after 30.007155419s : 3100 calls. qps=103.30869276723027
01:06:59 I periodic.go:533> T031 ended after 30.00719929s : 3152 calls. qps=105.04145920243928
01:06:59 I periodic.go:533> T011 ended after 30.007228854s : 3120 calls. qps=103.97494600985456
01:06:59 I periodic.go:533> T027 ended after 30.007242561s : 3109 calls. qps=103.60832034732589
01:06:59 I periodic.go:533> T003 ended after 30.007254949s : 3113 calls. qps=103.74157867125201
01:06:59 I periodic.go:533> T026 ended after 30.007298434s : 3128 calls. qps=104.24130672342685
01:06:59 I periodic.go:533> T007 ended after 30.00731175s : 3154 calls. qps=105.10771595526214
01:06:59 I periodic.go:533> T005 ended after 30.007323772s : 3112 calls. qps=103.70801553798758
01:06:59 I periodic.go:533> T020 ended after 30.007335104s : 3101 calls. qps=103.34139933627877
01:06:59 I periodic.go:533> T029 ended after 30.007363419s : 3130 calls. qps=104.30773128232096
01:06:59 I periodic.go:533> T018 ended after 30.007375836s : 3113 calls. qps=103.74116074039763
01:06:59 I periodic.go:533> T013 ended after 30.007389622s : 3123 calls. qps=104.07436432625795
Ended after 30.007405532s : 100308 calls. qps=3342.8
Aggregated Function Time : count 100308 avg 0.0095704505 +/- 0.004829 min 0.00067873 max 0.055126554 sum 959.992748
# range, mid point, percentile, count
>= 0.00067873 <= 0.0007 , 0.000689365 , 0.00, 1
> 0.0008 <= 0.0009 , 0.00085 , 0.00, 4
> 0.0009 <= 0.001 , 0.00095 , 0.02, 11
> 0.001 <= 0.0011 , 0.00105 , 0.03, 13
> 0.0011 <= 0.0012 , 0.00115 , 0.05, 23
> 0.0012 <= 0.0014 , 0.0013 , 0.15, 98
> 0.0014 <= 0.0016 , 0.0015 , 0.27, 121
> 0.0016 <= 0.0018 , 0.0017 , 0.34, 68
> 0.0018 <= 0.002 , 0.0019 , 0.44, 100
> 0.002 <= 0.0025 , 0.00225 , 0.79, 352
> 0.0025 <= 0.003 , 0.00275 , 2.06, 1271
> 0.003 <= 0.0035 , 0.00325 , 2.69, 632
> 0.0035 <= 0.004 , 0.00375 , 3.44, 753
> 0.004 <= 0.0045 , 0.00425 , 4.76, 1329
> 0.0045 <= 0.005 , 0.00475 , 7.92, 3172
> 0.005 <= 0.006 , 0.0055 , 18.52, 10629
> 0.006 <= 0.007 , 0.0065 , 24.94, 6436
> 0.007 <= 0.008 , 0.0075 , 34.74, 9836
> 0.008 <= 0.009 , 0.0085 , 51.12, 16431
> 0.009 <= 0.01 , 0.0095 , 66.13, 15058
> 0.01 <= 0.012 , 0.011 , 85.10, 19020
> 0.012 <= 0.014 , 0.013 , 92.22, 7150
> 0.014 <= 0.016 , 0.015 , 94.23, 2009
> 0.016 <= 0.018 , 0.017 , 95.21, 990
> 0.018 <= 0.02 , 0.019 , 95.88, 672
> 0.02 <= 0.025 , 0.0225 , 97.17, 1287
> 0.025 <= 0.03 , 0.0275 , 98.85, 1689
> 0.03 <= 0.035 , 0.0325 , 99.72, 874
> 0.035 <= 0.04 , 0.0375 , 99.89, 172
> 0.04 <= 0.045 , 0.0425 , 99.94, 43
> 0.045 <= 0.05 , 0.0475 , 99.99, 55
> 0.05 <= 0.0551266 , 0.0525633 , 100.00, 9
# target 50% 0.00893147
# target 75% 0.0109351
# target 90% 0.013376
# target 99% 0.0308577
# target 99.9% 0.0407781
Ping SERVING : 100308
All done 100308 calls (plus 32 warmup) 9.570 ms avg, 3342.8 qps
Successfully wrote 5260 bytes of Json data to /data/2018-12-22-010629_grpc_istio_0qps_30s_echo_0_2.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8080/echo
01:06:59 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
01:06:59 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
01:07:29 I periodic.go:533> T026 ended after 30.000009766s : 29552 calls. qps=985.0663459947355
01:07:29 I periodic.go:533> T013 ended after 30.000632208s : 29611 calls. qps=987.012533426009
01:07:29 I periodic.go:533> T008 ended after 30.003498603s : 29598 calls. qps=986.4849560257798
01:07:29 I periodic.go:533> T025 ended after 30.003527804s : 29534 calls. qps=984.3509134303399
01:07:29 I periodic.go:533> T009 ended after 30.003538114s : 29035 calls. qps=967.7192033046239
01:07:29 I periodic.go:533> T017 ended after 30.003547151s : 29190 calls. qps=972.8849676704681
01:07:29 I periodic.go:533> T010 ended after 30.003570897s : 28969 calls. qps=965.5184077738079
01:07:29 I periodic.go:533> T024 ended after 30.003594632s : 29401 calls. qps=979.9159187627035
01:07:29 I periodic.go:533> T004 ended after 30.003604118s : 28939 calls. qps=964.5174588421758
01:07:29 I periodic.go:533> T029 ended after 30.003614739s : 29099 calls. qps=969.8498082024716
01:07:29 I periodic.go:533> T006 ended after 30.003623713s : 29452 calls. qps=981.6147636606644
01:07:29 I periodic.go:533> T021 ended after 30.003649299s : 28884 calls. qps=962.6828960756678
01:07:29 I periodic.go:533> T018 ended after 30.003658336s : 29788 calls. qps=992.812265304953
01:07:29 I periodic.go:533> T019 ended after 30.003667718s : 29099 calls. qps=969.8480956894058
01:07:29 I periodic.go:533> T001 ended after 30.003676607s : 28978 calls. qps=965.81496926411
01:07:29 I periodic.go:533> T003 ended after 30.003684881s : 29490 calls. qps=982.8792735613187
01:07:29 I periodic.go:533> T007 ended after 30.00369389s : 29160 calls. qps=971.8803326985949
01:07:29 I periodic.go:533> T002 ended after 30.003702325s : 29140 calls. qps=971.2134750690306
01:07:29 I periodic.go:533> T000 ended after 30.003711292s : 29363 calls. qps=978.6455986806261
01:07:29 I periodic.go:533> T022 ended after 30.003736257s : 29189 calls. qps=972.8455066388634
01:07:29 I periodic.go:533> T028 ended after 30.00374525s : 29681 calls. qps=989.2431679008473
01:07:29 I periodic.go:533> T023 ended after 30.003753918s : 29674 calls. qps=989.009577971436
01:07:29 I periodic.go:533> T014 ended after 30.003762704s : 29550 calls. qps=984.8764733784705
01:07:29 I periodic.go:533> T020 ended after 30.003771755s : 29538 calls. qps=984.4762265623361
01:07:29 I periodic.go:533> T015 ended after 30.003780233s : 29153 calls. qps=971.6442319470044
01:07:29 I periodic.go:533> T031 ended after 30.003789002s : 29497 calls. qps=983.1091665800536
01:07:29 I periodic.go:533> T012 ended after 30.003821814s : 29074 calls. qps=969.0098874815295
01:07:29 I periodic.go:533> T016 ended after 30.003831568s : 29774 calls. qps=992.339926069805
01:07:29 I periodic.go:533> T030 ended after 30.003839968s : 29136 calls. qps=971.0757033457858
01:07:29 I periodic.go:533> T005 ended after 30.003848498s : 29401 calls. qps=979.9076275818355
01:07:29 I periodic.go:533> T011 ended after 30.003857964s : 29419 calls. qps=980.5072412787135
01:07:29 I periodic.go:533> T027 ended after 30.003871791s : 29078 calls. qps=969.1415895438626
Ended after 30.003901533s : 938446 calls. qps=31277
Aggregated Function Time : count 938446 avg 0.0010226553 +/- 0.0007009 min 7.4195e-05 max 0.034988758 sum 959.706784
# range, mid point, percentile, count
>= 7.4195e-05 <= 0.0001 , 8.70975e-05 , 0.53, 4946
> 0.0001 <= 0.0002 , 0.00015 , 4.98, 41800
> 0.0002 <= 0.0003 , 0.00025 , 10.26, 49560
> 0.0003 <= 0.0004 , 0.00035 , 15.89, 52776
> 0.0004 <= 0.0005 , 0.00045 , 21.86, 56025
> 0.0005 <= 0.0006 , 0.00055 , 27.95, 57202
> 0.0006 <= 0.0007 , 0.00065 , 34.00, 56794
> 0.0007 <= 0.0008 , 0.00075 , 40.03, 56585
> 0.0008 <= 0.0009 , 0.00085 , 46.16, 57504
> 0.0009 <= 0.001 , 0.00095 , 52.32, 57835
> 0.001 <= 0.0011 , 0.00105 , 58.44, 57357
> 0.0011 <= 0.0012 , 0.00115 , 64.37, 55676
> 0.0012 <= 0.0014 , 0.0013 , 75.97, 108901
> 0.0014 <= 0.0016 , 0.0015 , 86.48, 98593
> 0.0016 <= 0.0018 , 0.0017 , 93.43, 65261
> 0.0018 <= 0.002 , 0.0019 , 95.48, 19181
> 0.002 <= 0.0025 , 0.00225 , 97.85, 22235
> 0.0025 <= 0.003 , 0.00275 , 98.87, 9566
> 0.003 <= 0.0035 , 0.00325 , 99.19, 3031
> 0.0035 <= 0.004 , 0.00375 , 99.40, 2007
> 0.004 <= 0.0045 , 0.00425 , 99.60, 1838
> 0.0045 <= 0.005 , 0.00475 , 99.76, 1505
> 0.005 <= 0.006 , 0.0055 , 99.94, 1673
> 0.006 <= 0.007 , 0.0065 , 99.97, 331
> 0.007 <= 0.008 , 0.0075 , 99.98, 64
> 0.008 <= 0.009 , 0.0085 , 99.98, 40
> 0.009 <= 0.01 , 0.0095 , 99.99, 24
> 0.01 <= 0.012 , 0.011 , 99.99, 12
> 0.012 <= 0.014 , 0.013 , 99.99, 28
> 0.014 <= 0.016 , 0.015 , 99.99, 32
> 0.03 <= 0.0349888 , 0.0324944 , 100.00, 64
# target 50% 0.0009623
# target 75% 0.00138324
# target 90% 0.00170128
# target 99% 0.0032086
# target 99.9% 0.00579471
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 938446 (100.0 %)
Response Header Sizes : count 938446 avg 75 +/- 0 min 75 max 75 sum 70383450
Response Body/Total Sizes : count 938446 avg 75 +/- 0 min 75 max 75 sum 70383450
All done 938446 calls (plus 32 warmup) 1.023 ms avg, 31277.5 qps
Successfully wrote 5718 bytes of Json data to /data/2018-12-22-010659_http_baseline_0qps_30s_echo_0_3.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8080/echo
01:07:29 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 32 threads at -1.0 qps
01:07:29 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
01:07:59 I periodic.go:533> T010 ended after 30.00035115s : 2549 calls. qps=84.96567214347422
01:07:59 I periodic.go:533> T008 ended after 30.000746631s : 2393 calls. qps=79.76468150720272
01:07:59 I periodic.go:533> T023 ended after 30.002418964s : 2489 calls. qps=82.95997742670546
01:07:59 I periodic.go:533> T011 ended after 30.002456448s : 2449 calls. qps=81.62664961266042
01:07:59 I periodic.go:533> T009 ended after 30.002468991s : 2369 calls. qps=78.96016826850622
01:07:59 I periodic.go:533> T031 ended after 30.002496025s : 2292 calls. qps=76.39364398515907
01:07:59 I periodic.go:533> T027 ended after 30.0025107s : 2337 calls. qps=77.89348109456719
01:07:59 I periodic.go:533> T001 ended after 30.002727823s : 2513 calls. qps=83.7590506711707
01:07:59 I periodic.go:533> T005 ended after 30.002840131s : 2495 calls. qps=83.15879393771384
01:07:59 I periodic.go:533> T022 ended after 30.003058587s : 2383 calls. qps=79.42523570022051
01:07:59 I periodic.go:533> T030 ended after 30.003334572s : 2353 calls. qps=78.42461624901817
01:07:59 I periodic.go:533> T014 ended after 30.003587558s : 2383 calls. qps=79.42383541279581
01:07:59 I periodic.go:533> T013 ended after 30.00379401s : 2439 calls. qps=81.28971953303981
01:07:59 I periodic.go:533> T007 ended after 30.004017386s : 2500 calls. qps=83.32217542196567
01:07:59 I periodic.go:533> T003 ended after 30.004323956s : 2419 calls. qps=80.62171317531951
01:07:59 I periodic.go:533> T019 ended after 30.004545796s : 2478 calls. qps=82.58748580457932
01:07:59 I periodic.go:533> T006 ended after 30.004788984s : 2499 calls. qps=83.28670471012434
01:07:59 I periodic.go:533> T017 ended after 30.005009424s : 2340 calls. qps=77.98697767207874
01:07:59 I periodic.go:533> T029 ended after 30.005350491s : 2507 calls. qps=83.55176523440264
01:07:59 I periodic.go:533> T000 ended after 30.005583278s : 2430 calls. qps=80.98492795444734
01:07:59 I periodic.go:533> T021 ended after 30.005788042s : 2483 calls. qps=82.75070118220094
01:07:59 I periodic.go:533> T015 ended after 30.006091611s : 2501 calls. qps=83.3497421931203
01:07:59 I periodic.go:533> T016 ended after 30.006413501s : 2491 calls. qps=83.01558598187631
01:07:59 I periodic.go:533> T024 ended after 30.006627746s : 2501 calls. qps=83.34825296499348
01:07:59 I periodic.go:533> T026 ended after 30.006882212s : 2563 calls. qps=85.41373881805805
01:07:59 I periodic.go:533> T020 ended after 30.007062116s : 2292 calls. qps=76.38201937729478
01:07:59 I periodic.go:533> T002 ended after 30.007352409s : 2469 calls. qps=82.27983483339509
01:07:59 I periodic.go:533> T018 ended after 30.007613041s : 2453 calls. qps=81.7459221647659
01:07:59 I periodic.go:533> T004 ended after 30.007785232s : 2435 calls. qps=81.14560875366905
01:07:59 I periodic.go:533> T028 ended after 30.00801247s : 2523 calls. qps=84.07754437326786
01:07:59 I periodic.go:533> T025 ended after 30.008296901s : 2505 calls. qps=83.47691334380669
01:07:59 I periodic.go:533> T012 ended after 30.008551194s : 2414 calls. qps=80.44373699996095
Ended after 30.008588475s : 78247 calls. qps=2607.5
Aggregated Function Time : count 78247 avg 0.012268482 +/- 0.01457 min 0.000384306 max 0.083014367 sum 959.971896
# range, mid point, percentile, count
>= 0.000384306 <= 0.0004 , 0.000392153 , 0.05, 38
> 0.0004 <= 0.0005 , 0.00045 , 2.34, 1791
> 0.0005 <= 0.0006 , 0.00055 , 11.22, 6953
> 0.0006 <= 0.0007 , 0.00065 , 39.37, 22023
> 0.0007 <= 0.0008 , 0.00075 , 51.18, 9244
> 0.0008 <= 0.0009 , 0.00085 , 53.09, 1490
> 0.0009 <= 0.001 , 0.00095 , 53.73, 506
> 0.001 <= 0.0011 , 0.00105 , 54.00, 211
> 0.0011 <= 0.0012 , 0.00115 , 54.20, 156
> 0.0012 <= 0.0014 , 0.0013 , 54.38, 141
> 0.0014 <= 0.0016 , 0.0015 , 54.59, 162
> 0.0016 <= 0.0018 , 0.0017 , 54.94, 275
> 0.0018 <= 0.002 , 0.0019 , 55.14, 159
> 0.002 <= 0.0025 , 0.00225 , 55.27, 98
> 0.0025 <= 0.003 , 0.00275 , 55.37, 80
> 0.003 <= 0.0035 , 0.00325 , 55.42, 39
> 0.0035 <= 0.004 , 0.00375 , 55.52, 73
> 0.004 <= 0.0045 , 0.00425 , 55.61, 73
> 0.0045 <= 0.005 , 0.00475 , 55.71, 76
> 0.005 <= 0.006 , 0.0055 , 55.84, 109
> 0.006 <= 0.007 , 0.0065 , 56.02, 137
> 0.007 <= 0.008 , 0.0075 , 56.20, 141
> 0.008 <= 0.009 , 0.0085 , 56.42, 172
> 0.009 <= 0.01 , 0.0095 , 56.68, 203
> 0.01 <= 0.012 , 0.011 , 57.50, 641
> 0.012 <= 0.014 , 0.013 , 58.91, 1102
> 0.014 <= 0.016 , 0.015 , 60.90, 1559
> 0.016 <= 0.018 , 0.017 , 63.64, 2145
> 0.018 <= 0.02 , 0.019 , 66.83, 2493
> 0.02 <= 0.025 , 0.0225 , 76.22, 7347
> 0.025 <= 0.03 , 0.0275 , 85.46, 7233
> 0.03 <= 0.035 , 0.0325 , 92.57, 5566
> 0.035 <= 0.04 , 0.0375 , 96.13, 2781
> 0.04 <= 0.045 , 0.0425 , 97.72, 1246
> 0.045 <= 0.05 , 0.0475 , 98.67, 747
> 0.05 <= 0.06 , 0.055 , 99.73, 825
> 0.06 <= 0.07 , 0.065 , 99.93, 158
> 0.07 <= 0.08 , 0.075 , 99.99, 45
> 0.08 <= 0.0830144 , 0.0815072 , 100.00, 9
# target 50% 0.000789988
# target 75% 0.0243523
# target 90% 0.0331911
# target 99% 0.0530852
# target 99.9% 0.0684654
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 78247 (100.0 %)
Response Header Sizes : count 78247 avg 209.43011 +/- 0.4951 min 209 max 210 sum 16387278
Response Body/Total Sizes : count 78247 avg 209.43011 +/- 0.4951 min 209 max 210 sum 16387278
All done 78247 calls (plus 32 warmup) 12.268 ms avg, 2607.5 qps
Successfully wrote 6790 bytes of Json data to /data/2018-12-22-010729_http_istio_0qps_30s_echo_0_3.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8079
01:08:00 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
01:08:30 I periodic.go:533> T011 ended after 30.00008781s : 16222 calls. qps=540.7317506114993
01:08:30 I periodic.go:533> T028 ended after 30.003633617s : 16216 calls. qps=540.467871558465
01:08:30 I periodic.go:533> T030 ended after 30.003696832s : 16322 calls. qps=543.999630825226
01:08:30 I periodic.go:533> T031 ended after 30.00372318s : 16273 calls. qps=542.3660224557505
01:08:30 I periodic.go:533> T001 ended after 30.003745868s : 16257 calls. qps=541.8323455851769
01:08:30 I periodic.go:533> T014 ended after 30.00377001s : 16200 calls. qps=539.9321483467137
01:08:30 I periodic.go:533> T018 ended after 30.003792351s : 16308 calls. qps=543.5312912854654
01:08:30 I periodic.go:533> T007 ended after 30.003906829s : 16230 calls. qps=540.9295560241189
01:08:30 I periodic.go:533> T013 ended after 30.003933988s : 16211 calls. qps=540.2958160914349
01:08:30 I periodic.go:533> T025 ended after 30.003960593s : 16248 calls. qps=541.5285075327922
01:08:30 I periodic.go:533> T009 ended after 30.003984922s : 16277 calls. qps=542.4946067102279
01:08:30 I periodic.go:533> T021 ended after 30.004127199s : 16242 calls. qps=541.3255280607304
01:08:30 I periodic.go:533> T023 ended after 30.004152478s : 16251 calls. qps=541.6250304658913
01:08:30 I periodic.go:533> T027 ended after 30.004173541s : 16263 calls. qps=542.0245946043804
01:08:30 I periodic.go:533> T020 ended after 30.004194895s : 16262 calls. qps=541.990880172224
01:08:30 I periodic.go:533> T029 ended after 30.004218362s : 16257 calls. qps=541.8238130338801
01:08:30 I periodic.go:533> T010 ended after 30.004238584s : 16282 calls. qps=542.6566634716239
01:08:30 I periodic.go:533> T012 ended after 30.004258476s : 16248 calls. qps=541.5231312247412
01:08:30 I periodic.go:533> T003 ended after 30.004280301s : 16222 calls. qps=540.6561942916973
01:08:30 I periodic.go:533> T002 ended after 30.004392753s : 16229 calls. qps=540.8874671651982
01:08:30 I periodic.go:533> T008 ended after 30.004413508s : 16237 calls. qps=541.1537204575177
01:08:30 I periodic.go:533> T015 ended after 30.00443403s : 16263 calls. qps=542.019888918398
01:08:30 I periodic.go:533> T000 ended after 30.00446067s : 16265 calls. qps=542.0860644318324
01:08:30 I periodic.go:533> T016 ended after 30.004481555s : 16245 calls. qps=541.4191200145201
01:08:30 I periodic.go:533> T004 ended after 30.004502794s : 16264 calls. qps=542.0519750539679
01:08:30 I periodic.go:533> T006 ended after 30.004523664s : 16256 calls. qps=541.7849715609469
01:08:30 I periodic.go:533> T005 ended after 30.004552645s : 16202 calls. qps=539.9847213752718
01:08:30 I periodic.go:533> T019 ended after 30.004574113s : 16260 calls. qps=541.9173736232128
01:08:30 I periodic.go:533> T026 ended after 30.004595034s : 16284 calls. qps=542.7168732505013
01:08:30 I periodic.go:533> T022 ended after 30.00462463s : 16247 calls. qps=541.4831946857787
01:08:30 I periodic.go:533> T017 ended after 30.004645264s : 16257 calls. qps=541.8161040385763
01:08:30 I periodic.go:533> T024 ended after 30.004666022s : 16274 calls. qps=542.3823077406557
Ended after 30.004680087s : 520074 calls. qps=17333
Aggregated Function Time : count 520074 avg 0.0018455801 +/- 0.0009756 min 0.000330398 max 0.035868753 sum 959.838229
# range, mid point, percentile, count
>= 0.000330398 <= 0.0004 , 0.000365199 , 0.00, 4
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 52
> 0.0005 <= 0.0006 , 0.00055 , 0.17, 835
> 0.0006 <= 0.0007 , 0.00065 , 0.74, 2941
> 0.0007 <= 0.0008 , 0.00075 , 1.61, 4564
> 0.0008 <= 0.0009 , 0.00085 , 2.71, 5705
> 0.0009 <= 0.001 , 0.00095 , 4.32, 8359
> 0.001 <= 0.0011 , 0.00105 , 7.20, 14989
> 0.0011 <= 0.0012 , 0.00115 , 12.93, 29788
> 0.0012 <= 0.0014 , 0.0013 , 29.95, 88500
> 0.0014 <= 0.0016 , 0.0015 , 52.18, 115649
> 0.0016 <= 0.0018 , 0.0017 , 67.87, 81609
> 0.0018 <= 0.002 , 0.0019 , 76.97, 47283
> 0.002 <= 0.0025 , 0.00225 , 86.49, 49545
> 0.0025 <= 0.003 , 0.00275 , 90.22, 19397
> 0.003 <= 0.0035 , 0.00325 , 92.93, 14073
> 0.0035 <= 0.004 , 0.00375 , 95.72, 14506
> 0.004 <= 0.0045 , 0.00425 , 97.57, 9656
> 0.0045 <= 0.005 , 0.00475 , 98.59, 5278
> 0.005 <= 0.006 , 0.0055 , 99.47, 4562
> 0.006 <= 0.007 , 0.0065 , 99.75, 1453
> 0.007 <= 0.008 , 0.0075 , 99.87, 629
> 0.008 <= 0.009 , 0.0085 , 99.92, 257
> 0.009 <= 0.01 , 0.0095 , 99.94, 121
> 0.01 <= 0.012 , 0.011 , 99.97, 183
> 0.012 <= 0.014 , 0.013 , 99.98, 44
> 0.014 <= 0.016 , 0.015 , 99.99, 28
> 0.02 <= 0.025 , 0.0225 , 99.99, 18
> 0.025 <= 0.03 , 0.0275 , 99.99, 6
> 0.03 <= 0.035 , 0.0325 , 100.00, 32
> 0.035 <= 0.0358688 , 0.0354344 , 100.00, 8
# target 50% 0.00158037
# target 75% 0.00195676
# target 90% 0.00297027
# target 99% 0.00546915
# target 99.9% 0.00868843
Ping SERVING : 520074
All done 520074 calls (plus 32 warmup) 1.846 ms avg, 17333.1 qps
Successfully wrote 5141 bytes of Json data to /data/2018-12-22-010800_grpc_baseline_0qps_30s_echo_0_3.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8079
01:08:30 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
01:09:00 I periodic.go:533> T011 ended after 30.009395129s : 3129 calls. qps=104.26734649430661
01:09:00 I periodic.go:533> T018 ended after 30.013513158s : 3106 calls. qps=103.48671892054418
01:09:00 I periodic.go:533> T026 ended after 30.013558094s : 3108 calls. qps=103.55320053243935
01:09:00 I periodic.go:533> T024 ended after 30.013620188s : 3126 calls. qps=104.15271401514678
01:09:00 I periodic.go:533> T003 ended after 30.013632903s : 3146 calls. qps=104.81903374268107
01:09:00 I periodic.go:533> T020 ended after 30.013648811s : 3101 calls. qps=103.31966031612536
01:09:00 I periodic.go:533> T017 ended after 30.013687831s : 3131 calls. qps=104.31906994001946
01:09:00 I periodic.go:533> T013 ended after 30.013700077s : 3180 calls. qps=105.95161515713576
01:09:00 I periodic.go:533> T015 ended after 30.01371076s : 3112 calls. qps=103.68594622919596
01:09:00 I periodic.go:533> T030 ended after 30.01373671s : 3111 calls. qps=103.65253850459328
01:09:00 I periodic.go:533> T005 ended after 30.013747608s : 3121 calls. qps=103.98568152042814
01:09:00 I periodic.go:533> T022 ended after 30.013774662s : 3103 calls. qps=103.38586315598161
01:09:00 I periodic.go:533> T000 ended after 30.013785947s : 3135 calls. qps=104.45200100833517
01:09:00 I periodic.go:533> T007 ended after 30.013796713s : 3117 calls. qps=103.85223934864331
01:09:00 I periodic.go:533> T010 ended after 30.015016112s : 3161 calls. qps=105.31395312948816
01:09:00 I periodic.go:533> T029 ended after 30.015050021s : 3192 calls. qps=106.34664935646352
01:09:00 I periodic.go:533> T012 ended after 30.015062013s : 3182 calls. qps=106.01344080588024
01:09:00 I periodic.go:533> T006 ended after 30.015123458s : 3198 calls. qps=106.54628838941622
01:09:00 I periodic.go:533> T031 ended after 30.015776971s : 3193 calls. qps=106.37738956699152
01:09:00 I periodic.go:533> T008 ended after 30.015799444s : 3196 calls. qps=106.47725728454198
01:09:00 I periodic.go:533> T014 ended after 30.015811058s : 3207 calls. qps=106.84368960755603
01:09:00 I periodic.go:533> T002 ended after 30.015822499s : 3177 calls. qps=105.84417602102505
01:09:00 I periodic.go:533> T019 ended after 30.015850214s : 3170 calls. qps=105.61086817129197
01:09:00 I periodic.go:533> T023 ended after 30.015861873s : 3185 calls. qps=106.11056292423125
01:09:00 I periodic.go:533> T021 ended after 30.015872754s : 3165 calls. qps=105.44421033295536
01:09:00 I periodic.go:533> T004 ended after 30.015884496s : 3229 calls. qps=107.57637345087416
01:09:00 I periodic.go:533> T027 ended after 30.015896003s : 3186 calls. qps=106.14375795017308
01:09:00 I periodic.go:533> T025 ended after 30.015922196s : 3158 calls. qps=105.21082708632699
01:09:00 I periodic.go:533> T016 ended after 30.015933978s : 3187 calls. qps=106.17693929950315
01:09:00 I periodic.go:533> T001 ended after 30.015945336s : 3190 calls. qps=106.27684599938398
01:09:00 I periodic.go:533> T028 ended after 30.015957322s : 3117 calls. qps=103.8447638555048
01:09:00 I periodic.go:533> T009 ended after 30.016011021s : 3143 calls. qps=104.7107824487762
Ended after 30.016028061s : 100962 calls. qps=3363.6
Aggregated Function Time : count 100962 avg 0.0095109759 +/- 0.005028 min 0.000670766 max 0.072889206 sum 960.247149
# range, mid point, percentile, count
>= 0.000670766 <= 0.0007 , 0.000685383 , 0.00, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.00, 1
> 0.0008 <= 0.0009 , 0.00085 , 0.00, 2
> 0.0009 <= 0.001 , 0.00095 , 0.01, 10
> 0.001 <= 0.0011 , 0.00105 , 0.04, 23
> 0.0011 <= 0.0012 , 0.00115 , 0.06, 20
> 0.0012 <= 0.0014 , 0.0013 , 0.16, 107
> 0.0014 <= 0.0016 , 0.0015 , 0.29, 125
> 0.0016 <= 0.0018 , 0.0017 , 0.34, 59
> 0.0018 <= 0.002 , 0.0019 , 0.46, 114
> 0.002 <= 0.0025 , 0.00225 , 0.78, 326
> 0.0025 <= 0.003 , 0.00275 , 2.11, 1343
> 0.003 <= 0.0035 , 0.00325 , 2.72, 614
> 0.0035 <= 0.004 , 0.00375 , 3.47, 759
> 0.004 <= 0.0045 , 0.00425 , 4.85, 1397
> 0.0045 <= 0.005 , 0.00475 , 7.86, 3039
> 0.005 <= 0.006 , 0.0055 , 18.57, 10813
> 0.006 <= 0.007 , 0.0065 , 24.76, 6245
> 0.007 <= 0.008 , 0.0075 , 35.04, 10381
> 0.008 <= 0.009 , 0.0085 , 52.00, 17125
> 0.009 <= 0.01 , 0.0095 , 67.46, 15600
> 0.01 <= 0.012 , 0.011 , 86.45, 19178
> 0.012 <= 0.014 , 0.013 , 92.87, 6480
> 0.014 <= 0.016 , 0.015 , 94.74, 1890
> 0.016 <= 0.018 , 0.017 , 95.44, 704
> 0.018 <= 0.02 , 0.019 , 96.01, 581
> 0.02 <= 0.025 , 0.0225 , 97.35, 1350
> 0.025 <= 0.03 , 0.0275 , 98.65, 1309
> 0.03 <= 0.035 , 0.0325 , 99.42, 778
> 0.035 <= 0.04 , 0.0375 , 99.66, 248
> 0.04 <= 0.045 , 0.0425 , 99.81, 150
> 0.045 <= 0.05 , 0.0475 , 99.93, 121
> 0.05 <= 0.06 , 0.055 , 99.98, 52
> 0.06 <= 0.07 , 0.065 , 99.99, 3
> 0.07 <= 0.0728892 , 0.0714446 , 100.00, 14
# target 50% 0.00888187
# target 75% 0.0107944
# target 90% 0.0131061
# target 99% 0.0322904
# target 99.9% 0.0486793
Ping SERVING : 100962
All done 100962 calls (plus 32 warmup) 9.511 ms avg, 3363.6 qps
Successfully wrote 5662 bytes of Json data to /data/2018-12-22-010830_grpc_istio_0qps_30s_echo_0_3.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8080/echo
01:09:00 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
01:09:00 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
01:09:30 I periodic.go:533> T027 ended after 30.000055304s : 29030 calls. qps=967.6648828087107
01:09:30 I periodic.go:533> T029 ended after 30.002448652s : 29200 calls. qps=973.2538946634775
01:09:30 I periodic.go:533> T015 ended after 30.004116335s : 29206 calls. qps=973.3997720149821
01:09:30 I periodic.go:533> T031 ended after 30.004131819s : 29671 calls. qps=988.8971352009244
01:09:30 I periodic.go:533> T023 ended after 30.004145409s : 29182 calls. qps=972.5989393201185
01:09:30 I periodic.go:533> T028 ended after 30.004157578s : 29732 calls. qps=990.9293377995203
01:09:30 I periodic.go:533> T016 ended after 30.004167141s : 29940 calls. qps=997.8613923626523
01:09:30 I periodic.go:533> T026 ended after 30.004192236s : 29718 calls. qps=990.4615917086206
01:09:30 I periodic.go:533> T007 ended after 30.004202214s : 29486 calls. qps=982.7290120795744
01:09:30 I periodic.go:533> T018 ended after 30.004214905s : 29741 calls. qps=991.2274023555225
01:09:30 I periodic.go:533> T019 ended after 30.004225101s : 29869 calls. qps=995.4931313658391
01:09:30 I periodic.go:533> T022 ended after 30.004235051s : 28938 calls. qps=964.4638482138387
01:09:30 I periodic.go:533> T013 ended after 30.004246094s : 29663 calls. qps=988.6267399310447
01:09:30 I periodic.go:533> T004 ended after 30.004270964s : 29581 calls. qps=985.8929762196905
01:09:30 I periodic.go:533> T011 ended after 30.00428105s : 29748 calls. qps=991.4585172171622
01:09:30 I periodic.go:533> T020 ended after 30.004291976s : 29358 calls. qps=978.4600157698452
01:09:30 I periodic.go:533> T024 ended after 30.004301902s : 29714 calls. qps=990.3246573458638
01:09:30 I periodic.go:533> T010 ended after 30.004312061s : 29599 calls. qps=986.4915396101738
01:09:30 I periodic.go:533> T017 ended after 30.0043217s : 29220 calls. qps=973.8597090165182
01:09:30 I periodic.go:533> T012 ended after 30.004344666s : 29123 calls. qps=970.6260984597103
01:09:30 I periodic.go:533> T005 ended after 30.004355651s : 29815 calls. qps=993.689061241557
01:09:30 I periodic.go:533> T002 ended after 30.004365933s : 29801 calls. qps=993.2221219587137
01:09:30 I periodic.go:533> T025 ended after 30.004375929s : 29218 calls. qps=973.7912919481872
01:09:30 I periodic.go:533> T030 ended after 30.004385695s : 29890 calls. qps=996.1877008193818
01:09:30 I periodic.go:533> T014 ended after 30.004396388s : 29167 calls. qps=972.0908770444418
01:09:30 I periodic.go:533> T021 ended after 30.004407218s : 29750 calls. qps=991.5210050259757
01:09:30 I periodic.go:533> T009 ended after 30.004428238s : 29348 calls. qps=978.1222880571793
01:09:30 I periodic.go:533> T006 ended after 30.004441272s : 29313 calls. qps=976.9553691824533
01:09:30 I periodic.go:533> T008 ended after 30.004473924s : 30002 calls. qps=999.9175481627751
01:09:30 I periodic.go:533> T003 ended after 30.004486294s : 29652 calls. qps=988.2522136674446
01:09:30 I periodic.go:533> T001 ended after 30.004496323s : 29217 calls. qps=973.7540562413526
01:09:30 I periodic.go:533> T000 ended after 30.004507062s : 29766 calls. qps=992.0509588273802
Ended after 30.00452315s : 944658 calls. qps=31484
Aggregated Function Time : count 944658 avg 0.0010159544 +/- 0.0006967 min 6.8741e-05 max 0.039254476 sum 959.729479
# range, mid point, percentile, count
>= 6.8741e-05 <= 0.0001 , 8.43705e-05 , 0.55, 5149
> 0.0001 <= 0.0002 , 0.00015 , 5.01, 42213
> 0.0002 <= 0.0003 , 0.00025 , 10.28, 49714
> 0.0003 <= 0.0004 , 0.00035 , 15.85, 52695
> 0.0004 <= 0.0005 , 0.00045 , 21.97, 57789
> 0.0005 <= 0.0006 , 0.00055 , 28.15, 58326
> 0.0006 <= 0.0007 , 0.00065 , 34.24, 57603
> 0.0007 <= 0.0008 , 0.00075 , 40.41, 58219
> 0.0008 <= 0.0009 , 0.00085 , 46.63, 58829
> 0.0009 <= 0.001 , 0.00095 , 52.95, 59640
> 0.001 <= 0.0011 , 0.00105 , 59.12, 58321
> 0.0011 <= 0.0012 , 0.00115 , 65.11, 56602
> 0.0012 <= 0.0014 , 0.0013 , 76.60, 108543
> 0.0014 <= 0.0016 , 0.0015 , 87.16, 99764
> 0.0016 <= 0.0018 , 0.0017 , 93.69, 61637
> 0.0018 <= 0.002 , 0.0019 , 95.61, 18180
> 0.002 <= 0.0025 , 0.00225 , 97.91, 21681
> 0.0025 <= 0.003 , 0.00275 , 98.86, 8945
> 0.003 <= 0.0035 , 0.00325 , 99.18, 3029
> 0.0035 <= 0.004 , 0.00375 , 99.39, 2054
> 0.004 <= 0.0045 , 0.00425 , 99.56, 1609
> 0.0045 <= 0.005 , 0.00475 , 99.74, 1639
> 0.005 <= 0.006 , 0.0055 , 99.92, 1712
> 0.006 <= 0.007 , 0.0065 , 99.96, 367
> 0.007 <= 0.008 , 0.0075 , 99.97, 104
> 0.008 <= 0.009 , 0.0085 , 99.97, 49
> 0.009 <= 0.01 , 0.0095 , 99.98, 21
> 0.01 <= 0.012 , 0.011 , 99.98, 78
> 0.012 <= 0.014 , 0.013 , 99.99, 49
> 0.014 <= 0.016 , 0.015 , 99.99, 3
> 0.016 <= 0.018 , 0.017 , 99.99, 31
> 0.02 <= 0.025 , 0.0225 , 100.00, 30
> 0.03 <= 0.035 , 0.0325 , 100.00, 32
> 0.035 <= 0.0392545 , 0.0371272 , 100.00, 1
# target 50% 0.000953307
# target 75% 0.00137209
# target 90% 0.00168691
# target 99% 0.00322473
# target 99.9% 0.00589506
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 944658 (100.0 %)
Response Header Sizes : count 944658 avg 75 +/- 0 min 75 max 75 sum 70849350
Response Body/Total Sizes : count 944658 avg 75 +/- 0 min 75 max 75 sum 70849350
All done 944658 calls (plus 32 warmup) 1.016 ms avg, 31483.9 qps
Successfully wrote 6096 bytes of Json data to /data/2018-12-22-010900_http_baseline_0qps_30s_echo_0_4.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8080/echo
01:09:30 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 32 threads at -1.0 qps
01:09:30 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
01:10:00 I periodic.go:533> T021 ended after 30.000932832s : 2491 calls. qps=83.03075154193259
01:10:00 I periodic.go:533> T023 ended after 30.001374821s : 2231 calls. qps=74.36325879433937
01:10:00 I periodic.go:533> T017 ended after 30.001401832s : 2405 calls. qps=80.16292083507867
01:10:00 I periodic.go:533> T000 ended after 30.002022786s : 2485 calls. qps=82.82774857299249
01:10:00 I periodic.go:533> T012 ended after 30.002052861s : 2580 calls. qps=85.99411553446633
01:10:00 I periodic.go:533> T028 ended after 30.003029582s : 2499 calls. qps=83.29158871006975
01:10:00 I periodic.go:533> T027 ended after 30.003065237s : 2655 calls. qps=88.49095847466393
01:10:00 I periodic.go:533> T030 ended after 30.003078318s : 2569 calls. qps=85.62454734715531
01:10:00 I periodic.go:533> T026 ended after 30.003103407s : 2311 calls. qps=77.02536529807188
01:10:00 I periodic.go:533> T013 ended after 30.003116442s : 2361 calls. qps=78.69182538301065
01:10:00 I periodic.go:533> T019 ended after 30.003307442s : 2453 calls. qps=81.75765304348342
01:10:00 I periodic.go:533> T009 ended after 30.003480377s : 2501 calls. qps=83.356996207587
01:10:00 I periodic.go:533> T002 ended after 30.003715535s : 2776 calls. qps=92.52187439124779
01:10:00 I periodic.go:533> T029 ended after 30.003931922s : 2491 calls. qps=83.02245207313999
01:10:00 I periodic.go:533> T015 ended after 30.004129098s : 2377 calls. qps=79.22242942750319
01:10:00 I periodic.go:533> T007 ended after 30.004350172s : 2335 calls. qps=77.82204869009352
01:10:00 I periodic.go:533> T003 ended after 30.00455784s : 2387 calls. qps=79.55458009842147
01:10:00 I periodic.go:533> T005 ended after 30.004741596s : 2355 calls. qps=78.48759478448402
01:10:00 I periodic.go:533> T006 ended after 30.004970035s : 2698 calls. qps=89.91843674074178
01:10:00 I periodic.go:533> T004 ended after 30.005166729s : 2433 calls. qps=81.08603501437987
01:10:00 I periodic.go:533> T020 ended after 30.005364831s : 2656 calls. qps=88.5175039516919
01:10:00 I periodic.go:533> T010 ended after 30.005565097s : 2408 calls. qps=80.25177970205118
01:10:00 I periodic.go:533> T031 ended after 30.005768757s : 2576 calls. qps=85.85015837659714
01:10:00 I periodic.go:533> T001 ended after 30.00597625s : 2521 calls. qps=84.01659652716681
01:10:00 I periodic.go:533> T014 ended after 30.006197457s : 2533 calls. qps=84.41589453744959
01:10:00 I periodic.go:533> T022 ended after 30.00637076s : 2698 calls. qps=89.9142392653686
01:10:00 I periodic.go:533> T016 ended after 30.006582035s : 2594 calls. qps=86.44769994044408
01:10:00 I periodic.go:533> T018 ended after 30.006767234s : 2380 calls. qps=79.31544179485202
01:10:00 I periodic.go:533> T024 ended after 30.007003545s : 2401 calls. qps=80.01465379238353
01:10:00 I periodic.go:533> T008 ended after 30.007200932s : 2603 calls. qps=86.74584496896986
01:10:00 I periodic.go:533> T011 ended after 30.007415866s : 2382 calls. qps=79.38037752524146
01:10:00 I periodic.go:533> T025 ended after 30.00765811s : 2733 calls. qps=91.07675080746246
Ended after 30.007682781s : 79878 calls. qps=2661.9
Aggregated Function Time : count 79878 avg 0.012017609 +/- 0.01493 min 0.00036654 max 0.094712629 sum 959.942585
# range, mid point, percentile, count
>= 0.00036654 <= 0.0004 , 0.00038327 , 0.02, 17
> 0.0004 <= 0.0005 , 0.00045 , 2.35, 1858
> 0.0005 <= 0.0006 , 0.00055 , 12.76, 8319
> 0.0006 <= 0.0007 , 0.00065 , 40.86, 22448
> 0.0007 <= 0.0008 , 0.00075 , 52.97, 9669
> 0.0008 <= 0.0009 , 0.00085 , 55.39, 1931
> 0.0009 <= 0.001 , 0.00095 , 56.16, 617
> 0.001 <= 0.0011 , 0.00105 , 56.50, 269
> 0.0011 <= 0.0012 , 0.00115 , 56.69, 155
> 0.0012 <= 0.0014 , 0.0013 , 56.89, 158
> 0.0014 <= 0.0016 , 0.0015 , 57.09, 162
> 0.0016 <= 0.0018 , 0.0017 , 57.40, 245
> 0.0018 <= 0.002 , 0.0019 , 57.59, 153
> 0.002 <= 0.0025 , 0.00225 , 57.71, 100
> 0.0025 <= 0.003 , 0.00275 , 57.83, 89
> 0.003 <= 0.0035 , 0.00325 , 57.89, 49
> 0.0035 <= 0.004 , 0.00375 , 57.99, 80
> 0.004 <= 0.0045 , 0.00425 , 58.06, 61
> 0.0045 <= 0.005 , 0.00475 , 58.14, 63
> 0.005 <= 0.006 , 0.0055 , 58.29, 121
> 0.006 <= 0.007 , 0.0065 , 58.42, 104
> 0.007 <= 0.008 , 0.0075 , 58.59, 130
> 0.008 <= 0.009 , 0.0085 , 58.78, 151
> 0.009 <= 0.01 , 0.0095 , 59.04, 207
> 0.01 <= 0.012 , 0.011 , 59.79, 604
> 0.012 <= 0.014 , 0.013 , 61.02, 983
> 0.014 <= 0.016 , 0.015 , 62.81, 1432
> 0.016 <= 0.018 , 0.017 , 65.08, 1813
> 0.018 <= 0.02 , 0.019 , 67.74, 2118
> 0.02 <= 0.025 , 0.0225 , 75.74, 6392
> 0.025 <= 0.03 , 0.0275 , 84.36, 6891
> 0.03 <= 0.035 , 0.0325 , 91.41, 5628
> 0.035 <= 0.04 , 0.0375 , 95.46, 3236
> 0.04 <= 0.045 , 0.0425 , 97.56, 1672
> 0.045 <= 0.05 , 0.0475 , 98.73, 938
> 0.05 <= 0.06 , 0.055 , 99.68, 757
> 0.06 <= 0.07 , 0.065 , 99.89, 170
> 0.07 <= 0.08 , 0.075 , 99.95, 48
> 0.08 <= 0.09 , 0.085 , 99.99, 30
> 0.09 <= 0.0947126 , 0.0923563 , 100.00, 10
# target 50% 0.000775468
# target 75% 0.0245389
# target 90% 0.0339989
# target 99% 0.0528563
# target 99.9% 0.0716921
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 79878 (100.0 %)
Response Header Sizes : count 79878 avg 209.40642 +/- 0.4912 min 209 max 210 sum 16726966
Response Body/Total Sizes : count 79878 avg 209.40642 +/- 0.4912 min 209 max 210 sum 16726966
All done 79878 calls (plus 32 warmup) 12.018 ms avg, 2661.9 qps
Successfully wrote 6931 bytes of Json data to /data/2018-12-22-010930_http_istio_0qps_30s_echo_0_4.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8079
01:10:00 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
01:10:30 I periodic.go:533> T002 ended after 30.000122576s : 16146 calls. qps=538.1978009955449
01:10:30 I periodic.go:533> T018 ended after 30.004900414s : 16101 calls. qps=536.612345911584
01:10:30 I periodic.go:533> T015 ended after 30.005033828s : 16155 calls. qps=538.4096579462787
01:10:30 I periodic.go:533> T028 ended after 30.005075094s : 16159 calls. qps=538.5422282522884
01:10:30 I periodic.go:533> T007 ended after 30.005125031s : 16163 calls. qps=538.6746425252715
01:10:30 I periodic.go:533> T013 ended after 30.005174632s : 16099 calls. qps=536.5407866292068
01:10:30 I periodic.go:533> T022 ended after 30.005226341s : 16164 calls. qps=538.7061512651563
01:10:30 I periodic.go:533> T027 ended after 30.005260353s : 16118 calls. qps=537.1724761051267
01:10:30 I periodic.go:533> T005 ended after 30.005306344s : 16129 calls. qps=537.5382545702697
01:10:30 I periodic.go:533> T011 ended after 30.005339526s : 16105 calls. qps=536.7378024849482
01:10:30 I periodic.go:533> T023 ended after 30.005385218s : 16119 calls. qps=537.2035680558547
01:10:30 I periodic.go:533> T009 ended after 30.005486444s : 16172 calls. qps=538.9680993901636
01:10:30 I periodic.go:533> T014 ended after 30.005516313s : 16202 calls. qps=539.9673790309158
01:10:30 I periodic.go:533> T030 ended after 30.005561462s : 16164 calls. qps=538.7001346557239
01:10:30 I periodic.go:533> T029 ended after 30.005622271s : 16138 calls. qps=537.8325386571684
01:10:30 I periodic.go:533> T026 ended after 30.005653698s : 16157 calls. qps=538.4651893478638
01:10:30 I periodic.go:533> T016 ended after 30.005699538s : 16131 calls. qps=537.597864684717
01:10:30 I periodic.go:533> T017 ended after 30.005732488s : 16164 calls. qps=538.6970641847976
01:10:30 I periodic.go:533> T000 ended after 30.005776712s : 16121 calls. qps=537.2632128383746
01:10:30 I periodic.go:533> T006 ended after 30.005809908s : 16108 calls. qps=536.8293690251422
01:10:30 I periodic.go:533> T003 ended after 30.005854607s : 16142 calls. qps=537.961681525787
01:10:30 I periodic.go:533> T021 ended after 30.005887215s : 16132 calls. qps=537.6278289793605
01:10:30 I periodic.go:533> T025 ended after 30.006379765s : 16135 calls. qps=537.7189826418236
01:10:30 I periodic.go:533> T010 ended after 30.006429277s : 16097 calls. qps=536.4517001140948
01:10:30 I periodic.go:533> T019 ended after 30.006592126s : 16134 calls. qps=537.6818511163176
01:10:30 I periodic.go:533> T008 ended after 30.006625105s : 16110 calls. qps=536.8814368036208
01:10:30 I periodic.go:533> T020 ended after 30.006743014s : 16136 calls. qps=537.7457990849442
01:10:30 I periodic.go:533> T031 ended after 30.00710725s : 16150 calls. qps=538.2058278876582
01:10:30 I periodic.go:533> T012 ended after 30.007165722s : 16176 calls. qps=539.0712388454746
01:10:30 I periodic.go:533> T024 ended after 30.007215052s : 16140 calls. qps=537.8706411784875
01:10:30 I periodic.go:533> T004 ended after 30.007247953s : 16184 calls. qps=539.3363638461218
01:10:30 I periodic.go:533> T001 ended after 30.007297327s : 16146 calls. qps=538.0691177899629
Ended after 30.007317015s : 516497 calls. qps=17212
Aggregated Function Time : count 516497 avg 0.0018584362 +/- 0.00101 min 0.000353928 max 0.03589943 sum 959.876704
# range, mid point, percentile, count
>= 0.000353928 <= 0.0004 , 0.000376964 , 0.00, 7
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 31
> 0.0005 <= 0.0006 , 0.00055 , 0.18, 882
> 0.0006 <= 0.0007 , 0.00065 , 0.74, 2904
> 0.0007 <= 0.0008 , 0.00075 , 1.61, 4482
> 0.0008 <= 0.0009 , 0.00085 , 2.73, 5773
> 0.0009 <= 0.001 , 0.00095 , 4.31, 8191
> 0.001 <= 0.0011 , 0.00105 , 7.24, 15104
> 0.0011 <= 0.0012 , 0.00115 , 13.10, 30293
> 0.0012 <= 0.0014 , 0.0013 , 29.91, 86833
> 0.0014 <= 0.0016 , 0.0015 , 51.63, 112172
> 0.0016 <= 0.0018 , 0.0017 , 67.20, 80412
> 0.0018 <= 0.002 , 0.0019 , 76.40, 47503
> 0.002 <= 0.0025 , 0.00225 , 86.11, 50186
> 0.0025 <= 0.003 , 0.00275 , 89.97, 19900
> 0.003 <= 0.0035 , 0.00325 , 92.68, 14012
> 0.0035 <= 0.004 , 0.00375 , 95.47, 14401
> 0.004 <= 0.0045 , 0.00425 , 97.36, 9766
> 0.0045 <= 0.005 , 0.00475 , 98.53, 6027
> 0.005 <= 0.006 , 0.0055 , 99.44, 4737
> 0.006 <= 0.007 , 0.0065 , 99.73, 1499
> 0.007 <= 0.008 , 0.0075 , 99.85, 591
> 0.008 <= 0.009 , 0.0085 , 99.89, 226
> 0.009 <= 0.01 , 0.0095 , 99.94, 271
> 0.01 <= 0.012 , 0.011 , 99.97, 151
> 0.012 <= 0.014 , 0.013 , 99.98, 26
> 0.014 <= 0.016 , 0.015 , 99.98, 33
> 0.016 <= 0.018 , 0.017 , 99.99, 20
> 0.03 <= 0.035 , 0.0325 , 100.00, 61
> 0.035 <= 0.0358994 , 0.0354497 , 100.00, 3
# target 50% 0.00158498
# target 75% 0.00196963
# target 90% 0.00300622
# target 99% 0.00551784
# target 99.9% 0.00917898
Ping SERVING : 516497
All done 516497 calls (plus 32 warmup) 1.858 ms avg, 17212.4 qps
Successfully wrote 5020 bytes of Json data to /data/2018-12-22-011000_grpc_baseline_0qps_30s_echo_0_4.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8079
01:10:30 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
01:11:00 I periodic.go:533> T012 ended after 30.001475332s : 3269 calls. qps=108.96130819650854
01:11:00 I periodic.go:533> T018 ended after 30.005117001s : 3257 calls. qps=108.54815196659463
01:11:00 I periodic.go:533> T026 ended after 30.005193965s : 3261 calls. qps=108.68118379117433
01:11:00 I periodic.go:533> T001 ended after 30.005208909s : 3243 calls. qps=108.08123382294696
01:11:00 I periodic.go:533> T004 ended after 30.005273489s : 3256 calls. qps=108.51425837507053
01:11:00 I periodic.go:533> T014 ended after 30.005289531s : 3253 calls. qps=108.41421798777043
01:11:00 I periodic.go:533> T020 ended after 30.005300859s : 3262 calls. qps=108.71412405856857
01:11:00 I periodic.go:533> T006 ended after 30.005312105s : 3259 calls. qps=108.614101016364
01:11:00 I periodic.go:533> T022 ended after 30.005323639s : 3244 calls. qps=108.11414797684596
01:11:00 I periodic.go:533> T008 ended after 30.005350144s : 3266 calls. qps=108.84725505038251
01:11:00 I periodic.go:533> T002 ended after 30.005379333s : 3258 calls. qps=108.58053030567231
01:11:00 I periodic.go:533> T010 ended after 30.005396992s : 3255 calls. qps=108.4804843897864
01:11:00 I periodic.go:533> T016 ended after 30.005431702s : 3237 calls. qps=107.88046751496127
01:11:00 I periodic.go:533> T024 ended after 30.005444307s : 3271 calls. qps=109.01354989224089
01:11:00 I periodic.go:533> T028 ended after 30.005455687s : 3293 calls. qps=109.74670854363019
01:11:00 I periodic.go:533> T023 ended after 30.006354031s : 3257 calls. qps=108.54367700371547
01:11:00 I periodic.go:533> T015 ended after 30.006376962s : 3278 calls. qps=109.24344529002121
01:11:00 I periodic.go:533> T013 ended after 30.006390705s : 3267 calls. qps=108.87680668157186
01:11:00 I periodic.go:533> T031 ended after 30.007219541s : 3265 calls. qps=108.80714874428492
01:11:00 I periodic.go:533> T021 ended after 30.007238428s : 3276 calls. qps=109.17365847778706
01:11:00 I periodic.go:533> T011 ended after 30.007266946s : 3247 calls. qps=108.20712215621585
01:11:00 I periodic.go:533> T027 ended after 30.007280021s : 3245 calls. qps=108.1404245146195
01:11:00 I periodic.go:533> T029 ended after 30.007293714s : 3241 calls. qps=108.00707424301649
01:11:00 I periodic.go:533> T009 ended after 30.007305447s : 3234 calls. qps=107.77375548471052
01:11:00 I periodic.go:533> T025 ended after 30.007317064s : 3280 calls. qps=109.30667320255166
01:11:00 I periodic.go:533> T019 ended after 30.007341578s : 3265 calls. qps=108.80670623597486
01:11:00 I periodic.go:533> T017 ended after 30.007354564s : 3280 calls. qps=109.3065366026979
01:11:00 I periodic.go:533> T005 ended after 30.00736616s : 3311 calls. qps=110.3395740347776
01:11:00 I periodic.go:533> T003 ended after 30.007380091s : 3274 calls. qps=109.1064928051469
01:11:00 I periodic.go:533> T007 ended after 30.007391533s : 3283 calls. qps=109.40637730505797
01:11:00 I periodic.go:533> T000 ended after 30.007402926s : 3261 calls. qps=108.67318334884946
01:11:00 I periodic.go:533> T030 ended after 30.007428899s : 3276 calls. qps=109.17296550219179
Ended after 30.00747448s : 104424 calls. qps=3479.9
Aggregated Function Time : count 104424 avg 0.0091933282 +/- 0.004953 min 0.000907085 max 0.091173624 sum 960.004108
# range, mid point, percentile, count
>= 0.000907085 <= 0.001 , 0.000953542 , 0.01, 14
> 0.001 <= 0.0011 , 0.00105 , 0.03, 22
> 0.0011 <= 0.0012 , 0.00115 , 0.06, 26
> 0.0012 <= 0.0014 , 0.0013 , 0.20, 146
> 0.0014 <= 0.0016 , 0.0015 , 0.30, 107
> 0.0016 <= 0.0018 , 0.0017 , 0.35, 49
> 0.0018 <= 0.002 , 0.0019 , 0.46, 117
> 0.002 <= 0.0025 , 0.00225 , 0.84, 394
> 0.0025 <= 0.003 , 0.00275 , 2.28, 1505
> 0.003 <= 0.0035 , 0.00325 , 2.83, 572
> 0.0035 <= 0.004 , 0.00375 , 3.70, 912
> 0.004 <= 0.0045 , 0.00425 , 5.35, 1718
> 0.0045 <= 0.005 , 0.00475 , 9.48, 4322
> 0.005 <= 0.006 , 0.0055 , 20.40, 11394
> 0.006 <= 0.007 , 0.0065 , 27.23, 7141
> 0.007 <= 0.008 , 0.0075 , 39.33, 12629
> 0.008 <= 0.009 , 0.0085 , 57.33, 18795
> 0.009 <= 0.01 , 0.0095 , 71.22, 14509
> 0.01 <= 0.012 , 0.011 , 87.88, 17394
> 0.012 <= 0.014 , 0.013 , 93.42, 5787
> 0.014 <= 0.016 , 0.015 , 95.08, 1737
> 0.016 <= 0.018 , 0.017 , 95.95, 900
> 0.018 <= 0.02 , 0.019 , 96.50, 574
> 0.02 <= 0.025 , 0.0225 , 97.85, 1416
> 0.025 <= 0.03 , 0.0275 , 99.00, 1204
> 0.03 <= 0.035 , 0.0325 , 99.36, 371
> 0.035 <= 0.04 , 0.0375 , 99.70, 357
> 0.04 <= 0.045 , 0.0425 , 99.82, 123
> 0.045 <= 0.05 , 0.0475 , 99.90, 88
> 0.05 <= 0.06 , 0.055 , 99.94, 38
> 0.06 <= 0.07 , 0.065 , 99.97, 30
> 0.07 <= 0.08 , 0.075 , 99.98, 17
> 0.08 <= 0.09 , 0.085 , 100.00, 15
> 0.09 <= 0.0911736 , 0.0905868 , 100.00, 1
# target 50% 0.00859292
# target 75% 0.0104537
# target 90% 0.0127657
# target 99% 0.0299824
# target 99.9% 0.0498055
Ping SERVING : 104424
All done 104424 calls (plus 32 warmup) 9.193 ms avg, 3479.9 qps
Successfully wrote 5527 bytes of Json data to /data/2018-12-22-011030_grpc_istio_0qps_30s_echo_0_4.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8080/echo
01:11:01 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
01:11:01 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
01:11:31 I periodic.go:533> T003 ended after 30.000017769s : 29259 calls. qps=975.2994223301522
01:11:31 I periodic.go:533> T007 ended after 30.003625728s : 29334 calls. qps=977.681839719288
01:11:31 I periodic.go:533> T029 ended after 30.003665669s : 29420 calls. qps=980.5468546597275
01:11:31 I periodic.go:533> T014 ended after 30.003725499s : 29279 calls. qps=975.8454829543033
01:11:31 I periodic.go:533> T019 ended after 30.003738071s : 29161 calls. qps=971.9122307691872
01:11:31 I periodic.go:533> T001 ended after 30.003746961s : 29092 calls. qps=969.6122300262989
01:11:31 I periodic.go:533> T023 ended after 30.003756235s : 29301 calls. qps=976.5777248189938
01:11:31 I periodic.go:533> T025 ended after 30.003780589s : 29252 calls. qps=974.9438046058896
01:11:31 I periodic.go:533> T028 ended after 30.003790551s : 29177 calls. qps=972.443796739794
01:11:31 I periodic.go:533> T024 ended after 30.003800745s : 29018 calls. qps=967.1441377251421
01:11:31 I periodic.go:533> T010 ended after 30.003810187s : 29106 calls. qps=970.0767942003246
01:11:31 I periodic.go:533> T021 ended after 30.003818754s : 29041 calls. qps=967.910126311117
01:11:31 I periodic.go:533> T009 ended after 30.003827107s : 29380 calls. qps=979.2084154872877
01:11:31 I periodic.go:533> T008 ended after 30.003836942s : 29293 calls. qps=976.3084653681425
01:11:31 I periodic.go:533> T031 ended after 30.003845402s : 29329 calls. qps=977.5080362880748
01:11:31 I periodic.go:533> T000 ended after 30.00387017s : 29481 calls. qps=982.5732424838046
01:11:31 I periodic.go:533> T020 ended after 30.003878731s : 29348 calls. qps=978.1402019092169
01:11:31 I periodic.go:533> T018 ended after 30.003888526s : 29316 calls. qps=977.0733541619478
01:11:31 I periodic.go:533> T027 ended after 30.00389755s : 29052 calls. qps=968.2742034292808
01:11:31 I periodic.go:533> T030 ended after 30.003905893s : 29323 calls. qps=977.3060915659365
01:11:31 I periodic.go:533> T016 ended after 30.003914569s : 29171 calls. qps=972.239803340176
01:11:31 I periodic.go:533> T022 ended after 30.003924352s : 29242 calls. qps=974.6058434536344
01:11:31 I periodic.go:533> T017 ended after 30.003949029s : 29121 calls. qps=970.5722394026668
01:11:31 I periodic.go:533> T026 ended after 30.003957591s : 29259 calls. qps=975.1713556873092
01:11:31 I periodic.go:533> T011 ended after 30.00396573s : 29192 calls. qps=972.9380530125009
01:11:31 I periodic.go:533> T012 ended after 30.003974765s : 29503 calls. qps=983.303053381301
01:11:31 I periodic.go:533> T015 ended after 30.003985151s : 29105 calls. qps=970.0378084285901
01:11:31 I periodic.go:533> T002 ended after 30.003994184s : 29238 calls. qps=974.4702595493611
01:11:31 I periodic.go:533> T006 ended after 30.004003334s : 29271 calls. qps=975.5698156062604
01:11:31 I periodic.go:533> T013 ended after 30.004026252s : 29375 calls. qps=979.0352719092801
01:11:31 I periodic.go:533> T005 ended after 30.00403494s : 29107 calls. qps=970.102856439348
01:11:31 I periodic.go:533> T004 ended after 30.004046235s : 29378 calls. qps=979.1346063761989
Ended after 30.004072626s : 935924 calls. qps=31193
Aggregated Function Time : count 935924 avg 0.0010254129 +/- 0.000745 min 7.3288e-05 max 0.038995611 sum 959.708527
# range, mid point, percentile, count
>= 7.3288e-05 <= 0.0001 , 8.6644e-05 , 0.56, 5234
> 0.0001 <= 0.0002 , 0.00015 , 5.10, 42454
> 0.0002 <= 0.0003 , 0.00025 , 10.36, 49315
> 0.0003 <= 0.0004 , 0.00035 , 16.00, 52720
> 0.0004 <= 0.0005 , 0.00045 , 21.95, 55715
> 0.0005 <= 0.0006 , 0.00055 , 28.07, 57238
> 0.0006 <= 0.0007 , 0.00065 , 34.15, 56922
> 0.0007 <= 0.0008 , 0.00075 , 40.26, 57173
> 0.0008 <= 0.0009 , 0.00085 , 46.36, 57169
> 0.0009 <= 0.001 , 0.00095 , 52.63, 58632
> 0.001 <= 0.0011 , 0.00105 , 58.73, 57093
> 0.0011 <= 0.0012 , 0.00115 , 64.75, 56299
> 0.0012 <= 0.0014 , 0.0013 , 76.29, 108081
> 0.0014 <= 0.0016 , 0.0015 , 86.85, 98762
> 0.0016 <= 0.0018 , 0.0017 , 93.54, 62671
> 0.0018 <= 0.002 , 0.0019 , 95.45, 17844
> 0.002 <= 0.0025 , 0.00225 , 97.70, 21034
> 0.0025 <= 0.003 , 0.00275 , 98.66, 9030
> 0.003 <= 0.0035 , 0.00325 , 98.98, 3010
> 0.0035 <= 0.004 , 0.00375 , 99.22, 2219
> 0.004 <= 0.0045 , 0.00425 , 99.43, 2012
> 0.0045 <= 0.005 , 0.00475 , 99.64, 1932
> 0.005 <= 0.006 , 0.0055 , 99.91, 2514
> 0.006 <= 0.007 , 0.0065 , 99.95, 425
> 0.007 <= 0.008 , 0.0075 , 99.97, 110
> 0.008 <= 0.009 , 0.0085 , 99.97, 59
> 0.009 <= 0.01 , 0.0095 , 99.98, 96
> 0.01 <= 0.012 , 0.011 , 99.99, 32
> 0.012 <= 0.014 , 0.013 , 99.99, 33
> 0.016 <= 0.018 , 0.017 , 99.99, 32
> 0.035 <= 0.0389956 , 0.0369978 , 100.00, 64
# target 50% 0.000958026
# target 75% 0.00137761
# target 90% 0.00169422
# target 99% 0.00353803
# target 99.9% 0.00596622
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 935924 (100.0 %)
Response Header Sizes : count 935924 avg 75 +/- 0 min 75 max 75 sum 70194300
Response Body/Total Sizes : count 935924 avg 75 +/- 0 min 75 max 75 sum 70194300
All done 935924 calls (plus 32 warmup) 1.025 ms avg, 31193.2 qps
Successfully wrote 5718 bytes of Json data to /data/2018-12-22-011101_http_baseline_0qps_30s_echo_0_5.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8080/echo
01:11:31 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 32 threads at -1.0 qps
01:11:31 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
01:12:01 I periodic.go:533> T000 ended after 30.000416522s : 2468 calls. qps=82.26552448664033
01:12:01 I periodic.go:533> T023 ended after 30.000873545s : 2561 calls. qps=85.36418101821641
01:12:01 I periodic.go:533> T031 ended after 30.000918131s : 2530 calls. qps=84.33075244406426
01:12:01 I periodic.go:533> T019 ended after 30.001603084s : 2448 calls. qps=81.59563984450985
01:12:01 I periodic.go:533> T025 ended after 30.001645634s : 2273 calls. qps=75.7625107545459
01:12:01 I periodic.go:533> T017 ended after 30.00165928s : 2497 calls. qps=83.22873000776242
01:12:01 I periodic.go:533> T006 ended after 30.003050463s : 2451 calls. qps=81.69169341706079
01:12:01 I periodic.go:533> T014 ended after 30.003106814s : 2364 calls. qps=78.79184028025105
01:12:01 I periodic.go:533> T018 ended after 30.003137801s : 2522 calls. qps=84.05787477054956
01:12:01 I periodic.go:533> T011 ended after 30.003154473s : 2471 calls. qps=82.35800679637424
01:12:01 I periodic.go:533> T003 ended after 30.003166119s : 2507 calls. qps=83.55784819697415
01:12:01 I periodic.go:533> T027 ended after 30.003235597s : 2521 calls. qps=84.02427104402275
01:12:01 I periodic.go:533> T029 ended after 30.003249366s : 2654 calls. qps=88.45708568511053
01:12:01 I periodic.go:533> T026 ended after 30.003475438s : 2661 calls. qps=88.6897254785954
01:12:01 I periodic.go:533> T013 ended after 30.003685983s : 2613 calls. qps=87.08929967739691
01:12:01 I periodic.go:533> T012 ended after 30.003898884s : 2390 calls. qps=79.65631430902138
01:12:01 I periodic.go:533> T020 ended after 30.004150765s : 2645 calls. qps=88.1544697170835
01:12:01 I periodic.go:533> T030 ended after 30.004351214s : 2524 calls. qps=84.12113236503858
01:12:01 I periodic.go:533> T001 ended after 30.00457744s : 2480 calls. qps=82.65405520071874
01:12:01 I periodic.go:533> T005 ended after 30.004798591s : 2447 calls. qps=81.55362191746165
01:12:01 I periodic.go:533> T015 ended after 30.005092102s : 2603 calls. qps=86.75194167547635
01:12:01 I periodic.go:533> T002 ended after 30.005287395s : 2593 calls. qps=86.41810244524072
01:12:01 I periodic.go:533> T004 ended after 30.005493506s : 2611 calls. qps=87.01739897988665
01:12:01 I periodic.go:533> T008 ended after 30.005710541s : 2532 calls. qps=84.38393740219078
01:12:01 I periodic.go:533> T010 ended after 30.005952375s : 2633 calls. qps=87.74925611738728
01:12:01 I periodic.go:533> T024 ended after 30.006181209s : 2481 calls. qps=82.68296397729722
01:12:01 I periodic.go:533> T016 ended after 30.006411745s : 2362 calls. qps=78.71650966042557
01:12:01 I periodic.go:533> T028 ended after 30.00660403s : 2470 calls. qps=82.31521292881206
01:12:01 I periodic.go:533> T022 ended after 30.006811469s : 2469 calls. qps=82.28131811174676
01:12:01 I periodic.go:533> T009 ended after 30.007080068s : 2398 calls. qps=79.91447333648645
01:12:01 I periodic.go:533> T007 ended after 30.007282421s : 2500 calls. qps=83.31310929544306
01:12:01 I periodic.go:533> T021 ended after 30.007509065s : 2502 calls. qps=83.37913002310043
Ended after 30.007551536s : 80181 calls. qps=2672
Aggregated Function Time : count 80181 avg 0.011972247 +/- 0.01462 min 0.000358966 max 0.111626534 sum 959.946764
# range, mid point, percentile, count
>= 0.000358966 <= 0.0004 , 0.000379483 , 0.05, 42
> 0.0004 <= 0.0005 , 0.00045 , 2.51, 1974
> 0.0005 <= 0.0006 , 0.00055 , 13.45, 8770
> 0.0006 <= 0.0007 , 0.00065 , 41.43, 22435
> 0.0007 <= 0.0008 , 0.00075 , 52.55, 8911
> 0.0008 <= 0.0009 , 0.00085 , 54.47, 1539
> 0.0009 <= 0.001 , 0.00095 , 55.08, 496
> 0.001 <= 0.0011 , 0.00105 , 55.37, 226
> 0.0011 <= 0.0012 , 0.00115 , 55.53, 129
> 0.0012 <= 0.0014 , 0.0013 , 55.72, 152
> 0.0014 <= 0.0016 , 0.0015 , 55.93, 170
> 0.0016 <= 0.0018 , 0.0017 , 56.27, 270
> 0.0018 <= 0.002 , 0.0019 , 56.44, 141
> 0.002 <= 0.0025 , 0.00225 , 56.59, 120
> 0.0025 <= 0.003 , 0.00275 , 56.69, 83
> 0.003 <= 0.0035 , 0.00325 , 56.75, 41
> 0.0035 <= 0.004 , 0.00375 , 56.85, 80
> 0.004 <= 0.0045 , 0.00425 , 56.94, 76
> 0.0045 <= 0.005 , 0.00475 , 57.04, 83
> 0.005 <= 0.006 , 0.0055 , 57.19, 119
> 0.006 <= 0.007 , 0.0065 , 57.33, 114
> 0.007 <= 0.008 , 0.0075 , 57.51, 140
> 0.008 <= 0.009 , 0.0085 , 57.69, 149
> 0.009 <= 0.01 , 0.0095 , 57.97, 217
> 0.01 <= 0.012 , 0.011 , 58.81, 676
> 0.012 <= 0.014 , 0.013 , 60.28, 1178
> 0.014 <= 0.016 , 0.015 , 62.32, 1636
> 0.016 <= 0.018 , 0.017 , 64.85, 2034
> 0.018 <= 0.02 , 0.019 , 67.90, 2443
> 0.02 <= 0.025 , 0.0225 , 76.52, 6911
> 0.025 <= 0.03 , 0.0275 , 85.47, 7174
> 0.03 <= 0.035 , 0.0325 , 92.41, 5569
> 0.035 <= 0.04 , 0.0375 , 96.14, 2988
> 0.04 <= 0.045 , 0.0425 , 97.96, 1459
> 0.045 <= 0.05 , 0.0475 , 98.88, 735
> 0.05 <= 0.06 , 0.055 , 99.64, 610
> 0.06 <= 0.07 , 0.065 , 99.89, 205
> 0.07 <= 0.08 , 0.075 , 99.94, 34
> 0.08 <= 0.09 , 0.085 , 99.96, 23
> 0.09 <= 0.1 , 0.095 , 99.99, 19
> 0.1 <= 0.111627 , 0.105813 , 100.00, 10
# target 50% 0.00077709
# target 75% 0.0241179
# target 90% 0.0332626
# target 99% 0.0516261
# target 99.9% 0.0717115
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 80181 (100.0 %)
Response Header Sizes : count 80181 avg 209.41729 +/- 0.4933 min 209 max 211 sum 16791288
Response Body/Total Sizes : count 80181 avg 209.41729 +/- 0.4933 min 209 max 211 sum 16791288
All done 80181 calls (plus 32 warmup) 11.972 ms avg, 2672.0 qps
Successfully wrote 7055 bytes of Json data to /data/2018-12-22-011131_http_istio_0qps_30s_echo_0_5.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8079
01:12:01 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
01:12:31 I periodic.go:533> T024 ended after 30.000071224s : 16147 calls. qps=538.2320554986693
01:12:31 I periodic.go:533> T016 ended after 30.002326136s : 16210 calls. qps=540.2914402876752
01:12:31 I periodic.go:533> T021 ended after 30.00238159s : 16163 calls. qps=538.7238993516181
01:12:31 I periodic.go:533> T019 ended after 30.002411467s : 16171 calls. qps=538.9900081127369
01:12:31 I periodic.go:533> T001 ended after 30.002438078s : 16199 calls. qps=539.9227875376669
01:12:31 I periodic.go:533> T018 ended after 30.004410834s : 16182 calls. qps=539.3207048632695
01:12:31 I periodic.go:533> T008 ended after 30.004447596s : 16171 calls. qps=538.9534317624236
01:12:31 I periodic.go:533> T026 ended after 30.004475859s : 16200 calls. qps=539.9194465561952
01:12:31 I periodic.go:533> T014 ended after 30.00452781s : 16178 calls. qps=539.1852890485465
01:12:31 I periodic.go:533> T025 ended after 30.004554053s : 16224 calls. qps=540.7179180647695
01:12:31 I periodic.go:533> T023 ended after 30.00458136s : 16151 calls. qps=538.2844641695744
01:12:31 I periodic.go:533> T011 ended after 30.004605903s : 16176 calls. qps=539.1172292778772
01:12:31 I periodic.go:533> T022 ended after 30.004630531s : 16168 calls. qps=538.8501612541319
01:12:31 I periodic.go:533> T006 ended after 30.004655965s : 16171 calls. qps=538.9496889703797
01:12:31 I periodic.go:533> T007 ended after 30.00468117s : 16169 calls. qps=538.8825799677711
01:12:31 I periodic.go:533> T012 ended after 30.004862558s : 16152 calls. qps=538.312747434782
01:12:31 I periodic.go:533> T004 ended after 30.004891592s : 16137 calls. qps=537.8123080538808
01:12:31 I periodic.go:533> T031 ended after 30.004915085s : 16216 calls. qps=540.44478893082
01:12:31 I periodic.go:533> T028 ended after 30.004939704s : 16170 calls. qps=538.9112645956877
01:12:31 I periodic.go:533> T010 ended after 30.004964237s : 16161 calls. qps=538.6108735990892
01:12:31 I periodic.go:533> T013 ended after 30.004987953s : 16179 calls. qps=539.2103481375459
01:12:31 I periodic.go:533> T000 ended after 30.005103544s : 16183 calls. qps=539.3415815502509
01:12:31 I periodic.go:533> T029 ended after 30.005146686s : 16201 calls. qps=539.9407031580743
01:12:31 I periodic.go:533> T002 ended after 30.005173476s : 16188 calls. qps=539.5069624559301
01:12:31 I periodic.go:533> T030 ended after 30.005197806s : 16136 calls. qps=537.7734919239012
01:12:31 I periodic.go:533> T015 ended after 30.005231097s : 16216 calls. qps=540.4390970220295
01:12:31 I periodic.go:533> T020 ended after 30.005258922s : 16249 calls. qps=541.5384030592769
01:12:31 I periodic.go:533> T017 ended after 30.005284445s : 16185 calls. qps=539.4049848008365
01:12:31 I periodic.go:533> T027 ended after 30.005311564s : 16215 calls. qps=540.404320262235
01:12:31 I periodic.go:533> T009 ended after 30.00533483s : 16160 calls. qps=538.5708938612768
01:12:31 I periodic.go:533> T005 ended after 30.005364671s : 16185 calls. qps=539.4035425819271
01:12:31 I periodic.go:533> T003 ended after 30.005389388s : 16185 calls. qps=539.4030982471714
Ended after 30.005404879s : 517798 calls. qps=17257
Aggregated Function Time : count 517798 avg 0.0018537321 +/- 0.001045 min 0.000346116 max 0.037544561 sum 959.85877
# range, mid point, percentile, count
>= 0.000346116 <= 0.0004 , 0.000373058 , 0.00, 7
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 51
> 0.0005 <= 0.0006 , 0.00055 , 0.19, 948
> 0.0006 <= 0.0007 , 0.00065 , 0.79, 3063
> 0.0007 <= 0.0008 , 0.00075 , 1.71, 4773
> 0.0008 <= 0.0009 , 0.00085 , 2.89, 6112
> 0.0009 <= 0.001 , 0.00095 , 4.50, 8344
> 0.001 <= 0.0011 , 0.00105 , 7.50, 15541
> 0.0011 <= 0.0012 , 0.00115 , 13.69, 32044
> 0.0012 <= 0.0014 , 0.0013 , 31.08, 90023
> 0.0014 <= 0.0016 , 0.0015 , 53.34, 115268
> 0.0016 <= 0.0018 , 0.0017 , 68.76, 79844
> 0.0018 <= 0.002 , 0.0019 , 77.02, 42809
> 0.002 <= 0.0025 , 0.00225 , 85.85, 45727
> 0.0025 <= 0.003 , 0.00275 , 89.72, 19991
> 0.003 <= 0.0035 , 0.00325 , 92.45, 14140
> 0.0035 <= 0.004 , 0.00375 , 95.35, 15050
> 0.004 <= 0.0045 , 0.00425 , 97.39, 10561
> 0.0045 <= 0.005 , 0.00475 , 98.44, 5440
> 0.005 <= 0.006 , 0.0055 , 99.41, 5000
> 0.006 <= 0.007 , 0.0065 , 99.69, 1434
> 0.007 <= 0.008 , 0.0075 , 99.80, 604
> 0.008 <= 0.009 , 0.0085 , 99.88, 381
> 0.009 <= 0.01 , 0.0095 , 99.91, 155
> 0.01 <= 0.012 , 0.011 , 99.97, 309
> 0.012 <= 0.014 , 0.013 , 99.97, 35
> 0.014 <= 0.016 , 0.015 , 99.98, 39
> 0.016 <= 0.018 , 0.017 , 99.98, 13
> 0.018 <= 0.02 , 0.019 , 99.99, 28
> 0.03 <= 0.035 , 0.0325 , 99.99, 2
> 0.035 <= 0.0375446 , 0.0362723 , 100.00, 62
# target 50% 0.00157003
# target 75% 0.00195105
# target 90% 0.00305209
# target 99% 0.0055768
# target 99.9% 0.00980775
Ping SERVING : 517798
All done 517798 calls (plus 32 warmup) 1.854 ms avg, 17256.8 qps
Successfully wrote 5158 bytes of Json data to /data/2018-12-22-011201_grpc_baseline_0qps_30s_echo_0_5.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8079
01:12:31 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
01:13:01 I periodic.go:533> T009 ended after 30.001135613s : 3119 calls. qps=103.96273128569456
01:13:01 I periodic.go:533> T007 ended after 30.005223099s : 3158 calls. qps=105.24834258290346
01:13:01 I periodic.go:533> T015 ended after 30.005398123s : 3166 calls. qps=105.51434735249089
01:13:01 I periodic.go:533> T027 ended after 30.005478451s : 3143 calls. qps=104.74753819148825
01:13:01 I periodic.go:533> T022 ended after 30.005949953s : 3103 calls. qps=103.41282328539516
01:13:01 I periodic.go:533> T018 ended after 30.005982306s : 3140 calls. qps=104.64579922691367
01:13:01 I periodic.go:533> T016 ended after 30.005994845s : 3153 calls. qps=105.07900225562409
01:13:01 I periodic.go:533> T008 ended after 30.006006507s : 3127 calls. qps=104.21246823600178
01:13:01 I periodic.go:533> T004 ended after 30.006017543s : 3129 calls. qps=104.27908320442722
01:13:01 I periodic.go:533> T010 ended after 30.006027973s : 3118 calls. qps=103.91245395110731
01:13:01 I periodic.go:533> T026 ended after 30.006038268s : 3121 calls. qps=104.01239817548311
01:13:01 I periodic.go:533> T006 ended after 30.006062611s : 3167 calls. qps=105.54533732256498
01:13:01 I periodic.go:533> T014 ended after 30.006074058s : 3137 calls. qps=104.54549948574949
01:13:01 I periodic.go:533> T020 ended after 30.006084188s : 3150 calls. qps=104.97870965981441
01:13:01 I periodic.go:533> T030 ended after 30.006095632s : 3140 calls. qps=104.6454040042233
01:13:01 I periodic.go:533> T028 ended after 30.006107565s : 3140 calls. qps=104.64536238824218
01:13:01 I periodic.go:533> T001 ended after 30.006118523s : 3155 calls. qps=105.14522221798397
01:13:01 I periodic.go:533> T002 ended after 30.00614291s : 3129 calls. qps=104.2786475217784
01:13:01 I periodic.go:533> T024 ended after 30.006173826s : 3125 calls. qps=104.14523418151447
01:13:01 I periodic.go:533> T012 ended after 30.006183967s : 3120 calls. qps=103.97856666583438
01:13:01 I periodic.go:533> T003 ended after 30.008048063s : 3155 calls. qps=105.13846130132413
01:13:01 I periodic.go:533> T005 ended after 30.00808864s : 3170 calls. qps=105.638184358549
01:13:01 I periodic.go:533> T029 ended after 30.008101983s : 3121 calls. qps=104.00524504242519
01:13:01 I periodic.go:533> T019 ended after 30.008113422s : 3158 calls. qps=105.23820526767136
01:13:01 I periodic.go:533> T021 ended after 30.00812445s : 3138 calls. qps=104.57168042036696
01:13:01 I periodic.go:533> T013 ended after 30.008135583s : 3167 calls. qps=105.53804621551186
01:13:01 I periodic.go:533> T031 ended after 30.008146744s : 3154 calls. qps=105.104791272411
01:13:01 I periodic.go:533> T000 ended after 30.008171364s : 3169 calls. qps=105.60456888758522
01:13:01 I periodic.go:533> T023 ended after 30.008181828s : 3190 calls. qps=106.30434120548678
01:13:01 I periodic.go:533> T025 ended after 30.00819307s : 3142 calls. qps=104.70473822501302
01:13:01 I periodic.go:533> T011 ended after 30.008210024s : 3143 calls. qps=104.73800328264458
01:13:01 I periodic.go:533> T017 ended after 30.00822097s : 3144 calls. qps=104.7712892791325
Ended after 30.008249721s : 100591 calls. qps=3352.1
Aggregated Function Time : count 100591 avg 0.0095425645 +/- 0.005092 min 0.000785121 max 0.084216092 sum 959.89611
# range, mid point, percentile, count
>= 0.000785121 <= 0.0008 , 0.000792561 , 0.00, 2
> 0.0008 <= 0.0009 , 0.00085 , 0.00, 3
> 0.0009 <= 0.001 , 0.00095 , 0.02, 13
> 0.001 <= 0.0011 , 0.00105 , 0.03, 12
> 0.0011 <= 0.0012 , 0.00115 , 0.05, 23
> 0.0012 <= 0.0014 , 0.0013 , 0.17, 123
> 0.0014 <= 0.0016 , 0.0015 , 0.30, 130
> 0.0016 <= 0.0018 , 0.0017 , 0.37, 67
> 0.0018 <= 0.002 , 0.0019 , 0.46, 89
> 0.002 <= 0.0025 , 0.00225 , 0.83, 373
> 0.0025 <= 0.003 , 0.00275 , 2.14, 1313
> 0.003 <= 0.0035 , 0.00325 , 2.70, 567
> 0.0035 <= 0.004 , 0.00375 , 3.41, 717
> 0.004 <= 0.0045 , 0.00425 , 4.77, 1367
> 0.0045 <= 0.005 , 0.00475 , 7.83, 3078
> 0.005 <= 0.006 , 0.0055 , 18.62, 10850
> 0.006 <= 0.007 , 0.0065 , 25.07, 6491
> 0.007 <= 0.008 , 0.0075 , 34.98, 9967
> 0.008 <= 0.009 , 0.0085 , 51.84, 16964
> 0.009 <= 0.01 , 0.0095 , 67.34, 15587
> 0.01 <= 0.012 , 0.011 , 86.12, 18890
> 0.012 <= 0.014 , 0.013 , 92.63, 6553
> 0.014 <= 0.016 , 0.015 , 94.56, 1944
> 0.016 <= 0.018 , 0.017 , 95.39, 826
> 0.018 <= 0.02 , 0.019 , 95.84, 456
> 0.02 <= 0.025 , 0.0225 , 97.22, 1394
> 0.025 <= 0.03 , 0.0275 , 98.65, 1439
> 0.03 <= 0.035 , 0.0325 , 99.44, 788
> 0.035 <= 0.04 , 0.0375 , 99.73, 289
> 0.04 <= 0.045 , 0.0425 , 99.85, 129
> 0.045 <= 0.05 , 0.0475 , 99.93, 75
> 0.05 <= 0.06 , 0.055 , 99.97, 38
> 0.06 <= 0.07 , 0.065 , 99.98, 18
> 0.08 <= 0.0842161 , 0.082108 , 100.00, 16
# target 50% 0.00889074
# target 75% 0.010816
# target 90% 0.0131921
# target 99% 0.0322023
# target 99.9% 0.0480939
Ping SERVING : 100591
All done 100591 calls (plus 32 warmup) 9.543 ms avg, 3352.1 qps
Successfully wrote 5537 bytes of Json data to /data/2018-12-22-011231_grpc_istio_0qps_30s_echo_0_5.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8080/echo
01:13:01 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
01:13:01 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
01:13:31 I periodic.go:533> T022 ended after 30.000155706s : 29257 calls. qps=975.2282717035575
01:13:31 I periodic.go:533> T014 ended after 30.000267751s : 29166 calls. qps=972.1913231600345
01:13:31 I periodic.go:533> T030 ended after 30.000280025s : 29303 calls. qps=976.7575494489072
01:13:31 I periodic.go:533> T026 ended after 30.00028938s : 29529 calls. qps=984.2905055337835
01:13:31 I periodic.go:533> T011 ended after 30.000312302s : 29820 calls. qps=993.9896525014515
01:13:31 I periodic.go:533> T023 ended after 30.000321427s : 29871 calls. qps=995.6893319521699
01:13:31 I periodic.go:533> T019 ended after 30.000329754s : 29555 calls. qps=985.1558380307263
01:13:31 I periodic.go:533> T018 ended after 30.000338273s : 29440 calls. qps=981.3222681724126
01:13:31 I periodic.go:533> T015 ended after 30.000346386s : 29489 calls. qps=982.9553172679824
01:13:31 I periodic.go:533> T024 ended after 30.000355814s : 29562 calls. qps=985.3883128347619
01:13:31 I periodic.go:533> T005 ended after 30.000363562s : 29480 calls. qps=982.6547581356941
01:13:31 I periodic.go:533> T012 ended after 30.000371923s : 29236 calls. qps=974.5212517710826
01:13:31 I periodic.go:533> T016 ended after 30.000398894s : 29488 calls. qps=982.9202639668075
01:13:31 I periodic.go:533> T004 ended after 30.000408794s : 29597 calls. qps=986.5532234320527
01:13:31 I periodic.go:533> T009 ended after 30.000416714s : 29385 calls. qps=979.4863944768871
01:13:31 I periodic.go:533> T020 ended after 30.000424632s : 29353 calls. qps=978.4194843925834
01:13:31 I periodic.go:533> T028 ended after 30.000432826s : 29446 calls. qps=981.5191724327557
01:13:31 I periodic.go:533> T003 ended after 30.000441705s : 29377 calls. qps=979.2189158036265
01:13:31 I periodic.go:533> T000 ended after 30.000449553s : 29522 calls. qps=984.051920550232
01:13:31 I periodic.go:533> T029 ended after 30.000457259s : 29546 calls. qps=984.8516555905605
01:13:31 I periodic.go:533> T013 ended after 30.000481568s : 29573 calls. qps=985.7508431312658
01:13:31 I periodic.go:533> T001 ended after 30.00049055s : 29795 calls. qps=993.1504270019345
01:13:31 I periodic.go:533> T002 ended after 30.00049832s : 29447 calls. qps=981.5503624607793
01:13:31 I periodic.go:533> T010 ended after 30.000506223s : 29614 calls. qps=987.1166766278203
01:13:31 I periodic.go:533> T021 ended after 30.000514099s : 29420 calls. qps=980.6498616295595
01:13:31 I periodic.go:533> T025 ended after 30.000523437s : 29360 calls. qps=978.649591286463
01:13:31 I periodic.go:533> T007 ended after 30.00053589s : 29778 calls. qps=992.5822695029199
01:13:31 I periodic.go:533> T006 ended after 30.000557965s : 29436 calls. qps=981.1817511641405
01:13:31 I periodic.go:533> T008 ended after 30.00056638s : 29297 calls. qps=976.5482300871148
01:13:31 I periodic.go:533> T027 ended after 30.000574517s : 29535 calls. qps=984.4811466281694
01:13:31 I periodic.go:533> T017 ended after 30.000582115s : 29591 calls. qps=986.3475277436296
01:13:31 I periodic.go:533> T031 ended after 30.000590346s : 29510 calls. qps=983.6473102581659
Ended after 30.000605797s : 943778 calls. qps=31459
Aggregated Function Time : count 943778 avg 0.0010168693 +/- 0.0006979 min 7.2717e-05 max 0.034644489 sum 959.698889
# range, mid point, percentile, count
>= 7.2717e-05 <= 0.0001 , 8.63585e-05 , 0.52, 4866
> 0.0001 <= 0.0002 , 0.00015 , 4.94, 41739
> 0.0002 <= 0.0003 , 0.00025 , 10.19, 49549
> 0.0003 <= 0.0004 , 0.00035 , 15.84, 53301
> 0.0004 <= 0.0005 , 0.00045 , 21.88, 57000
> 0.0005 <= 0.0006 , 0.00055 , 28.06, 58362
> 0.0006 <= 0.0007 , 0.00065 , 34.13, 57318
> 0.0007 <= 0.0008 , 0.00075 , 40.22, 57464
> 0.0008 <= 0.0009 , 0.00085 , 46.41, 58395
> 0.0009 <= 0.001 , 0.00095 , 52.77, 60040
> 0.001 <= 0.0011 , 0.00105 , 58.94, 58262
> 0.0011 <= 0.0012 , 0.00115 , 64.93, 56522
> 0.0012 <= 0.0014 , 0.0013 , 76.53, 109429
> 0.0014 <= 0.0016 , 0.0015 , 87.01, 98940
> 0.0016 <= 0.0018 , 0.0017 , 93.69, 63044
> 0.0018 <= 0.002 , 0.0019 , 95.63, 18341
> 0.002 <= 0.0025 , 0.00225 , 97.91, 21490
> 0.0025 <= 0.003 , 0.00275 , 98.90, 9288
> 0.003 <= 0.0035 , 0.00325 , 99.20, 2833
> 0.0035 <= 0.004 , 0.00375 , 99.40, 1907
> 0.004 <= 0.0045 , 0.00425 , 99.61, 2009
> 0.0045 <= 0.005 , 0.00475 , 99.77, 1476
> 0.005 <= 0.006 , 0.0055 , 99.94, 1622
> 0.006 <= 0.007 , 0.0065 , 99.97, 273
> 0.007 <= 0.008 , 0.0075 , 99.97, 41
> 0.008 <= 0.009 , 0.0085 , 99.98, 50
> 0.009 <= 0.01 , 0.0095 , 99.98, 25
> 0.01 <= 0.012 , 0.011 , 99.98, 32
> 0.012 <= 0.014 , 0.013 , 99.99, 31
> 0.014 <= 0.016 , 0.015 , 99.99, 13
> 0.016 <= 0.018 , 0.017 , 99.99, 33
> 0.018 <= 0.02 , 0.019 , 99.99, 19
> 0.025 <= 0.03 , 0.0275 , 100.00, 32
> 0.03 <= 0.0346445 , 0.0323222 , 100.00, 32
# target 50% 0.000956454
# target 75% 0.00137366
# target 90% 0.0016895
# target 99% 0.00317477
# target 99.9% 0.00577634
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 943778 (100.0 %)
Response Header Sizes : count 943778 avg 75 +/- 0 min 75 max 75 sum 70783350
Response Body/Total Sizes : count 943778 avg 75 +/- 0 min 75 max 75 sum 70783350
All done 943778 calls (plus 32 warmup) 1.017 ms avg, 31458.6 qps
Successfully wrote 6127 bytes of Json data to /data/2018-12-22-011301_http_baseline_0qps_30s_echo_0_6.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8080/echo
01:13:31 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 32 threads at -1.0 qps
01:13:31 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
01:14:02 I periodic.go:533> T008 ended after 30.000192347s : 2598 calls. qps=86.59944476188662
01:14:02 I periodic.go:533> T006 ended after 30.000751941s : 2461 calls. qps=82.0312772439786
01:14:02 I periodic.go:533> T012 ended after 30.002729337s : 2634 calls. qps=87.79201286703258
01:14:02 I periodic.go:533> T023 ended after 30.002786862s : 2466 calls. qps=82.19236470740356
01:14:02 I periodic.go:533> T031 ended after 30.002804074s : 2528 calls. qps=84.2587910704896
01:14:02 I periodic.go:533> T025 ended after 30.002816398s : 2675 calls. qps=89.15829649173591
01:14:02 I periodic.go:533> T019 ended after 30.002828396s : 2461 calls. qps=82.02559997070483
01:14:02 I periodic.go:533> T018 ended after 30.002838044s : 2432 calls. qps=81.05899836653467
01:14:02 I periodic.go:533> T003 ended after 30.002848538s : 2325 calls. qps=77.49264197548709
01:14:02 I periodic.go:533> T021 ended after 30.002875071s : 2385 calls. qps=79.4923817919463
01:14:02 I periodic.go:533> T013 ended after 30.002886035s : 2610 calls. qps=86.99163130357836
01:14:02 I periodic.go:533> T010 ended after 30.002896692s : 2750 calls. qps=91.65781651787184
01:14:02 I periodic.go:533> T024 ended after 30.005019761s : 2502 calls. qps=83.38604739904407
01:14:02 I periodic.go:533> T020 ended after 30.005053146s : 2456 calls. qps=81.85287951497634
01:14:02 I periodic.go:533> T030 ended after 30.005067046s : 2391 calls. qps=79.68654082106929
01:14:02 I periodic.go:533> T029 ended after 30.005094411s : 2605 calls. qps=86.81859034727768
01:14:02 I periodic.go:533> T017 ended after 30.005106049s : 2544 calls. qps=84.78556935761225
01:14:02 I periodic.go:533> T009 ended after 30.00511715s : 2505 calls. qps=83.48575969482592
01:14:02 I periodic.go:533> T007 ended after 30.005128533s : 2527 calls. qps=84.21893601358099
01:14:02 I periodic.go:533> T016 ended after 30.005154484s : 2266 calls. qps=75.52035771748237
01:14:02 I periodic.go:533> T026 ended after 30.005180662s : 2501 calls. qps=83.35227266827913
01:14:02 I periodic.go:533> T028 ended after 30.005192237s : 2373 calls. qps=79.08631217079177
01:14:02 I periodic.go:533> T004 ended after 30.005206597s : 2689 calls. qps=89.61777987787137
01:14:02 I periodic.go:533> T027 ended after 30.005534645s : 2797 calls. qps=93.216136059288
01:14:02 I periodic.go:533> T005 ended after 30.005605069s : 2533 calls. qps=84.41756112483611
01:14:02 I periodic.go:533> T022 ended after 30.005824306s : 2517 calls. qps=83.88371451927411
01:14:02 I periodic.go:533> T011 ended after 30.006092433s : 2423 calls. qps=80.75026781345382
01:14:02 I periodic.go:533> T000 ended after 30.006330355s : 2326 calls. qps=77.51697633404264
01:14:02 I periodic.go:533> T014 ended after 30.006563028s : 2458 calls. qps=81.91541289505128
01:14:02 I periodic.go:533> T002 ended after 30.007009678s : 2446 calls. qps=81.51428703651581
01:14:02 I periodic.go:533> T001 ended after 30.007232466s : 2605 calls. qps=86.81240440789138
01:14:02 I periodic.go:533> T015 ended after 30.007447196s : 2586 calls. qps=86.17860703408034
Ended after 30.00747241s : 80375 calls. qps=2678.5
Aggregated Function Time : count 80375 avg 0.0119434 +/- 0.01428 min 0.000378764 max 0.083359421 sum 959.950793
# range, mid point, percentile, count
>= 0.000378764 <= 0.0004 , 0.000389382 , 0.05, 43
> 0.0004 <= 0.0005 , 0.00045 , 2.16, 1696
> 0.0005 <= 0.0006 , 0.00055 , 12.73, 8490
> 0.0006 <= 0.0007 , 0.00065 , 42.56, 23978
> 0.0007 <= 0.0008 , 0.00075 , 52.44, 7941
> 0.0008 <= 0.0009 , 0.00085 , 53.92, 1192
> 0.0009 <= 0.001 , 0.00095 , 54.45, 422
> 0.001 <= 0.0011 , 0.00105 , 54.67, 179
> 0.0011 <= 0.0012 , 0.00115 , 54.80, 103
> 0.0012 <= 0.0014 , 0.0013 , 54.99, 154
> 0.0014 <= 0.0016 , 0.0015 , 55.18, 150
> 0.0016 <= 0.0018 , 0.0017 , 55.56, 309
> 0.0018 <= 0.002 , 0.0019 , 55.71, 118
> 0.002 <= 0.0025 , 0.00225 , 55.84, 104
> 0.0025 <= 0.003 , 0.00275 , 55.98, 112
> 0.003 <= 0.0035 , 0.00325 , 56.04, 49
> 0.0035 <= 0.004 , 0.00375 , 56.12, 68
> 0.004 <= 0.0045 , 0.00425 , 56.23, 90
> 0.0045 <= 0.005 , 0.00475 , 56.33, 81
> 0.005 <= 0.006 , 0.0055 , 56.49, 127
> 0.006 <= 0.007 , 0.0065 , 56.63, 114
> 0.007 <= 0.008 , 0.0075 , 56.83, 161
> 0.008 <= 0.009 , 0.0085 , 57.03, 159
> 0.009 <= 0.01 , 0.0095 , 57.33, 236
> 0.01 <= 0.012 , 0.011 , 58.21, 710
> 0.012 <= 0.014 , 0.013 , 59.75, 1242
> 0.014 <= 0.016 , 0.015 , 61.79, 1634
> 0.016 <= 0.018 , 0.017 , 64.57, 2239
> 0.018 <= 0.02 , 0.019 , 67.66, 2481
> 0.02 <= 0.025 , 0.0225 , 76.75, 7308
> 0.025 <= 0.03 , 0.0275 , 86.03, 7457
> 0.03 <= 0.035 , 0.0325 , 93.09, 5675
> 0.035 <= 0.04 , 0.0375 , 96.60, 2821
> 0.04 <= 0.045 , 0.0425 , 98.17, 1260
> 0.045 <= 0.05 , 0.0475 , 99.07, 725
> 0.05 <= 0.06 , 0.055 , 99.75, 546
> 0.06 <= 0.07 , 0.065 , 99.94, 155
> 0.07 <= 0.08 , 0.075 , 100.00, 44
> 0.08 <= 0.0833594 , 0.0816797 , 100.00, 2
# target 50% 0.000775312
# target 75% 0.0240362
# target 90% 0.032811
# target 99% 0.0496086
# target 99.9% 0.0677823
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 80375 (100.0 %)
Response Header Sizes : count 80375 avg 209.42286 +/- 0.494 min 209 max 210 sum 16832362
Response Body/Total Sizes : count 80375 avg 209.42286 +/- 0.494 min 209 max 210 sum 16832362
All done 80375 calls (plus 32 warmup) 11.943 ms avg, 2678.5 qps
Successfully wrote 6786 bytes of Json data to /data/2018-12-22-011332_http_istio_0qps_30s_echo_0_6.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8079
01:14:02 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
01:14:32 I periodic.go:533> T029 ended after 30.000014194s : 16274 calls. qps=542.4664100077259
01:14:32 I periodic.go:533> T001 ended after 30.000480428s : 16280 calls. qps=542.6579763971239
01:14:32 I periodic.go:533> T006 ended after 30.002949321s : 16319 calls. qps=543.9131941798076
01:14:32 I periodic.go:533> T012 ended after 30.002989229s : 16253 calls. qps=541.7126898905904
01:14:32 I periodic.go:533> T020 ended after 30.003029134s : 16256 calls. qps=541.8119592990827
01:14:32 I periodic.go:533> T014 ended after 30.003052759s : 16279 calls. qps=542.5781213252308
01:14:32 I periodic.go:533> T004 ended after 30.00308541s : 16264 calls. qps=542.0775822802285
01:14:32 I periodic.go:533> T009 ended after 30.003110626s : 16237 calls. qps=541.177220002295
01:14:32 I periodic.go:533> T030 ended after 30.003132916s : 16240 calls. qps=541.2768075076443
01:14:32 I periodic.go:533> T010 ended after 30.003188001s : 16263 calls. qps=542.0423989430042
01:14:32 I periodic.go:533> T021 ended after 30.003211811s : 16275 calls. qps=542.4419259685104
01:14:32 I periodic.go:533> T005 ended after 30.003236645s : 16256 calls. qps=541.808211971992
01:14:32 I periodic.go:533> T011 ended after 30.003273765s : 16232 calls. qps=541.0076289386549
01:14:32 I periodic.go:533> T007 ended after 30.003299097s : 16256 calls. qps=541.8070841957983
01:14:32 I periodic.go:533> T019 ended after 30.005899967s : 16249 calls. qps=541.526833651728
01:14:32 I periodic.go:533> T023 ended after 30.005959099s : 16244 calls. qps=541.359132911081
01:14:32 I periodic.go:533> T003 ended after 30.005986353s : 16282 calls. qps=542.6250551624385
01:14:32 I periodic.go:533> T008 ended after 30.006027178s : 16231 calls. qps=540.9246583599825
01:14:32 I periodic.go:533> T015 ended after 30.006049844s : 16295 calls. qps=543.057152964716
01:14:32 I periodic.go:533> T031 ended after 30.006103725s : 16267 calls. qps=542.123034336075
01:14:32 I periodic.go:533> T028 ended after 30.006130866s : 16228 calls. qps=540.8228095941545
01:14:32 I periodic.go:533> T013 ended after 30.006178653s : 16279 calls. qps=542.521598243315
01:14:32 I periodic.go:533> T017 ended after 30.00620418s : 16263 calls. qps=541.9879136475301
01:14:32 I periodic.go:533> T025 ended after 30.006229884s : 16225 calls. qps=540.721045686967
01:14:32 I periodic.go:533> T027 ended after 30.006269978s : 16275 calls. qps=542.386641589658
01:14:32 I periodic.go:533> T018 ended after 30.00630626s : 16245 calls. qps=541.386195929602
01:14:32 I periodic.go:533> T002 ended after 30.006489438s : 16271 calls. qps=542.2493702110493
01:14:32 I periodic.go:533> T000 ended after 30.006684597s : 16264 calls. qps=542.0125621484367
01:14:32 I periodic.go:533> T024 ended after 30.006740135s : 16291 calls. qps=542.9113568054032
01:14:32 I periodic.go:533> T016 ended after 30.006764404s : 16232 calls. qps=540.9446943848509
01:14:32 I periodic.go:533> T022 ended after 30.00679568s : 16281 calls. qps=542.5770939897972
01:14:32 I periodic.go:533> T026 ended after 30.006904832s : 16262 calls. qps=541.9419327333574
Ended after 30.006923177s : 520368 calls. qps=17342
Aggregated Function Time : count 520368 avg 0.0018445945 +/- 0.00101 min 0.000237296 max 0.037137101 sum 959.867947
# range, mid point, percentile, count
>= 0.000237296 <= 0.0003 , 0.000268648 , 0.00, 2
> 0.0003 <= 0.0004 , 0.00035 , 0.00, 3
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 46
> 0.0005 <= 0.0006 , 0.00055 , 0.17, 835
> 0.0006 <= 0.0007 , 0.00065 , 0.73, 2929
> 0.0007 <= 0.0008 , 0.00075 , 1.65, 4784
> 0.0008 <= 0.0009 , 0.00085 , 2.77, 5798
> 0.0009 <= 0.001 , 0.00095 , 4.35, 8217
> 0.001 <= 0.0011 , 0.00105 , 7.14, 14520
> 0.0011 <= 0.0012 , 0.00115 , 13.02, 30617
> 0.0012 <= 0.0014 , 0.0013 , 29.91, 87871
> 0.0014 <= 0.0016 , 0.0015 , 52.12, 115617
> 0.0016 <= 0.0018 , 0.0017 , 68.38, 84569
> 0.0018 <= 0.002 , 0.0019 , 77.47, 47327
> 0.002 <= 0.0025 , 0.00225 , 86.83, 48715
> 0.0025 <= 0.003 , 0.00275 , 90.33, 18183
> 0.003 <= 0.0035 , 0.00325 , 92.78, 12778
> 0.0035 <= 0.004 , 0.00375 , 95.63, 14803
> 0.004 <= 0.0045 , 0.00425 , 97.52, 9848
> 0.0045 <= 0.005 , 0.00475 , 98.54, 5296
> 0.005 <= 0.006 , 0.0055 , 99.47, 4851
> 0.006 <= 0.007 , 0.0065 , 99.73, 1329
> 0.007 <= 0.008 , 0.0075 , 99.84, 619
> 0.008 <= 0.009 , 0.0085 , 99.90, 292
> 0.009 <= 0.01 , 0.0095 , 99.94, 192
> 0.01 <= 0.012 , 0.011 , 99.96, 126
> 0.012 <= 0.014 , 0.013 , 99.98, 77
> 0.014 <= 0.016 , 0.015 , 99.98, 25
> 0.016 <= 0.018 , 0.017 , 99.98, 3
> 0.018 <= 0.02 , 0.019 , 99.99, 18
> 0.02 <= 0.025 , 0.0225 , 99.99, 14
> 0.03 <= 0.035 , 0.0325 , 99.99, 27
> 0.035 <= 0.0371371 , 0.0360686 , 100.00, 37
# target 50% 0.00158088
# target 75% 0.00194566
# target 90% 0.0029532
# target 99% 0.00549605
# target 99.9% 0.00899532
Ping SERVING : 520368
All done 520368 calls (plus 32 warmup) 1.845 ms avg, 17341.6 qps
Successfully wrote 5425 bytes of Json data to /data/2018-12-22-011402_grpc_baseline_0qps_30s_echo_0_6.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8079
01:14:32 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
01:15:02 I periodic.go:533> T021 ended after 30.001391253s : 3232 calls. qps=107.7283374209126
01:15:02 I periodic.go:533> T027 ended after 30.005299587s : 3233 calls. qps=107.74763273487592
01:15:02 I periodic.go:533> T029 ended after 30.00534087s : 3231 calls. qps=107.6808296895712
01:15:02 I periodic.go:533> T005 ended after 30.005368423s : 3222 calls. qps=107.38078448422722
01:15:02 I periodic.go:533> T007 ended after 30.005380713s : 3239 calls. qps=107.94730555099022
01:15:02 I periodic.go:533> T013 ended after 30.005392985s : 3241 calls. qps=108.01391608569195
01:15:02 I periodic.go:533> T019 ended after 30.005405932s : 3240 calls. qps=107.98054215106028
01:15:02 I periodic.go:533> T015 ended after 30.005417385s : 3222 calls. qps=107.38060926326953
01:15:02 I periodic.go:533> T000 ended after 30.005428092s : 3241 calls. qps=108.01378970707339
01:15:02 I periodic.go:533> T009 ended after 30.005479308s : 3220 calls. qps=107.3137331667783
01:15:02 I periodic.go:533> T031 ended after 30.00549125s : 3200 calls. qps=106.64714579535504
01:15:02 I periodic.go:533> T011 ended after 30.005502149s : 3255 calls. qps=108.48010421010335
01:15:02 I periodic.go:533> T017 ended after 30.005512292s : 3252 calls. qps=108.38008591064919
01:15:02 I periodic.go:533> T014 ended after 30.007028868s : 3227 calls. qps=107.54147017338751
01:15:02 I periodic.go:533> T022 ended after 30.007072201s : 3203 calls. qps=106.74150342109213
01:15:02 I periodic.go:533> T002 ended after 30.007085541s : 3189 calls. qps=106.27489949474531
01:15:02 I periodic.go:533> T016 ended after 30.00709627s : 3204 calls. qps=106.77474325308984
01:15:02 I periodic.go:533> T024 ended after 30.007110501s : 3221 calls. qps=107.34122500374232
01:15:02 I periodic.go:533> T010 ended after 30.007152749s : 3216 calls. qps=107.17444693606176
01:15:02 I periodic.go:533> T004 ended after 30.007165725s : 3197 calls. qps=106.54121849756939
01:15:02 I periodic.go:533> T018 ended after 30.007176235s : 3217 calls. qps=107.20768841447104
01:15:02 I periodic.go:533> T006 ended after 30.007194946s : 3187 calls. qps=106.20786133909633
01:15:02 I periodic.go:533> T012 ended after 30.007208254s : 3184 calls. qps=106.10783825834811
01:15:02 I periodic.go:533> T020 ended after 30.007238693s : 3222 calls. qps=107.37409173046031
01:15:02 I periodic.go:533> T028 ended after 30.007249933s : 3203 calls. qps=106.74087119451593
01:15:02 I periodic.go:533> T030 ended after 30.007260386s : 3188 calls. qps=106.24095498859248
01:15:02 I periodic.go:533> T026 ended after 30.007286452s : 3242 calls. qps=108.04042562082182
01:15:02 I periodic.go:533> T008 ended after 30.007314284s : 3204 calls. qps=106.77396749593093
01:15:02 I periodic.go:533> T001 ended after 30.007326331s : 3232 calls. qps=107.70703008821822
01:15:02 I periodic.go:533> T025 ended after 30.007337301s : 3232 calls. qps=107.70699071297783
01:15:02 I periodic.go:533> T023 ended after 30.007348224s : 3199 calls. qps=106.60722087536634
01:15:02 I periodic.go:533> T003 ended after 30.007359332s : 3208 calls. qps=106.90710783667566
Ended after 30.007403541s : 103003 calls. qps=3432.6
Aggregated Function Time : count 103003 avg 0.0093199978 +/- 0.004686 min 0.000674216 max 0.070598904 sum 959.98773
# range, mid point, percentile, count
>= 0.000674216 <= 0.0007 , 0.000687108 , 0.00, 1
> 0.0008 <= 0.0009 , 0.00085 , 0.00, 1
> 0.0009 <= 0.001 , 0.00095 , 0.01, 7
> 0.001 <= 0.0011 , 0.00105 , 0.03, 23
> 0.0011 <= 0.0012 , 0.00115 , 0.05, 20
> 0.0012 <= 0.0014 , 0.0013 , 0.17, 118
> 0.0014 <= 0.0016 , 0.0015 , 0.30, 143
> 0.0016 <= 0.0018 , 0.0017 , 0.37, 67
> 0.0018 <= 0.002 , 0.0019 , 0.47, 108
> 0.002 <= 0.0025 , 0.00225 , 0.88, 415
> 0.0025 <= 0.003 , 0.00275 , 2.26, 1426
> 0.003 <= 0.0035 , 0.00325 , 2.85, 611
> 0.0035 <= 0.004 , 0.00375 , 3.59, 759
> 0.004 <= 0.0045 , 0.00425 , 5.00, 1447
> 0.0045 <= 0.005 , 0.00475 , 8.36, 3470
> 0.005 <= 0.006 , 0.0055 , 19.30, 11261
> 0.006 <= 0.007 , 0.0065 , 26.25, 7162
> 0.007 <= 0.008 , 0.0075 , 37.68, 11774
> 0.008 <= 0.009 , 0.0085 , 54.41, 17235
> 0.009 <= 0.01 , 0.0095 , 68.82, 14838
> 0.01 <= 0.012 , 0.011 , 87.00, 18728
> 0.012 <= 0.014 , 0.013 , 93.01, 6189
> 0.014 <= 0.016 , 0.015 , 94.74, 1782
> 0.016 <= 0.018 , 0.017 , 95.50, 785
> 0.018 <= 0.02 , 0.019 , 96.19, 710
> 0.02 <= 0.025 , 0.0225 , 97.57, 1420
> 0.025 <= 0.03 , 0.0275 , 99.09, 1567
> 0.03 <= 0.035 , 0.0325 , 99.69, 620
> 0.035 <= 0.04 , 0.0375 , 99.84, 154
> 0.04 <= 0.045 , 0.0425 , 99.92, 80
> 0.045 <= 0.05 , 0.0475 , 99.97, 46
> 0.05 <= 0.06 , 0.055 , 99.99, 21
> 0.06 <= 0.07 , 0.065 , 100.00, 14
> 0.07 <= 0.0705989 , 0.0702995 , 100.00, 1
# target 50% 0.00873621
# target 75% 0.0106799
# target 90% 0.0129981
# target 99% 0.0297
# target 99.9% 0.0436873
Ping SERVING : 103003
All done 103003 calls (plus 32 warmup) 9.320 ms avg, 3432.6 qps
Successfully wrote 5531 bytes of Json data to /data/2018-12-22-011432_grpc_istio_0qps_30s_echo_0_6.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8080/echo
01:15:02 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
01:15:02 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
01:15:32 I periodic.go:533> T023 ended after 30.000097649s : 29631 calls. qps=987.6967850798877
01:15:32 I periodic.go:533> T022 ended after 30.000558875s : 29165 calls. qps=972.1485563491857
01:15:32 I periodic.go:533> T010 ended after 30.002756461s : 29195 calls. qps=973.0772583495791
01:15:32 I periodic.go:533> T008 ended after 30.002786752s : 29370 calls. qps=978.9090674399498
01:15:32 I periodic.go:533> T026 ended after 30.002835067s : 29398 calls. qps=979.8407361954519
01:15:32 I periodic.go:533> T001 ended after 30.002845823s : 29222 calls. qps=973.9742747202531
01:15:32 I periodic.go:533> T020 ended after 30.002854761s : 29183 calls. qps=972.6741082630008
01:15:32 I periodic.go:533> T012 ended after 30.002863451s : 29080 calls. qps=969.2408208800737
01:15:32 I periodic.go:533> T014 ended after 30.002893583s : 29220 calls. qps=973.9060640656475
01:15:32 I periodic.go:533> T006 ended after 30.002905253s : 28974 calls. qps=965.7064792784652
01:15:32 I periodic.go:533> T007 ended after 30.002914019s : 29259 calls. qps=975.2052744433792
01:15:32 I periodic.go:533> T025 ended after 30.002923367s : 29493 calls. qps=983.0042105976626
01:15:32 I periodic.go:533> T021 ended after 30.00293249s : 29131 calls. qps=970.9384244259919
01:15:32 I periodic.go:533> T011 ended after 30.002941732s : 29143 calls. qps=971.3380861223078
01:15:32 I periodic.go:533> T024 ended after 30.00295084s : 29328 calls. qps=977.503851417836
01:15:32 I periodic.go:533> T030 ended after 30.00295911s : 29390 calls. qps=979.5700448161562
01:15:32 I periodic.go:533> T031 ended after 30.002982063s : 29403 calls. qps=980.0025856849775
01:15:32 I periodic.go:533> T017 ended after 30.002991392s : 29098 calls. qps=969.836627948995
01:15:32 I periodic.go:533> T028 ended after 30.003000336s : 29082 calls. qps=969.303058837922
01:15:32 I periodic.go:533> T004 ended after 30.003008845s : 29346 calls. qps=978.1019014328127
01:15:32 I periodic.go:533> T019 ended after 30.003017678s : 29198 calls. qps=973.1687763331124
01:15:32 I periodic.go:533> T029 ended after 30.003026846s : 29100 calls. qps=969.902141852718
01:15:32 I periodic.go:533> T009 ended after 30.003035059s : 28831 calls. qps=960.9361167396822
01:15:32 I periodic.go:533> T002 ended after 30.004271949s : 29387 calls. qps=979.4271978987122
01:15:32 I periodic.go:533> T016 ended after 30.004296224s : 29277 calls. qps=975.7602638445408
01:15:32 I periodic.go:533> T005 ended after 30.004307849s : 29118 calls. qps=970.4606467357806
01:15:32 I periodic.go:533> T015 ended after 30.00431828s : 29178 calls. qps=972.460021511277
01:15:32 I periodic.go:533> T003 ended after 30.004343253s : 28981 calls. qps=965.8934960058598
01:15:32 I periodic.go:533> T018 ended after 30.004352651s : 29214 calls. qps=973.6587334446738
01:15:32 I periodic.go:533> T000 ended after 30.004362195s : 29317 calls. qps=977.0912579133396
01:15:32 I periodic.go:533> T013 ended after 30.004371157s : 29176 calls. qps=972.3916507809648
01:15:32 I periodic.go:533> T027 ended after 30.004382641s : 29111 calls. qps=970.2249284149835
Ended after 30.004414433s : 934999 calls. qps=31162
Aggregated Function Time : count 934999 avg 0.0010264071 +/- 0.000714 min 6.9491e-05 max 0.036452405 sum 959.689626
# range, mid point, percentile, count
>= 6.9491e-05 <= 0.0001 , 8.47455e-05 , 0.54, 5055
> 0.0001 <= 0.0002 , 0.00015 , 4.98, 41509
> 0.0002 <= 0.0003 , 0.00025 , 10.21, 48882
> 0.0003 <= 0.0004 , 0.00035 , 15.79, 52147
> 0.0004 <= 0.0005 , 0.00045 , 21.71, 55422
> 0.0005 <= 0.0006 , 0.00055 , 27.74, 56320
> 0.0006 <= 0.0007 , 0.00065 , 33.77, 56422
> 0.0007 <= 0.0008 , 0.00075 , 39.90, 57311
> 0.0008 <= 0.0009 , 0.00085 , 46.03, 57266
> 0.0009 <= 0.001 , 0.00095 , 52.17, 57471
> 0.001 <= 0.0011 , 0.00105 , 58.28, 57081
> 0.0011 <= 0.0012 , 0.00115 , 64.22, 55608
> 0.0012 <= 0.0014 , 0.0013 , 75.75, 107761
> 0.0014 <= 0.0016 , 0.0015 , 86.27, 98343
> 0.0016 <= 0.0018 , 0.0017 , 93.28, 65597
> 0.0018 <= 0.002 , 0.0019 , 95.54, 21118
> 0.002 <= 0.0025 , 0.00225 , 97.90, 22023
> 0.0025 <= 0.003 , 0.00275 , 98.86, 9029
> 0.003 <= 0.0035 , 0.00325 , 99.14, 2636
> 0.0035 <= 0.004 , 0.00375 , 99.36, 1968
> 0.004 <= 0.0045 , 0.00425 , 99.52, 1545
> 0.0045 <= 0.005 , 0.00475 , 99.73, 1961
> 0.005 <= 0.006 , 0.0055 , 99.93, 1825
> 0.006 <= 0.007 , 0.0065 , 99.97, 383
> 0.007 <= 0.008 , 0.0075 , 99.98, 124
> 0.008 <= 0.009 , 0.0085 , 99.98, 33
> 0.01 <= 0.012 , 0.011 , 99.99, 25
> 0.012 <= 0.014 , 0.013 , 99.99, 39
> 0.014 <= 0.016 , 0.015 , 99.99, 4
> 0.016 <= 0.018 , 0.017 , 99.99, 27
> 0.03 <= 0.035 , 0.0325 , 100.00, 46
> 0.035 <= 0.0364524 , 0.0357262 , 100.00, 18
# target 50% 0.000964668
# target 75% 0.001387
# target 90% 0.00170641
# target 99% 0.00324355
# target 99.9% 0.00587069
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 934999 (100.0 %)
Response Header Sizes : count 934999 avg 75 +/- 0 min 75 max 75 sum 70124925
Response Body/Total Sizes : count 934999 avg 75 +/- 0 min 75 max 75 sum 70124925
All done 934999 calls (plus 32 warmup) 1.026 ms avg, 31162.0 qps
Successfully wrote 5840 bytes of Json data to /data/2018-12-22-011502_http_baseline_0qps_30s_echo_0_7.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8080/echo
01:15:32 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 32 threads at -1.0 qps
01:15:32 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
01:16:02 I periodic.go:533> T017 ended after 30.000102848s : 2385 calls. qps=79.49972745373437
01:16:02 I periodic.go:533> T026 ended after 30.000487247s : 2437 calls. qps=81.23201399816251
01:16:02 I periodic.go:533> T016 ended after 30.003729088s : 2521 calls. qps=84.0228890417583
01:16:02 I periodic.go:533> T007 ended after 30.003772474s : 2401 calls. qps=80.02327047642441
01:16:02 I periodic.go:533> T031 ended after 30.003786096s : 2389 calls. qps=79.62328462001977
01:16:02 I periodic.go:533> T001 ended after 30.003813702s : 2362 calls. qps=78.72332575650387
01:16:02 I periodic.go:533> T010 ended after 30.003827224s : 2480 calls. qps=82.65612188355269
01:16:02 I periodic.go:533> T015 ended after 30.003838501s : 2519 calls. qps=83.95592450332794
01:16:02 I periodic.go:533> T008 ended after 30.003850242s : 2432 calls. qps=81.0562637922928
01:16:02 I periodic.go:533> T014 ended after 30.003861102s : 2367 calls. qps=78.88984660851601
01:16:02 I periodic.go:533> T019 ended after 30.003873428s : 2383 calls. qps=79.42307868077306
01:16:02 I periodic.go:533> T009 ended after 30.003899152s : 2373 calls. qps=79.08972057192842
01:16:02 I periodic.go:533> T024 ended after 30.003911346s : 2489 calls. qps=82.95585103212963
01:16:02 I periodic.go:533> T023 ended after 30.003923579s : 2418 calls. qps=80.5894600295669
01:16:02 I periodic.go:533> T012 ended after 30.003934632s : 2450 calls. qps=81.65595712860303
01:16:02 I periodic.go:533> T013 ended after 30.00394857s : 2510 calls. qps=83.65565599288054
01:16:02 I periodic.go:533> T011 ended after 30.003986474s : 2400 calls. qps=79.98937081509897
01:16:02 I periodic.go:533> T018 ended after 30.004977615s : 2470 calls. qps=82.31967481172873
01:16:02 I periodic.go:533> T020 ended after 30.005006442s : 2572 calls. qps=85.71902842186365
01:16:02 I periodic.go:533> T006 ended after 30.005019442s : 2415 calls. qps=80.48653341712439
01:16:02 I periodic.go:533> T030 ended after 30.005031901s : 2647 calls. qps=88.21853643527643
01:16:02 I periodic.go:533> T025 ended after 30.005354504s : 2340 calls. qps=77.98608077395171
01:16:02 I periodic.go:533> T021 ended after 30.005454053s : 2518 calls. qps=83.91807687870151
01:16:02 I periodic.go:533> T029 ended after 30.005659703s : 2388 calls. qps=79.58498575391246
01:16:02 I periodic.go:533> T028 ended after 30.005868415s : 2332 calls. qps=77.71813059188875
01:16:02 I periodic.go:533> T003 ended after 30.006060269s : 2342 calls. qps=78.05089968507389
01:16:02 I periodic.go:533> T004 ended after 30.006313279s : 2423 calls. qps=80.74967349273605
01:16:02 I periodic.go:533> T002 ended after 30.006519563s : 2460 calls. qps=81.98218373294252
01:16:02 I periodic.go:533> T000 ended after 30.006729174s : 2457 calls. qps=81.88163347469815
01:16:02 I periodic.go:533> T005 ended after 30.006935711s : 2591 calls. qps=86.34670414047596
01:16:02 I periodic.go:533> T027 ended after 30.007139795s : 2371 calls. qps=79.01452841550305
01:16:02 I periodic.go:533> T022 ended after 30.007406502s : 2487 calls. qps=82.87953841776499
Ended after 30.007431669s : 78129 calls. qps=2603.7
Aggregated Function Time : count 78129 avg 0.012286831 +/- 0.0148 min 0.000371928 max 0.093677025 sum 959.957833
# range, mid point, percentile, count
>= 0.000371928 <= 0.0004 , 0.000385964 , 0.06, 44
> 0.0004 <= 0.0005 , 0.00045 , 2.19, 1669
> 0.0005 <= 0.0006 , 0.00055 , 11.95, 7627
> 0.0006 <= 0.0007 , 0.00065 , 40.81, 22548
> 0.0007 <= 0.0008 , 0.00075 , 51.81, 8593
> 0.0008 <= 0.0009 , 0.00085 , 53.46, 1290
> 0.0009 <= 0.001 , 0.00095 , 54.05, 460
> 0.001 <= 0.0011 , 0.00105 , 54.31, 203
> 0.0011 <= 0.0012 , 0.00115 , 54.46, 118
> 0.0012 <= 0.0014 , 0.0013 , 54.65, 148
> 0.0014 <= 0.0016 , 0.0015 , 54.88, 180
> 0.0016 <= 0.0018 , 0.0017 , 55.39, 395
> 0.0018 <= 0.002 , 0.0019 , 55.67, 216
> 0.002 <= 0.0025 , 0.00225 , 55.82, 123
> 0.0025 <= 0.003 , 0.00275 , 55.97, 114
> 0.003 <= 0.0035 , 0.00325 , 56.02, 43
> 0.0035 <= 0.004 , 0.00375 , 56.13, 83
> 0.004 <= 0.0045 , 0.00425 , 56.22, 69
> 0.0045 <= 0.005 , 0.00475 , 56.31, 75
> 0.005 <= 0.006 , 0.0055 , 56.48, 127
> 0.006 <= 0.007 , 0.0065 , 56.59, 90
> 0.007 <= 0.008 , 0.0075 , 56.73, 105
> 0.008 <= 0.009 , 0.0085 , 56.93, 161
> 0.009 <= 0.01 , 0.0095 , 57.21, 215
> 0.01 <= 0.012 , 0.011 , 58.11, 702
> 0.012 <= 0.014 , 0.013 , 59.46, 1055
> 0.014 <= 0.016 , 0.015 , 61.38, 1506
> 0.016 <= 0.018 , 0.017 , 63.97, 2024
> 0.018 <= 0.02 , 0.019 , 67.04, 2392
> 0.02 <= 0.025 , 0.0225 , 75.82, 6865
> 0.025 <= 0.03 , 0.0275 , 84.97, 7144
> 0.03 <= 0.035 , 0.0325 , 92.03, 5516
> 0.035 <= 0.04 , 0.0375 , 95.71, 2880
> 0.04 <= 0.045 , 0.0425 , 97.44, 1345
> 0.045 <= 0.05 , 0.0475 , 98.54, 862
> 0.05 <= 0.06 , 0.055 , 99.62, 845
> 0.06 <= 0.07 , 0.065 , 99.93, 245
> 0.07 <= 0.08 , 0.075 , 99.99, 46
> 0.08 <= 0.09 , 0.085 , 100.00, 5
> 0.09 <= 0.093677 , 0.0918385 , 100.00, 1
# target 50% 0.000783516
# target 75% 0.0245315
# target 90% 0.0335643
# target 99% 0.0542688
# target 99.9% 0.0689335
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 78129 (100.0 %)
Response Header Sizes : count 78129 avg 209.42434 +/- 0.4942 min 209 max 210 sum 16362114
Response Body/Total Sizes : count 78129 avg 209.42434 +/- 0.4942 min 209 max 210 sum 16362114
All done 78129 calls (plus 32 warmup) 12.287 ms avg, 2603.7 qps
Successfully wrote 6938 bytes of Json data to /data/2018-12-22-011532_http_istio_0qps_30s_echo_0_7.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8079
01:16:02 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
01:16:32 I periodic.go:533> T017 ended after 30.00034779s : 15937 calls. qps=531.2271748166957
01:16:32 I periodic.go:533> T009 ended after 30.000789333s : 15970 calls. qps=532.3193274262775
01:16:32 I periodic.go:533> T029 ended after 30.004045426s : 15977 calls. qps=532.4948610481416
01:16:32 I periodic.go:533> T030 ended after 30.004112343s : 15933 calls. qps=531.0272077993066
01:16:32 I periodic.go:533> T010 ended after 30.004186812s : 15983 calls. qps=532.6923239128645
01:16:32 I periodic.go:533> T023 ended after 30.004214059s : 15980 calls. qps=532.5918542167803
01:16:32 I periodic.go:533> T015 ended after 30.004235772s : 15970 calls. qps=532.2581825231232
01:16:32 I periodic.go:533> T031 ended after 30.004274707s : 15980 calls. qps=532.5907776824835
01:16:32 I periodic.go:533> T028 ended after 30.004299124s : 15973 calls. qps=532.3570443684662
01:16:32 I periodic.go:533> T014 ended after 30.004322565s : 15951 calls. qps=531.6234007764874
01:16:32 I periodic.go:533> T027 ended after 30.004345576s : 15978 calls. qps=532.522862714278
01:16:32 I periodic.go:533> T004 ended after 30.004367882s : 15981 calls. qps=532.6224522659318
01:16:32 I periodic.go:533> T012 ended after 30.004390586s : 15995 calls. qps=533.0886476149008
01:16:32 I periodic.go:533> T000 ended after 30.004412926s : 15927 calls. qps=530.8219174053104
01:16:32 I periodic.go:533> T005 ended after 30.004436776s : 16001 calls. qps=533.2877973833159
01:16:32 I periodic.go:533> T025 ended after 30.004460146s : 15986 calls. qps=532.787456338592
01:16:32 I periodic.go:533> T024 ended after 30.004482099s : 15964 calls. qps=532.0538427334512
01:16:32 I periodic.go:533> T022 ended after 30.004504401s : 15948 calls. qps=531.520193996888
01:16:32 I periodic.go:533> T007 ended after 30.004525623s : 15957 calls. qps=531.819772806811
01:16:32 I periodic.go:533> T006 ended after 30.004547437s : 15922 calls. qps=530.6528963128384
01:16:32 I periodic.go:533> T019 ended after 30.004570117s : 15974 calls. qps=532.3855645227006
01:16:32 I periodic.go:533> T003 ended after 30.004594534s : 15906 calls. qps=530.1188117031863
01:16:32 I periodic.go:533> T011 ended after 30.004617893s : 15954 calls. qps=531.718152748815
01:16:32 I periodic.go:533> T021 ended after 30.004646476s : 16000 calls. qps=533.2507421074938
01:16:32 I periodic.go:533> T020 ended after 30.00475517s : 15952 calls. qps=531.6490639440202
01:16:32 I periodic.go:533> T008 ended after 30.004794915s : 15975 calls. qps=532.4149038597086
01:16:32 I periodic.go:533> T013 ended after 30.004827933s : 15978 calls. qps=532.5143018876315
01:16:32 I periodic.go:533> T018 ended after 30.004850691s : 15952 calls. qps=531.6473714293411
01:16:32 I periodic.go:533> T002 ended after 30.004873297s : 15969 calls. qps=532.2135455108435
01:16:32 I periodic.go:533> T016 ended after 30.004897499s : 15974 calls. qps=532.3797556892964
01:16:32 I periodic.go:533> T001 ended after 30.004919548s : 15949 calls. qps=531.5461677704479
01:16:32 I periodic.go:533> T026 ended after 30.004945214s : 15943 calls. qps=531.3457460525927
Ended after 30.004961413s : 510839 calls. qps=17025
Aggregated Function Time : count 510839 avg 0.0018789795 +/- 0.001041 min 0.000272153 max 0.038566595 sum 959.855987
# range, mid point, percentile, count
>= 0.000272153 <= 0.0003 , 0.000286077 , 0.00, 1
> 0.0003 <= 0.0004 , 0.00035 , 0.00, 3
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 42
> 0.0005 <= 0.0006 , 0.00055 , 0.16, 794
> 0.0006 <= 0.0007 , 0.00065 , 0.71, 2763
> 0.0007 <= 0.0008 , 0.00075 , 1.57, 4396
> 0.0008 <= 0.0009 , 0.00085 , 2.71, 5870
> 0.0009 <= 0.001 , 0.00095 , 4.25, 7857
> 0.001 <= 0.0011 , 0.00105 , 6.99, 13968
> 0.0011 <= 0.0012 , 0.00115 , 12.75, 29442
> 0.0012 <= 0.0014 , 0.0013 , 29.03, 83168
> 0.0014 <= 0.0016 , 0.0015 , 50.42, 109268
> 0.0016 <= 0.0018 , 0.0017 , 66.78, 83558
> 0.0018 <= 0.002 , 0.0019 , 75.86, 46401
> 0.002 <= 0.0025 , 0.00225 , 85.44, 48912
> 0.0025 <= 0.003 , 0.00275 , 89.61, 21313
> 0.003 <= 0.0035 , 0.00325 , 92.30, 13748
> 0.0035 <= 0.004 , 0.00375 , 95.06, 14075
> 0.004 <= 0.0045 , 0.00425 , 97.24, 11153
> 0.0045 <= 0.005 , 0.00475 , 98.43, 6074
> 0.005 <= 0.006 , 0.0055 , 99.39, 4919
> 0.006 <= 0.007 , 0.0065 , 99.69, 1507
> 0.007 <= 0.008 , 0.0075 , 99.81, 638
> 0.008 <= 0.009 , 0.0085 , 99.88, 363
> 0.009 <= 0.01 , 0.0095 , 99.92, 203
> 0.01 <= 0.012 , 0.011 , 99.96, 177
> 0.012 <= 0.014 , 0.013 , 99.97, 70
> 0.014 <= 0.016 , 0.015 , 99.97, 16
> 0.016 <= 0.018 , 0.017 , 99.98, 37
> 0.018 <= 0.02 , 0.019 , 99.99, 38
> 0.02 <= 0.025 , 0.0225 , 99.99, 1
> 0.025 <= 0.03 , 0.0275 , 99.99, 20
> 0.03 <= 0.035 , 0.0325 , 100.00, 20
> 0.035 <= 0.0385666 , 0.0367833 , 100.00, 24
# target 50% 0.00159606
# target 75% 0.00198103
# target 90% 0.00307271
# target 99% 0.00559455
# target 99.9% 0.00946877
Ping SERVING : 510839
All done 510839 calls (plus 32 warmup) 1.879 ms avg, 17025.2 qps
Successfully wrote 5575 bytes of Json data to /data/2018-12-22-011602_grpc_baseline_0qps_30s_echo_0_7.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8079
01:16:32 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
01:17:02 I periodic.go:533> T016 ended after 30.000199082s : 3227 calls. qps=107.56595285183248
01:17:02 I periodic.go:533> T014 ended after 30.00060913s : 3221 calls. qps=107.3644867023405
01:17:02 I periodic.go:533> T012 ended after 30.004276154s : 3185 calls. qps=106.15153598949242
01:17:02 I periodic.go:533> T019 ended after 30.004310226s : 3200 calls. qps=106.6513436201931
01:17:02 I periodic.go:533> T030 ended after 30.004373011s : 3197 calls. qps=106.55113502381595
01:17:02 I periodic.go:533> T008 ended after 30.00438473s : 3220 calls. qps=107.31764803630419
01:17:02 I periodic.go:533> T004 ended after 30.004395113s : 3212 calls. qps=107.05098329438866
01:17:02 I periodic.go:533> T024 ended after 30.004404932s : 3212 calls. qps=107.05094826174572
01:17:02 I periodic.go:533> T001 ended after 30.004449859s : 3247 calls. qps=108.21728161184879
01:17:02 I periodic.go:533> T006 ended after 30.004463355s : 3241 calls. qps=108.01726268701665
01:17:02 I periodic.go:533> T026 ended after 30.004472837s : 3186 calls. qps=106.18416851740803
01:17:02 I periodic.go:533> T002 ended after 30.00448272s : 3171 calls. qps=105.68420824286753
01:17:02 I periodic.go:533> T028 ended after 30.004491968s : 3218 calls. qps=107.25060779006088
01:17:02 I periodic.go:533> T010 ended after 30.00450154s : 3194 calls. qps=106.45069359815801
01:17:02 I periodic.go:533> T027 ended after 30.005150473s : 3242 calls. qps=108.048116703074
01:17:02 I periodic.go:533> T018 ended after 30.005163245s : 3212 calls. qps=107.04824278985522
01:17:02 I periodic.go:533> T007 ended after 30.00517198s : 3242 calls. qps=108.04803925673083
01:17:02 I periodic.go:533> T009 ended after 30.005181034s : 3261 calls. qps=108.68123062829844
01:17:02 I periodic.go:533> T031 ended after 30.005210103s : 3271 calls. qps=109.01440079144645
01:17:02 I periodic.go:533> T029 ended after 30.005218851s : 3245 calls. qps=108.14785308229312
01:17:02 I periodic.go:533> T011 ended after 30.005227671s : 3253 calls. qps=108.41444149893982
01:17:02 I periodic.go:533> T003 ended after 30.005236151s : 3252 calls. qps=108.3810833427358
01:17:02 I periodic.go:533> T025 ended after 30.00524471s : 3228 calls. qps=107.58119226150447
01:17:02 I periodic.go:533> T020 ended after 30.005253478s : 3226 calls. qps=107.51450583029799
01:17:02 I periodic.go:533> T000 ended after 30.005261675s : 3230 calls. qps=107.64778641111451
01:17:02 I periodic.go:533> T013 ended after 30.00527062s : 3232 calls. qps=107.71440927600605
01:17:02 I periodic.go:533> T015 ended after 30.005279307s : 3206 calls. qps=106.84786391080402
01:17:02 I periodic.go:533> T023 ended after 30.005290273s : 3239 calls. qps=107.94763091875788
01:17:02 I periodic.go:533> T021 ended after 30.005298454s : 3218 calls. qps=107.24772509539925
01:17:02 I periodic.go:533> T005 ended after 30.005307735s : 3219 calls. qps=107.28101935929037
01:17:02 I periodic.go:533> T022 ended after 30.005316465s : 3200 calls. qps=106.64776702930868
01:17:02 I periodic.go:533> T017 ended after 30.005379086s : 3194 calls. qps=106.44758031036729
Ended after 30.006287657s : 103101 calls. qps=3436
Aggregated Function Time : count 103101 avg 0.0093107179 +/- 0.004687 min 0.000747162 max 0.059362541 sum 959.944331
# range, mid point, percentile, count
>= 0.000747162 <= 0.0008 , 0.000773581 , 0.00, 2
> 0.0008 <= 0.0009 , 0.00085 , 0.00, 3
> 0.0009 <= 0.001 , 0.00095 , 0.02, 17
> 0.001 <= 0.0011 , 0.00105 , 0.03, 10
> 0.0011 <= 0.0012 , 0.00115 , 0.05, 20
> 0.0012 <= 0.0014 , 0.0013 , 0.18, 135
> 0.0014 <= 0.0016 , 0.0015 , 0.29, 117
> 0.0016 <= 0.0018 , 0.0017 , 0.34, 46
> 0.0018 <= 0.002 , 0.0019 , 0.45, 115
> 0.002 <= 0.0025 , 0.00225 , 0.80, 363
> 0.0025 <= 0.003 , 0.00275 , 2.24, 1486
> 0.003 <= 0.0035 , 0.00325 , 2.82, 594
> 0.0035 <= 0.004 , 0.00375 , 3.58, 788
> 0.004 <= 0.0045 , 0.00425 , 5.10, 1560
> 0.0045 <= 0.005 , 0.00475 , 8.70, 3711
> 0.005 <= 0.006 , 0.0055 , 19.49, 11129
> 0.006 <= 0.007 , 0.0065 , 26.01, 6718
> 0.007 <= 0.008 , 0.0075 , 37.31, 11652
> 0.008 <= 0.009 , 0.0085 , 55.34, 18593
> 0.009 <= 0.01 , 0.0095 , 69.69, 14795
> 0.01 <= 0.012 , 0.011 , 87.13, 17982
> 0.012 <= 0.014 , 0.013 , 92.74, 5777
> 0.014 <= 0.016 , 0.015 , 94.54, 1856
> 0.016 <= 0.018 , 0.017 , 95.45, 940
> 0.018 <= 0.02 , 0.019 , 96.16, 738
> 0.02 <= 0.025 , 0.0225 , 97.54, 1422
> 0.025 <= 0.03 , 0.0275 , 99.01, 1515
> 0.03 <= 0.035 , 0.0325 , 99.70, 710
> 0.035 <= 0.04 , 0.0375 , 99.86, 164
> 0.04 <= 0.045 , 0.0425 , 99.95, 90
> 0.045 <= 0.05 , 0.0475 , 99.97, 22
> 0.05 <= 0.0593625 , 0.0546813 , 100.00, 31
# target 50% 0.00870373
# target 75% 0.0106086
# target 90% 0.013023
# target 99% 0.0299538
# target 99.9% 0.0422166
Ping SERVING : 103101
All done 103101 calls (plus 32 warmup) 9.311 ms avg, 3436.0 qps
Successfully wrote 5260 bytes of Json data to /data/2018-12-22-011632_grpc_istio_0qps_30s_echo_0_7.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8080/echo
01:17:03 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
01:17:03 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
01:17:33 I periodic.go:533> T017 ended after 30.000005613s : 28697 calls. qps=956.5664876930769
01:17:33 I periodic.go:533> T010 ended after 30.003831551s : 28625 calls. qps=954.0448176208333
01:17:33 I periodic.go:533> T024 ended after 30.003895357s : 29293 calls. qps=976.3065645796506
01:17:33 I periodic.go:533> T018 ended after 30.003907328s : 28836 calls. qps=961.0748255141391
01:17:33 I periodic.go:533> T009 ended after 30.003932132s : 28736 calls. qps=957.7411345145754
01:17:33 I periodic.go:533> T004 ended after 30.003943286s : 28766 calls. qps=958.740647047629
01:17:33 I periodic.go:533> T013 ended after 30.003959931s : 29286 calls. qps=976.0711608517312
01:17:33 I periodic.go:533> T023 ended after 30.003969975s : 28645 calls. qps=954.7069945699744
01:17:33 I periodic.go:533> T014 ended after 30.003980017s : 29220 calls. qps=973.8707992554387
01:17:33 I periodic.go:533> T031 ended after 30.003991222s : 29432 calls. qps=980.9361622002943
01:17:33 I periodic.go:533> T007 ended after 30.004013761s : 28796 calls. qps=959.7382613332151
01:17:33 I periodic.go:533> T012 ended after 30.00402345s : 28894 calls. qps=963.0041800277289
01:17:33 I periodic.go:533> T003 ended after 30.004033846s : 29413 calls. qps=980.3015204877596
01:17:33 I periodic.go:533> T016 ended after 30.0040441s : 29366 calls. qps=978.7347299626185
01:17:33 I periodic.go:533> T030 ended after 30.004053641s : 28856 calls. qps=961.7367154872966
01:17:33 I periodic.go:533> T028 ended after 30.004063516s : 29319 calls. qps=977.1676421217186
01:17:33 I periodic.go:533> T022 ended after 30.004073763s : 29308 calls. qps=976.8006915161509
01:17:33 I periodic.go:533> T011 ended after 30.004096843s : 29178 calls. qps=972.4671984855052
01:17:33 I periodic.go:533> T020 ended after 30.004107435s : 28820 calls. qps=960.5351554761222
01:17:33 I periodic.go:533> T001 ended after 30.004117274s : 28742 calls. qps=957.9351972772855
01:17:33 I periodic.go:533> T027 ended after 30.004128558s : 28595 calls. qps=953.0355112538576
01:17:33 I periodic.go:533> T000 ended after 30.00413931s : 29128 calls. qps=970.7993853465414
01:17:33 I periodic.go:533> T019 ended after 30.004149468s : 29187 calls. qps=972.7654513629354
01:17:33 I periodic.go:533> T015 ended after 30.004172988s : 28730 calls. qps=957.5334741434267
01:17:33 I periodic.go:533> T029 ended after 30.004183732s : 28563 calls. qps=951.9672408063896
01:17:33 I periodic.go:533> T002 ended after 30.004195151s : 28889 calls. qps=962.8320258088032
01:17:33 I periodic.go:533> T005 ended after 30.00420528s : 29232 calls. qps=974.2634316492051
01:17:33 I periodic.go:533> T026 ended after 30.004216197s : 29341 calls. qps=977.8958999413451
01:17:33 I periodic.go:533> T008 ended after 30.004226381s : 29201 calls. qps=973.2295587028153
01:17:33 I periodic.go:533> T021 ended after 30.004237015s : 29185 calls. qps=972.6959557548342
01:17:33 I periodic.go:533> T025 ended after 30.004261524s : 28672 calls. qps=955.5975899312056
01:17:33 I periodic.go:533> T006 ended after 30.004272069s : 29357 calls. qps=978.4273363635857
Ended after 30.004287899s : 928308 calls. qps=30939
Aggregated Function Time : count 928308 avg 0.0010338404 +/- 0.0007316 min 7.2878e-05 max 0.042156008 sum 959.722321
# range, mid point, percentile, count
>= 7.2878e-05 <= 0.0001 , 8.6439e-05 , 0.50, 4597
> 0.0001 <= 0.0002 , 0.00015 , 4.84, 40366
> 0.0002 <= 0.0003 , 0.00025 , 10.02, 48014
> 0.0003 <= 0.0004 , 0.00035 , 15.57, 51524
> 0.0004 <= 0.0005 , 0.00045 , 21.53, 55330
> 0.0005 <= 0.0006 , 0.00055 , 27.55, 55953
> 0.0006 <= 0.0007 , 0.00065 , 33.59, 56074
> 0.0007 <= 0.0008 , 0.00075 , 39.69, 56555
> 0.0008 <= 0.0009 , 0.00085 , 45.82, 56912
> 0.0009 <= 0.001 , 0.00095 , 52.05, 57875
> 0.001 <= 0.0011 , 0.00105 , 58.15, 56617
> 0.0011 <= 0.0012 , 0.00115 , 64.11, 55306
> 0.0012 <= 0.0014 , 0.0013 , 75.58, 106533
> 0.0014 <= 0.0016 , 0.0015 , 86.00, 96710
> 0.0016 <= 0.0018 , 0.0017 , 92.84, 63472
> 0.0018 <= 0.002 , 0.0019 , 95.05, 20501
> 0.002 <= 0.0025 , 0.00225 , 97.65, 24128
> 0.0025 <= 0.003 , 0.00275 , 98.73, 10089
> 0.003 <= 0.0035 , 0.00325 , 99.10, 3392
> 0.0035 <= 0.004 , 0.00375 , 99.34, 2195
> 0.004 <= 0.0045 , 0.00425 , 99.55, 2009
> 0.0045 <= 0.005 , 0.00475 , 99.74, 1701
> 0.005 <= 0.006 , 0.0055 , 99.92, 1741
> 0.006 <= 0.007 , 0.0065 , 99.97, 422
> 0.007 <= 0.008 , 0.0075 , 99.98, 93
> 0.008 <= 0.009 , 0.0085 , 99.98, 26
> 0.009 <= 0.01 , 0.0095 , 99.98, 11
> 0.01 <= 0.012 , 0.011 , 99.99, 43
> 0.012 <= 0.014 , 0.013 , 99.99, 44
> 0.014 <= 0.016 , 0.015 , 99.99, 11
> 0.03 <= 0.035 , 0.0325 , 100.00, 32
> 0.04 <= 0.042156 , 0.041078 , 100.00, 32
# target 50% 0.000967091
# target 75% 0.00138982
# target 90% 0.00171694
# target 99% 0.00336393
# target 99.9% 0.00587691
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 928308 (100.0 %)
Response Header Sizes : count 928308 avg 75 +/- 0 min 75 max 75 sum 69623100
Response Body/Total Sizes : count 928308 avg 75 +/- 0 min 75 max 75 sum 69623100
All done 928308 calls (plus 32 warmup) 1.034 ms avg, 30939.2 qps
Successfully wrote 5845 bytes of Json data to /data/2018-12-22-011703_http_baseline_0qps_30s_echo_0_8.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8080/echo
01:17:33 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 32 threads at -1.0 qps
01:17:33 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
01:18:03 I periodic.go:533> T019 ended after 30.000232883s : 2508 calls. qps=83.59935103774441
01:18:03 I periodic.go:533> T027 ended after 30.000580066s : 2428 calls. qps=80.93176847442626
01:18:03 I periodic.go:533> T023 ended after 30.002726162s : 2808 calls. qps=93.59149514741354
01:18:03 I periodic.go:533> T014 ended after 30.002774764s : 2369 calls. qps=78.9593635466856
01:18:03 I periodic.go:533> T000 ended after 30.002788339s : 2541 calls. qps=84.69212832118697
01:18:03 I periodic.go:533> T024 ended after 30.002800549s : 2464 calls. qps=82.12566676820194
01:18:03 I periodic.go:533> T021 ended after 30.002841993s : 2414 calls. qps=80.45904453195512
01:18:03 I periodic.go:533> T008 ended after 30.002855454s : 2401 calls. qps=80.02571634160566
01:18:03 I periodic.go:533> T003 ended after 30.002867724s : 2574 calls. qps=85.79179909329123
01:18:03 I periodic.go:533> T017 ended after 30.002878947s : 2349 calls. qps=78.29248666934603
01:18:03 I periodic.go:533> T028 ended after 30.002890759s : 2514 calls. qps=83.79192592453354
01:18:03 I periodic.go:533> T018 ended after 30.002903552s : 2348 calls. qps=78.2590923551958
01:18:03 I periodic.go:533> T012 ended after 30.005101609s : 2464 calls. qps=82.11936863632968
01:18:03 I periodic.go:533> T002 ended after 30.005132389s : 2524 calls. qps=84.11894229552902
01:18:03 I periodic.go:533> T009 ended after 30.005146884s : 2495 calls. qps=83.15240080795733
01:18:03 I periodic.go:533> T020 ended after 30.005194312s : 2494 calls. qps=83.11894180943773
01:18:03 I periodic.go:533> T029 ended after 30.005207808s : 2579 calls. qps=85.95174599365333
01:18:03 I periodic.go:533> T007 ended after 30.005221056s : 2416 calls. qps=80.51932013734937
01:18:03 I periodic.go:533> T025 ended after 30.00523372s : 2454 calls. qps=81.78573187931163
01:18:03 I periodic.go:533> T001 ended after 30.005246223s : 2491 calls. qps=83.01881549269098
01:18:03 I periodic.go:533> T030 ended after 30.005274659s : 2493 calls. qps=83.08539176301895
01:18:03 I periodic.go:533> T010 ended after 30.005287186s : 2689 calls. qps=89.61753918004976
01:18:03 I periodic.go:533> T031 ended after 30.005297313s : 2590 calls. qps=86.31809153505255
01:18:03 I periodic.go:533> T005 ended after 30.005604815s : 2552 calls. qps=85.05077687100105
01:18:03 I periodic.go:533> T004 ended after 30.005639782s : 2530 calls. qps=84.31748225937561
01:18:03 I periodic.go:533> T011 ended after 30.005886728s : 2505 calls. qps=83.48361848818348
01:18:03 I periodic.go:533> T026 ended after 30.006121844s : 2531 calls. qps=84.34945419333144
01:18:03 I periodic.go:533> T015 ended after 30.006292253s : 2526 calls. qps=84.18234344656338
01:18:03 I periodic.go:533> T006 ended after 30.006510863s : 2359 calls. qps=78.61627134092429
01:18:03 I periodic.go:533> T013 ended after 30.006729076s : 2547 calls. qps=84.88096098541921
01:18:03 I periodic.go:533> T016 ended after 30.006971876s : 2534 calls. qps=84.44704152326443
01:18:03 I periodic.go:533> T022 ended after 30.007174002s : 2460 calls. qps=81.98039574923115
Ended after 30.007199523s : 79951 calls. qps=2664.4
Aggregated Function Time : count 79951 avg 0.012006615 +/- 0.01436 min 0.000365006 max 0.101072264 sum 959.940872
# range, mid point, percentile, count
>= 0.000365006 <= 0.0004 , 0.000382503 , 0.06, 46
> 0.0004 <= 0.0005 , 0.00045 , 2.49, 1946
> 0.0005 <= 0.0006 , 0.00055 , 13.37, 8698
> 0.0006 <= 0.0007 , 0.00065 , 41.56, 22541
> 0.0007 <= 0.0008 , 0.00075 , 51.81, 8194
> 0.0008 <= 0.0009 , 0.00085 , 53.43, 1295
> 0.0009 <= 0.001 , 0.00095 , 53.96, 420
> 0.001 <= 0.0011 , 0.00105 , 54.20, 190
> 0.0011 <= 0.0012 , 0.00115 , 54.34, 119
> 0.0012 <= 0.0014 , 0.0013 , 54.52, 138
> 0.0014 <= 0.0016 , 0.0015 , 54.71, 157
> 0.0016 <= 0.0018 , 0.0017 , 55.05, 268
> 0.0018 <= 0.002 , 0.0019 , 55.23, 147
> 0.002 <= 0.0025 , 0.00225 , 55.38, 114
> 0.0025 <= 0.003 , 0.00275 , 55.49, 92
> 0.003 <= 0.0035 , 0.00325 , 55.54, 43
> 0.0035 <= 0.004 , 0.00375 , 55.63, 67
> 0.004 <= 0.0045 , 0.00425 , 55.72, 75
> 0.0045 <= 0.005 , 0.00475 , 55.83, 85
> 0.005 <= 0.006 , 0.0055 , 55.98, 125
> 0.006 <= 0.007 , 0.0065 , 56.14, 123
> 0.007 <= 0.008 , 0.0075 , 56.34, 159
> 0.008 <= 0.009 , 0.0085 , 56.57, 186
> 0.009 <= 0.01 , 0.0095 , 56.88, 252
> 0.01 <= 0.012 , 0.011 , 57.82, 745
> 0.012 <= 0.014 , 0.013 , 59.38, 1247
> 0.014 <= 0.016 , 0.015 , 61.68, 1838
> 0.016 <= 0.018 , 0.017 , 64.54, 2293
> 0.018 <= 0.02 , 0.019 , 67.87, 2661
> 0.02 <= 0.025 , 0.0225 , 77.23, 7484
> 0.025 <= 0.03 , 0.0275 , 86.37, 7306
> 0.03 <= 0.035 , 0.0325 , 93.08, 5368
> 0.035 <= 0.04 , 0.0375 , 96.42, 2670
> 0.04 <= 0.045 , 0.0425 , 97.96, 1229
> 0.045 <= 0.05 , 0.0475 , 98.89, 744
> 0.05 <= 0.06 , 0.055 , 99.69, 635
> 0.06 <= 0.07 , 0.065 , 99.88, 152
> 0.07 <= 0.08 , 0.075 , 99.95, 57
> 0.08 <= 0.09 , 0.085 , 99.98, 29
> 0.09 <= 0.1 , 0.095 , 100.00, 12
> 0.1 <= 0.101072 , 0.100536 , 100.00, 1
# target 50% 0.00078231
# target 75% 0.0238076
# target 90% 0.032703
# target 99% 0.051362
# target 99.9% 0.0733419
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 79951 (100.0 %)
Response Header Sizes : count 79951 avg 209.42759 +/- 0.4948 min 209 max 211 sum 16743945
Response Body/Total Sizes : count 79951 avg 209.42759 +/- 0.4948 min 209 max 211 sum 16743945
All done 79951 calls (plus 32 warmup) 12.007 ms avg, 2664.4 qps
Successfully wrote 7055 bytes of Json data to /data/2018-12-22-011733_http_istio_0qps_30s_echo_0_8.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8079
01:18:03 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
01:18:33 I periodic.go:533> T016 ended after 30.000028221s : 16112 calls. qps=537.0661614485285
01:18:33 I periodic.go:533> T026 ended after 30.00036827s : 16075 calls. qps=535.8267557026893
01:18:33 I periodic.go:533> T024 ended after 30.002106985s : 16130 calls. qps=537.6289074652135
01:18:33 I periodic.go:533> T001 ended after 30.002166986s : 16085 calls. qps=536.1279406086164
01:18:33 I periodic.go:533> T028 ended after 30.002199144s : 16053 calls. qps=535.0607774767193
01:18:33 I periodic.go:533> T002 ended after 30.002243044s : 16140 calls. qps=537.9597777516091
01:18:33 I periodic.go:533> T031 ended after 30.002265699s : 16065 calls. qps=535.4595603269876
01:18:33 I periodic.go:533> T019 ended after 30.0035696s : 16109 calls. qps=536.9027823942655
01:18:33 I periodic.go:533> T012 ended after 30.003624793s : 16091 calls. qps=536.3018672248598
01:18:33 I periodic.go:533> T018 ended after 30.003679934s : 16053 calls. qps=535.0343702943195
01:18:33 I periodic.go:533> T011 ended after 30.003704828s : 16086 calls. qps=536.1337905507007
01:18:33 I periodic.go:533> T030 ended after 30.00374495s : 16113 calls. qps=537.0329612803885
01:18:33 I periodic.go:533> T000 ended after 30.003769939s : 16125 calls. qps=537.4324637465019
01:18:33 I periodic.go:533> T007 ended after 30.003831581s : 16080 calls. qps=535.931551161709
01:18:33 I periodic.go:533> T025 ended after 30.003857027s : 16114 calls. qps=537.0642842851593
01:18:33 I periodic.go:533> T004 ended after 30.003926092s : 16148 calls. qps=538.1962330691639
01:18:33 I periodic.go:533> T013 ended after 30.003964304s : 16092 calls. qps=536.3291276098033
01:18:33 I periodic.go:533> T017 ended after 30.004382613s : 16099 calls. qps=536.554949576759
01:18:33 I periodic.go:533> T027 ended after 30.004454903s : 16091 calls. qps=536.2870297767396
01:18:33 I periodic.go:533> T009 ended after 30.004497012s : 16106 calls. qps=536.7862022002423
01:18:33 I periodic.go:533> T008 ended after 30.004521587s : 16070 calls. qps=535.5859433853669
01:18:33 I periodic.go:533> T023 ended after 30.00456832s : 16087 calls. qps=536.1516895837814
01:18:33 I periodic.go:533> T020 ended after 30.004592534s : 16093 calls. qps=536.3512262919104
01:18:33 I periodic.go:533> T003 ended after 30.004614245s : 16098 calls. qps=536.517479230135
01:18:33 I periodic.go:533> T022 ended after 30.004655993s : 16134 calls. qps=537.7165465174477
01:18:33 I periodic.go:533> T021 ended after 30.004707708s : 16117 calls. qps=537.1490419719305
01:18:33 I periodic.go:533> T006 ended after 30.004942349s : 16097 calls. qps=536.4782845695579
01:18:33 I periodic.go:533> T005 ended after 30.006534694s : 16094 calls. qps=536.3498372645508
01:18:33 I periodic.go:533> T010 ended after 30.006631128s : 16069 calls. qps=535.5149643908403
01:18:33 I periodic.go:533> T015 ended after 30.006662538s : 16121 calls. qps=537.2473523033293
01:18:33 I periodic.go:533> T029 ended after 30.006714067s : 16068 calls. qps=535.4801583446567
01:18:33 I periodic.go:533> T014 ended after 30.006816922s : 16118 calls. qps=537.1446109028252
Ended after 30.006833831s : 515133 calls. qps=17167
Aggregated Function Time : count 515133 avg 0.0018632832 +/- 0.001013 min 0.000232003 max 0.03612837 sum 959.838653
# range, mid point, percentile, count
>= 0.000232003 <= 0.0003 , 0.000266002 , 0.00, 2
> 0.0003 <= 0.0004 , 0.00035 , 0.00, 5
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 32
> 0.0005 <= 0.0006 , 0.00055 , 0.16, 786
> 0.0006 <= 0.0007 , 0.00065 , 0.73, 2922
> 0.0007 <= 0.0008 , 0.00075 , 1.62, 4617
> 0.0008 <= 0.0009 , 0.00085 , 2.80, 6046
> 0.0009 <= 0.001 , 0.00095 , 4.39, 8197
> 0.001 <= 0.0011 , 0.00105 , 7.14, 14174
> 0.0011 <= 0.0012 , 0.00115 , 12.73, 28780
> 0.0012 <= 0.0014 , 0.0013 , 29.38, 85792
> 0.0014 <= 0.0016 , 0.0015 , 51.05, 111629
> 0.0016 <= 0.0018 , 0.0017 , 67.52, 84858
> 0.0018 <= 0.002 , 0.0019 , 76.47, 46083
> 0.002 <= 0.0025 , 0.00225 , 86.21, 50151
> 0.0025 <= 0.003 , 0.00275 , 90.08, 19935
> 0.003 <= 0.0035 , 0.00325 , 92.53, 12619
> 0.0035 <= 0.004 , 0.00375 , 95.31, 14333
> 0.004 <= 0.0045 , 0.00425 , 97.29, 10226
> 0.0045 <= 0.005 , 0.00475 , 98.46, 6017
> 0.005 <= 0.006 , 0.0055 , 99.39, 4786
> 0.006 <= 0.007 , 0.0065 , 99.68, 1513
> 0.007 <= 0.008 , 0.0075 , 99.83, 734
> 0.008 <= 0.009 , 0.0085 , 99.89, 307
> 0.009 <= 0.01 , 0.0095 , 99.92, 196
> 0.01 <= 0.012 , 0.011 , 99.95, 156
> 0.012 <= 0.014 , 0.013 , 99.97, 92
> 0.014 <= 0.016 , 0.015 , 99.98, 53
> 0.018 <= 0.02 , 0.019 , 99.99, 35
> 0.02 <= 0.025 , 0.0225 , 99.99, 21
> 0.03 <= 0.035 , 0.0325 , 99.99, 1
> 0.035 <= 0.0361284 , 0.0355642 , 100.00, 35
# target 50% 0.0015903
# target 75% 0.00196713
# target 90% 0.00299024
# target 99% 0.00558037
# target 99.9% 0.00937687
Ping SERVING : 515133
All done 515133 calls (plus 32 warmup) 1.863 ms avg, 17167.2 qps
Successfully wrote 5294 bytes of Json data to /data/2018-12-22-011803_grpc_baseline_0qps_30s_echo_0_8.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8079
01:18:33 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
01:19:03 I periodic.go:533> T019 ended after 30.010958022s : 3285 calls. qps=109.46001782388551
01:19:03 I periodic.go:533> T031 ended after 30.015495819s : 3273 calls. qps=109.04367596447199
01:19:03 I periodic.go:533> T005 ended after 30.015555671s : 3261 calls. qps=108.64366582927086
01:19:03 I periodic.go:533> T021 ended after 30.015586406s : 3239 calls. qps=107.9106020514907
01:19:03 I periodic.go:533> T013 ended after 30.015598102s : 3242 calls. qps=108.01050803595278
01:19:03 I periodic.go:533> T011 ended after 30.015610806s : 3242 calls. qps=108.01046232089126
01:19:03 I periodic.go:533> T027 ended after 30.015635687s : 3255 calls. qps=108.443480389448
01:19:03 I periodic.go:533> T000 ended after 30.015648928s : 3240 calls. qps=107.9436932305527
01:19:03 I periodic.go:533> T025 ended after 30.015689986s : 3232 calls. qps=107.67701830301013
01:19:03 I periodic.go:533> T007 ended after 30.01570197s : 3251 calls. qps=108.30997733284065
01:19:03 I periodic.go:533> T015 ended after 30.015713317s : 3223 calls. qps=107.37709165734168
01:19:03 I periodic.go:533> T029 ended after 30.015724391s : 3258 calls. qps=108.54310752456429
01:19:03 I periodic.go:533> T009 ended after 30.015735218s : 3227 calls. qps=107.51027674527244
01:19:03 I periodic.go:533> T017 ended after 30.015745888s : 3239 calls. qps=107.91002869247104
01:19:03 I periodic.go:533> T023 ended after 30.015772383s : 3251 calls. qps=108.3097232520748
01:19:03 I periodic.go:533> T001 ended after 30.016716686s : 3240 calls. qps=107.93985344543556
01:19:03 I periodic.go:533> T024 ended after 30.016737459s : 3236 calls. qps=107.80651975985289
01:19:03 I periodic.go:533> T004 ended after 30.01683089s : 3239 calls. qps=107.90612812757196
01:19:03 I periodic.go:533> T020 ended after 30.017114061s : 3252 calls. qps=108.33819644991087
01:19:03 I periodic.go:533> T026 ended after 30.017130812s : 3254 calls. qps=108.40476461191763
01:19:03 I periodic.go:533> T018 ended after 30.017142499s : 3210 calls. qps=106.93889333759664
01:19:03 I periodic.go:533> T010 ended after 30.017155684s : 3267 calls. qps=108.83776045914318
01:19:03 I periodic.go:533> T030 ended after 30.017182633s : 3241 calls. qps=107.97149218251218
01:19:03 I periodic.go:533> T012 ended after 30.017197868s : 3209 calls. qps=106.90538184515125
01:19:03 I periodic.go:533> T008 ended after 30.017208764s : 3262 calls. qps=108.67099688203375
01:19:03 I periodic.go:533> T002 ended after 30.017220792s : 3240 calls. qps=107.93804071506528
01:19:03 I periodic.go:533> T022 ended after 30.017232241s : 3251 calls. qps=108.30445571725689
01:19:03 I periodic.go:533> T016 ended after 30.017243014s : 3256 calls. qps=108.47098777464026
01:19:03 I periodic.go:533> T014 ended after 30.017279517s : 3231 calls. qps=107.63800224367948
01:19:03 I periodic.go:533> T028 ended after 30.01729213s : 3258 calls. qps=108.53743855009083
01:19:03 I periodic.go:533> T006 ended after 30.017303025s : 3237 calls. qps=107.83780266015421
01:19:03 I periodic.go:533> T003 ended after 30.017320577s : 3267 calls. qps=108.83716258483292
Ended after 30.017387065s : 103868 calls. qps=3460.3
Aggregated Function Time : count 103868 avg 0.0092455786 +/- 0.004856 min 0.000823696 max 0.08596659 sum 960.31976
# range, mid point, percentile, count
>= 0.000823696 <= 0.0009 , 0.000861848 , 0.00, 3
> 0.0009 <= 0.001 , 0.00095 , 0.01, 8
> 0.001 <= 0.0011 , 0.00105 , 0.03, 18
> 0.0011 <= 0.0012 , 0.00115 , 0.05, 28
> 0.0012 <= 0.0014 , 0.0013 , 0.19, 137
> 0.0014 <= 0.0016 , 0.0015 , 0.30, 122
> 0.0016 <= 0.0018 , 0.0017 , 0.34, 42
> 0.0018 <= 0.002 , 0.0019 , 0.43, 86
> 0.002 <= 0.0025 , 0.00225 , 0.80, 391
> 0.0025 <= 0.003 , 0.00275 , 2.17, 1422
> 0.003 <= 0.0035 , 0.00325 , 2.71, 555
> 0.0035 <= 0.004 , 0.00375 , 3.51, 829
> 0.004 <= 0.0045 , 0.00425 , 4.99, 1543
> 0.0045 <= 0.005 , 0.00475 , 8.56, 3708
> 0.005 <= 0.006 , 0.0055 , 19.60, 11467
> 0.006 <= 0.007 , 0.0065 , 26.05, 6695
> 0.007 <= 0.008 , 0.0075 , 37.90, 12307
> 0.008 <= 0.009 , 0.0085 , 55.97, 18770
> 0.009 <= 0.01 , 0.0095 , 70.40, 14993
> 0.01 <= 0.012 , 0.011 , 87.98, 18259
> 0.012 <= 0.014 , 0.013 , 93.55, 5783
> 0.014 <= 0.016 , 0.015 , 95.23, 1752
> 0.016 <= 0.018 , 0.017 , 96.03, 826
> 0.018 <= 0.02 , 0.019 , 96.59, 577
> 0.02 <= 0.025 , 0.0225 , 97.81, 1274
> 0.025 <= 0.03 , 0.0275 , 99.02, 1253
> 0.03 <= 0.035 , 0.0325 , 99.54, 542
> 0.035 <= 0.04 , 0.0375 , 99.70, 168
> 0.04 <= 0.045 , 0.0425 , 99.84, 148
> 0.045 <= 0.05 , 0.0475 , 99.90, 55
> 0.05 <= 0.06 , 0.055 , 99.93, 36
> 0.06 <= 0.07 , 0.065 , 99.98, 55
> 0.08 <= 0.0859666 , 0.0829833 , 100.00, 16
# target 50% 0.00866985
# target 75% 0.0105232
# target 90% 0.0127256
# target 99% 0.0299255
# target 99.9% 0.05087
Ping SERVING : 103868
All done 103868 calls (plus 32 warmup) 9.246 ms avg, 3460.3 qps
Successfully wrote 5408 bytes of Json data to /data/2018-12-22-011833_grpc_istio_0qps_30s_echo_0_8.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8080/echo
01:19:03 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 32 threads at -1.0 qps
01:19:03 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
01:19:33 I periodic.go:533> T017 ended after 30.000077044s : 29816 calls. qps=993.8641142911059
01:19:33 I periodic.go:533> T001 ended after 30.000800423s : 30347 calls. qps=1011.5396780125435
01:19:33 I periodic.go:533> T031 ended after 30.00407812s : 29573 calls. qps=985.6326823881767
01:19:33 I periodic.go:533> T008 ended after 30.004112437s : 30453 calls. qps=1014.9608679124415
01:19:33 I periodic.go:533> T021 ended after 30.004124353s : 30350 calls. qps=1011.5276034364728
01:19:33 I periodic.go:533> T013 ended after 30.00413579s : 30274 calls. qps=1008.9942337246035
01:19:33 I periodic.go:533> T002 ended after 30.00414585s : 30047 calls. qps=1001.4282742863016
01:19:33 I periodic.go:533> T015 ended after 30.004191358s : 30018 calls. qps=1000.4602237679143
01:19:33 I periodic.go:533> T010 ended after 30.004202891s : 30446 calls. qps=1014.7245074500054
01:19:33 I periodic.go:533> T006 ended after 30.004215418s : 29666 calls. qps=988.7277366433951
01:19:33 I periodic.go:533> T028 ended after 30.00422563s : 29979 calls. qps=999.159264087963
01:19:33 I periodic.go:533> T018 ended after 30.004236461s : 30418 calls. qps=1013.7901705826714
01:19:33 I periodic.go:533> T003 ended after 30.004245961s : 30230 calls. qps=1007.5240697364446
01:19:33 I periodic.go:533> T005 ended after 30.004267648s : 30531 calls. qps=1017.555247746069
01:19:33 I periodic.go:533> T011 ended after 30.00427793s : 30265 calls. qps=1008.689496564732
01:19:33 I periodic.go:533> T019 ended after 30.004288204s : 30429 calls. qps=1014.1550365438557
01:19:33 I periodic.go:533> T023 ended after 30.004332202s : 29800 calls. qps=993.1899100228472
01:19:33 I periodic.go:533> T022 ended after 30.004343038s : 29584 calls. qps=985.9905935128245
01:19:33 I periodic.go:533> T027 ended after 30.00435262s : 30508 calls. qps=1016.7858105915035
01:19:33 I periodic.go:533> T024 ended after 30.004362941s : 30281 calls. qps=1009.2198944381513
01:19:33 I periodic.go:533> T009 ended after 30.00437288s : 29863 calls. qps=995.2882574628236
01:19:33 I periodic.go:533> T012 ended after 30.004383346s : 29696 calls. qps=989.7220568593651
01:19:33 I periodic.go:533> T007 ended after 30.004407019s : 29989 calls. qps=999.4865081322806
01:19:33 I periodic.go:533> T000 ended after 30.004417269s : 29644 calls. qps=987.9878597284948
01:19:33 I periodic.go:533> T004 ended after 30.004426979s : 29756 calls. qps=991.7203224986141
01:19:33 I periodic.go:533> T014 ended after 30.004436927s : 29956 calls. qps=998.3856745214767
01:19:33 I periodic.go:533> T025 ended after 30.004446748s : 29938 calls. qps=997.7854366535045
01:19:33 I periodic.go:533> T026 ended after 30.004456241s : 30715 calls. qps=1023.6812743178151
01:19:33 I periodic.go:533> T029 ended after 30.004466549s : 30327 calls. qps=1010.7495145922115
01:19:33 I periodic.go:533> T016 ended after 30.004491908s : 30296 calls. qps=1009.7154816983345
01:19:33 I periodic.go:533> T020 ended after 30.004502255s : 29731 calls. qps=990.8846261579152
01:19:33 I periodic.go:533> T030 ended after 30.004512898s : 29667 calls. qps=988.751262213542
Ended after 30.004529092s : 962593 calls. qps=32082
Aggregated Function Time : count 962593 avg 0.00099701356 +/- 0.0007018 min 7.0567e-05 max 0.033611859 sum 959.718272
# range, mid point, percentile, count
>= 7.0567e-05 <= 0.0001 , 8.52835e-05 , 0.57, 5455
> 0.0001 <= 0.0002 , 0.00015 , 5.14, 43985
> 0.0002 <= 0.0003 , 0.00025 , 10.62, 52815
> 0.0003 <= 0.0004 , 0.00035 , 16.41, 55717
> 0.0004 <= 0.0005 , 0.00045 , 22.65, 60009
> 0.0005 <= 0.0006 , 0.00055 , 28.95, 60712
> 0.0006 <= 0.0007 , 0.00065 , 35.22, 60334
> 0.0007 <= 0.0008 , 0.00075 , 41.55, 60977
> 0.0008 <= 0.0009 , 0.00085 , 47.89, 60950
> 0.0009 <= 0.001 , 0.00095 , 54.29, 61651
> 0.001 <= 0.0011 , 0.00105 , 60.50, 59751
> 0.0011 <= 0.0012 , 0.00115 , 66.59, 58608
> 0.0012 <= 0.0014 , 0.0013 , 78.29, 112628
> 0.0014 <= 0.0016 , 0.0015 , 88.61, 99322
> 0.0016 <= 0.0018 , 0.0017 , 94.05, 52431
> 0.0018 <= 0.002 , 0.0019 , 95.77, 16556
> 0.002 <= 0.0025 , 0.00225 , 97.96, 21029
> 0.0025 <= 0.003 , 0.00275 , 98.92, 9243
> 0.003 <= 0.0035 , 0.00325 , 99.22, 2878
> 0.0035 <= 0.004 , 0.00375 , 99.39, 1644
> 0.004 <= 0.0045 , 0.00425 , 99.57, 1771
> 0.0045 <= 0.005 , 0.00475 , 99.71, 1357
> 0.005 <= 0.006 , 0.0055 , 99.92, 2030
> 0.006 <= 0.007 , 0.0065 , 99.97, 448
> 0.007 <= 0.008 , 0.0075 , 99.98, 124
> 0.008 <= 0.009 , 0.0085 , 99.98, 20
> 0.009 <= 0.01 , 0.0095 , 99.99, 16
> 0.01 <= 0.012 , 0.011 , 99.99, 35
> 0.012 <= 0.014 , 0.013 , 99.99, 1
> 0.025 <= 0.03 , 0.0275 , 99.99, 33
> 0.03 <= 0.0336119 , 0.0318059 , 100.00, 63
# target 50% 0.000932996
# target 75% 0.0013438
# target 90% 0.00165119
# target 99% 0.00313796
# target 99.9% 0.00589035
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 962593 (100.0 %)
Response Header Sizes : count 962593 avg 75 +/- 0 min 75 max 75 sum 72194475
Response Body/Total Sizes : count 962593 avg 75 +/- 0 min 75 max 75 sum 72194475
All done 962593 calls (plus 32 warmup) 0.997 ms avg, 32081.6 qps
Successfully wrote 5737 bytes of Json data to /data/2018-12-22-011903_http_baseline_0qps_30s_echo_0_9.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8080/echo
01:19:33 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 32 threads at -1.0 qps
01:19:33 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at max qps with 32 thread(s) [gomax 1] for 30s
01:20:04 I periodic.go:533> T002 ended after 30.000025237s : 2521 calls. qps=84.03326264175169
01:20:04 I periodic.go:533> T016 ended after 30.000397163s : 2522 calls. qps=84.06555374241597
01:20:04 I periodic.go:533> T008 ended after 30.002291289s : 2379 calls. qps=79.29394382195848
01:20:04 I periodic.go:533> T027 ended after 30.004272131s : 2340 calls. qps=77.98889404093707
01:20:04 I periodic.go:533> T029 ended after 30.004333161s : 2329 calls. qps=77.62212169498446
01:20:04 I periodic.go:533> T017 ended after 30.004347709s : 2540 calls. qps=84.65439824369554
01:20:04 I periodic.go:533> T007 ended after 30.004361108s : 2702 calls. qps=90.05357555437404
01:20:04 I periodic.go:533> T009 ended after 30.004372395s : 2423 calls. qps=80.75489692308227
01:20:04 I periodic.go:533> T028 ended after 30.004383068s : 2450 calls. qps=81.65473672454715
01:20:04 I periodic.go:533> T012 ended after 30.004411139s : 2481 calls. qps=82.68784174788134
01:20:04 I periodic.go:533> T018 ended after 30.004429558s : 2514 calls. qps=83.7876285946486
01:20:04 I periodic.go:533> T024 ended after 30.004440169s : 2421 calls. qps=80.68805771291576
01:20:04 I periodic.go:533> T015 ended after 30.004451412s : 2349 calls. qps=78.28838353833522
01:20:04 I periodic.go:533> T031 ended after 30.004461967s : 2415 calls. qps=80.48802883571466
01:20:04 I periodic.go:533> T020 ended after 30.004472866s : 2436 calls. qps=81.18789524745787
01:20:04 I periodic.go:533> T006 ended after 30.004500749s : 2307 calls. qps=76.88846481062973
01:20:04 I periodic.go:533> T019 ended after 30.004511598s : 2626 calls. qps=87.52017147231419
01:20:04 I periodic.go:533> T005 ended after 30.004536019s : 2571 calls. qps=85.68704406466897
01:20:04 I periodic.go:533> T010 ended after 30.004546973s : 2554 calls. qps=85.1204319897998
01:20:04 I periodic.go:533> T000 ended after 30.004557988s : 2419 calls. qps=80.62108433550173
01:20:04 I periodic.go:533> T025 ended after 30.005300347s : 2594 calls. qps=86.45139258735513
01:20:04 I periodic.go:533> T011 ended after 30.005342939s : 2430 calls. qps=80.98557663347225
01:20:04 I periodic.go:533> T003 ended after 30.005357499s : 2429 calls. qps=80.95220995387082
01:20:04 I periodic.go:533> T023 ended after 30.005501087s : 2268 calls. qps=75.58613980229845
01:20:04 I periodic.go:533> T013 ended after 30.005643447s : 2479 calls. qps=82.61779169571027
01:20:04 I periodic.go:533> T001 ended after 30.005884534s : 2339 calls. qps=77.95137641583781
01:20:04 I periodic.go:533> T004 ended after 30.00622805s : 2621 calls. qps=87.34853296564211
01:20:04 I periodic.go:533> T021 ended after 30.006444124s : 2356 calls. qps=78.51646767154276
01:20:04 I periodic.go:533> T014 ended after 30.006645076s : 2748 calls. qps=91.5797148611563
01:20:04 I periodic.go:533> T022 ended after 30.006878863s : 2472 calls. qps=82.3811103875952
01:20:04 I periodic.go:533> T030 ended after 30.007108922s : 2478 calls. qps=82.58043140514715
01:20:04 I periodic.go:533> T026 ended after 30.00730842s : 2384 calls. qps=79.44731218915501
Ended after 30.007333288s : 78897 calls. qps=2629.3
Aggregated Function Time : count 78897 avg 0.012167026 +/- 0.0151 min 0.000384996 max 0.120274322 sum 959.941888
# range, mid point, percentile, count
>= 0.000384996 <= 0.0004 , 0.000392498 , 0.01, 11
> 0.0004 <= 0.0005 , 0.00045 , 2.06, 1612
> 0.0005 <= 0.0006 , 0.00055 , 12.24, 8035
> 0.0006 <= 0.0007 , 0.00065 , 39.68, 21648
> 0.0007 <= 0.0008 , 0.00075 , 52.38, 10022
> 0.0008 <= 0.0009 , 0.00085 , 54.94, 2015
> 0.0009 <= 0.001 , 0.00095 , 55.70, 606
> 0.001 <= 0.0011 , 0.00105 , 56.03, 260
> 0.0011 <= 0.0012 , 0.00115 , 56.23, 156
> 0.0012 <= 0.0014 , 0.0013 , 56.45, 170
> 0.0014 <= 0.0016 , 0.0015 , 56.66, 167
> 0.0016 <= 0.0018 , 0.0017 , 57.04, 299
> 0.0018 <= 0.002 , 0.0019 , 57.29, 198
> 0.002 <= 0.0025 , 0.00225 , 57.45, 125
> 0.0025 <= 0.003 , 0.00275 , 57.55, 83
> 0.003 <= 0.0035 , 0.00325 , 57.60, 38
> 0.0035 <= 0.004 , 0.00375 , 57.71, 85
> 0.004 <= 0.0045 , 0.00425 , 57.78, 60
> 0.0045 <= 0.005 , 0.00475 , 57.87, 71
> 0.005 <= 0.006 , 0.0055 , 58.01, 110
> 0.006 <= 0.007 , 0.0065 , 58.16, 114
> 0.007 <= 0.008 , 0.0075 , 58.31, 123
> 0.008 <= 0.009 , 0.0085 , 58.50, 147
> 0.009 <= 0.01 , 0.0095 , 58.73, 178
> 0.01 <= 0.012 , 0.011 , 59.47, 590
> 0.012 <= 0.014 , 0.013 , 60.59, 884
> 0.014 <= 0.016 , 0.015 , 62.33, 1368
> 0.016 <= 0.018 , 0.017 , 64.59, 1782
> 0.018 <= 0.02 , 0.019 , 67.39, 2209
> 0.02 <= 0.025 , 0.0225 , 75.67, 6535
> 0.025 <= 0.03 , 0.0275 , 84.19, 6723
> 0.03 <= 0.035 , 0.0325 , 91.35, 5645
> 0.035 <= 0.04 , 0.0375 , 95.25, 3081
> 0.04 <= 0.045 , 0.0425 , 97.29, 1611
> 0.045 <= 0.05 , 0.0475 , 98.47, 926
> 0.05 <= 0.06 , 0.055 , 99.61, 900
> 0.06 <= 0.07 , 0.065 , 99.88, 216
> 0.07 <= 0.08 , 0.075 , 99.95, 55
> 0.08 <= 0.09 , 0.085 , 99.96, 11
> 0.09 <= 0.1 , 0.095 , 99.97, 8
> 0.1 <= 0.120274 , 0.110137 , 100.00, 20
# target 50% 0.000781246
# target 75% 0.0245958
# target 90% 0.0340596
# target 99% 0.0546781
# target 99.9% 0.072746
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 32 (for perfect keepalive, would be 32)
Code 200 : 78897 (100.0 %)
Response Header Sizes : count 78897 avg 209.40967 +/- 0.4922 min 209 max 211 sum 16521795
Response Body/Total Sizes : count 78897 avg 209.40967 +/- 0.4922 min 209 max 211 sum 16521795
All done 78897 calls (plus 32 warmup) 12.167 ms avg, 2629.3 qps
Successfully wrote 7051 bytes of Json data to /data/2018-12-22-011934_http_istio_0qps_30s_echo_0_9.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-baseline:8079
01:20:04 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
01:20:34 I periodic.go:533> T006 ended after 30.002513155s : 16285 calls. qps=542.7878629989389
01:20:34 I periodic.go:533> T027 ended after 30.002600081s : 16243 calls. qps=541.3864117159079
01:20:34 I periodic.go:533> T012 ended after 30.002642639s : 16227 calls. qps=540.8523574155683
01:20:34 I periodic.go:533> T011 ended after 30.002665435s : 16210 calls. qps=540.2853301523675
01:20:34 I periodic.go:533> T002 ended after 30.00268713s : 16290 calls. qps=542.9513673030792
01:20:34 I periodic.go:533> T018 ended after 30.002725801s : 16251 calls. qps=541.6507855915661
01:20:34 I periodic.go:533> T019 ended after 30.002747671s : 16270 calls. qps=542.283666096563
01:20:34 I periodic.go:533> T025 ended after 30.002771124s : 16286 calls. qps=542.8165262698819
01:20:34 I periodic.go:533> T013 ended after 30.002817904s : 16242 calls. qps=541.3491510020665
01:20:34 I periodic.go:533> T008 ended after 30.002840075s : 16255 calls. qps=541.7820432787811
01:20:34 I periodic.go:533> T009 ended after 30.002874967s : 16272 calls. qps=542.348025577465
01:20:34 I periodic.go:533> T028 ended after 30.002899539s : 16306 calls. qps=543.480805206985
01:20:34 I periodic.go:533> T030 ended after 30.002920265s : 16299 calls. qps=543.2471191483867
01:20:34 I periodic.go:533> T026 ended after 30.002956158s : 16215 calls. qps=540.44674513436
01:20:34 I periodic.go:533> T007 ended after 30.002976727s : 16289 calls. qps=542.912796560661
01:20:34 I periodic.go:533> T021 ended after 30.003033715s : 16236 calls. qps=541.1452773151676
01:20:34 I periodic.go:533> T005 ended after 30.003055905s : 16234 calls. qps=541.0782172123543
01:20:34 I periodic.go:533> T029 ended after 30.003076763s : 16282 calls. qps=542.6776769800847
01:20:34 I periodic.go:533> T017 ended after 30.003125727s : 16245 calls. qps=541.4435865054228
01:20:34 I periodic.go:533> T016 ended after 30.003148667s : 16262 calls. qps=542.0097797230969
01:20:34 I periodic.go:533> T014 ended after 30.003169041s : 16250 calls. qps=541.6094539144852
01:20:34 I periodic.go:533> T010 ended after 30.003204075s : 16272 calls. qps=542.3420765103735
01:20:34 I periodic.go:533> T022 ended after 30.003225328s : 16258 calls. qps=541.8750758381799
01:20:34 I periodic.go:533> T003 ended after 30.003246499s : 16306 calls. qps=543.4745203504385
01:20:34 I periodic.go:533> T004 ended after 30.003283576s : 16241 calls. qps=541.3074191983233
01:20:34 I periodic.go:533> T015 ended after 30.003307247s : 16241 calls. qps=541.306992135806
01:20:34 I periodic.go:533> T023 ended after 30.003336363s : 16207 calls. qps=540.173259530777
01:20:34 I periodic.go:533> T020 ended after 30.003370638s : 16250 calls. qps=541.6058147619914
01:20:34 I periodic.go:533> T024 ended after 30.003392194s : 16234 calls. qps=541.0721526096784
01:20:34 I periodic.go:533> T000 ended after 30.003433258s : 16283 calls. qps=542.7045585077622
01:20:34 I periodic.go:533> T031 ended after 30.003456038s : 16243 calls. qps=541.3709667122315
01:20:34 I periodic.go:533> T001 ended after 30.003478847s : 16265 calls. qps=542.1038034603215
Ended after 30.003508522s : 520249 calls. qps=17340
Aggregated Function Time : count 520249 avg 0.0018448756 +/- 0.001027 min 0.000283863 max 0.037165642 sum 959.79468
# range, mid point, percentile, count
>= 0.000283863 <= 0.0003 , 0.000291932 , 0.00, 1
> 0.0003 <= 0.0004 , 0.00035 , 0.00, 4
> 0.0004 <= 0.0005 , 0.00045 , 0.01, 48
> 0.0005 <= 0.0006 , 0.00055 , 0.19, 914
> 0.0006 <= 0.0007 , 0.00065 , 0.77, 3020
> 0.0007 <= 0.0008 , 0.00075 , 1.67, 4723
> 0.0008 <= 0.0009 , 0.00085 , 2.81, 5925
> 0.0009 <= 0.001 , 0.00095 , 4.44, 8449
> 0.001 <= 0.0011 , 0.00105 , 7.23, 14504
> 0.0011 <= 0.0012 , 0.00115 , 13.27, 31441
> 0.0012 <= 0.0014 , 0.0013 , 30.42, 89233
> 0.0014 <= 0.0016 , 0.0015 , 52.86, 116753
> 0.0016 <= 0.0018 , 0.0017 , 68.80, 82897
> 0.0018 <= 0.002 , 0.0019 , 77.60, 45776
> 0.002 <= 0.0025 , 0.00225 , 86.63, 47001
> 0.0025 <= 0.003 , 0.00275 , 90.17, 18404
> 0.003 <= 0.0035 , 0.00325 , 92.71, 13247
> 0.0035 <= 0.004 , 0.00375 , 95.42, 14079
> 0.004 <= 0.0045 , 0.00425 , 97.44, 10535
> 0.0045 <= 0.005 , 0.00475 , 98.51, 5549
> 0.005 <= 0.006 , 0.0055 , 99.47, 5004
> 0.006 <= 0.007 , 0.0065 , 99.73, 1343
> 0.007 <= 0.008 , 0.0075 , 99.84, 567
> 0.008 <= 0.009 , 0.0085 , 99.89, 237
> 0.009 <= 0.01 , 0.0095 , 99.92, 167
> 0.01 <= 0.012 , 0.011 , 99.94, 113
> 0.012 <= 0.014 , 0.013 , 99.96, 98
> 0.014 <= 0.016 , 0.015 , 99.98, 133
> 0.016 <= 0.018 , 0.017 , 99.99, 20
> 0.03 <= 0.035 , 0.0325 , 99.99, 19
> 0.035 <= 0.0371656 , 0.0360828 , 100.00, 45
# target 50% 0.00157449
# target 75% 0.00194101
# target 90% 0.00297639
# target 99% 0.0055083
# target 99.9% 0.00944761
Ping SERVING : 520249
All done 520249 calls (plus 32 warmup) 1.845 ms avg, 17339.6 qps
Successfully wrote 5179 bytes of Json data to /data/2018-12-22-012004_grpc_baseline_0qps_30s_echo_0_9.json
Fortio 1.3.1-pre running at 0 queries per second, 1->1 procs, for 30s: fortio-echo-0.benchmark-istio:8079
01:20:34 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*32 threads at -1.0 qps
Starting at max qps with 32 thread(s) [gomax 1] for 30s
01:21:04 I periodic.go:533> T017 ended after 30.001565627s : 3216 calls. qps=107.1944057848018
01:21:04 I periodic.go:533> T021 ended after 30.005900512s : 3225 calls. qps=107.47886065643168
01:21:04 I periodic.go:533> T003 ended after 30.005968504s : 3232 calls. qps=107.71190403566386
01:21:04 I periodic.go:533> T007 ended after 30.005982176s : 3188 calls. qps=106.24548069450937
01:21:04 I periodic.go:533> T023 ended after 30.006009498s : 3259 calls. qps=108.61157663158185
01:21:04 I periodic.go:533> T019 ended after 30.006040369s : 3244 calls. qps=108.11156554169868
01:21:04 I periodic.go:533> T027 ended after 30.006052334s : 3219 calls. qps=107.27835718504483
01:21:04 I periodic.go:533> T011 ended after 30.006064385s : 3256 calls. qps=108.5113981701536
01:21:04 I periodic.go:533> T000 ended after 30.006075839s : 3211 calls. qps=107.01166047932682
01:21:04 I periodic.go:533> T025 ended after 30.006088442s : 3218 calls. qps=107.24490152124308
01:21:04 I periodic.go:533> T015 ended after 30.006117131s : 3258 calls. qps=108.5778605001207
01:21:04 I periodic.go:533> T013 ended after 30.00612917s : 3233 calls. qps=107.74465382333752
01:21:04 I periodic.go:533> T029 ended after 30.00614078s : 3284 calls. qps=109.4442642283704
01:21:04 I periodic.go:533> T009 ended after 30.006156717s : 3218 calls. qps=107.2446574998004
01:21:04 I periodic.go:533> T016 ended after 30.007787823s : 3057 calls. qps=101.8735542263768
01:21:04 I periodic.go:533> T020 ended after 30.007840838s : 3024 calls. qps=100.77366166813978
01:21:04 I periodic.go:533> T022 ended after 30.007857586s : 3065 calls. qps=102.13991422799737
01:21:04 I periodic.go:533> T001 ended after 30.007869965s : 3028 calls. qps=100.90686221753627
01:21:04 I periodic.go:533> T014 ended after 30.007900948s : 3041 calls. qps=101.33997727030888
01:21:04 I periodic.go:533> T026 ended after 30.007936996s : 3044 calls. qps=101.43982908274431
01:21:04 I periodic.go:533> T030 ended after 30.007948635s : 3049 calls. qps=101.60641225717693
01:21:04 I periodic.go:533> T004 ended after 30.00795957s : 3057 calls. qps=101.87297116516343
01:21:04 I periodic.go:533> T006 ended after 30.007971147s : 3048 calls. qps=101.57301155312258
01:21:04 I periodic.go:533> T031 ended after 30.00799916s : 3031 calls. qps=101.00640112121357
01:21:04 I periodic.go:533> T024 ended after 30.008011665s : 3024 calls. qps=100.77308799259959
01:21:04 I periodic.go:533> T018 ended after 30.008023099s : 3065 calls. qps=102.13935086254114
01:21:04 I periodic.go:533> T028 ended after 30.008033735s : 3060 calls. qps=101.97269261367684
01:21:04 I periodic.go:533> T010 ended after 30.008045989s : 3034 calls. qps=101.1062166830912
01:21:04 I periodic.go:533> T002 ended after 30.008057299s : 3056 calls. qps=101.8393150063013
01:21:04 I periodic.go:533> T008 ended after 30.008273675s : 3048 calls. qps=101.57198754619795
01:21:04 I periodic.go:533> T012 ended after 30.008292573s : 3049 calls. qps=101.60524770220822
01:21:04 I periodic.go:533> T005 ended after 30.008305809s : 3218 calls. qps=107.23697700504196
Ended after 30.008319892s : 100259 calls. qps=3341
Aggregated Function Time : count 100259 avg 0.0095754352 +/- 0.005206 min 0.000813908 max 0.0750842 sum 960.023561
# range, mid point, percentile, count
>= 0.000813908 <= 0.0009 , 0.000856954 , 0.00, 1
> 0.0009 <= 0.001 , 0.00095 , 0.01, 8
> 0.001 <= 0.0011 , 0.00105 , 0.02, 15
> 0.0011 <= 0.0012 , 0.00115 , 0.05, 23
> 0.0012 <= 0.0014 , 0.0013 , 0.17, 125
> 0.0014 <= 0.0016 , 0.0015 , 0.29, 121
> 0.0016 <= 0.0018 , 0.0017 , 0.36, 71
> 0.0018 <= 0.002 , 0.0019 , 0.45, 91
> 0.002 <= 0.0025 , 0.00225 , 0.87, 414
> 0.0025 <= 0.003 , 0.00275 , 2.04, 1175
> 0.003 <= 0.0035 , 0.00325 , 2.70, 662
> 0.0035 <= 0.004 , 0.00375 , 3.49, 795
> 0.004 <= 0.0045 , 0.00425 , 4.87, 1385
> 0.0045 <= 0.005 , 0.00475 , 8.18, 3315
> 0.005 <= 0.006 , 0.0055 , 18.71, 10555
> 0.006 <= 0.007 , 0.0065 , 25.60, 6908
> 0.007 <= 0.008 , 0.0075 , 35.96, 10391
> 0.008 <= 0.009 , 0.0085 , 52.37, 16452
> 0.009 <= 0.01 , 0.0095 , 67.03, 14696
> 0.01 <= 0.012 , 0.011 , 85.09, 18111
> 0.012 <= 0.014 , 0.013 , 91.99, 6913
> 0.014 <= 0.016 , 0.015 , 94.10, 2119
> 0.016 <= 0.018 , 0.017 , 95.11, 1009
> 0.018 <= 0.02 , 0.019 , 95.86, 755
> 0.02 <= 0.025 , 0.0225 , 97.01, 1151
> 0.025 <= 0.03 , 0.0275 , 98.71, 1707
> 0.03 <= 0.035 , 0.0325 , 99.55, 844
> 0.035 <= 0.04 , 0.0375 , 99.75, 200
> 0.04 <= 0.045 , 0.0425 , 99.82, 69
> 0.045 <= 0.05 , 0.0475 , 99.85, 23
> 0.05 <= 0.06 , 0.055 , 99.92, 78
> 0.06 <= 0.07 , 0.065 , 99.97, 46
> 0.07 <= 0.0750842 , 0.0725421 , 100.00, 31
# target 50% 0.00885549
# target 75% 0.0108825
# target 90% 0.0134231
# target 99% 0.0317086
# target 99.9% 0.0570181
Ping SERVING : 100259
All done 100259 calls (plus 32 warmup) 9.575 ms avg, 3341.0 qps
Successfully wrote 5406 bytes of Json data to /data/2018-12-22-012034_grpc_istio_0qps_30s_echo_0_9.json
