1.3.1-pre unknown go1.11.2
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
06:01:05 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 1500.0 qps
06:01:05 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:01:15 I periodic.go:533> T002 ended after 10.000487228s : 3750 calls. qps=374.98172984017333
06:01:15 I periodic.go:533> T003 ended after 10.000572983s : 3750 calls. qps=374.97851436859014
06:01:15 I periodic.go:533> T000 ended after 10.000584579s : 3750 calls. qps=374.9780795689224
06:01:15 I periodic.go:533> T001 ended after 10.000615003s : 3750 calls. qps=374.9769388057704
Ended after 10.00062822s : 15000 calls. qps=1499.9
Sleep times : count 14996 avg 0.0020419137 +/- 0.0005479 min -0.013005246 max 0.002449264 sum 30.6205377
Aggregated Function Time : count 15000 avg 0.00037189529 +/- 0.0003542 min 9.9082e-05 max 0.015500644 sum 5.57842939
# range, mid point, percentile, count
>= 9.9082e-05 <= 0.0001 , 9.9541e-05 , 0.01, 1
> 0.0001 <= 0.0002 , 0.00015 , 2.36, 353
> 0.0002 <= 0.0003 , 0.00025 , 36.05, 5053
> 0.0003 <= 0.0004 , 0.00035 , 76.27, 6033
> 0.0004 <= 0.0005 , 0.00045 , 92.43, 2425
> 0.0005 <= 0.0006 , 0.00055 , 96.92, 673
> 0.0006 <= 0.0007 , 0.00065 , 97.99, 160
> 0.0007 <= 0.0008 , 0.00075 , 98.27, 42
> 0.0008 <= 0.0009 , 0.00085 , 98.46, 29
> 0.0009 <= 0.001 , 0.00095 , 98.57, 17
> 0.001 <= 0.0011 , 0.00105 , 98.62, 7
> 0.0011 <= 0.0012 , 0.00115 , 98.79, 25
> 0.0012 <= 0.0014 , 0.0013 , 98.96, 26
> 0.0014 <= 0.0016 , 0.0015 , 99.23, 41
> 0.0016 <= 0.0018 , 0.0017 , 99.31, 12
> 0.0018 <= 0.002 , 0.0019 , 99.35, 5
> 0.002 <= 0.0025 , 0.00225 , 99.57, 34
> 0.0025 <= 0.003 , 0.00275 , 99.67, 15
> 0.003 <= 0.0035 , 0.00325 , 99.82, 22
> 0.0035 <= 0.004 , 0.00375 , 99.90, 12
> 0.004 <= 0.0045 , 0.00425 , 99.95, 8
> 0.0045 <= 0.005 , 0.00475 , 99.97, 3
> 0.014 <= 0.0155006 , 0.0147503 , 100.00, 4
# target 50% 0.000334693
# target 75% 0.000396851
# target 90% 0.000484948
# target 99% 0.00142927
# target 99.9% 0.004
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
Response Body/Total Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
All done 15000 calls (plus 4 warmup) 0.372 ms avg, 1499.9 qps
Successfully wrote 4540 bytes of Json data to /data/2018-11-19-060105_http_baseline_1500qps_10s_echo_0_0.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
06:01:15 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 1500.0 qps
06:01:15 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:01:25 I periodic.go:533> T002 ended after 10.001024722s : 3750 calls. qps=374.96157686230345
06:01:25 I periodic.go:533> T003 ended after 10.001418956s : 3750 calls. qps=374.9467966993143
06:01:25 I periodic.go:533> T001 ended after 10.003936078s : 3750 calls. qps=374.85245514980386
06:01:25 I periodic.go:533> T000 ended after 10.003988691s : 3750 calls. qps=374.85048372492207
Ended after 10.004005308s : 15000 calls. qps=1499.4
Sleep times : count 14996 avg 0.0013506785 +/- 0.002688 min -0.047257165 max 0.002136798 sum 20.2547741
Aggregated Function Time : count 15000 avg 0.00081247589 +/- 0.0006459 min 0.000376576 max 0.027971594 sum 12.1871384
# range, mid point, percentile, count
>= 0.000376576 <= 0.0004 , 0.000388288 , 0.01, 2
> 0.0004 <= 0.0005 , 0.00045 , 0.27, 39
> 0.0005 <= 0.0006 , 0.00055 , 5.89, 843
> 0.0006 <= 0.0007 , 0.00065 , 37.35, 4718
> 0.0007 <= 0.0008 , 0.00075 , 66.81, 4419
> 0.0008 <= 0.0009 , 0.00085 , 84.09, 2592
> 0.0009 <= 0.001 , 0.00095 , 92.41, 1248
> 0.001 <= 0.0011 , 0.00105 , 95.58, 476
> 0.0011 <= 0.0012 , 0.00115 , 96.87, 194
> 0.0012 <= 0.0014 , 0.0013 , 97.72, 127
> 0.0014 <= 0.0016 , 0.0015 , 98.29, 86
> 0.0016 <= 0.0018 , 0.0017 , 98.71, 63
> 0.0018 <= 0.002 , 0.0019 , 98.95, 36
> 0.002 <= 0.0025 , 0.00225 , 99.07, 18
> 0.0025 <= 0.003 , 0.00275 , 99.33, 39
> 0.003 <= 0.0035 , 0.00325 , 99.46, 19
> 0.0035 <= 0.004 , 0.00375 , 99.58, 18
> 0.004 <= 0.0045 , 0.00425 , 99.74, 24
> 0.0045 <= 0.005 , 0.00475 , 99.86, 18
> 0.005 <= 0.006 , 0.0055 , 99.89, 5
> 0.009 <= 0.01 , 0.0095 , 99.92, 4
> 0.012 <= 0.014 , 0.013 , 99.95, 4
> 0.014 <= 0.016 , 0.015 , 99.97, 3
> 0.016 <= 0.018 , 0.017 , 99.97, 1
> 0.025 <= 0.0279716 , 0.0264858 , 100.00, 4
# target 50% 0.000742951
# target 75% 0.000847415
# target 90% 0.000971074
# target 99% 0.00219444
# target 99.9% 0.00925
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
Response Body/Total Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
All done 15000 calls (plus 4 warmup) 0.812 ms avg, 1499.4 qps
Successfully wrote 4796 bytes of Json data to /data/2018-11-19-060115_http_linkerd_1500qps_10s_echo_0_0.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
06:01:26 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 1500.0 qps
06:01:26 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:01:36 I periodic.go:533> T001 ended after 10.014652226s : 3750 calls. qps=374.4513454260813
06:01:36 I periodic.go:533> T003 ended after 10.014718797s : 3750 calls. qps=374.4488563296801
06:01:36 I periodic.go:533> T000 ended after 10.014730221s : 3750 calls. qps=374.448429188495
06:01:36 I periodic.go:533> T002 ended after 10.014742931s : 3750 calls. qps=374.44795396516
Ended after 10.014753709s : 15000 calls. qps=1497.8
Aggregated Sleep Time : count 14996 avg -0.00061689774 +/- 0.005102 min -0.050360197 max 0.001997645 sum -9.25099849
# range, mid point, percentile, count
>= -0.0503602 <= -0.001 , -0.0256801 , 14.86, 2229
> -0.001 <= 0 , -0.0005 , 19.17, 645
> 0 <= 0.001 , 0.0005 , 68.26, 7363
> 0.001 <= 0.00199765 , 0.00149882 , 100.00, 4759
# target 50% 0.000628005
WARNING 14.86% of sleep were falling behind
Aggregated Function Time : count 15000 avg 0.0018028693 +/- 0.001001 min 0.000539597 max 0.015162668 sum 27.0430389
# range, mid point, percentile, count
>= 0.000539597 <= 0.0006 , 0.000569799 , 0.01, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.01, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.04, 4
> 0.0008 <= 0.0009 , 0.00085 , 0.11, 10
> 0.0009 <= 0.001 , 0.00095 , 0.24, 20
> 0.001 <= 0.0011 , 0.00105 , 0.70, 69
> 0.0011 <= 0.0012 , 0.00115 , 5.60, 735
> 0.0012 <= 0.0014 , 0.0013 , 29.02, 3513
> 0.0014 <= 0.0016 , 0.0015 , 47.24, 2733
> 0.0016 <= 0.0018 , 0.0017 , 61.53, 2143
> 0.0018 <= 0.002 , 0.0019 , 80.71, 2877
> 0.002 <= 0.0025 , 0.00225 , 94.23, 2028
> 0.0025 <= 0.003 , 0.00275 , 95.49, 189
> 0.003 <= 0.0035 , 0.00325 , 96.47, 147
> 0.0035 <= 0.004 , 0.00375 , 97.56, 164
> 0.004 <= 0.0045 , 0.00425 , 98.39, 124
> 0.0045 <= 0.005 , 0.00475 , 98.89, 76
> 0.005 <= 0.006 , 0.0055 , 99.29, 59
> 0.006 <= 0.007 , 0.0065 , 99.55, 40
> 0.007 <= 0.008 , 0.0075 , 99.57, 3
> 0.01 <= 0.012 , 0.011 , 99.61, 5
> 0.012 <= 0.014 , 0.013 , 99.89, 43
> 0.014 <= 0.0151627 , 0.0145813 , 100.00, 16
# target 50% 0.00163864
# target 75% 0.00194049
# target 90% 0.00234369
# target 99% 0.00527119
# target 99.9% 0.0140727
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 209 +/- 0 min 209 max 209 sum 3135000
Response Body/Total Sizes : count 15000 avg 209 +/- 0 min 209 max 209 sum 3135000
All done 15000 calls (plus 4 warmup) 1.803 ms avg, 1497.8 qps
Successfully wrote 4524 bytes of Json data to /data/2018-11-19-060126_http_istio_1500qps_10s_echo_0_0.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
06:01:36 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:01:46 I periodic.go:533> T001 ended after 10.000854906s : 3750 calls. qps=374.9679437655067
06:01:46 I periodic.go:533> T003 ended after 10.001236671s : 3750 calls. qps=374.95363057187274
06:01:46 I periodic.go:533> T002 ended after 10.003492268s : 3750 calls. qps=374.86908566879293
06:01:46 I periodic.go:533> T000 ended after 10.003537776s : 3750 calls. qps=374.86738031787286
Ended after 10.003551067s : 15000 calls. qps=1499.5
Sleep times : count 14996 avg 0.0016772291 +/- 0.0005675 min -0.005391618 max 0.002244385 sum 25.1517283
Aggregated Function Time : count 15000 avg 0.0007047013 +/- 0.000399 min 0.000198648 max 0.007861479 sum 10.5705194
# range, mid point, percentile, count
>= 0.000198648 <= 0.0002 , 0.000199324 , 0.01, 1
> 0.0002 <= 0.0003 , 0.00025 , 0.14, 20
> 0.0003 <= 0.0004 , 0.00035 , 0.85, 107
> 0.0004 <= 0.0005 , 0.00045 , 7.72, 1030
> 0.0005 <= 0.0006 , 0.00055 , 40.12, 4860
> 0.0006 <= 0.0007 , 0.00065 , 73.07, 4942
> 0.0007 <= 0.0008 , 0.00075 , 88.29, 2284
> 0.0008 <= 0.0009 , 0.00085 , 92.67, 656
> 0.0009 <= 0.001 , 0.00095 , 93.97, 196
> 0.001 <= 0.0011 , 0.00105 , 94.51, 81
> 0.0011 <= 0.0012 , 0.00115 , 94.92, 61
> 0.0012 <= 0.0014 , 0.0013 , 95.71, 119
> 0.0014 <= 0.0016 , 0.0015 , 96.63, 138
> 0.0016 <= 0.0018 , 0.0017 , 97.39, 114
> 0.0018 <= 0.002 , 0.0019 , 98.62, 184
> 0.002 <= 0.0025 , 0.00225 , 99.19, 85
> 0.0025 <= 0.003 , 0.00275 , 99.35, 24
> 0.003 <= 0.0035 , 0.00325 , 99.48, 20
> 0.0035 <= 0.004 , 0.00375 , 99.56, 12
> 0.004 <= 0.0045 , 0.00425 , 99.79, 35
> 0.0045 <= 0.005 , 0.00475 , 99.92, 19
> 0.005 <= 0.006 , 0.0055 , 99.97, 8
> 0.007 <= 0.00786148 , 0.00743074 , 100.00, 4
# target 50% 0.000629988
# target 75% 0.000712697
# target 90% 0.000839024
# target 99% 0.00233529
# target 99.9% 0.00492105
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 0.705 ms avg, 1499.5 qps
Successfully wrote 4014 bytes of Json data to /data/2018-11-19-060136_grpc_baseline_1500qps_10s_echo_0_0.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
06:01:46 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:01:56 I periodic.go:533> T000 ended after 10.001141403s : 3750 calls. qps=374.95720227244544
06:01:56 I periodic.go:533> T002 ended after 10.002478793s : 3750 calls. qps=374.90706829834517
06:01:56 I periodic.go:533> T003 ended after 10.002709156s : 3750 calls. qps=374.89843416576895
06:01:56 I periodic.go:533> T001 ended after 10.002765648s : 3750 calls. qps=374.8963168751027
Ended after 10.002789951s : 15000 calls. qps=1499.6
Sleep times : count 14996 avg 0.0013247422 +/- 0.0005514 min -0.005154407 max 0.001862663 sum 19.8658344
Aggregated Function Time : count 15000 avg 0.0010655887 +/- 0.0003984 min 0.000483745 max 0.0065294 sum 15.9838307
# range, mid point, percentile, count
>= 0.000483745 <= 0.0005 , 0.000491873 , 0.01, 1
> 0.0005 <= 0.0006 , 0.00055 , 0.02, 2
> 0.0006 <= 0.0007 , 0.00065 , 0.11, 13
> 0.0007 <= 0.0008 , 0.00075 , 3.94, 575
> 0.0008 <= 0.0009 , 0.00085 , 20.31, 2455
> 0.0009 <= 0.001 , 0.00095 , 50.29, 4498
> 0.001 <= 0.0011 , 0.00105 , 76.61, 3947
> 0.0011 <= 0.0012 , 0.00115 , 88.57, 1795
> 0.0012 <= 0.0014 , 0.0013 , 95.14, 985
> 0.0014 <= 0.0016 , 0.0015 , 96.27, 169
> 0.0016 <= 0.0018 , 0.0017 , 97.01, 112
> 0.0018 <= 0.002 , 0.0019 , 97.63, 92
> 0.002 <= 0.0025 , 0.00225 , 98.87, 187
> 0.0025 <= 0.003 , 0.00275 , 99.18, 46
> 0.003 <= 0.0035 , 0.00325 , 99.30, 18
> 0.0035 <= 0.004 , 0.00375 , 99.39, 14
> 0.004 <= 0.0045 , 0.00425 , 99.57, 26
> 0.0045 <= 0.005 , 0.00475 , 99.79, 33
> 0.005 <= 0.006 , 0.0055 , 99.95, 25
> 0.006 <= 0.0065294 , 0.0062647 , 100.00, 7
# target 50% 0.000999022
# target 75% 0.00109389
# target 90% 0.00124345
# target 99% 0.00270652
# target 99.9% 0.00568
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 1.066 ms avg, 1499.6 qps
Successfully wrote 3641 bytes of Json data to /data/2018-11-19-060146_grpc_linkerd_1500qps_10s_echo_0_0.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8079
06:01:56 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:02:06 W periodic.go:487> T002 warning only did 3748 out of 3750 calls before reaching 10s
06:02:06 I periodic.go:533> T002 ended after 10.003522124s : 3748 calls. qps=374.6680372713894
06:02:06 W periodic.go:487> T003 warning only did 3747 out of 3750 calls before reaching 10s
06:02:06 I periodic.go:533> T003 ended after 10.005373851s : 3747 calls. qps=374.49874995180727
06:02:06 W periodic.go:487> T000 warning only did 3747 out of 3750 calls before reaching 10s
06:02:06 I periodic.go:533> T000 ended after 10.005414449s : 3747 calls. qps=374.4972303845442
06:02:06 W periodic.go:487> T001 warning only did 3747 out of 3750 calls before reaching 10s
06:02:06 I periodic.go:533> T001 ended after 10.00542697s : 3747 calls. qps=374.4967617308989
Ended after 10.005438325s : 14989 calls. qps=1498.1
Aggregated Sleep Time : count 14989 avg -0.00078887755 +/- 0.005421 min -0.057309868 max 0.001990291 sum -11.8244856
# range, mid point, percentile, count
>= -0.0573099 <= -0.001 , -0.0291549 , 14.66, 2197
> -0.001 <= 0 , -0.0005 , 24.00, 1401
> 0 <= 0.001 , 0.0005 , 85.20, 9172
> 0.001 <= 0.00199029 , 0.00149515 , 100.00, 2219
# target 50% 0.000424826
WARNING 14.66% of sleep were falling behind
Aggregated Function Time : count 14989 avg 0.0019442397 +/- 0.001313 min 0.000433939 max 0.043538926 sum 29.1422091
# range, mid point, percentile, count
>= 0.000433939 <= 0.0005 , 0.000466969 , 0.01, 2
> 0.0005 <= 0.0006 , 0.00055 , 0.12, 16
> 0.0006 <= 0.0007 , 0.00065 , 0.52, 60
> 0.0007 <= 0.0008 , 0.00075 , 1.45, 140
> 0.0008 <= 0.0009 , 0.00085 , 3.76, 346
> 0.0009 <= 0.001 , 0.00095 , 7.81, 607
> 0.001 <= 0.0011 , 0.00105 , 11.39, 536
> 0.0011 <= 0.0012 , 0.00115 , 14.13, 411
> 0.0012 <= 0.0014 , 0.0013 , 19.31, 776
> 0.0014 <= 0.0016 , 0.0015 , 32.56, 1986
> 0.0016 <= 0.0018 , 0.0017 , 51.21, 2796
> 0.0018 <= 0.002 , 0.0019 , 65.31, 2114
> 0.002 <= 0.0025 , 0.00225 , 89.09, 3564
> 0.0025 <= 0.003 , 0.00275 , 95.14, 907
> 0.003 <= 0.0035 , 0.00325 , 96.10, 144
> 0.0035 <= 0.004 , 0.00375 , 97.32, 183
> 0.004 <= 0.0045 , 0.00425 , 98.05, 109
> 0.0045 <= 0.005 , 0.00475 , 98.60, 82
> 0.005 <= 0.006 , 0.0055 , 99.25, 98
> 0.006 <= 0.007 , 0.0065 , 99.53, 42
> 0.007 <= 0.008 , 0.0075 , 99.58, 7
> 0.008 <= 0.009 , 0.0085 , 99.63, 7
> 0.012 <= 0.014 , 0.013 , 99.66, 5
> 0.014 <= 0.016 , 0.015 , 99.75, 13
> 0.016 <= 0.018 , 0.017 , 99.89, 21
> 0.018 <= 0.02 , 0.019 , 99.95, 10
> 0.02 <= 0.025 , 0.0225 , 99.97, 3
> 0.035 <= 0.04 , 0.0375 , 99.99, 3
> 0.04 <= 0.0435389 , 0.0417695 , 100.00, 1
# target 50% 0.00178702
# target 75% 0.00220367
# target 90% 0.00257503
# target 99% 0.00561337
# target 99.9% 0.0184022
Ping SERVING : 14989
All done 14989 calls (plus 4 warmup) 1.944 ms avg, 1498.1 qps
Successfully wrote 4829 bytes of Json data to /data/2018-11-19-060156_grpc_istio_1500qps_10s_echo_0_0.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
06:02:06 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 1500.0 qps
06:02:06 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:02:16 I periodic.go:533> T003 ended after 10.000695654s : 3750 calls. qps=374.9739147896281
06:02:16 I periodic.go:533> T002 ended after 10.001093165s : 3750 calls. qps=374.9590107932966
06:02:16 I periodic.go:533> T000 ended after 10.003198604s : 3750 calls. qps=374.88009070423533
06:02:16 I periodic.go:533> T001 ended after 10.003258542s : 3750 calls. qps=374.8778444798893
Ended after 10.003275295s : 15000 calls. qps=1499.5
Sleep times : count 14996 avg 0.0020420834 +/- 0.0003868 min -0.002316886 max 0.002395367 sum 30.6230831
Aggregated Function Time : count 15000 avg 0.00036967597 +/- 0.0002544 min 9.0038e-05 max 0.004531703 sum 5.5451396
# range, mid point, percentile, count
>= 9.0038e-05 <= 0.0001 , 9.5019e-05 , 0.01, 2
> 0.0001 <= 0.0002 , 0.00015 , 2.29, 341
> 0.0002 <= 0.0003 , 0.00025 , 35.14, 4928
> 0.0003 <= 0.0004 , 0.00035 , 76.64, 6225
> 0.0004 <= 0.0005 , 0.00045 , 92.40, 2364
> 0.0005 <= 0.0006 , 0.00055 , 96.67, 640
> 0.0006 <= 0.0007 , 0.00065 , 97.59, 138
> 0.0007 <= 0.0008 , 0.00075 , 97.95, 54
> 0.0008 <= 0.0009 , 0.00085 , 98.15, 30
> 0.0009 <= 0.001 , 0.00095 , 98.43, 43
> 0.001 <= 0.0011 , 0.00105 , 98.59, 23
> 0.0011 <= 0.0012 , 0.00115 , 98.69, 16
> 0.0012 <= 0.0014 , 0.0013 , 99.03, 50
> 0.0014 <= 0.0016 , 0.0015 , 99.22, 29
> 0.0016 <= 0.0018 , 0.0017 , 99.41, 29
> 0.0018 <= 0.002 , 0.0019 , 99.48, 10
> 0.002 <= 0.0025 , 0.00225 , 99.57, 14
> 0.0025 <= 0.003 , 0.00275 , 99.67, 15
> 0.003 <= 0.0035 , 0.00325 , 99.83, 24
> 0.0035 <= 0.004 , 0.00375 , 99.95, 17
> 0.004 <= 0.0045 , 0.00425 , 99.99, 7
> 0.0045 <= 0.0045317 , 0.00451585 , 100.00, 1
# target 50% 0.000335807
# target 75% 0.000396048
# target 90% 0.000484772
# target 99% 0.001384
# target 99.9% 0.00379412
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
Response Body/Total Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
All done 15000 calls (plus 4 warmup) 0.370 ms avg, 1499.5 qps
Successfully wrote 4469 bytes of Json data to /data/2018-11-19-060206_http_baseline_1500qps_10s_echo_1_0.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
06:02:16 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 1500.0 qps
06:02:16 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:02:26 I periodic.go:533> T002 ended after 10.000818328s : 3750 calls. qps=374.9693152110222
06:02:26 I periodic.go:533> T000 ended after 10.001420099s : 3750 calls. qps=374.94675384898056
06:02:26 I periodic.go:533> T003 ended after 10.001576699s : 3750 calls. qps=374.9408831084544
06:02:26 I periodic.go:533> T001 ended after 10.001806869s : 3750 calls. qps=374.9322546531967
Ended after 10.00183524s : 15000 calls. qps=1499.7
Sleep times : count 14996 avg 0.0010545089 +/- 0.004438 min -0.063754982 max 0.002166506 sum 15.813416
Aggregated Function Time : count 15000 avg 0.00079828332 +/- 0.00102 min 0.000367865 max 0.035458336 sum 11.9742497
# range, mid point, percentile, count
>= 0.000367865 <= 0.0004 , 0.000383932 , 0.04, 6
> 0.0004 <= 0.0005 , 0.00045 , 0.57, 80
> 0.0005 <= 0.0006 , 0.00055 , 11.24, 1600
> 0.0006 <= 0.0007 , 0.00065 , 47.74, 5475
> 0.0007 <= 0.0008 , 0.00075 , 74.04, 3945
> 0.0008 <= 0.0009 , 0.00085 , 87.41, 2005
> 0.0009 <= 0.001 , 0.00095 , 93.56, 923
> 0.001 <= 0.0011 , 0.00105 , 96.07, 377
> 0.0011 <= 0.0012 , 0.00115 , 97.09, 153
> 0.0012 <= 0.0014 , 0.0013 , 97.97, 132
> 0.0014 <= 0.0016 , 0.0015 , 98.33, 54
> 0.0016 <= 0.0018 , 0.0017 , 98.57, 36
> 0.0018 <= 0.002 , 0.0019 , 98.91, 50
> 0.002 <= 0.0025 , 0.00225 , 99.21, 45
> 0.0025 <= 0.003 , 0.00275 , 99.30, 14
> 0.003 <= 0.0035 , 0.00325 , 99.35, 8
> 0.0035 <= 0.004 , 0.00375 , 99.51, 23
> 0.004 <= 0.0045 , 0.00425 , 99.63, 18
> 0.0045 <= 0.005 , 0.00475 , 99.84, 32
> 0.005 <= 0.006 , 0.0055 , 99.89, 7
> 0.007 <= 0.008 , 0.0075 , 99.89, 1
> 0.009 <= 0.01 , 0.0095 , 99.90, 1
> 0.01 <= 0.012 , 0.011 , 99.91, 1
> 0.018 <= 0.02 , 0.019 , 99.92, 2
> 0.03 <= 0.035 , 0.0325 , 99.97, 8
> 0.035 <= 0.0354583 , 0.0352292 , 100.00, 4
# target 50% 0.000708593
# target 75% 0.000807182
# target 90% 0.000942145
# target 99% 0.00215556
# target 99.9% 0.01
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
Response Body/Total Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
All done 15000 calls (plus 4 warmup) 0.798 ms avg, 1499.7 qps
Successfully wrote 4880 bytes of Json data to /data/2018-11-19-060216_http_linkerd_1500qps_10s_echo_1_0.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
06:02:26 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 1500.0 qps
06:02:26 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:02:36 I periodic.go:533> T000 ended after 10.014881863s : 3750 calls. qps=374.44275941530395
06:02:36 I periodic.go:533> T003 ended after 10.014971163s : 3750 calls. qps=374.4394206399973
06:02:36 I periodic.go:533> T002 ended after 10.014985871s : 3750 calls. qps=374.4388707385726
06:02:36 I periodic.go:533> T001 ended after 10.014997656s : 3750 calls. qps=374.43843012318325
Ended after 10.015030837s : 15000 calls. qps=1497.7
Aggregated Sleep Time : count 14996 avg -0.0023662519 +/- 0.009196 min -0.06259043 max 0.001795059 sum -35.4843133
# range, mid point, percentile, count
>= -0.0625904 <= -0.001 , -0.0317952 , 20.46, 3068
> -0.001 <= 0 , -0.0005 , 26.05, 839
> 0 <= 0.001 , 0.0005 , 80.42, 8153
> 0.001 <= 0.00179506 , 0.00139753 , 100.00, 2936
# target 50% 0.000440451
WARNING 20.46% of sleep were falling behind
Aggregated Function Time : count 15000 avg 0.0019180581 +/- 0.001284 min 0.000718359 max 0.041074233 sum 28.7708715
# range, mid point, percentile, count
>= 0.000718359 <= 0.0008 , 0.000759179 , 0.03, 4
> 0.0008 <= 0.0009 , 0.00085 , 0.11, 12
> 0.0009 <= 0.001 , 0.00095 , 0.23, 19
> 0.001 <= 0.0011 , 0.00105 , 0.54, 46
> 0.0011 <= 0.0012 , 0.00115 , 2.69, 323
> 0.0012 <= 0.0014 , 0.0013 , 18.39, 2355
> 0.0014 <= 0.0016 , 0.0015 , 38.49, 3015
> 0.0016 <= 0.0018 , 0.0017 , 54.07, 2336
> 0.0018 <= 0.002 , 0.0019 , 74.86, 3119
> 0.002 <= 0.0025 , 0.00225 , 93.34, 2772
> 0.0025 <= 0.003 , 0.00275 , 95.05, 257
> 0.003 <= 0.0035 , 0.00325 , 95.72, 100
> 0.0035 <= 0.004 , 0.00375 , 96.91, 179
> 0.004 <= 0.0045 , 0.00425 , 97.87, 143
> 0.0045 <= 0.005 , 0.00475 , 98.53, 99
> 0.005 <= 0.006 , 0.0055 , 99.15, 93
> 0.006 <= 0.007 , 0.0065 , 99.44, 44
> 0.007 <= 0.008 , 0.0075 , 99.49, 8
> 0.012 <= 0.014 , 0.013 , 99.68, 28
> 0.014 <= 0.016 , 0.015 , 99.89, 32
> 0.016 <= 0.018 , 0.017 , 99.95, 8
> 0.018 <= 0.02 , 0.019 , 99.97, 4
> 0.04 <= 0.0410742 , 0.0405371 , 100.00, 4
# target 50% 0.00174777
# target 75% 0.00200379
# target 90% 0.00240963
# target 99% 0.00576344
# target 99.9% 0.01625
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 209.0004 +/- 0.02 min 209 max 210 sum 3135006
Response Body/Total Sizes : count 15000 avg 209.0004 +/- 0.02 min 209 max 210 sum 3135006
All done 15000 calls (plus 4 warmup) 1.918 ms avg, 1497.7 qps
Successfully wrote 4586 bytes of Json data to /data/2018-11-19-060226_http_istio_1500qps_10s_echo_1_0.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
06:02:36 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:02:46 I periodic.go:533> T001 ended after 10.000999592s : 3750 calls. qps=374.9625190465661
06:02:46 I periodic.go:533> T003 ended after 10.003784421s : 3750 calls. qps=374.85813789909133
06:02:46 I periodic.go:533> T002 ended after 10.003864406s : 3750 calls. qps=374.85514075449373
06:02:46 I periodic.go:533> T000 ended after 10.003894393s : 3750 calls. qps=374.854017113973
Ended after 10.003927514s : 15000 calls. qps=1499.4
Sleep times : count 14996 avg 0.0016986588 +/- 0.0005743 min -0.005663059 max 0.002356774 sum 25.4730878
Aggregated Function Time : count 15000 avg 0.00068768291 +/- 0.0003887 min 0.000200038 max 0.006075066 sum 10.3152437
# range, mid point, percentile, count
>= 0.000200038 <= 0.0003 , 0.000250019 , 0.11, 16
> 0.0003 <= 0.0004 , 0.00035 , 0.89, 118
> 0.0004 <= 0.0005 , 0.00045 , 9.25, 1254
> 0.0005 <= 0.0006 , 0.00055 , 44.61, 5304
> 0.0006 <= 0.0007 , 0.00065 , 76.19, 4737
> 0.0007 <= 0.0008 , 0.00075 , 90.11, 2088
> 0.0008 <= 0.0009 , 0.00085 , 93.76, 547
> 0.0009 <= 0.001 , 0.00095 , 94.71, 142
> 0.001 <= 0.0011 , 0.00105 , 95.13, 64
> 0.0011 <= 0.0012 , 0.00115 , 95.41, 42
> 0.0012 <= 0.0014 , 0.0013 , 96.57, 173
> 0.0014 <= 0.0016 , 0.0015 , 97.26, 104
> 0.0016 <= 0.0018 , 0.0017 , 97.93, 101
> 0.0018 <= 0.002 , 0.0019 , 98.67, 111
> 0.002 <= 0.0025 , 0.00225 , 99.15, 72
> 0.0025 <= 0.003 , 0.00275 , 99.36, 31
> 0.003 <= 0.0035 , 0.00325 , 99.42, 9
> 0.0035 <= 0.004 , 0.00375 , 99.64, 33
> 0.004 <= 0.0045 , 0.00425 , 99.76, 18
> 0.0045 <= 0.005 , 0.00475 , 99.87, 16
> 0.005 <= 0.006 , 0.0055 , 99.99, 18
> 0.006 <= 0.00607507 , 0.00603753 , 100.00, 2
# target 50% 0.000617057
# target 75% 0.000696221
# target 90% 0.000799186
# target 99% 0.00234028
# target 99.9% 0.00527778
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 0.688 ms avg, 1499.4 qps
Successfully wrote 3916 bytes of Json data to /data/2018-11-19-060236_grpc_baseline_1500qps_10s_echo_1_0.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
06:02:46 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:02:56 I periodic.go:533> T003 ended after 10.001101331s : 3750 calls. qps=374.9587046354865
06:02:56 I periodic.go:533> T000 ended after 10.00352562s : 3750 calls. qps=374.8678358460585
06:02:56 I periodic.go:533> T002 ended after 10.003586252s : 3750 calls. qps=374.8655637622227
06:02:56 I periodic.go:533> T001 ended after 10.003600139s : 3750 calls. qps=374.86504337376135
Ended after 10.003614397s : 15000 calls. qps=1499.5
Sleep times : count 14996 avg 0.0013691523 +/- 0.0005285 min -0.004740142 max 0.001944811 sum 20.5318081
Aggregated Function Time : count 15000 avg 0.0010320544 +/- 0.0003988 min 0.000571704 max 0.007274564 sum 15.4808156
# range, mid point, percentile, count
>= 0.000571704 <= 0.0006 , 0.000585852 , 0.01, 2
> 0.0006 <= 0.0007 , 0.00065 , 0.19, 26
> 0.0007 <= 0.0008 , 0.00075 , 6.86, 1001
> 0.0008 <= 0.0009 , 0.00085 , 27.85, 3149
> 0.0009 <= 0.001 , 0.00095 , 59.74, 4783
> 0.001 <= 0.0011 , 0.00105 , 82.33, 3389
> 0.0011 <= 0.0012 , 0.00115 , 91.09, 1313
> 0.0012 <= 0.0014 , 0.0013 , 95.94, 728
> 0.0014 <= 0.0016 , 0.0015 , 96.85, 137
> 0.0016 <= 0.0018 , 0.0017 , 97.44, 88
> 0.0018 <= 0.002 , 0.0019 , 97.98, 81
> 0.002 <= 0.0025 , 0.00225 , 98.92, 141
> 0.0025 <= 0.003 , 0.00275 , 99.13, 31
> 0.003 <= 0.0035 , 0.00325 , 99.29, 25
> 0.0035 <= 0.004 , 0.00375 , 99.43, 21
> 0.004 <= 0.0045 , 0.00425 , 99.55, 18
> 0.0045 <= 0.005 , 0.00475 , 99.79, 36
> 0.005 <= 0.006 , 0.0055 , 99.93, 20
> 0.006 <= 0.007 , 0.0065 , 99.98, 8
> 0.007 <= 0.00727456 , 0.00713728 , 100.00, 3
# target 50% 0.000969454
# target 75% 0.00106754
# target 90% 0.00118759
# target 99% 0.00269355
# target 99.9% 0.0058
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 1.032 ms avg, 1499.5 qps
Successfully wrote 3622 bytes of Json data to /data/2018-11-19-060246_grpc_linkerd_1500qps_10s_echo_1_0.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8079
06:02:56 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:03:06 I periodic.go:533> T003 ended after 10.015388998s : 3750 calls. qps=374.4237992901571
06:03:06 I periodic.go:533> T001 ended after 10.016432847s : 3750 calls. qps=374.3847792203942
06:03:06 I periodic.go:533> T002 ended after 10.016544241s : 3750 calls. qps=374.38061568683486
06:03:06 I periodic.go:533> T000 ended after 10.016593018s : 3750 calls. qps=374.37879259556433
Ended after 10.01664556s : 15000 calls. qps=1497.5
Aggregated Sleep Time : count 14996 avg -0.00044848993 +/- 0.003219 min -0.032945126 max 0.001926739 sum -6.725555
# range, mid point, percentile, count
>= -0.0329451 <= -0.001 , -0.0169726 , 14.95, 2242
> -0.001 <= 0 , -0.0005 , 24.15, 1380
> 0 <= 0.001 , 0.0005 , 85.34, 9176
> 0.001 <= 0.00192674 , 0.00146337 , 100.00, 2198
# target 50% 0.000422406
WARNING 14.95% of sleep were falling behind
Aggregated Function Time : count 15000 avg 0.0019450402 +/- 0.001171 min 0.00049668 max 0.018653982 sum 29.1756031
# range, mid point, percentile, count
>= 0.00049668 <= 0.0005 , 0.00049834 , 0.01, 1
> 0.0005 <= 0.0006 , 0.00055 , 0.08, 11
> 0.0006 <= 0.0007 , 0.00065 , 0.45, 56
> 0.0007 <= 0.0008 , 0.00075 , 1.23, 117
> 0.0008 <= 0.0009 , 0.00085 , 3.33, 314
> 0.0009 <= 0.001 , 0.00095 , 8.06, 710
> 0.001 <= 0.0011 , 0.00105 , 11.51, 518
> 0.0011 <= 0.0012 , 0.00115 , 14.37, 429
> 0.0012 <= 0.0014 , 0.0013 , 19.13, 714
> 0.0014 <= 0.0016 , 0.0015 , 32.03, 1935
> 0.0016 <= 0.0018 , 0.0017 , 51.22, 2878
> 0.0018 <= 0.002 , 0.0019 , 65.00, 2067
> 0.002 <= 0.0025 , 0.00225 , 89.19, 3629
> 0.0025 <= 0.003 , 0.00275 , 94.89, 855
> 0.003 <= 0.0035 , 0.00325 , 96.09, 179
> 0.0035 <= 0.004 , 0.00375 , 97.05, 145
> 0.004 <= 0.0045 , 0.00425 , 97.89, 126
> 0.0045 <= 0.005 , 0.00475 , 98.49, 89
> 0.005 <= 0.006 , 0.0055 , 99.13, 97
> 0.006 <= 0.007 , 0.0065 , 99.51, 56
> 0.007 <= 0.008 , 0.0075 , 99.59, 12
> 0.008 <= 0.009 , 0.0085 , 99.60, 2
> 0.012 <= 0.014 , 0.013 , 99.63, 4
> 0.014 <= 0.016 , 0.015 , 99.75, 18
> 0.016 <= 0.018 , 0.017 , 99.96, 32
> 0.018 <= 0.018654 , 0.018327 , 100.00, 6
# target 50% 0.00178728
# target 75% 0.00220667
# target 90% 0.00257076
# target 99% 0.00579381
# target 99.9% 0.0174375
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 1.945 ms avg, 1497.5 qps
Successfully wrote 4401 bytes of Json data to /data/2018-11-19-060256_grpc_istio_1500qps_10s_echo_1_0.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
06:03:06 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 1500.0 qps
06:03:06 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:03:16 I periodic.go:533> T002 ended after 10.000584851s : 3750 calls. qps=374.9780693701151
06:03:16 I periodic.go:533> T000 ended after 10.000674782s : 3750 calls. qps=374.97469738237504
06:03:16 I periodic.go:533> T001 ended after 10.000687301s : 3750 calls. qps=374.97422798381325
06:03:16 I periodic.go:533> T003 ended after 10.000697918s : 3750 calls. qps=374.97382990145826
Ended after 10.000709176s : 15000 calls. qps=1499.9
Sleep times : count 14996 avg 0.0020383872 +/- 0.0003864 min -0.00322807 max 0.002416974 sum 30.5676541
Aggregated Function Time : count 15000 avg 0.00039499193 +/- 0.000282 min 0.00010749 max 0.004858269 sum 5.92487901
# range, mid point, percentile, count
>= 0.00010749 <= 0.0002 , 0.000153745 , 1.29, 193
> 0.0002 <= 0.0003 , 0.00025 , 24.49, 3480
> 0.0003 <= 0.0004 , 0.00035 , 69.47, 6747
> 0.0004 <= 0.0005 , 0.00045 , 90.98, 3227
> 0.0005 <= 0.0006 , 0.00055 , 96.18, 780
> 0.0006 <= 0.0007 , 0.00065 , 97.48, 195
> 0.0007 <= 0.0008 , 0.00075 , 97.91, 64
> 0.0008 <= 0.0009 , 0.00085 , 98.04, 20
> 0.0009 <= 0.001 , 0.00095 , 98.17, 19
> 0.001 <= 0.0011 , 0.00105 , 98.33, 25
> 0.0011 <= 0.0012 , 0.00115 , 98.51, 27
> 0.0012 <= 0.0014 , 0.0013 , 98.77, 39
> 0.0014 <= 0.0016 , 0.0015 , 98.94, 25
> 0.0016 <= 0.0018 , 0.0017 , 99.05, 17
> 0.0018 <= 0.002 , 0.0019 , 99.29, 36
> 0.002 <= 0.0025 , 0.00225 , 99.49, 29
> 0.0025 <= 0.003 , 0.00275 , 99.68, 29
> 0.003 <= 0.0035 , 0.00325 , 99.76, 12
> 0.0035 <= 0.004 , 0.00375 , 99.87, 17
> 0.004 <= 0.0045 , 0.00425 , 99.95, 11
> 0.0045 <= 0.00485827 , 0.00467913 , 100.00, 8
# target 50% 0.000356722
# target 75% 0.00042572
# target 90% 0.000495445
# target 99% 0.00170588
# target 99.9% 0.00418182
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
Response Body/Total Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
All done 15000 calls (plus 4 warmup) 0.395 ms avg, 1499.9 qps
Successfully wrote 4321 bytes of Json data to /data/2018-11-19-060306_http_baseline_1500qps_10s_echo_0_1.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
06:03:16 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 1500.0 qps
06:03:16 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:03:26 I periodic.go:533> T000 ended after 10.000862745s : 3750 calls. qps=374.96764985349273
06:03:26 I periodic.go:533> T001 ended after 10.001364731s : 3750 calls. qps=374.9488295708871
06:03:26 I periodic.go:533> T003 ended after 10.001472031s : 3750 calls. qps=374.94480696208626
06:03:26 I periodic.go:533> T002 ended after 10.001536552s : 3750 calls. qps=374.94238815236
Ended after 10.001562921s : 15000 calls. qps=1499.8
Sleep times : count 14996 avg 0.0017212898 +/- 0.0005135 min -0.009208533 max 0.002136666 sum 25.8124619
Aggregated Function Time : count 15000 avg 0.00070945509 +/- 0.0003646 min 0.000393358 max 0.011390253 sum 10.6418263
# range, mid point, percentile, count
>= 0.000393358 <= 0.0004 , 0.000396679 , 0.01, 1
> 0.0004 <= 0.0005 , 0.00045 , 0.27, 39
> 0.0005 <= 0.0006 , 0.00055 , 20.77, 3075
> 0.0006 <= 0.0007 , 0.00065 , 71.02, 7538
> 0.0007 <= 0.0008 , 0.00075 , 89.64, 2793
> 0.0008 <= 0.0009 , 0.00085 , 95.12, 822
> 0.0009 <= 0.001 , 0.00095 , 96.85, 260
> 0.001 <= 0.0011 , 0.00105 , 97.37, 78
> 0.0011 <= 0.0012 , 0.00115 , 97.73, 54
> 0.0012 <= 0.0014 , 0.0013 , 98.10, 55
> 0.0014 <= 0.0016 , 0.0015 , 98.29, 29
> 0.0016 <= 0.0018 , 0.0017 , 98.69, 60
> 0.0018 <= 0.002 , 0.0019 , 99.01, 48
> 0.002 <= 0.0025 , 0.00225 , 99.20, 28
> 0.0025 <= 0.003 , 0.00275 , 99.39, 29
> 0.003 <= 0.0035 , 0.00325 , 99.47, 12
> 0.0035 <= 0.004 , 0.00375 , 99.63, 24
> 0.004 <= 0.0045 , 0.00425 , 99.83, 29
> 0.0045 <= 0.005 , 0.00475 , 99.95, 18
> 0.005 <= 0.006 , 0.0055 , 99.97, 4
> 0.01 <= 0.0113903 , 0.0106951 , 100.00, 4
# target 50% 0.000658172
# target 75% 0.000721375
# target 90% 0.000806569
# target 99% 0.00199167
# target 99.9% 0.00480556
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
Response Body/Total Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
All done 15000 calls (plus 4 warmup) 0.709 ms avg, 1499.8 qps
Successfully wrote 4305 bytes of Json data to /data/2018-11-19-060316_http_linkerd_1500qps_10s_echo_0_1.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
06:03:26 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 1500.0 qps
06:03:26 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:03:36 I periodic.go:533> T002 ended after 10.017446265s : 3750 calls. qps=374.3469044702682
06:03:36 I periodic.go:533> T000 ended after 10.017542408s : 3750 calls. qps=374.34331168942725
06:03:36 I periodic.go:533> T001 ended after 10.017574531s : 3750 calls. qps=374.3421112960423
06:03:36 I periodic.go:533> T003 ended after 10.01758732s : 3750 calls. qps=374.34163339042397
Ended after 10.017662503s : 15000 calls. qps=1497.4
Aggregated Sleep Time : count 14996 avg -0.0016480166 +/- 0.007844 min -0.068221005 max 0.001824818 sum -24.7136572
# range, mid point, percentile, count
>= -0.068221 <= -0.001 , -0.0346105 , 19.05, 2857
> -0.001 <= 0 , -0.0005 , 24.39, 800
> 0 <= 0.001 , 0.0005 , 74.48, 7512
> 0.001 <= 0.00182482 , 0.00141241 , 100.00, 3827
# target 50% 0.000511315
WARNING 19.05% of sleep were falling behind
Aggregated Function Time : count 15000 avg 0.0019029144 +/- 0.001477 min 0.000770147 max 0.045637168 sum 28.5437161
# range, mid point, percentile, count
>= 0.000770147 <= 0.0008 , 0.000785074 , 0.03, 4
> 0.0008 <= 0.0009 , 0.00085 , 0.12, 14
> 0.0009 <= 0.001 , 0.00095 , 0.25, 19
> 0.001 <= 0.0011 , 0.00105 , 0.68, 65
> 0.0011 <= 0.0012 , 0.00115 , 3.84, 474
> 0.0012 <= 0.0014 , 0.0013 , 23.51, 2950
> 0.0014 <= 0.0016 , 0.0015 , 40.29, 2518
> 0.0016 <= 0.0018 , 0.0017 , 55.10, 2221
> 0.0018 <= 0.002 , 0.0019 , 74.82, 2958
> 0.002 <= 0.0025 , 0.00225 , 93.63, 2822
> 0.0025 <= 0.003 , 0.00275 , 95.20, 235
> 0.003 <= 0.0035 , 0.00325 , 96.08, 132
> 0.0035 <= 0.004 , 0.00375 , 97.20, 168
> 0.004 <= 0.0045 , 0.00425 , 98.15, 142
> 0.0045 <= 0.005 , 0.00475 , 98.68, 80
> 0.005 <= 0.006 , 0.0055 , 99.13, 67
> 0.006 <= 0.007 , 0.0065 , 99.47, 51
> 0.007 <= 0.008 , 0.0075 , 99.55, 12
> 0.008 <= 0.009 , 0.0085 , 99.57, 4
> 0.012 <= 0.014 , 0.013 , 99.70, 19
> 0.014 <= 0.016 , 0.015 , 99.81, 17
> 0.016 <= 0.018 , 0.017 , 99.92, 16
> 0.03 <= 0.035 , 0.0325 , 99.95, 4
> 0.035 <= 0.04 , 0.0375 , 99.97, 4
> 0.045 <= 0.0456372 , 0.0453186 , 100.00, 4
# target 50% 0.00173111
# target 75% 0.00200478
# target 90% 0.00240344
# target 99% 0.00571642
# target 99.9% 0.017625
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 209 +/- 0 min 209 max 209 sum 3135000
Response Body/Total Sizes : count 15000 avg 209 +/- 0 min 209 max 209 sum 3135000
All done 15000 calls (plus 4 warmup) 1.903 ms avg, 1497.4 qps
Successfully wrote 4741 bytes of Json data to /data/2018-11-19-060326_http_istio_1500qps_10s_echo_0_1.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
06:03:37 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:03:47 I periodic.go:533> T002 ended after 10.000757556s : 3750 calls. qps=374.9715938019286
06:03:47 I periodic.go:533> T001 ended after 10.001318675s : 3750 calls. qps=374.9505562075293
06:03:47 I periodic.go:533> T003 ended after 10.003823509s : 3750 calls. qps=374.85667321362575
06:03:47 I periodic.go:533> T000 ended after 10.003860194s : 3750 calls. qps=374.8552985825544
Ended after 10.003875129s : 15000 calls. qps=1499.4
Sleep times : count 14996 avg 0.0016715634 +/- 0.0006487 min -0.008958418 max 0.002357049 sum 25.0667642
Aggregated Function Time : count 15000 avg 0.00069978706 +/- 0.0004126 min 0.000212901 max 0.011459725 sum 10.4968059
# range, mid point, percentile, count
>= 0.000212901 <= 0.0003 , 0.000256451 , 0.12, 18
> 0.0003 <= 0.0004 , 0.00035 , 1.27, 173
> 0.0004 <= 0.0005 , 0.00045 , 8.06, 1018
> 0.0005 <= 0.0006 , 0.00055 , 39.63, 4736
> 0.0006 <= 0.0007 , 0.00065 , 72.62, 4948
> 0.0007 <= 0.0008 , 0.00075 , 88.29, 2351
> 0.0008 <= 0.0009 , 0.00085 , 93.27, 746
> 0.0009 <= 0.001 , 0.00095 , 94.70, 215
> 0.001 <= 0.0011 , 0.00105 , 95.17, 70
> 0.0011 <= 0.0012 , 0.00115 , 95.54, 56
> 0.0012 <= 0.0014 , 0.0013 , 96.43, 134
> 0.0014 <= 0.0016 , 0.0015 , 97.19, 113
> 0.0016 <= 0.0018 , 0.0017 , 98.09, 136
> 0.0018 <= 0.002 , 0.0019 , 98.79, 105
> 0.002 <= 0.0025 , 0.00225 , 99.20, 61
> 0.0025 <= 0.003 , 0.00275 , 99.35, 22
> 0.003 <= 0.0035 , 0.00325 , 99.51, 25
> 0.0035 <= 0.004 , 0.00375 , 99.64, 19
> 0.004 <= 0.0045 , 0.00425 , 99.75, 17
> 0.0045 <= 0.005 , 0.00475 , 99.89, 21
> 0.005 <= 0.006 , 0.0055 , 99.95, 8
> 0.006 <= 0.007 , 0.0065 , 99.97, 4
> 0.01 <= 0.0114597 , 0.0107299 , 100.00, 4
# target 50% 0.000631427
# target 75% 0.000715185
# target 90% 0.000834316
# target 99% 0.0022541
# target 99.9% 0.005125
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 0.700 ms avg, 1499.4 qps
Successfully wrote 4016 bytes of Json data to /data/2018-11-19-060337_grpc_baseline_1500qps_10s_echo_0_1.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
06:03:47 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:03:57 I periodic.go:533> T002 ended after 10.001364493s : 3750 calls. qps=374.9488384934517
06:03:57 I periodic.go:533> T001 ended after 10.00203075s : 3750 calls. qps=374.923862336656
06:03:57 I periodic.go:533> T003 ended after 10.002258576s : 3750 calls. qps=374.9153225250513
06:03:57 I periodic.go:533> T000 ended after 10.002315885s : 3750 calls. qps=374.9131744203058
Ended after 10.002342941s : 15000 calls. qps=1499.6
Sleep times : count 14996 avg 0.0013461549 +/- 0.0005232 min -0.003591499 max 0.001881405 sum 20.1869396
Aggregated Function Time : count 15000 avg 0.001052024 +/- 0.0004054 min 0.000542071 max 0.005855661 sum 15.7803595
# range, mid point, percentile, count
>= 0.000542071 <= 0.0006 , 0.000571036 , 0.02, 3
> 0.0006 <= 0.0007 , 0.00065 , 0.17, 23
> 0.0007 <= 0.0008 , 0.00075 , 5.32, 772
> 0.0008 <= 0.0009 , 0.00085 , 23.89, 2786
> 0.0009 <= 0.001 , 0.00095 , 54.36, 4570
> 0.001 <= 0.0011 , 0.00105 , 78.92, 3684
> 0.0011 <= 0.0012 , 0.00115 , 89.90, 1647
> 0.0012 <= 0.0014 , 0.0013 , 95.56, 849
> 0.0014 <= 0.0016 , 0.0015 , 96.50, 141
> 0.0016 <= 0.0018 , 0.0017 , 97.04, 81
> 0.0018 <= 0.002 , 0.0019 , 97.77, 110
> 0.002 <= 0.0025 , 0.00225 , 98.76, 148
> 0.0025 <= 0.003 , 0.00275 , 99.05, 44
> 0.003 <= 0.0035 , 0.00325 , 99.20, 22
> 0.0035 <= 0.004 , 0.00375 , 99.33, 19
> 0.004 <= 0.0045 , 0.00425 , 99.51, 27
> 0.0045 <= 0.005 , 0.00475 , 99.74, 35
> 0.005 <= 0.00585566 , 0.00542783 , 100.00, 39
# target 50% 0.000985689
# target 75% 0.00108404
# target 90% 0.00120353
# target 99% 0.00290909
# target 99.9% 0.00552656
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 1.052 ms avg, 1499.6 qps
Successfully wrote 3328 bytes of Json data to /data/2018-11-19-060347_grpc_linkerd_1500qps_10s_echo_0_1.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8079
06:03:57 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:04:07 I periodic.go:533> T001 ended after 10.013318623s : 3750 calls. qps=374.5012159491731
06:04:07 I periodic.go:533> T000 ended after 10.015205569s : 3750 calls. qps=374.4306568811079
06:04:07 I periodic.go:533> T003 ended after 10.01536641s : 3750 calls. qps=374.4246437410171
06:04:07 I periodic.go:533> T002 ended after 10.015391139s : 3750 calls. qps=374.42371924921383
Ended after 10.015456425s : 15000 calls. qps=1497.7
Aggregated Sleep Time : count 14996 avg -0.00063235377 +/- 0.003832 min -0.037591545 max 0.002007009 sum -9.48277714
# range, mid point, percentile, count
>= -0.0375915 <= -0.001 , -0.0192958 , 15.19, 2278
> -0.001 <= 0 , -0.0005 , 26.15, 1643
> 0 <= 0.001 , 0.0005 , 86.70, 9081
> 0.001 <= 0.002 , 0.0015 , 99.99, 1993
> 0.002 <= 0.00200701 , 0.0020035 , 100.00, 1
# target 50% 0.000393899
WARNING 15.19% of sleep were falling behind
Aggregated Function Time : count 15000 avg 0.0019771326 +/- 0.001307 min 0.000527134 max 0.037237866 sum 29.6569894
# range, mid point, percentile, count
>= 0.000527134 <= 0.0006 , 0.000563567 , 0.09, 14
> 0.0006 <= 0.0007 , 0.00065 , 0.45, 54
> 0.0007 <= 0.0008 , 0.00075 , 1.35, 135
> 0.0008 <= 0.0009 , 0.00085 , 3.31, 293
> 0.0009 <= 0.001 , 0.00095 , 7.46, 623
> 0.001 <= 0.0011 , 0.00105 , 10.71, 488
> 0.0011 <= 0.0012 , 0.00115 , 13.47, 413
> 0.0012 <= 0.0014 , 0.0013 , 18.93, 819
> 0.0014 <= 0.0016 , 0.0015 , 30.17, 1686
> 0.0016 <= 0.0018 , 0.0017 , 47.62, 2618
> 0.0018 <= 0.002 , 0.0019 , 62.78, 2274
> 0.002 <= 0.0025 , 0.00225 , 87.89, 3767
> 0.0025 <= 0.003 , 0.00275 , 95.05, 1074
> 0.003 <= 0.0035 , 0.00325 , 96.11, 158
> 0.0035 <= 0.004 , 0.00375 , 97.22, 167
> 0.004 <= 0.0045 , 0.00425 , 97.93, 106
> 0.0045 <= 0.005 , 0.00475 , 98.47, 82
> 0.005 <= 0.006 , 0.0055 , 99.19, 107
> 0.006 <= 0.007 , 0.0065 , 99.51, 49
> 0.007 <= 0.008 , 0.0075 , 99.56, 7
> 0.008 <= 0.009 , 0.0085 , 99.59, 4
> 0.009 <= 0.01 , 0.0095 , 99.60, 2
> 0.012 <= 0.014 , 0.013 , 99.64, 6
> 0.014 <= 0.016 , 0.015 , 99.77, 20
> 0.016 <= 0.018 , 0.017 , 99.87, 14
> 0.018 <= 0.02 , 0.019 , 99.92, 8
> 0.02 <= 0.025 , 0.0225 , 99.97, 8
> 0.03 <= 0.035 , 0.0325 , 99.99, 3
> 0.035 <= 0.0372379 , 0.0361189 , 100.00, 1
# target 50% 0.0018314
# target 75% 0.0022433
# target 90% 0.00264711
# target 99% 0.00573832
# target 99.9% 0.01925
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 1.977 ms avg, 1497.7 qps
Successfully wrote 4768 bytes of Json data to /data/2018-11-19-060357_grpc_istio_1500qps_10s_echo_0_1.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
06:04:07 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 1500.0 qps
06:04:07 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:04:17 I periodic.go:533> T003 ended after 10.000465136s : 3750 calls. qps=374.9825582112804
06:04:17 I periodic.go:533> T002 ended after 10.000878752s : 3750 calls. qps=374.96704969551456
06:04:17 I periodic.go:533> T001 ended after 10.002991291s : 3750 calls. qps=374.8878601317978
06:04:17 I periodic.go:533> T000 ended after 10.003021154s : 3750 calls. qps=374.8867409423055
Ended after 10.003055217s : 15000 calls. qps=1499.5
Sleep times : count 14996 avg 0.0020532296 +/- 0.0004189 min -0.004352454 max 0.002426416 sum 30.7902315
Aggregated Function Time : count 15000 avg 0.00036884592 +/- 0.0002754 min 0.000110434 max 0.004909964 sum 5.53268873
# range, mid point, percentile, count
>= 0.000110434 <= 0.0002 , 0.000155217 , 2.33, 349
> 0.0002 <= 0.0003 , 0.00025 , 36.89, 5184
> 0.0003 <= 0.0004 , 0.00035 , 78.51, 6243
> 0.0004 <= 0.0005 , 0.00045 , 92.85, 2151
> 0.0005 <= 0.0006 , 0.00055 , 96.56, 557
> 0.0006 <= 0.0007 , 0.00065 , 97.62, 159
> 0.0007 <= 0.0008 , 0.00075 , 97.99, 55
> 0.0008 <= 0.0009 , 0.00085 , 98.11, 18
> 0.0009 <= 0.001 , 0.00095 , 98.31, 30
> 0.001 <= 0.0011 , 0.00105 , 98.49, 27
> 0.0011 <= 0.0012 , 0.00115 , 98.61, 18
> 0.0012 <= 0.0014 , 0.0013 , 98.69, 12
> 0.0014 <= 0.0016 , 0.0015 , 98.93, 37
> 0.0016 <= 0.0018 , 0.0017 , 99.09, 23
> 0.0018 <= 0.002 , 0.0019 , 99.41, 49
> 0.002 <= 0.0025 , 0.00225 , 99.53, 17
> 0.0025 <= 0.003 , 0.00275 , 99.68, 23
> 0.003 <= 0.0035 , 0.00325 , 99.84, 24
> 0.0035 <= 0.004 , 0.00375 , 99.89, 8
> 0.004 <= 0.0045 , 0.00425 , 99.95, 8
> 0.0045 <= 0.00490996 , 0.00470498 , 100.00, 8
# target 50% 0.000331507
# target 75% 0.000391575
# target 90% 0.000480149
# target 99% 0.00168696
# target 99.9% 0.0040625
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
Response Body/Total Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
All done 15000 calls (plus 4 warmup) 0.369 ms avg, 1499.5 qps
Successfully wrote 4354 bytes of Json data to /data/2018-11-19-060407_http_baseline_1500qps_10s_echo_1_1.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
06:04:17 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 1500.0 qps
06:04:17 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:04:27 I periodic.go:533> T002 ended after 10.000901501s : 3750 calls. qps=374.9661967598655
06:04:27 I periodic.go:533> T003 ended after 10.001551057s : 3750 calls. qps=374.9418443827677
06:04:27 I periodic.go:533> T001 ended after 10.001745294s : 3750 calls. qps=374.9345628956986
06:04:27 I periodic.go:533> T000 ended after 10.001774228s : 3750 calls. qps=374.9334782524747
Ended after 10.001854399s : 15000 calls. qps=1499.7
Sleep times : count 14996 avg 0.0016467538 +/- 0.000487 min -0.005251602 max 0.002204385 sum 24.6947202
Aggregated Function Time : count 15000 avg 0.0007726328 +/- 0.0003673 min 0.000374525 max 0.007746617 sum 11.589492
# range, mid point, percentile, count
>= 0.000374525 <= 0.0004 , 0.000387263 , 0.01, 2
> 0.0004 <= 0.0005 , 0.00045 , 0.12, 16
> 0.0005 <= 0.0006 , 0.00055 , 5.49, 806
> 0.0006 <= 0.0007 , 0.00065 , 46.07, 6087
> 0.0007 <= 0.0008 , 0.00075 , 78.12, 4807
> 0.0008 <= 0.0009 , 0.00085 , 90.93, 1921
> 0.0009 <= 0.001 , 0.00095 , 95.36, 665
> 0.001 <= 0.0011 , 0.00105 , 96.51, 172
> 0.0011 <= 0.0012 , 0.00115 , 96.97, 69
> 0.0012 <= 0.0014 , 0.0013 , 97.69, 108
> 0.0014 <= 0.0016 , 0.0015 , 98.15, 69
> 0.0016 <= 0.0018 , 0.0017 , 98.65, 76
> 0.0018 <= 0.002 , 0.0019 , 98.93, 42
> 0.002 <= 0.0025 , 0.00225 , 99.09, 23
> 0.0025 <= 0.003 , 0.00275 , 99.27, 27
> 0.003 <= 0.0035 , 0.00325 , 99.43, 25
> 0.0035 <= 0.004 , 0.00375 , 99.57, 21
> 0.004 <= 0.0045 , 0.00425 , 99.71, 20
> 0.0045 <= 0.005 , 0.00475 , 99.84, 20
> 0.005 <= 0.006 , 0.0055 , 99.97, 20
> 0.007 <= 0.00774662 , 0.00737331 , 100.00, 4
# target 50% 0.000712253
# target 75% 0.000790264
# target 90% 0.000892764
# target 99% 0.00221739
# target 99.9% 0.00545
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
Response Body/Total Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
All done 15000 calls (plus 4 warmup) 0.773 ms avg, 1499.7 qps
Successfully wrote 4313 bytes of Json data to /data/2018-11-19-060417_http_linkerd_1500qps_10s_echo_1_1.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
06:04:27 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 1500.0 qps
06:04:27 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:04:37 I periodic.go:533> T000 ended after 10.014838364s : 3750 calls. qps=374.44438579058834
06:04:37 I periodic.go:533> T003 ended after 10.01492082s : 3750 calls. qps=374.44130287192826
06:04:37 I periodic.go:533> T001 ended after 10.014935711s : 3750 calls. qps=374.4407461229284
06:04:37 I periodic.go:533> T002 ended after 10.014946804s : 3750 calls. qps=374.44033137572325
Ended after 10.015005884s : 15000 calls. qps=1497.8
Aggregated Sleep Time : count 14996 avg -0.0013243176 +/- 0.006098 min -0.045572531 max 0.001740569 sum -19.8594675
# range, mid point, percentile, count
>= -0.0455725 <= -0.001 , -0.0232863 , 18.71, 2806
> -0.001 <= 0 , -0.0005 , 23.35, 696
> 0 <= 0.001 , 0.0005 , 74.87, 7726
> 0.001 <= 0.00174057 , 0.00137028 , 100.00, 3768
# target 50% 0.000517215
WARNING 18.71% of sleep were falling behind
Aggregated Function Time : count 15000 avg 0.0018921313 +/- 0.001319 min 0.000582236 max 0.035497963 sum 28.38197
# range, mid point, percentile, count
>= 0.000582236 <= 0.0006 , 0.000591118 , 0.01, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.03, 3
> 0.0007 <= 0.0008 , 0.00075 , 0.09, 10
> 0.0008 <= 0.0009 , 0.00085 , 0.18, 13
> 0.0009 <= 0.001 , 0.00095 , 0.38, 30
> 0.001 <= 0.0011 , 0.00105 , 0.87, 73
> 0.0011 <= 0.0012 , 0.00115 , 4.25, 507
> 0.0012 <= 0.0014 , 0.0013 , 23.29, 2856
> 0.0014 <= 0.0016 , 0.0015 , 41.06, 2666
> 0.0016 <= 0.0018 , 0.0017 , 55.56, 2175
> 0.0018 <= 0.002 , 0.0019 , 76.17, 3091
> 0.002 <= 0.0025 , 0.00225 , 93.50, 2600
> 0.0025 <= 0.003 , 0.00275 , 95.23, 259
> 0.003 <= 0.0035 , 0.00325 , 96.12, 134
> 0.0035 <= 0.004 , 0.00375 , 97.04, 138
> 0.004 <= 0.0045 , 0.00425 , 98.13, 164
> 0.0045 <= 0.005 , 0.00475 , 98.65, 78
> 0.005 <= 0.006 , 0.0055 , 99.20, 82
> 0.006 <= 0.007 , 0.0065 , 99.42, 33
> 0.007 <= 0.008 , 0.0075 , 99.47, 8
> 0.008 <= 0.009 , 0.0085 , 99.49, 3
> 0.012 <= 0.014 , 0.013 , 99.60, 16
> 0.014 <= 0.016 , 0.015 , 99.89, 44
> 0.016 <= 0.018 , 0.017 , 99.95, 8
> 0.03 <= 0.035 , 0.0325 , 99.97, 4
> 0.035 <= 0.035498 , 0.035249 , 100.00, 4
# target 50% 0.00172331
# target 75% 0.00198868
# target 90% 0.00239904
# target 99% 0.00563415
# target 99.9% 0.01625
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 209.0008 +/- 0.02827 min 209 max 210 sum 3135012
Response Body/Total Sizes : count 15000 avg 209.0008 +/- 0.02827 min 209 max 210 sum 3135012
All done 15000 calls (plus 4 warmup) 1.892 ms avg, 1497.8 qps
Successfully wrote 4945 bytes of Json data to /data/2018-11-19-060427_http_istio_1500qps_10s_echo_1_1.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
06:04:37 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:04:47 I periodic.go:533> T000 ended after 10.00087158s : 3750 calls. qps=374.9673185984456
06:04:47 I periodic.go:533> T001 ended after 10.001263253s : 3750 calls. qps=374.9526339960247
06:04:47 I periodic.go:533> T003 ended after 10.003631027s : 3750 calls. qps=374.86388591089326
06:04:47 I periodic.go:533> T002 ended after 10.003678361s : 3750 calls. qps=374.86211218261695
Ended after 10.003710952s : 15000 calls. qps=1499.4
Sleep times : count 14996 avg 0.0017054821 +/- 0.0005377 min -0.005219714 max 0.002350838 sum 25.5754102
Aggregated Function Time : count 15000 avg 0.00068216134 +/- 0.0003545 min 0.000177103 max 0.007020585 sum 10.2324201
# range, mid point, percentile, count
>= 0.000177103 <= 0.0002 , 0.000188551 , 0.01, 1
> 0.0002 <= 0.0003 , 0.00025 , 0.15, 21
> 0.0003 <= 0.0004 , 0.00035 , 1.01, 130
> 0.0004 <= 0.0005 , 0.00045 , 9.28, 1240
> 0.0005 <= 0.0006 , 0.00055 , 44.23, 5242
> 0.0006 <= 0.0007 , 0.00065 , 76.32, 4814
> 0.0007 <= 0.0008 , 0.00075 , 89.81, 2024
> 0.0008 <= 0.0009 , 0.00085 , 93.78, 595
> 0.0009 <= 0.001 , 0.00095 , 94.83, 158
> 0.001 <= 0.0011 , 0.00105 , 95.19, 53
> 0.0011 <= 0.0012 , 0.00115 , 95.53, 52
> 0.0012 <= 0.0014 , 0.0013 , 96.59, 159
> 0.0014 <= 0.0016 , 0.0015 , 97.48, 133
> 0.0016 <= 0.0018 , 0.0017 , 98.23, 113
> 0.0018 <= 0.002 , 0.0019 , 98.85, 92
> 0.002 <= 0.0025 , 0.00225 , 99.27, 64
> 0.0025 <= 0.003 , 0.00275 , 99.44, 25
> 0.003 <= 0.0035 , 0.00325 , 99.65, 32
> 0.0035 <= 0.004 , 0.00375 , 99.73, 11
> 0.004 <= 0.0045 , 0.00425 , 99.79, 10
> 0.0045 <= 0.005 , 0.00475 , 99.97, 26
> 0.005 <= 0.006 , 0.0055 , 99.99, 4
> 0.007 <= 0.00702059 , 0.00701029 , 100.00, 1
# target 50% 0.000617989
# target 75% 0.000695887
# target 90% 0.000804706
# target 99% 0.00217969
# target 99.9% 0.00480769
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 0.682 ms avg, 1499.4 qps
Successfully wrote 4052 bytes of Json data to /data/2018-11-19-060437_grpc_baseline_1500qps_10s_echo_1_1.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
06:04:47 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:04:57 I periodic.go:533> T002 ended after 10.001094755s : 3750 calls. qps=374.95895118133996
06:04:57 I periodic.go:533> T001 ended after 10.001854207s : 3750 calls. qps=374.9304801279234
06:04:57 I periodic.go:533> T003 ended after 10.002066083s : 3750 calls. qps=374.92253789181444
06:04:57 I periodic.go:533> T000 ended after 10.002158821s : 3750 calls. qps=374.91906168563327
Ended after 10.00222122s : 15000 calls. qps=1499.7
Sleep times : count 14996 avg 0.0013755153 +/- 0.0005043 min -0.003542641 max 0.001973706 sum 20.6272273
Aggregated Function Time : count 15000 avg 0.0010242418 +/- 0.0003724 min 0.000517941 max 0.006083197 sum 15.3636271
# range, mid point, percentile, count
>= 0.000517941 <= 0.0006 , 0.00055897 , 0.02, 3
> 0.0006 <= 0.0007 , 0.00065 , 0.25, 35
> 0.0007 <= 0.0008 , 0.00075 , 8.01, 1163
> 0.0008 <= 0.0009 , 0.00085 , 29.83, 3273
> 0.0009 <= 0.001 , 0.00095 , 61.67, 4776
> 0.001 <= 0.0011 , 0.00105 , 83.05, 3208
> 0.0011 <= 0.0012 , 0.00115 , 91.35, 1245
> 0.0012 <= 0.0014 , 0.0013 , 95.85, 674
> 0.0014 <= 0.0016 , 0.0015 , 96.74, 134
> 0.0016 <= 0.0018 , 0.0017 , 97.27, 79
> 0.0018 <= 0.002 , 0.0019 , 97.86, 89
> 0.002 <= 0.0025 , 0.00225 , 98.91, 158
> 0.0025 <= 0.003 , 0.00275 , 99.23, 47
> 0.003 <= 0.0035 , 0.00325 , 99.38, 23
> 0.0035 <= 0.004 , 0.00375 , 99.55, 25
> 0.004 <= 0.0045 , 0.00425 , 99.71, 25
> 0.0045 <= 0.005 , 0.00475 , 99.84, 19
> 0.005 <= 0.006 , 0.0055 , 99.99, 22
> 0.006 <= 0.0060832 , 0.0060416 , 100.00, 2
# target 50% 0.000963358
# target 75% 0.00106234
# target 90% 0.00118369
# target 99% 0.0026383
# target 99.9% 0.00540909
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 1.024 ms avg, 1499.7 qps
Successfully wrote 3520 bytes of Json data to /data/2018-11-19-060447_grpc_linkerd_1500qps_10s_echo_1_1.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8079
06:04:57 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:05:07 I periodic.go:533> T003 ended after 10.01253218s : 3750 calls. qps=374.5306314710891
06:05:07 I periodic.go:533> T002 ended after 10.01340331s : 3750 calls. qps=374.49804865594695
06:05:07 I periodic.go:533> T000 ended after 10.013865213s : 3750 calls. qps=374.4807744298125
06:05:07 I periodic.go:533> T001 ended after 10.01388888s : 3750 calls. qps=374.4798893754052
Ended after 10.013901856s : 15000 calls. qps=1497.9
Aggregated Sleep Time : count 14996 avg -0.00062849441 +/- 0.003517 min -0.038499847 max 0.002028688 sum -9.42490212
# range, mid point, percentile, count
>= -0.0384998 <= -0.001 , -0.0197499 , 15.96, 2394
> -0.001 <= 0 , -0.0005 , 27.45, 1722
> 0 <= 0.001 , 0.0005 , 86.85, 8908
> 0.001 <= 0.002 , 0.0015 , 99.99, 1970
> 0.002 <= 0.00202869 , 0.00201434 , 100.00, 2
# target 50% 0.000379659
WARNING 15.96% of sleep were falling behind
Aggregated Function Time : count 15000 avg 0.001982659 +/- 0.001187 min 0.000484288 max 0.020899567 sum 29.7398854
# range, mid point, percentile, count
>= 0.000484288 <= 0.0005 , 0.000492144 , 0.01, 2
> 0.0005 <= 0.0006 , 0.00055 , 0.11, 15
> 0.0006 <= 0.0007 , 0.00065 , 0.57, 68
> 0.0007 <= 0.0008 , 0.00075 , 1.39, 123
> 0.0008 <= 0.0009 , 0.00085 , 3.16, 266
> 0.0009 <= 0.001 , 0.00095 , 7.13, 595
> 0.001 <= 0.0011 , 0.00105 , 11.00, 581
> 0.0011 <= 0.0012 , 0.00115 , 13.89, 434
> 0.0012 <= 0.0014 , 0.0013 , 19.25, 803
> 0.0014 <= 0.0016 , 0.0015 , 29.34, 1514
> 0.0016 <= 0.0018 , 0.0017 , 47.77, 2764
> 0.0018 <= 0.002 , 0.0019 , 62.69, 2238
> 0.002 <= 0.0025 , 0.00225 , 87.01, 3648
> 0.0025 <= 0.003 , 0.00275 , 94.71, 1155
> 0.003 <= 0.0035 , 0.00325 , 96.00, 194
> 0.0035 <= 0.004 , 0.00375 , 96.81, 122
> 0.004 <= 0.0045 , 0.00425 , 97.81, 149
> 0.0045 <= 0.005 , 0.00475 , 98.47, 100
> 0.005 <= 0.006 , 0.0055 , 99.15, 101
> 0.006 <= 0.007 , 0.0065 , 99.40, 38
> 0.007 <= 0.008 , 0.0075 , 99.49, 14
> 0.008 <= 0.009 , 0.0085 , 99.52, 4
> 0.009 <= 0.01 , 0.0095 , 99.55, 4
> 0.01 <= 0.012 , 0.011 , 99.57, 4
> 0.012 <= 0.014 , 0.013 , 99.64, 10
> 0.014 <= 0.016 , 0.015 , 99.87, 34
> 0.016 <= 0.018 , 0.017 , 99.97, 16
> 0.018 <= 0.02 , 0.019 , 99.98, 1
> 0.02 <= 0.0208996 , 0.0204498 , 100.00, 3
# target 50% 0.00182994
# target 75% 0.00225315
# target 90% 0.00269437
# target 99% 0.00578218
# target 99.9% 0.016625
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 1.983 ms avg, 1497.9 qps
Successfully wrote 4753 bytes of Json data to /data/2018-11-19-060457_grpc_istio_1500qps_10s_echo_1_1.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
06:05:07 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 1500.0 qps
06:05:07 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:05:17 I periodic.go:533> T003 ended after 10.000407209s : 3750 calls. qps=374.9847302842966
06:05:17 I periodic.go:533> T000 ended after 10.000831923s : 3750 calls. qps=374.96880548264363
06:05:17 I periodic.go:533> T002 ended after 10.004301703s : 3750 calls. qps=374.8387555000949
06:05:17 I periodic.go:533> T001 ended after 10.004340626s : 3750 calls. qps=374.8372971482229
Ended after 10.004355099s : 15000 calls. qps=1499.3
Sleep times : count 14996 avg 0.0020442126 +/- 0.0004116 min -0.003716362 max 0.002390255 sum 30.6550126
Aggregated Function Time : count 15000 avg 0.00036999131 +/- 0.0002681 min 0.000108121 max 0.005560124 sum 5.54986967
# range, mid point, percentile, count
>= 0.000108121 <= 0.0002 , 0.000154061 , 2.12, 318
> 0.0002 <= 0.0003 , 0.00025 , 35.29, 4976
> 0.0003 <= 0.0004 , 0.00035 , 77.33, 6305
> 0.0004 <= 0.0005 , 0.00045 , 92.83, 2325
> 0.0005 <= 0.0006 , 0.00055 , 96.68, 578
> 0.0006 <= 0.0007 , 0.00065 , 97.69, 151
> 0.0007 <= 0.0008 , 0.00075 , 98.06, 56
> 0.0008 <= 0.0009 , 0.00085 , 98.28, 33
> 0.0009 <= 0.001 , 0.00095 , 98.55, 41
> 0.001 <= 0.0011 , 0.00105 , 98.69, 20
> 0.0011 <= 0.0012 , 0.00115 , 98.86, 26
> 0.0012 <= 0.0014 , 0.0013 , 98.98, 18
> 0.0014 <= 0.0016 , 0.0015 , 99.15, 25
> 0.0016 <= 0.0018 , 0.0017 , 99.22, 11
> 0.0018 <= 0.002 , 0.0019 , 99.43, 32
> 0.002 <= 0.0025 , 0.00225 , 99.53, 15
> 0.0025 <= 0.003 , 0.00275 , 99.70, 25
> 0.003 <= 0.0035 , 0.00325 , 99.80, 15
> 0.0035 <= 0.004 , 0.00375 , 99.90, 15
> 0.004 <= 0.0045 , 0.00425 , 99.92, 3
> 0.0045 <= 0.005 , 0.00475 , 99.99, 11
> 0.005 <= 0.00556012 , 0.00528006 , 100.00, 1
# target 50% 0.000334988
# target 75% 0.000394465
# target 90% 0.000481763
# target 99% 0.001424
# target 99.9% 0.004
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
Response Body/Total Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
All done 15000 calls (plus 4 warmup) 0.370 ms avg, 1499.3 qps
Successfully wrote 4374 bytes of Json data to /data/2018-11-19-060507_http_baseline_1500qps_10s_echo_0_2.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
06:05:17 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 1500.0 qps
06:05:17 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:05:27 I periodic.go:533> T000 ended after 10.000739305s : 3750 calls. qps=374.97227811199303
06:05:27 I periodic.go:533> T002 ended after 10.001105163s : 3750 calls. qps=374.9585609671886
06:05:27 I periodic.go:533> T003 ended after 10.003222257s : 3750 calls. qps=374.8792042859835
06:05:27 I periodic.go:533> T001 ended after 10.003249932s : 3750 calls. qps=374.8781671448495
Ended after 10.003264892s : 15000 calls. qps=1499.5
Sleep times : count 14996 avg 0.001678232 +/- 0.0007942 min -0.01895786 max 0.002107449 sum 25.1667677
Aggregated Function Time : count 15000 avg 0.00072176933 +/- 0.000321 min 0.000375029 max 0.005167999 sum 10.82654
# range, mid point, percentile, count
>= 0.000375029 <= 0.0004 , 0.000387514 , 0.02, 3
> 0.0004 <= 0.0005 , 0.00045 , 0.31, 43
> 0.0005 <= 0.0006 , 0.00055 , 16.15, 2377
> 0.0006 <= 0.0007 , 0.00065 , 65.52, 7405
> 0.0007 <= 0.0008 , 0.00075 , 87.53, 3302
> 0.0008 <= 0.0009 , 0.00085 , 94.29, 1013
> 0.0009 <= 0.001 , 0.00095 , 96.15, 280
> 0.001 <= 0.0011 , 0.00105 , 96.99, 125
> 0.0011 <= 0.0012 , 0.00115 , 97.27, 43
> 0.0012 <= 0.0014 , 0.0013 , 97.75, 72
> 0.0014 <= 0.0016 , 0.0015 , 98.27, 77
> 0.0016 <= 0.0018 , 0.0017 , 98.67, 61
> 0.0018 <= 0.002 , 0.0019 , 98.94, 40
> 0.002 <= 0.0025 , 0.00225 , 99.21, 41
> 0.0025 <= 0.003 , 0.00275 , 99.49, 42
> 0.003 <= 0.0035 , 0.00325 , 99.59, 15
> 0.0035 <= 0.004 , 0.00375 , 99.69, 15
> 0.004 <= 0.0045 , 0.00425 , 99.81, 18
> 0.0045 <= 0.005 , 0.00475 , 99.95, 20
> 0.005 <= 0.005168 , 0.005084 , 100.00, 8
# target 50% 0.000668562
# target 75% 0.000743065
# target 90% 0.000836525
# target 99% 0.00210976
# target 99.9% 0.004825
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
Response Body/Total Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
All done 15000 calls (plus 4 warmup) 0.722 ms avg, 1499.5 qps
Successfully wrote 4210 bytes of Json data to /data/2018-11-19-060517_http_linkerd_1500qps_10s_echo_0_2.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
06:05:27 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 1500.0 qps
06:05:27 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:05:37 W periodic.go:487> T000 warning only did 3745 out of 3750 calls before reaching 10s
06:05:37 I periodic.go:533> T000 ended after 10.002795717s : 3745 calls. qps=374.3953296612146
06:05:37 W periodic.go:487> T003 warning only did 3745 out of 3750 calls before reaching 10s
06:05:37 I periodic.go:533> T003 ended after 10.002818401s : 3745 calls. qps=374.394480622142
06:05:37 W periodic.go:487> T002 warning only did 3745 out of 3750 calls before reaching 10s
06:05:37 I periodic.go:533> T002 ended after 10.002830549s : 3745 calls. qps=374.39402593642797
06:05:37 W periodic.go:487> T001 warning only did 3745 out of 3750 calls before reaching 10s
06:05:37 I periodic.go:533> T001 ended after 10.002841438s : 3745 calls. qps=374.39361837457926
Ended after 10.002853814s : 14980 calls. qps=1497.6
Aggregated Sleep Time : count 14980 avg -0.00020445564 +/- 0.003325 min -0.031535148 max 0.00180459 sum -3.0627455
# range, mid point, percentile, count
>= -0.0315351 <= -0.001 , -0.0162676 , 13.14, 1969
> -0.001 <= 0 , -0.0005 , 17.47, 648
> 0 <= 0.001 , 0.0005 , 65.62, 7213
> 0.001 <= 0.00180459 , 0.0014023 , 100.00, 5150
# target 50% 0.000675586
WARNING 13.14% of sleep were falling behind
Aggregated Function Time : count 14980 avg 0.0017709217 +/- 0.0009837 min 0.000685155 max 0.01809236 sum 26.5284068
# range, mid point, percentile, count
>= 0.000685155 <= 0.0007 , 0.000692577 , 0.01, 2
> 0.0007 <= 0.0008 , 0.00075 , 0.05, 6
> 0.0008 <= 0.0009 , 0.00085 , 0.15, 15
> 0.0009 <= 0.001 , 0.00095 , 0.33, 26
> 0.001 <= 0.0011 , 0.00105 , 1.11, 118
> 0.0011 <= 0.0012 , 0.00115 , 8.51, 1108
> 0.0012 <= 0.0014 , 0.0013 , 31.09, 3382
> 0.0014 <= 0.0016 , 0.0015 , 47.22, 2416
> 0.0016 <= 0.0018 , 0.0017 , 63.26, 2404
> 0.0018 <= 0.002 , 0.0019 , 81.30, 2702
> 0.002 <= 0.0025 , 0.00225 , 94.91, 2038
> 0.0025 <= 0.003 , 0.00275 , 95.95, 157
> 0.003 <= 0.0035 , 0.00325 , 96.96, 150
> 0.0035 <= 0.004 , 0.00375 , 97.91, 143
> 0.004 <= 0.0045 , 0.00425 , 98.71, 120
> 0.0045 <= 0.005 , 0.00475 , 99.21, 74
> 0.005 <= 0.006 , 0.0055 , 99.48, 41
> 0.006 <= 0.007 , 0.0065 , 99.60, 18
> 0.012 <= 0.014 , 0.013 , 99.87, 40
> 0.014 <= 0.016 , 0.015 , 99.92, 8
> 0.016 <= 0.018 , 0.017 , 99.97, 8
> 0.018 <= 0.0180924 , 0.0180462 , 100.00, 4
# target 50% 0.00163469
# target 75% 0.00193013
# target 90% 0.00231968
# target 99% 0.00479189
# target 99.9% 0.015255
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 14980 (100.0 %)
Response Header Sizes : count 14980 avg 209.00027 +/- 0.01634 min 209 max 210 sum 3130824
Response Body/Total Sizes : count 14980 avg 209.00027 +/- 0.01634 min 209 max 210 sum 3130824
All done 14980 calls (plus 4 warmup) 1.771 ms avg, 1497.6 qps
Successfully wrote 4555 bytes of Json data to /data/2018-11-19-060527_http_istio_1500qps_10s_echo_0_2.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
06:05:37 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:05:47 I periodic.go:533> T002 ended after 10.000815413s : 3750 calls. qps=374.9694245056656
06:05:47 I periodic.go:533> T003 ended after 10.001268691s : 3750 calls. qps=374.9524301226475
06:05:47 I periodic.go:533> T001 ended after 10.003350338s : 3750 calls. qps=374.87440440376986
06:05:47 I periodic.go:533> T000 ended after 10.00338849s : 3750 calls. qps=374.8729746674069
Ended after 10.003403453s : 15000 calls. qps=1499.5
Sleep times : count 14996 avg 0.0017090539 +/- 0.0004981 min -0.003348646 max 0.002394256 sum 25.6289718
Aggregated Function Time : count 15000 avg 0.00068038434 +/- 0.0003339 min 0.000211367 max 0.004985691 sum 10.2057651
# range, mid point, percentile, count
>= 0.000211367 <= 0.0003 , 0.000255683 , 0.14, 21
> 0.0003 <= 0.0004 , 0.00035 , 0.99, 128
> 0.0004 <= 0.0005 , 0.00045 , 9.07, 1212
> 0.0005 <= 0.0006 , 0.00055 , 43.62, 5182
> 0.0006 <= 0.0007 , 0.00065 , 76.15, 4879
> 0.0007 <= 0.0008 , 0.00075 , 89.86, 2057
> 0.0008 <= 0.0009 , 0.00085 , 93.61, 563
> 0.0009 <= 0.001 , 0.00095 , 94.85, 186
> 0.001 <= 0.0011 , 0.00105 , 95.22, 55
> 0.0011 <= 0.0012 , 0.00115 , 95.37, 23
> 0.0012 <= 0.0014 , 0.0013 , 96.61, 185
> 0.0014 <= 0.0016 , 0.0015 , 97.59, 147
> 0.0016 <= 0.0018 , 0.0017 , 98.31, 109
> 0.0018 <= 0.002 , 0.0019 , 98.93, 93
> 0.002 <= 0.0025 , 0.00225 , 99.43, 74
> 0.0025 <= 0.003 , 0.00275 , 99.55, 19
> 0.003 <= 0.0035 , 0.00325 , 99.69, 21
> 0.0035 <= 0.004 , 0.00375 , 99.74, 7
> 0.004 <= 0.0045 , 0.00425 , 99.87, 19
> 0.0045 <= 0.00498569 , 0.00474285 , 100.00, 20
# target 50% 0.000619615
# target 75% 0.000696475
# target 90% 0.00080373
# target 99% 0.00206757
# target 99.9% 0.00462142
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 0.680 ms avg, 1499.5 qps
Successfully wrote 3686 bytes of Json data to /data/2018-11-19-060537_grpc_baseline_1500qps_10s_echo_0_2.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
06:05:47 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:05:57 I periodic.go:533> T002 ended after 10.001072518s : 3750 calls. qps=374.9597848881431
06:05:57 I periodic.go:533> T003 ended after 10.003646836s : 3750 calls. qps=374.8632935046169
06:05:57 I periodic.go:533> T000 ended after 10.003681422s : 3750 calls. qps=374.8619974795515
06:05:57 I periodic.go:533> T001 ended after 10.003694133s : 3750 calls. qps=374.86152116842214
Ended after 10.003728666s : 15000 calls. qps=1499.4
Sleep times : count 14996 avg 0.0013864827 +/- 0.0005332 min -0.005584946 max 0.001962553 sum 20.7916951
Aggregated Function Time : count 15000 avg 0.0010051471 +/- 0.0003736 min 0.000533069 max 0.005608926 sum 15.077207
# range, mid point, percentile, count
>= 0.000533069 <= 0.0006 , 0.000566535 , 0.03, 5
> 0.0006 <= 0.0007 , 0.00065 , 0.56, 79
> 0.0007 <= 0.0008 , 0.00075 , 10.81, 1538
> 0.0008 <= 0.0009 , 0.00085 , 34.86, 3607
> 0.0009 <= 0.001 , 0.00095 , 65.87, 4651
> 0.001 <= 0.0011 , 0.00105 , 85.18, 2897
> 0.0011 <= 0.0012 , 0.00115 , 92.66, 1122
> 0.0012 <= 0.0014 , 0.0013 , 96.32, 549
> 0.0014 <= 0.0016 , 0.0015 , 97.03, 106
> 0.0016 <= 0.0018 , 0.0017 , 97.68, 98
> 0.0018 <= 0.002 , 0.0019 , 98.37, 104
> 0.002 <= 0.0025 , 0.00225 , 98.97, 90
> 0.0025 <= 0.003 , 0.00275 , 99.11, 21
> 0.003 <= 0.0035 , 0.00325 , 99.27, 23
> 0.0035 <= 0.004 , 0.00375 , 99.39, 18
> 0.004 <= 0.0045 , 0.00425 , 99.65, 40
> 0.0045 <= 0.005 , 0.00475 , 99.89, 36
> 0.005 <= 0.00560893 , 0.00530446 , 100.00, 16
# target 50% 0.000948828
# target 75% 0.00104729
# target 90% 0.00116444
# target 99% 0.00259524
# target 99.9% 0.00503806
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 1.005 ms avg, 1499.4 qps
Successfully wrote 3392 bytes of Json data to /data/2018-11-19-060547_grpc_linkerd_1500qps_10s_echo_0_2.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8079
06:05:57 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:06:07 I periodic.go:533> T002 ended after 10.01572155s : 3750 calls. qps=374.4113672968474
06:06:07 I periodic.go:533> T000 ended after 10.01627164s : 3750 calls. qps=374.3908047605626
06:06:07 I periodic.go:533> T003 ended after 10.017193413s : 3750 calls. qps=374.35635366023456
06:06:07 I periodic.go:533> T001 ended after 10.017239358s : 3750 calls. qps=374.3546366400003
Ended after 10.017252145s : 15000 calls. qps=1497.4
Aggregated Sleep Time : count 14996 avg -0.00034864938 +/- 0.002878 min -0.022131041 max 0.002068735 sum -5.22834607
# range, mid point, percentile, count
>= -0.022131 <= -0.001 , -0.0115655 , 14.45, 2167
> -0.001 <= 0 , -0.0005 , 24.49, 1505
> 0 <= 0.001 , 0.0005 , 85.77, 9190
> 0.001 <= 0.002 , 0.0015 , 99.99, 2133
> 0.002 <= 0.00206873 , 0.00203437 , 100.00, 1
# target 50% 0.000416322
WARNING 14.45% of sleep were falling behind
Aggregated Function Time : count 15000 avg 0.0019544058 +/- 0.001206 min 0.000483627 max 0.022073882 sum 29.3160863
# range, mid point, percentile, count
>= 0.000483627 <= 0.0005 , 0.000491813 , 0.01, 1
> 0.0005 <= 0.0006 , 0.00055 , 0.14, 20
> 0.0006 <= 0.0007 , 0.00065 , 0.51, 55
> 0.0007 <= 0.0008 , 0.00075 , 1.37, 129
> 0.0008 <= 0.0009 , 0.00085 , 3.25, 283
> 0.0009 <= 0.001 , 0.00095 , 7.79, 680
> 0.001 <= 0.0011 , 0.00105 , 11.58, 569
> 0.0011 <= 0.0012 , 0.00115 , 14.38, 420
> 0.0012 <= 0.0014 , 0.0013 , 19.21, 724
> 0.0014 <= 0.0016 , 0.0015 , 32.27, 1959
> 0.0016 <= 0.0018 , 0.0017 , 51.19, 2839
> 0.0018 <= 0.002 , 0.0019 , 64.23, 1956
> 0.002 <= 0.0025 , 0.00225 , 88.17, 3591
> 0.0025 <= 0.003 , 0.00275 , 94.81, 996
> 0.003 <= 0.0035 , 0.00325 , 96.01, 179
> 0.0035 <= 0.004 , 0.00375 , 97.15, 172
> 0.004 <= 0.0045 , 0.00425 , 97.96, 121
> 0.0045 <= 0.005 , 0.00475 , 98.57, 92
> 0.005 <= 0.006 , 0.0055 , 99.21, 96
> 0.006 <= 0.007 , 0.0065 , 99.53, 47
> 0.007 <= 0.008 , 0.0075 , 99.58, 8
> 0.008 <= 0.009 , 0.0085 , 99.60, 3
> 0.012 <= 0.014 , 0.013 , 99.62, 3
> 0.014 <= 0.016 , 0.015 , 99.75, 19
> 0.016 <= 0.018 , 0.017 , 99.95, 30
> 0.018 <= 0.02 , 0.019 , 99.97, 3
> 0.02 <= 0.0220739 , 0.0210369 , 100.00, 5
# target 50% 0.00178739
# target 75% 0.00222487
# target 90% 0.00263755
# target 99% 0.00566667
# target 99.9% 0.0175333
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 1.954 ms avg, 1497.4 qps
Successfully wrote 4511 bytes of Json data to /data/2018-11-19-060557_grpc_istio_1500qps_10s_echo_0_2.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
06:06:07 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 1500.0 qps
06:06:07 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:06:17 I periodic.go:533> T002 ended after 10.00044176s : 3750 calls. qps=374.9834347317873
06:06:17 I periodic.go:533> T000 ended after 10.000544505s : 3750 calls. qps=374.9795821742608
06:06:17 I periodic.go:533> T001 ended after 10.00055881s : 3750 calls. qps=374.9790457959419
06:06:17 I periodic.go:533> T003 ended after 10.000567867s : 3750 calls. qps=374.97870619670476
Ended after 10.000596066s : 15000 calls. qps=1499.9
Sleep times : count 14996 avg 0.0020427483 +/- 0.0003917 min -0.00274912 max 0.002400563 sum 30.6330535
Aggregated Function Time : count 15000 avg 0.00037193812 +/- 0.0002651 min 0.00010456 max 0.005126451 sum 5.5790718
# range, mid point, percentile, count
>= 0.00010456 <= 0.0002 , 0.00015228 , 2.14, 321
> 0.0002 <= 0.0003 , 0.00025 , 34.68, 4881
> 0.0003 <= 0.0004 , 0.00035 , 76.55, 6281
> 0.0004 <= 0.0005 , 0.00045 , 92.61, 2408
> 0.0005 <= 0.0006 , 0.00055 , 96.61, 601
> 0.0006 <= 0.0007 , 0.00065 , 97.56, 142
> 0.0007 <= 0.0008 , 0.00075 , 97.78, 33
> 0.0008 <= 0.0009 , 0.00085 , 97.99, 32
> 0.0009 <= 0.001 , 0.00095 , 98.41, 63
> 0.001 <= 0.0011 , 0.00105 , 98.64, 34
> 0.0011 <= 0.0012 , 0.00115 , 98.77, 19
> 0.0012 <= 0.0014 , 0.0013 , 99.01, 37
> 0.0014 <= 0.0016 , 0.0015 , 99.10, 13
> 0.0016 <= 0.0018 , 0.0017 , 99.30, 30
> 0.0018 <= 0.002 , 0.0019 , 99.39, 13
> 0.002 <= 0.0025 , 0.00225 , 99.56, 26
> 0.0025 <= 0.003 , 0.00275 , 99.71, 22
> 0.003 <= 0.0035 , 0.00325 , 99.82, 17
> 0.0035 <= 0.004 , 0.00375 , 99.92, 15
> 0.004 <= 0.0045 , 0.00425 , 99.97, 8
> 0.005 <= 0.00512645 , 0.00506323 , 100.00, 4
# target 50% 0.000336587
# target 75% 0.00039629
# target 90% 0.000483762
# target 99% 0.00138919
# target 99.9% 0.0039
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
Response Body/Total Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
All done 15000 calls (plus 4 warmup) 0.372 ms avg, 1499.9 qps
Successfully wrote 4262 bytes of Json data to /data/2018-11-19-060607_http_baseline_1500qps_10s_echo_1_2.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
06:06:17 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 1500.0 qps
06:06:17 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:06:28 I periodic.go:533> T000 ended after 10.001148945s : 3750 calls. qps=374.9569195122111
06:06:28 I periodic.go:533> T002 ended after 10.001842822s : 3750 calls. qps=374.93090690762705
06:06:28 I periodic.go:533> T001 ended after 10.002107305s : 3750 calls. qps=374.9209927117454
06:06:28 I periodic.go:533> T003 ended after 10.002138036s : 3750 calls. qps=374.91984078832803
Ended after 10.002215536s : 15000 calls. qps=1499.7
Sleep times : count 14996 avg 0.0015098433 +/- 0.002667 min -0.051033037 max 0.002209537 sum 22.6416099
Aggregated Function Time : count 15000 avg 0.00072647677 +/- 0.0009035 min 0.000368465 max 0.052885942 sum 10.8971515
# range, mid point, percentile, count
>= 0.000368465 <= 0.0004 , 0.000384233 , 0.02, 3
> 0.0004 <= 0.0005 , 0.00045 , 0.47, 67
> 0.0005 <= 0.0006 , 0.00055 , 22.47, 3301
> 0.0006 <= 0.0007 , 0.00065 , 65.61, 6470
> 0.0007 <= 0.0008 , 0.00075 , 85.43, 2974
> 0.0008 <= 0.0009 , 0.00085 , 93.39, 1194
> 0.0009 <= 0.001 , 0.00095 , 96.25, 429
> 0.001 <= 0.0011 , 0.00105 , 97.28, 154
> 0.0011 <= 0.0012 , 0.00115 , 97.79, 77
> 0.0012 <= 0.0014 , 0.0013 , 98.34, 82
> 0.0014 <= 0.0016 , 0.0015 , 98.81, 71
> 0.0016 <= 0.0018 , 0.0017 , 99.06, 37
> 0.0018 <= 0.002 , 0.0019 , 99.19, 20
> 0.002 <= 0.0025 , 0.00225 , 99.29, 15
> 0.0025 <= 0.003 , 0.00275 , 99.45, 24
> 0.003 <= 0.0035 , 0.00325 , 99.63, 26
> 0.0035 <= 0.004 , 0.00375 , 99.69, 10
> 0.004 <= 0.0045 , 0.00425 , 99.87, 26
> 0.0045 <= 0.005 , 0.00475 , 99.89, 4
> 0.005 <= 0.006 , 0.0055 , 99.97, 12
> 0.05 <= 0.0528859 , 0.051443 , 100.00, 4
# target 50% 0.000663818
# target 75% 0.000747377
# target 90% 0.00085737
# target 99% 0.00175135
# target 99.9% 0.00508333
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
Response Body/Total Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
All done 15000 calls (plus 4 warmup) 0.726 ms avg, 1499.7 qps
Successfully wrote 4317 bytes of Json data to /data/2018-11-19-060618_http_linkerd_1500qps_10s_echo_1_2.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
06:06:28 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 1500.0 qps
06:06:28 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:06:38 I periodic.go:533> T001 ended after 10.013743074s : 3750 calls. qps=374.48534202326584
06:06:38 I periodic.go:533> T002 ended after 10.015242128s : 3750 calls. qps=374.42929008336
06:06:38 I periodic.go:533> T000 ended after 10.015274928s : 3750 calls. qps=374.4280638283842
06:06:38 I periodic.go:533> T003 ended after 10.015307656s : 3750 calls. qps=374.42684027319314
Ended after 10.015329586s : 15000 calls. qps=1497.7
Aggregated Sleep Time : count 14996 avg -3.1518927e-05 +/- 0.002324 min -0.017672787 max 0.002053071 sum -0.472657832
# range, mid point, percentile, count
>= -0.0176728 <= -0.001 , -0.00933639 , 13.04, 1956
> -0.001 <= 0 , -0.0005 , 18.74, 854
> 0 <= 0.001 , 0.0005 , 73.60, 8227
> 0.001 <= 0.002 , 0.0015 , 99.99, 3958
> 0.002 <= 0.00205307 , 0.00202654 , 100.00, 1
# target 50% 0.000569831
WARNING 13.04% of sleep were falling behind
Aggregated Function Time : count 15000 avg 0.0018147665 +/- 0.0009679 min 0.000565459 max 0.015262746 sum 27.2214979
# range, mid point, percentile, count
>= 0.000565459 <= 0.0006 , 0.00058273 , 0.01, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.05, 7
> 0.0008 <= 0.0009 , 0.00085 , 0.14, 13
> 0.0009 <= 0.001 , 0.00095 , 0.37, 34
> 0.001 <= 0.0011 , 0.00105 , 0.81, 67
> 0.0011 <= 0.0012 , 0.00115 , 4.46, 547
> 0.0012 <= 0.0014 , 0.0013 , 26.51, 3307
> 0.0014 <= 0.0016 , 0.0015 , 45.72, 2882
> 0.0016 <= 0.0018 , 0.0017 , 60.25, 2180
> 0.0018 <= 0.002 , 0.0019 , 78.62, 2755
> 0.002 <= 0.0025 , 0.00225 , 94.39, 2365
> 0.0025 <= 0.003 , 0.00275 , 95.76, 206
> 0.003 <= 0.0035 , 0.00325 , 96.86, 165
> 0.0035 <= 0.004 , 0.00375 , 97.89, 155
> 0.004 <= 0.0045 , 0.00425 , 98.46, 85
> 0.0045 <= 0.005 , 0.00475 , 98.72, 39
> 0.005 <= 0.006 , 0.0055 , 99.41, 103
> 0.006 <= 0.007 , 0.0065 , 99.52, 17
> 0.007 <= 0.008 , 0.0075 , 99.57, 8
> 0.01 <= 0.012 , 0.011 , 99.59, 3
> 0.012 <= 0.014 , 0.013 , 99.97, 57
> 0.014 <= 0.0152627 , 0.0146314 , 100.00, 4
# target 50% 0.0016589
# target 75% 0.00196058
# target 90% 0.00236089
# target 99% 0.00540777
# target 99.9% 0.013614
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 209.00027 +/- 0.01633 min 209 max 210 sum 3135004
Response Body/Total Sizes : count 15000 avg 209.00027 +/- 0.01633 min 209 max 210 sum 3135004
All done 15000 calls (plus 4 warmup) 1.815 ms avg, 1497.7 qps
Successfully wrote 4435 bytes of Json data to /data/2018-11-19-060628_http_istio_1500qps_10s_echo_1_2.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
06:06:38 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:06:48 I periodic.go:533> T001 ended after 10.000763215s : 3750 calls. qps=374.9713816216976
06:06:48 I periodic.go:533> T002 ended after 10.001249177s : 3750 calls. qps=374.95316171343103
06:06:48 I periodic.go:533> T003 ended after 10.00413132s : 3750 calls. qps=374.8451394778372
06:06:48 I periodic.go:533> T000 ended after 10.004236243s : 3750 calls. qps=374.84120815558396
Ended after 10.004277868s : 15000 calls. qps=1499.4
Sleep times : count 14996 avg 0.0016940482 +/- 0.0004915 min -0.004895806 max 0.002390479 sum 25.4039468
Aggregated Function Time : count 15000 avg 0.00069855299 +/- 0.0003438 min 0.000203817 max 0.005712824 sum 10.4782948
# range, mid point, percentile, count
>= 0.000203817 <= 0.0003 , 0.000251909 , 0.13, 19
> 0.0003 <= 0.0004 , 0.00035 , 0.78, 98
> 0.0004 <= 0.0005 , 0.00045 , 7.01, 935
> 0.0005 <= 0.0006 , 0.00055 , 36.81, 4470
> 0.0006 <= 0.0007 , 0.00065 , 72.16, 5302
> 0.0007 <= 0.0008 , 0.00075 , 88.29, 2420
> 0.0008 <= 0.0009 , 0.00085 , 92.93, 695
> 0.0009 <= 0.001 , 0.00095 , 94.50, 236
> 0.001 <= 0.0011 , 0.00105 , 95.25, 113
> 0.0011 <= 0.0012 , 0.00115 , 95.59, 50
> 0.0012 <= 0.0014 , 0.0013 , 96.53, 141
> 0.0014 <= 0.0016 , 0.0015 , 97.33, 121
> 0.0016 <= 0.0018 , 0.0017 , 98.25, 137
> 0.0018 <= 0.002 , 0.0019 , 98.89, 96
> 0.002 <= 0.0025 , 0.00225 , 99.41, 79
> 0.0025 <= 0.003 , 0.00275 , 99.47, 9
> 0.003 <= 0.0035 , 0.00325 , 99.55, 12
> 0.0035 <= 0.004 , 0.00375 , 99.72, 25
> 0.004 <= 0.0045 , 0.00425 , 99.87, 22
> 0.0045 <= 0.005 , 0.00475 , 99.98, 17
> 0.005 <= 0.00571282 , 0.00535641 , 100.00, 3
# target 50% 0.000637307
# target 75% 0.000717603
# target 90% 0.000836835
# target 99% 0.00210759
# target 99.9% 0.00464706
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 0.699 ms avg, 1499.4 qps
Successfully wrote 3803 bytes of Json data to /data/2018-11-19-060638_grpc_baseline_1500qps_10s_echo_1_2.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
06:06:48 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:06:58 I periodic.go:533> T002 ended after 10.001138571s : 3750 calls. qps=374.9573084482363
06:06:58 I periodic.go:533> T003 ended after 10.001968044s : 3750 calls. qps=374.92621287163155
06:06:58 I periodic.go:533> T000 ended after 10.002085268s : 3750 calls. qps=374.92181875288526
06:06:58 I periodic.go:533> T001 ended after 10.002157428s : 3750 calls. qps=374.9191139005936
Ended after 10.002227038s : 15000 calls. qps=1499.7
Sleep times : count 14996 avg 0.0013770432 +/- 0.0005316 min -0.007217441 max 0.001930179 sum 20.6501404
Aggregated Function Time : count 15000 avg 0.0010179022 +/- 0.0003515 min 0.00044239 max 0.006008893 sum 15.2685333
# range, mid point, percentile, count
>= 0.00044239 <= 0.0005 , 0.000471195 , 0.01, 2
> 0.0005 <= 0.0006 , 0.00055 , 0.05, 5
> 0.0006 <= 0.0007 , 0.00065 , 0.50, 68
> 0.0007 <= 0.0008 , 0.00075 , 8.43, 1190
> 0.0008 <= 0.0009 , 0.00085 , 30.22, 3268
> 0.0009 <= 0.001 , 0.00095 , 61.33, 4666
> 0.001 <= 0.0011 , 0.00105 , 82.97, 3246
> 0.0011 <= 0.0012 , 0.00115 , 91.15, 1227
> 0.0012 <= 0.0014 , 0.0013 , 95.98, 725
> 0.0014 <= 0.0016 , 0.0015 , 96.95, 145
> 0.0016 <= 0.0018 , 0.0017 , 97.61, 100
> 0.0018 <= 0.002 , 0.0019 , 98.36, 112
> 0.002 <= 0.0025 , 0.00225 , 99.05, 103
> 0.0025 <= 0.003 , 0.00275 , 99.33, 42
> 0.003 <= 0.0035 , 0.00325 , 99.45, 18
> 0.0035 <= 0.004 , 0.00375 , 99.58, 20
> 0.004 <= 0.0045 , 0.00425 , 99.69, 16
> 0.0045 <= 0.005 , 0.00475 , 99.90, 32
> 0.005 <= 0.006 , 0.0055 , 99.99, 14
> 0.006 <= 0.00600889 , 0.00600445 , 100.00, 1
# target 50% 0.000963588
# target 75% 0.00106319
# target 90% 0.00118598
# target 99% 0.00246602
# target 99.9% 0.005
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 1.018 ms avg, 1499.7 qps
Successfully wrote 3619 bytes of Json data to /data/2018-11-19-060648_grpc_linkerd_1500qps_10s_echo_1_2.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8079
06:06:58 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:07:08 I periodic.go:533> T003 ended after 10.016137246s : 3750 calls. qps=374.3958282418288
06:07:08 I periodic.go:533> T000 ended after 10.017110107s : 3750 calls. qps=374.35946694640836
06:07:08 I periodic.go:533> T002 ended after 10.018337868s : 3750 calls. qps=374.3135886820143
06:07:08 I periodic.go:533> T001 ended after 10.018397615s : 3750 calls. qps=374.31135637752385
Ended after 10.018411086s : 15000 calls. qps=1497.2
Aggregated Sleep Time : count 14996 avg -0.00041055218 +/- 0.003375 min -0.035297194 max 0.002178472 sum -6.15664055
# range, mid point, percentile, count
>= -0.0352972 <= -0.001 , -0.0181486 , 13.20, 1979
> -0.001 <= 0 , -0.0005 , 24.13, 1639
> 0 <= 0.001 , 0.0005 , 85.56, 9213
> 0.001 <= 0.002 , 0.0015 , 99.99, 2164
> 0.002 <= 0.00217847 , 0.00208924 , 100.00, 1
# target 50% 0.000421144
WARNING 13.20% of sleep were falling behind
Aggregated Function Time : count 15000 avg 0.0019516449 +/- 0.001243 min 0.000471002 max 0.030893574 sum 29.2746735
# range, mid point, percentile, count
>= 0.000471002 <= 0.0005 , 0.000485501 , 0.01, 1
> 0.0005 <= 0.0006 , 0.00055 , 0.13, 19
> 0.0006 <= 0.0007 , 0.00065 , 0.59, 68
> 0.0007 <= 0.0008 , 0.00075 , 1.37, 118
> 0.0008 <= 0.0009 , 0.00085 , 3.67, 344
> 0.0009 <= 0.001 , 0.00095 , 7.63, 595
> 0.001 <= 0.0011 , 0.00105 , 11.08, 517
> 0.0011 <= 0.0012 , 0.00115 , 13.92, 426
> 0.0012 <= 0.0014 , 0.0013 , 19.54, 843
> 0.0014 <= 0.0016 , 0.0015 , 31.79, 1838
> 0.0016 <= 0.0018 , 0.0017 , 49.55, 2664
> 0.0018 <= 0.002 , 0.0019 , 64.01, 2169
> 0.002 <= 0.0025 , 0.00225 , 88.26, 3637
> 0.0025 <= 0.003 , 0.00275 , 95.45, 1079
> 0.003 <= 0.0035 , 0.00325 , 96.55, 165
> 0.0035 <= 0.004 , 0.00375 , 97.48, 139
> 0.004 <= 0.0045 , 0.00425 , 98.09, 92
> 0.0045 <= 0.005 , 0.00475 , 98.63, 81
> 0.005 <= 0.006 , 0.0055 , 99.26, 94
> 0.006 <= 0.007 , 0.0065 , 99.47, 31
> 0.007 <= 0.008 , 0.0075 , 99.57, 16
> 0.009 <= 0.01 , 0.0095 , 99.58, 1
> 0.01 <= 0.012 , 0.011 , 99.60, 3
> 0.012 <= 0.014 , 0.013 , 99.63, 5
> 0.014 <= 0.016 , 0.015 , 99.76, 19
> 0.016 <= 0.018 , 0.017 , 99.91, 22
> 0.018 <= 0.02 , 0.019 , 99.95, 7
> 0.02 <= 0.025 , 0.0225 , 99.97, 3
> 0.025 <= 0.03 , 0.0275 , 99.98, 1
> 0.03 <= 0.0308936 , 0.0304468 , 100.00, 3
# target 50% 0.00180618
# target 75% 0.00222656
# target 90% 0.00262095
# target 99% 0.00558511
# target 99.9% 0.0179091
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 1.952 ms avg, 1497.2 qps
Successfully wrote 4864 bytes of Json data to /data/2018-11-19-060658_grpc_istio_1500qps_10s_echo_1_2.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
06:07:08 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 1500.0 qps
06:07:08 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:07:18 I periodic.go:533> T000 ended after 10.000566761s : 3750 calls. qps=374.97874766699937
06:07:18 I periodic.go:533> T003 ended after 10.000955193s : 3750 calls. qps=374.9641836836495
06:07:18 I periodic.go:533> T002 ended after 10.003007206s : 3750 calls. qps=374.8872636771347
06:07:18 I periodic.go:533> T001 ended after 10.003073308s : 3750 calls. qps=374.8847863587006
Ended after 10.003089891s : 15000 calls. qps=1499.5
Sleep times : count 14996 avg 0.0020461852 +/- 0.0004313 min -0.003876193 max 0.002406871 sum 30.6845939
Aggregated Function Time : count 15000 avg 0.00037300685 +/- 0.0002799 min 9.3184e-05 max 0.004793129 sum 5.59510281
# range, mid point, percentile, count
>= 9.3184e-05 <= 0.0001 , 9.6592e-05 , 0.01, 1
> 0.0001 <= 0.0002 , 0.00015 , 2.60, 389
> 0.0002 <= 0.0003 , 0.00025 , 35.29, 4904
> 0.0003 <= 0.0004 , 0.00035 , 76.89, 6240
> 0.0004 <= 0.0005 , 0.00045 , 92.35, 2319
> 0.0005 <= 0.0006 , 0.00055 , 96.33, 596
> 0.0006 <= 0.0007 , 0.00065 , 97.49, 174
> 0.0007 <= 0.0008 , 0.00075 , 97.93, 67
> 0.0008 <= 0.0009 , 0.00085 , 98.15, 33
> 0.0009 <= 0.001 , 0.00095 , 98.45, 45
> 0.001 <= 0.0011 , 0.00105 , 98.55, 14
> 0.0011 <= 0.0012 , 0.00115 , 98.58, 5
> 0.0012 <= 0.0014 , 0.0013 , 98.73, 22
> 0.0014 <= 0.0016 , 0.0015 , 99.05, 49
> 0.0016 <= 0.0018 , 0.0017 , 99.13, 11
> 0.0018 <= 0.002 , 0.0019 , 99.41, 42
> 0.002 <= 0.0025 , 0.00225 , 99.57, 24
> 0.0025 <= 0.003 , 0.00275 , 99.66, 14
> 0.003 <= 0.0035 , 0.00325 , 99.71, 8
> 0.0035 <= 0.004 , 0.00375 , 99.87, 24
> 0.004 <= 0.0045 , 0.00425 , 99.95, 11
> 0.0045 <= 0.00479313 , 0.00464656 , 100.00, 8
# target 50% 0.000335353
# target 75% 0.000395449
# target 90% 0.000484778
# target 99% 0.00156735
# target 99.9% 0.00418182
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
Response Body/Total Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
All done 15000 calls (plus 4 warmup) 0.373 ms avg, 1499.5 qps
Successfully wrote 4487 bytes of Json data to /data/2018-11-19-060708_http_baseline_1500qps_10s_echo_0_3.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
06:07:18 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 1500.0 qps
06:07:18 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:07:28 I periodic.go:533> T002 ended after 10.00088948s : 3750 calls. qps=374.9666474666412
06:07:28 I periodic.go:533> T001 ended after 10.001444596s : 3750 calls. qps=374.94583547458564
06:07:28 I periodic.go:533> T000 ended after 10.001626002s : 3750 calls. qps=374.93903483794753
06:07:28 I periodic.go:533> T003 ended after 10.001690353s : 3750 calls. qps=374.93662247553885
Ended after 10.001717997s : 15000 calls. qps=1499.7
Sleep times : count 14996 avg 0.0015530932 +/- 0.002245 min -0.046822998 max 0.002146175 sum 23.2901858
Aggregated Function Time : count 15000 avg 0.00071687154 +/- 0.0005191 min 0.000339959 max 0.032036991 sum 10.753073
# range, mid point, percentile, count
>= 0.000339959 <= 0.0004 , 0.000369979 , 0.01, 2
> 0.0004 <= 0.0005 , 0.00045 , 0.59, 87
> 0.0005 <= 0.0006 , 0.00055 , 23.46, 3430
> 0.0006 <= 0.0007 , 0.00065 , 67.69, 6635
> 0.0007 <= 0.0008 , 0.00075 , 87.87, 3026
> 0.0008 <= 0.0009 , 0.00085 , 94.65, 1017
> 0.0009 <= 0.001 , 0.00095 , 96.70, 308
> 0.001 <= 0.0011 , 0.00105 , 97.40, 105
> 0.0011 <= 0.0012 , 0.00115 , 97.68, 42
> 0.0012 <= 0.0014 , 0.0013 , 98.09, 61
> 0.0014 <= 0.0016 , 0.0015 , 98.57, 73
> 0.0016 <= 0.0018 , 0.0017 , 98.88, 46
> 0.0018 <= 0.002 , 0.0019 , 98.97, 14
> 0.002 <= 0.0025 , 0.00225 , 99.21, 35
> 0.0025 <= 0.003 , 0.00275 , 99.38, 26
> 0.003 <= 0.0035 , 0.00325 , 99.45, 10
> 0.0035 <= 0.004 , 0.00375 , 99.57, 18
> 0.004 <= 0.0045 , 0.00425 , 99.72, 23
> 0.0045 <= 0.005 , 0.00475 , 99.91, 29
> 0.005 <= 0.006 , 0.0055 , 99.97, 9
> 0.018 <= 0.02 , 0.019 , 99.98, 1
> 0.02 <= 0.025 , 0.0225 , 99.99, 2
> 0.03 <= 0.032037 , 0.0310185 , 100.00, 1
# target 50% 0.00066
# target 75% 0.000736219
# target 90% 0.000831465
# target 99% 0.00205714
# target 99.9% 0.00496552
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
Response Body/Total Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
All done 15000 calls (plus 4 warmup) 0.717 ms avg, 1499.7 qps
Successfully wrote 4524 bytes of Json data to /data/2018-11-19-060718_http_linkerd_1500qps_10s_echo_0_3.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
06:07:28 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 1500.0 qps
06:07:28 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:07:38 I periodic.go:533> T000 ended after 10.015339549s : 3750 calls. qps=374.4256479426527
06:07:38 I periodic.go:533> T003 ended after 10.015463932s : 3750 calls. qps=374.4209979148872
06:07:38 I periodic.go:533> T002 ended after 10.015516172s : 3750 calls. qps=374.41904496981726
06:07:38 I periodic.go:533> T001 ended after 10.015563316s : 3750 calls. qps=374.41728255157886
Ended after 10.015627813s : 15000 calls. qps=1497.7
Aggregated Sleep Time : count 14996 avg -0.00042189915 +/- 0.003164 min -0.028054002 max 0.001788932 sum -6.32679966
# range, mid point, percentile, count
>= -0.028054 <= -0.001 , -0.014527 , 15.30, 2295
> -0.001 <= 0 , -0.0005 , 22.70, 1109
> 0 <= 0.001 , 0.0005 , 79.53, 8523
> 0.001 <= 0.00178893 , 0.00139447 , 100.00, 3069
# target 50% 0.000480347
WARNING 15.30% of sleep were falling behind
Aggregated Function Time : count 15000 avg 0.0018812189 +/- 0.001036 min 0.000679355 max 0.020217607 sum 28.2182836
# range, mid point, percentile, count
>= 0.000679355 <= 0.0007 , 0.000689678 , 0.01, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.07, 9
> 0.0008 <= 0.0009 , 0.00085 , 0.11, 6
> 0.0009 <= 0.001 , 0.00095 , 0.27, 25
> 0.001 <= 0.0011 , 0.00105 , 0.67, 59
> 0.0011 <= 0.0012 , 0.00115 , 4.82, 623
> 0.0012 <= 0.0014 , 0.0013 , 21.36, 2481
> 0.0014 <= 0.0016 , 0.0015 , 37.39, 2404
> 0.0016 <= 0.0018 , 0.0017 , 55.31, 2688
> 0.0018 <= 0.002 , 0.0019 , 73.45, 2722
> 0.002 <= 0.0025 , 0.00225 , 93.17, 2958
> 0.0025 <= 0.003 , 0.00275 , 95.60, 364
> 0.003 <= 0.0035 , 0.00325 , 96.61, 152
> 0.0035 <= 0.004 , 0.00375 , 97.63, 153
> 0.004 <= 0.0045 , 0.00425 , 98.35, 108
> 0.0045 <= 0.005 , 0.00475 , 98.84, 73
> 0.005 <= 0.006 , 0.0055 , 99.27, 64
> 0.006 <= 0.007 , 0.0065 , 99.53, 40
> 0.007 <= 0.008 , 0.0075 , 99.59, 9
> 0.008 <= 0.009 , 0.0085 , 99.60, 1
> 0.012 <= 0.014 , 0.013 , 99.81, 31
> 0.014 <= 0.016 , 0.015 , 99.92, 17
> 0.016 <= 0.018 , 0.017 , 99.97, 8
> 0.02 <= 0.0202176 , 0.0201088 , 100.00, 4
# target 50% 0.00174077
# target 75% 0.00203922
# target 90% 0.00241954
# target 99% 0.005375
# target 99.9% 0.0156471
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 209 +/- 0 min 209 max 209 sum 3135000
Response Body/Total Sizes : count 15000 avg 209 +/- 0 min 209 max 209 sum 3135000
All done 15000 calls (plus 4 warmup) 1.881 ms avg, 1497.7 qps
Successfully wrote 4659 bytes of Json data to /data/2018-11-19-060728_http_istio_1500qps_10s_echo_0_3.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
06:07:38 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:07:48 I periodic.go:533> T001 ended after 10.000834161s : 3750 calls. qps=374.9687215716245
06:07:48 I periodic.go:533> T003 ended after 10.004921897s : 3750 calls. qps=374.81551966182235
06:07:48 I periodic.go:533> T000 ended after 10.005003806s : 3750 calls. qps=374.8124511208207
06:07:48 I periodic.go:533> T002 ended after 10.00514394s : 3750 calls. qps=374.8072014244305
Ended after 10.005179068s : 15000 calls. qps=1499.2
Sleep times : count 14996 avg 0.0016165273 +/- 0.0005821 min -0.005809982 max 0.002362218 sum 24.2414438
Aggregated Function Time : count 15000 avg 0.000743952 +/- 0.0003907 min 0.00021521 max 0.005517652 sum 11.15928
# range, mid point, percentile, count
>= 0.00021521 <= 0.0003 , 0.000257605 , 0.13, 20
> 0.0003 <= 0.0004 , 0.00035 , 0.69, 84
> 0.0004 <= 0.0005 , 0.00045 , 5.26, 685
> 0.0005 <= 0.0006 , 0.00055 , 30.17, 3737
> 0.0006 <= 0.0007 , 0.00065 , 62.07, 4785
> 0.0007 <= 0.0008 , 0.00075 , 80.11, 2706
> 0.0008 <= 0.0009 , 0.00085 , 88.03, 1187
> 0.0009 <= 0.001 , 0.00095 , 91.76, 560
> 0.001 <= 0.0011 , 0.00105 , 93.49, 259
> 0.0011 <= 0.0012 , 0.00115 , 94.43, 142
> 0.0012 <= 0.0014 , 0.0013 , 95.69, 189
> 0.0014 <= 0.0016 , 0.0015 , 96.91, 182
> 0.0016 <= 0.0018 , 0.0017 , 97.85, 142
> 0.0018 <= 0.002 , 0.0019 , 98.64, 118
> 0.002 <= 0.0025 , 0.00225 , 99.16, 78
> 0.0025 <= 0.003 , 0.00275 , 99.31, 23
> 0.003 <= 0.0035 , 0.00325 , 99.45, 20
> 0.0035 <= 0.004 , 0.00375 , 99.61, 25
> 0.004 <= 0.0045 , 0.00425 , 99.79, 27
> 0.0045 <= 0.005 , 0.00475 , 99.93, 20
> 0.005 <= 0.00551765 , 0.00525883 , 100.00, 11
# target 50% 0.000662153
# target 75% 0.000771656
# target 90% 0.000952857
# target 99% 0.00234615
# target 99.9% 0.0049
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 0.744 ms avg, 1499.2 qps
Successfully wrote 3822 bytes of Json data to /data/2018-11-19-060738_grpc_baseline_1500qps_10s_echo_0_3.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
06:07:48 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:07:58 I periodic.go:533> T003 ended after 10.00111259s : 3750 calls. qps=374.9582825164455
06:07:58 I periodic.go:533> T001 ended after 10.003734071s : 3750 calls. qps=374.8600246053062
06:07:58 I periodic.go:533> T002 ended after 10.003798556s : 3750 calls. qps=374.8576082383081
06:07:58 I periodic.go:533> T000 ended after 10.003814617s : 3750 calls. qps=374.8570064090783
Ended after 10.003826501s : 15000 calls. qps=1499.4
Sleep times : count 14996 avg 0.0013462849 +/- 0.0005638 min -0.005102186 max 0.001963476 sum 20.1888883
Aggregated Function Time : count 15000 avg 0.0010431735 +/- 0.0004122 min 0.000575144 max 0.00758263 sum 15.6476022
# range, mid point, percentile, count
>= 0.000575144 <= 0.0006 , 0.000587572 , 0.01, 2
> 0.0006 <= 0.0007 , 0.00065 , 0.24, 34
> 0.0007 <= 0.0008 , 0.00075 , 6.32, 912
> 0.0008 <= 0.0009 , 0.00085 , 26.16, 2976
> 0.0009 <= 0.001 , 0.00095 , 56.67, 4576
> 0.001 <= 0.0011 , 0.00105 , 80.15, 3523
> 0.0011 <= 0.0012 , 0.00115 , 90.09, 1491
> 0.0012 <= 0.0014 , 0.0013 , 95.63, 831
> 0.0014 <= 0.0016 , 0.0015 , 96.67, 155
> 0.0016 <= 0.0018 , 0.0017 , 97.35, 102
> 0.0018 <= 0.002 , 0.0019 , 98.10, 113
> 0.002 <= 0.0025 , 0.00225 , 98.87, 115
> 0.0025 <= 0.003 , 0.00275 , 99.16, 44
> 0.003 <= 0.0035 , 0.00325 , 99.20, 6
> 0.0035 <= 0.004 , 0.00375 , 99.35, 23
> 0.004 <= 0.0045 , 0.00425 , 99.47, 18
> 0.0045 <= 0.005 , 0.00475 , 99.72, 37
> 0.005 <= 0.006 , 0.0055 , 99.93, 31
> 0.006 <= 0.007 , 0.0065 , 99.97, 7
> 0.007 <= 0.00758263 , 0.00729131 , 100.00, 4
# target 50% 0.000978147
# target 75% 0.00107806
# target 90% 0.00119906
# target 99% 0.00272727
# target 99.9% 0.00587097
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 1.043 ms avg, 1499.4 qps
Successfully wrote 3615 bytes of Json data to /data/2018-11-19-060748_grpc_linkerd_1500qps_10s_echo_0_3.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8079
06:07:58 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:08:08 I periodic.go:533> T002 ended after 10.01896889s : 3750 calls. qps=374.29001339078917
06:08:08 I periodic.go:533> T003 ended after 10.019533015s : 3750 calls. qps=374.26893991825426
06:08:08 I periodic.go:533> T000 ended after 10.019669453s : 3750 calls. qps=374.2638434920833
06:08:08 I periodic.go:533> T001 ended after 10.01968694s : 3750 calls. qps=374.26319030282997
Ended after 10.019698398s : 15000 calls. qps=1497.1
Aggregated Sleep Time : count 14996 avg -0.00038280848 +/- 0.00309 min -0.023729223 max 0.002013114 sum -5.74059591
# range, mid point, percentile, count
>= -0.0237292 <= -0.001 , -0.0123646 , 13.51, 2026
> -0.001 <= 0 , -0.0005 , 24.95, 1716
> 0 <= 0.001 , 0.0005 , 86.39, 9213
> 0.001 <= 0.002 , 0.0015 , 99.99, 2040
> 0.002 <= 0.00201311 , 0.00200656 , 100.00, 1
# target 50% 0.000407685
WARNING 13.51% of sleep were falling behind
Aggregated Function Time : count 15000 avg 0.0019630908 +/- 0.001245 min 0.000473771 max 0.026058294 sum 29.4463623
# range, mid point, percentile, count
>= 0.000473771 <= 0.0005 , 0.000486886 , 0.01, 2
> 0.0005 <= 0.0006 , 0.00055 , 0.07, 8
> 0.0006 <= 0.0007 , 0.00065 , 0.45, 57
> 0.0007 <= 0.0008 , 0.00075 , 1.23, 117
> 0.0008 <= 0.0009 , 0.00085 , 2.98, 263
> 0.0009 <= 0.001 , 0.00095 , 6.85, 580
> 0.001 <= 0.0011 , 0.00105 , 10.83, 598
> 0.0011 <= 0.0012 , 0.00115 , 13.80, 445
> 0.0012 <= 0.0014 , 0.0013 , 19.11, 797
> 0.0014 <= 0.0016 , 0.0015 , 29.97, 1629
> 0.0016 <= 0.0018 , 0.0017 , 48.87, 2835
> 0.0018 <= 0.002 , 0.0019 , 63.71, 2226
> 0.002 <= 0.0025 , 0.00225 , 88.05, 3651
> 0.0025 <= 0.003 , 0.00275 , 95.41, 1103
> 0.003 <= 0.0035 , 0.00325 , 96.63, 183
> 0.0035 <= 0.004 , 0.00375 , 97.45, 124
> 0.004 <= 0.0045 , 0.00425 , 98.17, 107
> 0.0045 <= 0.005 , 0.00475 , 98.61, 67
> 0.005 <= 0.006 , 0.0055 , 99.27, 98
> 0.006 <= 0.007 , 0.0065 , 99.52, 38
> 0.007 <= 0.008 , 0.0075 , 99.58, 9
> 0.008 <= 0.009 , 0.0085 , 99.60, 3
> 0.012 <= 0.014 , 0.013 , 99.62, 3
> 0.014 <= 0.016 , 0.015 , 99.69, 11
> 0.016 <= 0.018 , 0.017 , 99.88, 28
> 0.018 <= 0.02 , 0.019 , 99.93, 7
> 0.02 <= 0.025 , 0.0225 , 99.98, 8
> 0.025 <= 0.0260583 , 0.0255291 , 100.00, 3
# target 50% 0.00181518
# target 75% 0.00223185
# target 90% 0.00263237
# target 99% 0.00559184
# target 99.9% 0.0188571
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 1.963 ms avg, 1497.1 qps
Successfully wrote 4621 bytes of Json data to /data/2018-11-19-060758_grpc_istio_1500qps_10s_echo_0_3.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
06:08:08 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 1500.0 qps
06:08:08 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:08:18 I periodic.go:533> T000 ended after 10.000571527s : 3750 calls. qps=374.9785689623417
06:08:18 I periodic.go:533> T003 ended after 10.003201125s : 3750 calls. qps=374.8799962272077
06:08:18 I periodic.go:533> T001 ended after 10.003266408s : 3750 calls. qps=374.87754969726484
06:08:18 I periodic.go:533> T002 ended after 10.003281839s : 3750 calls. qps=374.87697141350134
Ended after 10.00329432s : 15000 calls. qps=1499.5
Sleep times : count 14996 avg 0.0020415527 +/- 0.0004054 min -0.003187982 max 0.002397493 sum 30.6151245
Aggregated Function Time : count 15000 avg 0.00037954009 +/- 0.0002805 min 9.581e-05 max 0.005693254 sum 5.6931014
# range, mid point, percentile, count
>= 9.581e-05 <= 0.0001 , 9.7905e-05 , 0.01, 1
> 0.0001 <= 0.0002 , 0.00015 , 1.96, 293
> 0.0002 <= 0.0003 , 0.00025 , 31.01, 4357
> 0.0003 <= 0.0004 , 0.00035 , 74.05, 6456
> 0.0004 <= 0.0005 , 0.00045 , 92.09, 2706
> 0.0005 <= 0.0006 , 0.00055 , 96.48, 659
> 0.0006 <= 0.0007 , 0.00065 , 97.59, 167
> 0.0007 <= 0.0008 , 0.00075 , 97.89, 45
> 0.0008 <= 0.0009 , 0.00085 , 98.03, 20
> 0.0009 <= 0.001 , 0.00095 , 98.51, 73
> 0.001 <= 0.0011 , 0.00105 , 98.69, 27
> 0.0011 <= 0.0012 , 0.00115 , 98.79, 15
> 0.0012 <= 0.0014 , 0.0013 , 99.00, 31
> 0.0014 <= 0.0016 , 0.0015 , 99.12, 18
> 0.0016 <= 0.0018 , 0.0017 , 99.30, 27
> 0.0018 <= 0.002 , 0.0019 , 99.45, 22
> 0.002 <= 0.0025 , 0.00225 , 99.52, 11
> 0.0025 <= 0.003 , 0.00275 , 99.65, 19
> 0.003 <= 0.0035 , 0.00325 , 99.74, 14
> 0.0035 <= 0.004 , 0.00375 , 99.83, 14
> 0.004 <= 0.0045 , 0.00425 , 99.93, 14
> 0.0045 <= 0.005 , 0.00475 , 99.98, 8
> 0.005 <= 0.00569325 , 0.00534663 , 100.00, 3
# target 50% 0.000344129
# target 75% 0.000405285
# target 90% 0.000488433
# target 99% 0.0014
# target 99.9% 0.00435714
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
Response Body/Total Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
All done 15000 calls (plus 4 warmup) 0.380 ms avg, 1499.5 qps
Successfully wrote 4532 bytes of Json data to /data/2018-11-19-060808_http_baseline_1500qps_10s_echo_1_3.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
06:08:19 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 1500.0 qps
06:08:19 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:08:29 I periodic.go:533> T003 ended after 10.00095342s : 3750 calls. qps=374.96425015846137
06:08:29 I periodic.go:533> T001 ended after 10.001545993s : 3750 calls. qps=374.9420342239684
06:08:29 I periodic.go:533> T002 ended after 10.001668452s : 3750 calls. qps=374.93744348725386
06:08:29 I periodic.go:533> T000 ended after 10.002036141s : 3750 calls. qps=374.9236602563482
Ended after 10.002097594s : 15000 calls. qps=1499.7
Sleep times : count 14996 avg 0.0015912261 +/- 0.001946 min -0.040281168 max 0.002108281 sum 23.8620263
Aggregated Function Time : count 15000 avg 0.00072355618 +/- 0.0005459 min 0.000403456 max 0.027153695 sum 10.8533426
# range, mid point, percentile, count
>= 0.000403456 <= 0.0005 , 0.000451728 , 0.40, 60
> 0.0005 <= 0.0006 , 0.00055 , 19.21, 2822
> 0.0006 <= 0.0007 , 0.00065 , 66.37, 7074
> 0.0007 <= 0.0008 , 0.00075 , 87.85, 3222
> 0.0008 <= 0.0009 , 0.00085 , 94.75, 1034
> 0.0009 <= 0.001 , 0.00095 , 96.76, 302
> 0.001 <= 0.0011 , 0.00105 , 97.28, 78
> 0.0011 <= 0.0012 , 0.00115 , 97.59, 47
> 0.0012 <= 0.0014 , 0.0013 , 97.93, 50
> 0.0014 <= 0.0016 , 0.0015 , 98.51, 88
> 0.0016 <= 0.0018 , 0.0017 , 98.84, 49
> 0.0018 <= 0.002 , 0.0019 , 99.01, 25
> 0.002 <= 0.0025 , 0.00225 , 99.33, 49
> 0.0025 <= 0.003 , 0.00275 , 99.41, 12
> 0.003 <= 0.0035 , 0.00325 , 99.50, 13
> 0.0035 <= 0.004 , 0.00375 , 99.71, 31
> 0.004 <= 0.0045 , 0.00425 , 99.78, 11
> 0.0045 <= 0.005 , 0.00475 , 99.85, 10
> 0.005 <= 0.006 , 0.0055 , 99.92, 11
> 0.006 <= 0.007 , 0.0065 , 99.95, 4
> 0.01 <= 0.012 , 0.011 , 99.95, 1
> 0.012 <= 0.014 , 0.013 , 99.97, 3
> 0.016 <= 0.018 , 0.017 , 99.98, 1
> 0.025 <= 0.0271537 , 0.0260768 , 100.00, 3
# target 50% 0.000665281
# target 75% 0.000740161
# target 90% 0.000831141
# target 99% 0.001992
# target 99.9% 0.00572727
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
Response Body/Total Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
All done 15000 calls (plus 4 warmup) 0.724 ms avg, 1499.7 qps
Successfully wrote 4634 bytes of Json data to /data/2018-11-19-060819_http_linkerd_1500qps_10s_echo_1_3.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
06:08:29 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 1500.0 qps
06:08:29 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:08:39 I periodic.go:533> T001 ended after 10.014606401s : 3750 calls. qps=374.4530588466809
06:08:39 I periodic.go:533> T003 ended after 10.014722594s : 3750 calls. qps=374.44871436046486
06:08:39 I periodic.go:533> T000 ended after 10.014735932s : 3750 calls. qps=374.4482156556577
06:08:39 I periodic.go:533> T002 ended after 10.014760633s : 3750 calls. qps=374.44729209435513
Ended after 10.014773533s : 15000 calls. qps=1497.8
Aggregated Sleep Time : count 14996 avg -0.00014719862 +/- 0.002943 min -0.021786799 max 0.001865463 sum -2.20739052
# range, mid point, percentile, count
>= -0.0217868 <= -0.001 , -0.0113934 , 13.02, 1952
> -0.001 <= 0 , -0.0005 , 17.72, 706
> 0 <= 0.001 , 0.0005 , 65.74, 7200
> 0.001 <= 0.00186546 , 0.00143273 , 100.00, 5138
# target 50% 0.000672222
WARNING 13.02% of sleep were falling behind
Aggregated Function Time : count 15000 avg 0.001779185 +/- 0.001041 min 0.000633043 max 0.020729415 sum 26.687775
# range, mid point, percentile, count
>= 0.000633043 <= 0.0007 , 0.000666521 , 0.01, 2
> 0.0007 <= 0.0008 , 0.00075 , 0.07, 9
> 0.0008 <= 0.0009 , 0.00085 , 0.17, 14
> 0.0009 <= 0.001 , 0.00095 , 0.41, 36
> 0.001 <= 0.0011 , 0.00105 , 0.88, 71
> 0.0011 <= 0.0012 , 0.00115 , 6.13, 787
> 0.0012 <= 0.0014 , 0.0013 , 31.58, 3818
> 0.0014 <= 0.0016 , 0.0015 , 48.83, 2588
> 0.0016 <= 0.0018 , 0.0017 , 61.41, 1887
> 0.0018 <= 0.002 , 0.0019 , 81.80, 3058
> 0.002 <= 0.0025 , 0.00225 , 95.11, 1996
> 0.0025 <= 0.003 , 0.00275 , 96.14, 155
> 0.003 <= 0.0035 , 0.00325 , 97.01, 130
> 0.0035 <= 0.004 , 0.00375 , 97.95, 142
> 0.004 <= 0.0045 , 0.00425 , 98.70, 112
> 0.0045 <= 0.005 , 0.00475 , 99.05, 53
> 0.005 <= 0.006 , 0.0055 , 99.39, 50
> 0.006 <= 0.007 , 0.0065 , 99.53, 21
> 0.007 <= 0.008 , 0.0075 , 99.55, 4
> 0.008 <= 0.009 , 0.0085 , 99.57, 3
> 0.012 <= 0.014 , 0.013 , 99.78, 31
> 0.014 <= 0.016 , 0.015 , 99.95, 25
> 0.016 <= 0.018 , 0.017 , 99.97, 4
> 0.02 <= 0.0207294 , 0.0203647 , 100.00, 4
# target 50% 0.00161855
# target 75% 0.00193329
# target 90% 0.00230812
# target 99% 0.00492453
# target 99.9% 0.01544
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 209 +/- 0 min 209 max 209 sum 3135000
Response Body/Total Sizes : count 15000 avg 209 +/- 0 min 209 max 209 sum 3135000
All done 15000 calls (plus 4 warmup) 1.779 ms avg, 1497.8 qps
Successfully wrote 4659 bytes of Json data to /data/2018-11-19-060829_http_istio_1500qps_10s_echo_1_3.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
06:08:39 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:08:49 I periodic.go:533> T003 ended after 10.000779702s : 3750 calls. qps=374.97076345457924
06:08:49 I periodic.go:533> T000 ended after 10.001221926s : 3750 calls. qps=374.95418337345274
06:08:49 I periodic.go:533> T002 ended after 10.00423759s : 3750 calls. qps=374.8411576858602
06:08:49 I periodic.go:533> T001 ended after 10.004293102s : 3750 calls. qps=374.8390777605588
Ended after 10.004326866s : 15000 calls. qps=1499.4
Sleep times : count 14996 avg 0.0016694847 +/- 0.0006152 min -0.007881544 max 0.002381572 sum 25.0355928
Aggregated Function Time : count 15000 avg 0.00070444317 +/- 0.0003659 min 0.000244824 max 0.00564955 sum 10.5666476
# range, mid point, percentile, count
>= 0.000244824 <= 0.0003 , 0.000272412 , 0.05, 8
> 0.0003 <= 0.0004 , 0.00035 , 0.81, 113
> 0.0004 <= 0.0005 , 0.00045 , 7.34, 980
> 0.0005 <= 0.0006 , 0.00055 , 37.67, 4550
> 0.0006 <= 0.0007 , 0.00065 , 72.16, 5173
> 0.0007 <= 0.0008 , 0.00075 , 88.12, 2394
> 0.0008 <= 0.0009 , 0.00085 , 92.65, 679
> 0.0009 <= 0.001 , 0.00095 , 94.13, 222
> 0.001 <= 0.0011 , 0.00105 , 94.61, 72
> 0.0011 <= 0.0012 , 0.00115 , 94.92, 47
> 0.0012 <= 0.0014 , 0.0013 , 95.85, 139
> 0.0014 <= 0.0016 , 0.0015 , 96.79, 141
> 0.0016 <= 0.0018 , 0.0017 , 97.83, 156
> 0.0018 <= 0.002 , 0.0019 , 98.63, 121
> 0.002 <= 0.0025 , 0.00225 , 99.26, 94
> 0.0025 <= 0.003 , 0.00275 , 99.39, 19
> 0.003 <= 0.0035 , 0.00325 , 99.57, 27
> 0.0035 <= 0.004 , 0.00375 , 99.72, 23
> 0.004 <= 0.0045 , 0.00425 , 99.85, 20
> 0.0045 <= 0.005 , 0.00475 , 99.96, 16
> 0.005 <= 0.00564955 , 0.00532478 , 100.00, 6
# target 50% 0.000635743
# target 75% 0.000717794
# target 90% 0.000841532
# target 99% 0.00229255
# target 99.9% 0.00471875
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 0.704 ms avg, 1499.4 qps
Successfully wrote 3779 bytes of Json data to /data/2018-11-19-060839_grpc_baseline_1500qps_10s_echo_1_3.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
06:08:49 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:08:59 I periodic.go:533> T003 ended after 10.001220655s : 3750 calls. qps=374.95423102431295
06:08:59 I periodic.go:533> T000 ended after 10.001960148s : 3750 calls. qps=374.92650885535204
06:08:59 I periodic.go:533> T002 ended after 10.002129325s : 3750 calls. qps=374.92016731147396
06:08:59 I periodic.go:533> T001 ended after 10.002254112s : 3750 calls. qps=374.9154898495345
Ended after 10.002332071s : 15000 calls. qps=1499.7
Sleep times : count 14996 avg 0.0013509185 +/- 0.0005464 min -0.004673538 max 0.00190862 sum 20.2583732
Aggregated Function Time : count 15000 avg 0.0010418128 +/- 0.0004093 min 0.000543652 max 0.007158033 sum 15.6271921
# range, mid point, percentile, count
>= 0.000543652 <= 0.0006 , 0.000571826 , 0.01, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.18, 26
> 0.0007 <= 0.0008 , 0.00075 , 6.08, 885
> 0.0008 <= 0.0009 , 0.00085 , 25.57, 2923
> 0.0009 <= 0.001 , 0.00095 , 57.15, 4738
> 0.001 <= 0.0011 , 0.00105 , 80.93, 3566
> 0.0011 <= 0.0012 , 0.00115 , 90.32, 1409
> 0.0012 <= 0.0014 , 0.0013 , 95.67, 802
> 0.0014 <= 0.0016 , 0.0015 , 96.90, 185
> 0.0016 <= 0.0018 , 0.0017 , 97.36, 69
> 0.0018 <= 0.002 , 0.0019 , 97.97, 91
> 0.002 <= 0.0025 , 0.00225 , 98.84, 131
> 0.0025 <= 0.003 , 0.00275 , 99.16, 48
> 0.003 <= 0.0035 , 0.00325 , 99.25, 14
> 0.0035 <= 0.004 , 0.00375 , 99.44, 28
> 0.004 <= 0.0045 , 0.00425 , 99.51, 10
> 0.0045 <= 0.005 , 0.00475 , 99.70, 29
> 0.005 <= 0.006 , 0.0055 , 99.93, 35
> 0.006 <= 0.007 , 0.0065 , 99.98, 7
> 0.007 <= 0.00715803 , 0.00707902 , 100.00, 3
# target 50% 0.000977353
# target 75% 0.00107507
# target 90% 0.00119659
# target 99% 0.00275
# target 99.9% 0.00585714
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 1.042 ms avg, 1499.7 qps
Successfully wrote 3566 bytes of Json data to /data/2018-11-19-060849_grpc_linkerd_1500qps_10s_echo_1_3.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8079
06:08:59 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:09:09 I periodic.go:533> T000 ended after 10.013463328s : 3750 calls. qps=374.49580401559143
06:09:09 I periodic.go:533> T001 ended after 10.014690379s : 3750 calls. qps=374.449918877517
06:09:09 I periodic.go:533> T002 ended after 10.014788322s : 3750 calls. qps=374.4462568182477
06:09:09 I periodic.go:533> T003 ended after 10.014869888s : 3750 calls. qps=374.4432071447397
Ended after 10.014887261s : 15000 calls. qps=1497.8
Aggregated Sleep Time : count 14996 avg -0.00035213412 +/- 0.002926 min -0.022128452 max 0.001979949 sum -5.28060319
# range, mid point, percentile, count
>= -0.0221285 <= -0.001 , -0.0115642 , 14.16, 2123
> -0.001 <= 0 , -0.0005 , 24.65, 1574
> 0 <= 0.001 , 0.0005 , 85.20, 9080
> 0.001 <= 0.00197995 , 0.00148997 , 100.00, 2219
# target 50% 0.000418612
WARNING 14.16% of sleep were falling behind
Aggregated Function Time : count 15000 avg 0.0019400877 +/- 0.001144 min 0.000448442 max 0.018267791 sum 29.1013162
# range, mid point, percentile, count
>= 0.000448442 <= 0.0005 , 0.000474221 , 0.02, 3
> 0.0005 <= 0.0006 , 0.00055 , 0.10, 12
> 0.0006 <= 0.0007 , 0.00065 , 0.47, 55
> 0.0007 <= 0.0008 , 0.00075 , 1.43, 144
> 0.0008 <= 0.0009 , 0.00085 , 3.73, 346
> 0.0009 <= 0.001 , 0.00095 , 8.08, 652
> 0.001 <= 0.0011 , 0.00105 , 11.67, 539
> 0.0011 <= 0.0012 , 0.00115 , 14.33, 398
> 0.0012 <= 0.0014 , 0.0013 , 19.45, 769
> 0.0014 <= 0.0016 , 0.0015 , 33.20, 2062
> 0.0016 <= 0.0018 , 0.0017 , 50.72, 2628
> 0.0018 <= 0.002 , 0.0019 , 64.79, 2111
> 0.002 <= 0.0025 , 0.00225 , 88.27, 3522
> 0.0025 <= 0.003 , 0.00275 , 95.13, 1029
> 0.003 <= 0.0035 , 0.00325 , 96.45, 198
> 0.0035 <= 0.004 , 0.00375 , 97.44, 148
> 0.004 <= 0.0045 , 0.00425 , 98.09, 97
> 0.0045 <= 0.005 , 0.00475 , 98.66, 86
> 0.005 <= 0.006 , 0.0055 , 99.19, 79
> 0.006 <= 0.007 , 0.0065 , 99.44, 38
> 0.007 <= 0.008 , 0.0075 , 99.57, 20
> 0.008 <= 0.009 , 0.0085 , 99.59, 3
> 0.009 <= 0.01 , 0.0095 , 99.60, 1
> 0.012 <= 0.014 , 0.013 , 99.67, 10
> 0.014 <= 0.016 , 0.015 , 99.87, 31
> 0.016 <= 0.018 , 0.017 , 99.98, 16
> 0.018 <= 0.0182678 , 0.0181339 , 100.00, 3
# target 50% 0.00179178
# target 75% 0.00221735
# target 90% 0.00262585
# target 99% 0.00564557
# target 99.9% 0.0165
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 1.940 ms avg, 1497.8 qps
Successfully wrote 4488 bytes of Json data to /data/2018-11-19-060859_grpc_istio_1500qps_10s_echo_1_3.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
06:09:09 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 1500.0 qps
06:09:09 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:09:19 I periodic.go:533> T002 ended after 10.000556388s : 3750 calls. qps=374.97913661081395
06:09:19 I periodic.go:533> T000 ended after 10.00292681s : 3750 calls. qps=374.89027673891377
06:09:19 I periodic.go:533> T001 ended after 10.00433078s : 3750 calls. qps=374.837666053261
06:09:19 I periodic.go:533> T003 ended after 10.004363532s : 3750 calls. qps=374.8364389204005
Ended after 10.004377943s : 15000 calls. qps=1499.3
Sleep times : count 14996 avg 0.0020464569 +/- 0.0003818 min -0.002915903 max 0.002413756 sum 30.6886676
Aggregated Function Time : count 15000 avg 0.00036782542 +/- 0.0002463 min 0.000105272 max 0.004320329 sum 5.51738131
# range, mid point, percentile, count
>= 0.000105272 <= 0.0002 , 0.000152636 , 2.25, 338
> 0.0002 <= 0.0003 , 0.00025 , 35.71, 5019
> 0.0003 <= 0.0004 , 0.00035 , 77.39, 6251
> 0.0004 <= 0.0005 , 0.00045 , 92.96, 2336
> 0.0005 <= 0.0006 , 0.00055 , 96.69, 560
> 0.0006 <= 0.0007 , 0.00065 , 97.77, 161
> 0.0007 <= 0.0008 , 0.00075 , 98.01, 37
> 0.0008 <= 0.0009 , 0.00085 , 98.30, 43
> 0.0009 <= 0.001 , 0.00095 , 98.44, 21
> 0.001 <= 0.0011 , 0.00105 , 98.61, 25
> 0.0011 <= 0.0012 , 0.00115 , 98.71, 15
> 0.0012 <= 0.0014 , 0.0013 , 98.87, 24
> 0.0014 <= 0.0016 , 0.0015 , 98.95, 12
> 0.0016 <= 0.0018 , 0.0017 , 99.11, 25
> 0.0018 <= 0.002 , 0.0019 , 99.52, 61
> 0.002 <= 0.0025 , 0.00225 , 99.68, 24
> 0.0025 <= 0.003 , 0.00275 , 99.77, 14
> 0.003 <= 0.0035 , 0.00325 , 99.89, 17
> 0.0035 <= 0.004 , 0.00375 , 99.93, 6
> 0.004 <= 0.00432033 , 0.00416016 , 100.00, 11
# target 50% 0.000334283
# target 75% 0.000394273
# target 90% 0.000480993
# target 99% 0.001664
# target 99.9% 0.00366667
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
Response Body/Total Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
All done 15000 calls (plus 4 warmup) 0.368 ms avg, 1499.3 qps
Successfully wrote 4192 bytes of Json data to /data/2018-11-19-060909_http_baseline_1500qps_10s_echo_0_4.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
06:09:19 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 1500.0 qps
06:09:19 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:09:29 I periodic.go:533> T002 ended after 10.000854405s : 3750 calls. qps=374.96796254979574
06:09:29 I periodic.go:533> T003 ended after 10.001393729s : 3750 calls. qps=374.9477424457869
06:09:29 I periodic.go:533> T000 ended after 10.001569656s : 3750 calls. qps=374.94114713787485
06:09:29 I periodic.go:533> T001 ended after 10.001656476s : 3750 calls. qps=374.93789243796857
Ended after 10.001725756s : 15000 calls. qps=1499.7
Sleep times : count 14996 avg 0.0015826816 +/- 0.001916 min -0.039916577 max 0.002099147 sum 23.7338932
Aggregated Function Time : count 15000 avg 0.00072310697 +/- 0.0003324 min 0.000307825 max 0.007705333 sum 10.8466045
# range, mid point, percentile, count
>= 0.000307825 <= 0.0004 , 0.000353913 , 0.02, 3
> 0.0004 <= 0.0005 , 0.00045 , 0.37, 52
> 0.0005 <= 0.0006 , 0.00055 , 15.79, 2314
> 0.0006 <= 0.0007 , 0.00065 , 63.19, 7110
> 0.0007 <= 0.0008 , 0.00075 , 87.07, 3582
> 0.0008 <= 0.0009 , 0.00085 , 94.37, 1095
> 0.0009 <= 0.001 , 0.00095 , 96.47, 314
> 0.001 <= 0.0011 , 0.00105 , 97.17, 105
> 0.0011 <= 0.0012 , 0.00115 , 97.49, 48
> 0.0012 <= 0.0014 , 0.0013 , 97.96, 71
> 0.0014 <= 0.0016 , 0.0015 , 98.49, 79
> 0.0016 <= 0.0018 , 0.0017 , 98.88, 59
> 0.0018 <= 0.002 , 0.0019 , 99.17, 43
> 0.002 <= 0.0025 , 0.00225 , 99.41, 37
> 0.0025 <= 0.003 , 0.00275 , 99.50, 13
> 0.003 <= 0.0035 , 0.00325 , 99.63, 20
> 0.0035 <= 0.004 , 0.00375 , 99.65, 3
> 0.004 <= 0.0045 , 0.00425 , 99.71, 9
> 0.0045 <= 0.005 , 0.00475 , 99.91, 29
> 0.005 <= 0.006 , 0.0055 , 99.95, 6
> 0.006 <= 0.007 , 0.0065 , 99.97, 4
> 0.007 <= 0.00770533 , 0.00735267 , 100.00, 4
# target 50% 0.000672166
# target 75% 0.000749442
# target 90% 0.000840091
# target 99% 0.00188372
# target 99.9% 0.00498276
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
Response Body/Total Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
All done 15000 calls (plus 4 warmup) 0.723 ms avg, 1499.7 qps
Successfully wrote 4435 bytes of Json data to /data/2018-11-19-060919_http_linkerd_1500qps_10s_echo_0_4.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
06:09:29 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 1500.0 qps
06:09:29 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:09:39 I periodic.go:533> T002 ended after 10.013791571s : 3750 calls. qps=374.4835283829975
06:09:39 I periodic.go:533> T003 ended after 10.013868353s : 3750 calls. qps=374.4806570056973
06:09:39 I periodic.go:533> T000 ended after 10.013881001s : 3750 calls. qps=374.4801840191151
06:09:39 I periodic.go:533> T001 ended after 10.013893475s : 3750 calls. qps=374.4797175406342
Ended after 10.013913206s : 15000 calls. qps=1497.9
Aggregated Sleep Time : count 14996 avg -4.5780806e-05 +/- 0.002747 min -0.025744081 max 0.002045929 sum -0.686528969
# range, mid point, percentile, count
>= -0.0257441 <= -0.001 , -0.013372 , 13.00, 1950
> -0.001 <= 0 , -0.0005 , 17.41, 661
> 0 <= 0.001 , 0.0005 , 65.93, 7276
> 0.001 <= 0.002 , 0.0015 , 99.99, 5108
> 0.002 <= 0.00204593 , 0.00202296 , 100.00, 1
# target 50% 0.00067166
WARNING 13.00% of sleep were falling behind
Aggregated Function Time : count 15000 avg 0.0017754046 +/- 0.0009906 min 0.000542958 max 0.01673938 sum 26.6310688
# range, mid point, percentile, count
>= 0.000542958 <= 0.0006 , 0.000571479 , 0.03, 4
> 0.0007 <= 0.0008 , 0.00075 , 0.06, 5
> 0.0008 <= 0.0009 , 0.00085 , 0.15, 13
> 0.0009 <= 0.001 , 0.00095 , 0.36, 32
> 0.001 <= 0.0011 , 0.00105 , 0.63, 41
> 0.0011 <= 0.0012 , 0.00115 , 6.36, 859
> 0.0012 <= 0.0014 , 0.0013 , 30.80, 3666
> 0.0014 <= 0.0016 , 0.0015 , 48.69, 2684
> 0.0016 <= 0.0018 , 0.0017 , 62.55, 2079
> 0.0018 <= 0.002 , 0.0019 , 81.79, 2886
> 0.002 <= 0.0025 , 0.00225 , 94.96, 1975
> 0.0025 <= 0.003 , 0.00275 , 96.12, 174
> 0.003 <= 0.0035 , 0.00325 , 96.81, 103
> 0.0035 <= 0.004 , 0.00375 , 97.81, 150
> 0.004 <= 0.0045 , 0.00425 , 98.55, 112
> 0.0045 <= 0.005 , 0.00475 , 98.94, 58
> 0.005 <= 0.006 , 0.0055 , 99.51, 85
> 0.006 <= 0.007 , 0.0065 , 99.57, 9
> 0.007 <= 0.008 , 0.0075 , 99.57, 1
> 0.012 <= 0.014 , 0.013 , 99.91, 50
> 0.014 <= 0.016 , 0.015 , 99.97, 10
> 0.016 <= 0.0167394 , 0.0163697 , 100.00, 4
# target 50% 0.00161886
# target 75% 0.00192938
# target 90% 0.00231165
# target 99% 0.00510588
# target 99.9% 0.01396
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 209 +/- 0 min 209 max 209 sum 3135000
Response Body/Total Sizes : count 15000 avg 209 +/- 0 min 209 max 209 sum 3135000
All done 15000 calls (plus 4 warmup) 1.775 ms avg, 1497.9 qps
Successfully wrote 4390 bytes of Json data to /data/2018-11-19-060929_http_istio_1500qps_10s_echo_0_4.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
06:09:39 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:09:49 I periodic.go:533> T001 ended after 10.001903011s : 3750 calls. qps=374.9286506653569
06:09:49 I periodic.go:533> T000 ended after 10.004313187s : 3750 calls. qps=374.8383252208556
06:09:49 I periodic.go:533> T003 ended after 10.006376619s : 3750 calls. qps=374.7610291700935
06:09:49 I periodic.go:533> T002 ended after 10.006479571s : 3750 calls. qps=374.7571734287009
Ended after 10.006525116s : 15000 calls. qps=1499
Sleep times : count 14996 avg 0.0016564956 +/- 0.0009496 min -0.020949841 max 0.002311081 sum 24.8408086
Aggregated Function Time : count 15000 avg 0.00069447625 +/- 0.0005334 min 0.000200195 max 0.023462184 sum 10.4171438
# range, mid point, percentile, count
>= 0.000200195 <= 0.0003 , 0.000250098 , 0.18, 27
> 0.0003 <= 0.0004 , 0.00035 , 1.21, 154
> 0.0004 <= 0.0005 , 0.00045 , 9.85, 1297
> 0.0005 <= 0.0006 , 0.00055 , 43.93, 5111
> 0.0006 <= 0.0007 , 0.00065 , 76.73, 4920
> 0.0007 <= 0.0008 , 0.00075 , 89.75, 1954
> 0.0008 <= 0.0009 , 0.00085 , 93.27, 527
> 0.0009 <= 0.001 , 0.00095 , 94.41, 171
> 0.001 <= 0.0011 , 0.00105 , 94.82, 62
> 0.0011 <= 0.0012 , 0.00115 , 95.11, 44
> 0.0012 <= 0.0014 , 0.0013 , 96.19, 162
> 0.0014 <= 0.0016 , 0.0015 , 97.18, 148
> 0.0016 <= 0.0018 , 0.0017 , 97.82, 96
> 0.0018 <= 0.002 , 0.0019 , 98.40, 87
> 0.002 <= 0.0025 , 0.00225 , 99.07, 101
> 0.0025 <= 0.003 , 0.00275 , 99.26, 28
> 0.003 <= 0.0035 , 0.00325 , 99.45, 28
> 0.0035 <= 0.004 , 0.00375 , 99.60, 23
> 0.004 <= 0.0045 , 0.00425 , 99.77, 25
> 0.0045 <= 0.005 , 0.00475 , 99.91, 22
> 0.005 <= 0.006 , 0.0055 , 99.97, 9
> 0.02 <= 0.0234622 , 0.0217311 , 100.00, 4
# target 50% 0.000618516
# target 75% 0.000694736
# target 90% 0.000807021
# target 99% 0.00244554
# target 99.9% 0.00495455
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 0.694 ms avg, 1499.0 qps
Successfully wrote 3898 bytes of Json data to /data/2018-11-19-060939_grpc_baseline_1500qps_10s_echo_0_4.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
06:09:49 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:09:59 I periodic.go:533> T002 ended after 10.001057818s : 3750 calls. qps=374.96033602072714
06:09:59 I periodic.go:533> T003 ended after 10.003611287s : 3750 calls. qps=374.86462562507205
06:09:59 I periodic.go:533> T000 ended after 10.003648793s : 3750 calls. qps=374.8632201706284
06:09:59 I periodic.go:533> T001 ended after 10.003684264s : 3750 calls. qps=374.8618909830079
Ended after 10.003696748s : 15000 calls. qps=1499.4
Sleep times : count 14996 avg 0.0013761214 +/- 0.000529 min -0.004528273 max 0.001884255 sum 20.636316
Aggregated Function Time : count 15000 avg 0.0010254765 +/- 0.0004004 min 0.000520505 max 0.005916568 sum 15.3821479
# range, mid point, percentile, count
>= 0.000520505 <= 0.0006 , 0.000560252 , 0.03, 5
> 0.0006 <= 0.0007 , 0.00065 , 0.25, 32
> 0.0007 <= 0.0008 , 0.00075 , 7.66, 1112
> 0.0008 <= 0.0009 , 0.00085 , 29.86, 3330
> 0.0009 <= 0.001 , 0.00095 , 62.23, 4856
> 0.001 <= 0.0011 , 0.00105 , 83.90, 3250
> 0.0011 <= 0.0012 , 0.00115 , 92.21, 1246
> 0.0012 <= 0.0014 , 0.0013 , 95.82, 542
> 0.0014 <= 0.0016 , 0.0015 , 96.79, 145
> 0.0016 <= 0.0018 , 0.0017 , 97.32, 80
> 0.0018 <= 0.002 , 0.0019 , 97.89, 85
> 0.002 <= 0.0025 , 0.00225 , 98.83, 142
> 0.0025 <= 0.003 , 0.00275 , 99.03, 30
> 0.003 <= 0.0035 , 0.00325 , 99.17, 21
> 0.0035 <= 0.004 , 0.00375 , 99.36, 28
> 0.004 <= 0.0045 , 0.00425 , 99.52, 24
> 0.0045 <= 0.005 , 0.00475 , 99.81, 44
> 0.005 <= 0.00591657 , 0.00545828 , 100.00, 28
# target 50% 0.000962212
# target 75% 0.00105892
# target 90% 0.00117343
# target 99% 0.00291667
# target 99.9% 0.00542555
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 1.025 ms avg, 1499.4 qps
Successfully wrote 3381 bytes of Json data to /data/2018-11-19-060949_grpc_linkerd_1500qps_10s_echo_0_4.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8079
06:09:59 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:10:09 I periodic.go:533> T000 ended after 10.014530352s : 3750 calls. qps=374.45590239297525
06:10:09 I periodic.go:533> T002 ended after 10.015498424s : 3750 calls. qps=374.4197084604324
06:10:09 I periodic.go:533> T003 ended after 10.015886028s : 3750 calls. qps=374.4052188210463
06:10:09 I periodic.go:533> T001 ended after 10.015972406s : 3750 calls. qps=374.40198994094555
Ended after 10.015989013s : 15000 calls. qps=1497.6
Aggregated Sleep Time : count 14996 avg -0.00044087596 +/- 0.003201 min -0.030617603 max 0.001912388 sum -6.6113759
# range, mid point, percentile, count
>= -0.0306176 <= -0.001 , -0.0158088 , 14.82, 2223
> -0.001 <= 0 , -0.0005 , 26.23, 1710
> 0 <= 0.001 , 0.0005 , 86.72, 9071
> 0.001 <= 0.00191239 , 0.00145619 , 100.00, 1992
# target 50% 0.000393011
WARNING 14.82% of sleep were falling behind
Aggregated Function Time : count 15000 avg 0.001971388 +/- 0.001208 min 0.000518264 max 0.022263061 sum 29.5708201
# range, mid point, percentile, count
>= 0.000518264 <= 0.0006 , 0.000559132 , 0.08, 12
> 0.0006 <= 0.0007 , 0.00065 , 0.43, 52
> 0.0007 <= 0.0008 , 0.00075 , 1.31, 132
> 0.0008 <= 0.0009 , 0.00085 , 3.24, 290
> 0.0009 <= 0.001 , 0.00095 , 7.37, 619
> 0.001 <= 0.0011 , 0.00105 , 10.97, 541
> 0.0011 <= 0.0012 , 0.00115 , 13.67, 404
> 0.0012 <= 0.0014 , 0.0013 , 18.55, 733
> 0.0014 <= 0.0016 , 0.0015 , 30.39, 1776
> 0.0016 <= 0.0018 , 0.0017 , 49.31, 2837
> 0.0018 <= 0.002 , 0.0019 , 62.93, 2044
> 0.002 <= 0.0025 , 0.00225 , 87.78, 3727
> 0.0025 <= 0.003 , 0.00275 , 95.05, 1090
> 0.003 <= 0.0035 , 0.00325 , 96.18, 170
> 0.0035 <= 0.004 , 0.00375 , 97.13, 143
> 0.004 <= 0.0045 , 0.00425 , 97.94, 121
> 0.0045 <= 0.005 , 0.00475 , 98.47, 80
> 0.005 <= 0.006 , 0.0055 , 99.07, 90
> 0.006 <= 0.007 , 0.0065 , 99.49, 63
> 0.007 <= 0.008 , 0.0075 , 99.57, 12
> 0.008 <= 0.009 , 0.0085 , 99.60, 4
> 0.012 <= 0.014 , 0.013 , 99.63, 5
> 0.014 <= 0.016 , 0.015 , 99.75, 18
> 0.016 <= 0.018 , 0.017 , 99.90, 22
> 0.018 <= 0.02 , 0.019 , 99.99, 13
> 0.02 <= 0.0222631 , 0.0211315 , 100.00, 2
# target 50% 0.00181018
# target 75% 0.00224282
# target 90% 0.00265275
# target 99% 0.00587778
# target 99.9% 0.018
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 1.971 ms avg, 1497.6 qps
Successfully wrote 4388 bytes of Json data to /data/2018-11-19-060959_grpc_istio_1500qps_10s_echo_0_4.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
06:10:09 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 1500.0 qps
06:10:09 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:10:19 I periodic.go:533> T003 ended after 10.000373994s : 3750 calls. qps=374.98597574949855
06:10:19 I periodic.go:533> T002 ended after 10.000791948s : 3750 calls. qps=374.9703043017449
06:10:19 I periodic.go:533> T000 ended after 10.002753532s : 3750 calls. qps=374.8967709744425
06:10:19 I periodic.go:533> T001 ended after 10.002783022s : 3750 calls. qps=374.8956657114621
Ended after 10.002809531s : 15000 calls. qps=1499.6
Sleep times : count 14996 avg 0.0020425173 +/- 0.0004079 min -0.002458248 max 0.002400162 sum 30.6295889
Aggregated Function Time : count 15000 avg 0.00037414236 +/- 0.0002681 min 9.0974e-05 max 0.004506169 sum 5.61213543
# range, mid point, percentile, count
>= 9.0974e-05 <= 0.0001 , 9.5487e-05 , 0.01, 2
> 0.0001 <= 0.0002 , 0.00015 , 2.45, 365
> 0.0002 <= 0.0003 , 0.00025 , 34.23, 4767
> 0.0003 <= 0.0004 , 0.00035 , 77.13, 6435
> 0.0004 <= 0.0005 , 0.00045 , 92.53, 2310
> 0.0005 <= 0.0006 , 0.00055 , 96.31, 568
> 0.0006 <= 0.0007 , 0.00065 , 97.39, 162
> 0.0007 <= 0.0008 , 0.00075 , 97.75, 54
> 0.0008 <= 0.0009 , 0.00085 , 97.91, 23
> 0.0009 <= 0.001 , 0.00095 , 98.18, 41
> 0.001 <= 0.0011 , 0.00105 , 98.31, 20
> 0.0011 <= 0.0012 , 0.00115 , 98.47, 23
> 0.0012 <= 0.0014 , 0.0013 , 98.77, 45
> 0.0014 <= 0.0016 , 0.0015 , 98.97, 30
> 0.0016 <= 0.0018 , 0.0017 , 99.15, 27
> 0.0018 <= 0.002 , 0.0019 , 99.36, 32
> 0.002 <= 0.0025 , 0.00225 , 99.55, 29
> 0.0025 <= 0.003 , 0.00275 , 99.73, 26
> 0.003 <= 0.0035 , 0.00325 , 99.81, 12
> 0.0035 <= 0.004 , 0.00375 , 99.95, 21
> 0.004 <= 0.0045 , 0.00425 , 99.99, 7
> 0.0045 <= 0.00450617 , 0.00450308 , 100.00, 1
# target 50% 0.000336768
# target 75% 0.000395043
# target 90% 0.000483593
# target 99% 0.00163704
# target 99.9% 0.00383333
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
Response Body/Total Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
All done 15000 calls (plus 4 warmup) 0.374 ms avg, 1499.6 qps
Successfully wrote 4506 bytes of Json data to /data/2018-11-19-061009_http_baseline_1500qps_10s_echo_1_4.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
06:10:19 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 1500.0 qps
06:10:19 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:10:29 I periodic.go:533> T003 ended after 10.000988209s : 3750 calls. qps=374.96294582422695
06:10:29 I periodic.go:533> T001 ended after 10.00148305s : 3750 calls. qps=374.9443938716669
06:10:29 I periodic.go:533> T002 ended after 10.001586479s : 3750 calls. qps=374.94051647443644
06:10:29 I periodic.go:533> T000 ended after 10.001650772s : 3750 calls. qps=374.9381062672441
Ended after 10.0016759s : 15000 calls. qps=1499.7
Sleep times : count 14996 avg 0.0016106544 +/- 0.001608 min -0.035082544 max 0.002137143 sum 24.1533734
Aggregated Function Time : count 15000 avg 0.00072789266 +/- 0.0003011 min 0.000334648 max 0.005092152 sum 10.9183899
# range, mid point, percentile, count
>= 0.000334648 <= 0.0004 , 0.000367324 , 0.03, 4
> 0.0004 <= 0.0005 , 0.00045 , 0.32, 44
> 0.0005 <= 0.0006 , 0.00055 , 13.26, 1941
> 0.0006 <= 0.0007 , 0.00065 , 60.69, 7115
> 0.0007 <= 0.0008 , 0.00075 , 86.03, 3801
> 0.0008 <= 0.0009 , 0.00085 , 93.89, 1179
> 0.0009 <= 0.001 , 0.00095 , 96.26, 355
> 0.001 <= 0.0011 , 0.00105 , 97.07, 122
> 0.0011 <= 0.0012 , 0.00115 , 97.56, 73
> 0.0012 <= 0.0014 , 0.0013 , 98.06, 75
> 0.0014 <= 0.0016 , 0.0015 , 98.58, 78
> 0.0016 <= 0.0018 , 0.0017 , 98.91, 50
> 0.0018 <= 0.002 , 0.0019 , 99.03, 18
> 0.002 <= 0.0025 , 0.00225 , 99.29, 38
> 0.0025 <= 0.003 , 0.00275 , 99.47, 28
> 0.003 <= 0.0035 , 0.00325 , 99.60, 19
> 0.0035 <= 0.004 , 0.00375 , 99.74, 21
> 0.004 <= 0.0045 , 0.00425 , 99.89, 22
> 0.0045 <= 0.005 , 0.00475 , 99.97, 13
> 0.005 <= 0.00509215 , 0.00504608 , 100.00, 4
# target 50% 0.000677456
# target 75% 0.000756459
# target 90% 0.000850466
# target 99% 0.00194444
# target 99.9% 0.00457692
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
Response Body/Total Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
All done 15000 calls (plus 4 warmup) 0.728 ms avg, 1499.7 qps
Successfully wrote 4150 bytes of Json data to /data/2018-11-19-061019_http_linkerd_1500qps_10s_echo_1_4.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
06:10:30 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 1500.0 qps
06:10:30 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:10:40 I periodic.go:533> T000 ended after 10.016139843s : 3750 calls. qps=374.39573116790797
06:10:40 I periodic.go:533> T002 ended after 10.016227375s : 3750 calls. qps=374.39245931654983
06:10:40 I periodic.go:533> T001 ended after 10.016241641s : 3750 calls. qps=374.3919260743402
06:10:40 I periodic.go:533> T003 ended after 10.016252381s : 3750 calls. qps=374.3915246298545
Ended after 10.016264196s : 15000 calls. qps=1497.6
Aggregated Sleep Time : count 14996 avg -0.00012976678 +/- 0.002797 min -0.020633772 max 0.001709065 sum -1.94598269
# range, mid point, percentile, count
>= -0.0206338 <= -0.001 , -0.0108169 , 13.24, 1986
> -0.001 <= 0 , -0.0005 , 17.43, 628
> 0 <= 0.001 , 0.0005 , 70.03, 7887
> 0.001 <= 0.00170907 , 0.00135453 , 100.00, 4495
# target 50% 0.000619247
WARNING 13.24% of sleep were falling behind
Aggregated Function Time : count 15000 avg 0.001813698 +/- 0.001025 min 0.000664044 max 0.022373257 sum 27.2054702
# range, mid point, percentile, count
>= 0.000664044 <= 0.0007 , 0.000682022 , 0.01, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.03, 3
> 0.0008 <= 0.0009 , 0.00085 , 0.09, 9
> 0.0009 <= 0.001 , 0.00095 , 0.19, 15
> 0.001 <= 0.0011 , 0.00105 , 0.45, 39
> 0.0011 <= 0.0012 , 0.00115 , 4.33, 582
> 0.0012 <= 0.0014 , 0.0013 , 26.22, 3284
> 0.0014 <= 0.0016 , 0.0015 , 43.93, 2656
> 0.0016 <= 0.0018 , 0.0017 , 58.69, 2214
> 0.0018 <= 0.002 , 0.0019 , 79.19, 3075
> 0.002 <= 0.0025 , 0.00225 , 95.11, 2389
> 0.0025 <= 0.003 , 0.00275 , 96.06, 142
> 0.003 <= 0.0035 , 0.00325 , 96.84, 117
> 0.0035 <= 0.004 , 0.00375 , 97.97, 169
> 0.004 <= 0.0045 , 0.00425 , 98.71, 112
> 0.0045 <= 0.005 , 0.00475 , 99.00, 43
> 0.005 <= 0.006 , 0.0055 , 99.39, 59
> 0.006 <= 0.007 , 0.0065 , 99.53, 20
> 0.007 <= 0.008 , 0.0075 , 99.57, 7
> 0.012 <= 0.014 , 0.013 , 99.83, 39
> 0.014 <= 0.016 , 0.015 , 99.95, 17
> 0.016 <= 0.018 , 0.017 , 99.97, 4
> 0.02 <= 0.0223733 , 0.0211866 , 100.00, 4
# target 50% 0.00168229
# target 75% 0.00195915
# target 90% 0.00233947
# target 99% 0.005
# target 99.9% 0.0151765
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 209 +/- 0 min 209 max 209 sum 3135000
Response Body/Total Sizes : count 15000 avg 209 +/- 0 min 209 max 209 sum 3135000
All done 15000 calls (plus 4 warmup) 1.814 ms avg, 1497.6 qps
Successfully wrote 4536 bytes of Json data to /data/2018-11-19-061030_http_istio_1500qps_10s_echo_1_4.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
06:10:40 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:10:50 I periodic.go:533> T002 ended after 10.000660921s : 3750 calls. qps=374.9752171004539
06:10:50 I periodic.go:533> T001 ended after 10.001131682s : 3750 calls. qps=374.9575667270971
06:10:50 I periodic.go:533> T003 ended after 10.003553238s : 3750 calls. qps=374.866800903809
06:10:50 I periodic.go:533> T000 ended after 10.003587523s : 3750 calls. qps=374.8655161338963
Ended after 10.003602765s : 15000 calls. qps=1499.5
Sleep times : count 14996 avg 0.0016890091 +/- 0.0005411 min -0.003446294 max 0.002408004 sum 25.32838
Aggregated Function Time : count 15000 avg 0.00069755876 +/- 0.0003772 min 0.000213954 max 0.005929707 sum 10.4633814
# range, mid point, percentile, count
>= 0.000213954 <= 0.0003 , 0.000256977 , 0.07, 11
> 0.0003 <= 0.0004 , 0.00035 , 0.80, 109
> 0.0004 <= 0.0005 , 0.00045 , 7.54, 1011
> 0.0005 <= 0.0006 , 0.00055 , 39.65, 4816
> 0.0006 <= 0.0007 , 0.00065 , 74.57, 5239
> 0.0007 <= 0.0008 , 0.00075 , 89.13, 2184
> 0.0008 <= 0.0009 , 0.00085 , 93.27, 620
> 0.0009 <= 0.001 , 0.00095 , 94.47, 181
> 0.001 <= 0.0011 , 0.00105 , 94.93, 69
> 0.0011 <= 0.0012 , 0.00115 , 95.30, 55
> 0.0012 <= 0.0014 , 0.0013 , 96.30, 150
> 0.0014 <= 0.0016 , 0.0015 , 97.23, 139
> 0.0016 <= 0.0018 , 0.0017 , 97.89, 100
> 0.0018 <= 0.002 , 0.0019 , 98.55, 98
> 0.002 <= 0.0025 , 0.00225 , 99.16, 92
> 0.0025 <= 0.003 , 0.00275 , 99.31, 22
> 0.003 <= 0.0035 , 0.00325 , 99.56, 38
> 0.0035 <= 0.004 , 0.00375 , 99.69, 19
> 0.004 <= 0.0045 , 0.00425 , 99.84, 23
> 0.0045 <= 0.005 , 0.00475 , 99.91, 10
> 0.005 <= 0.00592971 , 0.00546485 , 100.00, 14
# target 50% 0.000629643
# target 75% 0.00070293
# target 90% 0.000820968
# target 99% 0.00236957
# target 99.9% 0.00495
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 0.698 ms avg, 1499.5 qps
Successfully wrote 3781 bytes of Json data to /data/2018-11-19-061040_grpc_baseline_1500qps_10s_echo_1_4.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
06:10:50 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:11:00 I periodic.go:533> T002 ended after 10.001065753s : 3750 calls. qps=374.96003852140655
06:11:00 I periodic.go:533> T000 ended after 10.001887275s : 3750 calls. qps=374.9292405417557
06:11:00 I periodic.go:533> T001 ended after 10.002085665s : 3750 calls. qps=374.92180387159283
06:11:00 I periodic.go:533> T003 ended after 10.002151112s : 3750 calls. qps=374.91935064857876
Ended after 10.002172385s : 15000 calls. qps=1499.7
Sleep times : count 14996 avg 0.0013627419 +/- 0.0006258 min -0.010164915 max 0.00187657 sum 20.4356777
Aggregated Function Time : count 15000 avg 0.001020695 +/- 0.0004157 min 0.000577349 max 0.012574466 sum 15.3104247
# range, mid point, percentile, count
>= 0.000577349 <= 0.0006 , 0.000588675 , 0.01, 2
> 0.0006 <= 0.0007 , 0.00065 , 0.31, 44
> 0.0007 <= 0.0008 , 0.00075 , 8.81, 1275
> 0.0008 <= 0.0009 , 0.00085 , 32.19, 3507
> 0.0009 <= 0.001 , 0.00095 , 63.83, 4746
> 0.001 <= 0.0011 , 0.00105 , 83.91, 3013
> 0.0011 <= 0.0012 , 0.00115 , 91.44, 1129
> 0.0012 <= 0.0014 , 0.0013 , 95.70, 639
> 0.0014 <= 0.0016 , 0.0015 , 96.61, 137
> 0.0016 <= 0.0018 , 0.0017 , 97.31, 105
> 0.0018 <= 0.002 , 0.0019 , 98.06, 112
> 0.002 <= 0.0025 , 0.00225 , 98.97, 136
> 0.0025 <= 0.003 , 0.00275 , 99.18, 32
> 0.003 <= 0.0035 , 0.00325 , 99.24, 9
> 0.0035 <= 0.004 , 0.00375 , 99.40, 24
> 0.004 <= 0.0045 , 0.00425 , 99.59, 29
> 0.0045 <= 0.005 , 0.00475 , 99.75, 24
> 0.005 <= 0.006 , 0.0055 , 99.95, 29
> 0.006 <= 0.007 , 0.0065 , 99.97, 4
> 0.009 <= 0.01 , 0.0095 , 99.99, 3
> 0.012 <= 0.0125745 , 0.0122872 , 100.00, 1
# target 50% 0.0009563
# target 75% 0.00105563
# target 90% 0.00118087
# target 99% 0.00257812
# target 99.9% 0.00575862
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 1.021 ms avg, 1499.7 qps
Successfully wrote 3766 bytes of Json data to /data/2018-11-19-061050_grpc_linkerd_1500qps_10s_echo_1_4.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8079
06:11:00 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:11:10 I periodic.go:533> T002 ended after 10.015596177s : 3750 calls. qps=374.4160540948695
06:11:10 I periodic.go:533> T003 ended after 10.017305534s : 3750 calls. qps=374.3521635905011
06:11:10 I periodic.go:533> T000 ended after 10.017465373s : 3750 calls. qps=374.3461904153267
06:11:10 I periodic.go:533> T001 ended after 10.017503094s : 3750 calls. qps=374.34478081130504
Ended after 10.017519177s : 15000 calls. qps=1497.4
Aggregated Sleep Time : count 14996 avg -0.00027953583 +/- 0.002939 min -0.028468302 max 0.002002088 sum -4.19191933
# range, mid point, percentile, count
>= -0.0284683 <= -0.001 , -0.0147342 , 13.08, 1961
> -0.001 <= 0 , -0.0005 , 23.69, 1592
> 0 <= 0.001 , 0.0005 , 85.51, 9270
> 0.001 <= 0.002 , 0.0015 , 99.99, 2172
> 0.002 <= 0.00200209 , 0.00200104 , 100.00, 1
# target 50% 0.000425566
WARNING 13.08% of sleep were falling behind
Aggregated Function Time : count 15000 avg 0.0019389261 +/- 0.001183 min 0.000483758 max 0.027241024 sum 29.0838908
# range, mid point, percentile, count
>= 0.000483758 <= 0.0005 , 0.000491879 , 0.01, 2
> 0.0005 <= 0.0006 , 0.00055 , 0.07, 9
> 0.0006 <= 0.0007 , 0.00065 , 0.40, 49
> 0.0007 <= 0.0008 , 0.00075 , 1.26, 129
> 0.0008 <= 0.0009 , 0.00085 , 3.20, 291
> 0.0009 <= 0.001 , 0.00095 , 7.53, 649
> 0.001 <= 0.0011 , 0.00105 , 11.06, 530
> 0.0011 <= 0.0012 , 0.00115 , 13.87, 421
> 0.0012 <= 0.0014 , 0.0013 , 19.21, 802
> 0.0014 <= 0.0016 , 0.0015 , 31.15, 1790
> 0.0016 <= 0.0018 , 0.0017 , 49.97, 2823
> 0.0018 <= 0.002 , 0.0019 , 64.77, 2221
> 0.002 <= 0.0025 , 0.00225 , 88.86, 3613
> 0.0025 <= 0.003 , 0.00275 , 95.89, 1055
> 0.003 <= 0.0035 , 0.00325 , 96.85, 144
> 0.0035 <= 0.004 , 0.00375 , 97.68, 124
> 0.004 <= 0.0045 , 0.00425 , 98.25, 85
> 0.0045 <= 0.005 , 0.00475 , 98.69, 66
> 0.005 <= 0.006 , 0.0055 , 99.11, 64
> 0.006 <= 0.007 , 0.0065 , 99.49, 56
> 0.007 <= 0.008 , 0.0075 , 99.57, 13
> 0.008 <= 0.009 , 0.0085 , 99.59, 3
> 0.009 <= 0.01 , 0.0095 , 99.60, 1
> 0.012 <= 0.014 , 0.013 , 99.64, 6
> 0.014 <= 0.016 , 0.015 , 99.82, 27
> 0.016 <= 0.018 , 0.017 , 99.95, 19
> 0.018 <= 0.02 , 0.019 , 99.97, 4
> 0.02 <= 0.025 , 0.0225 , 99.98, 1
> 0.025 <= 0.027241 , 0.0261205 , 100.00, 3
# target 50% 0.00180045
# target 75% 0.00221229
# target 90% 0.00258104
# target 99% 0.00573438
# target 99.9% 0.0172632
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 1.939 ms avg, 1497.4 qps
Successfully wrote 4722 bytes of Json data to /data/2018-11-19-061100_grpc_istio_1500qps_10s_echo_1_4.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
06:11:10 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 1500.0 qps
06:11:10 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:11:20 I periodic.go:533> T003 ended after 10.000567176s : 3750 calls. qps=374.97873210626386
06:11:20 I periodic.go:533> T002 ended after 10.000936186s : 3750 calls. qps=374.9648963113582
06:11:20 I periodic.go:533> T000 ended after 10.00319425s : 3750 calls. qps=374.88025387490603
06:11:20 I periodic.go:533> T001 ended after 10.003228834s : 3750 calls. qps=374.87895780751467
Ended after 10.003254375s : 15000 calls. qps=1499.5
Sleep times : count 14996 avg 0.0020531093 +/- 0.000415 min -0.002763377 max 0.002451242 sum 30.7884273
Aggregated Function Time : count 15000 avg 0.00036933326 +/- 0.0002869 min 0.000100785 max 0.00541224 sum 5.53999896
# range, mid point, percentile, count
>= 0.000100785 <= 0.0002 , 0.000150393 , 2.63, 395
> 0.0002 <= 0.0003 , 0.00025 , 36.00, 5005
> 0.0003 <= 0.0004 , 0.00035 , 78.64, 6396
> 0.0004 <= 0.0005 , 0.00045 , 93.57, 2240
> 0.0005 <= 0.0006 , 0.00055 , 96.79, 483
> 0.0006 <= 0.0007 , 0.00065 , 97.59, 119
> 0.0007 <= 0.0008 , 0.00075 , 97.88, 44
> 0.0008 <= 0.0009 , 0.00085 , 98.03, 22
> 0.0009 <= 0.001 , 0.00095 , 98.30, 41
> 0.001 <= 0.0011 , 0.00105 , 98.39, 13
> 0.0011 <= 0.0012 , 0.00115 , 98.57, 27
> 0.0012 <= 0.0014 , 0.0013 , 98.88, 47
> 0.0014 <= 0.0016 , 0.0015 , 99.09, 32
> 0.0016 <= 0.0018 , 0.0017 , 99.20, 16
> 0.0018 <= 0.002 , 0.0019 , 99.35, 22
> 0.002 <= 0.0025 , 0.00225 , 99.51, 25
> 0.0025 <= 0.003 , 0.00275 , 99.65, 20
> 0.003 <= 0.0035 , 0.00325 , 99.77, 18
> 0.0035 <= 0.004 , 0.00375 , 99.83, 9
> 0.004 <= 0.0045 , 0.00425 , 99.94, 17
> 0.0045 <= 0.005 , 0.00475 , 99.95, 1
> 0.005 <= 0.00541224 , 0.00520612 , 100.00, 8
# target 50% 0.000332833
# target 75% 0.000391463
# target 90% 0.000476071
# target 99% 0.0015125
# target 99.9% 0.00432353
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
Response Body/Total Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
All done 15000 calls (plus 4 warmup) 0.369 ms avg, 1499.5 qps
Successfully wrote 4433 bytes of Json data to /data/2018-11-19-061110_http_baseline_1500qps_10s_echo_0_5.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
06:11:20 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 1500.0 qps
06:11:20 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:11:30 I periodic.go:533> T003 ended after 10.000821033s : 3750 calls. qps=374.96921379014947
06:11:30 I periodic.go:533> T002 ended after 10.001751577s : 3750 calls. qps=374.9343273655676
06:11:30 I periodic.go:533> T000 ended after 10.001776912s : 3750 calls. qps=374.9333776382074
06:11:30 I periodic.go:533> T001 ended after 10.001789582s : 3750 calls. qps=374.9329026826151
Ended after 10.00182902s : 15000 calls. qps=1499.7
Sleep times : count 14996 avg 0.0016303424 +/- 0.001486 min -0.032113656 max 0.002105881 sum 24.4486146
Aggregated Function Time : count 15000 avg 0.0007074564 +/- 0.0003165 min 0.00035699 max 0.005382997 sum 10.611846
# range, mid point, percentile, count
>= 0.00035699 <= 0.0004 , 0.000378495 , 0.01, 1
> 0.0004 <= 0.0005 , 0.00045 , 0.43, 63
> 0.0005 <= 0.0006 , 0.00055 , 20.64, 3032
> 0.0006 <= 0.0007 , 0.00065 , 70.26, 7443
> 0.0007 <= 0.0008 , 0.00075 , 89.73, 2920
> 0.0008 <= 0.0009 , 0.00085 , 94.69, 744
> 0.0009 <= 0.001 , 0.00095 , 96.63, 291
> 0.001 <= 0.0011 , 0.00105 , 97.18, 83
> 0.0011 <= 0.0012 , 0.00115 , 97.53, 52
> 0.0012 <= 0.0014 , 0.0013 , 98.05, 79
> 0.0014 <= 0.0016 , 0.0015 , 98.59, 80
> 0.0016 <= 0.0018 , 0.0017 , 98.93, 51
> 0.0018 <= 0.002 , 0.0019 , 99.11, 27
> 0.002 <= 0.0025 , 0.00225 , 99.27, 25
> 0.0025 <= 0.003 , 0.00275 , 99.39, 17
> 0.003 <= 0.0035 , 0.00325 , 99.59, 31
> 0.0035 <= 0.004 , 0.00375 , 99.71, 17
> 0.004 <= 0.0045 , 0.00425 , 99.85, 22
> 0.0045 <= 0.005 , 0.00475 , 99.91, 9
> 0.005 <= 0.005383 , 0.0051915 , 100.00, 13
# target 50% 0.00065917
# target 75% 0.000724349
# target 90% 0.000805511
# target 99% 0.00188148
# target 99.9% 0.00488889
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
Response Body/Total Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
All done 15000 calls (plus 4 warmup) 0.707 ms avg, 1499.7 qps
Successfully wrote 4208 bytes of Json data to /data/2018-11-19-061120_http_linkerd_1500qps_10s_echo_0_5.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
06:11:30 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 1500.0 qps
06:11:30 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:11:40 I periodic.go:533> T002 ended after 10.013937701s : 3750 calls. qps=374.47806367174843
06:11:40 I periodic.go:533> T000 ended after 10.014011412s : 3750 calls. qps=374.47530721867327
06:11:40 I periodic.go:533> T003 ended after 10.014024665s : 3750 calls. qps=374.4748116216069
06:11:40 I periodic.go:533> T001 ended after 10.014035899s : 3750 calls. qps=374.47439152624514
Ended after 10.014053178s : 15000 calls. qps=1497.9
Aggregated Sleep Time : count 14996 avg -0.00025535371 +/- 0.002979 min -0.023334749 max 0.001762576 sum -3.82928427
# range, mid point, percentile, count
>= -0.0233347 <= -0.001 , -0.0121674 , 13.55, 2032
> -0.001 <= 0 , -0.0005 , 19.38, 874
> 0 <= 0.001 , 0.0005 , 75.13, 8361
> 0.001 <= 0.00176258 , 0.00138129 , 100.00, 3729
# target 50% 0.000549217
WARNING 13.55% of sleep were falling behind
Aggregated Function Time : count 15000 avg 0.0018384279 +/- 0.0009955 min 0.000533712 max 0.017266067 sum 27.5764188
# range, mid point, percentile, count
>= 0.000533712 <= 0.0006 , 0.000566856 , 0.01, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.01, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.05, 6
> 0.0008 <= 0.0009 , 0.00085 , 0.10, 7
> 0.0009 <= 0.001 , 0.00095 , 0.18, 12
> 0.001 <= 0.0011 , 0.00105 , 0.53, 52
> 0.0011 <= 0.0012 , 0.00115 , 5.17, 697
> 0.0012 <= 0.0014 , 0.0013 , 23.91, 2810
> 0.0014 <= 0.0016 , 0.0015 , 41.55, 2646
> 0.0016 <= 0.0018 , 0.0017 , 56.80, 2288
> 0.0018 <= 0.002 , 0.0019 , 76.15, 2903
> 0.002 <= 0.0025 , 0.00225 , 94.43, 2741
> 0.0025 <= 0.003 , 0.00275 , 95.92, 224
> 0.003 <= 0.0035 , 0.00325 , 96.70, 117
> 0.0035 <= 0.004 , 0.00375 , 97.93, 184
> 0.004 <= 0.0045 , 0.00425 , 98.61, 102
> 0.0045 <= 0.005 , 0.00475 , 99.09, 73
> 0.005 <= 0.006 , 0.0055 , 99.49, 60
> 0.006 <= 0.007 , 0.0065 , 99.57, 11
> 0.007 <= 0.008 , 0.0075 , 99.57, 1
> 0.012 <= 0.014 , 0.013 , 99.83, 39
> 0.014 <= 0.016 , 0.015 , 99.95, 17
> 0.016 <= 0.0172661 , 0.016633 , 100.00, 8
# target 50% 0.00171084
# target 75% 0.00198808
# target 90% 0.00237888
# target 99% 0.00490411
# target 99.9% 0.0151765
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 209.00027 +/- 0.01633 min 209 max 210 sum 3135004
Response Body/Total Sizes : count 15000 avg 209.00027 +/- 0.01633 min 209 max 210 sum 3135004
All done 15000 calls (plus 4 warmup) 1.838 ms avg, 1497.9 qps
Successfully wrote 4616 bytes of Json data to /data/2018-11-19-061130_http_istio_1500qps_10s_echo_0_5.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
06:11:40 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:11:50 I periodic.go:533> T001 ended after 10.000856017s : 3750 calls. qps=374.96790211013393
06:11:50 I periodic.go:533> T000 ended after 10.001272169s : 3750 calls. qps=374.9522997307804
06:11:50 I periodic.go:533> T002 ended after 10.003286965s : 3750 calls. qps=374.876779314708
06:11:50 I periodic.go:533> T003 ended after 10.005470911s : 3750 calls. qps=374.79495301687956
Ended after 10.00552004s : 15000 calls. qps=1499.2
Sleep times : count 14996 avg 0.0016865651 +/- 0.0005511 min -0.003625756 max 0.002230197 sum 25.2917308
Aggregated Function Time : count 15000 avg 0.00069965918 +/- 0.0003764 min 0.000214977 max 0.005994015 sum 10.4948878
# range, mid point, percentile, count
>= 0.000214977 <= 0.0003 , 0.000257489 , 0.10, 15
> 0.0003 <= 0.0004 , 0.00035 , 0.82, 108
> 0.0004 <= 0.0005 , 0.00045 , 7.99, 1076
> 0.0005 <= 0.0006 , 0.00055 , 39.73, 4761
> 0.0006 <= 0.0007 , 0.00065 , 74.37, 5195
> 0.0007 <= 0.0008 , 0.00075 , 88.75, 2157
> 0.0008 <= 0.0009 , 0.00085 , 92.87, 619
> 0.0009 <= 0.001 , 0.00095 , 94.13, 188
> 0.001 <= 0.0011 , 0.00105 , 94.63, 75
> 0.0011 <= 0.0012 , 0.00115 , 95.02, 59
> 0.0012 <= 0.0014 , 0.0013 , 95.99, 146
> 0.0014 <= 0.0016 , 0.0015 , 96.89, 134
> 0.0016 <= 0.0018 , 0.0017 , 97.85, 144
> 0.0018 <= 0.002 , 0.0019 , 98.46, 92
> 0.002 <= 0.0025 , 0.00225 , 99.21, 112
> 0.0025 <= 0.003 , 0.00275 , 99.46, 38
> 0.003 <= 0.0035 , 0.00325 , 99.59, 19
> 0.0035 <= 0.004 , 0.00375 , 99.69, 15
> 0.004 <= 0.0045 , 0.00425 , 99.78, 14
> 0.0045 <= 0.005 , 0.00475 , 99.91, 19
> 0.005 <= 0.00599402 , 0.00549701 , 100.00, 14
# target 50% 0.000629644
# target 75% 0.000704404
# target 90% 0.000830372
# target 99% 0.00236161
# target 99.9% 0.00497368
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 0.700 ms avg, 1499.2 qps
Successfully wrote 3794 bytes of Json data to /data/2018-11-19-061140_grpc_baseline_1500qps_10s_echo_0_5.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
06:11:50 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:12:00 I periodic.go:533> T003 ended after 10.001036369s : 3750 calls. qps=374.9611401898103
06:12:00 I periodic.go:533> T000 ended after 10.001634519s : 3750 calls. qps=374.93871555455905
06:12:00 I periodic.go:533> T002 ended after 10.002033566s : 3750 calls. qps=374.9237567795621
06:12:00 I periodic.go:533> T001 ended after 10.002131418s : 3750 calls. qps=374.9200888574048
Ended after 10.00224923s : 15000 calls. qps=1499.7
Sleep times : count 14996 avg 0.0013630057 +/- 0.0005572 min -0.004031049 max 0.001940253 sum 20.4396331
Aggregated Function Time : count 15000 avg 0.0010284271 +/- 0.0004167 min 0.000543083 max 0.00634718 sum 15.4264059
# range, mid point, percentile, count
>= 0.000543083 <= 0.0006 , 0.000571542 , 0.03, 5
> 0.0006 <= 0.0007 , 0.00065 , 0.47, 65
> 0.0007 <= 0.0008 , 0.00075 , 8.89, 1264
> 0.0008 <= 0.0009 , 0.00085 , 30.57, 3251
> 0.0009 <= 0.001 , 0.00095 , 62.37, 4771
> 0.001 <= 0.0011 , 0.00105 , 83.33, 3144
> 0.0011 <= 0.0012 , 0.00115 , 91.11, 1167
> 0.0012 <= 0.0014 , 0.0013 , 95.71, 689
> 0.0014 <= 0.0016 , 0.0015 , 96.63, 138
> 0.0016 <= 0.0018 , 0.0017 , 97.13, 76
> 0.0018 <= 0.002 , 0.0019 , 97.69, 83
> 0.002 <= 0.0025 , 0.00225 , 98.83, 171
> 0.0025 <= 0.003 , 0.00275 , 99.02, 29
> 0.003 <= 0.0035 , 0.00325 , 99.17, 22
> 0.0035 <= 0.004 , 0.00375 , 99.34, 26
> 0.004 <= 0.0045 , 0.00425 , 99.46, 18
> 0.0045 <= 0.005 , 0.00475 , 99.71, 38
> 0.005 <= 0.006 , 0.0055 , 99.96, 37
> 0.006 <= 0.00634718 , 0.00617359 , 100.00, 6
# target 50% 0.000961098
# target 75% 0.00106024
# target 90% 0.00118569
# target 99% 0.00294828
# target 99.9% 0.00575676
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 1.028 ms avg, 1499.7 qps
Successfully wrote 3538 bytes of Json data to /data/2018-11-19-061150_grpc_linkerd_1500qps_10s_echo_0_5.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8079
06:12:00 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:12:10 I periodic.go:533> T001 ended after 10.016339302s : 3750 calls. qps=374.38827568982447
06:12:10 I periodic.go:533> T002 ended after 10.017070181s : 3750 calls. qps=374.3609590669394
06:12:10 I periodic.go:533> T000 ended after 10.017096412s : 3750 calls. qps=374.3599787566864
06:12:10 I periodic.go:533> T003 ended after 10.017108807s : 3750 calls. qps=374.35951553001837
Ended after 10.017121116s : 15000 calls. qps=1497.4
Aggregated Sleep Time : count 14996 avg -0.00067374017 +/- 0.00395 min -0.036889772 max 0.001994878 sum -10.1034076
# range, mid point, percentile, count
>= -0.0368898 <= -0.001 , -0.0189449 , 14.88, 2232
> -0.001 <= 0 , -0.0005 , 27.87, 1948
> 0 <= 0.001 , 0.0005 , 86.74, 8827
> 0.001 <= 0.00199488 , 0.00149744 , 100.00, 1989
# target 50% 0.000375892
WARNING 14.88% of sleep were falling behind
Aggregated Function Time : count 15000 avg 0.0019834304 +/- 0.001323 min 0.000481212 max 0.027404119 sum 29.7514563
# range, mid point, percentile, count
>= 0.000481212 <= 0.0005 , 0.000490606 , 0.01, 1
> 0.0005 <= 0.0006 , 0.00055 , 0.05, 7
> 0.0006 <= 0.0007 , 0.00065 , 0.39, 51
> 0.0007 <= 0.0008 , 0.00075 , 1.52, 169
> 0.0008 <= 0.0009 , 0.00085 , 3.52, 300
> 0.0009 <= 0.001 , 0.00095 , 7.49, 596
> 0.001 <= 0.0011 , 0.00105 , 11.13, 546
> 0.0011 <= 0.0012 , 0.00115 , 14.05, 437
> 0.0012 <= 0.0014 , 0.0013 , 19.31, 789
> 0.0014 <= 0.0016 , 0.0015 , 30.13, 1623
> 0.0016 <= 0.0018 , 0.0017 , 48.35, 2733
> 0.0018 <= 0.002 , 0.0019 , 62.99, 2197
> 0.002 <= 0.0025 , 0.00225 , 86.13, 3471
> 0.0025 <= 0.003 , 0.00275 , 95.32, 1378
> 0.003 <= 0.0035 , 0.00325 , 96.40, 162
> 0.0035 <= 0.004 , 0.00375 , 97.27, 131
> 0.004 <= 0.0045 , 0.00425 , 98.07, 119
> 0.0045 <= 0.005 , 0.00475 , 98.62, 83
> 0.005 <= 0.006 , 0.0055 , 99.12, 75
> 0.006 <= 0.007 , 0.0065 , 99.35, 35
> 0.007 <= 0.008 , 0.0075 , 99.45, 14
> 0.008 <= 0.009 , 0.0085 , 99.51, 10
> 0.009 <= 0.01 , 0.0095 , 99.55, 5
> 0.01 <= 0.012 , 0.011 , 99.59, 6
> 0.012 <= 0.014 , 0.013 , 99.59, 1
> 0.014 <= 0.016 , 0.015 , 99.64, 7
> 0.016 <= 0.018 , 0.017 , 99.80, 24
> 0.018 <= 0.02 , 0.019 , 99.93, 19
> 0.02 <= 0.025 , 0.0225 , 99.98, 8
> 0.025 <= 0.0274041 , 0.0262021 , 100.00, 3
# target 50% 0.00182258
# target 75% 0.00225944
# target 90% 0.00271045
# target 99% 0.00576
# target 99.9% 0.0195789
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 1.983 ms avg, 1497.4 qps
Successfully wrote 4860 bytes of Json data to /data/2018-11-19-061200_grpc_istio_1500qps_10s_echo_0_5.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
06:12:10 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 1500.0 qps
06:12:10 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:12:20 I periodic.go:533> T000 ended after 10.000444247s : 3750 calls. qps=374.98334147754986
06:12:20 I periodic.go:533> T003 ended after 10.000924909s : 3750 calls. qps=374.96531912016576
06:12:20 I periodic.go:533> T002 ended after 10.002916296s : 3750 calls. qps=374.89067078363564
06:12:20 I periodic.go:533> T001 ended after 10.002967265s : 3750 calls. qps=374.88876057018666
Ended after 10.002983536s : 15000 calls. qps=1499.6
Sleep times : count 14996 avg 0.0020508912 +/- 0.0003866 min -0.002585998 max 0.002433965 sum 30.7551637
Aggregated Function Time : count 15000 avg 0.00036617334 +/- 0.0002486 min 0.000115095 max 0.004510189 sum 5.49260009
# range, mid point, percentile, count
>= 0.000115095 <= 0.0002 , 0.000157547 , 2.39, 359
> 0.0002 <= 0.0003 , 0.00025 , 35.99, 5039
> 0.0003 <= 0.0004 , 0.00035 , 77.83, 6277
> 0.0004 <= 0.0005 , 0.00045 , 93.12, 2293
> 0.0005 <= 0.0006 , 0.00055 , 96.93, 572
> 0.0006 <= 0.0007 , 0.00065 , 97.77, 126
> 0.0007 <= 0.0008 , 0.00075 , 98.16, 58
> 0.0008 <= 0.0009 , 0.00085 , 98.36, 30
> 0.0009 <= 0.001 , 0.00095 , 98.66, 45
> 0.001 <= 0.0011 , 0.00105 , 98.75, 14
> 0.0011 <= 0.0012 , 0.00115 , 98.84, 13
> 0.0012 <= 0.0014 , 0.0013 , 98.96, 18
> 0.0014 <= 0.0016 , 0.0015 , 99.06, 15
> 0.0016 <= 0.0018 , 0.0017 , 99.20, 21
> 0.0018 <= 0.002 , 0.0019 , 99.56, 54
> 0.002 <= 0.0025 , 0.00225 , 99.61, 8
> 0.0025 <= 0.003 , 0.00275 , 99.71, 15
> 0.003 <= 0.0035 , 0.00325 , 99.84, 19
> 0.0035 <= 0.004 , 0.00375 , 99.95, 16
> 0.004 <= 0.0045 , 0.00425 , 99.99, 7
> 0.0045 <= 0.00451019 , 0.00450509 , 100.00, 1
# target 50% 0.000333487
# target 75% 0.000393229
# target 90% 0.00047959
# target 99% 0.00148
# target 99.9% 0.00378125
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
Response Body/Total Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
All done 15000 calls (plus 4 warmup) 0.366 ms avg, 1499.6 qps
Successfully wrote 4284 bytes of Json data to /data/2018-11-19-061210_http_baseline_1500qps_10s_echo_1_5.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
06:12:20 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 1500.0 qps
06:12:20 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:12:30 I periodic.go:533> T000 ended after 10.000822064s : 3750 calls. qps=374.96917513400126
06:12:30 I periodic.go:533> T003 ended after 10.001350367s : 3750 calls. qps=374.9493680746681
06:12:30 I periodic.go:533> T001 ended after 10.001458776s : 3750 calls. qps=374.9453038789389
06:12:30 I periodic.go:533> T002 ended after 10.001528557s : 3750 calls. qps=374.9426878729853
Ended after 10.001553528s : 15000 calls. qps=1499.8
Sleep times : count 14996 avg 0.0016350308 +/- 0.001495 min -0.031705542 max 0.002132928 sum 24.5189213
Aggregated Function Time : count 15000 avg 0.00071982188 +/- 0.0005447 min 0.000384258 max 0.031044321 sum 10.7973282
# range, mid point, percentile, count
>= 0.000384258 <= 0.0004 , 0.000392129 , 0.01, 1
> 0.0004 <= 0.0005 , 0.00045 , 0.34, 50
> 0.0005 <= 0.0006 , 0.00055 , 16.63, 2444
> 0.0006 <= 0.0007 , 0.00065 , 68.99, 7854
> 0.0007 <= 0.0008 , 0.00075 , 89.09, 3014
> 0.0008 <= 0.0009 , 0.00085 , 94.80, 857
> 0.0009 <= 0.001 , 0.00095 , 96.74, 291
> 0.001 <= 0.0011 , 0.00105 , 97.21, 70
> 0.0011 <= 0.0012 , 0.00115 , 97.49, 42
> 0.0012 <= 0.0014 , 0.0013 , 97.95, 69
> 0.0014 <= 0.0016 , 0.0015 , 98.50, 83
> 0.0016 <= 0.0018 , 0.0017 , 98.83, 49
> 0.0018 <= 0.002 , 0.0019 , 99.17, 52
> 0.002 <= 0.0025 , 0.00225 , 99.33, 23
> 0.0025 <= 0.003 , 0.00275 , 99.39, 10
> 0.003 <= 0.0035 , 0.00325 , 99.45, 9
> 0.0035 <= 0.004 , 0.00375 , 99.58, 19
> 0.004 <= 0.0045 , 0.00425 , 99.80, 33
> 0.0045 <= 0.005 , 0.00475 , 99.89, 14
> 0.005 <= 0.006 , 0.0055 , 99.97, 12
> 0.02 <= 0.025 , 0.0225 , 99.98, 1
> 0.025 <= 0.03 , 0.0275 , 99.99, 1
> 0.03 <= 0.0310443 , 0.0305222 , 100.00, 2
# target 50% 0.000663725
# target 75% 0.000729894
# target 90% 0.000815986
# target 99% 0.0019
# target 99.9% 0.00508333
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
Response Body/Total Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
All done 15000 calls (plus 4 warmup) 0.720 ms avg, 1499.8 qps
Successfully wrote 4548 bytes of Json data to /data/2018-11-19-061220_http_linkerd_1500qps_10s_echo_1_5.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
06:12:30 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 1500.0 qps
06:12:30 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:12:41 I periodic.go:533> T001 ended after 10.015422458s : 3750 calls. qps=374.42254839730896
06:12:41 I periodic.go:533> T003 ended after 10.015510969s : 3750 calls. qps=374.4192394783448
06:12:41 I periodic.go:533> T000 ended after 10.015524128s : 3750 calls. qps=374.4187475437531
06:12:41 I periodic.go:533> T002 ended after 10.015534868s : 3750 calls. qps=374.4183460417463
Ended after 10.015548585s : 15000 calls. qps=1497.7
Aggregated Sleep Time : count 14996 avg -0.00021667992 +/- 0.003058 min -0.026396969 max 0.001886977 sum -3.24933209
# range, mid point, percentile, count
>= -0.026397 <= -0.001 , -0.0136985 , 13.58, 2037
> -0.001 <= 0 , -0.0005 , 18.11, 679
> 0 <= 0.001 , 0.0005 , 70.51, 7857
> 0.001 <= 0.00188698 , 0.00144349 , 100.00, 4423
# target 50% 0.000608629
WARNING 13.58% of sleep were falling behind
Aggregated Function Time : count 15000 avg 0.0018254389 +/- 0.001016 min 0.000708739 max 0.015924041 sum 27.3815829
# range, mid point, percentile, count
>= 0.000708739 <= 0.0008 , 0.00075437 , 0.05, 7
> 0.0008 <= 0.0009 , 0.00085 , 0.12, 11
> 0.0009 <= 0.001 , 0.00095 , 0.23, 16
> 0.001 <= 0.0011 , 0.00105 , 0.39, 24
> 0.0011 <= 0.0012 , 0.00115 , 2.94, 383
> 0.0012 <= 0.0014 , 0.0013 , 25.33, 3359
> 0.0014 <= 0.0016 , 0.0015 , 43.50, 2725
> 0.0016 <= 0.0018 , 0.0017 , 58.71, 2281
> 0.0018 <= 0.002 , 0.0019 , 79.11, 3060
> 0.002 <= 0.0025 , 0.00225 , 94.76, 2348
> 0.0025 <= 0.003 , 0.00275 , 95.99, 185
> 0.003 <= 0.0035 , 0.00325 , 96.83, 125
> 0.0035 <= 0.004 , 0.00375 , 97.77, 141
> 0.004 <= 0.0045 , 0.00425 , 98.64, 131
> 0.0045 <= 0.005 , 0.00475 , 98.97, 49
> 0.005 <= 0.006 , 0.0055 , 99.32, 53
> 0.006 <= 0.007 , 0.0065 , 99.45, 19
> 0.007 <= 0.008 , 0.0075 , 99.57, 19
> 0.012 <= 0.014 , 0.013 , 99.75, 27
> 0.014 <= 0.015924 , 0.014962 , 100.00, 37
# target 50% 0.00168549
# target 75% 0.00195974
# target 90% 0.00234796
# target 99% 0.00509434
# target 99.9% 0.015144
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 209 +/- 0 min 209 max 209 sum 3135000
Response Body/Total Sizes : count 15000 avg 209 +/- 0 min 209 max 209 sum 3135000
All done 15000 calls (plus 4 warmup) 1.825 ms avg, 1497.7 qps
Successfully wrote 4150 bytes of Json data to /data/2018-11-19-061231_http_istio_1500qps_10s_echo_1_5.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
06:12:41 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:12:51 I periodic.go:533> T000 ended after 10.001128103s : 3750 calls. qps=374.95770090927317
06:12:51 I periodic.go:533> T001 ended after 10.001759784s : 3750 calls. qps=374.93401971110563
06:12:51 I periodic.go:533> T002 ended after 10.003963283s : 3750 calls. qps=374.85143576770963
06:12:51 I periodic.go:533> T003 ended after 10.004019055s : 3750 calls. qps=374.84934598617673
Ended after 10.00403386s : 15000 calls. qps=1499.4
Sleep times : count 14996 avg 0.001482264 +/- 0.0005679 min -0.002953289 max 0.002226704 sum 22.2280315
Aggregated Function Time : count 15000 avg 0.00082193713 +/- 0.0003989 min 0.000222844 max 0.005170852 sum 12.329057
# range, mid point, percentile, count
>= 0.000222844 <= 0.0003 , 0.000261422 , 0.08, 12
> 0.0003 <= 0.0004 , 0.00035 , 0.29, 31
> 0.0004 <= 0.0005 , 0.00045 , 2.89, 391
> 0.0005 <= 0.0006 , 0.00055 , 15.53, 1896
> 0.0006 <= 0.0007 , 0.00065 , 40.33, 3719
> 0.0007 <= 0.0008 , 0.00075 , 63.57, 3487
> 0.0008 <= 0.0009 , 0.00085 , 78.96, 2308
> 0.0009 <= 0.001 , 0.00095 , 87.88, 1338
> 0.001 <= 0.0011 , 0.00105 , 91.61, 559
> 0.0011 <= 0.0012 , 0.00115 , 93.15, 231
> 0.0012 <= 0.0014 , 0.0013 , 95.05, 285
> 0.0014 <= 0.0016 , 0.0015 , 96.35, 195
> 0.0016 <= 0.0018 , 0.0017 , 97.12, 116
> 0.0018 <= 0.002 , 0.0019 , 98.09, 146
> 0.002 <= 0.0025 , 0.00225 , 99.09, 149
> 0.0025 <= 0.003 , 0.00275 , 99.31, 34
> 0.003 <= 0.0035 , 0.00325 , 99.48, 25
> 0.0035 <= 0.004 , 0.00375 , 99.59, 17
> 0.004 <= 0.0045 , 0.00425 , 99.75, 24
> 0.0045 <= 0.005 , 0.00475 , 99.93, 26
> 0.005 <= 0.00517085 , 0.00508543 , 100.00, 11
# target 50% 0.000741612
# target 75% 0.000874263
# target 90% 0.00105689
# target 99% 0.00245638
# target 99.9% 0.00492308
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 0.822 ms avg, 1499.4 qps
Successfully wrote 3812 bytes of Json data to /data/2018-11-19-061241_grpc_baseline_1500qps_10s_echo_1_5.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
06:12:51 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:13:01 I periodic.go:533> T002 ended after 10.001124928s : 3750 calls. qps=374.9578199449525
06:13:01 I periodic.go:533> T000 ended after 10.001767473s : 3750 calls. qps=374.93373147528285
06:13:01 I periodic.go:533> T003 ended after 10.002138536s : 3750 calls. qps=374.919822046344
06:13:01 I periodic.go:533> T001 ended after 10.002178117s : 3750 calls. qps=374.9183383993521
Ended after 10.002265822s : 15000 calls. qps=1499.7
Sleep times : count 14996 avg 0.0012592411 +/- 0.000632 min -0.007120785 max 0.001845035 sum 18.8835802
Aggregated Function Time : count 15000 avg 0.0011012519 +/- 0.0004281 min 0.000520725 max 0.00853561 sum 16.518778
# range, mid point, percentile, count
>= 0.000520725 <= 0.0006 , 0.000560362 , 0.02, 3
> 0.0006 <= 0.0007 , 0.00065 , 0.10, 12
> 0.0007 <= 0.0008 , 0.00075 , 3.23, 470
> 0.0008 <= 0.0009 , 0.00085 , 16.37, 1971
> 0.0009 <= 0.001 , 0.00095 , 42.18, 3871
> 0.001 <= 0.0011 , 0.00105 , 68.24, 3909
> 0.0011 <= 0.0012 , 0.00115 , 83.00, 2214
> 0.0012 <= 0.0014 , 0.0013 , 93.61, 1592
> 0.0014 <= 0.0016 , 0.0015 , 96.08, 370
> 0.0016 <= 0.0018 , 0.0017 , 97.01, 139
> 0.0018 <= 0.002 , 0.0019 , 97.69, 103
> 0.002 <= 0.0025 , 0.00225 , 98.66, 145
> 0.0025 <= 0.003 , 0.00275 , 99.02, 54
> 0.003 <= 0.0035 , 0.00325 , 99.27, 37
> 0.0035 <= 0.004 , 0.00375 , 99.35, 13
> 0.004 <= 0.0045 , 0.00425 , 99.43, 11
> 0.0045 <= 0.005 , 0.00475 , 99.65, 34
> 0.005 <= 0.006 , 0.0055 , 99.97, 48
> 0.008 <= 0.00853561 , 0.0082678 , 100.00, 4
# target 50% 0.00103001
# target 75% 0.0011458
# target 90% 0.00133191
# target 99% 0.00297222
# target 99.9% 0.00577083
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 1.101 ms avg, 1499.7 qps
Successfully wrote 3479 bytes of Json data to /data/2018-11-19-061251_grpc_linkerd_1500qps_10s_echo_1_5.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8079
06:13:01 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:13:11 I periodic.go:533> T001 ended after 10.016028945s : 3750 calls. qps=374.399876497162
06:13:11 I periodic.go:533> T003 ended after 10.01653548s : 3750 calls. qps=374.3809431402324
06:13:11 I periodic.go:533> T000 ended after 10.017335464s : 3750 calls. qps=374.351045093442
06:13:11 I periodic.go:533> T002 ended after 10.017382944s : 3750 calls. qps=374.34927075899554
Ended after 10.017395495s : 15000 calls. qps=1497.4
Aggregated Sleep Time : count 14996 avg -0.0002682496 +/- 0.002799 min -0.026368985 max 0.001998469 sum -4.02267102
# range, mid point, percentile, count
>= -0.026369 <= -0.001 , -0.0136845 , 12.97, 1945
> -0.001 <= 0 , -0.0005 , 23.54, 1585
> 0 <= 0.001 , 0.0005 , 85.36, 9270
> 0.001 <= 0.00199847 , 0.00149923 , 100.00, 2196
# target 50% 0.000428047
WARNING 12.97% of sleep were falling behind
Aggregated Function Time : count 15000 avg 0.0019444284 +/- 0.001167 min 0.000462125 max 0.018227611 sum 29.1664262
# range, mid point, percentile, count
>= 0.000462125 <= 0.0005 , 0.000481063 , 0.01, 1
> 0.0005 <= 0.0006 , 0.00055 , 0.10, 14
> 0.0006 <= 0.0007 , 0.00065 , 0.48, 57
> 0.0007 <= 0.0008 , 0.00075 , 1.33, 128
> 0.0008 <= 0.0009 , 0.00085 , 3.21, 281
> 0.0009 <= 0.001 , 0.00095 , 7.39, 627
> 0.001 <= 0.0011 , 0.00105 , 10.85, 519
> 0.0011 <= 0.0012 , 0.00115 , 13.74, 434
> 0.0012 <= 0.0014 , 0.0013 , 19.25, 826
> 0.0014 <= 0.0016 , 0.0015 , 31.83, 1888
> 0.0016 <= 0.0018 , 0.0017 , 49.60, 2665
> 0.0018 <= 0.002 , 0.0019 , 64.69, 2264
> 0.002 <= 0.0025 , 0.00225 , 88.86, 3625
> 0.0025 <= 0.003 , 0.00275 , 95.51, 997
> 0.003 <= 0.0035 , 0.00325 , 96.47, 145
> 0.0035 <= 0.004 , 0.00375 , 97.46, 148
> 0.004 <= 0.0045 , 0.00425 , 98.26, 120
> 0.0045 <= 0.005 , 0.00475 , 98.73, 70
> 0.005 <= 0.006 , 0.0055 , 99.22, 74
> 0.006 <= 0.007 , 0.0065 , 99.55, 49
> 0.007 <= 0.008 , 0.0075 , 99.55, 1
> 0.009 <= 0.01 , 0.0095 , 99.57, 2
> 0.01 <= 0.012 , 0.011 , 99.58, 2
> 0.012 <= 0.014 , 0.013 , 99.63, 7
> 0.014 <= 0.016 , 0.015 , 99.73, 16
> 0.016 <= 0.018 , 0.017 , 99.99, 38
> 0.018 <= 0.0182276 , 0.0181138 , 100.00, 2
# target 50% 0.0018053
# target 75% 0.00221324
# target 90% 0.00258576
# target 99% 0.00555405
# target 99.9% 0.0173158
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 1.944 ms avg, 1497.4 qps
Successfully wrote 4486 bytes of Json data to /data/2018-11-19-061301_grpc_istio_1500qps_10s_echo_1_5.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
06:13:11 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 1500.0 qps
06:13:11 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:13:21 I periodic.go:533> T000 ended after 10.000557885s : 3750 calls. qps=374.9790804795687
06:13:21 I periodic.go:533> T003 ended after 10.001103439s : 3750 calls. qps=374.9586256029124
06:13:21 I periodic.go:533> T001 ended after 10.003079638s : 3750 calls. qps=374.8845491296887
06:13:21 I periodic.go:533> T002 ended after 10.003112421s : 3750 calls. qps=374.88332052806385
Ended after 10.003137574s : 15000 calls. qps=1499.5
Sleep times : count 14996 avg 0.002047186 +/- 0.0004022 min -0.002619947 max 0.002430831 sum 30.6996017
Aggregated Function Time : count 15000 avg 0.00036861847 +/- 0.0002624 min 0.000107693 max 0.004761953 sum 5.52927712
# range, mid point, percentile, count
>= 0.000107693 <= 0.0002 , 0.000153846 , 2.70, 405
> 0.0002 <= 0.0003 , 0.00025 , 36.51, 5071
> 0.0003 <= 0.0004 , 0.00035 , 77.40, 6134
> 0.0004 <= 0.0005 , 0.00045 , 92.95, 2332
> 0.0005 <= 0.0006 , 0.00055 , 96.71, 565
> 0.0006 <= 0.0007 , 0.00065 , 97.69, 147
> 0.0007 <= 0.0008 , 0.00075 , 98.00, 46
> 0.0008 <= 0.0009 , 0.00085 , 98.20, 30
> 0.0009 <= 0.001 , 0.00095 , 98.35, 22
> 0.001 <= 0.0011 , 0.00105 , 98.45, 15
> 0.0011 <= 0.0012 , 0.00115 , 98.59, 21
> 0.0012 <= 0.0014 , 0.0013 , 98.78, 29
> 0.0014 <= 0.0016 , 0.0015 , 98.97, 28
> 0.0016 <= 0.0018 , 0.0017 , 99.08, 17
> 0.0018 <= 0.002 , 0.0019 , 99.41, 49
> 0.002 <= 0.0025 , 0.00225 , 99.62, 32
> 0.0025 <= 0.003 , 0.00275 , 99.75, 19
> 0.003 <= 0.0035 , 0.00325 , 99.83, 13
> 0.0035 <= 0.004 , 0.00375 , 99.96, 19
> 0.004 <= 0.0045 , 0.00425 , 99.97, 2
> 0.0045 <= 0.00476195 , 0.00463098 , 100.00, 4
# target 50% 0.000332996
# target 75% 0.000394131
# target 90% 0.000481046
# target 99% 0.00165882
# target 99.9% 0.00376316
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
Response Body/Total Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
All done 15000 calls (plus 4 warmup) 0.369 ms avg, 1499.5 qps
Successfully wrote 4304 bytes of Json data to /data/2018-11-19-061311_http_baseline_1500qps_10s_echo_0_6.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
06:13:21 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 1500.0 qps
06:13:21 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:13:31 I periodic.go:533> T003 ended after 10.000991241s : 3750 calls. qps=374.96283214673
06:13:31 I periodic.go:533> T000 ended after 10.00152095s : 3750 calls. qps=374.9429730485142
06:13:31 I periodic.go:533> T001 ended after 10.001639471s : 3750 calls. qps=374.9385299153421
06:13:31 I periodic.go:533> T002 ended after 10.001699401s : 3750 calls. qps=374.936283290524
Ended after 10.001736365s : 15000 calls. qps=1499.7
Sleep times : count 14996 avg 0.0015682773 +/- 0.00203 min -0.03597102 max 0.002181821 sum 23.5178871
Aggregated Function Time : count 15000 avg 0.00072277414 +/- 0.000602 min 0.000374267 max 0.031091704 sum 10.8416121
# range, mid point, percentile, count
>= 0.000374267 <= 0.0004 , 0.000387134 , 0.01, 1
> 0.0004 <= 0.0005 , 0.00045 , 0.43, 63
> 0.0005 <= 0.0006 , 0.00055 , 19.42, 2849
> 0.0006 <= 0.0007 , 0.00065 , 68.74, 7398
> 0.0007 <= 0.0008 , 0.00075 , 89.33, 3089
> 0.0008 <= 0.0009 , 0.00085 , 94.85, 827
> 0.0009 <= 0.001 , 0.00095 , 96.66, 272
> 0.001 <= 0.0011 , 0.00105 , 97.23, 85
> 0.0011 <= 0.0012 , 0.00115 , 97.46, 35
> 0.0012 <= 0.0014 , 0.0013 , 97.89, 64
> 0.0014 <= 0.0016 , 0.0015 , 98.41, 78
> 0.0016 <= 0.0018 , 0.0017 , 98.75, 51
> 0.0018 <= 0.002 , 0.0019 , 98.90, 23
> 0.002 <= 0.0025 , 0.00225 , 99.24, 51
> 0.0025 <= 0.003 , 0.00275 , 99.28, 6
> 0.003 <= 0.0035 , 0.00325 , 99.37, 13
> 0.0035 <= 0.004 , 0.00375 , 99.55, 28
> 0.004 <= 0.0045 , 0.00425 , 99.73, 27
> 0.0045 <= 0.005 , 0.00475 , 99.89, 24
> 0.005 <= 0.006 , 0.0055 , 99.97, 12
> 0.03 <= 0.0310917 , 0.0305459 , 100.00, 4
# target 50% 0.000662003
# target 75% 0.000730398
# target 90% 0.000812092
# target 99% 0.00214706
# target 99.9% 0.00508333
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
Response Body/Total Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
All done 15000 calls (plus 4 warmup) 0.723 ms avg, 1499.7 qps
Successfully wrote 4293 bytes of Json data to /data/2018-11-19-061321_http_linkerd_1500qps_10s_echo_0_6.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
06:13:31 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 1500.0 qps
06:13:31 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:13:41 I periodic.go:533> T001 ended after 10.013991182s : 3750 calls. qps=374.4760637237797
06:13:41 I periodic.go:533> T002 ended after 10.014187904s : 3750 calls. qps=374.4687073928506
06:13:41 I periodic.go:533> T003 ended after 10.014205054s : 3750 calls. qps=374.4680660899916
06:13:41 I periodic.go:533> T000 ended after 10.014215653s : 3750 calls. qps=374.46766975470484
Ended after 10.014228692s : 15000 calls. qps=1497.9
Aggregated Sleep Time : count 14996 avg -0.00015688859 +/- 0.00302 min -0.0265303 max 0.001751011 sum -2.35270127
# range, mid point, percentile, count
>= -0.0265303 <= -0.001 , -0.0137652 , 13.17, 1975
> -0.001 <= 0 , -0.0005 , 18.00, 725
> 0 <= 0.001 , 0.0005 , 69.07, 7658
> 0.001 <= 0.00175101 , 0.00137551 , 100.00, 4638
# target 50% 0.000626534
WARNING 13.17% of sleep were falling behind
Aggregated Function Time : count 15000 avg 0.001798098 +/- 0.0009988 min 0.000728067 max 0.01937189 sum 26.9714693
# range, mid point, percentile, count
>= 0.000728067 <= 0.0008 , 0.000764034 , 0.03, 4
> 0.0008 <= 0.0009 , 0.00085 , 0.07, 7
> 0.0009 <= 0.001 , 0.00095 , 0.23, 23
> 0.001 <= 0.0011 , 0.00105 , 0.55, 49
> 0.0011 <= 0.0012 , 0.00115 , 5.45, 734
> 0.0012 <= 0.0014 , 0.0013 , 27.56, 3317
> 0.0014 <= 0.0016 , 0.0015 , 45.53, 2696
> 0.0016 <= 0.0018 , 0.0017 , 59.30, 2065
> 0.0018 <= 0.002 , 0.0019 , 80.72, 3213
> 0.002 <= 0.0025 , 0.00225 , 94.87, 2122
> 0.0025 <= 0.003 , 0.00275 , 96.13, 189
> 0.003 <= 0.0035 , 0.00325 , 96.91, 118
> 0.0035 <= 0.004 , 0.00375 , 98.13, 182
> 0.004 <= 0.0045 , 0.00425 , 98.67, 82
> 0.0045 <= 0.005 , 0.00475 , 99.07, 59
> 0.005 <= 0.006 , 0.0055 , 99.39, 48
> 0.006 <= 0.007 , 0.0065 , 99.52, 20
> 0.007 <= 0.008 , 0.0075 , 99.60, 12
> 0.012 <= 0.014 , 0.013 , 99.81, 32
> 0.014 <= 0.016 , 0.015 , 99.95, 20
> 0.016 <= 0.018 , 0.017 , 99.97, 4
> 0.018 <= 0.0193719 , 0.0186859 , 100.00, 4
# target 50% 0.00166489
# target 75% 0.00194659
# target 90% 0.00232799
# target 99% 0.00491525
# target 99.9% 0.0153
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 209 +/- 0 min 209 max 209 sum 3135000
Response Body/Total Sizes : count 15000 avg 209 +/- 0 min 209 max 209 sum 3135000
All done 15000 calls (plus 4 warmup) 1.798 ms avg, 1497.9 qps
Successfully wrote 4425 bytes of Json data to /data/2018-11-19-061331_http_istio_1500qps_10s_echo_0_6.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
06:13:41 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:13:51 I periodic.go:533> T003 ended after 10.000720502s : 3750 calls. qps=374.9729831215715
06:13:51 I periodic.go:533> T002 ended after 10.001261802s : 3750 calls. qps=374.9526883947878
06:13:51 I periodic.go:533> T001 ended after 10.003459426s : 3750 calls. qps=374.87031638808594
06:13:51 I periodic.go:533> T000 ended after 10.003522072s : 3750 calls. qps=374.8679688023384
Ended after 10.003537794s : 15000 calls. qps=1499.5
Sleep times : count 14996 avg 0.0016760875 +/- 0.0005666 min -0.003680891 max 0.002273753 sum 25.1346077
Aggregated Function Time : count 15000 avg 0.00070231136 +/- 0.0003726 min 0.000219751 max 0.005821885 sum 10.5346703
# range, mid point, percentile, count
>= 0.000219751 <= 0.0003 , 0.000259876 , 0.11, 16
> 0.0003 <= 0.0004 , 0.00035 , 0.84, 110
> 0.0004 <= 0.0005 , 0.00045 , 7.02, 927
> 0.0005 <= 0.0006 , 0.00055 , 37.97, 4643
> 0.0006 <= 0.0007 , 0.00065 , 74.03, 5409
> 0.0007 <= 0.0008 , 0.00075 , 88.51, 2171
> 0.0008 <= 0.0009 , 0.00085 , 93.11, 691
> 0.0009 <= 0.001 , 0.00095 , 94.39, 191
> 0.001 <= 0.0011 , 0.00105 , 94.88, 74
> 0.0011 <= 0.0012 , 0.00115 , 95.13, 38
> 0.0012 <= 0.0014 , 0.0013 , 95.87, 110
> 0.0014 <= 0.0016 , 0.0015 , 96.72, 128
> 0.0016 <= 0.0018 , 0.0017 , 97.43, 107
> 0.0018 <= 0.002 , 0.0019 , 98.43, 149
> 0.002 <= 0.0025 , 0.00225 , 99.22, 119
> 0.0025 <= 0.003 , 0.00275 , 99.40, 27
> 0.003 <= 0.0035 , 0.00325 , 99.63, 35
> 0.0035 <= 0.004 , 0.00375 , 99.76, 19
> 0.004 <= 0.0045 , 0.00425 , 99.79, 4
> 0.0045 <= 0.005 , 0.00475 , 99.91, 19
> 0.005 <= 0.00582188 , 0.00541094 , 100.00, 13
# target 50% 0.000633352
# target 75% 0.000706679
# target 90% 0.000832417
# target 99% 0.00236134
# target 99.9% 0.00494737
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 0.702 ms avg, 1499.5 qps
Successfully wrote 3784 bytes of Json data to /data/2018-11-19-061341_grpc_baseline_1500qps_10s_echo_0_6.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
06:13:51 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:14:01 I periodic.go:533> T001 ended after 10.001364931s : 3750 calls. qps=374.9488220729339
06:14:01 I periodic.go:533> T003 ended after 10.002006197s : 3750 calls. qps=374.92478270257163
06:14:01 I periodic.go:533> T000 ended after 10.002192216s : 3750 calls. qps=374.91780991784134
06:14:01 I periodic.go:533> T002 ended after 10.002222383s : 3750 calls. qps=374.91667915458305
Ended after 10.002274076s : 15000 calls. qps=1499.7
Sleep times : count 14996 avg 0.0013887289 +/- 0.0005317 min -0.00324123 max 0.001956367 sum 20.8253779
Aggregated Function Time : count 15000 avg 0.0010044063 +/- 0.0003821 min 0.000542306 max 0.005721897 sum 15.0660941
# range, mid point, percentile, count
>= 0.000542306 <= 0.0006 , 0.000571153 , 0.02, 3
> 0.0006 <= 0.0007 , 0.00065 , 0.87, 127
> 0.0007 <= 0.0008 , 0.00075 , 12.44, 1736
> 0.0008 <= 0.0009 , 0.00085 , 37.14, 3705
> 0.0009 <= 0.001 , 0.00095 , 67.39, 4538
> 0.001 <= 0.0011 , 0.00105 , 85.15, 2664
> 0.0011 <= 0.0012 , 0.00115 , 91.81, 998
> 0.0012 <= 0.0014 , 0.0013 , 95.73, 588
> 0.0014 <= 0.0016 , 0.0015 , 96.65, 138
> 0.0016 <= 0.0018 , 0.0017 , 97.24, 89
> 0.0018 <= 0.002 , 0.0019 , 97.81, 85
> 0.002 <= 0.0025 , 0.00225 , 98.91, 165
> 0.0025 <= 0.003 , 0.00275 , 99.19, 42
> 0.003 <= 0.0035 , 0.00325 , 99.31, 18
> 0.0035 <= 0.004 , 0.00375 , 99.45, 22
> 0.004 <= 0.0045 , 0.00425 , 99.63, 27
> 0.0045 <= 0.005 , 0.00475 , 99.89, 39
> 0.005 <= 0.0057219 , 0.00536095 , 100.00, 16
# target 50% 0.000942508
# target 75% 0.00104283
# target 90% 0.00117285
# target 99% 0.00266667
# target 99.9% 0.00504512
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 1.004 ms avg, 1499.7 qps
Successfully wrote 3413 bytes of Json data to /data/2018-11-19-061351_grpc_linkerd_1500qps_10s_echo_0_6.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8079
06:14:01 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:14:11 I periodic.go:533> T003 ended after 10.016055738s : 3750 calls. qps=374.3988749755897
06:14:11 I periodic.go:533> T001 ended after 10.016586706s : 3750 calls. qps=374.37902851215034
06:14:11 I periodic.go:533> T000 ended after 10.016926716s : 3750 calls. qps=374.3663207608516
06:14:11 I periodic.go:533> T002 ended after 10.017026634s : 3750 calls. qps=374.36258652559354
Ended after 10.017062899s : 15000 calls. qps=1497.4
Aggregated Sleep Time : count 14996 avg -0.00022201934 +/- 0.002546 min -0.017002984 max 0.002042636 sum -3.32940201
# range, mid point, percentile, count
>= -0.017003 <= -0.001 , -0.00900149 , 13.23, 1984
> -0.001 <= 0 , -0.0005 , 24.15, 1637
> 0 <= 0.001 , 0.0005 , 85.79, 9244
> 0.001 <= 0.002 , 0.0015 , 99.99, 2129
> 0.002 <= 0.00204264 , 0.00202132 , 100.00, 2
# target 50% 0.000419407
WARNING 13.23% of sleep were falling behind
Aggregated Function Time : count 15000 avg 0.0019477581 +/- 0.001164 min 0.000486964 max 0.018437525 sum 29.2163708
# range, mid point, percentile, count
>= 0.000486964 <= 0.0005 , 0.000493482 , 0.01, 2
> 0.0005 <= 0.0006 , 0.00055 , 0.09, 12
> 0.0006 <= 0.0007 , 0.00065 , 0.42, 49
> 0.0007 <= 0.0008 , 0.00075 , 1.37, 143
> 0.0008 <= 0.0009 , 0.00085 , 3.29, 288
> 0.0009 <= 0.001 , 0.00095 , 7.48, 628
> 0.001 <= 0.0011 , 0.00105 , 10.99, 527
> 0.0011 <= 0.0012 , 0.00115 , 13.89, 434
> 0.0012 <= 0.0014 , 0.0013 , 19.21, 799
> 0.0014 <= 0.0016 , 0.0015 , 31.60, 1858
> 0.0016 <= 0.0018 , 0.0017 , 49.69, 2713
> 0.0018 <= 0.002 , 0.0019 , 64.89, 2281
> 0.002 <= 0.0025 , 0.00225 , 88.49, 3539
> 0.0025 <= 0.003 , 0.00275 , 95.34, 1028
> 0.003 <= 0.0035 , 0.00325 , 96.45, 166
> 0.0035 <= 0.004 , 0.00375 , 97.35, 135
> 0.004 <= 0.0045 , 0.00425 , 98.19, 127
> 0.0045 <= 0.005 , 0.00475 , 98.68, 73
> 0.005 <= 0.006 , 0.0055 , 99.23, 83
> 0.006 <= 0.007 , 0.0065 , 99.50, 40
> 0.007 <= 0.008 , 0.0075 , 99.55, 8
> 0.008 <= 0.009 , 0.0085 , 99.57, 3
> 0.012 <= 0.014 , 0.013 , 99.65, 11
> 0.014 <= 0.016 , 0.015 , 99.81, 25
> 0.016 <= 0.018 , 0.017 , 99.98, 25
> 0.018 <= 0.0184375 , 0.0182188 , 100.00, 3
# target 50% 0.00180412
# target 75% 0.00221418
# target 90% 0.00261041
# target 99% 0.00557831
# target 99.9% 0.01704
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 1.948 ms avg, 1497.4 qps
Successfully wrote 4393 bytes of Json data to /data/2018-11-19-061401_grpc_istio_1500qps_10s_echo_0_6.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
06:14:11 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 1500.0 qps
06:14:11 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:14:21 W periodic.go:487> T002 warning only did 3736 out of 3750 calls before reaching 10s
06:14:21 I periodic.go:533> T002 ended after 10.024773096s : 3736 calls. qps=372.67676427416666
06:14:21 W periodic.go:487> T003 warning only did 3736 out of 3750 calls before reaching 10s
06:14:21 I periodic.go:533> T003 ended after 10.026703817s : 3736 calls. qps=372.6050024202086
06:14:21 W periodic.go:487> T001 warning only did 3736 out of 3750 calls before reaching 10s
06:14:21 I periodic.go:533> T001 ended after 10.026726305s : 3736 calls. qps=372.6041667395448
06:14:21 W periodic.go:487> T000 warning only did 3736 out of 3750 calls before reaching 10s
06:14:21 I periodic.go:533> T000 ended after 10.02675383s : 3736 calls. qps=372.60314388310854
Ended after 10.026766386s : 14944 calls. qps=1490.4
Sleep times : count 14944 avg 0.0020343807 +/- 0.001075 min -0.059049766 max 0.002405437 sum 30.4017853
Aggregated Function Time : count 14944 avg 0.00038764023 +/- 0.001039 min 0.000100274 max 0.061560242 sum 5.79289564
# range, mid point, percentile, count
>= 0.000100274 <= 0.0002 , 0.000150137 , 2.45, 366
> 0.0002 <= 0.0003 , 0.00025 , 35.66, 4963
> 0.0003 <= 0.0004 , 0.00035 , 77.42, 6240
> 0.0004 <= 0.0005 , 0.00045 , 92.91, 2316
> 0.0005 <= 0.0006 , 0.00055 , 96.70, 566
> 0.0006 <= 0.0007 , 0.00065 , 97.48, 117
> 0.0007 <= 0.0008 , 0.00075 , 97.69, 31
> 0.0008 <= 0.0009 , 0.00085 , 97.95, 38
> 0.0009 <= 0.001 , 0.00095 , 98.30, 53
> 0.001 <= 0.0011 , 0.00105 , 98.47, 26
> 0.0011 <= 0.0012 , 0.00115 , 98.64, 25
> 0.0012 <= 0.0014 , 0.0013 , 98.84, 30
> 0.0014 <= 0.0016 , 0.0015 , 99.00, 24
> 0.0016 <= 0.0018 , 0.0017 , 99.18, 27
> 0.0018 <= 0.002 , 0.0019 , 99.31, 19
> 0.002 <= 0.0025 , 0.00225 , 99.48, 26
> 0.0025 <= 0.003 , 0.00275 , 99.63, 22
> 0.003 <= 0.0035 , 0.00325 , 99.77, 20
> 0.0035 <= 0.004 , 0.00375 , 99.85, 12
> 0.004 <= 0.0045 , 0.00425 , 99.91, 9
> 0.0045 <= 0.005 , 0.00475 , 99.95, 6
> 0.005 <= 0.006 , 0.0055 , 99.97, 4
> 0.06 <= 0.0615602 , 0.0607801 , 100.00, 4
# target 50% 0.000334343
# target 75% 0.000394215
# target 90% 0.0004812
# target 99% 0.00159633
# target 99.9% 0.00444756
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 14944 (100.0 %)
Response Header Sizes : count 14944 avg 75 +/- 0 min 75 max 75 sum 1120800
Response Body/Total Sizes : count 14944 avg 75 +/- 0 min 75 max 75 sum 1120800
All done 14944 calls (plus 4 warmup) 0.388 ms avg, 1490.4 qps
Successfully wrote 4659 bytes of Json data to /data/2018-11-19-061411_http_baseline_1500qps_10s_echo_1_6.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
06:14:21 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 1500.0 qps
06:14:21 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:14:31 I periodic.go:533> T000 ended after 10.000800757s : 3750 calls. qps=374.9699740168516
06:14:31 I periodic.go:533> T002 ended after 10.001471513s : 3750 calls. qps=374.9448263813697
06:14:31 I periodic.go:533> T001 ended after 10.00163693s : 3750 calls. qps=374.9386251716298
06:14:31 I periodic.go:533> T003 ended after 10.001693502s : 3750 calls. qps=374.9365044279878
Ended after 10.001720237s : 15000 calls. qps=1499.7
Sleep times : count 14996 avg 0.0017273571 +/- 0.0004157 min -0.00350026 max 0.002199928 sum 25.9034476
Aggregated Function Time : count 15000 avg 0.00070248161 +/- 0.0003204 min 0.000359944 max 0.005990961 sum 10.5372242
# range, mid point, percentile, count
>= 0.000359944 <= 0.0004 , 0.000379972 , 0.01, 2
> 0.0004 <= 0.0005 , 0.00045 , 0.43, 63
> 0.0005 <= 0.0006 , 0.00055 , 24.33, 3585
> 0.0006 <= 0.0007 , 0.00065 , 73.05, 7308
> 0.0007 <= 0.0008 , 0.00075 , 90.67, 2642
> 0.0008 <= 0.0009 , 0.00085 , 95.15, 672
> 0.0009 <= 0.001 , 0.00095 , 96.64, 224
> 0.001 <= 0.0011 , 0.00105 , 97.11, 71
> 0.0011 <= 0.0012 , 0.00115 , 97.37, 39
> 0.0012 <= 0.0014 , 0.0013 , 97.66, 43
> 0.0014 <= 0.0016 , 0.0015 , 98.17, 76
> 0.0016 <= 0.0018 , 0.0017 , 98.80, 95
> 0.0018 <= 0.002 , 0.0019 , 99.04, 36
> 0.002 <= 0.0025 , 0.00225 , 99.27, 34
> 0.0025 <= 0.003 , 0.00275 , 99.44, 26
> 0.003 <= 0.0035 , 0.00325 , 99.57, 19
> 0.0035 <= 0.004 , 0.00375 , 99.74, 26
> 0.004 <= 0.0045 , 0.00425 , 99.82, 12
> 0.0045 <= 0.005 , 0.00475 , 99.97, 22
> 0.005 <= 0.00599096 , 0.00549548 , 100.00, 5
# target 50% 0.000652682
# target 75% 0.000711052
# target 90% 0.000796215
# target 99% 0.00196667
# target 99.9% 0.00477273
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
Response Body/Total Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
All done 15000 calls (plus 4 warmup) 0.702 ms avg, 1499.7 qps
Successfully wrote 4162 bytes of Json data to /data/2018-11-19-061421_http_linkerd_1500qps_10s_echo_1_6.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
06:14:31 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 1500.0 qps
06:14:31 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:14:41 I periodic.go:533> T000 ended after 10.01478449s : 3750 calls. qps=374.4464000942271
06:14:41 I periodic.go:533> T002 ended after 10.014859343s : 3750 calls. qps=374.4436014092505
06:14:41 I periodic.go:533> T001 ended after 10.014872415s : 3750 calls. qps=374.4431126634578
06:14:41 I periodic.go:533> T003 ended after 10.014882808s : 3750 calls. qps=374.44272408304755
Ended after 10.014895166s : 15000 calls. qps=1497.8
Aggregated Sleep Time : count 14996 avg -0.00030756803 +/- 0.003547 min -0.031787934 max 0.001791185 sum -4.61229015
# range, mid point, percentile, count
>= -0.0317879 <= -0.001 , -0.016394 , 14.34, 2150
> -0.001 <= 0 , -0.0005 , 19.15, 721
> 0 <= 0.001 , 0.0005 , 69.02, 7479
> 0.001 <= 0.00179119 , 0.00139559 , 100.00, 4646
# target 50% 0.000618666
WARNING 14.34% of sleep were falling behind
Aggregated Function Time : count 15000 avg 0.0018162296 +/- 0.00107 min 0.000710093 max 0.029889359 sum 27.2434436
# range, mid point, percentile, count
>= 0.000710093 <= 0.0008 , 0.000755047 , 0.03, 4
> 0.0008 <= 0.0009 , 0.00085 , 0.07, 7
> 0.0009 <= 0.001 , 0.00095 , 0.17, 15
> 0.001 <= 0.0011 , 0.00105 , 0.47, 44
> 0.0011 <= 0.0012 , 0.00115 , 4.12, 548
> 0.0012 <= 0.0014 , 0.0013 , 27.50, 3507
> 0.0014 <= 0.0016 , 0.0015 , 43.94, 2466
> 0.0016 <= 0.0018 , 0.0017 , 59.53, 2338
> 0.0018 <= 0.002 , 0.0019 , 78.93, 2911
> 0.002 <= 0.0025 , 0.00225 , 95.11, 2426
> 0.0025 <= 0.003 , 0.00275 , 96.07, 145
> 0.003 <= 0.0035 , 0.00325 , 96.59, 77
> 0.0035 <= 0.004 , 0.00375 , 97.63, 157
> 0.004 <= 0.0045 , 0.00425 , 98.57, 140
> 0.0045 <= 0.005 , 0.00475 , 98.89, 48
> 0.005 <= 0.006 , 0.0055 , 99.47, 87
> 0.006 <= 0.007 , 0.0065 , 99.55, 12
> 0.007 <= 0.008 , 0.0075 , 99.60, 8
> 0.012 <= 0.014 , 0.013 , 99.76, 24
> 0.014 <= 0.016 , 0.015 , 99.97, 32
> 0.025 <= 0.0298894 , 0.0274447 , 100.00, 4
# target 50% 0.00167776
# target 75% 0.00195946
# target 90% 0.00234213
# target 99% 0.0051954
# target 99.9% 0.0153125
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 209 +/- 0 min 209 max 209 sum 3135000
Response Body/Total Sizes : count 15000 avg 209 +/- 0 min 209 max 209 sum 3135000
All done 15000 calls (plus 4 warmup) 1.816 ms avg, 1497.8 qps
Successfully wrote 4278 bytes of Json data to /data/2018-11-19-061431_http_istio_1500qps_10s_echo_1_6.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
06:14:41 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:14:51 I periodic.go:533> T002 ended after 10.000757309s : 3750 calls. qps=374.97160306302555
06:14:51 I periodic.go:533> T001 ended after 10.001176923s : 3750 calls. qps=374.9558705811928
06:14:51 I periodic.go:533> T000 ended after 10.003498008s : 3750 calls. qps=374.8688705691798
06:14:51 I periodic.go:533> T003 ended after 10.003584471s : 3750 calls. qps=374.8656305018569
Ended after 10.003601968s : 15000 calls. qps=1499.5
Sleep times : count 14996 avg 0.0017101218 +/- 0.0005268 min -0.004193015 max 0.002352195 sum 25.6449868
Aggregated Function Time : count 15000 avg 0.00068126204 +/- 0.000356 min 0.000178882 max 0.005130884 sum 10.2189306
# range, mid point, percentile, count
>= 0.000178882 <= 0.0002 , 0.000189441 , 0.01, 1
> 0.0002 <= 0.0003 , 0.00025 , 0.12, 17
> 0.0003 <= 0.0004 , 0.00035 , 1.13, 151
> 0.0004 <= 0.0005 , 0.00045 , 9.79, 1300
> 0.0005 <= 0.0006 , 0.00055 , 44.16, 5155
> 0.0006 <= 0.0007 , 0.00065 , 76.81, 4898
> 0.0007 <= 0.0008 , 0.00075 , 90.04, 1984
> 0.0008 <= 0.0009 , 0.00085 , 93.72, 552
> 0.0009 <= 0.001 , 0.00095 , 94.85, 169
> 0.001 <= 0.0011 , 0.00105 , 95.36, 77
> 0.0011 <= 0.0012 , 0.00115 , 95.89, 80
> 0.0012 <= 0.0014 , 0.0013 , 96.73, 126
> 0.0014 <= 0.0016 , 0.0015 , 97.25, 77
> 0.0016 <= 0.0018 , 0.0017 , 98.03, 117
> 0.0018 <= 0.002 , 0.0019 , 98.77, 111
> 0.002 <= 0.0025 , 0.00225 , 99.32, 83
> 0.0025 <= 0.003 , 0.00275 , 99.47, 22
> 0.003 <= 0.0035 , 0.00325 , 99.59, 19
> 0.0035 <= 0.004 , 0.00375 , 99.65, 9
> 0.004 <= 0.0045 , 0.00425 , 99.79, 21
> 0.0045 <= 0.005 , 0.00475 , 99.96, 25
> 0.005 <= 0.00513088 , 0.00506544 , 100.00, 6
# target 50% 0.000617885
# target 75% 0.000694447
# target 90% 0.000799698
# target 99% 0.00221084
# target 99.9% 0.00482
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 0.681 ms avg, 1499.5 qps
Successfully wrote 3906 bytes of Json data to /data/2018-11-19-061441_grpc_baseline_1500qps_10s_echo_1_6.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
06:14:51 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:15:01 I periodic.go:533> T003 ended after 10.000988354s : 3750 calls. qps=374.96294038780155
06:15:01 I periodic.go:533> T002 ended after 10.00164331s : 3750 calls. qps=374.9383860000902
06:15:01 I periodic.go:533> T000 ended after 10.001876911s : 3750 calls. qps=374.9296290455018
06:15:01 I periodic.go:533> T001 ended after 10.001964859s : 3750 calls. qps=374.9263322621718
Ended after 10.002009803s : 15000 calls. qps=1499.7
Sleep times : count 14996 avg 0.0013365668 +/- 0.0005758 min -0.003795449 max 0.001878142 sum 20.0431561
Aggregated Function Time : count 15000 avg 0.0010499656 +/- 0.0004243 min 0.000590583 max 0.006175748 sum 15.7494837
# range, mid point, percentile, count
>= 0.000590583 <= 0.0006 , 0.000595292 , 0.01, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.21, 31
> 0.0007 <= 0.0008 , 0.00075 , 6.11, 884
> 0.0008 <= 0.0009 , 0.00085 , 25.41, 2896
> 0.0009 <= 0.001 , 0.00095 , 55.91, 4574
> 0.001 <= 0.0011 , 0.00105 , 79.85, 3591
> 0.0011 <= 0.0012 , 0.00115 , 89.51, 1450
> 0.0012 <= 0.0014 , 0.0013 , 95.64, 919
> 0.0014 <= 0.0016 , 0.0015 , 96.58, 141
> 0.0016 <= 0.0018 , 0.0017 , 97.21, 95
> 0.0018 <= 0.002 , 0.0019 , 97.85, 96
> 0.002 <= 0.0025 , 0.00225 , 98.81, 143
> 0.0025 <= 0.003 , 0.00275 , 99.05, 36
> 0.003 <= 0.0035 , 0.00325 , 99.11, 9
> 0.0035 <= 0.004 , 0.00375 , 99.24, 20
> 0.004 <= 0.0045 , 0.00425 , 99.43, 28
> 0.0045 <= 0.005 , 0.00475 , 99.66, 35
> 0.005 <= 0.006 , 0.0055 , 99.97, 46
> 0.006 <= 0.00617575 , 0.00608787 , 100.00, 5
# target 50% 0.00098063
# target 75% 0.00107975
# target 90% 0.00121589
# target 99% 0.00290278
# target 99.9% 0.00578261
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 1.050 ms avg, 1499.7 qps
Successfully wrote 3537 bytes of Json data to /data/2018-11-19-061451_grpc_linkerd_1500qps_10s_echo_1_6.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8079
06:15:01 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:15:11 I periodic.go:533> T002 ended after 10.015659264s : 3750 calls. qps=374.4136957093671
06:15:11 I periodic.go:533> T000 ended after 10.017236463s : 3750 calls. qps=374.3547448291877
06:15:11 I periodic.go:533> T001 ended after 10.017370734s : 3750 calls. qps=374.34972704684964
06:15:11 I periodic.go:533> T003 ended after 10.01740966s : 3750 calls. qps=374.3482723856179
Ended after 10.017425442s : 15000 calls. qps=1497.4
Aggregated Sleep Time : count 14996 avg -0.00028196008 +/- 0.002671 min -0.021244437 max 0.002006682 sum -4.22827334
# range, mid point, percentile, count
>= -0.0212444 <= -0.001 , -0.0111222 , 13.56, 2033
> -0.001 <= 0 , -0.0005 , 25.08, 1728
> 0 <= 0.001 , 0.0005 , 86.56, 9219
> 0.001 <= 0.002 , 0.0015 , 99.99, 2014
> 0.002 <= 0.00200668 , 0.00200334 , 100.00, 2
# target 50% 0.000405358
WARNING 13.56% of sleep were falling behind
Aggregated Function Time : count 15000 avg 0.0019696326 +/- 0.001205 min 0.000499995 max 0.020193881 sum 29.5444892
# range, mid point, percentile, count
>= 0.000499995 <= 0.0005 , 0.000499998 , 0.01, 1
> 0.0005 <= 0.0006 , 0.00055 , 0.11, 15
> 0.0006 <= 0.0007 , 0.00065 , 0.49, 57
> 0.0007 <= 0.0008 , 0.00075 , 1.31, 123
> 0.0008 <= 0.0009 , 0.00085 , 3.10, 269
> 0.0009 <= 0.001 , 0.00095 , 6.90, 570
> 0.001 <= 0.0011 , 0.00105 , 10.57, 550
> 0.0011 <= 0.0012 , 0.00115 , 13.53, 444
> 0.0012 <= 0.0014 , 0.0013 , 18.54, 752
> 0.0014 <= 0.0016 , 0.0015 , 29.75, 1682
> 0.0016 <= 0.0018 , 0.0017 , 48.12, 2755
> 0.0018 <= 0.002 , 0.0019 , 62.68, 2184
> 0.002 <= 0.0025 , 0.00225 , 87.51, 3725
> 0.0025 <= 0.003 , 0.00275 , 95.38, 1180
> 0.003 <= 0.0035 , 0.00325 , 96.55, 176
> 0.0035 <= 0.004 , 0.00375 , 97.39, 126
> 0.004 <= 0.0045 , 0.00425 , 98.13, 111
> 0.0045 <= 0.005 , 0.00475 , 98.61, 72
> 0.005 <= 0.006 , 0.0055 , 99.23, 92
> 0.006 <= 0.007 , 0.0065 , 99.53, 46
> 0.007 <= 0.008 , 0.0075 , 99.60, 10
> 0.01 <= 0.012 , 0.011 , 99.61, 1
> 0.012 <= 0.014 , 0.013 , 99.62, 2
> 0.014 <= 0.016 , 0.015 , 99.69, 10
> 0.016 <= 0.018 , 0.017 , 99.91, 34
> 0.018 <= 0.02 , 0.019 , 99.97, 8
> 0.02 <= 0.0201939 , 0.0200969 , 100.00, 5
# target 50% 0.00182582
# target 75% 0.00224805
# target 90% 0.00265805
# target 99% 0.00563043
# target 99.9% 0.0178824
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 1.970 ms avg, 1497.4 qps
Successfully wrote 4482 bytes of Json data to /data/2018-11-19-061501_grpc_istio_1500qps_10s_echo_1_6.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
06:15:11 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 1500.0 qps
06:15:11 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:15:21 I periodic.go:533> T002 ended after 10.000537008s : 3750 calls. qps=374.9798632813579
06:15:21 I periodic.go:533> T000 ended after 10.000946425s : 3750 calls. qps=374.9645124211332
06:15:21 I periodic.go:533> T003 ended after 10.003063797s : 3750 calls. qps=374.8851428024138
06:15:21 I periodic.go:533> T001 ended after 10.003131896s : 3750 calls. qps=374.8825906713807
Ended after 10.003149902s : 15000 calls. qps=1499.5
Sleep times : count 14996 avg 0.0019242894 +/- 0.001938 min -0.03937622 max 0.002386284 sum 28.8566434
Aggregated Function Time : count 15000 avg 0.00038338744 +/- 0.0005953 min 9.5034e-05 max 0.031519017 sum 5.75081161
# range, mid point, percentile, count
>= 9.5034e-05 <= 0.0001 , 9.7517e-05 , 0.01, 1
> 0.0001 <= 0.0002 , 0.00015 , 2.30, 344
> 0.0002 <= 0.0003 , 0.00025 , 35.29, 4949
> 0.0003 <= 0.0004 , 0.00035 , 77.54, 6337
> 0.0004 <= 0.0005 , 0.00045 , 92.88, 2301
> 0.0005 <= 0.0006 , 0.00055 , 96.65, 565
> 0.0006 <= 0.0007 , 0.00065 , 97.48, 125
> 0.0007 <= 0.0008 , 0.00075 , 97.80, 48
> 0.0008 <= 0.0009 , 0.00085 , 97.95, 22
> 0.0009 <= 0.001 , 0.00095 , 98.18, 35
> 0.001 <= 0.0011 , 0.00105 , 98.32, 21
> 0.0011 <= 0.0012 , 0.00115 , 98.41, 14
> 0.0012 <= 0.0014 , 0.0013 , 98.67, 38
> 0.0014 <= 0.0016 , 0.0015 , 98.83, 25
> 0.0016 <= 0.0018 , 0.0017 , 98.97, 21
> 0.0018 <= 0.002 , 0.0019 , 99.24, 40
> 0.002 <= 0.0025 , 0.00225 , 99.37, 20
> 0.0025 <= 0.003 , 0.00275 , 99.55, 27
> 0.003 <= 0.0035 , 0.00325 , 99.66, 16
> 0.0035 <= 0.004 , 0.00375 , 99.88, 33
> 0.004 <= 0.0045 , 0.00425 , 99.95, 10
> 0.007 <= 0.008 , 0.0075 , 99.97, 3
> 0.008 <= 0.009 , 0.0085 , 99.97, 1
> 0.03 <= 0.031519 , 0.0307595 , 100.00, 4
# target 50% 0.000334811
# target 75% 0.000393988
# target 90% 0.000481226
# target 99% 0.00182
# target 99.9% 0.00415
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
Response Body/Total Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
All done 15000 calls (plus 4 warmup) 0.383 ms avg, 1499.5 qps
Successfully wrote 4662 bytes of Json data to /data/2018-11-19-061511_http_baseline_1500qps_10s_echo_0_7.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
06:15:22 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 1500.0 qps
06:15:22 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:15:32 I periodic.go:533> T003 ended after 10.000821946s : 3750 calls. qps=374.9691795582739
06:15:32 I periodic.go:533> T001 ended after 10.003489268s : 3750 calls. qps=374.86919809029183
06:15:32 I periodic.go:533> T000 ended after 10.003547658s : 3750 calls. qps=374.86701000530184
06:15:32 I periodic.go:533> T002 ended after 10.003559569s : 3750 calls. qps=374.8665636600859
Ended after 10.003601683s : 15000 calls. qps=1499.5
Sleep times : count 14996 avg 0.0016979875 +/- 0.0005559 min -0.011284957 max 0.002170546 sum 25.4630211
Aggregated Function Time : count 15000 avg 0.00072142494 +/- 0.0003853 min 0.000336416 max 0.013771867 sum 10.8213741
# range, mid point, percentile, count
>= 0.000336416 <= 0.0004 , 0.000368208 , 0.02, 3
> 0.0004 <= 0.0005 , 0.00045 , 0.39, 56
> 0.0005 <= 0.0006 , 0.00055 , 17.61, 2582
> 0.0006 <= 0.0007 , 0.00065 , 65.38, 7166
> 0.0007 <= 0.0008 , 0.00075 , 87.52, 3321
> 0.0008 <= 0.0009 , 0.00085 , 94.23, 1006
> 0.0009 <= 0.001 , 0.00095 , 96.54, 347
> 0.001 <= 0.0011 , 0.00105 , 97.14, 90
> 0.0011 <= 0.0012 , 0.00115 , 97.46, 48
> 0.0012 <= 0.0014 , 0.0013 , 98.03, 85
> 0.0014 <= 0.0016 , 0.0015 , 98.39, 55
> 0.0016 <= 0.0018 , 0.0017 , 98.86, 70
> 0.0018 <= 0.002 , 0.0019 , 99.14, 42
> 0.002 <= 0.0025 , 0.00225 , 99.27, 20
> 0.0025 <= 0.003 , 0.00275 , 99.40, 19
> 0.003 <= 0.0035 , 0.00325 , 99.63, 35
> 0.0035 <= 0.004 , 0.00375 , 99.69, 8
> 0.004 <= 0.0045 , 0.00425 , 99.76, 11
> 0.0045 <= 0.005 , 0.00475 , 99.83, 11
> 0.005 <= 0.006 , 0.0055 , 99.97, 21
> 0.012 <= 0.0137719 , 0.0128859 , 100.00, 4
# target 50% 0.000667806
# target 75% 0.000743451
# target 90% 0.000836978
# target 99% 0.0019
# target 99.9% 0.00547619
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
Response Body/Total Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
All done 15000 calls (plus 4 warmup) 0.721 ms avg, 1499.5 qps
Successfully wrote 4246 bytes of Json data to /data/2018-11-19-061522_http_linkerd_1500qps_10s_echo_0_7.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
06:15:32 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 1500.0 qps
06:15:32 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:15:42 I periodic.go:533> T000 ended after 10.017238319s : 3750 calls. qps=374.3546754685132
06:15:42 I periodic.go:533> T003 ended after 10.017402073s : 3750 calls. qps=374.34855591026053
06:15:42 I periodic.go:533> T002 ended after 10.017415223s : 3750 calls. qps=374.34806449771537
06:15:42 I periodic.go:533> T001 ended after 10.017429367s : 3750 calls. qps=374.34753594105376
Ended after 10.017441764s : 15000 calls. qps=1497.4
Aggregated Sleep Time : count 14996 avg -2.0913709e-05 +/- 0.002912 min -0.029395768 max 0.001840443 sum -0.313621975
# range, mid point, percentile, count
>= -0.0293958 <= -0.001 , -0.0151979 , 11.93, 1789
> -0.001 <= 0 , -0.0005 , 16.72, 718
> 0 <= 0.001 , 0.0005 , 63.88, 7073
> 0.001 <= 0.00184044 , 0.00142022 , 100.00, 5416
# target 50% 0.000705641
WARNING 11.93% of sleep were falling behind
Aggregated Function Time : count 15000 avg 0.0017598593 +/- 0.000951 min 0.000644998 max 0.014438194 sum 26.3978898
# range, mid point, percentile, count
>= 0.000644998 <= 0.0007 , 0.000672499 , 0.01, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.04, 5
> 0.0008 <= 0.0009 , 0.00085 , 0.10, 9
> 0.0009 <= 0.001 , 0.00095 , 0.20, 15
> 0.001 <= 0.0011 , 0.00105 , 0.53, 50
> 0.0011 <= 0.0012 , 0.00115 , 7.35, 1023
> 0.0012 <= 0.0014 , 0.0013 , 32.29, 3740
> 0.0014 <= 0.0016 , 0.0015 , 49.31, 2553
> 0.0016 <= 0.0018 , 0.0017 , 63.13, 2074
> 0.0018 <= 0.002 , 0.0019 , 82.63, 2925
> 0.002 <= 0.0025 , 0.00225 , 95.23, 1890
> 0.0025 <= 0.003 , 0.00275 , 96.03, 119
> 0.003 <= 0.0035 , 0.00325 , 96.85, 124
> 0.0035 <= 0.004 , 0.00375 , 97.91, 159
> 0.004 <= 0.0045 , 0.00425 , 98.67, 114
> 0.0045 <= 0.005 , 0.00475 , 99.12, 67
> 0.005 <= 0.006 , 0.0055 , 99.41, 43
> 0.006 <= 0.007 , 0.0065 , 99.55, 21
> 0.007 <= 0.008 , 0.0075 , 99.60, 8
> 0.012 <= 0.014 , 0.013 , 99.97, 56
> 0.014 <= 0.0144382 , 0.0142191 , 100.00, 4
# target 50% 0.00161003
# target 75% 0.00192171
# target 90% 0.00229233
# target 99% 0.00486567
# target 99.9% 0.0136071
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 209 +/- 0 min 209 max 209 sum 3135000
Response Body/Total Sizes : count 15000 avg 209 +/- 0 min 209 max 209 sum 3135000
All done 15000 calls (plus 4 warmup) 1.760 ms avg, 1497.4 qps
Successfully wrote 4279 bytes of Json data to /data/2018-11-19-061532_http_istio_1500qps_10s_echo_0_7.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
06:15:42 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:15:52 I periodic.go:533> T001 ended after 10.000809142s : 3750 calls. qps=374.96965962996677
06:15:52 I periodic.go:533> T003 ended after 10.003400024s : 3750 calls. qps=374.87254243587773
06:15:52 I periodic.go:533> T002 ended after 10.003464287s : 3750 calls. qps=374.870134226731
06:15:52 I periodic.go:533> T000 ended after 10.003493618s : 3750 calls. qps=374.8690350791405
Ended after 10.003506974s : 15000 calls. qps=1499.5
Sleep times : count 14996 avg 0.0016917813 +/- 0.0007311 min -0.012295774 max 0.002295179 sum 25.3699517
Aggregated Function Time : count 15000 avg 0.00068570755 +/- 0.0003913 min 0.000203459 max 0.007536609 sum 10.2856132
# range, mid point, percentile, count
>= 0.000203459 <= 0.0003 , 0.00025173 , 0.11, 17
> 0.0003 <= 0.0004 , 0.00035 , 1.01, 134
> 0.0004 <= 0.0005 , 0.00045 , 9.02, 1202
> 0.0005 <= 0.0006 , 0.00055 , 41.88, 4929
> 0.0006 <= 0.0007 , 0.00065 , 76.67, 5219
> 0.0007 <= 0.0008 , 0.00075 , 90.82, 2122
> 0.0008 <= 0.0009 , 0.00085 , 94.39, 535
> 0.0009 <= 0.001 , 0.00095 , 95.57, 177
> 0.001 <= 0.0011 , 0.00105 , 95.83, 40
> 0.0011 <= 0.0012 , 0.00115 , 96.05, 33
> 0.0012 <= 0.0014 , 0.0013 , 96.78, 109
> 0.0014 <= 0.0016 , 0.0015 , 97.48, 105
> 0.0016 <= 0.0018 , 0.0017 , 98.37, 133
> 0.0018 <= 0.002 , 0.0019 , 98.67, 46
> 0.002 <= 0.0025 , 0.00225 , 98.95, 41
> 0.0025 <= 0.003 , 0.00275 , 99.23, 42
> 0.003 <= 0.0035 , 0.00325 , 99.41, 28
> 0.0035 <= 0.004 , 0.00375 , 99.57, 23
> 0.004 <= 0.0045 , 0.00425 , 99.75, 28
> 0.0045 <= 0.005 , 0.00475 , 99.83, 12
> 0.005 <= 0.006 , 0.0055 , 99.99, 24
> 0.007 <= 0.00753661 , 0.0072683 , 100.00, 1
# target 50% 0.000623338
# target 75% 0.000695191
# target 90% 0.000794204
# target 99% 0.00259524
# target 99.9% 0.00541667
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 0.686 ms avg, 1499.5 qps
Successfully wrote 3929 bytes of Json data to /data/2018-11-19-061542_grpc_baseline_1500qps_10s_echo_0_7.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
06:15:52 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:16:02 I periodic.go:533> T000 ended after 10.001074946s : 3750 calls. qps=374.9596938576927
06:16:02 I periodic.go:533> T002 ended after 10.001844441s : 3750 calls. qps=374.9308462175072
06:16:02 I periodic.go:533> T003 ended after 10.002040751s : 3750 calls. qps=374.92348745180595
06:16:02 I periodic.go:533> T001 ended after 10.002071239s : 3750 calls. qps=374.9223446217848
Ended after 10.002137813s : 15000 calls. qps=1499.7
Sleep times : count 14996 avg 0.0013139387 +/- 0.0005997 min -0.004481455 max 0.001864324 sum 19.703825
Aggregated Function Time : count 15000 avg 0.0010667884 +/- 0.0004352 min 0.000544177 max 0.006301348 sum 16.0018254
# range, mid point, percentile, count
>= 0.000544177 <= 0.0006 , 0.000572089 , 0.01, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.18, 26
> 0.0007 <= 0.0008 , 0.00075 , 5.05, 731
> 0.0008 <= 0.0009 , 0.00085 , 21.95, 2535
> 0.0009 <= 0.001 , 0.00095 , 50.89, 4340
> 0.001 <= 0.0011 , 0.00105 , 76.16, 3791
> 0.0011 <= 0.0012 , 0.00115 , 88.61, 1868
> 0.0012 <= 0.0014 , 0.0013 , 95.05, 965
> 0.0014 <= 0.0016 , 0.0015 , 96.32, 191
> 0.0016 <= 0.0018 , 0.0017 , 97.08, 114
> 0.0018 <= 0.002 , 0.0019 , 97.79, 106
> 0.002 <= 0.0025 , 0.00225 , 98.83, 157
> 0.0025 <= 0.003 , 0.00275 , 98.99, 23
> 0.003 <= 0.0035 , 0.00325 , 99.07, 13
> 0.0035 <= 0.004 , 0.00375 , 99.21, 21
> 0.004 <= 0.0045 , 0.00425 , 99.43, 33
> 0.0045 <= 0.005 , 0.00475 , 99.61, 26
> 0.005 <= 0.006 , 0.0055 , 99.93, 49
> 0.006 <= 0.00630135 , 0.00615067 , 100.00, 10
# target 50% 0.000996935
# target 75% 0.00109541
# target 90% 0.00124311
# target 99% 0.00307692
# target 99.9% 0.00589796
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 1.067 ms avg, 1499.7 qps
Successfully wrote 3538 bytes of Json data to /data/2018-11-19-061552_grpc_linkerd_1500qps_10s_echo_0_7.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8079
06:16:02 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:16:12 I periodic.go:533> T000 ended after 10.014123054s : 3750 calls. qps=374.4711323975708
06:16:12 I periodic.go:533> T003 ended after 10.018399604s : 3750 calls. qps=374.3112820637295
06:16:12 I periodic.go:533> T001 ended after 10.018467709s : 3750 calls. qps=374.30873751593987
06:16:12 I periodic.go:533> T002 ended after 10.018482241s : 3750 calls. qps=374.308194573961
Ended after 10.018496398s : 15000 calls. qps=1497.2
Aggregated Sleep Time : count 14996 avg -0.00013375258 +/- 0.002485 min -0.023974145 max 0.001958046 sum -2.00575372
# range, mid point, percentile, count
>= -0.0239741 <= -0.001 , -0.0124871 , 12.30, 1845
> -0.001 <= 0 , -0.0005 , 22.21, 1485
> 0 <= 0.001 , 0.0005 , 84.67, 9367
> 0.001 <= 0.00195805 , 0.00147902 , 100.00, 2299
# target 50% 0.000444966
WARNING 12.30% of sleep were falling behind
Aggregated Function Time : count 15000 avg 0.0019280969 +/- 0.001125 min 0.00048325 max 0.019640665 sum 28.9214538
# range, mid point, percentile, count
>= 0.00048325 <= 0.0005 , 0.000491625 , 0.03, 4
> 0.0005 <= 0.0006 , 0.00055 , 0.07, 7
> 0.0006 <= 0.0007 , 0.00065 , 0.44, 55
> 0.0007 <= 0.0008 , 0.00075 , 1.27, 124
> 0.0008 <= 0.0009 , 0.00085 , 3.53, 339
> 0.0009 <= 0.001 , 0.00095 , 7.55, 603
> 0.001 <= 0.0011 , 0.00105 , 10.80, 488
> 0.0011 <= 0.0012 , 0.00115 , 13.63, 425
> 0.0012 <= 0.0014 , 0.0013 , 19.34, 856
> 0.0014 <= 0.0016 , 0.0015 , 32.51, 1975
> 0.0016 <= 0.0018 , 0.0017 , 50.78, 2741
> 0.0018 <= 0.002 , 0.0019 , 65.50, 2208
> 0.002 <= 0.0025 , 0.00225 , 89.55, 3608
> 0.0025 <= 0.003 , 0.00275 , 95.53, 896
> 0.003 <= 0.0035 , 0.00325 , 96.45, 139
> 0.0035 <= 0.004 , 0.00375 , 97.37, 138
> 0.004 <= 0.0045 , 0.00425 , 98.21, 125
> 0.0045 <= 0.005 , 0.00475 , 98.80, 89
> 0.005 <= 0.006 , 0.0055 , 99.35, 82
> 0.006 <= 0.007 , 0.0065 , 99.53, 27
> 0.007 <= 0.008 , 0.0075 , 99.60, 11
> 0.012 <= 0.014 , 0.013 , 99.65, 8
> 0.014 <= 0.016 , 0.015 , 99.81, 24
> 0.016 <= 0.018 , 0.017 , 99.98, 25
> 0.018 <= 0.0196407 , 0.0188203 , 100.00, 3
# target 50% 0.00179146
# target 75% 0.00219748
# target 90% 0.00253739
# target 99% 0.00536585
# target 99.9% 0.01704
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 1.928 ms avg, 1497.2 qps
Successfully wrote 4233 bytes of Json data to /data/2018-11-19-061602_grpc_istio_1500qps_10s_echo_0_7.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
06:16:12 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 1500.0 qps
06:16:12 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:16:22 I periodic.go:533> T000 ended after 10.000577304s : 3750 calls. qps=374.9783523497275
06:16:22 I periodic.go:533> T003 ended after 10.000955198s : 3750 calls. qps=374.9641834961853
06:16:22 I periodic.go:533> T001 ended after 10.00300142s : 3750 calls. qps=374.8874805218212
06:16:22 I periodic.go:533> T002 ended after 10.003044547s : 3750 calls. qps=374.8858642366696
Ended after 10.003087009s : 15000 calls. qps=1499.5
Sleep times : count 14996 avg 0.0019019917 +/- 0.002162 min -0.044937427 max 0.00241659 sum 28.5222682
Aggregated Function Time : count 15000 avg 0.00038381052 +/- 0.0006717 min 0.000102313 max 0.03753427 sum 5.75715773
# range, mid point, percentile, count
>= 0.000102313 <= 0.0002 , 0.000151157 , 2.65, 397
> 0.0002 <= 0.0003 , 0.00025 , 34.59, 4792
> 0.0003 <= 0.0004 , 0.00035 , 76.09, 6224
> 0.0004 <= 0.0005 , 0.00045 , 92.98, 2534
> 0.0005 <= 0.0006 , 0.00055 , 96.93, 592
> 0.0006 <= 0.0007 , 0.00065 , 97.77, 127
> 0.0007 <= 0.0008 , 0.00075 , 97.99, 32
> 0.0008 <= 0.0009 , 0.00085 , 98.18, 29
> 0.0009 <= 0.001 , 0.00095 , 98.43, 38
> 0.001 <= 0.0011 , 0.00105 , 98.55, 17
> 0.0011 <= 0.0012 , 0.00115 , 98.61, 10
> 0.0012 <= 0.0014 , 0.0013 , 98.78, 25
> 0.0014 <= 0.0016 , 0.0015 , 98.95, 26
> 0.0016 <= 0.0018 , 0.0017 , 99.09, 21
> 0.0018 <= 0.002 , 0.0019 , 99.23, 20
> 0.002 <= 0.0025 , 0.00225 , 99.43, 30
> 0.0025 <= 0.003 , 0.00275 , 99.54, 17
> 0.003 <= 0.0035 , 0.00325 , 99.72, 27
> 0.0035 <= 0.004 , 0.00375 , 99.79, 10
> 0.004 <= 0.0045 , 0.00425 , 99.95, 24
> 0.0045 <= 0.005 , 0.00475 , 99.97, 4
> 0.035 <= 0.0375343 , 0.0362671 , 100.00, 4
# target 50% 0.00033713
# target 75% 0.000397381
# target 90% 0.00048236
# target 99% 0.00166667
# target 99.9% 0.00435417
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
Response Body/Total Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
All done 15000 calls (plus 4 warmup) 0.384 ms avg, 1499.5 qps
Successfully wrote 4464 bytes of Json data to /data/2018-11-19-061612_http_baseline_1500qps_10s_echo_1_7.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
06:16:22 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 1500.0 qps
06:16:22 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:16:32 I periodic.go:533> T001 ended after 10.000842549s : 3750 calls. qps=374.9684070743588
06:16:32 I periodic.go:533> T000 ended after 10.00136324s : 3750 calls. qps=374.94888546813746
06:16:32 I periodic.go:533> T003 ended after 10.001532987s : 3750 calls. qps=374.9425217988335
06:16:32 I periodic.go:533> T002 ended after 10.001591846s : 3750 calls. qps=374.9403152758889
Ended after 10.001687566s : 15000 calls. qps=1499.7
Sleep times : count 14996 avg 0.0017335817 +/- 0.0004069 min -0.00348816 max 0.002114226 sum 25.9967915
Aggregated Function Time : count 15000 avg 0.00069972267 +/- 0.0003213 min 0.000413565 max 0.005924496 sum 10.49584
# range, mid point, percentile, count
>= 0.000413565 <= 0.0005 , 0.000456783 , 0.45, 67
> 0.0005 <= 0.0006 , 0.00055 , 25.25, 3721
> 0.0006 <= 0.0007 , 0.00065 , 73.51, 7239
> 0.0007 <= 0.0008 , 0.00075 , 90.81, 2594
> 0.0008 <= 0.0009 , 0.00085 , 95.50, 704
> 0.0009 <= 0.001 , 0.00095 , 96.87, 206
> 0.001 <= 0.0011 , 0.00105 , 97.23, 54
> 0.0011 <= 0.0012 , 0.00115 , 97.55, 47
> 0.0012 <= 0.0014 , 0.0013 , 97.86, 47
> 0.0014 <= 0.0016 , 0.0015 , 98.42, 84
> 0.0016 <= 0.0018 , 0.0017 , 98.78, 54
> 0.0018 <= 0.002 , 0.0019 , 98.99, 32
> 0.002 <= 0.0025 , 0.00225 , 99.21, 32
> 0.0025 <= 0.003 , 0.00275 , 99.41, 31
> 0.003 <= 0.0035 , 0.00325 , 99.52, 16
> 0.0035 <= 0.004 , 0.00375 , 99.71, 28
> 0.004 <= 0.0045 , 0.00425 , 99.85, 21
> 0.0045 <= 0.005 , 0.00475 , 99.95, 15
> 0.005 <= 0.0059245 , 0.00546225 , 100.00, 8
# target 50% 0.000651278
# target 75% 0.000708597
# target 90% 0.000795335
# target 99% 0.00201562
# target 99.9% 0.00476667
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
Response Body/Total Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
All done 15000 calls (plus 4 warmup) 0.700 ms avg, 1499.7 qps
Successfully wrote 4064 bytes of Json data to /data/2018-11-19-061622_http_linkerd_1500qps_10s_echo_1_7.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
06:16:32 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 1500.0 qps
06:16:32 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:16:42 I periodic.go:533> T002 ended after 10.018537946s : 3750 calls. qps=374.30611334832787
06:16:42 I periodic.go:533> T000 ended after 10.01864232s : 3750 calls. qps=374.30221383529744
06:16:42 I periodic.go:533> T003 ended after 10.018655946s : 3750 calls. qps=374.30170476082736
06:16:42 I periodic.go:533> T001 ended after 10.018889146s : 3750 calls. qps=374.2929925017857
Ended after 10.018903338s : 15000 calls. qps=1497.2
Aggregated Sleep Time : count 14996 avg -0.00017861686 +/- 0.002604 min -0.017073031 max 0.001679292 sum -2.67853841
# range, mid point, percentile, count
>= -0.017073 <= -0.001 , -0.00903652 , 14.80, 2219
> -0.001 <= 0 , -0.0005 , 20.86, 909
> 0 <= 0.001 , 0.0005 , 72.87, 7800
> 0.001 <= 0.00167929 , 0.00133965 , 100.00, 4068
# target 50% 0.000560256
WARNING 14.80% of sleep were falling behind
Aggregated Function Time : count 15000 avg 0.0018445719 +/- 0.001013 min 0.000541141 max 0.01954108 sum 27.6685788
# range, mid point, percentile, count
>= 0.000541141 <= 0.0006 , 0.000570571 , 0.01, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.01, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.03, 3
> 0.0008 <= 0.0009 , 0.00085 , 0.07, 6
> 0.0009 <= 0.001 , 0.00095 , 0.19, 18
> 0.001 <= 0.0011 , 0.00105 , 0.49, 45
> 0.0011 <= 0.0012 , 0.00115 , 3.77, 492
> 0.0012 <= 0.0014 , 0.0013 , 24.90, 3169
> 0.0014 <= 0.0016 , 0.0015 , 41.97, 2561
> 0.0016 <= 0.0018 , 0.0017 , 56.67, 2205
> 0.0018 <= 0.002 , 0.0019 , 77.30, 3094
> 0.002 <= 0.0025 , 0.00225 , 93.77, 2471
> 0.0025 <= 0.003 , 0.00275 , 95.41, 245
> 0.003 <= 0.0035 , 0.00325 , 96.62, 182
> 0.0035 <= 0.004 , 0.00375 , 97.81, 178
> 0.004 <= 0.0045 , 0.00425 , 98.57, 115
> 0.0045 <= 0.005 , 0.00475 , 99.04, 70
> 0.005 <= 0.006 , 0.0055 , 99.38, 51
> 0.006 <= 0.007 , 0.0065 , 99.55, 26
> 0.007 <= 0.008 , 0.0075 , 99.60, 7
> 0.012 <= 0.014 , 0.013 , 99.84, 36
> 0.014 <= 0.016 , 0.015 , 99.95, 16
> 0.016 <= 0.018 , 0.017 , 99.97, 4
> 0.018 <= 0.0195411 , 0.0187705 , 100.00, 4
# target 50% 0.00170921
# target 75% 0.0019777
# target 90% 0.00238547
# target 99% 0.00495714
# target 99.9% 0.015125
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 209 +/- 0 min 209 max 209 sum 3135000
Response Body/Total Sizes : count 15000 avg 209 +/- 0 min 209 max 209 sum 3135000
All done 15000 calls (plus 4 warmup) 1.845 ms avg, 1497.2 qps
Successfully wrote 4684 bytes of Json data to /data/2018-11-19-061632_http_istio_1500qps_10s_echo_1_7.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
06:16:42 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:16:52 I periodic.go:533> T003 ended after 10.000773704s : 3750 calls. qps=374.9709883446434
06:16:52 I periodic.go:533> T002 ended after 10.001260079s : 3750 calls. qps=374.9527529909964
06:16:52 I periodic.go:533> T000 ended after 10.003402407s : 3750 calls. qps=374.87245313413496
06:16:52 I periodic.go:533> T001 ended after 10.003468988s : 3750 calls. qps=374.8699580613925
Ended after 10.003520633s : 15000 calls. qps=1499.5
Sleep times : count 14996 avg 0.0016517808 +/- 0.0005465 min -0.004029225 max 0.002257635 sum 24.7701053
Aggregated Function Time : count 15000 avg 0.00071825614 +/- 0.0003715 min 0.000223952 max 0.006599955 sum 10.7738421
# range, mid point, percentile, count
>= 0.000223952 <= 0.0003 , 0.000261976 , 0.11, 16
> 0.0003 <= 0.0004 , 0.00035 , 0.67, 84
> 0.0004 <= 0.0005 , 0.00045 , 6.15, 823
> 0.0005 <= 0.0006 , 0.00055 , 32.59, 3966
> 0.0006 <= 0.0007 , 0.00065 , 66.23, 5046
> 0.0007 <= 0.0008 , 0.00075 , 83.37, 2571
> 0.0008 <= 0.0009 , 0.00085 , 90.75, 1107
> 0.0009 <= 0.001 , 0.00095 , 94.11, 504
> 0.001 <= 0.0011 , 0.00105 , 95.42, 196
> 0.0011 <= 0.0012 , 0.00115 , 96.20, 117
> 0.0012 <= 0.0014 , 0.0013 , 96.97, 116
> 0.0014 <= 0.0016 , 0.0015 , 97.49, 78
> 0.0016 <= 0.0018 , 0.0017 , 97.99, 75
> 0.0018 <= 0.002 , 0.0019 , 98.74, 112
> 0.002 <= 0.0025 , 0.00225 , 99.19, 68
> 0.0025 <= 0.003 , 0.00275 , 99.39, 30
> 0.003 <= 0.0035 , 0.00325 , 99.47, 11
> 0.0035 <= 0.004 , 0.00375 , 99.61, 21
> 0.004 <= 0.0045 , 0.00425 , 99.77, 25
> 0.0045 <= 0.005 , 0.00475 , 99.91, 20
> 0.005 <= 0.006 , 0.0055 , 99.99, 13
> 0.006 <= 0.00659996 , 0.00629998 , 100.00, 1
# target 50% 0.000651744
# target 75% 0.000751147
# target 90% 0.000889792
# target 99% 0.00228676
# target 99.9% 0.004975
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 0.718 ms avg, 1499.5 qps
Successfully wrote 3951 bytes of Json data to /data/2018-11-19-061642_grpc_baseline_1500qps_10s_echo_1_7.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
06:16:52 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:17:02 I periodic.go:533> T002 ended after 10.001139571s : 3750 calls. qps=374.95727095677785
06:17:02 I periodic.go:533> T001 ended after 10.00374583s : 3750 calls. qps=374.85958397245685
06:17:02 I periodic.go:533> T003 ended after 10.003812699s : 3750 calls. qps=374.85707827925023
06:17:02 I periodic.go:533> T000 ended after 10.003830135s : 3750 calls. qps=374.8564249286906
Ended after 10.003861993s : 15000 calls. qps=1499.4
Sleep times : count 14996 avg 0.0013493159 +/- 0.0005433 min -0.003542096 max 0.001947247 sum 20.2343407
Aggregated Function Time : count 15000 avg 0.0010443964 +/- 0.0004228 min 0.000568179 max 0.006067914 sum 15.6659453
# range, mid point, percentile, count
>= 0.000568179 <= 0.0006 , 0.00058409 , 0.02, 3
> 0.0006 <= 0.0007 , 0.00065 , 0.28, 39
> 0.0007 <= 0.0008 , 0.00075 , 7.19, 1036
> 0.0008 <= 0.0009 , 0.00085 , 27.11, 2989
> 0.0009 <= 0.001 , 0.00095 , 58.09, 4647
> 0.001 <= 0.0011 , 0.00105 , 80.51, 3362
> 0.0011 <= 0.0012 , 0.00115 , 89.75, 1387
> 0.0012 <= 0.0014 , 0.0013 , 95.17, 813
> 0.0014 <= 0.0016 , 0.0015 , 96.40, 184
> 0.0016 <= 0.0018 , 0.0017 , 97.16, 114
> 0.0018 <= 0.002 , 0.0019 , 97.79, 94
> 0.002 <= 0.0025 , 0.00225 , 98.73, 142
> 0.0025 <= 0.003 , 0.00275 , 99.00, 40
> 0.003 <= 0.0035 , 0.00325 , 99.17, 25
> 0.0035 <= 0.004 , 0.00375 , 99.28, 17
> 0.004 <= 0.0045 , 0.00425 , 99.44, 24
> 0.0045 <= 0.005 , 0.00475 , 99.71, 41
> 0.005 <= 0.006 , 0.0055 , 99.99, 41
> 0.006 <= 0.00606791 , 0.00603396 , 100.00, 2
# target 50% 0.000973876
# target 75% 0.00107543
# target 90% 0.0012091
# target 99% 0.003
# target 99.9% 0.00568293
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 1.044 ms avg, 1499.4 qps
Successfully wrote 3478 bytes of Json data to /data/2018-11-19-061652_grpc_linkerd_1500qps_10s_echo_1_7.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8079
06:17:02 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:17:12 I periodic.go:533> T002 ended after 10.013787538s : 3750 calls. qps=374.4836792042591
06:17:12 I periodic.go:533> T001 ended after 10.014279097s : 3750 calls. qps=374.4652973695726
06:17:12 I periodic.go:533> T000 ended after 10.015418283s : 3750 calls. qps=374.4227044780732
06:17:12 I periodic.go:533> T003 ended after 10.01544415s : 3750 calls. qps=374.4217374523525
Ended after 10.015456403s : 15000 calls. qps=1497.7
Aggregated Sleep Time : count 14996 avg -0.00014668484 +/- 0.002443 min -0.021357938 max 0.001968132 sum -2.19968592
# range, mid point, percentile, count
>= -0.0213579 <= -0.001 , -0.011179 , 12.36, 1854
> -0.001 <= 0 , -0.0005 , 22.39, 1504
> 0 <= 0.001 , 0.0005 , 84.96, 9382
> 0.001 <= 0.00196813 , 0.00148407 , 100.00, 2256
# target 50% 0.000441271
WARNING 12.36% of sleep were falling behind
Aggregated Function Time : count 15000 avg 0.0019272255 +/- 0.001122 min 0.000471776 max 0.017558767 sum 28.9083818
# range, mid point, percentile, count
>= 0.000471776 <= 0.0005 , 0.000485888 , 0.01, 1
> 0.0005 <= 0.0006 , 0.00055 , 0.09, 12
> 0.0006 <= 0.0007 , 0.00065 , 0.45, 54
> 0.0007 <= 0.0008 , 0.00075 , 1.23, 117
> 0.0008 <= 0.0009 , 0.00085 , 3.25, 303
> 0.0009 <= 0.001 , 0.00095 , 7.69, 666
> 0.001 <= 0.0011 , 0.00105 , 11.39, 555
> 0.0011 <= 0.0012 , 0.00115 , 14.11, 408
> 0.0012 <= 0.0014 , 0.0013 , 19.01, 736
> 0.0014 <= 0.0016 , 0.0015 , 32.42, 2011
> 0.0016 <= 0.0018 , 0.0017 , 51.41, 2848
> 0.0018 <= 0.002 , 0.0019 , 65.22, 2072
> 0.002 <= 0.0025 , 0.00225 , 89.35, 3619
> 0.0025 <= 0.003 , 0.00275 , 95.53, 927
> 0.003 <= 0.0035 , 0.00325 , 96.62, 164
> 0.0035 <= 0.004 , 0.00375 , 97.57, 142
> 0.004 <= 0.0045 , 0.00425 , 98.44, 131
> 0.0045 <= 0.005 , 0.00475 , 98.87, 64
> 0.005 <= 0.006 , 0.0055 , 99.35, 72
> 0.006 <= 0.007 , 0.0065 , 99.54, 29
> 0.007 <= 0.008 , 0.0075 , 99.55, 2
> 0.008 <= 0.009 , 0.0085 , 99.59, 5
> 0.009 <= 0.01 , 0.0095 , 99.60, 2
> 0.012 <= 0.014 , 0.013 , 99.65, 8
> 0.014 <= 0.016 , 0.015 , 99.83, 27
> 0.016 <= 0.0175588 , 0.0167794 , 100.00, 25
# target 50% 0.00178518
# target 75% 0.00220268
# target 90% 0.00255286
# target 99% 0.00527778
# target 99.9% 0.0166235
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 1.927 ms avg, 1497.7 qps
Successfully wrote 4395 bytes of Json data to /data/2018-11-19-061702_grpc_istio_1500qps_10s_echo_1_7.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
06:17:12 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 1500.0 qps
06:17:12 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:17:23 I periodic.go:533> T001 ended after 10.000972895s : 3750 calls. qps=374.96351998662226
06:17:23 I periodic.go:533> T000 ended after 10.001396389s : 3750 calls. qps=374.9476427236125
06:17:23 I periodic.go:533> T003 ended after 10.003752575s : 3750 calls. qps=374.859331224513
06:17:23 I periodic.go:533> T002 ended after 10.003782544s : 3750 calls. qps=374.8582082333596
Ended after 10.003797518s : 15000 calls. qps=1499.4
Sleep times : count 14996 avg 0.0018404656 +/- 0.002826 min -0.055742201 max 0.00243749 sum 27.5996217
Aggregated Function Time : count 15000 avg 0.00038083529 +/- 0.0005658 min 9.4052e-05 max 0.029257381 sum 5.71252938
# range, mid point, percentile, count
>= 9.4052e-05 <= 0.0001 , 9.7026e-05 , 0.01, 2
> 0.0001 <= 0.0002 , 0.00015 , 2.52, 376
> 0.0002 <= 0.0003 , 0.00025 , 36.14, 5043
> 0.0003 <= 0.0004 , 0.00035 , 77.71, 6236
> 0.0004 <= 0.0005 , 0.00045 , 92.97, 2288
> 0.0005 <= 0.0006 , 0.00055 , 96.75, 567
> 0.0006 <= 0.0007 , 0.00065 , 97.73, 148
> 0.0007 <= 0.0008 , 0.00075 , 97.95, 33
> 0.0008 <= 0.0009 , 0.00085 , 98.07, 17
> 0.0009 <= 0.001 , 0.00095 , 98.23, 25
> 0.001 <= 0.0011 , 0.00105 , 98.40, 25
> 0.0011 <= 0.0012 , 0.00115 , 98.51, 16
> 0.0012 <= 0.0014 , 0.0013 , 98.67, 25
> 0.0014 <= 0.0016 , 0.0015 , 98.91, 36
> 0.0016 <= 0.0018 , 0.0017 , 99.03, 18
> 0.0018 <= 0.002 , 0.0019 , 99.35, 47
> 0.002 <= 0.0025 , 0.00225 , 99.45, 15
> 0.0025 <= 0.003 , 0.00275 , 99.48, 5
> 0.003 <= 0.0035 , 0.00325 , 99.60, 18
> 0.0035 <= 0.004 , 0.00375 , 99.76, 24
> 0.004 <= 0.0045 , 0.00425 , 99.90, 21
> 0.0045 <= 0.005 , 0.00475 , 99.96, 9
> 0.005 <= 0.006 , 0.0055 , 99.97, 1
> 0.01 <= 0.012 , 0.011 , 99.97, 1
> 0.025 <= 0.0292574 , 0.0271287 , 100.00, 4
# target 50% 0.000333339
# target 75% 0.000393473
# target 90% 0.000480551
# target 99% 0.00174444
# target 99.9% 0.0045
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
Response Body/Total Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
All done 15000 calls (plus 4 warmup) 0.381 ms avg, 1499.4 qps
Successfully wrote 4784 bytes of Json data to /data/2018-11-19-061713_http_baseline_1500qps_10s_echo_0_8.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
06:17:23 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 1500.0 qps
06:17:23 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:17:33 I periodic.go:533> T000 ended after 10.000779473s : 3750 calls. qps=374.97077204074054
06:17:33 I periodic.go:533> T003 ended after 10.001314979s : 3750 calls. qps=374.9506947710341
06:17:33 I periodic.go:533> T001 ended after 10.001571731s : 3750 calls. qps=374.94106934981295
06:17:33 I periodic.go:533> T002 ended after 10.001599646s : 3750 calls. qps=374.9400228692177
Ended after 10.001695008s : 15000 calls. qps=1499.7
Sleep times : count 14996 avg 0.0017001074 +/- 0.0004344 min -0.003920957 max 0.002178947 sum 25.4948113
Aggregated Function Time : count 15000 avg 0.00072335781 +/- 0.0003202 min 0.000363081 max 0.005269553 sum 10.8503672
# range, mid point, percentile, count
>= 0.000363081 <= 0.0004 , 0.000381541 , 0.01, 1
> 0.0004 <= 0.0005 , 0.00045 , 0.23, 34
> 0.0005 <= 0.0006 , 0.00055 , 14.64, 2161
> 0.0006 <= 0.0007 , 0.00065 , 63.77, 7370
> 0.0007 <= 0.0008 , 0.00075 , 87.46, 3553
> 0.0008 <= 0.0009 , 0.00085 , 94.49, 1055
> 0.0009 <= 0.001 , 0.00095 , 96.60, 316
> 0.001 <= 0.0011 , 0.00105 , 97.20, 90
> 0.0011 <= 0.0012 , 0.00115 , 97.44, 36
> 0.0012 <= 0.0014 , 0.0013 , 97.97, 80
> 0.0014 <= 0.0016 , 0.0015 , 98.45, 72
> 0.0016 <= 0.0018 , 0.0017 , 98.78, 49
> 0.0018 <= 0.002 , 0.0019 , 99.04, 39
> 0.002 <= 0.0025 , 0.00225 , 99.29, 38
> 0.0025 <= 0.003 , 0.00275 , 99.43, 21
> 0.003 <= 0.0035 , 0.00325 , 99.52, 13
> 0.0035 <= 0.004 , 0.00375 , 99.65, 20
> 0.004 <= 0.0045 , 0.00425 , 99.79, 21
> 0.0045 <= 0.005 , 0.00475 , 99.90, 16
> 0.005 <= 0.00526955 , 0.00513478 , 100.00, 15
# target 50% 0.000671967
# target 75% 0.000747397
# target 90% 0.000836114
# target 99% 0.00196923
# target 99.9% 0.005
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
Response Body/Total Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
All done 15000 calls (plus 4 warmup) 0.723 ms avg, 1499.7 qps
Successfully wrote 4125 bytes of Json data to /data/2018-11-19-061723_http_linkerd_1500qps_10s_echo_0_8.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
06:17:33 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 1500.0 qps
06:17:33 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:17:43 I periodic.go:533> T001 ended after 10.016140606s : 3750 calls. qps=374.39570264754724
06:17:43 I periodic.go:533> T002 ended after 10.016320012s : 3750 calls. qps=374.3889967081056
06:17:43 I periodic.go:533> T003 ended after 10.016334029s : 3750 calls. qps=374.38847278283
06:17:43 I periodic.go:533> T000 ended after 10.016344709s : 3750 calls. qps=374.3880735884127
Ended after 10.016393156s : 15000 calls. qps=1497.5
Aggregated Sleep Time : count 14996 avg -2.0326375e-05 +/- 0.002459 min -0.021204952 max 0.002044781 sum -0.304814315
# range, mid point, percentile, count
>= -0.021205 <= -0.001 , -0.0111025 , 12.88, 1931
> -0.001 <= 0 , -0.0005 , 18.54, 850
> 0 <= 0.001 , 0.0005 , 68.58, 7503
> 0.001 <= 0.002 , 0.0015 , 99.99, 4711
> 0.002 <= 0.00204478 , 0.00202239 , 100.00, 1
# target 50% 0.000628682
WARNING 12.88% of sleep were falling behind
Aggregated Function Time : count 15000 avg 0.001814445 +/- 0.001065 min 0.000596504 max 0.023685949 sum 27.2166744
# range, mid point, percentile, count
>= 0.000596504 <= 0.0006 , 0.000598252 , 0.01, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.03, 4
> 0.0008 <= 0.0009 , 0.00085 , 0.11, 12
> 0.0009 <= 0.001 , 0.00095 , 0.25, 21
> 0.001 <= 0.0011 , 0.00105 , 0.53, 41
> 0.0011 <= 0.0012 , 0.00115 , 3.55, 453
> 0.0012 <= 0.0014 , 0.0013 , 27.48, 3590
> 0.0014 <= 0.0016 , 0.0015 , 45.97, 2774
> 0.0016 <= 0.0018 , 0.0017 , 60.01, 2106
> 0.0018 <= 0.002 , 0.0019 , 79.34, 2899
> 0.002 <= 0.0025 , 0.00225 , 94.46, 2268
> 0.0025 <= 0.003 , 0.00275 , 95.71, 188
> 0.003 <= 0.0035 , 0.00325 , 96.88, 175
> 0.0035 <= 0.004 , 0.00375 , 97.86, 147
> 0.004 <= 0.0045 , 0.00425 , 98.61, 113
> 0.0045 <= 0.005 , 0.00475 , 99.01, 59
> 0.005 <= 0.006 , 0.0055 , 99.44, 65
> 0.006 <= 0.007 , 0.0065 , 99.52, 12
> 0.007 <= 0.008 , 0.0075 , 99.55, 4
> 0.01 <= 0.012 , 0.011 , 99.57, 4
> 0.012 <= 0.014 , 0.013 , 99.69, 17
> 0.014 <= 0.016 , 0.015 , 99.95, 39
> 0.016 <= 0.018 , 0.017 , 99.97, 4
> 0.02 <= 0.0236859 , 0.021843 , 100.00, 4
# target 50% 0.00165736
# target 75% 0.00195509
# target 90% 0.00235251
# target 99% 0.00499153
# target 99.9% 0.015641
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 209.0002 +/- 0.01414 min 209 max 210 sum 3135003
Response Body/Total Sizes : count 15000 avg 209.0002 +/- 0.01414 min 209 max 210 sum 3135003
All done 15000 calls (plus 4 warmup) 1.814 ms avg, 1497.5 qps
Successfully wrote 4696 bytes of Json data to /data/2018-11-19-061733_http_istio_1500qps_10s_echo_0_8.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
06:17:43 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:17:53 I periodic.go:533> T000 ended after 10.000799519s : 3750 calls. qps=374.97002043442325
06:17:53 I periodic.go:533> T003 ended after 10.001196747s : 3750 calls. qps=374.95512735762003
06:17:53 I periodic.go:533> T001 ended after 10.00333117s : 3750 calls. qps=374.8751227237437
06:17:53 I periodic.go:533> T002 ended after 10.004732862s : 3750 calls. qps=374.822601635198
Ended after 10.00478333s : 15000 calls. qps=1499.3
Sleep times : count 14996 avg 0.0017179607 +/- 0.0004918 min -0.003368581 max 0.002241581 sum 25.7625387
Aggregated Function Time : count 15000 avg 0.00067819045 +/- 0.0003378 min 0.000220443 max 0.005595191 sum 10.1728568
# range, mid point, percentile, count
>= 0.000220443 <= 0.0003 , 0.000260221 , 0.03, 4
> 0.0003 <= 0.0004 , 0.00035 , 0.81, 118
> 0.0004 <= 0.0005 , 0.00045 , 7.09, 941
> 0.0005 <= 0.0006 , 0.00055 , 40.07, 4947
> 0.0006 <= 0.0007 , 0.00065 , 75.81, 5362
> 0.0007 <= 0.0008 , 0.00075 , 90.94, 2269
> 0.0008 <= 0.0009 , 0.00085 , 95.26, 648
> 0.0009 <= 0.001 , 0.00095 , 96.53, 190
> 0.001 <= 0.0011 , 0.00105 , 96.89, 55
> 0.0011 <= 0.0012 , 0.00115 , 97.17, 41
> 0.0012 <= 0.0014 , 0.0013 , 97.43, 39
> 0.0014 <= 0.0016 , 0.0015 , 97.74, 47
> 0.0016 <= 0.0018 , 0.0017 , 98.34, 90
> 0.0018 <= 0.002 , 0.0019 , 98.87, 80
> 0.002 <= 0.0025 , 0.00225 , 99.29, 63
> 0.0025 <= 0.003 , 0.00275 , 99.51, 32
> 0.003 <= 0.0035 , 0.00325 , 99.63, 19
> 0.0035 <= 0.004 , 0.00375 , 99.69, 9
> 0.004 <= 0.0045 , 0.00425 , 99.81, 17
> 0.0045 <= 0.005 , 0.00475 , 99.91, 16
> 0.005 <= 0.00559519 , 0.0052976 , 100.00, 13
# target 50% 0.000627788
# target 75% 0.000697725
# target 90% 0.000793786
# target 99% 0.00215079
# target 99.9% 0.0049375
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 0.678 ms avg, 1499.3 qps
Successfully wrote 3815 bytes of Json data to /data/2018-11-19-061743_grpc_baseline_1500qps_10s_echo_0_8.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
06:17:53 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:18:03 I periodic.go:533> T000 ended after 10.00121966s : 3750 calls. qps=374.95426832770914
06:18:03 I periodic.go:533> T001 ended after 10.001840452s : 3750 calls. qps=374.930995749901
06:18:03 I periodic.go:533> T003 ended after 10.002154101s : 3750 calls. qps=374.9192386093192
06:18:03 I periodic.go:533> T002 ended after 10.002188476s : 3750 calls. qps=374.91795010642227
Ended after 10.00225636s : 15000 calls. qps=1499.7
Sleep times : count 14996 avg 0.0010645028 +/- 0.0006276 min -0.004260018 max 0.002097116 sum 15.9632839
Aggregated Function Time : count 15000 avg 0.0012210582 +/- 0.0004498 min 0.000532691 max 0.006632112 sum 18.3158724
# range, mid point, percentile, count
>= 0.000532691 <= 0.0006 , 0.000566345 , 0.01, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.11, 15
> 0.0007 <= 0.0008 , 0.00075 , 0.84, 110
> 0.0008 <= 0.0009 , 0.00085 , 6.11, 790
> 0.0009 <= 0.001 , 0.00095 , 20.05, 2091
> 0.001 <= 0.0011 , 0.00105 , 42.29, 3336
> 0.0011 <= 0.0012 , 0.00115 , 62.91, 3093
> 0.0012 <= 0.0014 , 0.0013 , 85.80, 3434
> 0.0014 <= 0.0016 , 0.0015 , 93.37, 1136
> 0.0016 <= 0.0018 , 0.0017 , 95.75, 356
> 0.0018 <= 0.002 , 0.0019 , 96.97, 183
> 0.002 <= 0.0025 , 0.00225 , 98.39, 213
> 0.0025 <= 0.003 , 0.00275 , 98.87, 72
> 0.003 <= 0.0035 , 0.00325 , 99.07, 30
> 0.0035 <= 0.004 , 0.00375 , 99.23, 24
> 0.004 <= 0.0045 , 0.00425 , 99.40, 26
> 0.0045 <= 0.005 , 0.00475 , 99.61, 32
> 0.005 <= 0.006 , 0.0055 , 99.93, 48
> 0.006 <= 0.00663211 , 0.00631606 , 100.00, 10
# target 50% 0.00113741
# target 75% 0.00130565
# target 90% 0.00151092
# target 99% 0.00333333
# target 99.9% 0.00589583
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 1.221 ms avg, 1499.7 qps
Successfully wrote 3553 bytes of Json data to /data/2018-11-19-061753_grpc_linkerd_1500qps_10s_echo_0_8.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8079
06:18:03 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:18:13 W periodic.go:487> T003 warning only did 3739 out of 3750 calls before reaching 10s
06:18:13 I periodic.go:533> T003 ended after 10.001168578s : 3739 calls. qps=373.85631197386664
06:18:13 W periodic.go:487> T002 warning only did 3737 out of 3750 calls before reaching 10s
06:18:13 I periodic.go:533> T002 ended after 10.003612765s : 3737 calls. qps=373.565039729924
06:18:13 W periodic.go:487> T000 warning only did 3737 out of 3750 calls before reaching 10s
06:18:13 I periodic.go:533> T000 ended after 10.003630586s : 3737 calls. qps=373.5643742412781
06:18:13 W periodic.go:487> T001 warning only did 3738 out of 3750 calls before reaching 10s
06:18:13 I periodic.go:533> T001 ended after 10.00367768s : 3738 calls. qps=373.6625788606976
Ended after 10.003687776s : 14951 calls. qps=1494.5
Aggregated Sleep Time : count 14951 avg -0.00051553548 +/- 0.003512 min -0.035543924 max 0.001940474 sum -7.70777089
# range, mid point, percentile, count
>= -0.0355439 <= -0.001 , -0.018272 , 14.19, 2121
> -0.001 <= 0 , -0.0005 , 25.19, 1645
> 0 <= 0.001 , 0.0005 , 86.74, 9202
> 0.001 <= 0.00194047 , 0.00147024 , 100.00, 1983
# target 50% 0.000403119
WARNING 14.19% of sleep were falling behind
Aggregated Function Time : count 14951 avg 0.0019667635 +/- 0.001144 min 0.000504537 max 0.017857684 sum 29.4050807
# range, mid point, percentile, count
>= 0.000504537 <= 0.0006 , 0.000552269 , 0.09, 13
> 0.0006 <= 0.0007 , 0.00065 , 0.48, 59
> 0.0007 <= 0.0008 , 0.00075 , 1.42, 141
> 0.0008 <= 0.0009 , 0.00085 , 3.16, 260
> 0.0009 <= 0.001 , 0.00095 , 6.71, 530
> 0.001 <= 0.0011 , 0.00105 , 10.44, 558
> 0.0011 <= 0.0012 , 0.00115 , 13.33, 432
> 0.0012 <= 0.0014 , 0.0013 , 18.77, 814
> 0.0014 <= 0.0016 , 0.0015 , 29.52, 1606
> 0.0016 <= 0.0018 , 0.0017 , 47.84, 2739
> 0.0018 <= 0.002 , 0.0019 , 63.54, 2348
> 0.002 <= 0.0025 , 0.00225 , 87.61, 3598
> 0.0025 <= 0.003 , 0.00275 , 95.21, 1137
> 0.003 <= 0.0035 , 0.00325 , 96.23, 152
> 0.0035 <= 0.004 , 0.00375 , 97.15, 138
> 0.004 <= 0.0045 , 0.00425 , 97.98, 124
> 0.0045 <= 0.005 , 0.00475 , 98.52, 81
> 0.005 <= 0.006 , 0.0055 , 99.30, 117
> 0.006 <= 0.007 , 0.0065 , 99.55, 36
> 0.007 <= 0.008 , 0.0075 , 99.60, 8
> 0.008 <= 0.009 , 0.0085 , 99.62, 3
> 0.012 <= 0.014 , 0.013 , 99.65, 5
> 0.014 <= 0.016 , 0.015 , 99.77, 17
> 0.016 <= 0.0178577 , 0.0169288 , 100.00, 35
# target 50% 0.00182756
# target 75% 0.00223808
# target 90% 0.00265739
# target 99% 0.00561103
# target 99.9% 0.0170641
Ping SERVING : 14951
All done 14951 calls (plus 4 warmup) 1.967 ms avg, 1494.5 qps
Successfully wrote 4204 bytes of Json data to /data/2018-11-19-061803_grpc_istio_1500qps_10s_echo_0_8.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
06:18:13 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 1500.0 qps
06:18:13 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:18:23 I periodic.go:533> T001 ended after 10.000481106s : 3750 calls. qps=374.9819593929444
06:18:23 I periodic.go:533> T002 ended after 10.000898583s : 3750 calls. qps=374.96630616517075
06:18:23 I periodic.go:533> T000 ended after 10.003095811s : 3750 calls. qps=374.8839430165486
06:18:23 I periodic.go:533> T003 ended after 10.003115271s : 3750 calls. qps=374.88321371959125
Ended after 10.003139645s : 15000 calls. qps=1499.5
Sleep times : count 14996 avg 0.0017823143 +/- 0.003462 min -0.064435338 max 0.002386268 sum 26.7275859
Aggregated Function Time : count 15000 avg 0.00039019601 +/- 0.001118 min 9.5897e-05 max 0.066913001 sum 5.85294018
# range, mid point, percentile, count
>= 9.5897e-05 <= 0.0001 , 9.79485e-05 , 0.01, 1
> 0.0001 <= 0.0002 , 0.00015 , 2.25, 337
> 0.0002 <= 0.0003 , 0.00025 , 34.66, 4861
> 0.0003 <= 0.0004 , 0.00035 , 76.30, 6246
> 0.0004 <= 0.0005 , 0.00045 , 92.50, 2430
> 0.0005 <= 0.0006 , 0.00055 , 96.52, 603
> 0.0006 <= 0.0007 , 0.00065 , 97.43, 137
> 0.0007 <= 0.0008 , 0.00075 , 97.83, 59
> 0.0008 <= 0.0009 , 0.00085 , 98.07, 37
> 0.0009 <= 0.001 , 0.00095 , 98.42, 52
> 0.001 <= 0.0011 , 0.00105 , 98.64, 33
> 0.0011 <= 0.0012 , 0.00115 , 98.74, 15
> 0.0012 <= 0.0014 , 0.0013 , 98.97, 34
> 0.0014 <= 0.0016 , 0.0015 , 99.07, 15
> 0.0016 <= 0.0018 , 0.0017 , 99.16, 14
> 0.0018 <= 0.002 , 0.0019 , 99.37, 31
> 0.002 <= 0.0025 , 0.00225 , 99.57, 31
> 0.0025 <= 0.003 , 0.00275 , 99.71, 20
> 0.003 <= 0.0035 , 0.00325 , 99.77, 10
> 0.0035 <= 0.004 , 0.00375 , 99.85, 11
> 0.004 <= 0.0045 , 0.00425 , 99.97, 19
> 0.06 <= 0.066913 , 0.0634565 , 100.00, 4
# target 50% 0.00033684
# target 75% 0.000396878
# target 90% 0.000484568
# target 99% 0.00146667
# target 99.9% 0.00421053
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
Response Body/Total Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
All done 15000 calls (plus 4 warmup) 0.390 ms avg, 1499.5 qps
Successfully wrote 4430 bytes of Json data to /data/2018-11-19-061813_http_baseline_1500qps_10s_echo_1_8.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
06:18:23 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 1500.0 qps
06:18:23 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:18:33 I periodic.go:533> T000 ended after 10.003126198s : 3750 calls. qps=374.88280421272356
06:18:33 I periodic.go:533> T003 ended after 10.003194562s : 3750 calls. qps=374.88024218237734
06:18:33 I periodic.go:533> T001 ended after 10.003205788s : 3750 calls. qps=374.87982147668674
06:18:33 I periodic.go:533> T002 ended after 10.004594272s : 3750 calls. qps=374.8277939161589
Ended after 10.004630136s : 15000 calls. qps=1499.3
Sleep times : count 14996 avg 0.0017340527 +/- 0.0004455 min -0.003002518 max 0.002173263 sum 26.0038539
Aggregated Function Time : count 15000 avg 0.0006940815 +/- 0.0003536 min 0.00033133 max 0.005203529 sum 10.4112224
# range, mid point, percentile, count
>= 0.00033133 <= 0.0004 , 0.000365665 , 0.03, 4
> 0.0004 <= 0.0005 , 0.00045 , 1.05, 154
> 0.0005 <= 0.0006 , 0.00055 , 31.60, 4582
> 0.0006 <= 0.0007 , 0.00065 , 76.43, 6725
> 0.0007 <= 0.0008 , 0.00075 , 91.26, 2224
> 0.0008 <= 0.0009 , 0.00085 , 95.52, 639
> 0.0009 <= 0.001 , 0.00095 , 96.69, 175
> 0.001 <= 0.0011 , 0.00105 , 97.17, 72
> 0.0011 <= 0.0012 , 0.00115 , 97.43, 40
> 0.0012 <= 0.0014 , 0.0013 , 97.77, 50
> 0.0014 <= 0.0016 , 0.0015 , 98.35, 87
> 0.0016 <= 0.0018 , 0.0017 , 98.59, 36
> 0.0018 <= 0.002 , 0.0019 , 98.77, 28
> 0.002 <= 0.0025 , 0.00225 , 99.12, 52
> 0.0025 <= 0.003 , 0.00275 , 99.33, 31
> 0.003 <= 0.0035 , 0.00325 , 99.49, 24
> 0.0035 <= 0.004 , 0.00375 , 99.56, 11
> 0.004 <= 0.0045 , 0.00425 , 99.73, 25
> 0.0045 <= 0.005 , 0.00475 , 99.90, 26
> 0.005 <= 0.00520353 , 0.00510176 , 100.00, 15
# target 50% 0.000641041
# target 75% 0.000696803
# target 90% 0.000791502
# target 99% 0.00232692
# target 99.9% 0.005
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
Response Body/Total Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
All done 15000 calls (plus 4 warmup) 0.694 ms avg, 1499.3 qps
Successfully wrote 4156 bytes of Json data to /data/2018-11-19-061823_http_linkerd_1500qps_10s_echo_1_8.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
06:18:33 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 1500.0 qps
06:18:33 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:18:43 W periodic.go:487> T003 warning only did 3748 out of 3750 calls before reaching 10s
06:18:43 I periodic.go:533> T003 ended after 10.001525105s : 3748 calls. qps=374.7428477809135
06:18:43 W periodic.go:487> T002 warning only did 3748 out of 3750 calls before reaching 10s
06:18:43 I periodic.go:533> T002 ended after 10.001547938s : 3748 calls. qps=374.74199226299805
06:18:43 W periodic.go:487> T001 warning only did 3748 out of 3750 calls before reaching 10s
06:18:43 I periodic.go:533> T001 ended after 10.001580132s : 3748 calls. qps=374.7407860092321
06:18:43 W periodic.go:487> T000 warning only did 3748 out of 3750 calls before reaching 10s
06:18:43 I periodic.go:533> T000 ended after 10.001591784s : 3748 calls. qps=374.74034943076214
Ended after 10.001603581s : 14992 calls. qps=1499
Aggregated Sleep Time : count 14992 avg -0.0014384486 +/- 0.008314 min -0.071584136 max 0.00204052 sum -21.5652212
# range, mid point, percentile, count
>= -0.0715841 <= -0.001 , -0.0362921 , 16.99, 2547
> -0.001 <= 0 , -0.0005 , 22.34, 802
> 0 <= 0.001 , 0.0005 , 71.16, 7320
> 0.001 <= 0.002 , 0.0015 , 99.99, 4322
> 0.002 <= 0.00204052 , 0.00202026 , 100.00, 1
# target 50% 0.00056653
WARNING 16.99% of sleep were falling behind
Aggregated Function Time : count 14992 avg 0.0018452884 +/- 0.00102 min 0.000568398 max 0.018646153 sum 27.6645636
# range, mid point, percentile, count
>= 0.000568398 <= 0.0006 , 0.000584199 , 0.01, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.01, 1
> 0.0007 <= 0.0008 , 0.00075 , 0.05, 5
> 0.0008 <= 0.0009 , 0.00085 , 0.09, 7
> 0.0009 <= 0.001 , 0.00095 , 0.17, 11
> 0.001 <= 0.0011 , 0.00105 , 0.55, 58
> 0.0011 <= 0.0012 , 0.00115 , 4.18, 544
> 0.0012 <= 0.0014 , 0.0013 , 26.09, 3284
> 0.0014 <= 0.0016 , 0.0015 , 44.78, 2802
> 0.0016 <= 0.0018 , 0.0017 , 58.83, 2107
> 0.0018 <= 0.002 , 0.0019 , 77.76, 2838
> 0.002 <= 0.0025 , 0.00225 , 93.24, 2320
> 0.0025 <= 0.003 , 0.00275 , 94.90, 249
> 0.003 <= 0.0035 , 0.00325 , 95.93, 155
> 0.0035 <= 0.004 , 0.00375 , 97.04, 166
> 0.004 <= 0.0045 , 0.00425 , 97.99, 142
> 0.0045 <= 0.005 , 0.00475 , 98.99, 150
> 0.005 <= 0.006 , 0.0055 , 99.41, 63
> 0.006 <= 0.007 , 0.0065 , 99.52, 17
> 0.007 <= 0.008 , 0.0075 , 99.63, 16
> 0.012 <= 0.014 , 0.013 , 99.81, 28
> 0.014 <= 0.016 , 0.015 , 99.97, 24
> 0.016 <= 0.018 , 0.017 , 99.99, 3
> 0.018 <= 0.0186462 , 0.0183231 , 100.00, 1
# target 50% 0.00167432
# target 75% 0.00197082
# target 90% 0.00239543
# target 99% 0.00503302
# target 99.9% 0.015084
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 14992 (100.0 %)
Response Header Sizes : count 14992 avg 209.0002 +/- 0.01414 min 209 max 210 sum 3133331
Response Body/Total Sizes : count 14992 avg 209.0002 +/- 0.01414 min 209 max 210 sum 3133331
All done 14992 calls (plus 4 warmup) 1.845 ms avg, 1499.0 qps
Successfully wrote 4833 bytes of Json data to /data/2018-11-19-061833_http_istio_1500qps_10s_echo_1_8.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
06:18:43 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:18:53 I periodic.go:533> T001 ended after 10.000714618s : 3750 calls. qps=374.97320373990897
06:18:53 I periodic.go:533> T003 ended after 10.000812807s : 3750 calls. qps=374.96952221475567
06:18:53 I periodic.go:533> T000 ended after 10.00086188s : 3750 calls. qps=374.9676822853992
06:18:53 I periodic.go:533> T002 ended after 10.00088585s : 3750 calls. qps=374.9667835674777
Ended after 10.000900444s : 15000 calls. qps=1499.9
Sleep times : count 14996 avg 0.0016944533 +/- 0.000494 min -0.00353376 max 0.002386597 sum 25.4100222
Aggregated Function Time : count 15000 avg 0.00070615005 +/- 0.0003757 min 0.000203946 max 0.005899404 sum 10.5922508
# range, mid point, percentile, count
>= 0.000203946 <= 0.0003 , 0.000251973 , 0.10, 15
> 0.0003 <= 0.0004 , 0.00035 , 0.55, 67
> 0.0004 <= 0.0005 , 0.00045 , 5.61, 759
> 0.0005 <= 0.0006 , 0.00055 , 33.04, 4115
> 0.0006 <= 0.0007 , 0.00065 , 71.19, 5723
> 0.0007 <= 0.0008 , 0.00075 , 88.59, 2609
> 0.0008 <= 0.0009 , 0.00085 , 94.03, 817
> 0.0009 <= 0.001 , 0.00095 , 95.46, 214
> 0.001 <= 0.0011 , 0.00105 , 95.95, 73
> 0.0011 <= 0.0012 , 0.00115 , 96.20, 38
> 0.0012 <= 0.0014 , 0.0013 , 96.70, 75
> 0.0014 <= 0.0016 , 0.0015 , 97.09, 58
> 0.0016 <= 0.0018 , 0.0017 , 97.89, 121
> 0.0018 <= 0.002 , 0.0019 , 98.74, 127
> 0.002 <= 0.0025 , 0.00225 , 99.15, 61
> 0.0025 <= 0.003 , 0.00275 , 99.26, 17
> 0.003 <= 0.0035 , 0.00325 , 99.37, 17
> 0.0035 <= 0.004 , 0.00375 , 99.57, 29
> 0.004 <= 0.0045 , 0.00425 , 99.86, 44
> 0.0045 <= 0.005 , 0.00475 , 99.97, 17
> 0.005 <= 0.0058994 , 0.0054497 , 100.00, 4
# target 50% 0.000644452
# target 75% 0.000721886
# target 90% 0.000825949
# target 99% 0.00231967
# target 99.9% 0.00467647
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 0.706 ms avg, 1499.9 qps
Successfully wrote 3764 bytes of Json data to /data/2018-11-19-061843_grpc_baseline_1500qps_10s_echo_1_8.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
06:18:53 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:19:03 I periodic.go:533> T002 ended after 10.001148514s : 3750 calls. qps=374.95693567099846
06:19:03 I periodic.go:533> T001 ended after 10.001815142s : 3750 calls. qps=374.93194452803453
06:19:03 I periodic.go:533> T003 ended after 10.002033153s : 3750 calls. qps=374.9237722607657
06:19:03 I periodic.go:533> T000 ended after 10.002089179s : 3750 calls. qps=374.9216721515896
Ended after 10.002117127s : 15000 calls. qps=1499.7
Sleep times : count 14996 avg 0.0013692159 +/- 0.0005281 min -0.004097949 max 0.001960734 sum 20.5327613
Aggregated Function Time : count 15000 avg 0.0010240258 +/- 0.0003824 min 0.000506138 max 0.006365329 sum 15.3603864
# range, mid point, percentile, count
>= 0.000506138 <= 0.0006 , 0.000553069 , 0.03, 5
> 0.0006 <= 0.0007 , 0.00065 , 0.38, 52
> 0.0007 <= 0.0008 , 0.00075 , 8.83, 1267
> 0.0008 <= 0.0009 , 0.00085 , 30.82, 3299
> 0.0009 <= 0.001 , 0.00095 , 61.19, 4555
> 0.001 <= 0.0011 , 0.00105 , 82.15, 3144
> 0.0011 <= 0.0012 , 0.00115 , 91.19, 1356
> 0.0012 <= 0.0014 , 0.0013 , 95.93, 711
> 0.0014 <= 0.0016 , 0.0015 , 96.76, 125
> 0.0016 <= 0.0018 , 0.0017 , 97.37, 91
> 0.0018 <= 0.002 , 0.0019 , 97.93, 85
> 0.002 <= 0.0025 , 0.00225 , 98.95, 153
> 0.0025 <= 0.003 , 0.00275 , 99.25, 45
> 0.003 <= 0.0035 , 0.00325 , 99.36, 16
> 0.0035 <= 0.004 , 0.00375 , 99.51, 22
> 0.004 <= 0.0045 , 0.00425 , 99.67, 25
> 0.0045 <= 0.005 , 0.00475 , 99.77, 15
> 0.005 <= 0.006 , 0.0055 , 99.97, 30
> 0.006 <= 0.00636533 , 0.00618266 , 100.00, 4
# target 50% 0.000963161
# target 75% 0.0010659
# target 90% 0.00118687
# target 99% 0.00257778
# target 99.9% 0.00563333
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 1.024 ms avg, 1499.7 qps
Successfully wrote 3533 bytes of Json data to /data/2018-11-19-061853_grpc_linkerd_1500qps_10s_echo_1_8.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8079
06:19:03 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:19:13 I periodic.go:533> T001 ended after 10.016871871s : 3750 calls. qps=374.36837051461976
06:19:13 I periodic.go:533> T000 ended after 10.017653978s : 3750 calls. qps=374.33914250137417
06:19:13 I periodic.go:533> T003 ended after 10.018100439s : 3750 calls. qps=374.32245991479823
06:19:13 I periodic.go:533> T002 ended after 10.018124225s : 3750 calls. qps=374.3215711621903
Ended after 10.018140568s : 15000 calls. qps=1497.3
Aggregated Sleep Time : count 14996 avg -0.00061938588 +/- 0.003922 min -0.040686434 max 0.002005687 sum -9.28831066
# range, mid point, percentile, count
>= -0.0406864 <= -0.001 , -0.0208432 , 14.72, 2207
> -0.001 <= 0 , -0.0005 , 25.93, 1681
> 0 <= 0.001 , 0.0005 , 86.46, 9078
> 0.001 <= 0.002 , 0.0015 , 99.99, 2029
> 0.002 <= 0.00200569 , 0.00200284 , 100.00, 1
# target 50% 0.000397665
WARNING 14.72% of sleep were falling behind
Aggregated Function Time : count 15000 avg 0.0019678204 +/- 0.001167 min 0.000470229 max 0.018471155 sum 29.5173066
# range, mid point, percentile, count
>= 0.000470229 <= 0.0005 , 0.000485114 , 0.01, 2
> 0.0005 <= 0.0006 , 0.00055 , 0.10, 13
> 0.0006 <= 0.0007 , 0.00065 , 0.46, 54
> 0.0007 <= 0.0008 , 0.00075 , 1.40, 141
> 0.0008 <= 0.0009 , 0.00085 , 3.15, 263
> 0.0009 <= 0.001 , 0.00095 , 7.25, 615
> 0.001 <= 0.0011 , 0.00105 , 10.66, 511
> 0.0011 <= 0.0012 , 0.00115 , 13.62, 444
> 0.0012 <= 0.0014 , 0.0013 , 19.03, 812
> 0.0014 <= 0.0016 , 0.0015 , 30.46, 1714
> 0.0016 <= 0.0018 , 0.0017 , 47.88, 2613
> 0.0018 <= 0.002 , 0.0019 , 63.53, 2348
> 0.002 <= 0.0025 , 0.00225 , 87.21, 3552
> 0.0025 <= 0.003 , 0.00275 , 94.71, 1124
> 0.003 <= 0.0035 , 0.00325 , 96.07, 204
> 0.0035 <= 0.004 , 0.00375 , 97.21, 172
> 0.004 <= 0.0045 , 0.00425 , 98.00, 118
> 0.0045 <= 0.005 , 0.00475 , 98.61, 92
> 0.005 <= 0.006 , 0.0055 , 99.27, 99
> 0.006 <= 0.007 , 0.0065 , 99.52, 37
> 0.007 <= 0.008 , 0.0075 , 99.57, 7
> 0.008 <= 0.009 , 0.0085 , 99.60, 5
> 0.012 <= 0.014 , 0.013 , 99.64, 6
> 0.014 <= 0.016 , 0.015 , 99.80, 24
> 0.016 <= 0.018 , 0.017 , 99.95, 23
> 0.018 <= 0.0184712 , 0.0182356 , 100.00, 7
# target 50% 0.00182709
# target 75% 0.00224212
# target 90% 0.00268594
# target 99% 0.00558586
# target 99.9% 0.0173043
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 1.968 ms avg, 1497.3 qps
Successfully wrote 4324 bytes of Json data to /data/2018-11-19-061903_grpc_istio_1500qps_10s_echo_1_8.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8080/echo
06:19:13 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-baseline:8080/echo with 4 threads at 1500.0 qps
06:19:13 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-baseline:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:19:23 I periodic.go:533> T002 ended after 10.000451s : 3750 calls. qps=374.9830882627194
06:19:23 I periodic.go:533> T003 ended after 10.000561484s : 3750 calls. qps=374.9789455321747
06:19:23 I periodic.go:533> T000 ended after 10.000583083s : 3750 calls. qps=374.9781356623723
06:19:23 I periodic.go:533> T001 ended after 10.000595219s : 3750 calls. qps=374.9776806159922
Ended after 10.000626581s : 15000 calls. qps=1499.9
Sleep times : count 14996 avg 0.0018011447 +/- 0.003144 min -0.057190894 max 0.002431392 sum 27.0099664
Aggregated Function Time : count 15000 avg 0.00038694149 +/- 0.0006038 min 9.6907e-05 max 0.032004698 sum 5.80412239
# range, mid point, percentile, count
>= 9.6907e-05 <= 0.0001 , 9.84535e-05 , 0.01, 1
> 0.0001 <= 0.0002 , 0.00015 , 2.39, 357
> 0.0002 <= 0.0003 , 0.00025 , 33.11, 4608
> 0.0003 <= 0.0004 , 0.00035 , 75.67, 6384
> 0.0004 <= 0.0005 , 0.00045 , 92.24, 2486
> 0.0005 <= 0.0006 , 0.00055 , 96.42, 627
> 0.0006 <= 0.0007 , 0.00065 , 97.62, 180
> 0.0007 <= 0.0008 , 0.00075 , 97.93, 47
> 0.0008 <= 0.0009 , 0.00085 , 98.09, 24
> 0.0009 <= 0.001 , 0.00095 , 98.35, 38
> 0.001 <= 0.0011 , 0.00105 , 98.53, 27
> 0.0011 <= 0.0012 , 0.00115 , 98.61, 13
> 0.0012 <= 0.0014 , 0.0013 , 98.75, 20
> 0.0014 <= 0.0016 , 0.0015 , 98.88, 20
> 0.0016 <= 0.0018 , 0.0017 , 98.96, 12
> 0.0018 <= 0.002 , 0.0019 , 99.31, 52
> 0.002 <= 0.0025 , 0.00225 , 99.45, 22
> 0.0025 <= 0.003 , 0.00275 , 99.62, 25
> 0.003 <= 0.0035 , 0.00325 , 99.71, 14
> 0.0035 <= 0.004 , 0.00375 , 99.91, 30
> 0.004 <= 0.0045 , 0.00425 , 99.92, 1
> 0.006 <= 0.007 , 0.0065 , 99.94, 3
> 0.007 <= 0.008 , 0.0075 , 99.95, 1
> 0.008 <= 0.009 , 0.0085 , 99.97, 4
> 0.03 <= 0.0320047 , 0.0310023 , 100.00, 4
# target 50% 0.000339693
# target 75% 0.000398434
# target 90% 0.000486484
# target 99% 0.00182308
# target 99.9% 0.00396667
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
Response Body/Total Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
All done 15000 calls (plus 4 warmup) 0.387 ms avg, 1499.9 qps
Successfully wrote 4808 bytes of Json data to /data/2018-11-19-061913_http_baseline_1500qps_10s_echo_0_9.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8080/echo
06:19:24 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-linkerd:8080/echo with 4 threads at 1500.0 qps
06:19:24 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-linkerd:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:19:34 I periodic.go:533> T001 ended after 10.000845612s : 3750 calls. qps=374.96829223124695
06:19:34 I periodic.go:533> T000 ended after 10.001187304s : 3750 calls. qps=374.95548138571286
06:19:34 I periodic.go:533> T003 ended after 10.001252874s : 3750 calls. qps=374.9530231106123
06:19:34 I periodic.go:533> T002 ended after 10.001272913s : 3750 calls. qps=374.95227183787983
Ended after 10.001357178s : 15000 calls. qps=1499.8
Sleep times : count 14996 avg 0.001659856 +/- 0.0004694 min -0.004867455 max 0.002089967 sum 24.891201
Aggregated Function Time : count 15000 avg 0.00075202955 +/- 0.0003352 min 0.000399579 max 0.007368338 sum 11.2804432
# range, mid point, percentile, count
>= 0.000399579 <= 0.0004 , 0.00039979 , 0.01, 1
> 0.0004 <= 0.0005 , 0.00045 , 0.29, 42
> 0.0005 <= 0.0006 , 0.00055 , 9.88, 1439
> 0.0006 <= 0.0007 , 0.00065 , 51.57, 6254
> 0.0007 <= 0.0008 , 0.00075 , 79.78, 4231
> 0.0008 <= 0.0009 , 0.00085 , 91.85, 1811
> 0.0009 <= 0.001 , 0.00095 , 96.01, 623
> 0.001 <= 0.0011 , 0.00105 , 97.22, 182
> 0.0011 <= 0.0012 , 0.00115 , 97.69, 70
> 0.0012 <= 0.0014 , 0.0013 , 98.12, 65
> 0.0014 <= 0.0016 , 0.0015 , 98.47, 52
> 0.0016 <= 0.0018 , 0.0017 , 98.87, 61
> 0.0018 <= 0.002 , 0.0019 , 99.07, 29
> 0.002 <= 0.0025 , 0.00225 , 99.29, 33
> 0.0025 <= 0.003 , 0.00275 , 99.45, 24
> 0.003 <= 0.0035 , 0.00325 , 99.47, 4
> 0.0035 <= 0.004 , 0.00375 , 99.66, 28
> 0.004 <= 0.0045 , 0.00425 , 99.74, 12
> 0.0045 <= 0.005 , 0.00475 , 99.92, 27
> 0.005 <= 0.006 , 0.0055 , 99.97, 8
> 0.007 <= 0.00736834 , 0.00718417 , 100.00, 4
# target 50% 0.000696226
# target 75% 0.000783054
# target 90% 0.000884649
# target 99% 0.00193103
# target 99.9% 0.00494444
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
Response Body/Total Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
All done 15000 calls (plus 4 warmup) 0.752 ms avg, 1499.8 qps
Successfully wrote 4284 bytes of Json data to /data/2018-11-19-061924_http_linkerd_1500qps_10s_echo_0_9.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8080/echo
06:19:34 I httprunner.go:82> Starting http test for fortio-echo-0.benchmark-istio:8080/echo with 4 threads at 1500.0 qps
06:19:34 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-0.benchmark-istio:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:19:44 I periodic.go:533> T000 ended after 10.014580026s : 3750 calls. qps=374.4540450287675
06:19:44 I periodic.go:533> T003 ended after 10.014835276s : 3750 calls. qps=374.4445012477308
06:19:44 I periodic.go:533> T001 ended after 10.014862417s : 3750 calls. qps=374.4434864761058
06:19:44 I periodic.go:533> T002 ended after 10.014872668s : 3750 calls. qps=374.4431032041155
Ended after 10.014885627s : 15000 calls. qps=1497.8
Aggregated Sleep Time : count 14996 avg -0.0024555742 +/- 0.01002 min -0.073909949 max 0.001796993 sum -36.82379
# range, mid point, percentile, count
>= -0.0739099 <= -0.001 , -0.037455 , 20.32, 3047
> -0.001 <= 0 , -0.0005 , 25.52, 780
> 0 <= 0.001 , 0.0005 , 73.34, 7171
> 0.001 <= 0.00179699 , 0.0013985 , 100.00, 3998
# target 50% 0.000511923
WARNING 20.32% of sleep were falling behind
Aggregated Function Time : count 15000 avg 0.0018743354 +/- 0.001048 min 0.000721003 max 0.016875573 sum 28.1150304
# range, mid point, percentile, count
>= 0.000721003 <= 0.0008 , 0.000760501 , 0.03, 4
> 0.0008 <= 0.0009 , 0.00085 , 0.09, 9
> 0.0009 <= 0.001 , 0.00095 , 0.23, 21
> 0.001 <= 0.0011 , 0.00105 , 0.67, 67
> 0.0011 <= 0.0012 , 0.00115 , 3.76, 463
> 0.0012 <= 0.0014 , 0.0013 , 24.65, 3134
> 0.0014 <= 0.0016 , 0.0015 , 42.55, 2685
> 0.0016 <= 0.0018 , 0.0017 , 57.51, 2243
> 0.0018 <= 0.002 , 0.0019 , 77.15, 2947
> 0.002 <= 0.0025 , 0.00225 , 92.27, 2267
> 0.0025 <= 0.003 , 0.00275 , 94.29, 303
> 0.003 <= 0.0035 , 0.00325 , 95.31, 154
> 0.0035 <= 0.004 , 0.00375 , 96.54, 184
> 0.004 <= 0.0045 , 0.00425 , 97.71, 176
> 0.0045 <= 0.005 , 0.00475 , 98.71, 149
> 0.005 <= 0.006 , 0.0055 , 99.35, 96
> 0.006 <= 0.007 , 0.0065 , 99.50, 23
> 0.007 <= 0.008 , 0.0075 , 99.59, 14
> 0.008 <= 0.009 , 0.0085 , 99.60, 1
> 0.012 <= 0.014 , 0.013 , 99.89, 43
> 0.014 <= 0.016 , 0.015 , 99.97, 13
> 0.016 <= 0.0168756 , 0.0164378 , 100.00, 4
# target 50% 0.0016996
# target 75% 0.00197808
# target 90% 0.00242501
# target 99% 0.00545833
# target 99.9% 0.0143077
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 209 +/- 0 min 209 max 209 sum 3135000
Response Body/Total Sizes : count 15000 avg 209 +/- 0 min 209 max 209 sum 3135000
All done 15000 calls (plus 4 warmup) 1.874 ms avg, 1497.8 qps
Successfully wrote 4428 bytes of Json data to /data/2018-11-19-061934_http_istio_1500qps_10s_echo_0_9.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-baseline:8079
06:19:44 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-baseline:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:19:54 I periodic.go:533> T002 ended after 10.001465013s : 3750 calls. qps=374.9450700598076
06:19:54 I periodic.go:533> T000 ended after 10.001871787s : 3750 calls. qps=374.92982112349085
06:19:54 I periodic.go:533> T001 ended after 10.006001223s : 3750 calls. qps=374.77508911153967
06:19:54 I periodic.go:533> T003 ended after 10.006119605s : 3750 calls. qps=374.77065516248143
Ended after 10.006136371s : 15000 calls. qps=1499.1
Sleep times : count 14996 avg 0.0016561716 +/- 0.0006236 min -0.009605877 max 0.002312933 sum 24.8359495
Aggregated Function Time : count 15000 avg 0.00071034531 +/- 0.0003804 min 0.000187172 max 0.007751152 sum 10.6551797
# range, mid point, percentile, count
>= 0.000187172 <= 0.0002 , 0.000193586 , 0.01, 2
> 0.0002 <= 0.0003 , 0.00025 , 0.11, 15
> 0.0003 <= 0.0004 , 0.00035 , 0.72, 91
> 0.0004 <= 0.0005 , 0.00045 , 5.77, 757
> 0.0005 <= 0.0006 , 0.00055 , 32.22, 3968
> 0.0006 <= 0.0007 , 0.00065 , 68.53, 5447
> 0.0007 <= 0.0008 , 0.00075 , 86.49, 2693
> 0.0008 <= 0.0009 , 0.00085 , 93.33, 1026
> 0.0009 <= 0.001 , 0.00095 , 95.57, 336
> 0.001 <= 0.0011 , 0.00105 , 96.29, 108
> 0.0011 <= 0.0012 , 0.00115 , 96.62, 50
> 0.0012 <= 0.0014 , 0.0013 , 97.19, 86
> 0.0014 <= 0.0016 , 0.0015 , 97.45, 38
> 0.0016 <= 0.0018 , 0.0017 , 98.01, 84
> 0.0018 <= 0.002 , 0.0019 , 98.58, 86
> 0.002 <= 0.0025 , 0.00225 , 99.03, 67
> 0.0025 <= 0.003 , 0.00275 , 99.25, 34
> 0.003 <= 0.0035 , 0.00325 , 99.49, 36
> 0.0035 <= 0.004 , 0.00375 , 99.65, 23
> 0.004 <= 0.0045 , 0.00425 , 99.74, 14
> 0.0045 <= 0.005 , 0.00475 , 99.95, 31
> 0.005 <= 0.006 , 0.0055 , 99.97, 3
> 0.006 <= 0.007 , 0.0065 , 99.97, 1
> 0.007 <= 0.00775115 , 0.00737558 , 100.00, 4
# target 50% 0.000648963
# target 75% 0.000736019
# target 90% 0.000851365
# target 99% 0.00247015
# target 99.9% 0.0048871
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 0.710 ms avg, 1499.1 qps
Successfully wrote 4167 bytes of Json data to /data/2018-11-19-061944_grpc_baseline_1500qps_10s_echo_0_9.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-linkerd:8079
06:19:54 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-linkerd:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:20:04 I periodic.go:533> T003 ended after 10.001212412s : 3750 calls. qps=374.95454006161754
06:20:04 I periodic.go:533> T002 ended after 10.004047127s : 3750 calls. qps=374.8482941347903
06:20:04 I periodic.go:533> T000 ended after 10.005181629s : 3750 calls. qps=374.80578954515244
06:20:04 I periodic.go:533> T001 ended after 10.005238392s : 3750 calls. qps=374.80366314893894
Ended after 10.00525288s : 15000 calls. qps=1499.2
Sleep times : count 14996 avg 0.0012669705 +/- 0.0006004 min -0.004277813 max 0.001874249 sum 18.9994892
Aggregated Function Time : count 15000 avg 0.0011065263 +/- 0.0004457 min 0.000582477 max 0.006810308 sum 16.5978941
# range, mid point, percentile, count
>= 0.000582477 <= 0.0006 , 0.000591238 , 0.01, 1
> 0.0006 <= 0.0007 , 0.00065 , 0.13, 18
> 0.0007 <= 0.0008 , 0.00075 , 2.83, 406
> 0.0008 <= 0.0009 , 0.00085 , 15.93, 1965
> 0.0009 <= 0.001 , 0.00095 , 41.16, 3784
> 0.001 <= 0.0011 , 0.00105 , 68.09, 4039
> 0.0011 <= 0.0012 , 0.00115 , 83.49, 2311
> 0.0012 <= 0.0014 , 0.0013 , 93.67, 1527
> 0.0014 <= 0.0016 , 0.0015 , 95.96, 343
> 0.0016 <= 0.0018 , 0.0017 , 96.87, 136
> 0.0018 <= 0.002 , 0.0019 , 97.57, 105
> 0.002 <= 0.0025 , 0.00225 , 98.65, 163
> 0.0025 <= 0.003 , 0.00275 , 98.98, 49
> 0.003 <= 0.0035 , 0.00325 , 99.02, 6
> 0.0035 <= 0.004 , 0.00375 , 99.13, 17
> 0.004 <= 0.0045 , 0.00425 , 99.27, 20
> 0.0045 <= 0.005 , 0.00475 , 99.60, 50
> 0.005 <= 0.006 , 0.0055 , 99.94, 51
> 0.006 <= 0.00681031 , 0.00640515 , 100.00, 9
# target 50% 0.00103283
# target 75% 0.00114487
# target 90% 0.00132783
# target 99% 0.00325
# target 99.9% 0.00588235
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 1.107 ms avg, 1499.2 qps
Successfully wrote 3515 bytes of Json data to /data/2018-11-19-061954_grpc_linkerd_1500qps_10s_echo_0_9.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-0.benchmark-istio:8079
06:20:04 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-0.benchmark-istio:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:20:14 I periodic.go:533> T002 ended after 10.012886208s : 3750 calls. qps=374.5173891024409
06:20:14 I periodic.go:533> T001 ended after 10.017136372s : 3750 calls. qps=374.3584853733286
06:20:14 I periodic.go:533> T000 ended after 10.017324406s : 3750 calls. qps=374.3514583349114
06:20:14 I periodic.go:533> T003 ended after 10.017344258s : 3750 calls. qps=374.35071645912484
Ended after 10.017357695s : 15000 calls. qps=1497.4
Aggregated Sleep Time : count 14996 avg -0.0012449533 +/- 0.00634 min -0.058716115 max 0.001985673 sum -18.66932
# range, mid point, percentile, count
>= -0.0587161 <= -0.001 , -0.0298581 , 16.43, 2464
> -0.001 <= 0 , -0.0005 , 28.05, 1742
> 0 <= 0.001 , 0.0005 , 87.02, 8843
> 0.001 <= 0.00198567 , 0.00149284 , 100.00, 1947
# target 50% 0.000372272
WARNING 16.43% of sleep were falling behind
Aggregated Function Time : count 15000 avg 0.0019810324 +/- 0.001242 min 0.000460003 max 0.020714019 sum 29.7154856
# range, mid point, percentile, count
>= 0.000460003 <= 0.0005 , 0.000480002 , 0.02, 3
> 0.0005 <= 0.0006 , 0.00055 , 0.11, 14
> 0.0006 <= 0.0007 , 0.00065 , 0.53, 62
> 0.0007 <= 0.0008 , 0.00075 , 1.34, 122
> 0.0008 <= 0.0009 , 0.00085 , 3.59, 337
> 0.0009 <= 0.001 , 0.00095 , 7.40, 572
> 0.001 <= 0.0011 , 0.00105 , 11.25, 577
> 0.0011 <= 0.0012 , 0.00115 , 14.18, 440
> 0.0012 <= 0.0014 , 0.0013 , 19.35, 775
> 0.0014 <= 0.0016 , 0.0015 , 30.81, 1719
> 0.0016 <= 0.0018 , 0.0017 , 48.30, 2624
> 0.0018 <= 0.002 , 0.0019 , 63.55, 2288
> 0.002 <= 0.0025 , 0.00225 , 86.79, 3485
> 0.0025 <= 0.003 , 0.00275 , 94.66, 1181
> 0.003 <= 0.0035 , 0.00325 , 95.65, 148
> 0.0035 <= 0.004 , 0.00375 , 96.75, 166
> 0.004 <= 0.0045 , 0.00425 , 97.81, 158
> 0.0045 <= 0.005 , 0.00475 , 98.37, 85
> 0.005 <= 0.006 , 0.0055 , 99.19, 123
> 0.006 <= 0.007 , 0.0065 , 99.51, 48
> 0.007 <= 0.008 , 0.0075 , 99.57, 8
> 0.008 <= 0.009 , 0.0085 , 99.57, 1
> 0.009 <= 0.01 , 0.0095 , 99.58, 1
> 0.01 <= 0.012 , 0.011 , 99.60, 3
> 0.012 <= 0.014 , 0.013 , 99.61, 2
> 0.014 <= 0.016 , 0.015 , 99.70, 13
> 0.016 <= 0.018 , 0.017 , 99.91, 31
> 0.018 <= 0.02 , 0.019 , 99.97, 10
> 0.02 <= 0.020714 , 0.020357 , 100.00, 4
# target 50% 0.00182229
# target 75% 0.00224634
# target 90% 0.00270406
# target 99% 0.00576423
# target 99.9% 0.0179355
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 1.981 ms avg, 1497.4 qps
Successfully wrote 4732 bytes of Json data to /data/2018-11-19-062004_grpc_istio_1500qps_10s_echo_0_9.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8080/echo
06:20:14 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-baseline:8080/echo with 4 threads at 1500.0 qps
06:20:14 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-baseline:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:20:24 I periodic.go:533> T001 ended after 10.000472752s : 3750 calls. qps=374.98227263806456
06:20:24 I periodic.go:533> T002 ended after 10.001006294s : 3750 calls. qps=374.9622677719715
06:20:24 I periodic.go:533> T003 ended after 10.003167071s : 3750 calls. qps=374.8812724393614
06:20:24 I periodic.go:533> T000 ended after 10.003199151s : 3750 calls. qps=374.8800702048524
Ended after 10.003235147s : 15000 calls. qps=1499.5
Sleep times : count 14996 avg 0.0019013655 +/- 0.001711 min -0.031007428 max 0.002420261 sum 28.5128772
Aggregated Function Time : count 15000 avg 0.00038552559 +/- 0.0005919 min 9.0522e-05 max 0.03156575 sum 5.78288385
# range, mid point, percentile, count
>= 9.0522e-05 <= 0.0001 , 9.5261e-05 , 0.01, 2
> 0.0001 <= 0.0002 , 0.00015 , 2.49, 372
> 0.0002 <= 0.0003 , 0.00025 , 34.95, 4869
> 0.0003 <= 0.0004 , 0.00035 , 75.65, 6105
> 0.0004 <= 0.0005 , 0.00045 , 92.37, 2508
> 0.0005 <= 0.0006 , 0.00055 , 96.55, 627
> 0.0006 <= 0.0007 , 0.00065 , 97.54, 148
> 0.0007 <= 0.0008 , 0.00075 , 97.93, 58
> 0.0008 <= 0.0009 , 0.00085 , 98.08, 23
> 0.0009 <= 0.001 , 0.00095 , 98.26, 27
> 0.001 <= 0.0011 , 0.00105 , 98.31, 8
> 0.0011 <= 0.0012 , 0.00115 , 98.41, 15
> 0.0012 <= 0.0014 , 0.0013 , 98.64, 34
> 0.0014 <= 0.0016 , 0.0015 , 98.85, 31
> 0.0016 <= 0.0018 , 0.0017 , 99.06, 32
> 0.0018 <= 0.002 , 0.0019 , 99.29, 34
> 0.002 <= 0.0025 , 0.00225 , 99.44, 23
> 0.0025 <= 0.003 , 0.00275 , 99.53, 13
> 0.003 <= 0.0035 , 0.00325 , 99.69, 24
> 0.0035 <= 0.004 , 0.00375 , 99.81, 18
> 0.004 <= 0.0045 , 0.00425 , 99.87, 10
> 0.0045 <= 0.005 , 0.00475 , 99.95, 11
> 0.005 <= 0.006 , 0.0055 , 99.97, 4
> 0.03 <= 0.0315657 , 0.0307829 , 100.00, 4
# target 50% 0.00033697
# target 75% 0.000398395
# target 90% 0.000485805
# target 99% 0.00174375
# target 99.9% 0.00468182
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
Response Body/Total Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
All done 15000 calls (plus 4 warmup) 0.386 ms avg, 1499.5 qps
Successfully wrote 4705 bytes of Json data to /data/2018-11-19-062014_http_baseline_1500qps_10s_echo_1_9.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8080/echo
06:20:24 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-linkerd:8080/echo with 4 threads at 1500.0 qps
06:20:24 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-linkerd:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:20:34 I periodic.go:533> T003 ended after 10.000882236s : 3750 calls. qps=374.96691906851885
06:20:34 I periodic.go:533> T000 ended after 10.001387145s : 3750 calls. qps=374.9479892771414
06:20:34 I periodic.go:533> T001 ended after 10.001491155s : 3750 calls. qps=374.9440900245439
06:20:34 I periodic.go:533> T002 ended after 10.001554967s : 3750 calls. qps=374.9416978032992
Ended after 10.001578896s : 15000 calls. qps=1499.8
Sleep times : count 14996 avg 0.0017204355 +/- 0.000408 min -0.003025198 max 0.00215978 sum 25.7996515
Aggregated Function Time : count 15000 avg 0.00071001595 +/- 0.0003093 min 0.000369277 max 0.005538007 sum 10.6502392
# range, mid point, percentile, count
>= 0.000369277 <= 0.0004 , 0.000384639 , 0.01, 1
> 0.0004 <= 0.0005 , 0.00045 , 0.41, 60
> 0.0005 <= 0.0006 , 0.00055 , 18.93, 2778
> 0.0006 <= 0.0007 , 0.00065 , 67.42, 7274
> 0.0007 <= 0.0008 , 0.00075 , 89.42, 3300
> 0.0008 <= 0.0009 , 0.00085 , 95.00, 837
> 0.0009 <= 0.001 , 0.00095 , 96.78, 267
> 0.001 <= 0.0011 , 0.00105 , 97.32, 81
> 0.0011 <= 0.0012 , 0.00115 , 97.70, 57
> 0.0012 <= 0.0014 , 0.0013 , 98.19, 74
> 0.0014 <= 0.0016 , 0.0015 , 98.63, 65
> 0.0016 <= 0.0018 , 0.0017 , 98.90, 41
> 0.0018 <= 0.002 , 0.0019 , 99.09, 28
> 0.002 <= 0.0025 , 0.00225 , 99.28, 29
> 0.0025 <= 0.003 , 0.00275 , 99.47, 29
> 0.003 <= 0.0035 , 0.00325 , 99.61, 20
> 0.0035 <= 0.004 , 0.00375 , 99.71, 15
> 0.004 <= 0.0045 , 0.00425 , 99.87, 25
> 0.0045 <= 0.005 , 0.00475 , 99.95, 11
> 0.005 <= 0.00553801 , 0.005269 , 100.00, 8
# target 50% 0.000664078
# target 75% 0.000734455
# target 90% 0.000810394
# target 99% 0.00190714
# target 99.9% 0.00468182
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
Response Body/Total Sizes : count 15000 avg 75 +/- 0 min 75 max 75 sum 1125000
All done 15000 calls (plus 4 warmup) 0.710 ms avg, 1499.8 qps
Successfully wrote 4144 bytes of Json data to /data/2018-11-19-062024_http_linkerd_1500qps_10s_echo_1_9.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8080/echo
06:20:34 I httprunner.go:82> Starting http test for fortio-echo-1.benchmark-istio:8080/echo with 4 threads at 1500.0 qps
06:20:34 W http_client.go:142> Assuming http:// on missing scheme for 'fortio-echo-1.benchmark-istio:8080/echo'
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:20:44 I periodic.go:533> T001 ended after 10.012125288s : 3750 calls. qps=374.54585236708436
06:20:44 I periodic.go:533> T002 ended after 10.012199034s : 3750 calls. qps=374.5430936066627
06:20:44 I periodic.go:533> T003 ended after 10.012212355s : 3750 calls. qps=374.54259528637414
06:20:44 I periodic.go:533> T000 ended after 10.012223208s : 3750 calls. qps=374.5421892915514
Ended after 10.012239329s : 15000 calls. qps=1498.2
Aggregated Sleep Time : count 14996 avg -0.0021319094 +/- 0.008879 min -0.063336287 max 0.001694791 sum -31.9701136
# range, mid point, percentile, count
>= -0.0633363 <= -0.001 , -0.0321681 , 19.26, 2888
> -0.001 <= 0 , -0.0005 , 24.47, 781
> 0 <= 0.001 , 0.0005 , 71.56, 7062
> 0.001 <= 0.00169479 , 0.0013474 , 100.00, 4265
# target 50% 0.000542198
WARNING 19.26% of sleep were falling behind
Aggregated Function Time : count 15000 avg 0.0018597144 +/- 0.001056 min 0.000524619 max 0.02082202 sum 27.8957158
# range, mid point, percentile, count
>= 0.000524619 <= 0.0006 , 0.00056231 , 0.01, 2
> 0.0007 <= 0.0008 , 0.00075 , 0.02, 1
> 0.0008 <= 0.0009 , 0.00085 , 0.13, 16
> 0.0009 <= 0.001 , 0.00095 , 0.25, 18
> 0.001 <= 0.0011 , 0.00105 , 0.61, 54
> 0.0011 <= 0.0012 , 0.00115 , 4.39, 567
> 0.0012 <= 0.0014 , 0.0013 , 26.47, 3313
> 0.0014 <= 0.0016 , 0.0015 , 44.07, 2639
> 0.0016 <= 0.0018 , 0.0017 , 59.70, 2345
> 0.0018 <= 0.002 , 0.0019 , 77.66, 2694
> 0.002 <= 0.0025 , 0.00225 , 92.25, 2189
> 0.0025 <= 0.003 , 0.00275 , 94.33, 312
> 0.003 <= 0.0035 , 0.00325 , 95.43, 164
> 0.0035 <= 0.004 , 0.00375 , 96.69, 189
> 0.004 <= 0.0045 , 0.00425 , 97.76, 161
> 0.0045 <= 0.005 , 0.00475 , 98.80, 156
> 0.005 <= 0.006 , 0.0055 , 99.37, 86
> 0.006 <= 0.007 , 0.0065 , 99.59, 32
> 0.009 <= 0.01 , 0.0095 , 99.60, 2
> 0.012 <= 0.014 , 0.013 , 99.87, 40
> 0.014 <= 0.016 , 0.015 , 99.97, 16
> 0.02 <= 0.020822 , 0.020411 , 100.00, 4
# target 50% 0.00167591
# target 75% 0.00197038
# target 90% 0.0024228
# target 99% 0.00534884
# target 99.9% 0.014625
Wrote profile data to /data/profile.{cpu|mem}
Sockets used: 4 (for perfect keepalive, would be 4)
Code 200 : 15000 (100.0 %)
Response Header Sizes : count 15000 avg 209 +/- 0 min 209 max 209 sum 3135000
Response Body/Total Sizes : count 15000 avg 209 +/- 0 min 209 max 209 sum 3135000
All done 15000 calls (plus 4 warmup) 1.860 ms avg, 1498.2 qps
Successfully wrote 4416 bytes of Json data to /data/2018-11-19-062034_http_istio_1500qps_10s_echo_1_9.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-baseline:8079
06:20:44 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-baseline:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:20:54 I periodic.go:533> T001 ended after 10.000987539s : 3750 calls. qps=374.96297094426365
06:20:54 I periodic.go:533> T002 ended after 10.001382469s : 3750 calls. qps=374.94816457858633
06:20:54 I periodic.go:533> T003 ended after 10.003538914s : 3750 calls. qps=374.8673376730566
06:20:54 I periodic.go:533> T000 ended after 10.00361032s : 3750 calls. qps=374.8646618613989
Ended after 10.003627585s : 15000 calls. qps=1499.5
Sleep times : count 14996 avg 0.0017039048 +/- 0.000528 min -0.004447677 max 0.002279421 sum 25.551756
Aggregated Function Time : count 15000 avg 0.00068853982 +/- 0.0003785 min 0.000185183 max 0.006878638 sum 10.3280974
# range, mid point, percentile, count
>= 0.000185183 <= 0.0002 , 0.000192591 , 0.01, 1
> 0.0002 <= 0.0003 , 0.00025 , 0.07, 9
> 0.0003 <= 0.0004 , 0.00035 , 0.60, 80
> 0.0004 <= 0.0005 , 0.00045 , 6.65, 907
> 0.0005 <= 0.0006 , 0.00055 , 39.25, 4890
> 0.0006 <= 0.0007 , 0.00065 , 75.25, 5401
> 0.0007 <= 0.0008 , 0.00075 , 90.39, 2271
> 0.0008 <= 0.0009 , 0.00085 , 94.71, 647
> 0.0009 <= 0.001 , 0.00095 , 95.96, 188
> 0.001 <= 0.0011 , 0.00105 , 96.51, 83
> 0.0011 <= 0.0012 , 0.00115 , 96.83, 47
> 0.0012 <= 0.0014 , 0.0013 , 97.24, 62
> 0.0014 <= 0.0016 , 0.0015 , 97.53, 43
> 0.0016 <= 0.0018 , 0.0017 , 98.09, 84
> 0.0018 <= 0.002 , 0.0019 , 98.74, 98
> 0.002 <= 0.0025 , 0.00225 , 99.14, 60
> 0.0025 <= 0.003 , 0.00275 , 99.27, 19
> 0.003 <= 0.0035 , 0.00325 , 99.42, 23
> 0.0035 <= 0.004 , 0.00375 , 99.57, 22
> 0.004 <= 0.0045 , 0.00425 , 99.77, 31
> 0.0045 <= 0.005 , 0.00475 , 99.92, 22
> 0.005 <= 0.006 , 0.0055 , 99.97, 8
> 0.006 <= 0.00687864 , 0.00643932 , 100.00, 4
# target 50% 0.000629865
# target 75% 0.000699296
# target 90% 0.000797402
# target 99% 0.002325
# target 99.9% 0.00493182
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 0.689 ms avg, 1499.5 qps
Successfully wrote 4019 bytes of Json data to /data/2018-11-19-062044_grpc_baseline_1500qps_10s_echo_1_9.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-linkerd:8079
06:20:54 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-linkerd:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:21:04 I periodic.go:533> T000 ended after 10.001239361s : 3750 calls. qps=374.95352972184503
06:21:04 I periodic.go:533> T002 ended after 10.001942935s : 3750 calls. qps=374.9271540909866
06:21:04 I periodic.go:533> T003 ended after 10.002181388s : 3750 calls. qps=374.9182157903094
06:21:04 I periodic.go:533> T001 ended after 10.002210775s : 3750 calls. qps=374.9171142616718
Ended after 10.002263331s : 15000 calls. qps=1499.7
Sleep times : count 14996 avg 0.001370132 +/- 0.0005091 min -0.004001764 max 0.001939199 sum 20.5465
Aggregated Function Time : count 15000 avg 0.001020422 +/- 0.00038 min 0.000583768 max 0.006547553 sum 15.3063293
# range, mid point, percentile, count
>= 0.000583768 <= 0.0006 , 0.000591884 , 0.01, 2
> 0.0006 <= 0.0007 , 0.00065 , 0.53, 77
> 0.0007 <= 0.0008 , 0.00075 , 10.05, 1429
> 0.0008 <= 0.0009 , 0.00085 , 32.72, 3400
> 0.0009 <= 0.001 , 0.00095 , 62.95, 4534
> 0.001 <= 0.0011 , 0.00105 , 82.39, 2916
> 0.0011 <= 0.0012 , 0.00115 , 90.61, 1234
> 0.0012 <= 0.0014 , 0.0013 , 95.43, 723
> 0.0014 <= 0.0016 , 0.0015 , 96.57, 170
> 0.0016 <= 0.0018 , 0.0017 , 97.35, 118
> 0.0018 <= 0.002 , 0.0019 , 98.01, 98
> 0.002 <= 0.0025 , 0.00225 , 98.91, 135
> 0.0025 <= 0.003 , 0.00275 , 99.15, 36
> 0.003 <= 0.0035 , 0.00325 , 99.30, 23
> 0.0035 <= 0.004 , 0.00375 , 99.52, 33
> 0.004 <= 0.0045 , 0.00425 , 99.71, 29
> 0.0045 <= 0.005 , 0.00475 , 99.90, 28
> 0.005 <= 0.006 , 0.0055 , 99.95, 8
> 0.006 <= 0.00654755 , 0.00627378 , 100.00, 7
# target 50% 0.000957168
# target 75% 0.001062
# target 90% 0.00119254
# target 99% 0.00269444
# target 99.9% 0.005
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 1.020 ms avg, 1499.7 qps
Successfully wrote 3522 bytes of Json data to /data/2018-11-19-062054_grpc_linkerd_1500qps_10s_echo_1_9.json
Fortio 1.3.1-pre running at 1500 queries per second, 1->1 procs, for 10s: fortio-echo-1.benchmark-istio:8079
06:21:04 I grpcrunner.go:152> Starting GRPC Ping test for fortio-echo-1.benchmark-istio:8079 with 1*4 threads at 1500.0 qps
Starting at 1500 qps with 4 thread(s) [gomax 1] for 10s : 3750 calls each (total 15000)
06:21:15 I periodic.go:533> T000 ended after 10.021972315s : 3750 calls. qps=374.17784465312604
06:21:15 I periodic.go:533> T001 ended after 10.022502988s : 3750 calls. qps=374.1580326281665
06:21:15 I periodic.go:533> T002 ended after 10.022879776s : 3750 calls. qps=374.1439669843646
06:21:15 I periodic.go:533> T003 ended after 10.022959612s : 3750 calls. qps=374.14098681095237
Ended after 10.022976124s : 15000 calls. qps=1496.6
Aggregated Sleep Time : count 14996 avg -0.0010869773 +/- 0.005987 min -0.057596502 max 0.002022104 sum -16.3003114
# range, mid point, percentile, count
>= -0.0575965 <= -0.001 , -0.0292983 , 15.74, 2360
> -0.001 <= 0 , -0.0005 , 25.93, 1529
> 0 <= 0.001 , 0.0005 , 86.16, 9031
> 0.001 <= 0.002 , 0.0015 , 99.99, 2075
> 0.002 <= 0.0020221 , 0.00201105 , 100.00, 1
# target 50% 0.000399624
WARNING 15.74% of sleep were falling behind
Aggregated Function Time : count 15000 avg 0.0019605365 +/- 0.001217 min 0.000483174 max 0.023615843 sum 29.4080469
# range, mid point, percentile, count
>= 0.000483174 <= 0.0005 , 0.000491587 , 0.01, 1
> 0.0005 <= 0.0006 , 0.00055 , 0.12, 17
> 0.0006 <= 0.0007 , 0.00065 , 0.41, 43
> 0.0007 <= 0.0008 , 0.00075 , 1.42, 152
> 0.0008 <= 0.0009 , 0.00085 , 3.39, 295
> 0.0009 <= 0.001 , 0.00095 , 7.71, 648
> 0.001 <= 0.0011 , 0.00105 , 11.35, 546
> 0.0011 <= 0.0012 , 0.00115 , 14.23, 433
> 0.0012 <= 0.0014 , 0.0013 , 19.53, 794
> 0.0014 <= 0.0016 , 0.0015 , 31.58, 1808
> 0.0016 <= 0.0018 , 0.0017 , 50.06, 2772
> 0.0018 <= 0.002 , 0.0019 , 64.17, 2116
> 0.002 <= 0.0025 , 0.00225 , 87.84, 3551
> 0.0025 <= 0.003 , 0.00275 , 94.74, 1035
> 0.003 <= 0.0035 , 0.00325 , 95.88, 171
> 0.0035 <= 0.004 , 0.00375 , 97.17, 194
> 0.004 <= 0.0045 , 0.00425 , 97.97, 120
> 0.0045 <= 0.005 , 0.00475 , 98.61, 95
> 0.005 <= 0.006 , 0.0055 , 99.21, 90
> 0.006 <= 0.007 , 0.0065 , 99.49, 42
> 0.007 <= 0.008 , 0.0075 , 99.57, 12
> 0.008 <= 0.009 , 0.0085 , 99.57, 1
> 0.009 <= 0.01 , 0.0095 , 99.60, 4
> 0.01 <= 0.012 , 0.011 , 99.61, 1
> 0.012 <= 0.014 , 0.013 , 99.61, 1
> 0.014 <= 0.016 , 0.015 , 99.71, 14
> 0.016 <= 0.018 , 0.017 , 99.95, 37
> 0.018 <= 0.02 , 0.019 , 99.97, 3
> 0.02 <= 0.0236158 , 0.0218079 , 100.00, 4
# target 50% 0.00179935
# target 75% 0.00222881
# target 90% 0.00265652
# target 99% 0.00565556
# target 99.9% 0.0175676
Ping SERVING : 15000
All done 15000 calls (plus 4 warmup) 1.961 ms avg, 1496.6 qps
Successfully wrote 4742 bytes of Json data to /data/2018-11-19-062104_grpc_istio_1500qps_10s_echo_1_9.json
